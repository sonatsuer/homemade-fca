var Ukt=Object.create;var I7=Object.defineProperty;var Wkt=Object.getOwnPropertyDescriptor;var Gkt=Object.getOwnPropertyNames;var Vkt=Object.getPrototypeOf,Hkt=Object.prototype.hasOwnProperty;var B=(e,t)=>()=>(e&&(t=e(e=0)),t);var _o=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),pr=(e,t)=>{for(var r in t)I7(e,r,{get:t[r],enumerable:!0})},M7=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of Gkt(t))!Hkt.call(e,a)&&a!==r&&I7(e,a,{get:()=>t[a],enumerable:!(n=Wkt(t,a))||n.enumerable});return e},Lr=(e,t,r)=>(M7(e,t,"default"),r&&M7(r,t,"default")),qo=(e,t,r)=>(r=e!=null?Ukt(Vkt(e)):{},M7(t||!e||!e.__esModule?I7(r,"default",{value:e,enumerable:!0}):r,e));var G2,R7=B(()=>{G2={name:"mermaid",version:"11.12.1",description:"Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.",type:"module",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{types:"./dist/mermaid.d.ts",import:"./dist/mermaid.core.mjs",default:"./dist/mermaid.core.mjs"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph","mindmap","packet diagram","c4 diagram","er diagram","pie chart","pie diagram","quadrant chart","requirement diagram","graph"],scripts:{clean:"rimraf dist",dev:"pnpm -w dev","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts","docs:verify":"pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts --verify","docs:pre:vitepress":"pnpm --filter ./src/docs prefetch && rimraf src/vitepress && pnpm docs:code && tsx scripts/docs.cli.mts --vitepress && pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts","docs:build:vitepress":"pnpm docs:pre:vitepress && (cd src/vitepress && pnpm run build) && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing","docs:dev":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:dev:docker":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev:docker" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell "src/docs/**/*.md"',"docs:release-version":"tsx scripts/update-release-version.mts","docs:verify-version":"tsx scripts/update-release-version.mts --verify","types:build-config":"tsx scripts/create-types-from-json-schema.mts","types:verify-config":"tsx scripts/create-types-from-json-schema.mts --verify",checkCircle:"npx madge --circular ./src",prepublishOnly:"pnpm docs:verify-version"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^7.1.1","@iconify/utils":"^3.0.1","@mermaid-js/parser":"workspace:^","@types/d3":"^7.4.3",cytoscape:"^3.29.3","cytoscape-cose-bilkent":"^4.1.0","cytoscape-fcose":"^2.2.0",d3:"^7.9.0","d3-sankey":"^0.12.3","dagre-d3-es":"7.0.13",dayjs:"^1.11.18",dompurify:"^3.2.5",katex:"^0.16.22",khroma:"^2.1.0","lodash-es":"^4.17.21",marked:"^16.2.1",roughjs:"^4.6.6",stylis:"^4.3.6","ts-dedent":"^2.2.0",uuid:"^11.1.0"},devDependencies:{"@adobe/jsonschema2md":"^8.0.5","@iconify/types":"^2.0.0","@types/cytoscape":"^3.21.9","@types/cytoscape-fcose":"^2.2.4","@types/d3-sankey":"^0.12.4","@types/d3-scale":"^4.0.9","@types/d3-scale-chromatic":"^3.1.0","@types/d3-selection":"^3.0.11","@types/d3-shape":"^3.1.7","@types/jsdom":"^21.1.7","@types/katex":"^0.16.7","@types/lodash-es":"^4.17.12","@types/micromatch":"^4.0.9","@types/stylis":"^4.2.7","@types/uuid":"^10.0.0",ajv:"^8.17.1",canvas:"^3.1.2",chokidar:"3.6.0",concurrently:"^9.1.2","csstree-validator":"^4.0.1",globby:"^14.1.0",jison:"^0.4.18","js-base64":"^3.7.8",jsdom:"^26.1.0","json-schema-to-typescript":"^15.0.4",micromatch:"^4.0.8","path-browserify":"^1.0.1",prettier:"^3.5.3",remark:"^15.0.1","remark-frontmatter":"^5.0.0","remark-gfm":"^4.0.1",rimraf:"^6.0.1","start-server-and-test":"^2.0.13","type-fest":"^4.35.0",typedoc:"^0.28.12","typedoc-plugin-markdown":"^4.8.1",typescript:"~5.7.3","unist-util-flatmap":"^1.0.0","unist-util-visit":"^5.0.0",vitepress:"^1.6.4","vitepress-plugin-search":"1.0.4-alpha.22"},files:["dist/","README.md"],publishConfig:{access:"public"}}});var B3=_o((N7,O7)=>{(function(e,t){typeof N7=="object"&&typeof O7<"u"?O7.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self).dayjs=t()})(N7,function(){"use strict";var e=1e3,t=6e4,r=36e5,n="millisecond",a="second",i="minute",o="hour",s="day",l="week",u="month",f="quarter",h="year",d="date",p="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(E){var A=["th","st","nd","rd"],D=E%100;return"["+E+(A[(D-20)%10]||A[D]||A[0])+"]"}},y=function(E,A,D){var R=String(E);return!R||R.length>=A?E:""+Array(A+1-R.length).join(D)+E},b={s:y,z:function(E){var A=-E.utcOffset(),D=Math.abs(A),R=Math.floor(D/60),I=D%60;return(A<=0?"+":"-")+y(R,2,"0")+":"+y(I,2,"0")},m:function E(A,D){if(A.date()<D.date())return-E(D,A);var R=12*(D.year()-A.year())+(D.month()-A.month()),I=A.clone().add(R,u),O=D-I<0,F=A.clone().add(R+(O?-1:1),u);return+(-(R+(D-I)/(O?I-F:F-I))||0)},a:function(E){return E<0?Math.ceil(E)||0:Math.floor(E)},p:function(E){return{M:u,y:h,w:l,d:s,D:d,h:o,m:i,s:a,ms:n,Q:f}[E]||String(E||"").toLowerCase().replace(/s$/,"")},u:function(E){return E===void 0}},_="en",k={};k[_]=v;var w="$isDayjsObject",T=function(E){return E instanceof N||!(!E||!E[w])},S=function E(A,D,R){var I;if(!A)return _;if(typeof A=="string"){var O=A.toLowerCase();k[O]&&(I=O),D&&(k[O]=D,I=O);var F=A.split("-");if(!I&&F.length>1)return E(F[0])}else{var P=A.name;k[P]=A,I=P}return!R&&I&&(_=I),I||!R&&_},C=function(E,A){if(T(E))return E.clone();var D=typeof A=="object"?A:{};return D.date=E,D.args=arguments,new N(D)},M=b;M.l=S,M.i=T,M.w=function(E,A){return C(E,{locale:A.$L,utc:A.$u,x:A.$x,$offset:A.$offset})};var N=function(){function E(D){this.$L=S(D.locale,null,!0),this.parse(D),this.$x=this.$x||D.x||{},this[w]=!0}var A=E.prototype;return A.parse=function(D){this.$d=function(R){var I=R.date,O=R.utc;if(I===null)return new Date(NaN);if(M.u(I))return new Date;if(I instanceof Date)return new Date(I);if(typeof I=="string"&&!/Z$/i.test(I)){var F=I.match(m);if(F){var P=F[2]-1||0,q=(F[7]||"0").substring(0,3);return O?new Date(Date.UTC(F[1],P,F[3]||1,F[4]||0,F[5]||0,F[6]||0,q)):new Date(F[1],P,F[3]||1,F[4]||0,F[5]||0,F[6]||0,q)}}return new Date(I)}(D),this.init()},A.init=function(){var D=this.$d;this.$y=D.getFullYear(),this.$M=D.getMonth(),this.$D=D.getDate(),this.$W=D.getDay(),this.$H=D.getHours(),this.$m=D.getMinutes(),this.$s=D.getSeconds(),this.$ms=D.getMilliseconds()},A.$utils=function(){return M},A.isValid=function(){return this.$d.toString()!==p},A.isSame=function(D,R){var I=C(D);return this.startOf(R)<=I&&I<=this.endOf(R)},A.isAfter=function(D,R){return C(D)<this.startOf(R)},A.isBefore=function(D,R){return this.endOf(R)<C(D)},A.$g=function(D,R,I){return M.u(D)?this[R]:this.set(I,D)},A.unix=function(){return Math.floor(this.valueOf()/1e3)},A.valueOf=function(){return this.$d.getTime()},A.startOf=function(D,R){var I=this,O=!!M.u(R)||R,F=M.p(D),P=function(Z,ct){var rt=M.w(I.$u?Date.UTC(I.$y,ct,Z):new Date(I.$y,ct,Z),I);return O?rt:rt.endOf(s)},q=function(Z,ct){return M.w(I.toDate()[Z].apply(I.toDate("s"),(O?[0,0,0,0]:[23,59,59,999]).slice(ct)),I)},$=this.$W,W=this.$M,X=this.$D,tt="set"+(this.$u?"UTC":"");switch(F){case h:return O?P(1,0):P(31,11);case u:return O?P(1,W):P(0,W+1);case l:var Y=this.$locale().weekStart||0,ot=($<Y?$+7:$)-Y;return P(O?X-ot:X+(6-ot),W);case s:case d:return q(tt+"Hours",0);case o:return q(tt+"Minutes",1);case i:return q(tt+"Seconds",2);case a:return q(tt+"Milliseconds",3);default:return this.clone()}},A.endOf=function(D){return this.startOf(D,!1)},A.$set=function(D,R){var I,O=M.p(D),F="set"+(this.$u?"UTC":""),P=(I={},I[s]=F+"Date",I[d]=F+"Date",I[u]=F+"Month",I[h]=F+"FullYear",I[o]=F+"Hours",I[i]=F+"Minutes",I[a]=F+"Seconds",I[n]=F+"Milliseconds",I)[O],q=O===s?this.$D+(R-this.$W):R;if(O===u||O===h){var $=this.clone().set(d,1);$.$d[P](q),$.init(),this.$d=$.set(d,Math.min(this.$D,$.daysInMonth())).$d}else P&&this.$d[P](q);return this.init(),this},A.set=function(D,R){return this.clone().$set(D,R)},A.get=function(D){return this[M.p(D)]()},A.add=function(D,R){var I,O=this;D=Number(D);var F=M.p(R),P=function(W){var X=C(O);return M.w(X.date(X.date()+Math.round(W*D)),O)};if(F===u)return this.set(u,this.$M+D);if(F===h)return this.set(h,this.$y+D);if(F===s)return P(1);if(F===l)return P(7);var q=(I={},I[i]=t,I[o]=r,I[a]=e,I)[F]||1,$=this.$d.getTime()+D*q;return M.w($,this)},A.subtract=function(D,R){return this.add(-1*D,R)},A.format=function(D){var R=this,I=this.$locale();if(!this.isValid())return I.invalidDate||p;var O=D||"YYYY-MM-DDTHH:mm:ssZ",F=M.z(this),P=this.$H,q=this.$m,$=this.$M,W=I.weekdays,X=I.months,tt=I.meridiem,Y=function(ct,rt,et,Q){return ct&&(ct[rt]||ct(R,O))||et[rt].slice(0,Q)},ot=function(ct){return M.s(P%12||12,ct,"0")},Z=tt||function(ct,rt,et){var Q=ct<12?"AM":"PM";return et?Q.toLowerCase():Q};return O.replace(g,function(ct,rt){return rt||function(et){switch(et){case"YY":return String(R.$y).slice(-2);case"YYYY":return M.s(R.$y,4,"0");case"M":return $+1;case"MM":return M.s($+1,2,"0");case"MMM":return Y(I.monthsShort,$,X,3);case"MMMM":return Y(X,$);case"D":return R.$D;case"DD":return M.s(R.$D,2,"0");case"d":return String(R.$W);case"dd":return Y(I.weekdaysMin,R.$W,W,2);case"ddd":return Y(I.weekdaysShort,R.$W,W,3);case"dddd":return W[R.$W];case"H":return String(P);case"HH":return M.s(P,2,"0");case"h":return ot(1);case"hh":return ot(2);case"a":return Z(P,q,!0);case"A":return Z(P,q,!1);case"m":return String(q);case"mm":return M.s(q,2,"0");case"s":return String(R.$s);case"ss":return M.s(R.$s,2,"0");case"SSS":return M.s(R.$ms,3,"0");case"Z":return F}return null}(ct)||F.replace(":","")})},A.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},A.diff=function(D,R,I){var O,F=this,P=M.p(R),q=C(D),$=(q.utcOffset()-this.utcOffset())*t,W=this-q,X=function(){return M.m(F,q)};switch(P){case h:O=X()/12;break;case u:O=X();break;case f:O=X()/3;break;case l:O=(W-$)/6048e5;break;case s:O=(W-$)/864e5;break;case o:O=W/r;break;case i:O=W/t;break;case a:O=W/e;break;default:O=W}return I?O:M.a(O)},A.daysInMonth=function(){return this.endOf(u).$D},A.$locale=function(){return k[this.$L]},A.locale=function(D,R){if(!D)return this.$L;var I=this.clone(),O=S(D,R,!0);return O&&(I.$L=O),I},A.clone=function(){return M.w(this.$d,this)},A.toDate=function(){return new Date(this.valueOf())},A.toJSON=function(){return this.isValid()?this.toISOString():null},A.toISOString=function(){return this.$d.toISOString()},A.toString=function(){return this.$d.toUTCString()},E}(),L=N.prototype;return C.prototype=L,[["$ms",n],["$s",a],["$m",i],["$H",o],["$W",s],["$M",u],["$y",h],["$D",d]].forEach(function(E){L[E[1]]=function(A){return this.$g(A,E[0],E[1])}}),C.extend=function(E,A){return E.$i||(E(A,N,C),E.$i=!0),C},C.locale=S,C.isDayjs=T,C.unix=function(E){return C(1e3*E)},C.en=k[_],C.Ls=k,C.p={},C})});var gG,mG,x,zh,Tf,J,V2,kl,nr=B(()=>{gG=qo(B3(),1),mG=Object.defineProperty,x=(e,t)=>mG(e,"name",{value:t,configurable:!0}),zh=(e,t)=>{for(var r in t)mG(e,r,{get:t[r],enumerable:!0})},Tf={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},J={trace:x((...e)=>{},"trace"),debug:x((...e)=>{},"debug"),info:x((...e)=>{},"info"),warn:x((...e)=>{},"warn"),error:x((...e)=>{},"error"),fatal:x((...e)=>{},"fatal")},V2=x(function(e="fatal"){let t=Tf.fatal;typeof e=="string"?e.toLowerCase()in Tf&&(t=Tf[e]):typeof e=="number"&&(t=e),J.trace=()=>{},J.debug=()=>{},J.info=()=>{},J.warn=()=>{},J.error=()=>{},J.fatal=()=>{},t<=Tf.fatal&&(J.fatal=console.error?console.error.bind(console,kl("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",kl("FATAL"))),t<=Tf.error&&(J.error=console.error?console.error.bind(console,kl("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",kl("ERROR"))),t<=Tf.warn&&(J.warn=console.warn?console.warn.bind(console,kl("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",kl("WARN"))),t<=Tf.info&&(J.info=console.info?console.info.bind(console,kl("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",kl("INFO"))),t<=Tf.debug&&(J.debug=console.debug?console.debug.bind(console,kl("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",kl("DEBUG"))),t<=Tf.trace&&(J.trace=console.debug?console.debug.bind(console,kl("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",kl("TRACE")))},"setLogLevel"),kl=x(e=>`%c${(0,gG.default)().format("ss.SSS")} : ${e} : `,"format")});var $3,vG,yG=B(()=>{$3={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:e=>e>=255?255:e<0?0:e,g:e=>e>=255?255:e<0?0:e,b:e=>e>=255?255:e<0?0:e,h:e=>e%360,s:e=>e>=100?100:e<0?0:e,l:e=>e>=100?100:e<0?0:e,a:e=>e>=1?1:e<0?0:e},toLinear:e=>{let t=e/255;return e>.03928?Math.pow((t+.055)/1.055,2.4):t/12.92},hue2rgb:(e,t,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<.16666666666666666?e+(t-e)*6*r:r<.5?t:r<.6666666666666666?e+(t-e)*(.6666666666666666-r)*6:e),hsl2rgb:({h:e,s:t,l:r},n)=>{if(!t)return r*2.55;e/=360,t/=100,r/=100;let a=r<.5?r*(1+t):r+t-r*t,i=2*r-a;switch(n){case"r":return $3.hue2rgb(i,a,e+.3333333333333333)*255;case"g":return $3.hue2rgb(i,a,e)*255;case"b":return $3.hue2rgb(i,a,e-.3333333333333333)*255}},rgb2hsl:({r:e,g:t,b:r},n)=>{e/=255,t/=255,r/=255;let a=Math.max(e,t,r),i=Math.min(e,t,r),o=(a+i)/2;if(n==="l")return o*100;if(a===i)return 0;let s=a-i,l=o>.5?s/(2-a-i):s/(a+i);if(n==="s")return l*100;switch(a){case e:return((t-r)/s+(t<r?6:0))*60;case t:return((r-e)/s+2)*60;case r:return((e-t)/s+4)*60;default:return-1}}},vG=$3});var Ykt,xG,bG=B(()=>{Ykt={clamp:(e,t,r)=>t>r?Math.min(t,Math.max(r,e)):Math.min(r,Math.max(t,e)),round:e=>Math.round(e*1e10)/1e10},xG=Ykt});var Xkt,_G,wG=B(()=>{Xkt={dec2hex:e=>{let t=Math.round(e).toString(16);return t.length>1?t:`0${t}`}},_G=Xkt});var jkt,Ve,rc=B(()=>{yG();bG();wG();jkt={channel:vG,lang:xG,unit:_G},Ve=jkt});var Ef,fi,H2=B(()=>{rc();Ef={};for(let e=0;e<=255;e++)Ef[e]=Ve.unit.dec2hex(e);fi={ALL:0,RGB:1,HSL:2}});var F7,TG,EG=B(()=>{H2();F7=class{constructor(){this.type=fi.ALL}get(){return this.type}set(t){if(this.type&&this.type!==t)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=t}reset(){this.type=fi.ALL}is(t){return this.type===t}},TG=F7});var P7,kG,CG=B(()=>{rc();EG();H2();P7=class{constructor(t,r){this.color=r,this.changed=!1,this.data=t,this.type=new TG}set(t,r){return this.color=r,this.changed=!1,this.data=t,this.type.type=fi.ALL,this}_ensureHSL(){let t=this.data,{h:r,s:n,l:a}=t;r===void 0&&(t.h=Ve.channel.rgb2hsl(t,"h")),n===void 0&&(t.s=Ve.channel.rgb2hsl(t,"s")),a===void 0&&(t.l=Ve.channel.rgb2hsl(t,"l"))}_ensureRGB(){let t=this.data,{r,g:n,b:a}=t;r===void 0&&(t.r=Ve.channel.hsl2rgb(t,"r")),n===void 0&&(t.g=Ve.channel.hsl2rgb(t,"g")),a===void 0&&(t.b=Ve.channel.hsl2rgb(t,"b"))}get r(){let t=this.data,r=t.r;return!this.type.is(fi.HSL)&&r!==void 0?r:(this._ensureHSL(),Ve.channel.hsl2rgb(t,"r"))}get g(){let t=this.data,r=t.g;return!this.type.is(fi.HSL)&&r!==void 0?r:(this._ensureHSL(),Ve.channel.hsl2rgb(t,"g"))}get b(){let t=this.data,r=t.b;return!this.type.is(fi.HSL)&&r!==void 0?r:(this._ensureHSL(),Ve.channel.hsl2rgb(t,"b"))}get h(){let t=this.data,r=t.h;return!this.type.is(fi.RGB)&&r!==void 0?r:(this._ensureRGB(),Ve.channel.rgb2hsl(t,"h"))}get s(){let t=this.data,r=t.s;return!this.type.is(fi.RGB)&&r!==void 0?r:(this._ensureRGB(),Ve.channel.rgb2hsl(t,"s"))}get l(){let t=this.data,r=t.l;return!this.type.is(fi.RGB)&&r!==void 0?r:(this._ensureRGB(),Ve.channel.rgb2hsl(t,"l"))}get a(){return this.data.a}set r(t){this.type.set(fi.RGB),this.changed=!0,this.data.r=t}set g(t){this.type.set(fi.RGB),this.changed=!0,this.data.g=t}set b(t){this.type.set(fi.RGB),this.changed=!0,this.data.b=t}set h(t){this.type.set(fi.HSL),this.changed=!0,this.data.h=t}set s(t){this.type.set(fi.HSL),this.changed=!0,this.data.s=t}set l(t){this.type.set(fi.HSL),this.changed=!0,this.data.l=t}set a(t){this.changed=!0,this.data.a=t}},kG=P7});var Kkt,qh,Y2=B(()=>{CG();Kkt=new kG({r:0,g:0,b:0,a:0},"transparent"),qh=Kkt});var SG,$p,B7=B(()=>{Y2();H2();SG={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:e=>{if(e.charCodeAt(0)!==35)return;let t=e.match(SG.re);if(!t)return;let r=t[1],n=parseInt(r,16),a=r.length,i=a%4===0,o=a>4,s=o?1:17,l=o?8:4,u=i?0:-1,f=o?255:15;return qh.set({r:(n>>l*(u+3)&f)*s,g:(n>>l*(u+2)&f)*s,b:(n>>l*(u+1)&f)*s,a:i?(n&f)*s/255:1},e)},stringify:e=>{let{r:t,g:r,b:n,a}=e;return a<1?`#${Ef[Math.round(t)]}${Ef[Math.round(r)]}${Ef[Math.round(n)]}${Ef[Math.round(a*255)]}`:`#${Ef[Math.round(t)]}${Ef[Math.round(r)]}${Ef[Math.round(n)]}`}},$p=SG});var z3,X2,DG=B(()=>{rc();Y2();z3={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:e=>{let t=e.match(z3.hueRe);if(t){let[,r,n]=t;switch(n){case"grad":return Ve.channel.clamp.h(parseFloat(r)*.9);case"rad":return Ve.channel.clamp.h(parseFloat(r)*180/Math.PI);case"turn":return Ve.channel.clamp.h(parseFloat(r)*360)}}return Ve.channel.clamp.h(parseFloat(e))},parse:e=>{let t=e.charCodeAt(0);if(t!==104&&t!==72)return;let r=e.match(z3.re);if(!r)return;let[,n,a,i,o,s]=r;return qh.set({h:z3._hue2deg(n),s:Ve.channel.clamp.s(parseFloat(a)),l:Ve.channel.clamp.l(parseFloat(i)),a:o?Ve.channel.clamp.a(s?parseFloat(o)/100:parseFloat(o)):1},e)},stringify:e=>{let{h:t,s:r,l:n,a}=e;return a<1?`hsla(${Ve.lang.round(t)}, ${Ve.lang.round(r)}%, ${Ve.lang.round(n)}%, ${a})`:`hsl(${Ve.lang.round(t)}, ${Ve.lang.round(r)}%, ${Ve.lang.round(n)}%)`}},X2=z3});var q3,$7,AG=B(()=>{B7();q3={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:e=>{e=e.toLowerCase();let t=q3.colors[e];if(t)return $p.parse(t)},stringify:e=>{let t=$p.stringify(e);for(let r in q3.colors)if(q3.colors[r]===t)return r}},$7=q3});var LG,j2,MG=B(()=>{rc();Y2();LG={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:e=>{let t=e.charCodeAt(0);if(t!==114&&t!==82)return;let r=e.match(LG.re);if(!r)return;let[,n,a,i,o,s,l,u,f]=r;return qh.set({r:Ve.channel.clamp.r(a?parseFloat(n)*2.55:parseFloat(n)),g:Ve.channel.clamp.g(o?parseFloat(i)*2.55:parseFloat(i)),b:Ve.channel.clamp.b(l?parseFloat(s)*2.55:parseFloat(s)),a:u?Ve.channel.clamp.a(f?parseFloat(u)/100:parseFloat(u)):1},e)},stringify:e=>{let{r:t,g:r,b:n,a}=e;return a<1?`rgba(${Ve.lang.round(t)}, ${Ve.lang.round(r)}, ${Ve.lang.round(n)}, ${Ve.lang.round(a)})`:`rgb(${Ve.lang.round(t)}, ${Ve.lang.round(r)}, ${Ve.lang.round(n)})`}},j2=LG});var Qkt,hi,kf=B(()=>{B7();DG();AG();MG();H2();Qkt={format:{keyword:$7,hex:$p,rgb:j2,rgba:j2,hsl:X2,hsla:X2},parse:e=>{if(typeof e!="string")return e;let t=$p.parse(e)||j2.parse(e)||X2.parse(e)||$7.parse(e);if(t)return t;throw new Error(`Unsupported color format: "${e}"`)},stringify:e=>!e.changed&&e.color?e.color:e.type.is(fi.HSL)||e.data.r===void 0?X2.stringify(e):e.a<1||!Number.isInteger(e.r)||!Number.isInteger(e.g)||!Number.isInteger(e.b)?j2.stringify(e):$p.stringify(e)},hi=Qkt});var Zkt,U3,z7=B(()=>{rc();kf();Zkt=(e,t)=>{let r=hi.parse(e);for(let n in t)r[n]=Ve.channel.clamp[n](t[n]);return hi.stringify(r)},U3=Zkt});var Jkt,Uo,q7=B(()=>{rc();Y2();kf();z7();Jkt=(e,t,r=0,n=1)=>{if(typeof e!="number")return U3(e,{a:t});let a=qh.set({r:Ve.channel.clamp.r(e),g:Ve.channel.clamp.g(t),b:Ve.channel.clamp.b(r),a:Ve.channel.clamp.a(n)});return hi.stringify(a)},Uo=Jkt});var tCt,zp,IG=B(()=>{rc();kf();tCt=(e,t)=>Ve.lang.round(hi.parse(e)[t]),zp=tCt});var eCt,RG,NG=B(()=>{rc();kf();eCt=e=>{let{r:t,g:r,b:n}=hi.parse(e),a=.2126*Ve.channel.toLinear(t)+.7152*Ve.channel.toLinear(r)+.0722*Ve.channel.toLinear(n);return Ve.lang.round(a)},RG=eCt});var rCt,OG,FG=B(()=>{NG();rCt=e=>RG(e)>=.5,OG=rCt});var nCt,Gi,PG=B(()=>{FG();nCt=e=>!OG(e),Gi=nCt});var aCt,W3,U7=B(()=>{rc();kf();aCt=(e,t,r)=>{let n=hi.parse(e),a=n[t],i=Ve.channel.clamp[t](a+r);return a!==i&&(n[t]=i),hi.stringify(n)},W3=aCt});var iCt,Ee,BG=B(()=>{U7();iCt=(e,t)=>W3(e,"l",t),Ee=iCt});var oCt,Me,$G=B(()=>{U7();oCt=(e,t)=>W3(e,"l",-t),Me=oCt});var sCt,Ot,zG=B(()=>{kf();z7();sCt=(e,t)=>{let r=hi.parse(e),n={};for(let a in t)t[a]&&(n[a]=r[a]+t[a]);return U3(e,n)},Ot=sCt});var lCt,qG,UG=B(()=>{kf();q7();lCt=(e,t,r=50)=>{let{r:n,g:a,b:i,a:o}=hi.parse(e),{r:s,g:l,b:u,a:f}=hi.parse(t),h=r/100,d=h*2-1,p=o-f,g=((d*p===-1?d:(d+p)/(1+d*p))+1)/2,v=1-g,y=n*g+s*v,b=a*g+l*v,_=i*g+u*v,k=o*h+f*(1-h);return Uo(y,b,_,k)},qG=lCt});var uCt,ye,WG=B(()=>{kf();UG();uCt=(e,t=100)=>{let r=hi.parse(e);return r.r=255-r.r,r.g=255-r.g,r.b=255-r.b,qG(r,e,t)},ye=uCt});var GG=B(()=>{q7();IG();PG();BG();$G();zG();WG()});var Zs=B(()=>{GG()});function Vo(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return Q7(e,t,n)}}function vCt(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Z7(e,r)}}function Or(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:H3;VG&&VG(e,null);let n=t.length;for(;n--;){let a=t[n];if(typeof a=="string"){let i=r(a);i!==a&&(cCt(t)||(t[n]=i),a=i)}e[a]=!0}return e}function yCt(e){for(let t=0;t<e.length;t++)mu(e,t)||(e[t]=null);return e}function Cf(e){let t=K7(null);for(let[r,n]of JG(e))mu(e,r)&&(Array.isArray(n)?t[r]=yCt(n):n&&typeof n=="object"&&n.constructor===Object?t[r]=Cf(n):t[r]=n);return t}function J2(e,t){for(;e!==null;){let n=hCt(e,t);if(n){if(n.get)return Vo(n.get);if(typeof n.value=="function")return Vo(n.value)}e=fCt(e)}function r(){return null}return r}function rV(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ACt(),t=ce=>rV(ce);if(t.version="3.3.0",t.removed=[],!e||!e.document||e.document.nodeType!==tx.document||!e.Element)return t.isSupported=!1,t;let{document:r}=e,n=r,a=n.currentScript,{DocumentFragment:i,HTMLTemplateElement:o,Node:s,Element:l,NodeFilter:u,NamedNodeMap:f=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:h,DOMParser:d,trustedTypes:p}=e,m=l.prototype,g=J2(m,"cloneNode"),v=J2(m,"remove"),y=J2(m,"nextSibling"),b=J2(m,"childNodes"),_=J2(m,"parentNode");if(typeof o=="function"){let ce=r.createElement("template");ce.content&&ce.content.ownerDocument&&(r=ce.content.ownerDocument)}let k,w="",{implementation:T,createNodeIterator:S,createDocumentFragment:C,getElementsByTagName:M}=r,{importNode:N}=n,L=ZG();t.isSupported=typeof JG=="function"&&typeof _=="function"&&T&&T.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:E,ERB_EXPR:A,TMPLIT_EXPR:D,DATA_ATTR:R,ARIA_ATTR:I,IS_SCRIPT_OR_DATA:O,ATTR_WHITESPACE:F,CUSTOM_ELEMENT:P}=QG,{IS_ALLOWED_URI:q}=QG,$=null,W=Or({},[...YG,...H7,...Y7,...X7,...XG]),X=null,tt=Or({},[...jG,...j7,...KG,...V3]),Y=Object.seal(K7(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ot=null,Z=null,ct=Object.seal(K7(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}})),rt=!0,et=!0,Q=!1,j=!0,it=!1,K=!0,dt=!1,nt=!1,_t=!1,V=!1,Ut=!1,pt=!1,Ft=!0,Yt=!1,Ht="user-content-",Lt=!0,Nt=!1,It={},kt=null,Pt=Or({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ht=null,yt=Or({},["audio","video","img","source","image","track"]),H=null,ft=Or({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),z="http://www.w3.org/1998/Math/MathML",st="http://www.w3.org/2000/svg",lt="http://www.w3.org/1999/xhtml",wt=lt,vt=!1,gt=null,Mt=Or({},[z,st,lt],G7),St=Or({},["mi","mo","mn","ms","mtext"]),Bt=Or({},["annotation-xml"]),jt=Or({},["title","style","font","a","script"]),ue=null,Gt=["application/xhtml+xml","text/html"],$t="text/html",Xt=null,Wt=null,ne=r.createElement("form"),Fe=function(Dt){return Dt instanceof RegExp||Dt instanceof Function},de=function(){let Dt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Wt&&Wt===Dt)){if((!Dt||typeof Dt!="object")&&(Dt={}),Dt=Cf(Dt),ue=Gt.indexOf(Dt.PARSER_MEDIA_TYPE)===-1?$t:Dt.PARSER_MEDIA_TYPE,Xt=ue==="application/xhtml+xml"?G7:H3,$=mu(Dt,"ALLOWED_TAGS")?Or({},Dt.ALLOWED_TAGS,Xt):W,X=mu(Dt,"ALLOWED_ATTR")?Or({},Dt.ALLOWED_ATTR,Xt):tt,gt=mu(Dt,"ALLOWED_NAMESPACES")?Or({},Dt.ALLOWED_NAMESPACES,G7):Mt,H=mu(Dt,"ADD_URI_SAFE_ATTR")?Or(Cf(ft),Dt.ADD_URI_SAFE_ATTR,Xt):ft,ht=mu(Dt,"ADD_DATA_URI_TAGS")?Or(Cf(yt),Dt.ADD_DATA_URI_TAGS,Xt):yt,kt=mu(Dt,"FORBID_CONTENTS")?Or({},Dt.FORBID_CONTENTS,Xt):Pt,ot=mu(Dt,"FORBID_TAGS")?Or({},Dt.FORBID_TAGS,Xt):Cf({}),Z=mu(Dt,"FORBID_ATTR")?Or({},Dt.FORBID_ATTR,Xt):Cf({}),It=mu(Dt,"USE_PROFILES")?Dt.USE_PROFILES:!1,rt=Dt.ALLOW_ARIA_ATTR!==!1,et=Dt.ALLOW_DATA_ATTR!==!1,Q=Dt.ALLOW_UNKNOWN_PROTOCOLS||!1,j=Dt.ALLOW_SELF_CLOSE_IN_ATTR!==!1,it=Dt.SAFE_FOR_TEMPLATES||!1,K=Dt.SAFE_FOR_XML!==!1,dt=Dt.WHOLE_DOCUMENT||!1,V=Dt.RETURN_DOM||!1,Ut=Dt.RETURN_DOM_FRAGMENT||!1,pt=Dt.RETURN_TRUSTED_TYPE||!1,_t=Dt.FORCE_BODY||!1,Ft=Dt.SANITIZE_DOM!==!1,Yt=Dt.SANITIZE_NAMED_PROPS||!1,Lt=Dt.KEEP_CONTENT!==!1,Nt=Dt.IN_PLACE||!1,q=Dt.ALLOWED_URI_REGEXP||tV,wt=Dt.NAMESPACE||lt,St=Dt.MATHML_TEXT_INTEGRATION_POINTS||St,Bt=Dt.HTML_INTEGRATION_POINTS||Bt,Y=Dt.CUSTOM_ELEMENT_HANDLING||{},Dt.CUSTOM_ELEMENT_HANDLING&&Fe(Dt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Y.tagNameCheck=Dt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Dt.CUSTOM_ELEMENT_HANDLING&&Fe(Dt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Y.attributeNameCheck=Dt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Dt.CUSTOM_ELEMENT_HANDLING&&typeof Dt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Y.allowCustomizedBuiltInElements=Dt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),it&&(et=!1),Ut&&(V=!0),It&&($=Or({},XG),X=[],It.html===!0&&(Or($,YG),Or(X,jG)),It.svg===!0&&(Or($,H7),Or(X,j7),Or(X,V3)),It.svgFilters===!0&&(Or($,Y7),Or(X,j7),Or(X,V3)),It.mathMl===!0&&(Or($,X7),Or(X,KG),Or(X,V3))),Dt.ADD_TAGS&&(typeof Dt.ADD_TAGS=="function"?ct.tagCheck=Dt.ADD_TAGS:($===W&&($=Cf($)),Or($,Dt.ADD_TAGS,Xt))),Dt.ADD_ATTR&&(typeof Dt.ADD_ATTR=="function"?ct.attributeCheck=Dt.ADD_ATTR:(X===tt&&(X=Cf(X)),Or(X,Dt.ADD_ATTR,Xt))),Dt.ADD_URI_SAFE_ATTR&&Or(H,Dt.ADD_URI_SAFE_ATTR,Xt),Dt.FORBID_CONTENTS&&(kt===Pt&&(kt=Cf(kt)),Or(kt,Dt.FORBID_CONTENTS,Xt)),Lt&&($["#text"]=!0),dt&&Or($,["html","head","body"]),$.table&&(Or($,["tbody"]),delete ot.tbody),Dt.TRUSTED_TYPES_POLICY){if(typeof Dt.TRUSTED_TYPES_POLICY.createHTML!="function")throw Z2('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Dt.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Z2('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');k=Dt.TRUSTED_TYPES_POLICY,w=k.createHTML("")}else k===void 0&&(k=LCt(p,a)),k!==null&&typeof w=="string"&&(w=k.createHTML(""));Go&&Go(Dt),Wt=Dt}},we=Or({},[...H7,...Y7,...xCt]),oe=Or({},[...X7,...bCt]),ie=function(Dt){let te=_(Dt);(!te||!te.tagName)&&(te={namespaceURI:wt,tagName:"template"});let Te=H3(Dt.tagName),Hr=H3(te.tagName);return gt[Dt.namespaceURI]?Dt.namespaceURI===st?te.namespaceURI===lt?Te==="svg":te.namespaceURI===z?Te==="svg"&&(Hr==="annotation-xml"||St[Hr]):!!we[Te]:Dt.namespaceURI===z?te.namespaceURI===lt?Te==="math":te.namespaceURI===st?Te==="math"&&Bt[Hr]:!!oe[Te]:Dt.namespaceURI===lt?te.namespaceURI===st&&!Bt[Hr]||te.namespaceURI===z&&!St[Hr]?!1:!oe[Te]&&(jt[Te]||!we[Te]):!!(ue==="application/xhtml+xml"&&gt[Dt.namespaceURI]):!1},fe=function(Dt){K2(t.removed,{element:Dt});try{_(Dt).removeChild(Dt)}catch{v(Dt)}},pe=function(Dt,te){try{K2(t.removed,{attribute:te.getAttributeNode(Dt),from:te})}catch{K2(t.removed,{attribute:null,from:te})}if(te.removeAttribute(Dt),Dt==="is")if(V||Ut)try{fe(te)}catch{}else try{te.setAttribute(Dt,"")}catch{}},me=function(Dt){let te=null,Te=null;if(_t)Dt="<remove></remove>"+Dt;else{let Wr=V7(Dt,/^[\r\n\t ]+/);Te=Wr&&Wr[0]}ue==="application/xhtml+xml"&&wt===lt&&(Dt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Dt+"</body></html>");let Hr=k?k.createHTML(Dt):Dt;if(wt===lt)try{te=new d().parseFromString(Hr,ue)}catch{}if(!te||!te.documentElement){te=T.createDocument(wt,"template",null);try{te.documentElement.innerHTML=vt?w:Hr}catch{}}let la=te.body||te.documentElement;return Dt&&Te&&la.insertBefore(r.createTextNode(Te),la.childNodes[0]||null),wt===lt?M.call(te,dt?"html":"body")[0]:dt?te.documentElement:la},se=function(Dt){return S.call(Dt.ownerDocument||Dt,Dt,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},Zr=function(Dt){return Dt instanceof h&&(typeof Dt.nodeName!="string"||typeof Dt.textContent!="string"||typeof Dt.removeChild!="function"||!(Dt.attributes instanceof f)||typeof Dt.removeAttribute!="function"||typeof Dt.setAttribute!="function"||typeof Dt.namespaceURI!="string"||typeof Dt.insertBefore!="function"||typeof Dt.hasChildNodes!="function")},Se=function(Dt){return typeof s=="function"&&Dt instanceof s};function Jr(ce,Dt,te){G3(ce,Te=>{Te.call(t,Dt,te,Wt)})}let Ur=function(Dt){let te=null;if(Jr(L.beforeSanitizeElements,Dt,null),Zr(Dt))return fe(Dt),!0;let Te=Xt(Dt.nodeName);if(Jr(L.uponSanitizeElement,Dt,{tagName:Te,allowedTags:$}),K&&Dt.hasChildNodes()&&!Se(Dt.firstElementChild)&&Wo(/<[/\w!]/g,Dt.innerHTML)&&Wo(/<[/\w!]/g,Dt.textContent)||Dt.nodeType===tx.progressingInstruction||K&&Dt.nodeType===tx.comment&&Wo(/<[/\w]/g,Dt.data))return fe(Dt),!0;if(!(ct.tagCheck instanceof Function&&ct.tagCheck(Te))&&(!$[Te]||ot[Te])){if(!ot[Te]&&Je(Te)&&(Y.tagNameCheck instanceof RegExp&&Wo(Y.tagNameCheck,Te)||Y.tagNameCheck instanceof Function&&Y.tagNameCheck(Te)))return!1;if(Lt&&!kt[Te]){let Hr=_(Dt)||Dt.parentNode,la=b(Dt)||Dt.childNodes;if(la&&Hr){let Wr=la.length;for(let Aa=Wr-1;Aa>=0;--Aa){let Wi=g(la[Aa],!0);Wi.__removalCount=(Dt.__removalCount||0)+1,Hr.insertBefore(Wi,y(Dt))}}}return fe(Dt),!0}return Dt instanceof l&&!ie(Dt)||(Te==="noscript"||Te==="noembed"||Te==="noframes")&&Wo(/<\/no(script|embed|frames)/i,Dt.innerHTML)?(fe(Dt),!0):(it&&Dt.nodeType===tx.text&&(te=Dt.textContent,G3([E,A,D],Hr=>{te=Q2(te,Hr," ")}),Dt.textContent!==te&&(K2(t.removed,{element:Dt.cloneNode()}),Dt.textContent=te)),Jr(L.afterSanitizeElements,Dt,null),!1)},rr=function(Dt,te,Te){if(Ft&&(te==="id"||te==="name")&&(Te in r||Te in ne))return!1;if(!(et&&!Z[te]&&Wo(R,te))){if(!(rt&&Wo(I,te))){if(!(ct.attributeCheck instanceof Function&&ct.attributeCheck(te,Dt))){if(!X[te]||Z[te]){if(!(Je(Dt)&&(Y.tagNameCheck instanceof RegExp&&Wo(Y.tagNameCheck,Dt)||Y.tagNameCheck instanceof Function&&Y.tagNameCheck(Dt))&&(Y.attributeNameCheck instanceof RegExp&&Wo(Y.attributeNameCheck,te)||Y.attributeNameCheck instanceof Function&&Y.attributeNameCheck(te,Dt))||te==="is"&&Y.allowCustomizedBuiltInElements&&(Y.tagNameCheck instanceof RegExp&&Wo(Y.tagNameCheck,Te)||Y.tagNameCheck instanceof Function&&Y.tagNameCheck(Te))))return!1}else if(!H[te]){if(!Wo(q,Q2(Te,F,""))){if(!((te==="src"||te==="xlink:href"||te==="href")&&Dt!=="script"&&mCt(Te,"data:")===0&&ht[Dt])){if(!(Q&&!Wo(O,Q2(Te,F,"")))){if(Te)return!1}}}}}}}return!0},Je=function(Dt){return Dt!=="annotation-xml"&&V7(Dt,P)},_r=function(Dt){Jr(L.beforeSanitizeAttributes,Dt,null);let{attributes:te}=Dt;if(!te||Zr(Dt))return;let Te={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:X,forceKeepAttr:void 0},Hr=te.length;for(;Hr--;){let la=te[Hr],{name:Wr,namespaceURI:Aa,value:Wi}=la,ei=Xt(Wr),tn=Wi,Qt=Wr==="value"?tn:gCt(tn);if(Te.attrName=ei,Te.attrValue=Qt,Te.keepAttr=!0,Te.forceKeepAttr=void 0,Jr(L.uponSanitizeAttribute,Dt,Te),Qt=Te.attrValue,Yt&&(ei==="id"||ei==="name")&&(pe(Wr,Dt),Qt=Ht+Qt),K&&Wo(/((--!?|])>)|<\/(style|title|textarea)/i,Qt)){pe(Wr,Dt);continue}if(ei==="attributename"&&V7(Qt,"href")){pe(Wr,Dt);continue}if(Te.forceKeepAttr)continue;if(!Te.keepAttr){pe(Wr,Dt);continue}if(!j&&Wo(/\/>/i,Qt)){pe(Wr,Dt);continue}it&&G3([E,A,D],qe=>{Qt=Q2(Qt,qe," ")});let ve=Xt(Dt.nodeName);if(!rr(ve,ei,Qt)){pe(Wr,Dt);continue}if(k&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!Aa)switch(p.getAttributeType(ve,ei)){case"TrustedHTML":{Qt=k.createHTML(Qt);break}case"TrustedScriptURL":{Qt=k.createScriptURL(Qt);break}}if(Qt!==tn)try{Aa?Dt.setAttributeNS(Aa,Wr,Qt):Dt.setAttribute(Wr,Qt),Zr(Dt)?fe(Dt):HG(t.removed)}catch{pe(Wr,Dt)}}Jr(L.afterSanitizeAttributes,Dt,null)},zn=function ce(Dt){let te=null,Te=se(Dt);for(Jr(L.beforeSanitizeShadowDOM,Dt,null);te=Te.nextNode();)Jr(L.uponSanitizeShadowNode,te,null),Ur(te),_r(te),te.content instanceof i&&ce(te.content);Jr(L.afterSanitizeShadowDOM,Dt,null)};return t.sanitize=function(ce){let Dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},te=null,Te=null,Hr=null,la=null;if(vt=!ce,vt&&(ce="<!-->"),typeof ce!="string"&&!Se(ce))if(typeof ce.toString=="function"){if(ce=ce.toString(),typeof ce!="string")throw Z2("dirty is not a string, aborting")}else throw Z2("toString is not a function");if(!t.isSupported)return ce;if(nt||de(Dt),t.removed=[],typeof ce=="string"&&(Nt=!1),Nt){if(ce.nodeName){let Wi=Xt(ce.nodeName);if(!$[Wi]||ot[Wi])throw Z2("root node is forbidden and cannot be sanitized in-place")}}else if(ce instanceof s)te=me("<!---->"),Te=te.ownerDocument.importNode(ce,!0),Te.nodeType===tx.element&&Te.nodeName==="BODY"||Te.nodeName==="HTML"?te=Te:te.appendChild(Te);else{if(!V&&!it&&!dt&&ce.indexOf("<")===-1)return k&&pt?k.createHTML(ce):ce;if(te=me(ce),!te)return V?null:pt?w:""}te&&_t&&fe(te.firstChild);let Wr=se(Nt?ce:te);for(;Hr=Wr.nextNode();)Ur(Hr),_r(Hr),Hr.content instanceof i&&zn(Hr.content);if(Nt)return ce;if(V){if(Ut)for(la=C.call(te.ownerDocument);te.firstChild;)la.appendChild(te.firstChild);else la=te;return(X.shadowroot||X.shadowrootmode)&&(la=N.call(n,la,!0)),la}let Aa=dt?te.outerHTML:te.innerHTML;return dt&&$["!doctype"]&&te.ownerDocument&&te.ownerDocument.doctype&&te.ownerDocument.doctype.name&&Wo(eV,te.ownerDocument.doctype.name)&&(Aa="<!DOCTYPE "+te.ownerDocument.doctype.name+`>
`+Aa),it&&G3([E,A,D],Wi=>{Aa=Q2(Aa,Wi," ")}),k&&pt?k.createHTML(Aa):Aa},t.setConfig=function(){let ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};de(ce),nt=!0},t.clearConfig=function(){Wt=null,nt=!1},t.isValidAttribute=function(ce,Dt,te){Wt||de({});let Te=Xt(ce),Hr=Xt(Dt);return rr(Te,Hr,te)},t.addHook=function(ce,Dt){typeof Dt=="function"&&K2(L[ce],Dt)},t.removeHook=function(ce,Dt){if(Dt!==void 0){let te=dCt(L[ce],Dt);return te===-1?void 0:pCt(L[ce],te,1)[0]}return HG(L[ce])},t.removeHooks=function(ce){L[ce]=[]},t.removeAllHooks=function(){L=ZG()},t}var JG,VG,cCt,fCt,hCt,Go,Cl,K7,Q7,Z7,G3,dCt,HG,K2,pCt,H3,G7,V7,Q2,mCt,gCt,mu,Wo,Z2,YG,H7,Y7,xCt,X7,bCt,XG,jG,j7,KG,V3,_Ct,wCt,TCt,ECt,kCt,tV,CCt,SCt,eV,DCt,QG,tx,ACt,LCt,ZG,Uh,J7=B(()=>{({entries:JG,setPrototypeOf:VG,isFrozen:cCt,getPrototypeOf:fCt,getOwnPropertyDescriptor:hCt}=Object),{freeze:Go,seal:Cl,create:K7}=Object,{apply:Q7,construct:Z7}=typeof Reflect<"u"&&Reflect;Go||(Go=function(t){return t});Cl||(Cl=function(t){return t});Q7||(Q7=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];return t.apply(r,a)});Z7||(Z7=function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return new t(...n)});G3=Vo(Array.prototype.forEach),dCt=Vo(Array.prototype.lastIndexOf),HG=Vo(Array.prototype.pop),K2=Vo(Array.prototype.push),pCt=Vo(Array.prototype.splice),H3=Vo(String.prototype.toLowerCase),G7=Vo(String.prototype.toString),V7=Vo(String.prototype.match),Q2=Vo(String.prototype.replace),mCt=Vo(String.prototype.indexOf),gCt=Vo(String.prototype.trim),mu=Vo(Object.prototype.hasOwnProperty),Wo=Vo(RegExp.prototype.test),Z2=vCt(TypeError);YG=Go(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),H7=Go(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Y7=Go(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),xCt=Go(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),X7=Go(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),bCt=Go(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),XG=Go(["#text"]),jG=Go(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),j7=Go(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),KG=Go(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),V3=Go(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),_Ct=Cl(/\{\{[\w\W]*|[\w\W]*\}\}/gm),wCt=Cl(/<%[\w\W]*|[\w\W]*%>/gm),TCt=Cl(/\$\{[\w\W]*/gm),ECt=Cl(/^data-[\-\w.\u00B7-\uFFFF]+$/),kCt=Cl(/^aria-[\-\w]+$/),tV=Cl(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),CCt=Cl(/^(?:\w+script|data):/i),SCt=Cl(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),eV=Cl(/^html$/i),DCt=Cl(/^[a-z][.\w]*(-[.\w]+)+$/i),QG=Object.freeze({__proto__:null,ARIA_ATTR:kCt,ATTR_WHITESPACE:SCt,CUSTOM_ELEMENT:DCt,DATA_ATTR:ECt,DOCTYPE_NAME:eV,ERB_EXPR:wCt,IS_ALLOWED_URI:tV,IS_SCRIPT_OR_DATA:CCt,MUSTACHE_EXPR:_Ct,TMPLIT_EXPR:TCt}),tx={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},ACt=function(){return typeof window>"u"?null:window},LCt=function(t,r){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let n=null,a="data-tt-policy-suffix";r&&r.hasAttribute(a)&&(n=r.getAttribute(a));let i="dompurify"+(n?"#"+n:"");try{return t.createPolicy(i,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}},ZG=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};Uh=rV()});var NH={};pr(NH,{ParseError:()=>he,SETTINGS_SCHEMA:()=>ax,__defineFunction:()=>Ce,__defineMacro:()=>ut,__defineSymbol:()=>U,__domTree:()=>RH,__parse:()=>AH,__renderToDomTree:()=>x5,__renderToHTMLTree:()=>MH,__setFontMetrics:()=>FV,default:()=>b6t,render:()=>U8,renderToString:()=>DH,version:()=>IH});function FCt(e){return String(e).replace(OCt,t=>NCt[t])}function zCt(e){if(e.default)return e.default;var t=e.type,r=Array.isArray(t)?t[0]:t;if(typeof r!="string")return r.enum[0];switch(r){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}function YCt(e){for(var t=0;t<d8.length;t++)for(var r=d8[t],n=0;n<r.blocks.length;n++){var a=r.blocks[n];if(e>=a[0]&&e<=a[1])return r.name}return null}function OV(e){for(var t=0;t<a5.length;t+=2)if(e>=a5[t]&&e<=a5[t+1])return!0;return!1}function FV(e,t){ic[e]=t}function C8(e,t,r){if(!ic[t])throw new Error("Font metrics not found for font: "+t+".");var n=e.charCodeAt(0),a=ic[t][n];if(!a&&e[0]in aV&&(n=aV[e[0]].charCodeAt(0),a=ic[t][n]),!a&&r==="text"&&OV(n)&&(a=ic[t][77]),a)return{depth:a[0],height:a[1],italic:a[2],skew:a[3],width:a[4]}}function aSt(e){var t;if(e>=5?t=0:e>=3?t=1:t=2,!t8[t]){var r=t8[t]={cssEmPerMu:Y3.quad[t]/18};for(var n in Y3)Y3.hasOwnProperty(n)&&(r[n]=Y3[n][t])}return t8[t]}function sV(e){if(e instanceof Es)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}function uSt(e){if(e instanceof Wp)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}function U(e,t,r,n,a,i){ea[e][a]={font:t,group:r,replace:n},i&&n&&(ea[e][n]=ea[e][a])}function Ce(e){for(var{type:t,names:r,props:n,handler:a,htmlBuilder:i,mathmlBuilder:o}=e,s={type:t,numArgs:n.numArgs,argTypes:n.argTypes,allowedInArgument:!!n.allowedInArgument,allowedInText:!!n.allowedInText,allowedInMath:n.allowedInMath===void 0?!0:n.allowedInMath,numOptionalArgs:n.numOptionalArgs||0,infix:!!n.infix,primitive:!!n.primitive,handler:a},l=0;l<r.length;++l)HV[r[l]]=s;t&&(i&&(l5[t]=i),o&&(u5[t]=o))}function Gp(e){var{type:t,htmlBuilder:r,mathmlBuilder:n}=e;Ce({type:t,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:r,mathmlBuilder:n})}function t5(e,t){var r=Mf(["base"],e,t),n=Mf(["strut"]);return n.style.height=xe(r.height+r.depth),r.depth&&(n.style.verticalAlign=xe(-r.depth)),r.children.unshift(n),r}function y8(e,t){var r=null;e.length===1&&e[0].type==="tag"&&(r=e[0].tag,e=e[0].body);var n=di(e,t,"root"),a;n.length===2&&n[1].hasClass("tag")&&(a=n.pop());for(var i=[],o=[],s=0;s<n.length;s++)if(o.push(n[s]),n[s].hasClass("mbin")||n[s].hasClass("mrel")||n[s].hasClass("allowbreak")){for(var l=!1;s<n.length-1&&n[s+1].hasClass("mspace")&&!n[s+1].hasClass("newline");)s++,o.push(n[s]),n[s].hasClass("nobreak")&&(l=!0);l||(i.push(t5(o,t)),o=[])}else n[s].hasClass("newline")&&(o.pop(),o.length>0&&(i.push(t5(o,t)),o=[]),i.push(n[s]));o.length>0&&i.push(t5(o,t));var u;r?(u=t5(di(r,t,!0)),u.classes=["tag"],i.push(u)):a&&i.push(a);var f=Mf(["katex-html"],i);if(f.setAttribute("aria-hidden","true"),u){var h=u.children[0];h.style.height=xe(f.height+f.depth),f.depth&&(h.style.verticalAlign=xe(-f.depth))}return f}function XV(e){return new Up(e)}function n8(e){if(!e)return!1;if(e.type==="mi"&&e.children.length===1){var t=e.children[0];return t instanceof Dl&&t.text==="."}else if(e.type==="mo"&&e.children.length===1&&e.getAttribute("separator")==="true"&&e.getAttribute("lspace")==="0em"&&e.getAttribute("rspace")==="0em"){var r=e.children[0];return r instanceof Dl&&r.text===","}else return!1}function hV(e,t,r,n,a){var i=ks(e,r),o;i.length===1&&i[0]instanceof Ho&&["mrow","mtable"].includes(i[0].type)?o=i[0]:o=new le.MathNode("mrow",i);var s=new le.MathNode("annotation",[new le.TextNode(t)]);s.setAttribute("encoding","application/x-tex");var l=new le.MathNode("semantics",[o,s]),u=new le.MathNode("math",[l]);u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),n&&u.setAttribute("display","block");var f=a?"katex":"katex-mathml";return zt.makeSpan([f],[u])}function gr(e,t){if(!e||e.type!==t)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return e}function L8(e){var t=m5(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}function m5(e){return e&&(e.type==="atom"||fSt.hasOwnProperty(e.type))?e:null}function ZV(e,t){var r=di(e.body,t,!0);return qSt([e.mclass],r,t)}function JV(e,t){var r,n=ks(e.body,t);return e.mclass==="minner"?r=new le.MathNode("mpadded",n):e.mclass==="mord"?e.isCharacterBox?(r=n[0],r.type="mi"):r=new le.MathNode("mi",n):(e.isCharacterBox?(r=n[0],r.type="mo"):r=new le.MathNode("mo",n),e.mclass==="mbin"?(r.attributes.lspace="0.22em",r.attributes.rspace="0.22em"):e.mclass==="mpunct"?(r.attributes.lspace="0em",r.attributes.rspace="0.17em"):e.mclass==="mopen"||e.mclass==="mclose"?(r.attributes.lspace="0em",r.attributes.rspace="0em"):e.mclass==="minner"&&(r.attributes.lspace="0.0556em",r.attributes.width="+0.1111em")),r}function GSt(e,t,r){var n=USt[e];switch(n){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return r.callFunction(n,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":{var a=r.callFunction("\\\\cdleft",[t[0]],[]),i={type:"atom",text:n,mode:"math",family:"rel"},o=r.callFunction("\\Big",[i],[]),s=r.callFunction("\\\\cdright",[t[1]],[]),l={type:"ordgroup",mode:"math",body:[a,o,s]};return r.callFunction("\\\\cdparent",[l],[])}case"\\\\cdlongequal":return r.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var u={type:"textord",text:"\\Vert",mode:"math"};return r.callFunction("\\Big",[u],[])}default:return{type:"textord",text:" ",mode:"math"}}}function VSt(e){var t=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;){t.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();var r=e.fetch().text;if(r==="&"||r==="\\\\")e.consume();else if(r==="\\end"){t[t.length-1].length===0&&t.pop();break}else throw new he("Expected \\\\ or \\cr or \\end",e.nextToken)}for(var n=[],a=[n],i=0;i<t.length;i++){for(var o=t[i],s=dV(),l=0;l<o.length;l++)if(!pV(o[l]))s.body.push(o[l]);else{n.push(s),l+=1;var u=L8(o[l]).text,f=new Array(2);if(f[0]={type:"ordgroup",mode:"math",body:[]},f[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(u)>-1))if("<>AV".indexOf(u)>-1)for(var h=0;h<2;h++){for(var d=!0,p=l+1;p<o.length;p++){if(WSt(o[p],u)){d=!1,l=p;break}if(pV(o[p]))throw new he("Missing a "+u+" character to complete a CD arrow.",o[p]);f[h].body.push(o[p])}if(d)throw new he("Missing a "+u+" character to complete a CD arrow.",o[l])}else throw new he('Expected one of "<>AV=|." after @',o[l]);var m=GSt(u,f,e),g={type:"styling",body:[m],mode:"math",style:"display"};n.push(g),s=dV()}i%2===0?n.push(s):n.shift(),n=[],a.push(n)}e.gullet.endGroup(),e.gullet.endGroup();var v=new Array(a[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:a,arraystretch:1,addJot:!0,rowGaps:[null],cols:v,colSeparationType:"CD",hLinesBeforeRow:new Array(a.length+1).fill([])}}function v5(e,t){var r=m5(e);if(r&&a6t.includes(r.text))return r;throw r?new he("Invalid delimiter '"+r.text+"' after '"+t.funcName+"'",e):new he("Invalid delimiter type '"+e.type+"'",e)}function gV(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}function sc(e){for(var{type:t,names:r,props:n,handler:a,htmlBuilder:i,mathmlBuilder:o}=e,s={type:t,numArgs:n.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:a},l=0;l<r.length;++l)hH[r[l]]=s;i&&(l5[t]=i),o&&(u5[t]=o)}function ut(e,t){dH[e]=t}function vV(e){var t=[];e.consumeSpaces();var r=e.fetch().text;for(r==="\\relax"&&(e.consume(),e.consumeSpaces(),r=e.fetch().text);r==="\\hline"||r==="\\hdashline";)e.consume(),t.push(r==="\\hdashline"),e.consumeSpaces(),r=e.fetch().text;return t}function O8(e){if(e.indexOf("ed")===-1)return e.indexOf("*")===-1}function Yh(e,t,r){var{hskipBeforeAndAfter:n,addJot:a,cols:i,arraystretch:o,colSeparationType:s,autoTag:l,singleRow:u,emptySingleRow:f,maxNumCols:h,leqno:d}=t;if(e.gullet.beginGroup(),u||e.gullet.macros.set("\\cr","\\\\\\relax"),!o){var p=e.gullet.expandMacroAsText("\\arraystretch");if(p==null)o=1;else if(o=parseFloat(p),!o||o<0)throw new he("Invalid \\arraystretch: "+p)}e.gullet.beginGroup();var m=[],g=[m],v=[],y=[],b=l!=null?[]:void 0;function _(){l&&e.gullet.macros.set("\\@eqnsw","1",!0)}function k(){b&&(e.gullet.macros.get("\\df@tag")?(b.push(e.subparse([new Js("\\df@tag")])),e.gullet.macros.set("\\df@tag",void 0,!0)):b.push(!!l&&e.gullet.macros.get("\\@eqnsw")==="1"))}for(_(),y.push(vV(e));;){var w=e.parseExpression(!1,u?"\\end":"\\\\");e.gullet.endGroup(),e.gullet.beginGroup(),w={type:"ordgroup",mode:e.mode,body:w},r&&(w={type:"styling",mode:e.mode,style:r,body:[w]}),m.push(w);var T=e.fetch().text;if(T==="&"){if(h&&m.length===h){if(u||s)throw new he("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else if(T==="\\end"){k(),m.length===1&&w.type==="styling"&&w.body[0].body.length===0&&(g.length>1||!f)&&g.pop(),y.length<g.length+1&&y.push([]);break}else if(T==="\\\\"){e.consume();var S=void 0;e.gullet.future().text!==" "&&(S=e.parseSizeGroup(!0)),v.push(S?S.value:null),k(),y.push(vV(e)),m=[],g.push(m),_()}else throw new he("Expected & or \\\\ or \\cr or \\end",e.nextToken)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:a,arraystretch:o,body:g,cols:i,rowGaps:v,hskipBeforeAndAfter:n,hLinesBeforeRow:y,colSeparationType:s,tags:b,leqno:d}}function F8(e){return e.slice(0,1)==="d"?"display":"text"}function wH(e,t,r){for(var n=di(e,t,!1),a=t.sizeMultiplier/r.sizeMultiplier,i=0;i<n.length;i++){var o=n[i].classes.indexOf("sizing");o<0?Array.prototype.push.apply(n[i].classes,t.sizingClasses(r)):n[i].classes[o+1]==="reset-size"+t.size&&(n[i].classes[o+1]="reset-size"+r.size),n[i].height*=a,n[i].depth*=a}return zt.makeFragment(n)}var Ts,Js,he,MCt,ICt,RCt,NCt,OCt,NV,PCt,BCt,$Ct,pn,ax,ox,nc,k8,i5,vg,Af,sx,Sl,yg,Yo,ac,qCt,UCt,WCt,GCt,VCt,HCt,Ke,d8,a5,gg,XCt,jCt,KCt,QCt,ZCt,JCt,tSt,eSt,rSt,nV,nSt,Up,ic,Y3,aV,t8,iSt,iV,oV,o5,p8,oSt,PV,Ia,xe,Vh,BV,$V,sSt,zV,Wp,lx,m8,lSt,Es,vu,oc,ux,cSt,fSt,ea,G,re,at,Tt,ga,Le,Xo,xg,je,ri,tl,d5,Et,Rf,At,qV,lV,e8,X3,uV,r8,j3,s5,ex,K3,ar,La,wo,Sf,Wh,g8,rx,Q3,Z3,cV,hSt,p5,gu,dSt,pSt,mSt,gSt,vSt,S8,ws,UV,ySt,xSt,WV,bSt,_St,wSt,TSt,J3,GV,VV,ESt,zt,Ma,qp,Df,kSt,CSt,HV,l5,u5,c5,Xa,Mf,SSt,DSt,ASt,LSt,di,fV,YV,MSt,v8,cx,an,Ho,Dl,x8,le,Al,D8,A8,ks,Hh,Gn,jV,KV,ISt,RSt,NSt,OSt,FSt,PSt,BSt,$St,If,M8,QV,zSt,e5,qSt,g5,USt,dV,pV,WSt,tH,eH,b8,rH,HSt,nH,nx,I8,aH,YSt,XSt,iH,a8,i8,_8,r5,jSt,KSt,oH,o8,s8,l8,QSt,sH,ZSt,lH,ix,JSt,t6t,e6t,uH,r6t,cH,fH,n6t,Lf,mV,a6t,R8,N8,hH,dH,y5,lc,i6t,uc,pH,yV,mH,gH,xV,vH,P8,B8,bV,_V,yH,o6t,u8,wV,xH,bH,bg,fx,s6t,l6t,_H,u6t,TV,c6t,EV,f6t,TH,c8,f8,kV,CV,SV,h6t,DV,AV,Gh,EH,d6t,p6t,m6t,g6t,w8,v6t,y6t,f5,T8,x6t,LV,$8,MV,z8,kH,CH,SH,E8,IV,n5,h8,RV,h5,q8,U8,DH,AH,LH,x5,MH,IH,RH,b6t,OH=B(()=>{Ts=class e{constructor(t,r,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=t,this.start=r,this.end=n}static range(t,r){return r?!t||!t.loc||!r.loc||t.loc.lexer!==r.loc.lexer?null:new e(t.loc.lexer,t.loc.start,r.loc.end):t&&t.loc}},Js=class e{constructor(t,r){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=t,this.loc=r}range(t,r){return new e(r,Ts.range(this,t))}},he=class e{constructor(t,r){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var n="KaTeX parse error: "+t,a,i,o=r&&r.loc;if(o&&o.start<=o.end){var s=o.lexer.input;a=o.start,i=o.end,a===s.length?n+=" at end of input: ":n+=" at position "+(a+1)+": ";var l=s.slice(a,i).replace(/[^]/g,"$&\u0332"),u;a>15?u="\u2026"+s.slice(a-15,a):u=s.slice(0,a);var f;i+15<s.length?f=s.slice(i,i+15)+"\u2026":f=s.slice(i),n+=u+l+f}var h=new Error(n);return h.name="ParseError",h.__proto__=e.prototype,h.position=a,a!=null&&i!=null&&(h.length=i-a),h.rawMessage=t,h}};he.prototype.__proto__=Error.prototype;MCt=function(t,r){return t===void 0?r:t},ICt=/([A-Z])/g,RCt=function(t){return t.replace(ICt,"-$1").toLowerCase()},NCt={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},OCt=/[&><"']/g;NV=function e(t){return t.type==="ordgroup"||t.type==="color"?t.body.length===1?e(t.body[0]):t:t.type==="font"?e(t.body):t},PCt=function(t){var r=NV(t);return r.type==="mathord"||r.type==="textord"||r.type==="atom"},BCt=function(t){if(!t)throw new Error("Expected non-null, but got "+String(t));return t},$Ct=function(t){var r=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(t);return r?r[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(r[1])?null:r[1].toLowerCase():"_relative"},pn={deflt:MCt,escape:FCt,hyphenate:RCt,getBaseElem:NV,isCharacterBox:PCt,protocolFromUrl:$Ct},ax={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:e=>"#"+e},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(e,t)=>(t.push(e),t)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:e=>Math.max(0,e),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:e=>Math.max(0,e),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:e=>Math.max(0,e),cli:"-e, --max-expand <n>",cliProcessor:e=>e==="Infinity"?1/0:parseInt(e)},globalGroup:{type:"boolean",cli:!1}};ox=class{constructor(t){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,t=t||{};for(var r in ax)if(ax.hasOwnProperty(r)){var n=ax[r];this[r]=t[r]!==void 0?n.processor?n.processor(t[r]):t[r]:zCt(n)}}reportNonstrict(t,r,n){var a=this.strict;if(typeof a=="function"&&(a=a(t,r,n)),!(!a||a==="ignore")){if(a===!0||a==="error")throw new he("LaTeX-incompatible input and strict mode is set to 'error': "+(r+" ["+t+"]"),n);a==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+t+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+a+"': "+r+" ["+t+"]"))}}useStrictBehavior(t,r,n){var a=this.strict;if(typeof a=="function")try{a=a(t,r,n)}catch{a="error"}return!a||a==="ignore"?!1:a===!0||a==="error"?!0:a==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+t+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+a+"': "+r+" ["+t+"]")),!1)}isTrusted(t){if(t.url&&!t.protocol){var r=pn.protocolFromUrl(t.url);if(r==null)return!1;t.protocol=r}var n=typeof this.trust=="function"?this.trust(t):this.trust;return!!n}},nc=class{constructor(t,r,n){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=t,this.size=r,this.cramped=n}sup(){return ac[qCt[this.id]]}sub(){return ac[UCt[this.id]]}fracNum(){return ac[WCt[this.id]]}fracDen(){return ac[GCt[this.id]]}cramp(){return ac[VCt[this.id]]}text(){return ac[HCt[this.id]]}isTight(){return this.size>=2}},k8=0,i5=1,vg=2,Af=3,sx=4,Sl=5,yg=6,Yo=7,ac=[new nc(k8,0,!1),new nc(i5,0,!0),new nc(vg,1,!1),new nc(Af,1,!0),new nc(sx,2,!1),new nc(Sl,2,!0),new nc(yg,3,!1),new nc(Yo,3,!0)],qCt=[sx,Sl,sx,Sl,yg,Yo,yg,Yo],UCt=[Sl,Sl,Sl,Sl,Yo,Yo,Yo,Yo],WCt=[vg,Af,sx,Sl,yg,Yo,yg,Yo],GCt=[Af,Af,Sl,Sl,Yo,Yo,Yo,Yo],VCt=[i5,i5,Af,Af,Sl,Sl,Yo,Yo],HCt=[k8,i5,vg,Af,vg,Af,vg,Af],Ke={DISPLAY:ac[k8],TEXT:ac[vg],SCRIPT:ac[sx],SCRIPTSCRIPT:ac[yg]},d8=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];a5=[];d8.forEach(e=>e.blocks.forEach(t=>a5.push(...t)));gg=80,XCt=function(t,r){return"M95,"+(622+t+r)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+t/2.075+" -"+t+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+t)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+t)+" "+r+"h400000v"+(40+t)+"h-400000z"},jCt=function(t,r){return"M263,"+(601+t+r)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+t/2.084+" -"+t+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+t)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+t)+" "+r+"h400000v"+(40+t)+"h-400000z"},KCt=function(t,r){return"M983 "+(10+t+r)+`
l`+t/3.13+" -"+t+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+t)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+t)+" "+r+"h400000v"+(40+t)+"h-400000z"},QCt=function(t,r){return"M424,"+(2398+t+r)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+t/4.223+" -"+t+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+t)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+t)+" "+r+`
h400000v`+(40+t)+"h-400000z"},ZCt=function(t,r){return"M473,"+(2713+t+r)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+t/5.298+" -"+t+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+t)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+t)+" "+r+"h400000v"+(40+t)+"H1017.7z"},JCt=function(t){var r=t/2;return"M400000 "+t+" H0 L"+r+" 0 l65 45 L145 "+(t-80)+" H400000z"},tSt=function(t,r,n){var a=n-54-r-t;return"M702 "+(t+r)+"H400000"+(40+t)+`
H742v`+a+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+r+"H400000v"+(40+t)+"H742z"},eSt=function(t,r,n){r=1e3*r;var a="";switch(t){case"sqrtMain":a=XCt(r,gg);break;case"sqrtSize1":a=jCt(r,gg);break;case"sqrtSize2":a=KCt(r,gg);break;case"sqrtSize3":a=QCt(r,gg);break;case"sqrtSize4":a=ZCt(r,gg);break;case"sqrtTall":a=tSt(r,gg,n)}return a},rSt=function(t,r){switch(t){case"\u239C":return"M291 0 H417 V"+r+" H291z M291 0 H417 V"+r+" H291z";case"\u2223":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z";case"\u2225":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z"+("M367 0 H410 V"+r+" H367z M367 0 H410 V"+r+" H367z");case"\u239F":return"M457 0 H583 V"+r+" H457z M457 0 H583 V"+r+" H457z";case"\u23A2":return"M319 0 H403 V"+r+" H319z M319 0 H403 V"+r+" H319z";case"\u23A5":return"M263 0 H347 V"+r+" H263z M263 0 H347 V"+r+" H263z";case"\u23AA":return"M384 0 H504 V"+r+" H384z M384 0 H504 V"+r+" H384z";case"\u23D0":return"M312 0 H355 V"+r+" H312z M312 0 H355 V"+r+" H312z";case"\u2016":return"M257 0 H300 V"+r+" H257z M257 0 H300 V"+r+" H257z"+("M478 0 H521 V"+r+" H478z M478 0 H521 V"+r+" H478z");default:return""}},nV={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},nSt=function(t,r){switch(t){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+r+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+r+" v1759 h84z";case"vert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+" v585 h43z";case"doublevert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+` v585 h43z
M367 15 v585 v`+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+r+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+r+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+r+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v602 h84z
M403 1759 V0 H319 V1759 v`+r+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v602 h84z
M347 1759 V0 h-84 V1759 v`+r+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(r+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(r+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(r+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(r+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}},Up=class{constructor(t){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=t,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(t){return this.classes.includes(t)}toNode(){for(var t=document.createDocumentFragment(),r=0;r<this.children.length;r++)t.appendChild(this.children[r].toNode());return t}toMarkup(){for(var t="",r=0;r<this.children.length;r++)t+=this.children[r].toMarkup();return t}toText(){var t=r=>r.toText();return this.children.map(t).join("")}},ic={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},Y3={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},aV={\u00C5:"A",\u00D0:"D",\u00DE:"o",\u00E5:"a",\u00F0:"d",\u00FE:"o",\u0410:"A",\u0411:"B",\u0412:"B",\u0413:"F",\u0414:"A",\u0415:"E",\u0416:"K",\u0417:"3",\u0418:"N",\u0419:"N",\u041A:"K",\u041B:"N",\u041C:"M",\u041D:"H",\u041E:"O",\u041F:"N",\u0420:"P",\u0421:"C",\u0422:"T",\u0423:"y",\u0424:"O",\u0425:"X",\u0426:"U",\u0427:"h",\u0428:"W",\u0429:"W",\u042A:"B",\u042B:"X",\u042C:"B",\u042D:"3",\u042E:"X",\u042F:"R",\u0430:"a",\u0431:"b",\u0432:"a",\u0433:"r",\u0434:"y",\u0435:"e",\u0436:"m",\u0437:"e",\u0438:"n",\u0439:"n",\u043A:"n",\u043B:"n",\u043C:"m",\u043D:"n",\u043E:"o",\u043F:"n",\u0440:"p",\u0441:"c",\u0442:"o",\u0443:"y",\u0444:"b",\u0445:"x",\u0446:"n",\u0447:"n",\u0448:"w",\u0449:"w",\u044A:"a",\u044B:"m",\u044C:"a",\u044D:"e",\u044E:"m",\u044F:"r"};t8={};iSt=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],iV=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],oV=function(t,r){return r.size<2?t:iSt[t-1][r.size-1]},o5=class e{constructor(t){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=t.style,this.color=t.color,this.size=t.size||e.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||"",this.fontFamily=t.fontFamily||"",this.fontWeight=t.fontWeight||"",this.fontShape=t.fontShape||"",this.sizeMultiplier=iV[this.size-1],this.maxSize=t.maxSize,this.minRuleThickness=t.minRuleThickness,this._fontMetrics=void 0}extend(t){var r={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);return new e(r)}havingStyle(t){return this.style===t?this:this.extend({style:t,size:oV(this.textSize,t)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(t){return this.size===t&&this.textSize===t?this:this.extend({style:this.style.text(),size:t,textSize:t,sizeMultiplier:iV[t-1]})}havingBaseStyle(t){t=t||this.style.text();var r=oV(e.BASESIZE,t);return this.size===r&&this.textSize===e.BASESIZE&&this.style===t?this:this.extend({style:t,size:r})}havingBaseSizing(){var t;switch(this.style.id){case 4:case 5:t=3;break;case 6:case 7:t=1;break;default:t=6}return this.extend({style:this.style.text(),size:t})}withColor(t){return this.extend({color:t})}withPhantom(){return this.extend({phantom:!0})}withFont(t){return this.extend({font:t})}withTextFontFamily(t){return this.extend({fontFamily:t,font:""})}withTextFontWeight(t){return this.extend({fontWeight:t,font:""})}withTextFontShape(t){return this.extend({fontShape:t,font:""})}sizingClasses(t){return t.size!==this.size?["sizing","reset-size"+t.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==e.BASESIZE?["sizing","reset-size"+this.size,"size"+e.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=aSt(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}};o5.BASESIZE=6;p8={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},oSt={ex:!0,em:!0,mu:!0},PV=function(t){return typeof t!="string"&&(t=t.unit),t in p8||t in oSt||t==="ex"},Ia=function(t,r){var n;if(t.unit in p8)n=p8[t.unit]/r.fontMetrics().ptPerEm/r.sizeMultiplier;else if(t.unit==="mu")n=r.fontMetrics().cssEmPerMu;else{var a;if(r.style.isTight()?a=r.havingStyle(r.style.text()):a=r,t.unit==="ex")n=a.fontMetrics().xHeight;else if(t.unit==="em")n=a.fontMetrics().quad;else throw new he("Invalid unit: '"+t.unit+"'");a!==r&&(n*=a.sizeMultiplier/r.sizeMultiplier)}return Math.min(t.number*n,r.maxSize)},xe=function(t){return+t.toFixed(4)+"em"},Vh=function(t){return t.filter(r=>r).join(" ")},BV=function(t,r,n){if(this.classes=t||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},r){r.style.isTight()&&this.classes.push("mtight");var a=r.getColor();a&&(this.style.color=a)}},$V=function(t){var r=document.createElement(t);r.className=Vh(this.classes);for(var n in this.style)this.style.hasOwnProperty(n)&&(r.style[n]=this.style[n]);for(var a in this.attributes)this.attributes.hasOwnProperty(a)&&r.setAttribute(a,this.attributes[a]);for(var i=0;i<this.children.length;i++)r.appendChild(this.children[i].toNode());return r},sSt=/[\s"'>/=\x00-\x1f]/,zV=function(t){var r="<"+t;this.classes.length&&(r+=' class="'+pn.escape(Vh(this.classes))+'"');var n="";for(var a in this.style)this.style.hasOwnProperty(a)&&(n+=pn.hyphenate(a)+":"+this.style[a]+";");n&&(r+=' style="'+pn.escape(n)+'"');for(var i in this.attributes)if(this.attributes.hasOwnProperty(i)){if(sSt.test(i))throw new he("Invalid attribute name '"+i+"'");r+=" "+i+'="'+pn.escape(this.attributes[i])+'"'}r+=">";for(var o=0;o<this.children.length;o++)r+=this.children[o].toMarkup();return r+="</"+t+">",r},Wp=class{constructor(t,r,n,a){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,BV.call(this,t,n,a),this.children=r||[]}setAttribute(t,r){this.attributes[t]=r}hasClass(t){return this.classes.includes(t)}toNode(){return $V.call(this,"span")}toMarkup(){return zV.call(this,"span")}},lx=class{constructor(t,r,n,a){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,BV.call(this,r,a),this.children=n||[],this.setAttribute("href",t)}setAttribute(t,r){this.attributes[t]=r}hasClass(t){return this.classes.includes(t)}toNode(){return $V.call(this,"a")}toMarkup(){return zV.call(this,"a")}},m8=class{constructor(t,r,n){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=r,this.src=t,this.classes=["mord"],this.style=n}hasClass(t){return this.classes.includes(t)}toNode(){var t=document.createElement("img");t.src=this.src,t.alt=this.alt,t.className="mord";for(var r in this.style)this.style.hasOwnProperty(r)&&(t.style[r]=this.style[r]);return t}toMarkup(){var t='<img src="'+pn.escape(this.src)+'"'+(' alt="'+pn.escape(this.alt)+'"'),r="";for(var n in this.style)this.style.hasOwnProperty(n)&&(r+=pn.hyphenate(n)+":"+this.style[n]+";");return r&&(t+=' style="'+pn.escape(r)+'"'),t+="'/>",t}},lSt={\u00EE:"\u0131\u0302",\u00EF:"\u0131\u0308",\u00ED:"\u0131\u0301",\u00EC:"\u0131\u0300"},Es=class{constructor(t,r,n,a,i,o,s,l){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=t,this.height=r||0,this.depth=n||0,this.italic=a||0,this.skew=i||0,this.width=o||0,this.classes=s||[],this.style=l||{},this.maxFontSize=0;var u=YCt(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[]/.test(this.text)&&(this.text=lSt[this.text])}hasClass(t){return this.classes.includes(t)}toNode(){var t=document.createTextNode(this.text),r=null;this.italic>0&&(r=document.createElement("span"),r.style.marginRight=xe(this.italic)),this.classes.length>0&&(r=r||document.createElement("span"),r.className=Vh(this.classes));for(var n in this.style)this.style.hasOwnProperty(n)&&(r=r||document.createElement("span"),r.style[n]=this.style[n]);return r?(r.appendChild(t),r):t}toMarkup(){var t=!1,r="<span";this.classes.length&&(t=!0,r+=' class="',r+=pn.escape(Vh(this.classes)),r+='"');var n="";this.italic>0&&(n+="margin-right:"+this.italic+"em;");for(var a in this.style)this.style.hasOwnProperty(a)&&(n+=pn.hyphenate(a)+":"+this.style[a]+";");n&&(t=!0,r+=' style="'+pn.escape(n)+'"');var i=pn.escape(this.text);return t?(r+=">",r+=i,r+="</span>",r):i}},vu=class{constructor(t,r){this.children=void 0,this.attributes=void 0,this.children=t||[],this.attributes=r||{}}toNode(){var t="http://www.w3.org/2000/svg",r=document.createElementNS(t,"svg");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&r.setAttribute(n,this.attributes[n]);for(var a=0;a<this.children.length;a++)r.appendChild(this.children[a].toNode());return r}toMarkup(){var t='<svg xmlns="http://www.w3.org/2000/svg"';for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(t+=" "+r+'="'+pn.escape(this.attributes[r])+'"');t+=">";for(var n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t+="</svg>",t}},oc=class{constructor(t,r){this.pathName=void 0,this.alternate=void 0,this.pathName=t,this.alternate=r}toNode(){var t="http://www.w3.org/2000/svg",r=document.createElementNS(t,"path");return this.alternate?r.setAttribute("d",this.alternate):r.setAttribute("d",nV[this.pathName]),r}toMarkup(){return this.alternate?'<path d="'+pn.escape(this.alternate)+'"/>':'<path d="'+pn.escape(nV[this.pathName])+'"/>'}},ux=class{constructor(t){this.attributes=void 0,this.attributes=t||{}}toNode(){var t="http://www.w3.org/2000/svg",r=document.createElementNS(t,"line");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&r.setAttribute(n,this.attributes[n]);return r}toMarkup(){var t="<line";for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(t+=" "+r+'="'+pn.escape(this.attributes[r])+'"');return t+="/>",t}};cSt={bin:1,close:1,inner:1,open:1,punct:1,rel:1},fSt={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},ea={math:{},text:{}};G="math",re="text",at="main",Tt="ams",ga="accent-token",Le="bin",Xo="close",xg="inner",je="mathord",ri="op-token",tl="open",d5="punct",Et="rel",Rf="spacing",At="textord";U(G,at,Et,"\u2261","\\equiv",!0);U(G,at,Et,"\u227A","\\prec",!0);U(G,at,Et,"\u227B","\\succ",!0);U(G,at,Et,"\u223C","\\sim",!0);U(G,at,Et,"\u22A5","\\perp");U(G,at,Et,"\u2AAF","\\preceq",!0);U(G,at,Et,"\u2AB0","\\succeq",!0);U(G,at,Et,"\u2243","\\simeq",!0);U(G,at,Et,"\u2223","\\mid",!0);U(G,at,Et,"\u226A","\\ll",!0);U(G,at,Et,"\u226B","\\gg",!0);U(G,at,Et,"\u224D","\\asymp",!0);U(G,at,Et,"\u2225","\\parallel");U(G,at,Et,"\u22C8","\\bowtie",!0);U(G,at,Et,"\u2323","\\smile",!0);U(G,at,Et,"\u2291","\\sqsubseteq",!0);U(G,at,Et,"\u2292","\\sqsupseteq",!0);U(G,at,Et,"\u2250","\\doteq",!0);U(G,at,Et,"\u2322","\\frown",!0);U(G,at,Et,"\u220B","\\ni",!0);U(G,at,Et,"\u221D","\\propto",!0);U(G,at,Et,"\u22A2","\\vdash",!0);U(G,at,Et,"\u22A3","\\dashv",!0);U(G,at,Et,"\u220B","\\owns");U(G,at,d5,".","\\ldotp");U(G,at,d5,"\u22C5","\\cdotp");U(G,at,At,"#","\\#");U(re,at,At,"#","\\#");U(G,at,At,"&","\\&");U(re,at,At,"&","\\&");U(G,at,At,"\u2135","\\aleph",!0);U(G,at,At,"\u2200","\\forall",!0);U(G,at,At,"\u210F","\\hbar",!0);U(G,at,At,"\u2203","\\exists",!0);U(G,at,At,"\u2207","\\nabla",!0);U(G,at,At,"\u266D","\\flat",!0);U(G,at,At,"\u2113","\\ell",!0);U(G,at,At,"\u266E","\\natural",!0);U(G,at,At,"\u2663","\\clubsuit",!0);U(G,at,At,"\u2118","\\wp",!0);U(G,at,At,"\u266F","\\sharp",!0);U(G,at,At,"\u2662","\\diamondsuit",!0);U(G,at,At,"\u211C","\\Re",!0);U(G,at,At,"\u2661","\\heartsuit",!0);U(G,at,At,"\u2111","\\Im",!0);U(G,at,At,"\u2660","\\spadesuit",!0);U(G,at,At,"\xA7","\\S",!0);U(re,at,At,"\xA7","\\S");U(G,at,At,"\xB6","\\P",!0);U(re,at,At,"\xB6","\\P");U(G,at,At,"\u2020","\\dag");U(re,at,At,"\u2020","\\dag");U(re,at,At,"\u2020","\\textdagger");U(G,at,At,"\u2021","\\ddag");U(re,at,At,"\u2021","\\ddag");U(re,at,At,"\u2021","\\textdaggerdbl");U(G,at,Xo,"\u23B1","\\rmoustache",!0);U(G,at,tl,"\u23B0","\\lmoustache",!0);U(G,at,Xo,"\u27EF","\\rgroup",!0);U(G,at,tl,"\u27EE","\\lgroup",!0);U(G,at,Le,"\u2213","\\mp",!0);U(G,at,Le,"\u2296","\\ominus",!0);U(G,at,Le,"\u228E","\\uplus",!0);U(G,at,Le,"\u2293","\\sqcap",!0);U(G,at,Le,"\u2217","\\ast");U(G,at,Le,"\u2294","\\sqcup",!0);U(G,at,Le,"\u25EF","\\bigcirc",!0);U(G,at,Le,"\u2219","\\bullet",!0);U(G,at,Le,"\u2021","\\ddagger");U(G,at,Le,"\u2240","\\wr",!0);U(G,at,Le,"\u2A3F","\\amalg");U(G,at,Le,"&","\\And");U(G,at,Et,"\u27F5","\\longleftarrow",!0);U(G,at,Et,"\u21D0","\\Leftarrow",!0);U(G,at,Et,"\u27F8","\\Longleftarrow",!0);U(G,at,Et,"\u27F6","\\longrightarrow",!0);U(G,at,Et,"\u21D2","\\Rightarrow",!0);U(G,at,Et,"\u27F9","\\Longrightarrow",!0);U(G,at,Et,"\u2194","\\leftrightarrow",!0);U(G,at,Et,"\u27F7","\\longleftrightarrow",!0);U(G,at,Et,"\u21D4","\\Leftrightarrow",!0);U(G,at,Et,"\u27FA","\\Longleftrightarrow",!0);U(G,at,Et,"\u21A6","\\mapsto",!0);U(G,at,Et,"\u27FC","\\longmapsto",!0);U(G,at,Et,"\u2197","\\nearrow",!0);U(G,at,Et,"\u21A9","\\hookleftarrow",!0);U(G,at,Et,"\u21AA","\\hookrightarrow",!0);U(G,at,Et,"\u2198","\\searrow",!0);U(G,at,Et,"\u21BC","\\leftharpoonup",!0);U(G,at,Et,"\u21C0","\\rightharpoonup",!0);U(G,at,Et,"\u2199","\\swarrow",!0);U(G,at,Et,"\u21BD","\\leftharpoondown",!0);U(G,at,Et,"\u21C1","\\rightharpoondown",!0);U(G,at,Et,"\u2196","\\nwarrow",!0);U(G,at,Et,"\u21CC","\\rightleftharpoons",!0);U(G,Tt,Et,"\u226E","\\nless",!0);U(G,Tt,Et,"\uE010","\\@nleqslant");U(G,Tt,Et,"\uE011","\\@nleqq");U(G,Tt,Et,"\u2A87","\\lneq",!0);U(G,Tt,Et,"\u2268","\\lneqq",!0);U(G,Tt,Et,"\uE00C","\\@lvertneqq");U(G,Tt,Et,"\u22E6","\\lnsim",!0);U(G,Tt,Et,"\u2A89","\\lnapprox",!0);U(G,Tt,Et,"\u2280","\\nprec",!0);U(G,Tt,Et,"\u22E0","\\npreceq",!0);U(G,Tt,Et,"\u22E8","\\precnsim",!0);U(G,Tt,Et,"\u2AB9","\\precnapprox",!0);U(G,Tt,Et,"\u2241","\\nsim",!0);U(G,Tt,Et,"\uE006","\\@nshortmid");U(G,Tt,Et,"\u2224","\\nmid",!0);U(G,Tt,Et,"\u22AC","\\nvdash",!0);U(G,Tt,Et,"\u22AD","\\nvDash",!0);U(G,Tt,Et,"\u22EA","\\ntriangleleft");U(G,Tt,Et,"\u22EC","\\ntrianglelefteq",!0);U(G,Tt,Et,"\u228A","\\subsetneq",!0);U(G,Tt,Et,"\uE01A","\\@varsubsetneq");U(G,Tt,Et,"\u2ACB","\\subsetneqq",!0);U(G,Tt,Et,"\uE017","\\@varsubsetneqq");U(G,Tt,Et,"\u226F","\\ngtr",!0);U(G,Tt,Et,"\uE00F","\\@ngeqslant");U(G,Tt,Et,"\uE00E","\\@ngeqq");U(G,Tt,Et,"\u2A88","\\gneq",!0);U(G,Tt,Et,"\u2269","\\gneqq",!0);U(G,Tt,Et,"\uE00D","\\@gvertneqq");U(G,Tt,Et,"\u22E7","\\gnsim",!0);U(G,Tt,Et,"\u2A8A","\\gnapprox",!0);U(G,Tt,Et,"\u2281","\\nsucc",!0);U(G,Tt,Et,"\u22E1","\\nsucceq",!0);U(G,Tt,Et,"\u22E9","\\succnsim",!0);U(G,Tt,Et,"\u2ABA","\\succnapprox",!0);U(G,Tt,Et,"\u2246","\\ncong",!0);U(G,Tt,Et,"\uE007","\\@nshortparallel");U(G,Tt,Et,"\u2226","\\nparallel",!0);U(G,Tt,Et,"\u22AF","\\nVDash",!0);U(G,Tt,Et,"\u22EB","\\ntriangleright");U(G,Tt,Et,"\u22ED","\\ntrianglerighteq",!0);U(G,Tt,Et,"\uE018","\\@nsupseteqq");U(G,Tt,Et,"\u228B","\\supsetneq",!0);U(G,Tt,Et,"\uE01B","\\@varsupsetneq");U(G,Tt,Et,"\u2ACC","\\supsetneqq",!0);U(G,Tt,Et,"\uE019","\\@varsupsetneqq");U(G,Tt,Et,"\u22AE","\\nVdash",!0);U(G,Tt,Et,"\u2AB5","\\precneqq",!0);U(G,Tt,Et,"\u2AB6","\\succneqq",!0);U(G,Tt,Et,"\uE016","\\@nsubseteqq");U(G,Tt,Le,"\u22B4","\\unlhd");U(G,Tt,Le,"\u22B5","\\unrhd");U(G,Tt,Et,"\u219A","\\nleftarrow",!0);U(G,Tt,Et,"\u219B","\\nrightarrow",!0);U(G,Tt,Et,"\u21CD","\\nLeftarrow",!0);U(G,Tt,Et,"\u21CF","\\nRightarrow",!0);U(G,Tt,Et,"\u21AE","\\nleftrightarrow",!0);U(G,Tt,Et,"\u21CE","\\nLeftrightarrow",!0);U(G,Tt,Et,"\u25B3","\\vartriangle");U(G,Tt,At,"\u210F","\\hslash");U(G,Tt,At,"\u25BD","\\triangledown");U(G,Tt,At,"\u25CA","\\lozenge");U(G,Tt,At,"\u24C8","\\circledS");U(G,Tt,At,"\xAE","\\circledR");U(re,Tt,At,"\xAE","\\circledR");U(G,Tt,At,"\u2221","\\measuredangle",!0);U(G,Tt,At,"\u2204","\\nexists");U(G,Tt,At,"\u2127","\\mho");U(G,Tt,At,"\u2132","\\Finv",!0);U(G,Tt,At,"\u2141","\\Game",!0);U(G,Tt,At,"\u2035","\\backprime");U(G,Tt,At,"\u25B2","\\blacktriangle");U(G,Tt,At,"\u25BC","\\blacktriangledown");U(G,Tt,At,"\u25A0","\\blacksquare");U(G,Tt,At,"\u29EB","\\blacklozenge");U(G,Tt,At,"\u2605","\\bigstar");U(G,Tt,At,"\u2222","\\sphericalangle",!0);U(G,Tt,At,"\u2201","\\complement",!0);U(G,Tt,At,"\xF0","\\eth",!0);U(re,at,At,"\xF0","\xF0");U(G,Tt,At,"\u2571","\\diagup");U(G,Tt,At,"\u2572","\\diagdown");U(G,Tt,At,"\u25A1","\\square");U(G,Tt,At,"\u25A1","\\Box");U(G,Tt,At,"\u25CA","\\Diamond");U(G,Tt,At,"\xA5","\\yen",!0);U(re,Tt,At,"\xA5","\\yen",!0);U(G,Tt,At,"\u2713","\\checkmark",!0);U(re,Tt,At,"\u2713","\\checkmark");U(G,Tt,At,"\u2136","\\beth",!0);U(G,Tt,At,"\u2138","\\daleth",!0);U(G,Tt,At,"\u2137","\\gimel",!0);U(G,Tt,At,"\u03DD","\\digamma",!0);U(G,Tt,At,"\u03F0","\\varkappa");U(G,Tt,tl,"\u250C","\\@ulcorner",!0);U(G,Tt,Xo,"\u2510","\\@urcorner",!0);U(G,Tt,tl,"\u2514","\\@llcorner",!0);U(G,Tt,Xo,"\u2518","\\@lrcorner",!0);U(G,Tt,Et,"\u2266","\\leqq",!0);U(G,Tt,Et,"\u2A7D","\\leqslant",!0);U(G,Tt,Et,"\u2A95","\\eqslantless",!0);U(G,Tt,Et,"\u2272","\\lesssim",!0);U(G,Tt,Et,"\u2A85","\\lessapprox",!0);U(G,Tt,Et,"\u224A","\\approxeq",!0);U(G,Tt,Le,"\u22D6","\\lessdot");U(G,Tt,Et,"\u22D8","\\lll",!0);U(G,Tt,Et,"\u2276","\\lessgtr",!0);U(G,Tt,Et,"\u22DA","\\lesseqgtr",!0);U(G,Tt,Et,"\u2A8B","\\lesseqqgtr",!0);U(G,Tt,Et,"\u2251","\\doteqdot");U(G,Tt,Et,"\u2253","\\risingdotseq",!0);U(G,Tt,Et,"\u2252","\\fallingdotseq",!0);U(G,Tt,Et,"\u223D","\\backsim",!0);U(G,Tt,Et,"\u22CD","\\backsimeq",!0);U(G,Tt,Et,"\u2AC5","\\subseteqq",!0);U(G,Tt,Et,"\u22D0","\\Subset",!0);U(G,Tt,Et,"\u228F","\\sqsubset",!0);U(G,Tt,Et,"\u227C","\\preccurlyeq",!0);U(G,Tt,Et,"\u22DE","\\curlyeqprec",!0);U(G,Tt,Et,"\u227E","\\precsim",!0);U(G,Tt,Et,"\u2AB7","\\precapprox",!0);U(G,Tt,Et,"\u22B2","\\vartriangleleft");U(G,Tt,Et,"\u22B4","\\trianglelefteq");U(G,Tt,Et,"\u22A8","\\vDash",!0);U(G,Tt,Et,"\u22AA","\\Vvdash",!0);U(G,Tt,Et,"\u2323","\\smallsmile");U(G,Tt,Et,"\u2322","\\smallfrown");U(G,Tt,Et,"\u224F","\\bumpeq",!0);U(G,Tt,Et,"\u224E","\\Bumpeq",!0);U(G,Tt,Et,"\u2267","\\geqq",!0);U(G,Tt,Et,"\u2A7E","\\geqslant",!0);U(G,Tt,Et,"\u2A96","\\eqslantgtr",!0);U(G,Tt,Et,"\u2273","\\gtrsim",!0);U(G,Tt,Et,"\u2A86","\\gtrapprox",!0);U(G,Tt,Le,"\u22D7","\\gtrdot");U(G,Tt,Et,"\u22D9","\\ggg",!0);U(G,Tt,Et,"\u2277","\\gtrless",!0);U(G,Tt,Et,"\u22DB","\\gtreqless",!0);U(G,Tt,Et,"\u2A8C","\\gtreqqless",!0);U(G,Tt,Et,"\u2256","\\eqcirc",!0);U(G,Tt,Et,"\u2257","\\circeq",!0);U(G,Tt,Et,"\u225C","\\triangleq",!0);U(G,Tt,Et,"\u223C","\\thicksim");U(G,Tt,Et,"\u2248","\\thickapprox");U(G,Tt,Et,"\u2AC6","\\supseteqq",!0);U(G,Tt,Et,"\u22D1","\\Supset",!0);U(G,Tt,Et,"\u2290","\\sqsupset",!0);U(G,Tt,Et,"\u227D","\\succcurlyeq",!0);U(G,Tt,Et,"\u22DF","\\curlyeqsucc",!0);U(G,Tt,Et,"\u227F","\\succsim",!0);U(G,Tt,Et,"\u2AB8","\\succapprox",!0);U(G,Tt,Et,"\u22B3","\\vartriangleright");U(G,Tt,Et,"\u22B5","\\trianglerighteq");U(G,Tt,Et,"\u22A9","\\Vdash",!0);U(G,Tt,Et,"\u2223","\\shortmid");U(G,Tt,Et,"\u2225","\\shortparallel");U(G,Tt,Et,"\u226C","\\between",!0);U(G,Tt,Et,"\u22D4","\\pitchfork",!0);U(G,Tt,Et,"\u221D","\\varpropto");U(G,Tt,Et,"\u25C0","\\blacktriangleleft");U(G,Tt,Et,"\u2234","\\therefore",!0);U(G,Tt,Et,"\u220D","\\backepsilon");U(G,Tt,Et,"\u25B6","\\blacktriangleright");U(G,Tt,Et,"\u2235","\\because",!0);U(G,Tt,Et,"\u22D8","\\llless");U(G,Tt,Et,"\u22D9","\\gggtr");U(G,Tt,Le,"\u22B2","\\lhd");U(G,Tt,Le,"\u22B3","\\rhd");U(G,Tt,Et,"\u2242","\\eqsim",!0);U(G,at,Et,"\u22C8","\\Join");U(G,Tt,Et,"\u2251","\\Doteq",!0);U(G,Tt,Le,"\u2214","\\dotplus",!0);U(G,Tt,Le,"\u2216","\\smallsetminus");U(G,Tt,Le,"\u22D2","\\Cap",!0);U(G,Tt,Le,"\u22D3","\\Cup",!0);U(G,Tt,Le,"\u2A5E","\\doublebarwedge",!0);U(G,Tt,Le,"\u229F","\\boxminus",!0);U(G,Tt,Le,"\u229E","\\boxplus",!0);U(G,Tt,Le,"\u22C7","\\divideontimes",!0);U(G,Tt,Le,"\u22C9","\\ltimes",!0);U(G,Tt,Le,"\u22CA","\\rtimes",!0);U(G,Tt,Le,"\u22CB","\\leftthreetimes",!0);U(G,Tt,Le,"\u22CC","\\rightthreetimes",!0);U(G,Tt,Le,"\u22CF","\\curlywedge",!0);U(G,Tt,Le,"\u22CE","\\curlyvee",!0);U(G,Tt,Le,"\u229D","\\circleddash",!0);U(G,Tt,Le,"\u229B","\\circledast",!0);U(G,Tt,Le,"\u22C5","\\centerdot");U(G,Tt,Le,"\u22BA","\\intercal",!0);U(G,Tt,Le,"\u22D2","\\doublecap");U(G,Tt,Le,"\u22D3","\\doublecup");U(G,Tt,Le,"\u22A0","\\boxtimes",!0);U(G,Tt,Et,"\u21E2","\\dashrightarrow",!0);U(G,Tt,Et,"\u21E0","\\dashleftarrow",!0);U(G,Tt,Et,"\u21C7","\\leftleftarrows",!0);U(G,Tt,Et,"\u21C6","\\leftrightarrows",!0);U(G,Tt,Et,"\u21DA","\\Lleftarrow",!0);U(G,Tt,Et,"\u219E","\\twoheadleftarrow",!0);U(G,Tt,Et,"\u21A2","\\leftarrowtail",!0);U(G,Tt,Et,"\u21AB","\\looparrowleft",!0);U(G,Tt,Et,"\u21CB","\\leftrightharpoons",!0);U(G,Tt,Et,"\u21B6","\\curvearrowleft",!0);U(G,Tt,Et,"\u21BA","\\circlearrowleft",!0);U(G,Tt,Et,"\u21B0","\\Lsh",!0);U(G,Tt,Et,"\u21C8","\\upuparrows",!0);U(G,Tt,Et,"\u21BF","\\upharpoonleft",!0);U(G,Tt,Et,"\u21C3","\\downharpoonleft",!0);U(G,at,Et,"\u22B6","\\origof",!0);U(G,at,Et,"\u22B7","\\imageof",!0);U(G,Tt,Et,"\u22B8","\\multimap",!0);U(G,Tt,Et,"\u21AD","\\leftrightsquigarrow",!0);U(G,Tt,Et,"\u21C9","\\rightrightarrows",!0);U(G,Tt,Et,"\u21C4","\\rightleftarrows",!0);U(G,Tt,Et,"\u21A0","\\twoheadrightarrow",!0);U(G,Tt,Et,"\u21A3","\\rightarrowtail",!0);U(G,Tt,Et,"\u21AC","\\looparrowright",!0);U(G,Tt,Et,"\u21B7","\\curvearrowright",!0);U(G,Tt,Et,"\u21BB","\\circlearrowright",!0);U(G,Tt,Et,"\u21B1","\\Rsh",!0);U(G,Tt,Et,"\u21CA","\\downdownarrows",!0);U(G,Tt,Et,"\u21BE","\\upharpoonright",!0);U(G,Tt,Et,"\u21C2","\\downharpoonright",!0);U(G,Tt,Et,"\u21DD","\\rightsquigarrow",!0);U(G,Tt,Et,"\u21DD","\\leadsto");U(G,Tt,Et,"\u21DB","\\Rrightarrow",!0);U(G,Tt,Et,"\u21BE","\\restriction");U(G,at,At,"\u2018","`");U(G,at,At,"$","\\$");U(re,at,At,"$","\\$");U(re,at,At,"$","\\textdollar");U(G,at,At,"%","\\%");U(re,at,At,"%","\\%");U(G,at,At,"_","\\_");U(re,at,At,"_","\\_");U(re,at,At,"_","\\textunderscore");U(G,at,At,"\u2220","\\angle",!0);U(G,at,At,"\u221E","\\infty",!0);U(G,at,At,"\u2032","\\prime");U(G,at,At,"\u25B3","\\triangle");U(G,at,At,"\u0393","\\Gamma",!0);U(G,at,At,"\u0394","\\Delta",!0);U(G,at,At,"\u0398","\\Theta",!0);U(G,at,At,"\u039B","\\Lambda",!0);U(G,at,At,"\u039E","\\Xi",!0);U(G,at,At,"\u03A0","\\Pi",!0);U(G,at,At,"\u03A3","\\Sigma",!0);U(G,at,At,"\u03A5","\\Upsilon",!0);U(G,at,At,"\u03A6","\\Phi",!0);U(G,at,At,"\u03A8","\\Psi",!0);U(G,at,At,"\u03A9","\\Omega",!0);U(G,at,At,"A","\u0391");U(G,at,At,"B","\u0392");U(G,at,At,"E","\u0395");U(G,at,At,"Z","\u0396");U(G,at,At,"H","\u0397");U(G,at,At,"I","\u0399");U(G,at,At,"K","\u039A");U(G,at,At,"M","\u039C");U(G,at,At,"N","\u039D");U(G,at,At,"O","\u039F");U(G,at,At,"P","\u03A1");U(G,at,At,"T","\u03A4");U(G,at,At,"X","\u03A7");U(G,at,At,"\xAC","\\neg",!0);U(G,at,At,"\xAC","\\lnot");U(G,at,At,"\u22A4","\\top");U(G,at,At,"\u22A5","\\bot");U(G,at,At,"\u2205","\\emptyset");U(G,Tt,At,"\u2205","\\varnothing");U(G,at,je,"\u03B1","\\alpha",!0);U(G,at,je,"\u03B2","\\beta",!0);U(G,at,je,"\u03B3","\\gamma",!0);U(G,at,je,"\u03B4","\\delta",!0);U(G,at,je,"\u03F5","\\epsilon",!0);U(G,at,je,"\u03B6","\\zeta",!0);U(G,at,je,"\u03B7","\\eta",!0);U(G,at,je,"\u03B8","\\theta",!0);U(G,at,je,"\u03B9","\\iota",!0);U(G,at,je,"\u03BA","\\kappa",!0);U(G,at,je,"\u03BB","\\lambda",!0);U(G,at,je,"\u03BC","\\mu",!0);U(G,at,je,"\u03BD","\\nu",!0);U(G,at,je,"\u03BE","\\xi",!0);U(G,at,je,"\u03BF","\\omicron",!0);U(G,at,je,"\u03C0","\\pi",!0);U(G,at,je,"\u03C1","\\rho",!0);U(G,at,je,"\u03C3","\\sigma",!0);U(G,at,je,"\u03C4","\\tau",!0);U(G,at,je,"\u03C5","\\upsilon",!0);U(G,at,je,"\u03D5","\\phi",!0);U(G,at,je,"\u03C7","\\chi",!0);U(G,at,je,"\u03C8","\\psi",!0);U(G,at,je,"\u03C9","\\omega",!0);U(G,at,je,"\u03B5","\\varepsilon",!0);U(G,at,je,"\u03D1","\\vartheta",!0);U(G,at,je,"\u03D6","\\varpi",!0);U(G,at,je,"\u03F1","\\varrho",!0);U(G,at,je,"\u03C2","\\varsigma",!0);U(G,at,je,"\u03C6","\\varphi",!0);U(G,at,Le,"\u2217","*",!0);U(G,at,Le,"+","+");U(G,at,Le,"\u2212","-",!0);U(G,at,Le,"\u22C5","\\cdot",!0);U(G,at,Le,"\u2218","\\circ",!0);U(G,at,Le,"\xF7","\\div",!0);U(G,at,Le,"\xB1","\\pm",!0);U(G,at,Le,"\xD7","\\times",!0);U(G,at,Le,"\u2229","\\cap",!0);U(G,at,Le,"\u222A","\\cup",!0);U(G,at,Le,"\u2216","\\setminus",!0);U(G,at,Le,"\u2227","\\land");U(G,at,Le,"\u2228","\\lor");U(G,at,Le,"\u2227","\\wedge",!0);U(G,at,Le,"\u2228","\\vee",!0);U(G,at,At,"\u221A","\\surd");U(G,at,tl,"\u27E8","\\langle",!0);U(G,at,tl,"\u2223","\\lvert");U(G,at,tl,"\u2225","\\lVert");U(G,at,Xo,"?","?");U(G,at,Xo,"!","!");U(G,at,Xo,"\u27E9","\\rangle",!0);U(G,at,Xo,"\u2223","\\rvert");U(G,at,Xo,"\u2225","\\rVert");U(G,at,Et,"=","=");U(G,at,Et,":",":");U(G,at,Et,"\u2248","\\approx",!0);U(G,at,Et,"\u2245","\\cong",!0);U(G,at,Et,"\u2265","\\ge");U(G,at,Et,"\u2265","\\geq",!0);U(G,at,Et,"\u2190","\\gets");U(G,at,Et,">","\\gt",!0);U(G,at,Et,"\u2208","\\in",!0);U(G,at,Et,"\uE020","\\@not");U(G,at,Et,"\u2282","\\subset",!0);U(G,at,Et,"\u2283","\\supset",!0);U(G,at,Et,"\u2286","\\subseteq",!0);U(G,at,Et,"\u2287","\\supseteq",!0);U(G,Tt,Et,"\u2288","\\nsubseteq",!0);U(G,Tt,Et,"\u2289","\\nsupseteq",!0);U(G,at,Et,"\u22A8","\\models");U(G,at,Et,"\u2190","\\leftarrow",!0);U(G,at,Et,"\u2264","\\le");U(G,at,Et,"\u2264","\\leq",!0);U(G,at,Et,"<","\\lt",!0);U(G,at,Et,"\u2192","\\rightarrow",!0);U(G,at,Et,"\u2192","\\to");U(G,Tt,Et,"\u2271","\\ngeq",!0);U(G,Tt,Et,"\u2270","\\nleq",!0);U(G,at,Rf,"\xA0","\\ ");U(G,at,Rf,"\xA0","\\space");U(G,at,Rf,"\xA0","\\nobreakspace");U(re,at,Rf,"\xA0","\\ ");U(re,at,Rf,"\xA0"," ");U(re,at,Rf,"\xA0","\\space");U(re,at,Rf,"\xA0","\\nobreakspace");U(G,at,Rf,null,"\\nobreak");U(G,at,Rf,null,"\\allowbreak");U(G,at,d5,",",",");U(G,at,d5,";",";");U(G,Tt,Le,"\u22BC","\\barwedge",!0);U(G,Tt,Le,"\u22BB","\\veebar",!0);U(G,at,Le,"\u2299","\\odot",!0);U(G,at,Le,"\u2295","\\oplus",!0);U(G,at,Le,"\u2297","\\otimes",!0);U(G,at,At,"\u2202","\\partial",!0);U(G,at,Le,"\u2298","\\oslash",!0);U(G,Tt,Le,"\u229A","\\circledcirc",!0);U(G,Tt,Le,"\u22A1","\\boxdot",!0);U(G,at,Le,"\u25B3","\\bigtriangleup");U(G,at,Le,"\u25BD","\\bigtriangledown");U(G,at,Le,"\u2020","\\dagger");U(G,at,Le,"\u22C4","\\diamond");U(G,at,Le,"\u22C6","\\star");U(G,at,Le,"\u25C3","\\triangleleft");U(G,at,Le,"\u25B9","\\triangleright");U(G,at,tl,"{","\\{");U(re,at,At,"{","\\{");U(re,at,At,"{","\\textbraceleft");U(G,at,Xo,"}","\\}");U(re,at,At,"}","\\}");U(re,at,At,"}","\\textbraceright");U(G,at,tl,"{","\\lbrace");U(G,at,Xo,"}","\\rbrace");U(G,at,tl,"[","\\lbrack",!0);U(re,at,At,"[","\\lbrack",!0);U(G,at,Xo,"]","\\rbrack",!0);U(re,at,At,"]","\\rbrack",!0);U(G,at,tl,"(","\\lparen",!0);U(G,at,Xo,")","\\rparen",!0);U(re,at,At,"<","\\textless",!0);U(re,at,At,">","\\textgreater",!0);U(G,at,tl,"\u230A","\\lfloor",!0);U(G,at,Xo,"\u230B","\\rfloor",!0);U(G,at,tl,"\u2308","\\lceil",!0);U(G,at,Xo,"\u2309","\\rceil",!0);U(G,at,At,"\\","\\backslash");U(G,at,At,"\u2223","|");U(G,at,At,"\u2223","\\vert");U(re,at,At,"|","\\textbar",!0);U(G,at,At,"\u2225","\\|");U(G,at,At,"\u2225","\\Vert");U(re,at,At,"\u2225","\\textbardbl");U(re,at,At,"~","\\textasciitilde");U(re,at,At,"\\","\\textbackslash");U(re,at,At,"^","\\textasciicircum");U(G,at,Et,"\u2191","\\uparrow",!0);U(G,at,Et,"\u21D1","\\Uparrow",!0);U(G,at,Et,"\u2193","\\downarrow",!0);U(G,at,Et,"\u21D3","\\Downarrow",!0);U(G,at,Et,"\u2195","\\updownarrow",!0);U(G,at,Et,"\u21D5","\\Updownarrow",!0);U(G,at,ri,"\u2210","\\coprod");U(G,at,ri,"\u22C1","\\bigvee");U(G,at,ri,"\u22C0","\\bigwedge");U(G,at,ri,"\u2A04","\\biguplus");U(G,at,ri,"\u22C2","\\bigcap");U(G,at,ri,"\u22C3","\\bigcup");U(G,at,ri,"\u222B","\\int");U(G,at,ri,"\u222B","\\intop");U(G,at,ri,"\u222C","\\iint");U(G,at,ri,"\u222D","\\iiint");U(G,at,ri,"\u220F","\\prod");U(G,at,ri,"\u2211","\\sum");U(G,at,ri,"\u2A02","\\bigotimes");U(G,at,ri,"\u2A01","\\bigoplus");U(G,at,ri,"\u2A00","\\bigodot");U(G,at,ri,"\u222E","\\oint");U(G,at,ri,"\u222F","\\oiint");U(G,at,ri,"\u2230","\\oiiint");U(G,at,ri,"\u2A06","\\bigsqcup");U(G,at,ri,"\u222B","\\smallint");U(re,at,xg,"\u2026","\\textellipsis");U(G,at,xg,"\u2026","\\mathellipsis");U(re,at,xg,"\u2026","\\ldots",!0);U(G,at,xg,"\u2026","\\ldots",!0);U(G,at,xg,"\u22EF","\\@cdots",!0);U(G,at,xg,"\u22F1","\\ddots",!0);U(G,at,At,"\u22EE","\\varvdots");U(re,at,At,"\u22EE","\\varvdots");U(G,at,ga,"\u02CA","\\acute");U(G,at,ga,"\u02CB","\\grave");U(G,at,ga,"\xA8","\\ddot");U(G,at,ga,"~","\\tilde");U(G,at,ga,"\u02C9","\\bar");U(G,at,ga,"\u02D8","\\breve");U(G,at,ga,"\u02C7","\\check");U(G,at,ga,"^","\\hat");U(G,at,ga,"\u20D7","\\vec");U(G,at,ga,"\u02D9","\\dot");U(G,at,ga,"\u02DA","\\mathring");U(G,at,je,"\uE131","\\@imath");U(G,at,je,"\uE237","\\@jmath");U(G,at,At,"\u0131","\u0131");U(G,at,At,"\u0237","\u0237");U(re,at,At,"\u0131","\\i",!0);U(re,at,At,"\u0237","\\j",!0);U(re,at,At,"\xDF","\\ss",!0);U(re,at,At,"\xE6","\\ae",!0);U(re,at,At,"\u0153","\\oe",!0);U(re,at,At,"\xF8","\\o",!0);U(re,at,At,"\xC6","\\AE",!0);U(re,at,At,"\u0152","\\OE",!0);U(re,at,At,"\xD8","\\O",!0);U(re,at,ga,"\u02CA","\\'");U(re,at,ga,"\u02CB","\\`");U(re,at,ga,"\u02C6","\\^");U(re,at,ga,"\u02DC","\\~");U(re,at,ga,"\u02C9","\\=");U(re,at,ga,"\u02D8","\\u");U(re,at,ga,"\u02D9","\\.");U(re,at,ga,"\xB8","\\c");U(re,at,ga,"\u02DA","\\r");U(re,at,ga,"\u02C7","\\v");U(re,at,ga,"\xA8",'\\"');U(re,at,ga,"\u02DD","\\H");U(re,at,ga,"\u25EF","\\textcircled");qV={"--":!0,"---":!0,"``":!0,"''":!0};U(re,at,At,"\u2013","--",!0);U(re,at,At,"\u2013","\\textendash");U(re,at,At,"\u2014","---",!0);U(re,at,At,"\u2014","\\textemdash");U(re,at,At,"\u2018","`",!0);U(re,at,At,"\u2018","\\textquoteleft");U(re,at,At,"\u2019","'",!0);U(re,at,At,"\u2019","\\textquoteright");U(re,at,At,"\u201C","``",!0);U(re,at,At,"\u201C","\\textquotedblleft");U(re,at,At,"\u201D","''",!0);U(re,at,At,"\u201D","\\textquotedblright");U(G,at,At,"\xB0","\\degree",!0);U(re,at,At,"\xB0","\\degree");U(re,at,At,"\xB0","\\textdegree",!0);U(G,at,At,"\xA3","\\pounds");U(G,at,At,"\xA3","\\mathsterling",!0);U(re,at,At,"\xA3","\\pounds");U(re,at,At,"\xA3","\\textsterling",!0);U(G,Tt,At,"\u2720","\\maltese");U(re,Tt,At,"\u2720","\\maltese");lV='0123456789/@."';for(X3=0;X3<lV.length;X3++)e8=lV.charAt(X3),U(G,at,At,e8,e8);uV='0123456789!@*()-=+";:?/.,';for(j3=0;j3<uV.length;j3++)r8=uV.charAt(j3),U(re,at,At,r8,r8);s5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(K3=0;K3<s5.length;K3++)ex=s5.charAt(K3),U(G,at,je,ex,ex),U(re,at,At,ex,ex);U(G,Tt,At,"C","\u2102");U(re,Tt,At,"C","\u2102");U(G,Tt,At,"H","\u210D");U(re,Tt,At,"H","\u210D");U(G,Tt,At,"N","\u2115");U(re,Tt,At,"N","\u2115");U(G,Tt,At,"P","\u2119");U(re,Tt,At,"P","\u2119");U(G,Tt,At,"Q","\u211A");U(re,Tt,At,"Q","\u211A");U(G,Tt,At,"R","\u211D");U(re,Tt,At,"R","\u211D");U(G,Tt,At,"Z","\u2124");U(re,Tt,At,"Z","\u2124");U(G,at,je,"h","\u210E");U(re,at,je,"h","\u210E");ar="";for(wo=0;wo<s5.length;wo++)La=s5.charAt(wo),ar=String.fromCharCode(55349,56320+wo),U(G,at,je,La,ar),U(re,at,At,La,ar),ar=String.fromCharCode(55349,56372+wo),U(G,at,je,La,ar),U(re,at,At,La,ar),ar=String.fromCharCode(55349,56424+wo),U(G,at,je,La,ar),U(re,at,At,La,ar),ar=String.fromCharCode(55349,56580+wo),U(G,at,je,La,ar),U(re,at,At,La,ar),ar=String.fromCharCode(55349,56684+wo),U(G,at,je,La,ar),U(re,at,At,La,ar),ar=String.fromCharCode(55349,56736+wo),U(G,at,je,La,ar),U(re,at,At,La,ar),ar=String.fromCharCode(55349,56788+wo),U(G,at,je,La,ar),U(re,at,At,La,ar),ar=String.fromCharCode(55349,56840+wo),U(G,at,je,La,ar),U(re,at,At,La,ar),ar=String.fromCharCode(55349,56944+wo),U(G,at,je,La,ar),U(re,at,At,La,ar),wo<26&&(ar=String.fromCharCode(55349,56632+wo),U(G,at,je,La,ar),U(re,at,At,La,ar),ar=String.fromCharCode(55349,56476+wo),U(G,at,je,La,ar),U(re,at,At,La,ar));ar="\u{1D55C}";U(G,at,je,"k",ar);U(re,at,At,"k",ar);for(Wh=0;Wh<10;Wh++)Sf=Wh.toString(),ar=String.fromCharCode(55349,57294+Wh),U(G,at,je,Sf,ar),U(re,at,At,Sf,ar),ar=String.fromCharCode(55349,57314+Wh),U(G,at,je,Sf,ar),U(re,at,At,Sf,ar),ar=String.fromCharCode(55349,57324+Wh),U(G,at,je,Sf,ar),U(re,at,At,Sf,ar),ar=String.fromCharCode(55349,57334+Wh),U(G,at,je,Sf,ar),U(re,at,At,Sf,ar);g8="\xD0\xDE\xFE";for(Q3=0;Q3<g8.length;Q3++)rx=g8.charAt(Q3),U(G,at,je,rx,rx),U(re,at,At,rx,rx);Z3=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],cV=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],hSt=function(t,r){var n=t.charCodeAt(0),a=t.charCodeAt(1),i=(n-55296)*1024+(a-56320)+65536,o=r==="math"?0:1;if(119808<=i&&i<120484){var s=Math.floor((i-119808)/26);return[Z3[s][2],Z3[s][o]]}else if(120782<=i&&i<=120831){var l=Math.floor((i-120782)/10);return[cV[l][2],cV[l][o]]}else{if(i===120485||i===120486)return[Z3[0][2],Z3[0][o]];if(120486<i&&i<120782)return["",""];throw new he("Unsupported character: "+t)}},p5=function(t,r,n){return ea[n][t]&&ea[n][t].replace&&(t=ea[n][t].replace),{value:t,metrics:C8(t,r,n)}},gu=function(t,r,n,a,i){var o=p5(t,r,n),s=o.metrics;t=o.value;var l;if(s){var u=s.italic;(n==="text"||a&&a.font==="mathit")&&(u=0),l=new Es(t,s.height,s.depth,u,s.skew,s.width,i)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+t+"' in style '"+r+"' and mode '"+n+"'")),l=new Es(t,0,0,0,0,0,i);if(a){l.maxFontSize=a.sizeMultiplier,a.style.isTight()&&l.classes.push("mtight");var f=a.getColor();f&&(l.style.color=f)}return l},dSt=function(t,r,n,a){return a===void 0&&(a=[]),n.font==="boldsymbol"&&p5(t,"Main-Bold",r).metrics?gu(t,"Main-Bold",r,n,a.concat(["mathbf"])):t==="\\"||ea[r][t].font==="main"?gu(t,"Main-Regular",r,n,a):gu(t,"AMS-Regular",r,n,a.concat(["amsrm"]))},pSt=function(t,r,n,a,i){return i!=="textord"&&p5(t,"Math-BoldItalic",r).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},mSt=function(t,r,n){var a=t.mode,i=t.text,o=["mord"],s=a==="math"||a==="text"&&r.font,l=s?r.font:r.fontFamily,u="",f="";if(i.charCodeAt(0)===55349&&([u,f]=hSt(i,a)),u.length>0)return gu(i,u,a,r,o.concat(f));if(l){var h,d;if(l==="boldsymbol"){var p=pSt(i,a,r,o,n);h=p.fontName,d=[p.fontClass]}else s?(h=GV[l].fontName,d=[l]):(h=J3(l,r.fontWeight,r.fontShape),d=[l,r.fontWeight,r.fontShape]);if(p5(i,h,a).metrics)return gu(i,h,a,r,o.concat(d));if(qV.hasOwnProperty(i)&&h.slice(0,10)==="Typewriter"){for(var m=[],g=0;g<i.length;g++)m.push(gu(i[g],h,a,r,o.concat(d)));return WV(m)}}if(n==="mathord")return gu(i,"Math-Italic",a,r,o.concat(["mathnormal"]));if(n==="textord"){var v=ea[a][i]&&ea[a][i].font;if(v==="ams"){var y=J3("amsrm",r.fontWeight,r.fontShape);return gu(i,y,a,r,o.concat("amsrm",r.fontWeight,r.fontShape))}else if(v==="main"||!v){var b=J3("textrm",r.fontWeight,r.fontShape);return gu(i,b,a,r,o.concat(r.fontWeight,r.fontShape))}else{var _=J3(v,r.fontWeight,r.fontShape);return gu(i,_,a,r,o.concat(_,r.fontWeight,r.fontShape))}}else throw new Error("unexpected type: "+n+" in makeOrd")},gSt=(e,t)=>{if(Vh(e.classes)!==Vh(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(e.classes.length===1){var r=e.classes[0];if(r==="mbin"||r==="mord")return!1}for(var n in e.style)if(e.style.hasOwnProperty(n)&&e.style[n]!==t.style[n])return!1;for(var a in t.style)if(t.style.hasOwnProperty(a)&&e.style[a]!==t.style[a])return!1;return!0},vSt=e=>{for(var t=0;t<e.length-1;t++){var r=e[t],n=e[t+1];r instanceof Es&&n instanceof Es&&gSt(r,n)&&(r.text+=n.text,r.height=Math.max(r.height,n.height),r.depth=Math.max(r.depth,n.depth),r.italic=n.italic,e.splice(t+1,1),t--)}return e},S8=function(t){for(var r=0,n=0,a=0,i=0;i<t.children.length;i++){var o=t.children[i];o.height>r&&(r=o.height),o.depth>n&&(n=o.depth),o.maxFontSize>a&&(a=o.maxFontSize)}t.height=r,t.depth=n,t.maxFontSize=a},ws=function(t,r,n,a){var i=new Wp(t,r,n,a);return S8(i),i},UV=(e,t,r,n)=>new Wp(e,t,r,n),ySt=function(t,r,n){var a=ws([t],[],r);return a.height=Math.max(n||r.fontMetrics().defaultRuleThickness,r.minRuleThickness),a.style.borderBottomWidth=xe(a.height),a.maxFontSize=1,a},xSt=function(t,r,n,a){var i=new lx(t,r,n,a);return S8(i),i},WV=function(t){var r=new Up(t);return S8(r),r},bSt=function(t,r){return t instanceof Up?ws([],[t],r):t},_St=function(t){if(t.positionType==="individualShift"){for(var r=t.children,n=[r[0]],a=-r[0].shift-r[0].elem.depth,i=a,o=1;o<r.length;o++){var s=-r[o].shift-i-r[o].elem.depth,l=s-(r[o-1].elem.height+r[o-1].elem.depth);i=i+s,n.push({type:"kern",size:l}),n.push(r[o])}return{children:n,depth:a}}var u;if(t.positionType==="top"){for(var f=t.positionData,h=0;h<t.children.length;h++){var d=t.children[h];f-=d.type==="kern"?d.size:d.elem.height+d.elem.depth}u=f}else if(t.positionType==="bottom")u=-t.positionData;else{var p=t.children[0];if(p.type!=="elem")throw new Error('First child must have type "elem".');if(t.positionType==="shift")u=-p.elem.depth-t.positionData;else if(t.positionType==="firstBaseline")u=-p.elem.depth;else throw new Error("Invalid positionType "+t.positionType+".")}return{children:t.children,depth:u}},wSt=function(t,r){for(var{children:n,depth:a}=_St(t),i=0,o=0;o<n.length;o++){var s=n[o];if(s.type==="elem"){var l=s.elem;i=Math.max(i,l.maxFontSize,l.height)}}i+=2;var u=ws(["pstrut"],[]);u.style.height=xe(i);for(var f=[],h=a,d=a,p=a,m=0;m<n.length;m++){var g=n[m];if(g.type==="kern")p+=g.size;else{var v=g.elem,y=g.wrapperClasses||[],b=g.wrapperStyle||{},_=ws(y,[u,v],void 0,b);_.style.top=xe(-i-p-v.depth),g.marginLeft&&(_.style.marginLeft=g.marginLeft),g.marginRight&&(_.style.marginRight=g.marginRight),f.push(_),p+=v.height+v.depth}h=Math.min(h,p),d=Math.max(d,p)}var k=ws(["vlist"],f);k.style.height=xe(d);var w;if(h<0){var T=ws([],[]),S=ws(["vlist"],[T]);S.style.height=xe(-h);var C=ws(["vlist-s"],[new Es("\u200B")]);w=[ws(["vlist-r"],[k,C]),ws(["vlist-r"],[S])]}else w=[ws(["vlist-r"],[k])];var M=ws(["vlist-t"],w);return w.length===2&&M.classes.push("vlist-t2"),M.height=d,M.depth=-h,M},TSt=(e,t)=>{var r=ws(["mspace"],[],t),n=Ia(e,t);return r.style.marginRight=xe(n),r},J3=function(t,r,n){var a="";switch(t){case"amsrm":a="AMS";break;case"textrm":a="Main";break;case"textsf":a="SansSerif";break;case"texttt":a="Typewriter";break;default:a=t}var i;return r==="textbf"&&n==="textit"?i="BoldItalic":r==="textbf"?i="Bold":r==="textit"?i="Italic":i="Regular",a+"-"+i},GV={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},VV={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},ESt=function(t,r){var[n,a,i]=VV[t],o=new oc(n),s=new vu([o],{width:xe(a),height:xe(i),style:"width:"+xe(a),viewBox:"0 0 "+1e3*a+" "+1e3*i,preserveAspectRatio:"xMinYMin"}),l=UV(["overlay"],[s],r);return l.height=i,l.style.height=xe(i),l.style.width=xe(a),l},zt={fontMap:GV,makeSymbol:gu,mathsym:dSt,makeSpan:ws,makeSvgSpan:UV,makeLineSpan:ySt,makeAnchor:xSt,makeFragment:WV,wrapFragment:bSt,makeVList:wSt,makeOrd:mSt,makeGlue:TSt,staticSvg:ESt,svgData:VV,tryCombineChars:vSt},Ma={number:3,unit:"mu"},qp={number:4,unit:"mu"},Df={number:5,unit:"mu"},kSt={mord:{mop:Ma,mbin:qp,mrel:Df,minner:Ma},mop:{mord:Ma,mop:Ma,mrel:Df,minner:Ma},mbin:{mord:qp,mop:qp,mopen:qp,minner:qp},mrel:{mord:Df,mop:Df,mopen:Df,minner:Df},mopen:{},mclose:{mop:Ma,mbin:qp,mrel:Df,minner:Ma},mpunct:{mord:Ma,mop:Ma,mrel:Df,mopen:Ma,mclose:Ma,mpunct:Ma,minner:Ma},minner:{mord:Ma,mop:Ma,mbin:qp,mrel:Df,mopen:Ma,mpunct:Ma,minner:Ma}},CSt={mord:{mop:Ma},mop:{mord:Ma,mop:Ma},mbin:{},mrel:{},mopen:{},mclose:{mop:Ma},mpunct:{},minner:{mop:Ma}},HV={},l5={},u5={};c5=function(t){return t.type==="ordgroup"&&t.body.length===1?t.body[0]:t},Xa=function(t){return t.type==="ordgroup"?t.body:[t]},Mf=zt.makeSpan,SSt=["leftmost","mbin","mopen","mrel","mop","mpunct"],DSt=["rightmost","mrel","mclose","mpunct"],ASt={display:Ke.DISPLAY,text:Ke.TEXT,script:Ke.SCRIPT,scriptscript:Ke.SCRIPTSCRIPT},LSt={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},di=function(t,r,n,a){a===void 0&&(a=[null,null]);for(var i=[],o=0;o<t.length;o++){var s=an(t[o],r);if(s instanceof Up){var l=s.children;i.push(...l)}else i.push(s)}if(zt.tryCombineChars(i),!n)return i;var u=r;if(t.length===1){var f=t[0];f.type==="sizing"?u=r.havingSize(f.size):f.type==="styling"&&(u=r.havingStyle(ASt[f.style]))}var h=Mf([a[0]||"leftmost"],[],r),d=Mf([a[1]||"rightmost"],[],r),p=n==="root";return fV(i,(m,g)=>{var v=g.classes[0],y=m.classes[0];v==="mbin"&&DSt.includes(y)?g.classes[0]="mord":y==="mbin"&&SSt.includes(v)&&(m.classes[0]="mord")},{node:h},d,p),fV(i,(m,g)=>{var v=v8(g),y=v8(m),b=v&&y?m.hasClass("mtight")?CSt[v][y]:kSt[v][y]:null;if(b)return zt.makeGlue(b,u)},{node:h},d,p),i},fV=function e(t,r,n,a,i){a&&t.push(a);for(var o=0;o<t.length;o++){var s=t[o],l=YV(s);if(l){e(l.children,r,n,null,i);continue}var u=!s.hasClass("mspace");if(u){var f=r(s,n.node);f&&(n.insertAfter?n.insertAfter(f):(t.unshift(f),o++))}u?n.node=s:i&&s.hasClass("newline")&&(n.node=Mf(["leftmost"])),n.insertAfter=(h=>d=>{t.splice(h+1,0,d),o++})(o)}a&&t.pop()},YV=function(t){return t instanceof Up||t instanceof lx||t instanceof Wp&&t.hasClass("enclosing")?t:null},MSt=function e(t,r){var n=YV(t);if(n){var a=n.children;if(a.length){if(r==="right")return e(a[a.length-1],"right");if(r==="left")return e(a[0],"left")}}return t},v8=function(t,r){return t?(r&&(t=MSt(t,r)),LSt[t.classes[0]]||null):null},cx=function(t,r){var n=["nulldelimiter"].concat(t.baseSizingClasses());return Mf(r.concat(n))},an=function(t,r,n){if(!t)return Mf();if(l5[t.type]){var a=l5[t.type](t,r);if(n&&r.size!==n.size){a=Mf(r.sizingClasses(n),[a],r);var i=r.sizeMultiplier/n.sizeMultiplier;a.height*=i,a.depth*=i}return a}else throw new he("Got group of unknown type: '"+t.type+"'")};Ho=class{constructor(t,r,n){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=t,this.attributes={},this.children=r||[],this.classes=n||[]}setAttribute(t,r){this.attributes[t]=r}getAttribute(t){return this.attributes[t]}toNode(){var t=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&t.setAttribute(r,this.attributes[r]);this.classes.length>0&&(t.className=Vh(this.classes));for(var n=0;n<this.children.length;n++)if(this.children[n]instanceof Dl&&this.children[n+1]instanceof Dl){for(var a=this.children[n].toText()+this.children[++n].toText();this.children[n+1]instanceof Dl;)a+=this.children[++n].toText();t.appendChild(new Dl(a).toNode())}else t.appendChild(this.children[n].toNode());return t}toMarkup(){var t="<"+this.type;for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(t+=" "+r+'="',t+=pn.escape(this.attributes[r]),t+='"');this.classes.length>0&&(t+=' class ="'+pn.escape(Vh(this.classes))+'"'),t+=">";for(var n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t+="</"+this.type+">",t}toText(){return this.children.map(t=>t.toText()).join("")}},Dl=class{constructor(t){this.text=void 0,this.text=t}toNode(){return document.createTextNode(this.text)}toMarkup(){return pn.escape(this.toText())}toText(){return this.text}},x8=class{constructor(t){this.width=void 0,this.character=void 0,this.width=t,t>=.05555&&t<=.05556?this.character="\u200A":t>=.1666&&t<=.1667?this.character="\u2009":t>=.2222&&t<=.2223?this.character="\u2005":t>=.2777&&t<=.2778?this.character="\u2005\u200A":t>=-.05556&&t<=-.05555?this.character="\u200A\u2063":t>=-.1667&&t<=-.1666?this.character="\u2009\u2063":t>=-.2223&&t<=-.2222?this.character="\u205F\u2063":t>=-.2778&&t<=-.2777?this.character="\u2005\u2063":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var t=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return t.setAttribute("width",xe(this.width)),t}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+xe(this.width)+'"/>'}toText(){return this.character?this.character:" "}},le={MathNode:Ho,TextNode:Dl,SpaceNode:x8,newDocumentFragment:XV},Al=function(t,r,n){return ea[r][t]&&ea[r][t].replace&&t.charCodeAt(0)!==55349&&!(qV.hasOwnProperty(t)&&n&&(n.fontFamily&&n.fontFamily.slice(4,6)==="tt"||n.font&&n.font.slice(4,6)==="tt"))&&(t=ea[r][t].replace),new le.TextNode(t)},D8=function(t){return t.length===1?t[0]:new le.MathNode("mrow",t)},A8=function(t,r){if(r.fontFamily==="texttt")return"monospace";if(r.fontFamily==="textsf")return r.fontShape==="textit"&&r.fontWeight==="textbf"?"sans-serif-bold-italic":r.fontShape==="textit"?"sans-serif-italic":r.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(r.fontShape==="textit"&&r.fontWeight==="textbf")return"bold-italic";if(r.fontShape==="textit")return"italic";if(r.fontWeight==="textbf")return"bold";var n=r.font;if(!n||n==="mathnormal")return null;var a=t.mode;if(n==="mathit")return"italic";if(n==="boldsymbol")return t.type==="textord"?"bold":"bold-italic";if(n==="mathbf")return"bold";if(n==="mathbb")return"double-struck";if(n==="mathsfit")return"sans-serif-italic";if(n==="mathfrak")return"fraktur";if(n==="mathscr"||n==="mathcal")return"script";if(n==="mathsf")return"sans-serif";if(n==="mathtt")return"monospace";var i=t.text;if(["\\imath","\\jmath"].includes(i))return null;ea[a][i]&&ea[a][i].replace&&(i=ea[a][i].replace);var o=zt.fontMap[n].fontName;return C8(i,o,a)?zt.fontMap[n].variant:null};ks=function(t,r,n){if(t.length===1){var a=Gn(t[0],r);return n&&a instanceof Ho&&a.type==="mo"&&(a.setAttribute("lspace","0em"),a.setAttribute("rspace","0em")),[a]}for(var i=[],o,s=0;s<t.length;s++){var l=Gn(t[s],r);if(l instanceof Ho&&o instanceof Ho){if(l.type==="mtext"&&o.type==="mtext"&&l.getAttribute("mathvariant")===o.getAttribute("mathvariant")){o.children.push(...l.children);continue}else if(l.type==="mn"&&o.type==="mn"){o.children.push(...l.children);continue}else if(n8(l)&&o.type==="mn"){o.children.push(...l.children);continue}else if(l.type==="mn"&&n8(o))l.children=[...o.children,...l.children],i.pop();else if((l.type==="msup"||l.type==="msub")&&l.children.length>=1&&(o.type==="mn"||n8(o))){var u=l.children[0];u instanceof Ho&&u.type==="mn"&&(u.children=[...o.children,...u.children],i.pop())}else if(o.type==="mi"&&o.children.length===1){var f=o.children[0];if(f instanceof Dl&&f.text==="\u0338"&&(l.type==="mo"||l.type==="mi"||l.type==="mn")){var h=l.children[0];h instanceof Dl&&h.text.length>0&&(h.text=h.text.slice(0,1)+"\u0338"+h.text.slice(1),i.pop())}}}i.push(l),o=l}return i},Hh=function(t,r,n){return D8(ks(t,r,n))},Gn=function(t,r){if(!t)return new le.MathNode("mrow");if(u5[t.type]){var n=u5[t.type](t,r);return n}else throw new he("Got group of unknown type: '"+t.type+"'")};jV=function(t){return new o5({style:t.displayMode?Ke.DISPLAY:Ke.TEXT,maxSize:t.maxSize,minRuleThickness:t.minRuleThickness})},KV=function(t,r){if(r.displayMode){var n=["katex-display"];r.leqno&&n.push("leqno"),r.fleqn&&n.push("fleqn"),t=zt.makeSpan(n,[t])}return t},ISt=function(t,r,n){var a=jV(n),i;if(n.output==="mathml")return hV(t,r,a,n.displayMode,!0);if(n.output==="html"){var o=y8(t,a);i=zt.makeSpan(["katex"],[o])}else{var s=hV(t,r,a,n.displayMode,!1),l=y8(t,a);i=zt.makeSpan(["katex"],[s,l])}return KV(i,n)},RSt=function(t,r,n){var a=jV(n),i=y8(t,a),o=zt.makeSpan(["katex"],[i]);return KV(o,n)},NSt={widehat:"^",widecheck:"\u02C7",widetilde:"~",utilde:"~",overleftarrow:"\u2190",underleftarrow:"\u2190",xleftarrow:"\u2190",overrightarrow:"\u2192",underrightarrow:"\u2192",xrightarrow:"\u2192",underbrace:"\u23DF",overbrace:"\u23DE",overgroup:"\u23E0",undergroup:"\u23E1",overleftrightarrow:"\u2194",underleftrightarrow:"\u2194",xleftrightarrow:"\u2194",Overrightarrow:"\u21D2",xRightarrow:"\u21D2",overleftharpoon:"\u21BC",xleftharpoonup:"\u21BC",overrightharpoon:"\u21C0",xrightharpoonup:"\u21C0",xLeftarrow:"\u21D0",xLeftrightarrow:"\u21D4",xhookleftarrow:"\u21A9",xhookrightarrow:"\u21AA",xmapsto:"\u21A6",xrightharpoondown:"\u21C1",xleftharpoondown:"\u21BD",xrightleftharpoons:"\u21CC",xleftrightharpoons:"\u21CB",xtwoheadleftarrow:"\u219E",xtwoheadrightarrow:"\u21A0",xlongequal:"=",xtofrom:"\u21C4",xrightleftarrows:"\u21C4",xrightequilibrium:"\u21CC",xleftequilibrium:"\u21CB","\\cdrightarrow":"\u2192","\\cdleftarrow":"\u2190","\\cdlongequal":"="},OSt=function(t){var r=new le.MathNode("mo",[new le.TextNode(NSt[t.replace(/^\\/,"")])]);return r.setAttribute("stretchy","true"),r},FSt={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},PSt=function(t){return t.type==="ordgroup"?t.body.length:1},BSt=function(t,r){function n(){var s=4e5,l=t.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(l)){var u=t,f=PSt(u.base),h,d,p;if(f>5)l==="widehat"||l==="widecheck"?(h=420,s=2364,p=.42,d=l+"4"):(h=312,s=2340,p=.34,d="tilde4");else{var m=[1,1,2,2,3,3][f];l==="widehat"||l==="widecheck"?(s=[0,1062,2364,2364,2364][m],h=[0,239,300,360,420][m],p=[0,.24,.3,.3,.36,.42][m],d=l+m):(s=[0,600,1033,2339,2340][m],h=[0,260,286,306,312][m],p=[0,.26,.286,.3,.306,.34][m],d="tilde"+m)}var g=new oc(d),v=new vu([g],{width:"100%",height:xe(p),viewBox:"0 0 "+s+" "+h,preserveAspectRatio:"none"});return{span:zt.makeSvgSpan([],[v],r),minWidth:0,height:p}}else{var y=[],b=FSt[l],[_,k,w]=b,T=w/1e3,S=_.length,C,M;if(S===1){var N=b[3];C=["hide-tail"],M=[N]}else if(S===2)C=["halfarrow-left","halfarrow-right"],M=["xMinYMin","xMaxYMin"];else if(S===3)C=["brace-left","brace-center","brace-right"],M=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+S+" children.");for(var L=0;L<S;L++){var E=new oc(_[L]),A=new vu([E],{width:"400em",height:xe(T),viewBox:"0 0 "+s+" "+w,preserveAspectRatio:M[L]+" slice"}),D=zt.makeSvgSpan([C[L]],[A],r);if(S===1)return{span:D,minWidth:k,height:T};D.style.height=xe(T),y.push(D)}return{span:zt.makeSpan(["stretchy"],y,r),minWidth:k,height:T}}}var{span:a,minWidth:i,height:o}=n();return a.height=o,a.style.height=xe(o),i>0&&(a.style.minWidth=xe(i)),a},$St=function(t,r,n,a,i){var o,s=t.height+t.depth+n+a;if(/fbox|color|angl/.test(r)){if(o=zt.makeSpan(["stretchy",r],[],i),r==="fbox"){var l=i.color&&i.getColor();l&&(o.style.borderColor=l)}}else{var u=[];/^[bx]cancel$/.test(r)&&u.push(new ux({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(r)&&u.push(new ux({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var f=new vu(u,{width:"100%",height:xe(s)});o=zt.makeSvgSpan([],[f],i)}return o.height=s,o.style.height=xe(s),o},If={encloseSpan:$St,mathMLnode:OSt,svgSpan:BSt};M8=(e,t)=>{var r,n,a;e&&e.type==="supsub"?(n=gr(e.base,"accent"),r=n.base,e.base=r,a=uSt(an(e,t)),e.base=n):(n=gr(e,"accent"),r=n.base);var i=an(r,t.havingCrampedStyle()),o=n.isShifty&&pn.isCharacterBox(r),s=0;if(o){var l=pn.getBaseElem(r),u=an(l,t.havingCrampedStyle());s=sV(u).skew}var f=n.label==="\\c",h=f?i.height+i.depth:Math.min(i.height,t.fontMetrics().xHeight),d;if(n.isStretchy)d=If.svgSpan(n,t),d=zt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i},{type:"elem",elem:d,wrapperClasses:["svg-align"],wrapperStyle:s>0?{width:"calc(100% - "+xe(2*s)+")",marginLeft:xe(2*s)}:void 0}]},t);else{var p,m;n.label==="\\vec"?(p=zt.staticSvg("vec",t),m=zt.svgData.vec[1]):(p=zt.makeOrd({mode:n.mode,text:n.label},t,"textord"),p=sV(p),p.italic=0,m=p.width,f&&(h+=p.depth)),d=zt.makeSpan(["accent-body"],[p]);var g=n.label==="\\textcircled";g&&(d.classes.push("accent-full"),h=i.height);var v=s;g||(v-=m/2),d.style.left=xe(v),n.label==="\\textcircled"&&(d.style.top=".2em"),d=zt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i},{type:"kern",size:-h},{type:"elem",elem:d}]},t)}var y=zt.makeSpan(["mord","accent"],[d],t);return a?(a.children[0]=y,a.height=Math.max(y.height,a.height),a.classes[0]="mord",a):y},QV=(e,t)=>{var r=e.isStretchy?If.mathMLnode(e.label):new le.MathNode("mo",[Al(e.label,e.mode)]),n=new le.MathNode("mover",[Gn(e.base,t),r]);return n.setAttribute("accent","true"),n},zSt=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(e=>"\\"+e).join("|"));Ce({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(e,t)=>{var r=c5(t[0]),n=!zSt.test(e.funcName),a=!n||e.funcName==="\\widehat"||e.funcName==="\\widetilde"||e.funcName==="\\widecheck";return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:n,isShifty:a,base:r}},htmlBuilder:M8,mathmlBuilder:QV});Ce({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(e,t)=>{var r=t[0],n=e.parser.mode;return n==="math"&&(e.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+e.funcName+" works only in text mode"),n="text"),{type:"accent",mode:n,label:e.funcName,isStretchy:!1,isShifty:!0,base:r}},htmlBuilder:M8,mathmlBuilder:QV});Ce({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(e,t)=>{var{parser:r,funcName:n}=e,a=t[0];return{type:"accentUnder",mode:r.mode,label:n,base:a}},htmlBuilder:(e,t)=>{var r=an(e.base,t),n=If.svgSpan(e,t),a=e.label==="\\utilde"?.12:0,i=zt.makeVList({positionType:"top",positionData:r.height,children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:a},{type:"elem",elem:r}]},t);return zt.makeSpan(["mord","accentunder"],[i],t)},mathmlBuilder:(e,t)=>{var r=If.mathMLnode(e.label),n=new le.MathNode("munder",[Gn(e.base,t),r]);return n.setAttribute("accentunder","true"),n}});e5=e=>{var t=new le.MathNode("mpadded",e?[e]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t};Ce({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,r){var{parser:n,funcName:a}=e;return{type:"xArrow",mode:n.mode,label:a,body:t[0],below:r[0]}},htmlBuilder(e,t){var r=t.style,n=t.havingStyle(r.sup()),a=zt.wrapFragment(an(e.body,n,t),t),i=e.label.slice(0,2)==="\\x"?"x":"cd";a.classes.push(i+"-arrow-pad");var o;e.below&&(n=t.havingStyle(r.sub()),o=zt.wrapFragment(an(e.below,n,t),t),o.classes.push(i+"-arrow-pad"));var s=If.svgSpan(e,t),l=-t.fontMetrics().axisHeight+.5*s.height,u=-t.fontMetrics().axisHeight-.5*s.height-.111;(a.depth>.25||e.label==="\\xleftequilibrium")&&(u-=a.depth);var f;if(o){var h=-t.fontMetrics().axisHeight+o.height+.5*s.height+.111;f=zt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:u},{type:"elem",elem:s,shift:l},{type:"elem",elem:o,shift:h}]},t)}else f=zt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:u},{type:"elem",elem:s,shift:l}]},t);return f.children[0].children[0].children[1].classes.push("svg-align"),zt.makeSpan(["mrel","x-arrow"],[f],t)},mathmlBuilder(e,t){var r=If.mathMLnode(e.label);r.setAttribute("minsize",e.label.charAt(0)==="x"?"1.75em":"3.0em");var n;if(e.body){var a=e5(Gn(e.body,t));if(e.below){var i=e5(Gn(e.below,t));n=new le.MathNode("munderover",[r,i,a])}else n=new le.MathNode("mover",[r,a])}else if(e.below){var o=e5(Gn(e.below,t));n=new le.MathNode("munder",[r,o])}else n=e5(),n=new le.MathNode("mover",[r,n]);return n}});qSt=zt.makeSpan;Ce({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(e,t){var{parser:r,funcName:n}=e,a=t[0];return{type:"mclass",mode:r.mode,mclass:"m"+n.slice(5),body:Xa(a),isCharacterBox:pn.isCharacterBox(a)}},htmlBuilder:ZV,mathmlBuilder:JV});g5=e=>{var t=e.type==="ordgroup"&&e.body.length?e.body[0]:e;return t.type==="atom"&&(t.family==="bin"||t.family==="rel")?"m"+t.family:"mord"};Ce({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(e,t){var{parser:r}=e;return{type:"mclass",mode:r.mode,mclass:g5(t[0]),body:Xa(t[1]),isCharacterBox:pn.isCharacterBox(t[1])}}});Ce({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(e,t){var{parser:r,funcName:n}=e,a=t[1],i=t[0],o;n!=="\\stackrel"?o=g5(a):o="mrel";var s={type:"op",mode:a.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:n!=="\\stackrel",body:Xa(a)},l={type:"supsub",mode:i.mode,base:s,sup:n==="\\underset"?null:i,sub:n==="\\underset"?i:null};return{type:"mclass",mode:r.mode,mclass:o,body:[l],isCharacterBox:pn.isCharacterBox(l)}},htmlBuilder:ZV,mathmlBuilder:JV});Ce({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"pmb",mode:r.mode,mclass:g5(t[0]),body:Xa(t[0])}},htmlBuilder(e,t){var r=di(e.body,t,!0),n=zt.makeSpan([e.mclass],r,t);return n.style.textShadow="0.02em 0.01em 0.04px",n},mathmlBuilder(e,t){var r=ks(e.body,t),n=new le.MathNode("mstyle",r);return n.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),n}});USt={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},dV=()=>({type:"styling",body:[],mode:"math",style:"display"}),pV=e=>e.type==="textord"&&e.text==="@",WSt=(e,t)=>(e.type==="mathord"||e.type==="atom")&&e.text===t;Ce({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:n}=e;return{type:"cdlabel",mode:r.mode,side:n.slice(4),label:t[0]}},htmlBuilder(e,t){var r=t.havingStyle(t.style.sup()),n=zt.wrapFragment(an(e.label,r,t),t);return n.classes.push("cd-label-"+e.side),n.style.bottom=xe(.8-n.depth),n.height=0,n.depth=0,n},mathmlBuilder(e,t){var r=new le.MathNode("mrow",[Gn(e.label,t)]);return r=new le.MathNode("mpadded",[r]),r.setAttribute("width","0"),e.side==="left"&&r.setAttribute("lspace","-1width"),r.setAttribute("voffset","0.7em"),r=new le.MathNode("mstyle",[r]),r.setAttribute("displaystyle","false"),r.setAttribute("scriptlevel","1"),r}});Ce({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(e,t){var{parser:r}=e;return{type:"cdlabelparent",mode:r.mode,fragment:t[0]}},htmlBuilder(e,t){var r=zt.wrapFragment(an(e.fragment,t),t);return r.classes.push("cd-vert-arrow"),r},mathmlBuilder(e,t){return new le.MathNode("mrow",[Gn(e.fragment,t)])}});Ce({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(e,t){for(var{parser:r}=e,n=gr(t[0],"ordgroup"),a=n.body,i="",o=0;o<a.length;o++){var s=gr(a[o],"textord");i+=s.text}var l=parseInt(i),u;if(isNaN(l))throw new he("\\@char has non-numeric argument "+i);if(l<0||l>=1114111)throw new he("\\@char with invalid code point "+i);return l<=65535?u=String.fromCharCode(l):(l-=65536,u=String.fromCharCode((l>>10)+55296,(l&1023)+56320)),{type:"textord",mode:r.mode,text:u}}});tH=(e,t)=>{var r=di(e.body,t.withColor(e.color),!1);return zt.makeFragment(r)},eH=(e,t)=>{var r=ks(e.body,t.withColor(e.color)),n=new le.MathNode("mstyle",r);return n.setAttribute("mathcolor",e.color),n};Ce({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(e,t){var{parser:r}=e,n=gr(t[0],"color-token").color,a=t[1];return{type:"color",mode:r.mode,color:n,body:Xa(a)}},htmlBuilder:tH,mathmlBuilder:eH});Ce({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(e,t){var{parser:r,breakOnTokenText:n}=e,a=gr(t[0],"color-token").color;r.gullet.macros.set("\\current@color",a);var i=r.parseExpression(!0,n);return{type:"color",mode:r.mode,color:a,body:i}},htmlBuilder:tH,mathmlBuilder:eH});Ce({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(e,t,r){var{parser:n}=e,a=n.gullet.future().text==="["?n.parseSizeGroup(!0):null,i=!n.settings.displayMode||!n.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:n.mode,newLine:i,size:a&&gr(a,"size").value}},htmlBuilder(e,t){var r=zt.makeSpan(["mspace"],[],t);return e.newLine&&(r.classes.push("newline"),e.size&&(r.style.marginTop=xe(Ia(e.size,t)))),r},mathmlBuilder(e,t){var r=new le.MathNode("mspace");return e.newLine&&(r.setAttribute("linebreak","newline"),e.size&&r.setAttribute("height",xe(Ia(e.size,t)))),r}});b8={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},rH=e=>{var t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new he("Expected a control sequence",e);return t},HSt=e=>{var t=e.gullet.popToken();return t.text==="="&&(t=e.gullet.popToken(),t.text===" "&&(t=e.gullet.popToken())),t},nH=(e,t,r,n)=>{var a=e.gullet.macros.get(r.text);a==null&&(r.noexpand=!0,a={tokens:[r],numArgs:0,unexpandable:!e.gullet.isExpandable(r.text)}),e.gullet.macros.set(t,a,n)};Ce({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t,funcName:r}=e;t.consumeSpaces();var n=t.fetch();if(b8[n.text])return(r==="\\global"||r==="\\\\globallong")&&(n.text=b8[n.text]),gr(t.parseFunction(),"internal");throw new he("Invalid token after macro prefix",n)}});Ce({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,n=t.gullet.popToken(),a=n.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(a))throw new he("Expected a control sequence",n);for(var i=0,o,s=[[]];t.gullet.future().text!=="{";)if(n=t.gullet.popToken(),n.text==="#"){if(t.gullet.future().text==="{"){o=t.gullet.future(),s[i].push("{");break}if(n=t.gullet.popToken(),!/^[1-9]$/.test(n.text))throw new he('Invalid argument number "'+n.text+'"');if(parseInt(n.text)!==i+1)throw new he('Argument number "'+n.text+'" out of order');i++,s.push([])}else{if(n.text==="EOF")throw new he("Expected a macro definition");s[i].push(n.text)}var{tokens:l}=t.gullet.consumeArg();return o&&l.unshift(o),(r==="\\edef"||r==="\\xdef")&&(l=t.gullet.expandTokens(l),l.reverse()),t.gullet.macros.set(a,{tokens:l,numArgs:i,delimiters:s},r===b8[r]),{type:"internal",mode:t.mode}}});Ce({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,n=rH(t.gullet.popToken());t.gullet.consumeSpaces();var a=HSt(t);return nH(t,n,a,r==="\\\\globallet"),{type:"internal",mode:t.mode}}});Ce({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,n=rH(t.gullet.popToken()),a=t.gullet.popToken(),i=t.gullet.popToken();return nH(t,n,i,r==="\\\\globalfuture"),t.gullet.pushToken(i),t.gullet.pushToken(a),{type:"internal",mode:t.mode}}});nx=function(t,r,n){var a=ea.math[t]&&ea.math[t].replace,i=C8(a||t,r,n);if(!i)throw new Error("Unsupported symbol "+t+" and font size "+r+".");return i},I8=function(t,r,n,a){var i=n.havingBaseStyle(r),o=zt.makeSpan(a.concat(i.sizingClasses(n)),[t],n),s=i.sizeMultiplier/n.sizeMultiplier;return o.height*=s,o.depth*=s,o.maxFontSize=i.sizeMultiplier,o},aH=function(t,r,n){var a=r.havingBaseStyle(n),i=(1-r.sizeMultiplier/a.sizeMultiplier)*r.fontMetrics().axisHeight;t.classes.push("delimcenter"),t.style.top=xe(i),t.height-=i,t.depth+=i},YSt=function(t,r,n,a,i,o){var s=zt.makeSymbol(t,"Main-Regular",i,a),l=I8(s,r,a,o);return n&&aH(l,a,r),l},XSt=function(t,r,n,a){return zt.makeSymbol(t,"Size"+r+"-Regular",n,a)},iH=function(t,r,n,a,i,o){var s=XSt(t,r,i,a),l=I8(zt.makeSpan(["delimsizing","size"+r],[s],a),Ke.TEXT,a,o);return n&&aH(l,a,Ke.TEXT),l},a8=function(t,r,n){var a;r==="Size1-Regular"?a="delim-size1":a="delim-size4";var i=zt.makeSpan(["delimsizinginner",a],[zt.makeSpan([],[zt.makeSymbol(t,r,n)])]);return{type:"elem",elem:i}},i8=function(t,r,n){var a=ic["Size4-Regular"][t.charCodeAt(0)]?ic["Size4-Regular"][t.charCodeAt(0)][4]:ic["Size1-Regular"][t.charCodeAt(0)][4],i=new oc("inner",rSt(t,Math.round(1e3*r))),o=new vu([i],{width:xe(a),height:xe(r),style:"width:"+xe(a),viewBox:"0 0 "+1e3*a+" "+Math.round(1e3*r),preserveAspectRatio:"xMinYMin"}),s=zt.makeSvgSpan([],[o],n);return s.height=r,s.style.height=xe(r),s.style.width=xe(a),{type:"elem",elem:s}},_8=.008,r5={type:"kern",size:-1*_8},jSt=["|","\\lvert","\\rvert","\\vert"],KSt=["\\|","\\lVert","\\rVert","\\Vert"],oH=function(t,r,n,a,i,o){var s,l,u,f,h="",d=0;s=u=f=t,l=null;var p="Size1-Regular";t==="\\uparrow"?u=f="\u23D0":t==="\\Uparrow"?u=f="\u2016":t==="\\downarrow"?s=u="\u23D0":t==="\\Downarrow"?s=u="\u2016":t==="\\updownarrow"?(s="\\uparrow",u="\u23D0",f="\\downarrow"):t==="\\Updownarrow"?(s="\\Uparrow",u="\u2016",f="\\Downarrow"):jSt.includes(t)?(u="\u2223",h="vert",d=333):KSt.includes(t)?(u="\u2225",h="doublevert",d=556):t==="["||t==="\\lbrack"?(s="\u23A1",u="\u23A2",f="\u23A3",p="Size4-Regular",h="lbrack",d=667):t==="]"||t==="\\rbrack"?(s="\u23A4",u="\u23A5",f="\u23A6",p="Size4-Regular",h="rbrack",d=667):t==="\\lfloor"||t==="\u230A"?(u=s="\u23A2",f="\u23A3",p="Size4-Regular",h="lfloor",d=667):t==="\\lceil"||t==="\u2308"?(s="\u23A1",u=f="\u23A2",p="Size4-Regular",h="lceil",d=667):t==="\\rfloor"||t==="\u230B"?(u=s="\u23A5",f="\u23A6",p="Size4-Regular",h="rfloor",d=667):t==="\\rceil"||t==="\u2309"?(s="\u23A4",u=f="\u23A5",p="Size4-Regular",h="rceil",d=667):t==="("||t==="\\lparen"?(s="\u239B",u="\u239C",f="\u239D",p="Size4-Regular",h="lparen",d=875):t===")"||t==="\\rparen"?(s="\u239E",u="\u239F",f="\u23A0",p="Size4-Regular",h="rparen",d=875):t==="\\{"||t==="\\lbrace"?(s="\u23A7",l="\u23A8",f="\u23A9",u="\u23AA",p="Size4-Regular"):t==="\\}"||t==="\\rbrace"?(s="\u23AB",l="\u23AC",f="\u23AD",u="\u23AA",p="Size4-Regular"):t==="\\lgroup"||t==="\u27EE"?(s="\u23A7",f="\u23A9",u="\u23AA",p="Size4-Regular"):t==="\\rgroup"||t==="\u27EF"?(s="\u23AB",f="\u23AD",u="\u23AA",p="Size4-Regular"):t==="\\lmoustache"||t==="\u23B0"?(s="\u23A7",f="\u23AD",u="\u23AA",p="Size4-Regular"):(t==="\\rmoustache"||t==="\u23B1")&&(s="\u23AB",f="\u23A9",u="\u23AA",p="Size4-Regular");var m=nx(s,p,i),g=m.height+m.depth,v=nx(u,p,i),y=v.height+v.depth,b=nx(f,p,i),_=b.height+b.depth,k=0,w=1;if(l!==null){var T=nx(l,p,i);k=T.height+T.depth,w=2}var S=g+_+k,C=Math.max(0,Math.ceil((r-S)/(w*y))),M=S+C*w*y,N=a.fontMetrics().axisHeight;n&&(N*=a.sizeMultiplier);var L=M/2-N,E=[];if(h.length>0){var A=M-g-_,D=Math.round(M*1e3),R=nSt(h,Math.round(A*1e3)),I=new oc(h,R),O=(d/1e3).toFixed(3)+"em",F=(D/1e3).toFixed(3)+"em",P=new vu([I],{width:O,height:F,viewBox:"0 0 "+d+" "+D}),q=zt.makeSvgSpan([],[P],a);q.height=D/1e3,q.style.width=O,q.style.height=F,E.push({type:"elem",elem:q})}else{if(E.push(a8(f,p,i)),E.push(r5),l===null){var $=M-g-_+2*_8;E.push(i8(u,$,a))}else{var W=(M-g-_-k)/2+2*_8;E.push(i8(u,W,a)),E.push(r5),E.push(a8(l,p,i)),E.push(r5),E.push(i8(u,W,a))}E.push(r5),E.push(a8(s,p,i))}var X=a.havingBaseStyle(Ke.TEXT),tt=zt.makeVList({positionType:"bottom",positionData:L,children:E},X);return I8(zt.makeSpan(["delimsizing","mult"],[tt],X),Ke.TEXT,a,o)},o8=80,s8=.08,l8=function(t,r,n,a,i){var o=eSt(t,a,n),s=new oc(t,o),l=new vu([s],{width:"400em",height:xe(r),viewBox:"0 0 400000 "+n,preserveAspectRatio:"xMinYMin slice"});return zt.makeSvgSpan(["hide-tail"],[l],i)},QSt=function(t,r){var n=r.havingBaseSizing(),a=cH("\\surd",t*n.sizeMultiplier,uH,n),i=n.sizeMultiplier,o=Math.max(0,r.minRuleThickness-r.fontMetrics().sqrtRuleThickness),s,l=0,u=0,f=0,h;return a.type==="small"?(f=1e3+1e3*o+o8,t<1?i=1:t<1.4&&(i=.7),l=(1+o+s8)/i,u=(1+o)/i,s=l8("sqrtMain",l,f,o,r),s.style.minWidth="0.853em",h=.833/i):a.type==="large"?(f=(1e3+o8)*ix[a.size],u=(ix[a.size]+o)/i,l=(ix[a.size]+o+s8)/i,s=l8("sqrtSize"+a.size,l,f,o,r),s.style.minWidth="1.02em",h=1/i):(l=t+o+s8,u=t+o,f=Math.floor(1e3*t+o)+o8,s=l8("sqrtTall",l,f,o,r),s.style.minWidth="0.742em",h=1.056),s.height=u,s.style.height=xe(l),{span:s,advanceWidth:h,ruleWidth:(r.fontMetrics().sqrtRuleThickness+o)*i}},sH=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230A","\u230B","\\lceil","\\rceil","\u2308","\u2309","\\surd"],ZSt=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27EE","\u27EF","\\lmoustache","\\rmoustache","\u23B0","\u23B1"],lH=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],ix=[0,1.2,1.8,2.4,3],JSt=function(t,r,n,a,i){if(t==="<"||t==="\\lt"||t==="\u27E8"?t="\\langle":(t===">"||t==="\\gt"||t==="\u27E9")&&(t="\\rangle"),sH.includes(t)||lH.includes(t))return iH(t,r,!1,n,a,i);if(ZSt.includes(t))return oH(t,ix[r],!1,n,a,i);throw new he("Illegal delimiter: '"+t+"'")},t6t=[{type:"small",style:Ke.SCRIPTSCRIPT},{type:"small",style:Ke.SCRIPT},{type:"small",style:Ke.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],e6t=[{type:"small",style:Ke.SCRIPTSCRIPT},{type:"small",style:Ke.SCRIPT},{type:"small",style:Ke.TEXT},{type:"stack"}],uH=[{type:"small",style:Ke.SCRIPTSCRIPT},{type:"small",style:Ke.SCRIPT},{type:"small",style:Ke.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],r6t=function(t){if(t.type==="small")return"Main-Regular";if(t.type==="large")return"Size"+t.size+"-Regular";if(t.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+t.type+"' here.")},cH=function(t,r,n,a){for(var i=Math.min(2,3-a.style.size),o=i;o<n.length&&n[o].type!=="stack";o++){var s=nx(t,r6t(n[o]),"math"),l=s.height+s.depth;if(n[o].type==="small"){var u=a.havingBaseStyle(n[o].style);l*=u.sizeMultiplier}if(l>r)return n[o]}return n[n.length-1]},fH=function(t,r,n,a,i,o){t==="<"||t==="\\lt"||t==="\u27E8"?t="\\langle":(t===">"||t==="\\gt"||t==="\u27E9")&&(t="\\rangle");var s;lH.includes(t)?s=t6t:sH.includes(t)?s=uH:s=e6t;var l=cH(t,r,s,a);return l.type==="small"?YSt(t,l.style,n,a,i,o):l.type==="large"?iH(t,l.size,n,a,i,o):oH(t,r,n,a,i,o)},n6t=function(t,r,n,a,i,o){var s=a.fontMetrics().axisHeight*a.sizeMultiplier,l=901,u=5/a.fontMetrics().ptPerEm,f=Math.max(r-s,n+s),h=Math.max(f/500*l,2*f-u);return fH(t,h,!0,a,i,o)},Lf={sqrtImage:QSt,sizedDelim:JSt,sizeToMaxHeight:ix,customSizedDelim:fH,leftRightDelim:n6t},mV={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},a6t=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230A","\u230B","\\lceil","\\rceil","\u2308","\u2309","<",">","\\langle","\u27E8","\\rangle","\u27E9","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27EE","\u27EF","\\lmoustache","\\rmoustache","\u23B0","\u23B1","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];Ce({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(e,t)=>{var r=v5(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:mV[e.funcName].size,mclass:mV[e.funcName].mclass,delim:r.text}},htmlBuilder:(e,t)=>e.delim==="."?zt.makeSpan([e.mclass]):Lf.sizedDelim(e.delim,e.size,t,e.mode,[e.mclass]),mathmlBuilder:e=>{var t=[];e.delim!=="."&&t.push(Al(e.delim,e.mode));var r=new le.MathNode("mo",t);e.mclass==="mopen"||e.mclass==="mclose"?r.setAttribute("fence","true"):r.setAttribute("fence","false"),r.setAttribute("stretchy","true");var n=xe(Lf.sizeToMaxHeight[e.size]);return r.setAttribute("minsize",n),r.setAttribute("maxsize",n),r}});Ce({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var r=e.parser.gullet.macros.get("\\current@color");if(r&&typeof r!="string")throw new he("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:v5(t[0],e).text,color:r}}});Ce({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var r=v5(t[0],e),n=e.parser;++n.leftrightDepth;var a=n.parseExpression(!1);--n.leftrightDepth,n.expect("\\right",!1);var i=gr(n.parseFunction(),"leftright-right");return{type:"leftright",mode:n.mode,body:a,left:r.text,right:i.delim,rightColor:i.color}},htmlBuilder:(e,t)=>{gV(e);for(var r=di(e.body,t,!0,["mopen","mclose"]),n=0,a=0,i=!1,o=0;o<r.length;o++)r[o].isMiddle?i=!0:(n=Math.max(r[o].height,n),a=Math.max(r[o].depth,a));n*=t.sizeMultiplier,a*=t.sizeMultiplier;var s;if(e.left==="."?s=cx(t,["mopen"]):s=Lf.leftRightDelim(e.left,n,a,t,e.mode,["mopen"]),r.unshift(s),i)for(var l=1;l<r.length;l++){var u=r[l],f=u.isMiddle;f&&(r[l]=Lf.leftRightDelim(f.delim,n,a,f.options,e.mode,[]))}var h;if(e.right===".")h=cx(t,["mclose"]);else{var d=e.rightColor?t.withColor(e.rightColor):t;h=Lf.leftRightDelim(e.right,n,a,d,e.mode,["mclose"])}return r.push(h),zt.makeSpan(["minner"],r,t)},mathmlBuilder:(e,t)=>{gV(e);var r=ks(e.body,t);if(e.left!=="."){var n=new le.MathNode("mo",[Al(e.left,e.mode)]);n.setAttribute("fence","true"),r.unshift(n)}if(e.right!=="."){var a=new le.MathNode("mo",[Al(e.right,e.mode)]);a.setAttribute("fence","true"),e.rightColor&&a.setAttribute("mathcolor",e.rightColor),r.push(a)}return D8(r)}});Ce({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var r=v5(t[0],e);if(!e.parser.leftrightDepth)throw new he("\\middle without preceding \\left",r);return{type:"middle",mode:e.parser.mode,delim:r.text}},htmlBuilder:(e,t)=>{var r;if(e.delim===".")r=cx(t,[]);else{r=Lf.sizedDelim(e.delim,1,t,e.mode,[]);var n={delim:e.delim,options:t};r.isMiddle=n}return r},mathmlBuilder:(e,t)=>{var r=e.delim==="\\vert"||e.delim==="|"?Al("|","text"):Al(e.delim,e.mode),n=new le.MathNode("mo",[r]);return n.setAttribute("fence","true"),n.setAttribute("lspace","0.05em"),n.setAttribute("rspace","0.05em"),n}});R8=(e,t)=>{var r=zt.wrapFragment(an(e.body,t),t),n=e.label.slice(1),a=t.sizeMultiplier,i,o=0,s=pn.isCharacterBox(e.body);if(n==="sout")i=zt.makeSpan(["stretchy","sout"]),i.height=t.fontMetrics().defaultRuleThickness/a,o=-.5*t.fontMetrics().xHeight;else if(n==="phase"){var l=Ia({number:.6,unit:"pt"},t),u=Ia({number:.35,unit:"ex"},t),f=t.havingBaseSizing();a=a/f.sizeMultiplier;var h=r.height+r.depth+l+u;r.style.paddingLeft=xe(h/2+l);var d=Math.floor(1e3*h*a),p=JCt(d),m=new vu([new oc("phase",p)],{width:"400em",height:xe(d/1e3),viewBox:"0 0 400000 "+d,preserveAspectRatio:"xMinYMin slice"});i=zt.makeSvgSpan(["hide-tail"],[m],t),i.style.height=xe(h),o=r.depth+l+u}else{/cancel/.test(n)?s||r.classes.push("cancel-pad"):n==="angl"?r.classes.push("anglpad"):r.classes.push("boxpad");var g=0,v=0,y=0;/box/.test(n)?(y=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),g=t.fontMetrics().fboxsep+(n==="colorbox"?0:y),v=g):n==="angl"?(y=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness),g=4*y,v=Math.max(0,.25-r.depth)):(g=s?.2:0,v=g),i=If.encloseSpan(r,n,g,v,t),/fbox|boxed|fcolorbox/.test(n)?(i.style.borderStyle="solid",i.style.borderWidth=xe(y)):n==="angl"&&y!==.049&&(i.style.borderTopWidth=xe(y),i.style.borderRightWidth=xe(y)),o=r.depth+v,e.backgroundColor&&(i.style.backgroundColor=e.backgroundColor,e.borderColor&&(i.style.borderColor=e.borderColor))}var b;if(e.backgroundColor)b=zt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:o},{type:"elem",elem:r,shift:0}]},t);else{var _=/cancel|phase/.test(n)?["svg-align"]:[];b=zt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:0},{type:"elem",elem:i,shift:o,wrapperClasses:_}]},t)}return/cancel/.test(n)&&(b.height=r.height,b.depth=r.depth),/cancel/.test(n)&&!s?zt.makeSpan(["mord","cancel-lap"],[b],t):zt.makeSpan(["mord"],[b],t)},N8=(e,t)=>{var r=0,n=new le.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Gn(e.body,t)]);switch(e.label){case"\\cancel":n.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":n.setAttribute("notation","downdiagonalstrike");break;case"\\phase":n.setAttribute("notation","phasorangle");break;case"\\sout":n.setAttribute("notation","horizontalstrike");break;case"\\fbox":n.setAttribute("notation","box");break;case"\\angl":n.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(r=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,n.setAttribute("width","+"+2*r+"pt"),n.setAttribute("height","+"+2*r+"pt"),n.setAttribute("lspace",r+"pt"),n.setAttribute("voffset",r+"pt"),e.label==="\\fcolorbox"){var a=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);n.setAttribute("style","border: "+a+"em solid "+String(e.borderColor))}break;case"\\xcancel":n.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return e.backgroundColor&&n.setAttribute("mathbackground",e.backgroundColor),n};Ce({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(e,t,r){var{parser:n,funcName:a}=e,i=gr(t[0],"color-token").color,o=t[1];return{type:"enclose",mode:n.mode,label:a,backgroundColor:i,body:o}},htmlBuilder:R8,mathmlBuilder:N8});Ce({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(e,t,r){var{parser:n,funcName:a}=e,i=gr(t[0],"color-token").color,o=gr(t[1],"color-token").color,s=t[2];return{type:"enclose",mode:n.mode,label:a,backgroundColor:o,borderColor:i,body:s}},htmlBuilder:R8,mathmlBuilder:N8});Ce({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"enclose",mode:r.mode,label:"\\fbox",body:t[0]}}});Ce({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:n}=e,a=t[0];return{type:"enclose",mode:r.mode,label:n,body:a}},htmlBuilder:R8,mathmlBuilder:N8});Ce({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(e,t){var{parser:r}=e;return{type:"enclose",mode:r.mode,label:"\\angl",body:t[0]}}});hH={};dH={};y5=e=>{var t=e.parser.settings;if(!t.displayMode)throw new he("{"+e.envName+"} can be used only in display mode.")};lc=function(t,r){var n,a,i=t.body.length,o=t.hLinesBeforeRow,s=0,l=new Array(i),u=[],f=Math.max(r.fontMetrics().arrayRuleWidth,r.minRuleThickness),h=1/r.fontMetrics().ptPerEm,d=5*h;if(t.colSeparationType&&t.colSeparationType==="small"){var p=r.havingStyle(Ke.SCRIPT).sizeMultiplier;d=.2778*(p/r.sizeMultiplier)}var m=t.colSeparationType==="CD"?Ia({number:3,unit:"ex"},r):12*h,g=3*h,v=t.arraystretch*m,y=.7*v,b=.3*v,_=0;function k(V){for(var Ut=0;Ut<V.length;++Ut)Ut>0&&(_+=.25),u.push({pos:_,isDashed:V[Ut]})}for(k(o[0]),n=0;n<t.body.length;++n){var w=t.body[n],T=y,S=b;s<w.length&&(s=w.length);var C=new Array(w.length);for(a=0;a<w.length;++a){var M=an(w[a],r);S<M.depth&&(S=M.depth),T<M.height&&(T=M.height),C[a]=M}var N=t.rowGaps[n],L=0;N&&(L=Ia(N,r),L>0&&(L+=b,S<L&&(S=L),L=0)),t.addJot&&(S+=g),C.height=T,C.depth=S,_+=T,C.pos=_,_+=S+L,l[n]=C,k(o[n+1])}var E=_/2+r.fontMetrics().axisHeight,A=t.cols||[],D=[],R,I,O=[];if(t.tags&&t.tags.some(V=>V))for(n=0;n<i;++n){var F=l[n],P=F.pos-E,q=t.tags[n],$=void 0;q===!0?$=zt.makeSpan(["eqn-num"],[],r):q===!1?$=zt.makeSpan([],[],r):$=zt.makeSpan([],di(q,r,!0),r),$.depth=F.depth,$.height=F.height,O.push({type:"elem",elem:$,shift:P})}for(a=0,I=0;a<s||I<A.length;++a,++I){for(var W=A[I]||{},X=!0;W.type==="separator";){if(X||(R=zt.makeSpan(["arraycolsep"],[]),R.style.width=xe(r.fontMetrics().doubleRuleSep),D.push(R)),W.separator==="|"||W.separator===":"){var tt=W.separator==="|"?"solid":"dashed",Y=zt.makeSpan(["vertical-separator"],[],r);Y.style.height=xe(_),Y.style.borderRightWidth=xe(f),Y.style.borderRightStyle=tt,Y.style.margin="0 "+xe(-f/2);var ot=_-E;ot&&(Y.style.verticalAlign=xe(-ot)),D.push(Y)}else throw new he("Invalid separator type: "+W.separator);I++,W=A[I]||{},X=!1}if(!(a>=s)){var Z=void 0;(a>0||t.hskipBeforeAndAfter)&&(Z=pn.deflt(W.pregap,d),Z!==0&&(R=zt.makeSpan(["arraycolsep"],[]),R.style.width=xe(Z),D.push(R)));var ct=[];for(n=0;n<i;++n){var rt=l[n],et=rt[a];if(et){var Q=rt.pos-E;et.depth=rt.depth,et.height=rt.height,ct.push({type:"elem",elem:et,shift:Q})}}ct=zt.makeVList({positionType:"individualShift",children:ct},r),ct=zt.makeSpan(["col-align-"+(W.align||"c")],[ct]),D.push(ct),(a<s-1||t.hskipBeforeAndAfter)&&(Z=pn.deflt(W.postgap,d),Z!==0&&(R=zt.makeSpan(["arraycolsep"],[]),R.style.width=xe(Z),D.push(R)))}}if(l=zt.makeSpan(["mtable"],D),u.length>0){for(var j=zt.makeLineSpan("hline",r,f),it=zt.makeLineSpan("hdashline",r,f),K=[{type:"elem",elem:l,shift:0}];u.length>0;){var dt=u.pop(),nt=dt.pos-E;dt.isDashed?K.push({type:"elem",elem:it,shift:nt}):K.push({type:"elem",elem:j,shift:nt})}l=zt.makeVList({positionType:"individualShift",children:K},r)}if(O.length===0)return zt.makeSpan(["mord"],[l],r);var _t=zt.makeVList({positionType:"individualShift",children:O},r);return _t=zt.makeSpan(["tag"],[_t],r),zt.makeFragment([l,_t])},i6t={c:"center ",l:"left ",r:"right "},uc=function(t,r){for(var n=[],a=new le.MathNode("mtd",[],["mtr-glue"]),i=new le.MathNode("mtd",[],["mml-eqn-num"]),o=0;o<t.body.length;o++){for(var s=t.body[o],l=[],u=0;u<s.length;u++)l.push(new le.MathNode("mtd",[Gn(s[u],r)]));t.tags&&t.tags[o]&&(l.unshift(a),l.push(a),t.leqno?l.unshift(i):l.push(i)),n.push(new le.MathNode("mtr",l))}var f=new le.MathNode("mtable",n),h=t.arraystretch===.5?.1:.16+t.arraystretch-1+(t.addJot?.09:0);f.setAttribute("rowspacing",xe(h));var d="",p="";if(t.cols&&t.cols.length>0){var m=t.cols,g="",v=!1,y=0,b=m.length;m[0].type==="separator"&&(d+="top ",y=1),m[m.length-1].type==="separator"&&(d+="bottom ",b-=1);for(var _=y;_<b;_++)m[_].type==="align"?(p+=i6t[m[_].align],v&&(g+="none "),v=!0):m[_].type==="separator"&&v&&(g+=m[_].separator==="|"?"solid ":"dashed ",v=!1);f.setAttribute("columnalign",p.trim()),/[sd]/.test(g)&&f.setAttribute("columnlines",g.trim())}if(t.colSeparationType==="align"){for(var k=t.cols||[],w="",T=1;T<k.length;T++)w+=T%2?"0em ":"1em ";f.setAttribute("columnspacing",w.trim())}else t.colSeparationType==="alignat"||t.colSeparationType==="gather"?f.setAttribute("columnspacing","0em"):t.colSeparationType==="small"?f.setAttribute("columnspacing","0.2778em"):t.colSeparationType==="CD"?f.setAttribute("columnspacing","0.5em"):f.setAttribute("columnspacing","1em");var S="",C=t.hLinesBeforeRow;d+=C[0].length>0?"left ":"",d+=C[C.length-1].length>0?"right ":"";for(var M=1;M<C.length-1;M++)S+=C[M].length===0?"none ":C[M][0]?"dashed ":"solid ";return/[sd]/.test(S)&&f.setAttribute("rowlines",S.trim()),d!==""&&(f=new le.MathNode("menclose",[f]),f.setAttribute("notation",d.trim())),t.arraystretch&&t.arraystretch<1&&(f=new le.MathNode("mstyle",[f]),f.setAttribute("scriptlevel","1")),f},pH=function(t,r){t.envName.indexOf("ed")===-1&&y5(t);var n=[],a=t.envName.indexOf("at")>-1?"alignat":"align",i=t.envName==="split",o=Yh(t.parser,{cols:n,addJot:!0,autoTag:i?void 0:O8(t.envName),emptySingleRow:!0,colSeparationType:a,maxNumCols:i?2:void 0,leqno:t.parser.settings.leqno},"display"),s,l=0,u={type:"ordgroup",mode:t.mode,body:[]};if(r[0]&&r[0].type==="ordgroup"){for(var f="",h=0;h<r[0].body.length;h++){var d=gr(r[0].body[h],"textord");f+=d.text}s=Number(f),l=s*2}var p=!l;o.body.forEach(function(y){for(var b=1;b<y.length;b+=2){var _=gr(y[b],"styling"),k=gr(_.body[0],"ordgroup");k.body.unshift(u)}if(p)l<y.length&&(l=y.length);else{var w=y.length/2;if(s<w)throw new he("Too many math in a row: "+("expected "+s+", but got "+w),y[0])}});for(var m=0;m<l;++m){var g="r",v=0;m%2===1?g="l":m>0&&p&&(v=1),n[m]={type:"align",align:g,pregap:v,postgap:0}}return o.colSeparationType=p?"align":"alignat",o};sc({type:"array",names:["array","darray"],props:{numArgs:1},handler(e,t){var r=m5(t[0]),n=r?[t[0]]:gr(t[0],"ordgroup").body,a=n.map(function(o){var s=L8(o),l=s.text;if("lcr".indexOf(l)!==-1)return{type:"align",align:l};if(l==="|")return{type:"separator",separator:"|"};if(l===":")return{type:"separator",separator:":"};throw new he("Unknown column alignment: "+l,o)}),i={cols:a,hskipBeforeAndAfter:!0,maxNumCols:a.length};return Yh(e.parser,i,F8(e.envName))},htmlBuilder:lc,mathmlBuilder:uc});sc({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")],r="c",n={hskipBeforeAndAfter:!1,cols:[{type:"align",align:r}]};if(e.envName.charAt(e.envName.length-1)==="*"){var a=e.parser;if(a.consumeSpaces(),a.fetch().text==="["){if(a.consume(),a.consumeSpaces(),r=a.fetch().text,"lcr".indexOf(r)===-1)throw new he("Expected l or c or r",a.nextToken);a.consume(),a.consumeSpaces(),a.expect("]"),a.consume(),n.cols=[{type:"align",align:r}]}}var i=Yh(e.parser,n,F8(e.envName)),o=Math.max(0,...i.body.map(s=>s.length));return i.cols=new Array(o).fill({type:"align",align:r}),t?{type:"leftright",mode:e.mode,body:[i],left:t[0],right:t[1],rightColor:void 0}:i},htmlBuilder:lc,mathmlBuilder:uc});sc({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(e){var t={arraystretch:.5},r=Yh(e.parser,t,"script");return r.colSeparationType="small",r},htmlBuilder:lc,mathmlBuilder:uc});sc({type:"array",names:["subarray"],props:{numArgs:1},handler(e,t){var r=m5(t[0]),n=r?[t[0]]:gr(t[0],"ordgroup").body,a=n.map(function(o){var s=L8(o),l=s.text;if("lc".indexOf(l)!==-1)return{type:"align",align:l};throw new he("Unknown column alignment: "+l,o)});if(a.length>1)throw new he("{subarray} can contain only one column");var i={cols:a,hskipBeforeAndAfter:!1,arraystretch:.5};if(i=Yh(e.parser,i,"script"),i.body.length>0&&i.body[0].length>1)throw new he("{subarray} can contain only one column");return i},htmlBuilder:lc,mathmlBuilder:uc});sc({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(e){var t={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},r=Yh(e.parser,t,F8(e.envName));return{type:"leftright",mode:e.mode,body:[r],left:e.envName.indexOf("r")>-1?".":"\\{",right:e.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:lc,mathmlBuilder:uc});sc({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:pH,htmlBuilder:lc,mathmlBuilder:uc});sc({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(e){["gather","gather*"].includes(e.envName)&&y5(e);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:O8(e.envName),emptySingleRow:!0,leqno:e.parser.settings.leqno};return Yh(e.parser,t,"display")},htmlBuilder:lc,mathmlBuilder:uc});sc({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:pH,htmlBuilder:lc,mathmlBuilder:uc});sc({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(e){y5(e);var t={autoTag:O8(e.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return Yh(e.parser,t,"display")},htmlBuilder:lc,mathmlBuilder:uc});sc({type:"array",names:["CD"],props:{numArgs:0},handler(e){return y5(e),VSt(e.parser)},htmlBuilder:lc,mathmlBuilder:uc});ut("\\nonumber","\\gdef\\@eqnsw{0}");ut("\\notag","\\nonumber");Ce({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(e,t){throw new he(e.funcName+" valid only within array environment")}});yV=hH;Ce({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(e,t){var{parser:r,funcName:n}=e,a=t[0];if(a.type!=="ordgroup")throw new he("Invalid environment name",a);for(var i="",o=0;o<a.body.length;++o)i+=gr(a.body[o],"textord").text;if(n==="\\begin"){if(!yV.hasOwnProperty(i))throw new he("No such environment: "+i,a);var s=yV[i],{args:l,optArgs:u}=r.parseArguments("\\begin{"+i+"}",s),f={mode:r.mode,envName:i,parser:r},h=s.handler(f,l,u);r.expect("\\end",!1);var d=r.nextToken,p=gr(r.parseFunction(),"environment");if(p.name!==i)throw new he("Mismatch: \\begin{"+i+"} matched by \\end{"+p.name+"}",d);return h}return{type:"environment",mode:r.mode,name:i,nameGroup:a}}});mH=(e,t)=>{var r=e.font,n=t.withFont(r);return an(e.body,n)},gH=(e,t)=>{var r=e.font,n=t.withFont(r);return Gn(e.body,n)},xV={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Ce({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(e,t)=>{var{parser:r,funcName:n}=e,a=c5(t[0]),i=n;return i in xV&&(i=xV[i]),{type:"font",mode:r.mode,font:i.slice(1),body:a}},htmlBuilder:mH,mathmlBuilder:gH});Ce({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(e,t)=>{var{parser:r}=e,n=t[0],a=pn.isCharacterBox(n);return{type:"mclass",mode:r.mode,mclass:g5(n),body:[{type:"font",mode:r.mode,font:"boldsymbol",body:n}],isCharacterBox:a}}});Ce({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{parser:r,funcName:n,breakOnTokenText:a}=e,{mode:i}=r,o=r.parseExpression(!0,a),s="math"+n.slice(1);return{type:"font",mode:i,font:s,body:{type:"ordgroup",mode:r.mode,body:o}}},htmlBuilder:mH,mathmlBuilder:gH});vH=(e,t)=>{var r=t;return e==="display"?r=r.id>=Ke.SCRIPT.id?r.text():Ke.DISPLAY:e==="text"&&r.size===Ke.DISPLAY.size?r=Ke.TEXT:e==="script"?r=Ke.SCRIPT:e==="scriptscript"&&(r=Ke.SCRIPTSCRIPT),r},P8=(e,t)=>{var r=vH(e.size,t.style),n=r.fracNum(),a=r.fracDen(),i;i=t.havingStyle(n);var o=an(e.numer,i,t);if(e.continued){var s=8.5/t.fontMetrics().ptPerEm,l=3.5/t.fontMetrics().ptPerEm;o.height=o.height<s?s:o.height,o.depth=o.depth<l?l:o.depth}i=t.havingStyle(a);var u=an(e.denom,i,t),f,h,d;e.hasBarLine?(e.barSize?(h=Ia(e.barSize,t),f=zt.makeLineSpan("frac-line",t,h)):f=zt.makeLineSpan("frac-line",t),h=f.height,d=f.height):(f=null,h=0,d=t.fontMetrics().defaultRuleThickness);var p,m,g;r.size===Ke.DISPLAY.size||e.size==="display"?(p=t.fontMetrics().num1,h>0?m=3*d:m=7*d,g=t.fontMetrics().denom1):(h>0?(p=t.fontMetrics().num2,m=d):(p=t.fontMetrics().num3,m=3*d),g=t.fontMetrics().denom2);var v;if(f){var b=t.fontMetrics().axisHeight;p-o.depth-(b+.5*h)<m&&(p+=m-(p-o.depth-(b+.5*h))),b-.5*h-(u.height-g)<m&&(g+=m-(b-.5*h-(u.height-g)));var _=-(b-.5*h);v=zt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:g},{type:"elem",elem:f,shift:_},{type:"elem",elem:o,shift:-p}]},t)}else{var y=p-o.depth-(u.height-g);y<m&&(p+=.5*(m-y),g+=.5*(m-y)),v=zt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:g},{type:"elem",elem:o,shift:-p}]},t)}i=t.havingStyle(r),v.height*=i.sizeMultiplier/t.sizeMultiplier,v.depth*=i.sizeMultiplier/t.sizeMultiplier;var k;r.size===Ke.DISPLAY.size?k=t.fontMetrics().delim1:r.size===Ke.SCRIPTSCRIPT.size?k=t.havingStyle(Ke.SCRIPT).fontMetrics().delim2:k=t.fontMetrics().delim2;var w,T;return e.leftDelim==null?w=cx(t,["mopen"]):w=Lf.customSizedDelim(e.leftDelim,k,!0,t.havingStyle(r),e.mode,["mopen"]),e.continued?T=zt.makeSpan([]):e.rightDelim==null?T=cx(t,["mclose"]):T=Lf.customSizedDelim(e.rightDelim,k,!0,t.havingStyle(r),e.mode,["mclose"]),zt.makeSpan(["mord"].concat(i.sizingClasses(t)),[w,zt.makeSpan(["mfrac"],[v]),T],t)},B8=(e,t)=>{var r=new le.MathNode("mfrac",[Gn(e.numer,t),Gn(e.denom,t)]);if(!e.hasBarLine)r.setAttribute("linethickness","0px");else if(e.barSize){var n=Ia(e.barSize,t);r.setAttribute("linethickness",xe(n))}var a=vH(e.size,t.style);if(a.size!==t.style.size){r=new le.MathNode("mstyle",[r]);var i=a.size===Ke.DISPLAY.size?"true":"false";r.setAttribute("displaystyle",i),r.setAttribute("scriptlevel","0")}if(e.leftDelim!=null||e.rightDelim!=null){var o=[];if(e.leftDelim!=null){var s=new le.MathNode("mo",[new le.TextNode(e.leftDelim.replace("\\",""))]);s.setAttribute("fence","true"),o.push(s)}if(o.push(r),e.rightDelim!=null){var l=new le.MathNode("mo",[new le.TextNode(e.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),o.push(l)}return D8(o)}return r};Ce({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(e,t)=>{var{parser:r,funcName:n}=e,a=t[0],i=t[1],o,s=null,l=null,u="auto";switch(n){case"\\dfrac":case"\\frac":case"\\tfrac":o=!0;break;case"\\\\atopfrac":o=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":o=!1,s="(",l=")";break;case"\\\\bracefrac":o=!1,s="\\{",l="\\}";break;case"\\\\brackfrac":o=!1,s="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(n){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text";break}return{type:"genfrac",mode:r.mode,continued:!1,numer:a,denom:i,hasBarLine:o,leftDelim:s,rightDelim:l,size:u,barSize:null}},htmlBuilder:P8,mathmlBuilder:B8});Ce({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(e,t)=>{var{parser:r,funcName:n}=e,a=t[0],i=t[1];return{type:"genfrac",mode:r.mode,continued:!0,numer:a,denom:i,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});Ce({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(e){var{parser:t,funcName:r,token:n}=e,a;switch(r){case"\\over":a="\\frac";break;case"\\choose":a="\\binom";break;case"\\atop":a="\\\\atopfrac";break;case"\\brace":a="\\\\bracefrac";break;case"\\brack":a="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:t.mode,replaceWith:a,token:n}}});bV=["display","text","script","scriptscript"],_V=function(t){var r=null;return t.length>0&&(r=t,r=r==="."?null:r),r};Ce({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(e,t){var{parser:r}=e,n=t[4],a=t[5],i=c5(t[0]),o=i.type==="atom"&&i.family==="open"?_V(i.text):null,s=c5(t[1]),l=s.type==="atom"&&s.family==="close"?_V(s.text):null,u=gr(t[2],"size"),f,h=null;u.isBlank?f=!0:(h=u.value,f=h.number>0);var d="auto",p=t[3];if(p.type==="ordgroup"){if(p.body.length>0){var m=gr(p.body[0],"textord");d=bV[Number(m.text)]}}else p=gr(p,"textord"),d=bV[Number(p.text)];return{type:"genfrac",mode:r.mode,numer:n,denom:a,continued:!1,hasBarLine:f,barSize:h,leftDelim:o,rightDelim:l,size:d}},htmlBuilder:P8,mathmlBuilder:B8});Ce({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(e,t){var{parser:r,funcName:n,token:a}=e;return{type:"infix",mode:r.mode,replaceWith:"\\\\abovefrac",size:gr(t[0],"size").value,token:a}}});Ce({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(e,t)=>{var{parser:r,funcName:n}=e,a=t[0],i=BCt(gr(t[1],"infix").size),o=t[2],s=i.number>0;return{type:"genfrac",mode:r.mode,numer:a,denom:o,continued:!1,hasBarLine:s,barSize:i,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:P8,mathmlBuilder:B8});yH=(e,t)=>{var r=t.style,n,a;e.type==="supsub"?(n=e.sup?an(e.sup,t.havingStyle(r.sup()),t):an(e.sub,t.havingStyle(r.sub()),t),a=gr(e.base,"horizBrace")):a=gr(e,"horizBrace");var i=an(a.base,t.havingBaseStyle(Ke.DISPLAY)),o=If.svgSpan(a,t),s;if(a.isOver?(s=zt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i},{type:"kern",size:.1},{type:"elem",elem:o}]},t),s.children[0].children[0].children[1].classes.push("svg-align")):(s=zt.makeVList({positionType:"bottom",positionData:i.depth+.1+o.height,children:[{type:"elem",elem:o},{type:"kern",size:.1},{type:"elem",elem:i}]},t),s.children[0].children[0].children[0].classes.push("svg-align")),n){var l=zt.makeSpan(["mord",a.isOver?"mover":"munder"],[s],t);a.isOver?s=zt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:n}]},t):s=zt.makeVList({positionType:"bottom",positionData:l.depth+.2+n.height+n.depth,children:[{type:"elem",elem:n},{type:"kern",size:.2},{type:"elem",elem:l}]},t)}return zt.makeSpan(["mord",a.isOver?"mover":"munder"],[s],t)},o6t=(e,t)=>{var r=If.mathMLnode(e.label);return new le.MathNode(e.isOver?"mover":"munder",[Gn(e.base,t),r])};Ce({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:n}=e;return{type:"horizBrace",mode:r.mode,label:n,isOver:/^\\over/.test(n),base:t[0]}},htmlBuilder:yH,mathmlBuilder:o6t});Ce({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,n=t[1],a=gr(t[0],"url").url;return r.settings.isTrusted({command:"\\href",url:a})?{type:"href",mode:r.mode,href:a,body:Xa(n)}:r.formatUnsupportedCmd("\\href")},htmlBuilder:(e,t)=>{var r=di(e.body,t,!1);return zt.makeAnchor(e.href,[],r,t)},mathmlBuilder:(e,t)=>{var r=Hh(e.body,t);return r instanceof Ho||(r=new Ho("mrow",[r])),r.setAttribute("href",e.href),r}});Ce({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,n=gr(t[0],"url").url;if(!r.settings.isTrusted({command:"\\url",url:n}))return r.formatUnsupportedCmd("\\url");for(var a=[],i=0;i<n.length;i++){var o=n[i];o==="~"&&(o="\\textasciitilde"),a.push({type:"textord",mode:"text",text:o})}var s={type:"text",mode:r.mode,font:"\\texttt",body:a};return{type:"href",mode:r.mode,href:n,body:Xa(s)}}});Ce({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(e,t){var{parser:r}=e;return{type:"hbox",mode:r.mode,body:Xa(t[0])}},htmlBuilder(e,t){var r=di(e.body,t,!1);return zt.makeFragment(r)},mathmlBuilder(e,t){return new le.MathNode("mrow",ks(e.body,t))}});Ce({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(e,t)=>{var{parser:r,funcName:n,token:a}=e,i=gr(t[0],"raw").string,o=t[1];r.settings.strict&&r.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var s,l={};switch(n){case"\\htmlClass":l.class=i,s={command:"\\htmlClass",class:i};break;case"\\htmlId":l.id=i,s={command:"\\htmlId",id:i};break;case"\\htmlStyle":l.style=i,s={command:"\\htmlStyle",style:i};break;case"\\htmlData":{for(var u=i.split(","),f=0;f<u.length;f++){var h=u[f].split("=");if(h.length!==2)throw new he("Error parsing key-value for \\htmlData");l["data-"+h[0].trim()]=h[1].trim()}s={command:"\\htmlData",attributes:l};break}default:throw new Error("Unrecognized html command")}return r.settings.isTrusted(s)?{type:"html",mode:r.mode,attributes:l,body:Xa(o)}:r.formatUnsupportedCmd(n)},htmlBuilder:(e,t)=>{var r=di(e.body,t,!1),n=["enclosing"];e.attributes.class&&n.push(...e.attributes.class.trim().split(/\s+/));var a=zt.makeSpan(n,r,t);for(var i in e.attributes)i!=="class"&&e.attributes.hasOwnProperty(i)&&a.setAttribute(i,e.attributes[i]);return a},mathmlBuilder:(e,t)=>Hh(e.body,t)});Ce({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(e,t)=>{var{parser:r}=e;return{type:"htmlmathml",mode:r.mode,html:Xa(t[0]),mathml:Xa(t[1])}},htmlBuilder:(e,t)=>{var r=di(e.html,t,!1);return zt.makeFragment(r)},mathmlBuilder:(e,t)=>Hh(e.mathml,t)});u8=function(t){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(t))return{number:+t,unit:"bp"};var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t);if(!r)throw new he("Invalid size: '"+t+"' in \\includegraphics");var n={number:+(r[1]+r[2]),unit:r[3]};if(!PV(n))throw new he("Invalid unit: '"+n.unit+"' in \\includegraphics.");return n};Ce({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(e,t,r)=>{var{parser:n}=e,a={number:0,unit:"em"},i={number:.9,unit:"em"},o={number:0,unit:"em"},s="";if(r[0])for(var l=gr(r[0],"raw").string,u=l.split(","),f=0;f<u.length;f++){var h=u[f].split("=");if(h.length===2){var d=h[1].trim();switch(h[0].trim()){case"alt":s=d;break;case"width":a=u8(d);break;case"height":i=u8(d);break;case"totalheight":o=u8(d);break;default:throw new he("Invalid key: '"+h[0]+"' in \\includegraphics.")}}}var p=gr(t[0],"url").url;return s===""&&(s=p,s=s.replace(/^.*[\\/]/,""),s=s.substring(0,s.lastIndexOf("."))),n.settings.isTrusted({command:"\\includegraphics",url:p})?{type:"includegraphics",mode:n.mode,alt:s,width:a,height:i,totalheight:o,src:p}:n.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(e,t)=>{var r=Ia(e.height,t),n=0;e.totalheight.number>0&&(n=Ia(e.totalheight,t)-r);var a=0;e.width.number>0&&(a=Ia(e.width,t));var i={height:xe(r+n)};a>0&&(i.width=xe(a)),n>0&&(i.verticalAlign=xe(-n));var o=new m8(e.src,e.alt,i);return o.height=r,o.depth=n,o},mathmlBuilder:(e,t)=>{var r=new le.MathNode("mglyph",[]);r.setAttribute("alt",e.alt);var n=Ia(e.height,t),a=0;if(e.totalheight.number>0&&(a=Ia(e.totalheight,t)-n,r.setAttribute("valign",xe(-a))),r.setAttribute("height",xe(n+a)),e.width.number>0){var i=Ia(e.width,t);r.setAttribute("width",xe(i))}return r.setAttribute("src",e.src),r}});Ce({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(e,t){var{parser:r,funcName:n}=e,a=gr(t[0],"size");if(r.settings.strict){var i=n[1]==="m",o=a.value.unit==="mu";i?(o||r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" supports only mu units, "+("not "+a.value.unit+" units")),r.mode!=="math"&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" works only in math mode")):o&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" doesn't support mu units")}return{type:"kern",mode:r.mode,dimension:a.value}},htmlBuilder(e,t){return zt.makeGlue(e.dimension,t)},mathmlBuilder(e,t){var r=Ia(e.dimension,t);return new le.SpaceNode(r)}});Ce({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:r,funcName:n}=e,a=t[0];return{type:"lap",mode:r.mode,alignment:n.slice(5),body:a}},htmlBuilder:(e,t)=>{var r;e.alignment==="clap"?(r=zt.makeSpan([],[an(e.body,t)]),r=zt.makeSpan(["inner"],[r],t)):r=zt.makeSpan(["inner"],[an(e.body,t)]);var n=zt.makeSpan(["fix"],[]),a=zt.makeSpan([e.alignment],[r,n],t),i=zt.makeSpan(["strut"]);return i.style.height=xe(a.height+a.depth),a.depth&&(i.style.verticalAlign=xe(-a.depth)),a.children.unshift(i),a=zt.makeSpan(["thinbox"],[a],t),zt.makeSpan(["mord","vbox"],[a],t)},mathmlBuilder:(e,t)=>{var r=new le.MathNode("mpadded",[Gn(e.body,t)]);if(e.alignment!=="rlap"){var n=e.alignment==="llap"?"-1":"-0.5";r.setAttribute("lspace",n+"width")}return r.setAttribute("width","0px"),r}});Ce({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){var{funcName:r,parser:n}=e,a=n.mode;n.switchMode("math");var i=r==="\\("?"\\)":"$",o=n.parseExpression(!1,i);return n.expect(i),n.switchMode(a),{type:"styling",mode:n.mode,style:"text",body:o}}});Ce({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){throw new he("Mismatched "+e.funcName)}});wV=(e,t)=>{switch(t.style.size){case Ke.DISPLAY.size:return e.display;case Ke.TEXT.size:return e.text;case Ke.SCRIPT.size:return e.script;case Ke.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}};Ce({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(e,t)=>{var{parser:r}=e;return{type:"mathchoice",mode:r.mode,display:Xa(t[0]),text:Xa(t[1]),script:Xa(t[2]),scriptscript:Xa(t[3])}},htmlBuilder:(e,t)=>{var r=wV(e,t),n=di(r,t,!1);return zt.makeFragment(n)},mathmlBuilder:(e,t)=>{var r=wV(e,t);return Hh(r,t)}});xH=(e,t,r,n,a,i,o)=>{e=zt.makeSpan([],[e]);var s=r&&pn.isCharacterBox(r),l,u;if(t){var f=an(t,n.havingStyle(a.sup()),n);u={elem:f,kern:Math.max(n.fontMetrics().bigOpSpacing1,n.fontMetrics().bigOpSpacing3-f.depth)}}if(r){var h=an(r,n.havingStyle(a.sub()),n);l={elem:h,kern:Math.max(n.fontMetrics().bigOpSpacing2,n.fontMetrics().bigOpSpacing4-h.height)}}var d;if(u&&l){var p=n.fontMetrics().bigOpSpacing5+l.elem.height+l.elem.depth+l.kern+e.depth+o;d=zt.makeVList({positionType:"bottom",positionData:p,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:xe(-i)},{type:"kern",size:l.kern},{type:"elem",elem:e},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:xe(i)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else if(l){var m=e.height-o;d=zt.makeVList({positionType:"top",positionData:m,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:xe(-i)},{type:"kern",size:l.kern},{type:"elem",elem:e}]},n)}else if(u){var g=e.depth+o;d=zt.makeVList({positionType:"bottom",positionData:g,children:[{type:"elem",elem:e},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:xe(i)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else return e;var v=[d];if(l&&i!==0&&!s){var y=zt.makeSpan(["mspace"],[],n);y.style.marginRight=xe(i),v.unshift(y)}return zt.makeSpan(["mop","op-limits"],v,n)},bH=["\\smallint"],bg=(e,t)=>{var r,n,a=!1,i;e.type==="supsub"?(r=e.sup,n=e.sub,i=gr(e.base,"op"),a=!0):i=gr(e,"op");var o=t.style,s=!1;o.size===Ke.DISPLAY.size&&i.symbol&&!bH.includes(i.name)&&(s=!0);var l;if(i.symbol){var u=s?"Size2-Regular":"Size1-Regular",f="";if((i.name==="\\oiint"||i.name==="\\oiiint")&&(f=i.name.slice(1),i.name=f==="oiint"?"\\iint":"\\iiint"),l=zt.makeSymbol(i.name,u,"math",t,["mop","op-symbol",s?"large-op":"small-op"]),f.length>0){var h=l.italic,d=zt.staticSvg(f+"Size"+(s?"2":"1"),t);l=zt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:d,shift:s?.08:0}]},t),i.name="\\"+f,l.classes.unshift("mop"),l.italic=h}}else if(i.body){var p=di(i.body,t,!0);p.length===1&&p[0]instanceof Es?(l=p[0],l.classes[0]="mop"):l=zt.makeSpan(["mop"],p,t)}else{for(var m=[],g=1;g<i.name.length;g++)m.push(zt.mathsym(i.name[g],i.mode,t));l=zt.makeSpan(["mop"],m,t)}var v=0,y=0;return(l instanceof Es||i.name==="\\oiint"||i.name==="\\oiiint")&&!i.suppressBaseShift&&(v=(l.height-l.depth)/2-t.fontMetrics().axisHeight,y=l.italic),a?xH(l,r,n,t,o,y,v):(v&&(l.style.position="relative",l.style.top=xe(v)),l)},fx=(e,t)=>{var r;if(e.symbol)r=new Ho("mo",[Al(e.name,e.mode)]),bH.includes(e.name)&&r.setAttribute("largeop","false");else if(e.body)r=new Ho("mo",ks(e.body,t));else{r=new Ho("mi",[new Dl(e.name.slice(1))]);var n=new Ho("mo",[Al("\u2061","text")]);e.parentIsSupSub?r=new Ho("mrow",[r,n]):r=XV([r,n])}return r},s6t={"\u220F":"\\prod","\u2210":"\\coprod","\u2211":"\\sum","\u22C0":"\\bigwedge","\u22C1":"\\bigvee","\u22C2":"\\bigcap","\u22C3":"\\bigcup","\u2A00":"\\bigodot","\u2A01":"\\bigoplus","\u2A02":"\\bigotimes","\u2A04":"\\biguplus","\u2A06":"\\bigsqcup"};Ce({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","\u220F","\u2210","\u2211","\u22C0","\u22C1","\u22C2","\u22C3","\u2A00","\u2A01","\u2A02","\u2A04","\u2A06"],props:{numArgs:0},handler:(e,t)=>{var{parser:r,funcName:n}=e,a=n;return a.length===1&&(a=s6t[a]),{type:"op",mode:r.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:a}},htmlBuilder:bg,mathmlBuilder:fx});Ce({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var{parser:r}=e,n=t[0];return{type:"op",mode:r.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Xa(n)}},htmlBuilder:bg,mathmlBuilder:fx});l6t={"\u222B":"\\int","\u222C":"\\iint","\u222D":"\\iiint","\u222E":"\\oint","\u222F":"\\oiint","\u2230":"\\oiiint"};Ce({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(e){var{parser:t,funcName:r}=e;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:bg,mathmlBuilder:fx});Ce({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(e){var{parser:t,funcName:r}=e;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:bg,mathmlBuilder:fx});Ce({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","\u222B","\u222C","\u222D","\u222E","\u222F","\u2230"],props:{numArgs:0},handler(e){var{parser:t,funcName:r}=e,n=r;return n.length===1&&(n=l6t[n]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:bg,mathmlBuilder:fx});_H=(e,t)=>{var r,n,a=!1,i;e.type==="supsub"?(r=e.sup,n=e.sub,i=gr(e.base,"operatorname"),a=!0):i=gr(e,"operatorname");var o;if(i.body.length>0){for(var s=i.body.map(h=>{var d=h.text;return typeof d=="string"?{type:"textord",mode:h.mode,text:d}:h}),l=di(s,t.withFont("mathrm"),!0),u=0;u<l.length;u++){var f=l[u];f instanceof Es&&(f.text=f.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}o=zt.makeSpan(["mop"],l,t)}else o=zt.makeSpan(["mop"],[],t);return a?xH(o,r,n,t,t.style,0,0):o},u6t=(e,t)=>{for(var r=ks(e.body,t.withFont("mathrm")),n=!0,a=0;a<r.length;a++){var i=r[a];if(!(i instanceof le.SpaceNode))if(i instanceof le.MathNode)switch(i.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var o=i.children[0];i.children.length===1&&o instanceof le.TextNode?o.text=o.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):n=!1;break}default:n=!1}else n=!1}if(n){var s=r.map(f=>f.toText()).join("");r=[new le.TextNode(s)]}var l=new le.MathNode("mi",r);l.setAttribute("mathvariant","normal");var u=new le.MathNode("mo",[Al("\u2061","text")]);return e.parentIsSupSub?new le.MathNode("mrow",[l,u]):le.newDocumentFragment([l,u])};Ce({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(e,t)=>{var{parser:r,funcName:n}=e,a=t[0];return{type:"operatorname",mode:r.mode,body:Xa(a),alwaysHandleSupSub:n==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:_H,mathmlBuilder:u6t});ut("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Gp({type:"ordgroup",htmlBuilder(e,t){return e.semisimple?zt.makeFragment(di(e.body,t,!1)):zt.makeSpan(["mord"],di(e.body,t,!0),t)},mathmlBuilder(e,t){return Hh(e.body,t,!0)}});Ce({type:"overline",names:["\\overline"],props:{numArgs:1},handler(e,t){var{parser:r}=e,n=t[0];return{type:"overline",mode:r.mode,body:n}},htmlBuilder(e,t){var r=an(e.body,t.havingCrampedStyle()),n=zt.makeLineSpan("overline-line",t),a=t.fontMetrics().defaultRuleThickness,i=zt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:3*a},{type:"elem",elem:n},{type:"kern",size:a}]},t);return zt.makeSpan(["mord","overline"],[i],t)},mathmlBuilder(e,t){var r=new le.MathNode("mo",[new le.TextNode("\u203E")]);r.setAttribute("stretchy","true");var n=new le.MathNode("mover",[Gn(e.body,t),r]);return n.setAttribute("accent","true"),n}});Ce({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,n=t[0];return{type:"phantom",mode:r.mode,body:Xa(n)}},htmlBuilder:(e,t)=>{var r=di(e.body,t.withPhantom(),!1);return zt.makeFragment(r)},mathmlBuilder:(e,t)=>{var r=ks(e.body,t);return new le.MathNode("mphantom",r)}});Ce({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,n=t[0];return{type:"hphantom",mode:r.mode,body:n}},htmlBuilder:(e,t)=>{var r=zt.makeSpan([],[an(e.body,t.withPhantom())]);if(r.height=0,r.depth=0,r.children)for(var n=0;n<r.children.length;n++)r.children[n].height=0,r.children[n].depth=0;return r=zt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},t),zt.makeSpan(["mord"],[r],t)},mathmlBuilder:(e,t)=>{var r=ks(Xa(e.body),t),n=new le.MathNode("mphantom",r),a=new le.MathNode("mpadded",[n]);return a.setAttribute("height","0px"),a.setAttribute("depth","0px"),a}});Ce({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,n=t[0];return{type:"vphantom",mode:r.mode,body:n}},htmlBuilder:(e,t)=>{var r=zt.makeSpan(["inner"],[an(e.body,t.withPhantom())]),n=zt.makeSpan(["fix"],[]);return zt.makeSpan(["mord","rlap"],[r,n],t)},mathmlBuilder:(e,t)=>{var r=ks(Xa(e.body),t),n=new le.MathNode("mphantom",r),a=new le.MathNode("mpadded",[n]);return a.setAttribute("width","0px"),a}});Ce({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(e,t){var{parser:r}=e,n=gr(t[0],"size").value,a=t[1];return{type:"raisebox",mode:r.mode,dy:n,body:a}},htmlBuilder(e,t){var r=an(e.body,t),n=Ia(e.dy,t);return zt.makeVList({positionType:"shift",positionData:-n,children:[{type:"elem",elem:r}]},t)},mathmlBuilder(e,t){var r=new le.MathNode("mpadded",[Gn(e.body,t)]),n=e.dy.number+e.dy.unit;return r.setAttribute("voffset",n),r}});Ce({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(e){var{parser:t}=e;return{type:"internal",mode:t.mode}}});Ce({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(e,t,r){var{parser:n}=e,a=r[0],i=gr(t[0],"size"),o=gr(t[1],"size");return{type:"rule",mode:n.mode,shift:a&&gr(a,"size").value,width:i.value,height:o.value}},htmlBuilder(e,t){var r=zt.makeSpan(["mord","rule"],[],t),n=Ia(e.width,t),a=Ia(e.height,t),i=e.shift?Ia(e.shift,t):0;return r.style.borderRightWidth=xe(n),r.style.borderTopWidth=xe(a),r.style.bottom=xe(i),r.width=n,r.height=a+i,r.depth=-i,r.maxFontSize=a*1.125*t.sizeMultiplier,r},mathmlBuilder(e,t){var r=Ia(e.width,t),n=Ia(e.height,t),a=e.shift?Ia(e.shift,t):0,i=t.color&&t.getColor()||"black",o=new le.MathNode("mspace");o.setAttribute("mathbackground",i),o.setAttribute("width",xe(r)),o.setAttribute("height",xe(n));var s=new le.MathNode("mpadded",[o]);return a>=0?s.setAttribute("height",xe(a)):(s.setAttribute("height",xe(a)),s.setAttribute("depth",xe(-a))),s.setAttribute("voffset",xe(a)),s}});TV=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],c6t=(e,t)=>{var r=t.havingSize(e.size);return wH(e.body,r,t)};Ce({type:"sizing",names:TV,props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{breakOnTokenText:r,funcName:n,parser:a}=e,i=a.parseExpression(!1,r);return{type:"sizing",mode:a.mode,size:TV.indexOf(n)+1,body:i}},htmlBuilder:c6t,mathmlBuilder:(e,t)=>{var r=t.havingSize(e.size),n=ks(e.body,r),a=new le.MathNode("mstyle",n);return a.setAttribute("mathsize",xe(r.sizeMultiplier)),a}});Ce({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(e,t,r)=>{var{parser:n}=e,a=!1,i=!1,o=r[0]&&gr(r[0],"ordgroup");if(o)for(var s="",l=0;l<o.body.length;++l){var u=o.body[l];if(s=u.text,s==="t")a=!0;else if(s==="b")i=!0;else{a=!1,i=!1;break}}else a=!0,i=!0;var f=t[0];return{type:"smash",mode:n.mode,body:f,smashHeight:a,smashDepth:i}},htmlBuilder:(e,t)=>{var r=zt.makeSpan([],[an(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return r;if(e.smashHeight&&(r.height=0,r.children))for(var n=0;n<r.children.length;n++)r.children[n].height=0;if(e.smashDepth&&(r.depth=0,r.children))for(var a=0;a<r.children.length;a++)r.children[a].depth=0;var i=zt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},t);return zt.makeSpan(["mord"],[i],t)},mathmlBuilder:(e,t)=>{var r=new le.MathNode("mpadded",[Gn(e.body,t)]);return e.smashHeight&&r.setAttribute("height","0px"),e.smashDepth&&r.setAttribute("depth","0px"),r}});Ce({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,r){var{parser:n}=e,a=r[0],i=t[0];return{type:"sqrt",mode:n.mode,body:i,index:a}},htmlBuilder(e,t){var r=an(e.body,t.havingCrampedStyle());r.height===0&&(r.height=t.fontMetrics().xHeight),r=zt.wrapFragment(r,t);var n=t.fontMetrics(),a=n.defaultRuleThickness,i=a;t.style.id<Ke.TEXT.id&&(i=t.fontMetrics().xHeight);var o=a+i/4,s=r.height+r.depth+o+a,{span:l,ruleWidth:u,advanceWidth:f}=Lf.sqrtImage(s,t),h=l.height-u;h>r.height+r.depth+o&&(o=(o+h-r.height-r.depth)/2);var d=l.height-r.height-o-u;r.style.paddingLeft=xe(f);var p=zt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:-(r.height+d)},{type:"elem",elem:l},{type:"kern",size:u}]},t);if(e.index){var m=t.havingStyle(Ke.SCRIPTSCRIPT),g=an(e.index,m,t),v=.6*(p.height-p.depth),y=zt.makeVList({positionType:"shift",positionData:-v,children:[{type:"elem",elem:g}]},t),b=zt.makeSpan(["root"],[y]);return zt.makeSpan(["mord","sqrt"],[b,p],t)}else return zt.makeSpan(["mord","sqrt"],[p],t)},mathmlBuilder(e,t){var{body:r,index:n}=e;return n?new le.MathNode("mroot",[Gn(r,t),Gn(n,t)]):new le.MathNode("msqrt",[Gn(r,t)])}});EV={display:Ke.DISPLAY,text:Ke.TEXT,script:Ke.SCRIPT,scriptscript:Ke.SCRIPTSCRIPT};Ce({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e,t){var{breakOnTokenText:r,funcName:n,parser:a}=e,i=a.parseExpression(!0,r),o=n.slice(1,n.length-5);return{type:"styling",mode:a.mode,style:o,body:i}},htmlBuilder(e,t){var r=EV[e.style],n=t.havingStyle(r).withFont("");return wH(e.body,n,t)},mathmlBuilder(e,t){var r=EV[e.style],n=t.havingStyle(r),a=ks(e.body,n),i=new le.MathNode("mstyle",a),o={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},s=o[e.style];return i.setAttribute("scriptlevel",s[0]),i.setAttribute("displaystyle",s[1]),i}});f6t=function(t,r){var n=t.base;if(n)if(n.type==="op"){var a=n.limits&&(r.style.size===Ke.DISPLAY.size||n.alwaysHandleSupSub);return a?bg:null}else if(n.type==="operatorname"){var i=n.alwaysHandleSupSub&&(r.style.size===Ke.DISPLAY.size||n.limits);return i?_H:null}else{if(n.type==="accent")return pn.isCharacterBox(n.base)?M8:null;if(n.type==="horizBrace"){var o=!t.sub;return o===n.isOver?yH:null}else return null}else return null};Gp({type:"supsub",htmlBuilder(e,t){var r=f6t(e,t);if(r)return r(e,t);var{base:n,sup:a,sub:i}=e,o=an(n,t),s,l,u=t.fontMetrics(),f=0,h=0,d=n&&pn.isCharacterBox(n);if(a){var p=t.havingStyle(t.style.sup());s=an(a,p,t),d||(f=o.height-p.fontMetrics().supDrop*p.sizeMultiplier/t.sizeMultiplier)}if(i){var m=t.havingStyle(t.style.sub());l=an(i,m,t),d||(h=o.depth+m.fontMetrics().subDrop*m.sizeMultiplier/t.sizeMultiplier)}var g;t.style===Ke.DISPLAY?g=u.sup1:t.style.cramped?g=u.sup3:g=u.sup2;var v=t.sizeMultiplier,y=xe(.5/u.ptPerEm/v),b=null;if(l){var _=e.base&&e.base.type==="op"&&e.base.name&&(e.base.name==="\\oiint"||e.base.name==="\\oiiint");(o instanceof Es||_)&&(b=xe(-o.italic))}var k;if(s&&l){f=Math.max(f,g,s.depth+.25*u.xHeight),h=Math.max(h,u.sub2);var w=u.defaultRuleThickness,T=4*w;if(f-s.depth-(l.height-h)<T){h=T-(f-s.depth)+l.height;var S=.8*u.xHeight-(f-s.depth);S>0&&(f+=S,h-=S)}var C=[{type:"elem",elem:l,shift:h,marginRight:y,marginLeft:b},{type:"elem",elem:s,shift:-f,marginRight:y}];k=zt.makeVList({positionType:"individualShift",children:C},t)}else if(l){h=Math.max(h,u.sub1,l.height-.8*u.xHeight);var M=[{type:"elem",elem:l,marginLeft:b,marginRight:y}];k=zt.makeVList({positionType:"shift",positionData:h,children:M},t)}else if(s)f=Math.max(f,g,s.depth+.25*u.xHeight),k=zt.makeVList({positionType:"shift",positionData:-f,children:[{type:"elem",elem:s,marginRight:y}]},t);else throw new Error("supsub must have either sup or sub.");var N=v8(o,"right")||"mord";return zt.makeSpan([N],[o,zt.makeSpan(["msupsub"],[k])],t)},mathmlBuilder(e,t){var r=!1,n,a;e.base&&e.base.type==="horizBrace"&&(a=!!e.sup,a===e.base.isOver&&(r=!0,n=e.base.isOver)),e.base&&(e.base.type==="op"||e.base.type==="operatorname")&&(e.base.parentIsSupSub=!0);var i=[Gn(e.base,t)];e.sub&&i.push(Gn(e.sub,t)),e.sup&&i.push(Gn(e.sup,t));var o;if(r)o=n?"mover":"munder";else if(e.sub)if(e.sup){var u=e.base;u&&u.type==="op"&&u.limits&&t.style===Ke.DISPLAY||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(t.style===Ke.DISPLAY||u.limits)?o="munderover":o="msubsup"}else{var l=e.base;l&&l.type==="op"&&l.limits&&(t.style===Ke.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||t.style===Ke.DISPLAY)?o="munder":o="msub"}else{var s=e.base;s&&s.type==="op"&&s.limits&&(t.style===Ke.DISPLAY||s.alwaysHandleSupSub)||s&&s.type==="operatorname"&&s.alwaysHandleSupSub&&(s.limits||t.style===Ke.DISPLAY)?o="mover":o="msup"}return new le.MathNode(o,i)}});Gp({type:"atom",htmlBuilder(e,t){return zt.mathsym(e.text,e.mode,t,["m"+e.family])},mathmlBuilder(e,t){var r=new le.MathNode("mo",[Al(e.text,e.mode)]);if(e.family==="bin"){var n=A8(e,t);n==="bold-italic"&&r.setAttribute("mathvariant",n)}else e.family==="punct"?r.setAttribute("separator","true"):(e.family==="open"||e.family==="close")&&r.setAttribute("stretchy","false");return r}});TH={mi:"italic",mn:"normal",mtext:"normal"};Gp({type:"mathord",htmlBuilder(e,t){return zt.makeOrd(e,t,"mathord")},mathmlBuilder(e,t){var r=new le.MathNode("mi",[Al(e.text,e.mode,t)]),n=A8(e,t)||"italic";return n!==TH[r.type]&&r.setAttribute("mathvariant",n),r}});Gp({type:"textord",htmlBuilder(e,t){return zt.makeOrd(e,t,"textord")},mathmlBuilder(e,t){var r=Al(e.text,e.mode,t),n=A8(e,t)||"normal",a;return e.mode==="text"?a=new le.MathNode("mtext",[r]):/[0-9]/.test(e.text)?a=new le.MathNode("mn",[r]):e.text==="\\prime"?a=new le.MathNode("mo",[r]):a=new le.MathNode("mi",[r]),n!==TH[a.type]&&a.setAttribute("mathvariant",n),a}});c8={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},f8={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Gp({type:"spacing",htmlBuilder(e,t){if(f8.hasOwnProperty(e.text)){var r=f8[e.text].className||"";if(e.mode==="text"){var n=zt.makeOrd(e,t,"textord");return n.classes.push(r),n}else return zt.makeSpan(["mspace",r],[zt.mathsym(e.text,e.mode,t)],t)}else{if(c8.hasOwnProperty(e.text))return zt.makeSpan(["mspace",c8[e.text]],[],t);throw new he('Unknown type of space "'+e.text+'"')}},mathmlBuilder(e,t){var r;if(f8.hasOwnProperty(e.text))r=new le.MathNode("mtext",[new le.TextNode("\xA0")]);else{if(c8.hasOwnProperty(e.text))return new le.MathNode("mspace");throw new he('Unknown type of space "'+e.text+'"')}return r}});kV=()=>{var e=new le.MathNode("mtd",[]);return e.setAttribute("width","50%"),e};Gp({type:"tag",mathmlBuilder(e,t){var r=new le.MathNode("mtable",[new le.MathNode("mtr",[kV(),new le.MathNode("mtd",[Hh(e.body,t)]),kV(),new le.MathNode("mtd",[Hh(e.tag,t)])])]);return r.setAttribute("width","100%"),r}});CV={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},SV={"\\textbf":"textbf","\\textmd":"textmd"},h6t={"\\textit":"textit","\\textup":"textup"},DV=(e,t)=>{var r=e.font;if(r){if(CV[r])return t.withTextFontFamily(CV[r]);if(SV[r])return t.withTextFontWeight(SV[r]);if(r==="\\emph")return t.fontShape==="textit"?t.withTextFontShape("textup"):t.withTextFontShape("textit")}else return t;return t.withTextFontShape(h6t[r])};Ce({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(e,t){var{parser:r,funcName:n}=e,a=t[0];return{type:"text",mode:r.mode,body:Xa(a),font:n}},htmlBuilder(e,t){var r=DV(e,t),n=di(e.body,r,!0);return zt.makeSpan(["mord","text"],n,r)},mathmlBuilder(e,t){var r=DV(e,t);return Hh(e.body,r)}});Ce({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"underline",mode:r.mode,body:t[0]}},htmlBuilder(e,t){var r=an(e.body,t),n=zt.makeLineSpan("underline-line",t),a=t.fontMetrics().defaultRuleThickness,i=zt.makeVList({positionType:"top",positionData:r.height,children:[{type:"kern",size:a},{type:"elem",elem:n},{type:"kern",size:3*a},{type:"elem",elem:r}]},t);return zt.makeSpan(["mord","underline"],[i],t)},mathmlBuilder(e,t){var r=new le.MathNode("mo",[new le.TextNode("\u203E")]);r.setAttribute("stretchy","true");var n=new le.MathNode("munder",[Gn(e.body,t),r]);return n.setAttribute("accentunder","true"),n}});Ce({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(e,t){var{parser:r}=e;return{type:"vcenter",mode:r.mode,body:t[0]}},htmlBuilder(e,t){var r=an(e.body,t),n=t.fontMetrics().axisHeight,a=.5*(r.height-n-(r.depth+n));return zt.makeVList({positionType:"shift",positionData:a,children:[{type:"elem",elem:r}]},t)},mathmlBuilder(e,t){return new le.MathNode("mpadded",[Gn(e.body,t)],["vcenter"])}});Ce({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(e,t,r){throw new he("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(e,t){for(var r=AV(e),n=[],a=t.havingStyle(t.style.text()),i=0;i<r.length;i++){var o=r[i];o==="~"&&(o="\\textasciitilde"),n.push(zt.makeSymbol(o,"Typewriter-Regular",e.mode,a,["mord","texttt"]))}return zt.makeSpan(["mord","text"].concat(a.sizingClasses(t)),zt.tryCombineChars(n),a)},mathmlBuilder(e,t){var r=new le.TextNode(AV(e)),n=new le.MathNode("mtext",[r]);return n.setAttribute("mathvariant","monospace"),n}});AV=e=>e.body.replace(/ /g,e.star?"\u2423":"\xA0"),Gh=HV,EH=`[ \r
	]`,d6t="\\\\[a-zA-Z@]+",p6t="\\\\[^\uD800-\uDFFF]",m6t="("+d6t+")"+EH+"*",g6t=`\\\\(
|[ \r	]+
?)[ \r	]*`,w8="[\u0300-\u036F]",v6t=new RegExp(w8+"+$"),y6t="("+EH+"+)|"+(g6t+"|")+"([!-\\[\\]-\u2027\u202A-\uD7FF\uF900-\uFFFF]"+(w8+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(w8+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+m6t)+("|"+p6t+")"),f5=class{constructor(t,r){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=t,this.settings=r,this.tokenRegex=new RegExp(y6t,"g"),this.catcodes={"%":14,"~":13}}setCatcode(t,r){this.catcodes[t]=r}lex(){var t=this.input,r=this.tokenRegex.lastIndex;if(r===t.length)return new Js("EOF",new Ts(this,r,r));var n=this.tokenRegex.exec(t);if(n===null||n.index!==r)throw new he("Unexpected character: '"+t[r]+"'",new Js(t[r],new Ts(this,r,r+1)));var a=n[6]||n[3]||(n[2]?"\\ ":" ");if(this.catcodes[a]===14){var i=t.indexOf(`
`,this.tokenRegex.lastIndex);return i===-1?(this.tokenRegex.lastIndex=t.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=i+1,this.lex()}return new Js(a,new Ts(this,r,this.tokenRegex.lastIndex))}},T8=class{constructor(t,r){t===void 0&&(t={}),r===void 0&&(r={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=r,this.builtins=t,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new he("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var t=this.undefStack.pop();for(var r in t)t.hasOwnProperty(r)&&(t[r]==null?delete this.current[r]:this.current[r]=t[r])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(t){return this.current.hasOwnProperty(t)||this.builtins.hasOwnProperty(t)}get(t){return this.current.hasOwnProperty(t)?this.current[t]:this.builtins[t]}set(t,r,n){if(n===void 0&&(n=!1),n){for(var a=0;a<this.undefStack.length;a++)delete this.undefStack[a][t];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][t]=r)}else{var i=this.undefStack[this.undefStack.length-1];i&&!i.hasOwnProperty(t)&&(i[t]=this.current[t])}r==null?delete this.current[t]:this.current[t]=r}},x6t=dH;ut("\\noexpand",function(e){var t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}});ut("\\expandafter",function(e){var t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}});ut("\\@firstoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[0],numArgs:0}});ut("\\@secondoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[1],numArgs:0}});ut("\\@ifnextchar",function(e){var t=e.consumeArgs(3);e.consumeSpaces();var r=e.future();return t[0].length===1&&t[0][0].text===r.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}});ut("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");ut("\\TextOrMath",function(e){var t=e.consumeArgs(2);return e.mode==="text"?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}});LV={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};ut("\\char",function(e){var t=e.popToken(),r,n="";if(t.text==="'")r=8,t=e.popToken();else if(t.text==='"')r=16,t=e.popToken();else if(t.text==="`")if(t=e.popToken(),t.text[0]==="\\")n=t.text.charCodeAt(1);else{if(t.text==="EOF")throw new he("\\char` missing argument");n=t.text.charCodeAt(0)}else r=10;if(r){if(n=LV[t.text],n==null||n>=r)throw new he("Invalid base-"+r+" digit "+t.text);for(var a;(a=LV[e.future().text])!=null&&a<r;)n*=r,n+=a,e.popToken()}return"\\@char{"+n+"}"});$8=(e,t,r,n)=>{var a=e.consumeArg().tokens;if(a.length!==1)throw new he("\\newcommand's first argument must be a macro name");var i=a[0].text,o=e.isDefined(i);if(o&&!t)throw new he("\\newcommand{"+i+"} attempting to redefine "+(i+"; use \\renewcommand"));if(!o&&!r)throw new he("\\renewcommand{"+i+"} when command "+i+" does not yet exist; use \\newcommand");var s=0;if(a=e.consumeArg().tokens,a.length===1&&a[0].text==="["){for(var l="",u=e.expandNextToken();u.text!=="]"&&u.text!=="EOF";)l+=u.text,u=e.expandNextToken();if(!l.match(/^\s*[0-9]+\s*$/))throw new he("Invalid number of arguments: "+l);s=parseInt(l),a=e.consumeArg().tokens}return o&&n||e.macros.set(i,{tokens:a,numArgs:s}),""};ut("\\newcommand",e=>$8(e,!1,!0,!1));ut("\\renewcommand",e=>$8(e,!0,!1,!1));ut("\\providecommand",e=>$8(e,!0,!0,!0));ut("\\message",e=>{var t=e.consumeArgs(1)[0];return console.log(t.reverse().map(r=>r.text).join("")),""});ut("\\errmessage",e=>{var t=e.consumeArgs(1)[0];return console.error(t.reverse().map(r=>r.text).join("")),""});ut("\\show",e=>{var t=e.popToken(),r=t.text;return console.log(t,e.macros.get(r),Gh[r],ea.math[r],ea.text[r]),""});ut("\\bgroup","{");ut("\\egroup","}");ut("~","\\nobreakspace");ut("\\lq","`");ut("\\rq","'");ut("\\aa","\\r a");ut("\\AA","\\r A");ut("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`\xA9}");ut("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");ut("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`\xAE}");ut("\u212C","\\mathscr{B}");ut("\u2130","\\mathscr{E}");ut("\u2131","\\mathscr{F}");ut("\u210B","\\mathscr{H}");ut("\u2110","\\mathscr{I}");ut("\u2112","\\mathscr{L}");ut("\u2133","\\mathscr{M}");ut("\u211B","\\mathscr{R}");ut("\u212D","\\mathfrak{C}");ut("\u210C","\\mathfrak{H}");ut("\u2128","\\mathfrak{Z}");ut("\\Bbbk","\\Bbb{k}");ut("\xB7","\\cdotp");ut("\\llap","\\mathllap{\\textrm{#1}}");ut("\\rlap","\\mathrlap{\\textrm{#1}}");ut("\\clap","\\mathclap{\\textrm{#1}}");ut("\\mathstrut","\\vphantom{(}");ut("\\underbar","\\underline{\\text{#1}}");ut("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');ut("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`\u2260}}");ut("\\ne","\\neq");ut("\u2260","\\neq");ut("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`\u2209}}");ut("\u2209","\\notin");ut("\u2258","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`\u2258}}");ut("\u2259","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`\u2258}}");ut("\u225A","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`\u225A}}");ut("\u225B","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`\u225B}}");ut("\u225D","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`\u225D}}");ut("\u225E","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`\u225E}}");ut("\u225F","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`\u225F}}");ut("\u27C2","\\perp");ut("\u203C","\\mathclose{!\\mkern-0.8mu!}");ut("\u220C","\\notni");ut("\u231C","\\ulcorner");ut("\u231D","\\urcorner");ut("\u231E","\\llcorner");ut("\u231F","\\lrcorner");ut("\xA9","\\copyright");ut("\xAE","\\textregistered");ut("\uFE0F","\\textregistered");ut("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');ut("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');ut("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');ut("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');ut("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");ut("\u22EE","\\vdots");ut("\\varGamma","\\mathit{\\Gamma}");ut("\\varDelta","\\mathit{\\Delta}");ut("\\varTheta","\\mathit{\\Theta}");ut("\\varLambda","\\mathit{\\Lambda}");ut("\\varXi","\\mathit{\\Xi}");ut("\\varPi","\\mathit{\\Pi}");ut("\\varSigma","\\mathit{\\Sigma}");ut("\\varUpsilon","\\mathit{\\Upsilon}");ut("\\varPhi","\\mathit{\\Phi}");ut("\\varPsi","\\mathit{\\Psi}");ut("\\varOmega","\\mathit{\\Omega}");ut("\\substack","\\begin{subarray}{c}#1\\end{subarray}");ut("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");ut("\\boxed","\\fbox{$\\displaystyle{#1}$}");ut("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");ut("\\implies","\\DOTSB\\;\\Longrightarrow\\;");ut("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");ut("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");ut("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");MV={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};ut("\\dots",function(e){var t="\\dotso",r=e.expandAfterFuture().text;return r in MV?t=MV[r]:(r.slice(0,4)==="\\not"||r in ea.math&&["bin","rel"].includes(ea.math[r].group))&&(t="\\dotsb"),t});z8={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};ut("\\dotso",function(e){var t=e.future().text;return t in z8?"\\ldots\\,":"\\ldots"});ut("\\dotsc",function(e){var t=e.future().text;return t in z8&&t!==","?"\\ldots\\,":"\\ldots"});ut("\\cdots",function(e){var t=e.future().text;return t in z8?"\\@cdots\\,":"\\@cdots"});ut("\\dotsb","\\cdots");ut("\\dotsm","\\cdots");ut("\\dotsi","\\!\\cdots");ut("\\dotsx","\\ldots\\,");ut("\\DOTSI","\\relax");ut("\\DOTSB","\\relax");ut("\\DOTSX","\\relax");ut("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");ut("\\,","\\tmspace+{3mu}{.1667em}");ut("\\thinspace","\\,");ut("\\>","\\mskip{4mu}");ut("\\:","\\tmspace+{4mu}{.2222em}");ut("\\medspace","\\:");ut("\\;","\\tmspace+{5mu}{.2777em}");ut("\\thickspace","\\;");ut("\\!","\\tmspace-{3mu}{.1667em}");ut("\\negthinspace","\\!");ut("\\negmedspace","\\tmspace-{4mu}{.2222em}");ut("\\negthickspace","\\tmspace-{5mu}{.277em}");ut("\\enspace","\\kern.5em ");ut("\\enskip","\\hskip.5em\\relax");ut("\\quad","\\hskip1em\\relax");ut("\\qquad","\\hskip2em\\relax");ut("\\tag","\\@ifstar\\tag@literal\\tag@paren");ut("\\tag@paren","\\tag@literal{({#1})}");ut("\\tag@literal",e=>{if(e.macros.get("\\df@tag"))throw new he("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});ut("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");ut("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");ut("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");ut("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");ut("\\newline","\\\\\\relax");ut("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");kH=xe(ic["Main-Regular"][84][1]-.7*ic["Main-Regular"][65][1]);ut("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+kH+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");ut("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+kH+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");ut("\\hspace","\\@ifstar\\@hspacer\\@hspace");ut("\\@hspace","\\hskip #1\\relax");ut("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");ut("\\ordinarycolon",":");ut("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");ut("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');ut("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');ut("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');ut("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');ut("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');ut("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');ut("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');ut("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');ut("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');ut("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');ut("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');ut("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');ut("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');ut("\u2237","\\dblcolon");ut("\u2239","\\eqcolon");ut("\u2254","\\coloneqq");ut("\u2255","\\eqqcolon");ut("\u2A74","\\Coloneqq");ut("\\ratio","\\vcentcolon");ut("\\coloncolon","\\dblcolon");ut("\\colonequals","\\coloneqq");ut("\\coloncolonequals","\\Coloneqq");ut("\\equalscolon","\\eqqcolon");ut("\\equalscoloncolon","\\Eqqcolon");ut("\\colonminus","\\coloneq");ut("\\coloncolonminus","\\Coloneq");ut("\\minuscolon","\\eqcolon");ut("\\minuscoloncolon","\\Eqcolon");ut("\\coloncolonapprox","\\Colonapprox");ut("\\coloncolonsim","\\Colonsim");ut("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");ut("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");ut("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");ut("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");ut("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`\u220C}}");ut("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");ut("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");ut("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");ut("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");ut("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");ut("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");ut("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");ut("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");ut("\\gvertneqq","\\html@mathml{\\@gvertneqq}{\u2269}");ut("\\lvertneqq","\\html@mathml{\\@lvertneqq}{\u2268}");ut("\\ngeqq","\\html@mathml{\\@ngeqq}{\u2271}");ut("\\ngeqslant","\\html@mathml{\\@ngeqslant}{\u2271}");ut("\\nleqq","\\html@mathml{\\@nleqq}{\u2270}");ut("\\nleqslant","\\html@mathml{\\@nleqslant}{\u2270}");ut("\\nshortmid","\\html@mathml{\\@nshortmid}{\u2224}");ut("\\nshortparallel","\\html@mathml{\\@nshortparallel}{\u2226}");ut("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{\u2288}");ut("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{\u2289}");ut("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{\u228A}");ut("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{\u2ACB}");ut("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{\u228B}");ut("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{\u2ACC}");ut("\\imath","\\html@mathml{\\@imath}{\u0131}");ut("\\jmath","\\html@mathml{\\@jmath}{\u0237}");ut("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`\u27E6}}");ut("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`\u27E7}}");ut("\u27E6","\\llbracket");ut("\u27E7","\\rrbracket");ut("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`\u2983}}");ut("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`\u2984}}");ut("\u2983","\\lBrace");ut("\u2984","\\rBrace");ut("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`\u29B5}}");ut("\u29B5","\\minuso");ut("\\darr","\\downarrow");ut("\\dArr","\\Downarrow");ut("\\Darr","\\Downarrow");ut("\\lang","\\langle");ut("\\rang","\\rangle");ut("\\uarr","\\uparrow");ut("\\uArr","\\Uparrow");ut("\\Uarr","\\Uparrow");ut("\\N","\\mathbb{N}");ut("\\R","\\mathbb{R}");ut("\\Z","\\mathbb{Z}");ut("\\alef","\\aleph");ut("\\alefsym","\\aleph");ut("\\Alpha","\\mathrm{A}");ut("\\Beta","\\mathrm{B}");ut("\\bull","\\bullet");ut("\\Chi","\\mathrm{X}");ut("\\clubs","\\clubsuit");ut("\\cnums","\\mathbb{C}");ut("\\Complex","\\mathbb{C}");ut("\\Dagger","\\ddagger");ut("\\diamonds","\\diamondsuit");ut("\\empty","\\emptyset");ut("\\Epsilon","\\mathrm{E}");ut("\\Eta","\\mathrm{H}");ut("\\exist","\\exists");ut("\\harr","\\leftrightarrow");ut("\\hArr","\\Leftrightarrow");ut("\\Harr","\\Leftrightarrow");ut("\\hearts","\\heartsuit");ut("\\image","\\Im");ut("\\infin","\\infty");ut("\\Iota","\\mathrm{I}");ut("\\isin","\\in");ut("\\Kappa","\\mathrm{K}");ut("\\larr","\\leftarrow");ut("\\lArr","\\Leftarrow");ut("\\Larr","\\Leftarrow");ut("\\lrarr","\\leftrightarrow");ut("\\lrArr","\\Leftrightarrow");ut("\\Lrarr","\\Leftrightarrow");ut("\\Mu","\\mathrm{M}");ut("\\natnums","\\mathbb{N}");ut("\\Nu","\\mathrm{N}");ut("\\Omicron","\\mathrm{O}");ut("\\plusmn","\\pm");ut("\\rarr","\\rightarrow");ut("\\rArr","\\Rightarrow");ut("\\Rarr","\\Rightarrow");ut("\\real","\\Re");ut("\\reals","\\mathbb{R}");ut("\\Reals","\\mathbb{R}");ut("\\Rho","\\mathrm{P}");ut("\\sdot","\\cdot");ut("\\sect","\\S");ut("\\spades","\\spadesuit");ut("\\sub","\\subset");ut("\\sube","\\subseteq");ut("\\supe","\\supseteq");ut("\\Tau","\\mathrm{T}");ut("\\thetasym","\\vartheta");ut("\\weierp","\\wp");ut("\\Zeta","\\mathrm{Z}");ut("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");ut("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");ut("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");ut("\\bra","\\mathinner{\\langle{#1}|}");ut("\\ket","\\mathinner{|{#1}\\rangle}");ut("\\braket","\\mathinner{\\langle{#1}\\rangle}");ut("\\Bra","\\left\\langle#1\\right|");ut("\\Ket","\\left|#1\\right\\rangle");CH=e=>t=>{var r=t.consumeArg().tokens,n=t.consumeArg().tokens,a=t.consumeArg().tokens,i=t.consumeArg().tokens,o=t.macros.get("|"),s=t.macros.get("\\|");t.macros.beginGroup();var l=h=>d=>{e&&(d.macros.set("|",o),a.length&&d.macros.set("\\|",s));var p=h;if(!h&&a.length){var m=d.future();m.text==="|"&&(d.popToken(),p=!0)}return{tokens:p?a:n,numArgs:0}};t.macros.set("|",l(!1)),a.length&&t.macros.set("\\|",l(!0));var u=t.consumeArg().tokens,f=t.expandTokens([...i,...u,...r]);return t.macros.endGroup(),{tokens:f.reverse(),numArgs:0}};ut("\\bra@ket",CH(!1));ut("\\bra@set",CH(!0));ut("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");ut("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");ut("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");ut("\\angln","{\\angl n}");ut("\\blue","\\textcolor{##6495ed}{#1}");ut("\\orange","\\textcolor{##ffa500}{#1}");ut("\\pink","\\textcolor{##ff00af}{#1}");ut("\\red","\\textcolor{##df0030}{#1}");ut("\\green","\\textcolor{##28ae7b}{#1}");ut("\\gray","\\textcolor{gray}{#1}");ut("\\purple","\\textcolor{##9d38bd}{#1}");ut("\\blueA","\\textcolor{##ccfaff}{#1}");ut("\\blueB","\\textcolor{##80f6ff}{#1}");ut("\\blueC","\\textcolor{##63d9ea}{#1}");ut("\\blueD","\\textcolor{##11accd}{#1}");ut("\\blueE","\\textcolor{##0c7f99}{#1}");ut("\\tealA","\\textcolor{##94fff5}{#1}");ut("\\tealB","\\textcolor{##26edd5}{#1}");ut("\\tealC","\\textcolor{##01d1c1}{#1}");ut("\\tealD","\\textcolor{##01a995}{#1}");ut("\\tealE","\\textcolor{##208170}{#1}");ut("\\greenA","\\textcolor{##b6ffb0}{#1}");ut("\\greenB","\\textcolor{##8af281}{#1}");ut("\\greenC","\\textcolor{##74cf70}{#1}");ut("\\greenD","\\textcolor{##1fab54}{#1}");ut("\\greenE","\\textcolor{##0d923f}{#1}");ut("\\goldA","\\textcolor{##ffd0a9}{#1}");ut("\\goldB","\\textcolor{##ffbb71}{#1}");ut("\\goldC","\\textcolor{##ff9c39}{#1}");ut("\\goldD","\\textcolor{##e07d10}{#1}");ut("\\goldE","\\textcolor{##a75a05}{#1}");ut("\\redA","\\textcolor{##fca9a9}{#1}");ut("\\redB","\\textcolor{##ff8482}{#1}");ut("\\redC","\\textcolor{##f9685d}{#1}");ut("\\redD","\\textcolor{##e84d39}{#1}");ut("\\redE","\\textcolor{##bc2612}{#1}");ut("\\maroonA","\\textcolor{##ffbde0}{#1}");ut("\\maroonB","\\textcolor{##ff92c6}{#1}");ut("\\maroonC","\\textcolor{##ed5fa6}{#1}");ut("\\maroonD","\\textcolor{##ca337c}{#1}");ut("\\maroonE","\\textcolor{##9e034e}{#1}");ut("\\purpleA","\\textcolor{##ddd7ff}{#1}");ut("\\purpleB","\\textcolor{##c6b9fc}{#1}");ut("\\purpleC","\\textcolor{##aa87ff}{#1}");ut("\\purpleD","\\textcolor{##7854ab}{#1}");ut("\\purpleE","\\textcolor{##543b78}{#1}");ut("\\mintA","\\textcolor{##f5f9e8}{#1}");ut("\\mintB","\\textcolor{##edf2df}{#1}");ut("\\mintC","\\textcolor{##e0e5cc}{#1}");ut("\\grayA","\\textcolor{##f6f7f7}{#1}");ut("\\grayB","\\textcolor{##f0f1f2}{#1}");ut("\\grayC","\\textcolor{##e3e5e6}{#1}");ut("\\grayD","\\textcolor{##d6d8da}{#1}");ut("\\grayE","\\textcolor{##babec2}{#1}");ut("\\grayF","\\textcolor{##888d93}{#1}");ut("\\grayG","\\textcolor{##626569}{#1}");ut("\\grayH","\\textcolor{##3b3e40}{#1}");ut("\\grayI","\\textcolor{##21242c}{#1}");ut("\\kaBlue","\\textcolor{##314453}{#1}");ut("\\kaGreen","\\textcolor{##71B307}{#1}");SH={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0},E8=class{constructor(t,r,n){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=r,this.expansionCount=0,this.feed(t),this.macros=new T8(x6t,r.macros),this.mode=n,this.stack=[]}feed(t){this.lexer=new f5(t,this.settings)}switchMode(t){this.mode=t}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(t){this.stack.push(t)}pushTokens(t){this.stack.push(...t)}scanArgument(t){var r,n,a;if(t){if(this.consumeSpaces(),this.future().text!=="[")return null;r=this.popToken(),{tokens:a,end:n}=this.consumeArg(["]"])}else({tokens:a,start:r,end:n}=this.consumeArg());return this.pushToken(new Js("EOF",n.loc)),this.pushTokens(a),new Js("",Ts.range(r,n))}consumeSpaces(){for(;;){var t=this.future();if(t.text===" ")this.stack.pop();else break}}consumeArg(t){var r=[],n=t&&t.length>0;n||this.consumeSpaces();var a=this.future(),i,o=0,s=0;do{if(i=this.popToken(),r.push(i),i.text==="{")++o;else if(i.text==="}"){if(--o,o===-1)throw new he("Extra }",i)}else if(i.text==="EOF")throw new he("Unexpected end of input in a macro argument, expected '"+(t&&n?t[s]:"}")+"'",i);if(t&&n)if((o===0||o===1&&t[s]==="{")&&i.text===t[s]){if(++s,s===t.length){r.splice(-s,s);break}}else s=0}while(o!==0||n);return a.text==="{"&&r[r.length-1].text==="}"&&(r.pop(),r.shift()),r.reverse(),{tokens:r,start:a,end:i}}consumeArgs(t,r){if(r){if(r.length!==t+1)throw new he("The length of delimiters doesn't match the number of args!");for(var n=r[0],a=0;a<n.length;a++){var i=this.popToken();if(n[a]!==i.text)throw new he("Use of the macro doesn't match its definition",i)}}for(var o=[],s=0;s<t;s++)o.push(this.consumeArg(r&&r[s+1]).tokens);return o}countExpansion(t){if(this.expansionCount+=t,this.expansionCount>this.settings.maxExpand)throw new he("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(t){var r=this.popToken(),n=r.text,a=r.noexpand?null:this._getExpansion(n);if(a==null||t&&a.unexpandable){if(t&&a==null&&n[0]==="\\"&&!this.isDefined(n))throw new he("Undefined control sequence: "+n);return this.pushToken(r),!1}this.countExpansion(1);var i=a.tokens,o=this.consumeArgs(a.numArgs,a.delimiters);if(a.numArgs){i=i.slice();for(var s=i.length-1;s>=0;--s){var l=i[s];if(l.text==="#"){if(s===0)throw new he("Incomplete placeholder at end of macro body",l);if(l=i[--s],l.text==="#")i.splice(s+1,1);else if(/^[1-9]$/.test(l.text))i.splice(s,2,...o[+l.text-1]);else throw new he("Not a valid argument number",l)}}}return this.pushTokens(i),i.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var t=this.stack.pop();return t.treatAsRelax&&(t.text="\\relax"),t}throw new Error}expandMacro(t){return this.macros.has(t)?this.expandTokens([new Js(t)]):void 0}expandTokens(t){var r=[],n=this.stack.length;for(this.pushTokens(t);this.stack.length>n;)if(this.expandOnce(!0)===!1){var a=this.stack.pop();a.treatAsRelax&&(a.noexpand=!1,a.treatAsRelax=!1),r.push(a)}return this.countExpansion(r.length),r}expandMacroAsText(t){var r=this.expandMacro(t);return r&&r.map(n=>n.text).join("")}_getExpansion(t){var r=this.macros.get(t);if(r==null)return r;if(t.length===1){var n=this.lexer.catcodes[t];if(n!=null&&n!==13)return}var a=typeof r=="function"?r(this):r;if(typeof a=="string"){var i=0;if(a.indexOf("#")!==-1)for(var o=a.replace(/##/g,"");o.indexOf("#"+(i+1))!==-1;)++i;for(var s=new f5(a,this.settings),l=[],u=s.lex();u.text!=="EOF";)l.push(u),u=s.lex();l.reverse();var f={tokens:l,numArgs:i};return f}return a}isDefined(t){return this.macros.has(t)||Gh.hasOwnProperty(t)||ea.math.hasOwnProperty(t)||ea.text.hasOwnProperty(t)||SH.hasOwnProperty(t)}isExpandable(t){var r=this.macros.get(t);return r!=null?typeof r=="string"||typeof r=="function"||!r.unexpandable:Gh.hasOwnProperty(t)&&!Gh[t].primitive}},IV=/^[]/,n5=Object.freeze({"\u208A":"+","\u208B":"-","\u208C":"=","\u208D":"(","\u208E":")","\u2080":"0","\u2081":"1","\u2082":"2","\u2083":"3","\u2084":"4","\u2085":"5","\u2086":"6","\u2087":"7","\u2088":"8","\u2089":"9","\u2090":"a","\u2091":"e","\u2095":"h","\u1D62":"i","\u2C7C":"j","\u2096":"k","\u2097":"l","\u2098":"m","\u2099":"n","\u2092":"o","\u209A":"p","\u1D63":"r","\u209B":"s","\u209C":"t","\u1D64":"u","\u1D65":"v","\u2093":"x","\u1D66":"\u03B2","\u1D67":"\u03B3","\u1D68":"\u03C1","\u1D69":"\u03D5","\u1D6A":"\u03C7","\u207A":"+","\u207B":"-","\u207C":"=","\u207D":"(","\u207E":")","\u2070":"0","\xB9":"1","\xB2":"2","\xB3":"3","\u2074":"4","\u2075":"5","\u2076":"6","\u2077":"7","\u2078":"8","\u2079":"9","\u1D2C":"A","\u1D2E":"B","\u1D30":"D","\u1D31":"E","\u1D33":"G","\u1D34":"H","\u1D35":"I","\u1D36":"J","\u1D37":"K","\u1D38":"L","\u1D39":"M","\u1D3A":"N","\u1D3C":"O","\u1D3E":"P","\u1D3F":"R","\u1D40":"T","\u1D41":"U","\u2C7D":"V","\u1D42":"W","\u1D43":"a","\u1D47":"b","\u1D9C":"c","\u1D48":"d","\u1D49":"e","\u1DA0":"f","\u1D4D":"g",\u02B0:"h","\u2071":"i",\u02B2:"j","\u1D4F":"k",\u02E1:"l","\u1D50":"m",\u207F:"n","\u1D52":"o","\u1D56":"p",\u02B3:"r",\u02E2:"s","\u1D57":"t","\u1D58":"u","\u1D5B":"v",\u02B7:"w",\u02E3:"x",\u02B8:"y","\u1DBB":"z","\u1D5D":"\u03B2","\u1D5E":"\u03B3","\u1D5F":"\u03B4","\u1D60":"\u03D5","\u1D61":"\u03C7","\u1DBF":"\u03B8"}),h8={"\u0301":{text:"\\'",math:"\\acute"},"\u0300":{text:"\\`",math:"\\grave"},"\u0308":{text:'\\"',math:"\\ddot"},"\u0303":{text:"\\~",math:"\\tilde"},"\u0304":{text:"\\=",math:"\\bar"},"\u0306":{text:"\\u",math:"\\breve"},"\u030C":{text:"\\v",math:"\\check"},"\u0302":{text:"\\^",math:"\\hat"},"\u0307":{text:"\\.",math:"\\dot"},"\u030A":{text:"\\r",math:"\\mathring"},"\u030B":{text:"\\H"},"\u0327":{text:"\\c"}},RV={\u00E1:"a\u0301",\u00E0:"a\u0300",\u00E4:"a\u0308",\u01DF:"a\u0308\u0304",\u00E3:"a\u0303",\u0101:"a\u0304",\u0103:"a\u0306",\u1EAF:"a\u0306\u0301",\u1EB1:"a\u0306\u0300",\u1EB5:"a\u0306\u0303",\u01CE:"a\u030C",\u00E2:"a\u0302",\u1EA5:"a\u0302\u0301",\u1EA7:"a\u0302\u0300",\u1EAB:"a\u0302\u0303",\u0227:"a\u0307",\u01E1:"a\u0307\u0304",\u00E5:"a\u030A",\u01FB:"a\u030A\u0301",\u1E03:"b\u0307",\u0107:"c\u0301",\u1E09:"c\u0327\u0301",\u010D:"c\u030C",\u0109:"c\u0302",\u010B:"c\u0307",\u00E7:"c\u0327",\u010F:"d\u030C",\u1E0B:"d\u0307",\u1E11:"d\u0327",\u00E9:"e\u0301",\u00E8:"e\u0300",\u00EB:"e\u0308",\u1EBD:"e\u0303",\u0113:"e\u0304",\u1E17:"e\u0304\u0301",\u1E15:"e\u0304\u0300",\u0115:"e\u0306",\u1E1D:"e\u0327\u0306",\u011B:"e\u030C",\u00EA:"e\u0302",\u1EBF:"e\u0302\u0301",\u1EC1:"e\u0302\u0300",\u1EC5:"e\u0302\u0303",\u0117:"e\u0307",\u0229:"e\u0327",\u1E1F:"f\u0307",\u01F5:"g\u0301",\u1E21:"g\u0304",\u011F:"g\u0306",\u01E7:"g\u030C",\u011D:"g\u0302",\u0121:"g\u0307",\u0123:"g\u0327",\u1E27:"h\u0308",\u021F:"h\u030C",\u0125:"h\u0302",\u1E23:"h\u0307",\u1E29:"h\u0327",\u00ED:"i\u0301",\u00EC:"i\u0300",\u00EF:"i\u0308",\u1E2F:"i\u0308\u0301",\u0129:"i\u0303",\u012B:"i\u0304",\u012D:"i\u0306",\u01D0:"i\u030C",\u00EE:"i\u0302",\u01F0:"j\u030C",\u0135:"j\u0302",\u1E31:"k\u0301",\u01E9:"k\u030C",\u0137:"k\u0327",\u013A:"l\u0301",\u013E:"l\u030C",\u013C:"l\u0327",\u1E3F:"m\u0301",\u1E41:"m\u0307",\u0144:"n\u0301",\u01F9:"n\u0300",\u00F1:"n\u0303",\u0148:"n\u030C",\u1E45:"n\u0307",\u0146:"n\u0327",\u00F3:"o\u0301",\u00F2:"o\u0300",\u00F6:"o\u0308",\u022B:"o\u0308\u0304",\u00F5:"o\u0303",\u1E4D:"o\u0303\u0301",\u1E4F:"o\u0303\u0308",\u022D:"o\u0303\u0304",\u014D:"o\u0304",\u1E53:"o\u0304\u0301",\u1E51:"o\u0304\u0300",\u014F:"o\u0306",\u01D2:"o\u030C",\u00F4:"o\u0302",\u1ED1:"o\u0302\u0301",\u1ED3:"o\u0302\u0300",\u1ED7:"o\u0302\u0303",\u022F:"o\u0307",\u0231:"o\u0307\u0304",\u0151:"o\u030B",\u1E55:"p\u0301",\u1E57:"p\u0307",\u0155:"r\u0301",\u0159:"r\u030C",\u1E59:"r\u0307",\u0157:"r\u0327",\u015B:"s\u0301",\u1E65:"s\u0301\u0307",\u0161:"s\u030C",\u1E67:"s\u030C\u0307",\u015D:"s\u0302",\u1E61:"s\u0307",\u015F:"s\u0327",\u1E97:"t\u0308",\u0165:"t\u030C",\u1E6B:"t\u0307",\u0163:"t\u0327",\u00FA:"u\u0301",\u00F9:"u\u0300",\u00FC:"u\u0308",\u01D8:"u\u0308\u0301",\u01DC:"u\u0308\u0300",\u01D6:"u\u0308\u0304",\u01DA:"u\u0308\u030C",\u0169:"u\u0303",\u1E79:"u\u0303\u0301",\u016B:"u\u0304",\u1E7B:"u\u0304\u0308",\u016D:"u\u0306",\u01D4:"u\u030C",\u00FB:"u\u0302",\u016F:"u\u030A",\u0171:"u\u030B",\u1E7D:"v\u0303",\u1E83:"w\u0301",\u1E81:"w\u0300",\u1E85:"w\u0308",\u0175:"w\u0302",\u1E87:"w\u0307",\u1E98:"w\u030A",\u1E8D:"x\u0308",\u1E8B:"x\u0307",\u00FD:"y\u0301",\u1EF3:"y\u0300",\u00FF:"y\u0308",\u1EF9:"y\u0303",\u0233:"y\u0304",\u0177:"y\u0302",\u1E8F:"y\u0307",\u1E99:"y\u030A",\u017A:"z\u0301",\u017E:"z\u030C",\u1E91:"z\u0302",\u017C:"z\u0307",\u00C1:"A\u0301",\u00C0:"A\u0300",\u00C4:"A\u0308",\u01DE:"A\u0308\u0304",\u00C3:"A\u0303",\u0100:"A\u0304",\u0102:"A\u0306",\u1EAE:"A\u0306\u0301",\u1EB0:"A\u0306\u0300",\u1EB4:"A\u0306\u0303",\u01CD:"A\u030C",\u00C2:"A\u0302",\u1EA4:"A\u0302\u0301",\u1EA6:"A\u0302\u0300",\u1EAA:"A\u0302\u0303",\u0226:"A\u0307",\u01E0:"A\u0307\u0304",\u00C5:"A\u030A",\u01FA:"A\u030A\u0301",\u1E02:"B\u0307",\u0106:"C\u0301",\u1E08:"C\u0327\u0301",\u010C:"C\u030C",\u0108:"C\u0302",\u010A:"C\u0307",\u00C7:"C\u0327",\u010E:"D\u030C",\u1E0A:"D\u0307",\u1E10:"D\u0327",\u00C9:"E\u0301",\u00C8:"E\u0300",\u00CB:"E\u0308",\u1EBC:"E\u0303",\u0112:"E\u0304",\u1E16:"E\u0304\u0301",\u1E14:"E\u0304\u0300",\u0114:"E\u0306",\u1E1C:"E\u0327\u0306",\u011A:"E\u030C",\u00CA:"E\u0302",\u1EBE:"E\u0302\u0301",\u1EC0:"E\u0302\u0300",\u1EC4:"E\u0302\u0303",\u0116:"E\u0307",\u0228:"E\u0327",\u1E1E:"F\u0307",\u01F4:"G\u0301",\u1E20:"G\u0304",\u011E:"G\u0306",\u01E6:"G\u030C",\u011C:"G\u0302",\u0120:"G\u0307",\u0122:"G\u0327",\u1E26:"H\u0308",\u021E:"H\u030C",\u0124:"H\u0302",\u1E22:"H\u0307",\u1E28:"H\u0327",\u00CD:"I\u0301",\u00CC:"I\u0300",\u00CF:"I\u0308",\u1E2E:"I\u0308\u0301",\u0128:"I\u0303",\u012A:"I\u0304",\u012C:"I\u0306",\u01CF:"I\u030C",\u00CE:"I\u0302",\u0130:"I\u0307",\u0134:"J\u0302",\u1E30:"K\u0301",\u01E8:"K\u030C",\u0136:"K\u0327",\u0139:"L\u0301",\u013D:"L\u030C",\u013B:"L\u0327",\u1E3E:"M\u0301",\u1E40:"M\u0307",\u0143:"N\u0301",\u01F8:"N\u0300",\u00D1:"N\u0303",\u0147:"N\u030C",\u1E44:"N\u0307",\u0145:"N\u0327",\u00D3:"O\u0301",\u00D2:"O\u0300",\u00D6:"O\u0308",\u022A:"O\u0308\u0304",\u00D5:"O\u0303",\u1E4C:"O\u0303\u0301",\u1E4E:"O\u0303\u0308",\u022C:"O\u0303\u0304",\u014C:"O\u0304",\u1E52:"O\u0304\u0301",\u1E50:"O\u0304\u0300",\u014E:"O\u0306",\u01D1:"O\u030C",\u00D4:"O\u0302",\u1ED0:"O\u0302\u0301",\u1ED2:"O\u0302\u0300",\u1ED6:"O\u0302\u0303",\u022E:"O\u0307",\u0230:"O\u0307\u0304",\u0150:"O\u030B",\u1E54:"P\u0301",\u1E56:"P\u0307",\u0154:"R\u0301",\u0158:"R\u030C",\u1E58:"R\u0307",\u0156:"R\u0327",\u015A:"S\u0301",\u1E64:"S\u0301\u0307",\u0160:"S\u030C",\u1E66:"S\u030C\u0307",\u015C:"S\u0302",\u1E60:"S\u0307",\u015E:"S\u0327",\u0164:"T\u030C",\u1E6A:"T\u0307",\u0162:"T\u0327",\u00DA:"U\u0301",\u00D9:"U\u0300",\u00DC:"U\u0308",\u01D7:"U\u0308\u0301",\u01DB:"U\u0308\u0300",\u01D5:"U\u0308\u0304",\u01D9:"U\u0308\u030C",\u0168:"U\u0303",\u1E78:"U\u0303\u0301",\u016A:"U\u0304",\u1E7A:"U\u0304\u0308",\u016C:"U\u0306",\u01D3:"U\u030C",\u00DB:"U\u0302",\u016E:"U\u030A",\u0170:"U\u030B",\u1E7C:"V\u0303",\u1E82:"W\u0301",\u1E80:"W\u0300",\u1E84:"W\u0308",\u0174:"W\u0302",\u1E86:"W\u0307",\u1E8C:"X\u0308",\u1E8A:"X\u0307",\u00DD:"Y\u0301",\u1EF2:"Y\u0300",\u0178:"Y\u0308",\u1EF8:"Y\u0303",\u0232:"Y\u0304",\u0176:"Y\u0302",\u1E8E:"Y\u0307",\u0179:"Z\u0301",\u017D:"Z\u030C",\u1E90:"Z\u0302",\u017B:"Z\u0307",\u03AC:"\u03B1\u0301",\u1F70:"\u03B1\u0300",\u1FB1:"\u03B1\u0304",\u1FB0:"\u03B1\u0306",\u03AD:"\u03B5\u0301",\u1F72:"\u03B5\u0300",\u03AE:"\u03B7\u0301",\u1F74:"\u03B7\u0300",\u03AF:"\u03B9\u0301",\u1F76:"\u03B9\u0300",\u03CA:"\u03B9\u0308",\u0390:"\u03B9\u0308\u0301",\u1FD2:"\u03B9\u0308\u0300",\u1FD1:"\u03B9\u0304",\u1FD0:"\u03B9\u0306",\u03CC:"\u03BF\u0301",\u1F78:"\u03BF\u0300",\u03CD:"\u03C5\u0301",\u1F7A:"\u03C5\u0300",\u03CB:"\u03C5\u0308",\u03B0:"\u03C5\u0308\u0301",\u1FE2:"\u03C5\u0308\u0300",\u1FE1:"\u03C5\u0304",\u1FE0:"\u03C5\u0306",\u03CE:"\u03C9\u0301",\u1F7C:"\u03C9\u0300",\u038E:"\u03A5\u0301",\u1FEA:"\u03A5\u0300",\u03AB:"\u03A5\u0308",\u1FE9:"\u03A5\u0304",\u1FE8:"\u03A5\u0306",\u038F:"\u03A9\u0301",\u1FFA:"\u03A9\u0300"},h5=class e{constructor(t,r){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new E8(t,r,this.mode),this.settings=r,this.leftrightDepth=0}expect(t,r){if(r===void 0&&(r=!0),this.fetch().text!==t)throw new he("Expected '"+t+"', got '"+this.fetch().text+"'",this.fetch());r&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(t){this.mode=t,this.gullet.switchMode(t)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var t=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),t}finally{this.gullet.endGroups()}}subparse(t){var r=this.nextToken;this.consume(),this.gullet.pushToken(new Js("}")),this.gullet.pushTokens(t);var n=this.parseExpression(!1);return this.expect("}"),this.nextToken=r,n}parseExpression(t,r){for(var n=[];;){this.mode==="math"&&this.consumeSpaces();var a=this.fetch();if(e.endOfExpression.indexOf(a.text)!==-1||r&&a.text===r||t&&Gh[a.text]&&Gh[a.text].infix)break;var i=this.parseAtom(r);if(i){if(i.type==="internal")continue}else break;n.push(i)}return this.mode==="text"&&this.formLigatures(n),this.handleInfixNodes(n)}handleInfixNodes(t){for(var r=-1,n,a=0;a<t.length;a++)if(t[a].type==="infix"){if(r!==-1)throw new he("only one infix operator per group",t[a].token);r=a,n=t[a].replaceWith}if(r!==-1&&n){var i,o,s=t.slice(0,r),l=t.slice(r+1);s.length===1&&s[0].type==="ordgroup"?i=s[0]:i={type:"ordgroup",mode:this.mode,body:s},l.length===1&&l[0].type==="ordgroup"?o=l[0]:o={type:"ordgroup",mode:this.mode,body:l};var u;return n==="\\\\abovefrac"?u=this.callFunction(n,[i,t[r],o],[]):u=this.callFunction(n,[i,o],[]),[u]}else return t}handleSupSubscript(t){var r=this.fetch(),n=r.text;this.consume(),this.consumeSpaces();var a;do{var i;a=this.parseGroup(t)}while(((i=a)==null?void 0:i.type)==="internal");if(!a)throw new he("Expected group after '"+n+"'",r);return a}formatUnsupportedCmd(t){for(var r=[],n=0;n<t.length;n++)r.push({type:"textord",mode:"text",text:t[n]});var a={type:"text",mode:this.mode,body:r},i={type:"color",mode:this.mode,color:this.settings.errorColor,body:[a]};return i}parseAtom(t){var r=this.parseGroup("atom",t);if(r?.type==="internal"||this.mode==="text")return r;for(var n,a;;){this.consumeSpaces();var i=this.fetch();if(i.text==="\\limits"||i.text==="\\nolimits"){if(r&&r.type==="op"){var o=i.text==="\\limits";r.limits=o,r.alwaysHandleSupSub=!0}else if(r&&r.type==="operatorname")r.alwaysHandleSupSub&&(r.limits=i.text==="\\limits");else throw new he("Limit controls must follow a math operator",i);this.consume()}else if(i.text==="^"){if(n)throw new he("Double superscript",i);n=this.handleSupSubscript("superscript")}else if(i.text==="_"){if(a)throw new he("Double subscript",i);a=this.handleSupSubscript("subscript")}else if(i.text==="'"){if(n)throw new he("Double superscript",i);var s={type:"textord",mode:this.mode,text:"\\prime"},l=[s];for(this.consume();this.fetch().text==="'";)l.push(s),this.consume();this.fetch().text==="^"&&l.push(this.handleSupSubscript("superscript")),n={type:"ordgroup",mode:this.mode,body:l}}else if(n5[i.text]){var u=IV.test(i.text),f=[];for(f.push(new Js(n5[i.text])),this.consume();;){var h=this.fetch().text;if(!n5[h]||IV.test(h)!==u)break;f.unshift(new Js(n5[h])),this.consume()}var d=this.subparse(f);u?a={type:"ordgroup",mode:"math",body:d}:n={type:"ordgroup",mode:"math",body:d}}else break}return n||a?{type:"supsub",mode:this.mode,base:r,sup:n,sub:a}:r}parseFunction(t,r){var n=this.fetch(),a=n.text,i=Gh[a];if(!i)return null;if(this.consume(),r&&r!=="atom"&&!i.allowedInArgument)throw new he("Got function '"+a+"' with no arguments"+(r?" as "+r:""),n);if(this.mode==="text"&&!i.allowedInText)throw new he("Can't use function '"+a+"' in text mode",n);if(this.mode==="math"&&i.allowedInMath===!1)throw new he("Can't use function '"+a+"' in math mode",n);var{args:o,optArgs:s}=this.parseArguments(a,i);return this.callFunction(a,o,s,n,t)}callFunction(t,r,n,a,i){var o={funcName:t,parser:this,token:a,breakOnTokenText:i},s=Gh[t];if(s&&s.handler)return s.handler(o,r,n);throw new he("No function handler for "+t)}parseArguments(t,r){var n=r.numArgs+r.numOptionalArgs;if(n===0)return{args:[],optArgs:[]};for(var a=[],i=[],o=0;o<n;o++){var s=r.argTypes&&r.argTypes[o],l=o<r.numOptionalArgs;(r.primitive&&s==null||r.type==="sqrt"&&o===1&&i[0]==null)&&(s="primitive");var u=this.parseGroupOfType("argument to '"+t+"'",s,l);if(l)i.push(u);else if(u!=null)a.push(u);else throw new he("Null argument, please report this as a bug")}return{args:a,optArgs:i}}parseGroupOfType(t,r,n){switch(r){case"color":return this.parseColorGroup(n);case"size":return this.parseSizeGroup(n);case"url":return this.parseUrlGroup(n);case"math":case"text":return this.parseArgumentGroup(n,r);case"hbox":{var a=this.parseArgumentGroup(n,"text");return a!=null?{type:"styling",mode:a.mode,body:[a],style:"text"}:null}case"raw":{var i=this.parseStringGroup("raw",n);return i!=null?{type:"raw",mode:"text",string:i.text}:null}case"primitive":{if(n)throw new he("A primitive argument cannot be optional");var o=this.parseGroup(t);if(o==null)throw new he("Expected group as "+t,this.fetch());return o}case"original":case null:case void 0:return this.parseArgumentGroup(n);default:throw new he("Unknown group type as "+t,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(t,r){var n=this.gullet.scanArgument(r);if(n==null)return null;for(var a="",i;(i=this.fetch()).text!=="EOF";)a+=i.text,this.consume();return this.consume(),n.text=a,n}parseRegexGroup(t,r){for(var n=this.fetch(),a=n,i="",o;(o=this.fetch()).text!=="EOF"&&t.test(i+o.text);)a=o,i+=a.text,this.consume();if(i==="")throw new he("Invalid "+r+": '"+n.text+"'",n);return n.range(a,i)}parseColorGroup(t){var r=this.parseStringGroup("color",t);if(r==null)return null;var n=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(r.text);if(!n)throw new he("Invalid color: '"+r.text+"'",r);var a=n[0];return/^[0-9a-f]{6}$/i.test(a)&&(a="#"+a),{type:"color-token",mode:this.mode,color:a}}parseSizeGroup(t){var r,n=!1;if(this.gullet.consumeSpaces(),!t&&this.gullet.future().text!=="{"?r=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):r=this.parseStringGroup("size",t),!r)return null;!t&&r.text.length===0&&(r.text="0pt",n=!0);var a=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(r.text);if(!a)throw new he("Invalid size: '"+r.text+"'",r);var i={number:+(a[1]+a[2]),unit:a[3]};if(!PV(i))throw new he("Invalid unit: '"+i.unit+"'",r);return{type:"size",mode:this.mode,value:i,isBlank:n}}parseUrlGroup(t){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var r=this.parseStringGroup("url",t);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),r==null)return null;var n=r.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:n}}parseArgumentGroup(t,r){var n=this.gullet.scanArgument(t);if(n==null)return null;var a=this.mode;r&&this.switchMode(r),this.gullet.beginGroup();var i=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var o={type:"ordgroup",mode:this.mode,loc:n.loc,body:i};return r&&this.switchMode(a),o}parseGroup(t,r){var n=this.fetch(),a=n.text,i;if(a==="{"||a==="\\begingroup"){this.consume();var o=a==="{"?"}":"\\endgroup";this.gullet.beginGroup();var s=this.parseExpression(!1,o),l=this.fetch();this.expect(o),this.gullet.endGroup(),i={type:"ordgroup",mode:this.mode,loc:Ts.range(n,l),body:s,semisimple:a==="\\begingroup"||void 0}}else if(i=this.parseFunction(r,t)||this.parseSymbol(),i==null&&a[0]==="\\"&&!SH.hasOwnProperty(a)){if(this.settings.throwOnError)throw new he("Undefined control sequence: "+a,n);i=this.formatUnsupportedCmd(a),this.consume()}return i}formLigatures(t){for(var r=t.length-1,n=0;n<r;++n){var a=t[n],i=a.text;i==="-"&&t[n+1].text==="-"&&(n+1<r&&t[n+2].text==="-"?(t.splice(n,3,{type:"textord",mode:"text",loc:Ts.range(a,t[n+2]),text:"---"}),r-=2):(t.splice(n,2,{type:"textord",mode:"text",loc:Ts.range(a,t[n+1]),text:"--"}),r-=1)),(i==="'"||i==="`")&&t[n+1].text===i&&(t.splice(n,2,{type:"textord",mode:"text",loc:Ts.range(a,t[n+1]),text:i+i}),r-=1)}}parseSymbol(){var t=this.fetch(),r=t.text;if(/^\\verb[^a-zA-Z]/.test(r)){this.consume();var n=r.slice(5),a=n.charAt(0)==="*";if(a&&(n=n.slice(1)),n.length<2||n.charAt(0)!==n.slice(-1))throw new he(`\\verb assertion failed --
                    please report what input caused this bug`);return n=n.slice(1,-1),{type:"verb",mode:"text",body:n,star:a}}RV.hasOwnProperty(r[0])&&!ea[this.mode][r[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+r[0]+'" used in math mode',t),r=RV[r[0]]+r.slice(1));var i=v6t.exec(r);i&&(r=r.substring(0,i.index),r==="i"?r="\u0131":r==="j"&&(r="\u0237"));var o;if(ea[this.mode][r]){this.settings.strict&&this.mode==="math"&&g8.indexOf(r)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+r[0]+'" used in math mode',t);var s=ea[this.mode][r].group,l=Ts.range(t),u;if(cSt.hasOwnProperty(s)){var f=s;u={type:"atom",mode:this.mode,family:f,loc:l,text:r}}else u={type:s,mode:this.mode,loc:l,text:r};o=u}else if(r.charCodeAt(0)>=128)this.settings.strict&&(OV(r.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+r[0]+'" used in math mode',t):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+r[0]+'"'+(" ("+r.charCodeAt(0)+")"),t)),o={type:"textord",mode:"text",loc:Ts.range(t),text:r};else return null;if(this.consume(),i)for(var h=0;h<i[0].length;h++){var d=i[0][h];if(!h8[d])throw new he("Unknown accent ' "+d+"'",t);var p=h8[d][this.mode]||h8[d].text;if(!p)throw new he("Accent "+d+" unsupported in "+this.mode+" mode",t);o={type:"accent",mode:this.mode,loc:Ts.range(t),label:p,isStretchy:!1,isShifty:!0,base:o}}return o}};h5.endOfExpression=["}","\\endgroup","\\end","\\right","&"];q8=function(t,r){if(!(typeof t=="string"||t instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var n=new h5(t,r);delete n.gullet.macros.current["\\df@tag"];var a=n.parse();if(delete n.gullet.macros.current["\\current@color"],delete n.gullet.macros.current["\\color"],n.gullet.macros.get("\\df@tag")){if(!r.displayMode)throw new he("\\tag works only in display equations");a=[{type:"tag",mode:"text",body:a,tag:n.subparse([new Js("\\df@tag")])}]}return a},U8=function(t,r,n){r.textContent="";var a=x5(t,n).toNode();r.appendChild(a)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),U8=function(){throw new he("KaTeX doesn't work in quirks mode.")});DH=function(t,r){var n=x5(t,r).toMarkup();return n},AH=function(t,r){var n=new ox(r);return q8(t,n)},LH=function(t,r,n){if(n.throwOnError||!(t instanceof he))throw t;var a=zt.makeSpan(["katex-error"],[new Es(r)]);return a.setAttribute("title",t.toString()),a.setAttribute("style","color:"+n.errorColor),a},x5=function(t,r){var n=new ox(r);try{var a=q8(t,n);return ISt(a,t,n)}catch(i){return LH(i,t,n)}},MH=function(t,r){var n=new ox(r);try{var a=q8(t,n);return RSt(a,t,n)}catch(i){return LH(i,t,n)}},IH="0.16.25",RH={Span:Wp,Anchor:lx,SymbolNode:Es,SvgNode:vu,PathNode:oc,LineNode:ux},b6t={version:IH,render:U8,renderToString:DH,ParseError:he,SETTINGS_SCHEMA:ax,__parse:AH,__renderToDomTree:x5,__renderToHTMLTree:MH,__setFontMetrics:FV,__defineSymbol:U,__defineFunction:Ce,__defineMacro:ut,__domTree:RH}});function QH(){let e="data-temp-href-target";Uh.addHook("beforeSanitizeAttributes",t=>{t.tagName==="A"&&t.hasAttribute("target")&&t.setAttribute(e,t.getAttribute("target")??"")}),Uh.addHook("afterSanitizeAttributes",t=>{t.tagName==="A"&&t.hasAttribute(e)&&(t.setAttribute("target",t.getAttribute(e)??""),t.removeAttribute(e),t.getAttribute("target")==="_blank"&&t.setAttribute("rel","noopener"))})}var V8,_g,_6t,H8,Xh,px,E5,zH,qH,W8,ua,k5,C5,jo,w6t,T6t,E6t,k6t,C6t,Hp,S6t,D6t,A6t,L6t,fc,cc,UH,WH,M6t,lr,dx,I6t,Yp,Cs,w5,Vp,hx,S5,GH,VH,HH,Y8,X8,ur,YH,XH,mx,R6t,FH,N6t,jH,KH,Xp,O6t,F6t,ZH,PH,sr,P6t,B6t,$6t,z6t,JH,jp,on,q6t,U6t,hc,G8,W6t,G6t,BH,b5,ca,wg,V6t,jh,Jt,H6t,Y6t,Nn,Nf,_5,X6t,j6t,tY,D5,j8,K8,Q8,Z8,wr,Mr,Fr,Pr,Br,Yr,$r,$H,K6t,bt,gx,A5,L5,J8,Q6t,T5,vx,M5,Z6t,Tr=B(()=>{nr();Zs();Zs();Zs();Zs();Zs();Zs();J7();V8=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,_g=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,_6t=/\s*%%.*\n/gm,H8=class extends Error{static{x(this,"UnknownDiagramError")}constructor(e){super(e),this.name="UnknownDiagramError"}},Xh={},px=x(function(e,t){e=e.replace(V8,"").replace(_g,"").replace(_6t,`
`);for(let[r,{detector:n}]of Object.entries(Xh))if(n(e,t))return r;throw new H8(`No diagram type detected matching given configuration for text: ${e}`)},"detectType"),E5=x((...e)=>{for(let{id:t,detector:r,loader:n}of e)zH(t,r,n)},"registerLazyLoadedDiagrams"),zH=x((e,t,r)=>{Xh[e]&&J.warn(`Detector with key ${e} already exists. Overwriting.`),Xh[e]={detector:t,loader:r},J.debug(`Detector with key ${e} added${r?" with loader":""}`)},"addDetector"),qH=x(e=>Xh[e].loader,"getDiagramLoader"),W8=x((e,t,{depth:r=2,clobber:n=!1}={})=>{let a={depth:r,clobber:n};return Array.isArray(t)&&!Array.isArray(e)?(t.forEach(i=>W8(e,i,a)),e):Array.isArray(t)&&Array.isArray(e)?(t.forEach(i=>{e.includes(i)||e.push(i)}),e):e===void 0||r<=0?e!=null&&typeof e=="object"&&typeof t=="object"?Object.assign(e,t):t:(t!==void 0&&typeof e=="object"&&typeof t=="object"&&Object.keys(t).forEach(i=>{typeof t[i]=="object"&&(e[i]===void 0||typeof e[i]=="object")?(e[i]===void 0&&(e[i]=Array.isArray(t[i])?[]:{}),e[i]=W8(e[i],t[i],{depth:r-1,clobber:n})):(n||typeof e[i]!="object"&&typeof t[i]!="object")&&(e[i]=t[i])}),e)},"assignWithDepth"),ua=W8,k5="#ffffff",C5="#f2f2f2",jo=x((e,t)=>t?Ot(e,{s:-40,l:10}):Ot(e,{s:-40,l:-10}),"mkBorder"),w6t=class{static{x(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||Ot(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||Ot(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||jo(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||jo(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||jo(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||jo(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||ye(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||ye(this.tertiaryColor),this.lineColor=this.lineColor||ye(this.background),this.arrowheadColor=this.arrowheadColor||ye(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?Me(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||Me(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||ye(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||Ee(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.vertLineColor=this.vertLineColor||"navy",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.darkMode?(this.rowOdd=this.rowOdd||Me(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||Me(this.mainBkg,10)):(this.rowOdd=this.rowOdd||Ee(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||Ee(this.mainBkg,5)),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Ot(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Ot(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Ot(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Ot(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Ot(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Ot(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||Ot(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Ot(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Ot(this.primaryColor,{h:330}),this.darkMode)for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=Me(this["cScale"+t],75);else for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=Me(this["cScale"+t],25);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||ye(this["cScale"+t]);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this.darkMode?this["cScalePeer"+t]=this["cScalePeer"+t]||Ee(this["cScale"+t],10):this["cScalePeer"+t]=this["cScalePeer"+t]||Me(this["cScale"+t],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;let e=this.darkMode?-4:-1;for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||Ot(this.mainBkg,{h:180,s:-15,l:e*(5+t*3)}),this["surfacePeer"+t]=this["surfacePeer"+t]||Ot(this.mainBkg,{h:180,s:-15,l:e*(8+t*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||Ot(this.primaryColor,{h:64}),this.fillType3=this.fillType3||Ot(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||Ot(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||Ot(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||Ot(this.primaryColor,{h:128}),this.fillType7=this.fillType7||Ot(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Ot(this.primaryColor,{l:-10}),this.pie5=this.pie5||Ot(this.secondaryColor,{l:-10}),this.pie6=this.pie6||Ot(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||Ot(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Ot(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Ot(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Ot(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||Ot(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||Ot(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ot(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ot(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ot(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ot(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ot(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ot(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Gi(this.quadrant1Fill)?Ee(this.quadrant1Fill):Me(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Me(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Ot(this.primaryColor,{h:-30}),this.git4=this.git4||Ot(this.primaryColor,{h:-60}),this.git5=this.git5||Ot(this.primaryColor,{h:-90}),this.git6=this.git6||Ot(this.primaryColor,{h:60}),this.git7=this.git7||Ot(this.primaryColor,{h:120}),this.darkMode?(this.git0=Ee(this.git0,25),this.git1=Ee(this.git1,25),this.git2=Ee(this.git2,25),this.git3=Ee(this.git3,25),this.git4=Ee(this.git4,25),this.git5=Ee(this.git5,25),this.git6=Ee(this.git6,25),this.git7=Ee(this.git7,25)):(this.git0=Me(this.git0,25),this.git1=Me(this.git1,25),this.git2=Me(this.git2,25),this.git3=Me(this.git3,25),this.git4=Me(this.git4,25),this.git5=Me(this.git5,25),this.git6=Me(this.git6,25),this.git7=Me(this.git7,25)),this.gitInv0=this.gitInv0||ye(this.git0),this.gitInv1=this.gitInv1||ye(this.git1),this.gitInv2=this.gitInv2||ye(this.git2),this.gitInv3=this.gitInv3||ye(this.git3),this.gitInv4=this.gitInv4||ye(this.git4),this.gitInv5=this.gitInv5||ye(this.git5),this.gitInv6=this.gitInv6||ye(this.git6),this.gitInv7=this.gitInv7||ye(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||k5,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||C5}calculate(e){if(typeof e!="object"){this.updateColors();return}let t=Object.keys(e);t.forEach(r=>{this[r]=e[r]}),this.updateColors(),t.forEach(r=>{this[r]=e[r]})}},T6t=x(e=>{let t=new w6t;return t.calculate(e),t},"getThemeVariables"),E6t=class{static{x(this,"Theme")}constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=Ee(this.primaryColor,16),this.tertiaryColor=Ot(this.primaryColor,{h:-160}),this.primaryBorderColor=ye(this.background),this.secondaryBorderColor=jo(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=jo(this.tertiaryColor,this.darkMode),this.primaryTextColor=ye(this.primaryColor),this.secondaryTextColor=ye(this.secondaryColor),this.tertiaryTextColor=ye(this.tertiaryColor),this.lineColor=ye(this.background),this.textColor=ye(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=Ee(ye("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=Uo(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=Me("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=Me(this.sectionBkgColor,10),this.taskBorderColor=Uo(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=Uo(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||Ee(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||Me(this.mainBkg,10),this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=Ee(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=Ee(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=Ee(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Ot(this.primaryColor,{h:64}),this.fillType3=Ot(this.secondaryColor,{h:64}),this.fillType4=Ot(this.primaryColor,{h:-64}),this.fillType5=Ot(this.secondaryColor,{h:-64}),this.fillType6=Ot(this.primaryColor,{h:128}),this.fillType7=Ot(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Ot(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Ot(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Ot(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Ot(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Ot(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Ot(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Ot(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Ot(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Ot(this.primaryColor,{h:330});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||ye(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScalePeer"+e]=this["cScalePeer"+e]||Ee(this["cScale"+e],10);for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||Ot(this.mainBkg,{h:30,s:-30,l:-(-10+e*4)}),this["surfacePeer"+e]=this["surfacePeer"+e]||Ot(this.mainBkg,{h:30,s:-30,l:-(-7+e*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ot(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ot(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ot(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ot(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ot(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ot(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Gi(this.quadrant1Fill)?Ee(this.quadrant1Fill):Me(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Me(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Ee(this.secondaryColor,20),this.git1=Ee(this.pie2||this.secondaryColor,20),this.git2=Ee(this.pie3||this.tertiaryColor,20),this.git3=Ee(this.pie4||Ot(this.primaryColor,{h:-30}),20),this.git4=Ee(this.pie5||Ot(this.primaryColor,{h:-60}),20),this.git5=Ee(this.pie6||Ot(this.primaryColor,{h:-90}),10),this.git6=Ee(this.pie7||Ot(this.primaryColor,{h:60}),10),this.git7=Ee(this.pie8||Ot(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||ye(this.git0),this.gitInv1=this.gitInv1||ye(this.git1),this.gitInv2=this.gitInv2||ye(this.git2),this.gitInv3=this.gitInv3||ye(this.git3),this.gitInv4=this.gitInv4||ye(this.git4),this.gitInv5=this.gitInv5||ye(this.git5),this.gitInv6=this.gitInv6||ye(this.git6),this.gitInv7=this.gitInv7||ye(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||ye(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||ye(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Ee(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Ee(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(e){if(typeof e!="object"){this.updateColors();return}let t=Object.keys(e);t.forEach(r=>{this[r]=e[r]}),this.updateColors(),t.forEach(r=>{this[r]=e[r]})}},k6t=x(e=>{let t=new E6t;return t.calculate(e),t},"getThemeVariables"),C6t=class{static{x(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=Ot(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=Ot(this.primaryColor,{h:-160}),this.primaryBorderColor=jo(this.primaryColor,this.darkMode),this.secondaryBorderColor=jo(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=jo(this.tertiaryColor,this.darkMode),this.primaryTextColor=ye(this.primaryColor),this.secondaryTextColor=ye(this.secondaryColor),this.tertiaryTextColor=ye(this.tertiaryColor),this.lineColor=ye(this.background),this.textColor=ye(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.sectionBkgColor=Uo(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="navy",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd="calculated",this.rowEven="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Ot(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Ot(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Ot(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Ot(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Ot(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Ot(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Ot(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Ot(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Ot(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Me(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Me(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=Me(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||Me(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||Ot(this["cScale"+e],{h:180});for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||Ot(this.mainBkg,{h:30,l:-(5+e*5)}),this["surfacePeer"+e]=this["surfacePeer"+e]||Ot(this.mainBkg,{h:30,l:-(7+e*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||ye(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||ye(this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=Ee(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||Ee(this.primaryColor,75)||"#ffffff",this.rowEven=this.rowEven||Ee(this.primaryColor,1),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Ot(this.primaryColor,{h:64}),this.fillType3=Ot(this.secondaryColor,{h:64}),this.fillType4=Ot(this.primaryColor,{h:-64}),this.fillType5=Ot(this.secondaryColor,{h:-64}),this.fillType6=Ot(this.primaryColor,{h:128}),this.fillType7=Ot(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||Ot(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||Ot(this.primaryColor,{l:-10}),this.pie5=this.pie5||Ot(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Ot(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||Ot(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||Ot(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||Ot(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||Ot(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||Ot(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||Ot(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ot(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ot(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ot(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ot(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ot(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ot(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Gi(this.quadrant1Fill)?Ee(this.quadrant1Fill):Me(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Ot(this.primaryColor,{h:-30}),this.git4=this.git4||Ot(this.primaryColor,{h:-60}),this.git5=this.git5||Ot(this.primaryColor,{h:-90}),this.git6=this.git6||Ot(this.primaryColor,{h:60}),this.git7=this.git7||Ot(this.primaryColor,{h:120}),this.darkMode?(this.git0=Ee(this.git0,25),this.git1=Ee(this.git1,25),this.git2=Ee(this.git2,25),this.git3=Ee(this.git3,25),this.git4=Ee(this.git4,25),this.git5=Ee(this.git5,25),this.git6=Ee(this.git6,25),this.git7=Ee(this.git7,25)):(this.git0=Me(this.git0,25),this.git1=Me(this.git1,25),this.git2=Me(this.git2,25),this.git3=Me(this.git3,25),this.git4=Me(this.git4,25),this.git5=Me(this.git5,25),this.git6=Me(this.git6,25),this.git7=Me(this.git7,25)),this.gitInv0=this.gitInv0||Me(ye(this.git0),25),this.gitInv1=this.gitInv1||ye(this.git1),this.gitInv2=this.gitInv2||ye(this.git2),this.gitInv3=this.gitInv3||ye(this.git3),this.gitInv4=this.gitInv4||ye(this.git4),this.gitInv5=this.gitInv5||ye(this.git5),this.gitInv6=this.gitInv6||ye(this.git6),this.gitInv7=this.gitInv7||ye(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||ye(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||ye(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||k5,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||C5}calculate(e){if(Object.keys(this).forEach(r=>{this[r]==="calculated"&&(this[r]=void 0)}),typeof e!="object"){this.updateColors();return}let t=Object.keys(e);t.forEach(r=>{this[r]=e[r]}),this.updateColors(),t.forEach(r=>{this[r]=e[r]})}},Hp=x(e=>{let t=new C6t;return t.calculate(e),t},"getThemeVariables"),S6t=class{static{x(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=Ee("#cde498",10),this.primaryBorderColor=jo(this.primaryColor,this.darkMode),this.secondaryBorderColor=jo(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=jo(this.tertiaryColor,this.darkMode),this.primaryTextColor=ye(this.primaryColor),this.secondaryTextColor=ye(this.secondaryColor),this.tertiaryTextColor=ye(this.primaryColor),this.lineColor=ye(this.background),this.textColor=ye(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.actorBorder=Me(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Ot(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Ot(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Ot(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Ot(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Ot(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Ot(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Ot(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Ot(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Ot(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Me(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Me(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=Me(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||Me(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||Ot(this["cScale"+e],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||Ot(this.mainBkg,{h:30,s:-30,l:-(5+e*5)}),this["surfacePeer"+e]=this["surfacePeer"+e]||Ot(this.mainBkg,{h:30,s:-30,l:-(8+e*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||Ee(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||Ee(this.mainBkg,20),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Ot(this.primaryColor,{h:64}),this.fillType3=Ot(this.secondaryColor,{h:64}),this.fillType4=Ot(this.primaryColor,{h:-64}),this.fillType5=Ot(this.secondaryColor,{h:-64}),this.fillType6=Ot(this.primaryColor,{h:128}),this.fillType7=Ot(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Ot(this.primaryColor,{l:-30}),this.pie5=this.pie5||Ot(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Ot(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||Ot(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Ot(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Ot(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Ot(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||Ot(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||Ot(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ot(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ot(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ot(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ot(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ot(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ot(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Gi(this.quadrant1Fill)?Ee(this.quadrant1Fill):Me(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Ot(this.primaryColor,{h:-30}),this.git4=this.git4||Ot(this.primaryColor,{h:-60}),this.git5=this.git5||Ot(this.primaryColor,{h:-90}),this.git6=this.git6||Ot(this.primaryColor,{h:60}),this.git7=this.git7||Ot(this.primaryColor,{h:120}),this.darkMode?(this.git0=Ee(this.git0,25),this.git1=Ee(this.git1,25),this.git2=Ee(this.git2,25),this.git3=Ee(this.git3,25),this.git4=Ee(this.git4,25),this.git5=Ee(this.git5,25),this.git6=Ee(this.git6,25),this.git7=Ee(this.git7,25)):(this.git0=Me(this.git0,25),this.git1=Me(this.git1,25),this.git2=Me(this.git2,25),this.git3=Me(this.git3,25),this.git4=Me(this.git4,25),this.git5=Me(this.git5,25),this.git6=Me(this.git6,25),this.git7=Me(this.git7,25)),this.gitInv0=this.gitInv0||ye(this.git0),this.gitInv1=this.gitInv1||ye(this.git1),this.gitInv2=this.gitInv2||ye(this.git2),this.gitInv3=this.gitInv3||ye(this.git3),this.gitInv4=this.gitInv4||ye(this.git4),this.gitInv5=this.gitInv5||ye(this.git5),this.gitInv6=this.gitInv6||ye(this.git6),this.gitInv7=this.gitInv7||ye(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||ye(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||ye(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||k5,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||C5}calculate(e){if(typeof e!="object"){this.updateColors();return}let t=Object.keys(e);t.forEach(r=>{this[r]=e[r]}),this.updateColors(),t.forEach(r=>{this[r]=e[r]})}},D6t=x(e=>{let t=new S6t;return t.calculate(e),t},"getThemeVariables"),A6t=class{static{x(this,"Theme")}constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=Ee(this.contrast,55),this.background="#ffffff",this.tertiaryColor=Ot(this.primaryColor,{h:-160}),this.primaryBorderColor=jo(this.primaryColor,this.darkMode),this.secondaryBorderColor=jo(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=jo(this.tertiaryColor,this.darkMode),this.primaryTextColor=ye(this.primaryColor),this.secondaryTextColor=ye(this.secondaryColor),this.tertiaryTextColor=ye(this.tertiaryColor),this.lineColor=ye(this.background),this.textColor=ye(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||Ee(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||"#f4f4f4",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=Ee(this.contrast,55),this.border2=this.contrast,this.actorBorder=Ee(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||ye(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this.darkMode?this["cScalePeer"+e]=this["cScalePeer"+e]||Ee(this["cScale"+e],10):this["cScalePeer"+e]=this["cScalePeer"+e]||Me(this["cScale"+e],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||Ot(this.mainBkg,{l:-(5+e*5)}),this["surfacePeer"+e]=this["surfacePeer"+e]||Ot(this.mainBkg,{l:-(8+e*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=Ee(this.contrast,30),this.sectionBkgColor2=Ee(this.contrast,30),this.taskBorderColor=Me(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=Ee(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=Me(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.vertLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Ot(this.primaryColor,{h:64}),this.fillType3=Ot(this.secondaryColor,{h:64}),this.fillType4=Ot(this.primaryColor,{h:-64}),this.fillType5=Ot(this.secondaryColor,{h:-64}),this.fillType6=Ot(this.primaryColor,{h:128}),this.fillType7=Ot(this.secondaryColor,{h:128});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ot(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ot(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ot(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ot(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ot(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ot(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Gi(this.quadrant1Fill)?Ee(this.quadrant1Fill):Me(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Me(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||Ot(this.primaryColor,{h:-30}),this.git4=this.pie5||Ot(this.primaryColor,{h:-60}),this.git5=this.pie6||Ot(this.primaryColor,{h:-90}),this.git6=this.pie7||Ot(this.primaryColor,{h:60}),this.git7=this.pie8||Ot(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||ye(this.git0),this.gitInv1=this.gitInv1||ye(this.git1),this.gitInv2=this.gitInv2||ye(this.git2),this.gitInv3=this.gitInv3||ye(this.git3),this.gitInv4=this.gitInv4||ye(this.git4),this.gitInv5=this.gitInv5||ye(this.git5),this.gitInv6=this.gitInv6||ye(this.git6),this.gitInv7=this.gitInv7||ye(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||k5,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||C5}calculate(e){if(typeof e!="object"){this.updateColors();return}let t=Object.keys(e);t.forEach(r=>{this[r]=e[r]}),this.updateColors(),t.forEach(r=>{this[r]=e[r]})}},L6t=x(e=>{let t=new A6t;return t.calculate(e),t},"getThemeVariables"),fc={base:{getThemeVariables:T6t},dark:{getThemeVariables:k6t},default:{getThemeVariables:Hp},forest:{getThemeVariables:D6t},neutral:{getThemeVariables:L6t}},cc={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200,inheritDir:!1},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,maxLabelWidth:360,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],titleColor:"",titleFontFamily:'"trebuchet ms", verdana, arial, sans-serif',titleFontSize:"4ex"},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,nodeSpacing:140,rankSpacing:80,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showDataLabel:!1,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200,layoutAlgorithm:"cose-bilkent"},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},radar:{useMaxWidth:!0,width:600,height:600,marginTop:50,marginRight:50,marginBottom:50,marginLeft:50,axisScaleFactor:1,axisLabelFactor:1.05,curveTension:.17},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},UH={...cc,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF",forceNodeModelOrder:!1,considerModelOrder:"NODES_AND_EDGES"},themeCSS:void 0,themeVariables:fc.default.getThemeVariables(),sequence:{...cc.sequence,messageFont:x(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:x(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:x(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...cc.gantt,tickInterval:void 0,useWidth:void 0},c4:{...cc.c4,useWidth:void 0,personFont:x(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),flowchart:{...cc.flowchart,inheritDir:!1},external_personFont:x(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:x(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:x(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:x(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:x(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:x(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:x(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:x(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:x(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:x(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:x(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:x(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:x(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:x(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:x(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:x(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:x(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:x(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:x(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:x(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:x(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...cc.pie,useWidth:984},xyChart:{...cc.xyChart,useWidth:void 0},requirement:{...cc.requirement,useWidth:void 0},packet:{...cc.packet},radar:{...cc.radar},treemap:{useMaxWidth:!0,padding:10,diagramPadding:8,showValues:!0,nodeWidth:100,nodeHeight:40,borderWidth:1,valueFontSize:12,labelFontSize:14,valueFormat:","}},WH=x((e,t="")=>Object.keys(e).reduce((r,n)=>Array.isArray(e[n])?r:typeof e[n]=="object"&&e[n]!==null?[...r,t+n,...WH(e[n],"")]:[...r,t+n],[]),"keyify"),M6t=new Set(WH(UH,"")),lr=UH,dx=x(e=>{if(J.debug("sanitizeDirective called with",e),!(typeof e!="object"||e==null)){if(Array.isArray(e)){e.forEach(t=>dx(t));return}for(let t of Object.keys(e)){if(J.debug("Checking key",t),t.startsWith("__")||t.includes("proto")||t.includes("constr")||!M6t.has(t)||e[t]==null){J.debug("sanitize deleting key: ",t),delete e[t];continue}if(typeof e[t]=="object"){J.debug("sanitizing object",t),dx(e[t]);continue}let r=["themeCSS","fontFamily","altFontFamily"];for(let n of r)t.includes(n)&&(J.debug("sanitizing css option",t),e[t]=I6t(e[t]))}if(e.themeVariables)for(let t of Object.keys(e.themeVariables)){let r=e.themeVariables[t];r?.match&&!r.match(/^[\d "#%(),.;A-Za-z]+$/)&&(e.themeVariables[t]="")}J.debug("After sanitization",e)}},"sanitizeDirective"),I6t=x(e=>{let t=0,r=0;for(let n of e){if(t<r)return"{ /* ERROR: Unbalanced CSS */ }";n==="{"?t++:n==="}"&&r++}return t!==r?"{ /* ERROR: Unbalanced CSS */ }":e},"sanitizeCss"),Yp=Object.freeze(lr),Cs=ua({},Yp),Vp=[],hx=ua({},Yp),S5=x((e,t)=>{let r=ua({},e),n={};for(let a of t)YH(a),n=ua(n,a);if(r=ua(r,n),n.theme&&n.theme in fc){let a=ua({},w5),i=ua(a.themeVariables||{},n.themeVariables);r.theme&&r.theme in fc&&(r.themeVariables=fc[r.theme].getThemeVariables(i))}return hx=r,jH(hx),hx},"updateCurrentConfig"),GH=x(e=>(Cs=ua({},Yp),Cs=ua(Cs,e),e.theme&&fc[e.theme]&&(Cs.themeVariables=fc[e.theme].getThemeVariables(e.themeVariables)),S5(Cs,Vp),Cs),"setSiteConfig"),VH=x(e=>{w5=ua({},e)},"saveConfigFromInitialize"),HH=x(e=>(Cs=ua(Cs,e),S5(Cs,Vp),Cs),"updateSiteConfig"),Y8=x(()=>ua({},Cs),"getSiteConfig"),X8=x(e=>(jH(e),ua(hx,e),ur()),"setConfig"),ur=x(()=>ua({},hx),"getConfig"),YH=x(e=>{e&&(["secure",...Cs.secure??[]].forEach(t=>{Object.hasOwn(e,t)&&(J.debug(`Denied attempt to modify a secure key ${t}`,e[t]),delete e[t])}),Object.keys(e).forEach(t=>{t.startsWith("__")&&delete e[t]}),Object.keys(e).forEach(t=>{typeof e[t]=="string"&&(e[t].includes("<")||e[t].includes(">")||e[t].includes("url(data:"))&&delete e[t],typeof e[t]=="object"&&YH(e[t])}))},"sanitize"),XH=x(e=>{dx(e),e.fontFamily&&!e.themeVariables?.fontFamily&&(e.themeVariables={...e.themeVariables,fontFamily:e.fontFamily}),Vp.push(e),S5(Cs,Vp)},"addDirective"),mx=x((e=Cs)=>{Vp=[],S5(e,Vp)},"reset"),R6t={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},FH={},N6t=x(e=>{FH[e]||(J.warn(R6t[e]),FH[e]=!0)},"issueWarning"),jH=x(e=>{e&&(e.lazyLoadedDiagrams||e.loadExternalDiagramsAtStartup)&&N6t("LAZY_LOAD_DEPRECATED")},"checkConfig"),KH=x(()=>{let e={};w5&&(e=ua(e,w5));for(let t of Vp)e=ua(e,t);return e},"getUserDefinedConfig"),Xp=/<br\s*\/?>/gi,O6t=x(e=>e?JH(e).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),F6t=(()=>{let e=!1;return()=>{e||(QH(),e=!0)}})();x(QH,"setupDompurifyHooks");ZH=x(e=>(F6t(),Uh.sanitize(e)),"removeScript"),PH=x((e,t)=>{if(t.flowchart?.htmlLabels!==!1){let r=t.securityLevel;r==="antiscript"||r==="strict"?e=ZH(e):r!=="loose"&&(e=JH(e),e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e=e.replace(/=/g,"&equals;"),e=z6t(e))}return e},"sanitizeMore"),sr=x((e,t)=>e&&(t.dompurifyConfig?e=Uh.sanitize(PH(e,t),t.dompurifyConfig).toString():e=Uh.sanitize(PH(e,t),{FORBID_TAGS:["style"]}).toString(),e),"sanitizeText"),P6t=x((e,t)=>typeof e=="string"?sr(e,t):e.flat().map(r=>sr(r,t)),"sanitizeTextOrArray"),B6t=x(e=>Xp.test(e),"hasBreaks"),$6t=x(e=>e.split(Xp),"splitBreaks"),z6t=x(e=>e.replace(/#br#/g,"<br/>"),"placeholderToBreak"),JH=x(e=>e.replace(Xp,"#br#"),"breakToPlaceholder"),jp=x(e=>{let t="";return e&&(t=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,t=CSS.escape(t)),t},"getUrl"),on=x(e=>!(e===!1||["false","null","0"].includes(String(e).trim().toLowerCase())),"evaluate"),q6t=x(function(...e){let t=e.filter(r=>!isNaN(r));return Math.max(...t)},"getMax"),U6t=x(function(...e){let t=e.filter(r=>!isNaN(r));return Math.min(...t)},"getMin"),hc=x(function(e){let t=e.split(/(,)/),r=[];for(let n=0;n<t.length;n++){let a=t[n];if(a===","&&n>0&&n+1<t.length){let i=t[n-1],o=t[n+1];W6t(i,o)&&(a=i+","+o,n++,r.pop())}r.push(G6t(a))}return r.join("")},"parseGenericTypes"),G8=x((e,t)=>Math.max(0,e.split(t).length-1),"countOccurrence"),W6t=x((e,t)=>{let r=G8(e,"~"),n=G8(t,"~");return r===1&&n===1},"shouldCombineSets"),G6t=x(e=>{let t=G8(e,"~"),r=!1;if(t<=1)return e;t%2!==0&&e.startsWith("~")&&(e=e.substring(1),r=!0);let n=[...e],a=n.indexOf("~"),i=n.lastIndexOf("~");for(;a!==-1&&i!==-1&&a!==i;)n[a]="<",n[i]=">",a=n.indexOf("~"),i=n.lastIndexOf("~");return r&&n.unshift("~"),n.join("")},"processSet"),BH=x(()=>window.MathMLElement!==void 0,"isMathMLSupported"),b5=/\$\$(.*)\$\$/g,ca=x(e=>(e.match(b5)?.length??0)>0,"hasKatex"),wg=x(async(e,t)=>{let r=document.createElement("div");r.innerHTML=await jh(e,t),r.id="katex-temp",r.style.visibility="hidden",r.style.position="absolute",r.style.top="0",document.querySelector("body")?.insertAdjacentElement("beforeend",r);let a={width:r.clientWidth,height:r.clientHeight};return r.remove(),a},"calculateMathMLDimensions"),V6t=x(async(e,t)=>{if(!ca(e))return e;if(!(BH()||t.legacyMathML||t.forceLegacyMathML))return e.replace(b5,"MathML is unsupported in this environment.");{let{default:r}=await Promise.resolve().then(()=>(OH(),NH)),n=t.forceLegacyMathML||!BH()&&t.legacyMathML?"htmlAndMathml":"mathml";return e.split(Xp).map(a=>ca(a)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${a}</div>`:`<div>${a}</div>`).join("").replace(b5,(a,i)=>r.renderToString(i,{throwOnError:!0,displayMode:!0,output:n}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))}return e.replace(b5,"Katex is not supported in @mermaid-js/tiny. Please use the full mermaid library.")},"renderKatexUnsanitized"),jh=x(async(e,t)=>sr(await V6t(e,t),t),"renderKatexSanitized"),Jt={getRows:O6t,sanitizeText:sr,sanitizeTextOrArray:P6t,hasBreaks:B6t,splitBreaks:$6t,lineBreakRegex:Xp,removeScript:ZH,getUrl:jp,evaluate:on,getMax:q6t,getMin:U6t},H6t=x(function(e,t){for(let r of t)e.attr(r[0],r[1])},"d3Attrs"),Y6t=x(function(e,t,r){let n=new Map;return r?(n.set("width","100%"),n.set("style",`max-width: ${t}px;`)):(n.set("height",e),n.set("width",t)),n},"calculateSvgSizeAttrs"),Nn=x(function(e,t,r,n){let a=Y6t(t,r,n);H6t(e,a)},"configureSvgSize"),Nf=x(function(e,t,r,n){let a=t.node().getBBox(),i=a.width,o=a.height;J.info(`SVG bounds: ${i}x${o}`,a);let s=0,l=0;J.info(`Graph bounds: ${s}x${l}`,e),s=i+r*2,l=o+r*2,J.info(`Calculated bounds: ${s}x${l}`),Nn(t,l,s,n);let u=`${a.x-r} ${a.y-r} ${a.width+2*r} ${a.height+2*r}`;t.attr("viewBox",u)},"setupGraphViewbox"),_5={},X6t=x((e,t,r)=>{let n="";return e in _5&&_5[e]?n=_5[e](r):J.warn(`No theme found for ${e}`),` & {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
    fill: ${r.textColor}
  }
  @keyframes edge-animation-frame {
    from {
      stroke-dashoffset: 0;
    }
  }
  @keyframes dash {
    to {
      stroke-dashoffset: 0;
    }
  }
  & .edge-animation-slow {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 50s linear infinite;
    stroke-linecap: round;
  }
  & .edge-animation-fast {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 20s linear infinite;
    stroke-linecap: round;
  }
  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${r.errorBkgColor};
  }
  & .error-text {
    fill: ${r.errorTextColor};
    stroke: ${r.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${r.lineColor};
    stroke: ${r.lineColor};
  }
  & .marker.cross {
    stroke: ${r.lineColor};
  }

  & svg {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
  }
   & p {
    margin: 0
   }

  ${n}

  ${t}
`},"getStyles"),j6t=x((e,t)=>{t!==void 0&&(_5[e]=t)},"addStylesForDiagram"),tY=X6t,D5={};zh(D5,{clear:()=>wr,getAccDescription:()=>Br,getAccTitle:()=>Fr,getDiagramTitle:()=>$r,setAccDescription:()=>Pr,setAccTitle:()=>Mr,setDiagramTitle:()=>Yr});j8="",K8="",Q8="",Z8=x(e=>sr(e,ur()),"sanitizeText"),wr=x(()=>{j8="",Q8="",K8=""},"clear"),Mr=x(e=>{j8=Z8(e).replace(/^\s+/g,"")},"setAccTitle"),Fr=x(()=>j8,"getAccTitle"),Pr=x(e=>{Q8=Z8(e).replace(/\n\s+/g,`
`)},"setAccDescription"),Br=x(()=>Q8,"getAccDescription"),Yr=x(e=>{K8=Z8(e)},"setDiagramTitle"),$r=x(()=>K8,"getDiagramTitle"),$H=J,K6t=V2,bt=ur,gx=X8,A5=Yp,L5=x(e=>sr(e,bt()),"sanitizeText"),J8=Nf,Q6t=x(()=>D5,"getCommonDb"),T5={},vx=x((e,t,r)=>{T5[e]&&$H.warn(`Diagram with id ${e} already registered. Overwriting.`),T5[e]=t,r&&zH(e,r),j6t(e,t.styles),t.injectUtils?.($H,K6t,bt,L5,J8,Q6t(),()=>{})},"registerDiagram"),M5=x(e=>{if(e in T5)return T5[e];throw new Z6t(e)},"getDiagram"),Z6t=class extends Error{static{x(this,"DiagramNotFoundError")}constructor(e){super(`Diagram ${e} not found.`)}}});function Kp(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}var tL=B(()=>{});function eL(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}var eY=B(()=>{});function Qp(e){let t,r,n;e.length!==2?(t=Kp,r=(s,l)=>Kp(e(s),l),n=(s,l)=>e(s)-l):(t=e===Kp||e===eL?e:J6t,r=e,n=e);function a(s,l,u=0,f=s.length){if(u<f){if(t(l,l)!==0)return f;do{let h=u+f>>>1;r(s[h],l)<0?u=h+1:f=h}while(u<f)}return u}function i(s,l,u=0,f=s.length){if(u<f){if(t(l,l)!==0)return f;do{let h=u+f>>>1;r(s[h],l)<=0?u=h+1:f=h}while(u<f)}return u}function o(s,l,u=0,f=s.length){let h=a(s,l,u,f-1);return h>u&&n(s[h-1],l)>-n(s[h],l)?h-1:h}return{left:a,center:o,right:i}}function J6t(){return 0}var rL=B(()=>{tL();eY()});function nL(e){return e===null?NaN:+e}var rY=B(()=>{});var nY,aY,tDt,eDt,aL,iY=B(()=>{tL();rL();rY();nY=Qp(Kp),aY=nY.right,tDt=nY.left,eDt=Qp(nL).center,aL=aY});function oY({_intern:e,_key:t},r){let n=t(r);return e.has(n)?e.get(n):r}function rDt({_intern:e,_key:t},r){let n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function nDt({_intern:e,_key:t},r){let n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function aDt(e){return e!==null&&typeof e=="object"?e.valueOf():e}var Tg,sY=B(()=>{Tg=class extends Map{constructor(t,r=aDt){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(let[n,a]of t)this.set(n,a)}get(t){return super.get(oY(this,t))}has(t){return super.has(oY(this,t))}set(t,r){return super.set(rDt(this,t),r)}delete(t){return super.delete(nDt(this,t))}}});function I5(e,t,r){let n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=iDt?10:i>=oDt?5:i>=sDt?2:1,s,l,u;return a<0?(u=Math.pow(10,-a)/o,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,a)*o,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=r&&r<2?I5(e,t,r*2):[s,l,u]}function R5(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];let n=t<e,[a,i,o]=n?I5(t,e,r):I5(e,t,r);if(!(i>=a))return[];let s=i-a+1,l=new Array(s);if(n)if(o<0)for(let u=0;u<s;++u)l[u]=(i-u)/-o;else for(let u=0;u<s;++u)l[u]=(i-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(a+u)/-o;else for(let u=0;u<s;++u)l[u]=(a+u)*o;return l}function yx(e,t,r){return t=+t,e=+e,r=+r,I5(e,t,r)[2]}function Eg(e,t,r){t=+t,e=+e,r=+r;let n=t<e,a=n?yx(t,e,r):yx(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}var iDt,oDt,sDt,lY=B(()=>{iDt=Math.sqrt(50),oDt=Math.sqrt(10),sDt=Math.sqrt(2)});function N5(e,t){let r;if(t===void 0)for(let n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(r<a||r===void 0&&a>=a)&&(r=a)}return r}var uY=B(()=>{});function O5(e,t){let r;if(t===void 0)for(let n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(r>a||r===void 0&&a>=a)&&(r=a)}return r}var cY=B(()=>{});function F5(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}var fY=B(()=>{});var Kh=B(()=>{iY();rL();uY();cY();fY();lY();sY()});function hY(e){return e}var dY=B(()=>{});function lDt(e){return"translate("+e+",0)"}function uDt(e){return"translate(0,"+e+")"}function cDt(e){return t=>+e(t)}function fDt(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),r=>+e(r)+t}function hDt(){return!this.__axis}function mY(e,t){var r=[],n=null,a=null,i=6,o=6,s=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=e===B5||e===P5?-1:1,f=e===P5||e===iL?"x":"y",h=e===B5||e===oL?lDt:uDt;function d(p){var m=n??(t.ticks?t.ticks.apply(t,r):t.domain()),g=a??(t.tickFormat?t.tickFormat.apply(t,r):hY),v=Math.max(i,0)+s,y=t.range(),b=+y[0]+l,_=+y[y.length-1]+l,k=(t.bandwidth?fDt:cDt)(t.copy(),l),w=p.selection?p.selection():p,T=w.selectAll(".domain").data([null]),S=w.selectAll(".tick").data(m,t).order(),C=S.exit(),M=S.enter().append("g").attr("class","tick"),N=S.select("line"),L=S.select("text");T=T.merge(T.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),S=S.merge(M),N=N.merge(M.append("line").attr("stroke","currentColor").attr(f+"2",u*i)),L=L.merge(M.append("text").attr("fill","currentColor").attr(f,u*v).attr("dy",e===B5?"0em":e===oL?"0.71em":"0.32em")),p!==w&&(T=T.transition(p),S=S.transition(p),N=N.transition(p),L=L.transition(p),C=C.transition(p).attr("opacity",pY).attr("transform",function(E){return isFinite(E=k(E))?h(E+l):this.getAttribute("transform")}),M.attr("opacity",pY).attr("transform",function(E){var A=this.parentNode.__axis;return h((A&&isFinite(A=A(E))?A:k(E))+l)})),C.remove(),T.attr("d",e===P5||e===iL?o?"M"+u*o+","+b+"H"+l+"V"+_+"H"+u*o:"M"+l+","+b+"V"+_:o?"M"+b+","+u*o+"V"+l+"H"+_+"V"+u*o:"M"+b+","+l+"H"+_),S.attr("opacity",1).attr("transform",function(E){return h(k(E)+l)}),N.attr(f+"2",u*i),L.attr(f,u*v).text(g),w.filter(hDt).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===iL?"start":e===P5?"end":"middle"),w.each(function(){this.__axis=k})}return d.scale=function(p){return arguments.length?(t=p,d):t},d.ticks=function(){return r=Array.from(arguments),d},d.tickArguments=function(p){return arguments.length?(r=p==null?[]:Array.from(p),d):r.slice()},d.tickValues=function(p){return arguments.length?(n=p==null?null:Array.from(p),d):n&&n.slice()},d.tickFormat=function(p){return arguments.length?(a=p,d):a},d.tickSize=function(p){return arguments.length?(i=o=+p,d):i},d.tickSizeInner=function(p){return arguments.length?(i=+p,d):i},d.tickSizeOuter=function(p){return arguments.length?(o=+p,d):o},d.tickPadding=function(p){return arguments.length?(s=+p,d):s},d.offset=function(p){return arguments.length?(l=+p,d):l},d}function sL(e){return mY(B5,e)}function lL(e){return mY(oL,e)}var B5,iL,oL,P5,pY,gY=B(()=>{dY();B5=1,iL=2,oL=3,P5=4,pY=1e-6});var vY=B(()=>{gY()});function xY(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new $5(r)}function $5(e){this._=e}function pDt(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",a=r.indexOf(".");if(a>=0&&(n=r.slice(a+1),r=r.slice(0,a)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}function mDt(e,t){for(var r=0,n=e.length,a;r<n;++r)if((a=e[r]).name===t)return a.value}function yY(e,t,r){for(var n=0,a=e.length;n<a;++n)if(e[n].name===t){e[n]=dDt,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var dDt,uL,bY=B(()=>{dDt={value:()=>{}};$5.prototype=xY.prototype={constructor:$5,on:function(e,t){var r=this._,n=pDt(e+"",r),a,i=-1,o=n.length;if(arguments.length<2){for(;++i<o;)if((a=(e=n[i]).type)&&(a=mDt(r[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<o;)if(a=(e=n[i]).type)r[a]=yY(r[a],e.name,t);else if(t==null)for(a in r)r[a]=yY(r[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new $5(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var r=new Array(a),n=0,a,i;n<a;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],n=0,a=i.length;n<a;++n)i[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],a=0,i=n.length;a<i;++a)n[a].value.apply(t,r)}};uL=xY});var cL=B(()=>{bY()});var z5,fL,hL=B(()=>{z5="http://www.w3.org/1999/xhtml",fL={svg:"http://www.w3.org/2000/svg",xhtml:z5,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}});function Of(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),fL.hasOwnProperty(t)?{space:fL[t],local:e}:e}var q5=B(()=>{hL()});function gDt(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===z5&&t.documentElement.namespaceURI===z5?t.createElement(e):t.createElementNS(r,e)}}function vDt(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function U5(e){var t=Of(e);return(t.local?vDt:gDt)(t)}var dL=B(()=>{q5();hL()});function yDt(){}function Zp(e){return e==null?yDt:function(){return this.querySelector(e)}}var W5=B(()=>{});function _Y(e){typeof e!="function"&&(e=Zp(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var i=t[a],o=i.length,s=n[a]=new Array(o),l,u,f=0;f<o;++f)(l=i[f])&&(u=e.call(l,l.__data__,f,i))&&("__data__"in l&&(u.__data__=l.__data__),s[f]=u);return new qa(n,this._parents)}var wY=B(()=>{yu();W5()});function pL(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}var TY=B(()=>{});function xDt(){return[]}function xx(e){return e==null?xDt:function(){return this.querySelectorAll(e)}}var mL=B(()=>{});function bDt(e){return function(){return pL(e.apply(this,arguments))}}function EY(e){typeof e=="function"?e=bDt(e):e=xx(e);for(var t=this._groups,r=t.length,n=[],a=[],i=0;i<r;++i)for(var o=t[i],s=o.length,l,u=0;u<s;++u)(l=o[u])&&(n.push(e.call(l,l.__data__,u,o)),a.push(l));return new qa(n,a)}var kY=B(()=>{yu();TY();mL()});function bx(e){return function(){return this.matches(e)}}function G5(e){return function(t){return t.matches(e)}}var _x=B(()=>{});function wDt(e){return function(){return _Dt.call(this.children,e)}}function TDt(){return this.firstElementChild}function CY(e){return this.select(e==null?TDt:wDt(typeof e=="function"?e:G5(e)))}var _Dt,SY=B(()=>{_x();_Dt=Array.prototype.find});function kDt(){return Array.from(this.children)}function CDt(e){return function(){return EDt.call(this.children,e)}}function DY(e){return this.selectAll(e==null?kDt:CDt(typeof e=="function"?e:G5(e)))}var EDt,AY=B(()=>{_x();EDt=Array.prototype.filter});function LY(e){typeof e!="function"&&(e=bx(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var i=t[a],o=i.length,s=n[a]=[],l,u=0;u<o;++u)(l=i[u])&&e.call(l,l.__data__,u,i)&&s.push(l);return new qa(n,this._parents)}var MY=B(()=>{yu();_x()});function V5(e){return new Array(e.length)}var gL=B(()=>{});function IY(){return new qa(this._enter||this._groups.map(V5),this._parents)}function wx(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}var vL=B(()=>{gL();yu();wx.prototype={constructor:wx,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}}});function RY(e){return function(){return e}}var NY=B(()=>{});function SDt(e,t,r,n,a,i){for(var o=0,s,l=t.length,u=i.length;o<u;++o)(s=t[o])?(s.__data__=i[o],n[o]=s):r[o]=new wx(e,i[o]);for(;o<l;++o)(s=t[o])&&(a[o]=s)}function DDt(e,t,r,n,a,i,o){var s,l,u=new Map,f=t.length,h=i.length,d=new Array(f),p;for(s=0;s<f;++s)(l=t[s])&&(d[s]=p=o.call(l,l.__data__,s,t)+"",u.has(p)?a[s]=l:u.set(p,l));for(s=0;s<h;++s)p=o.call(e,i[s],s,i)+"",(l=u.get(p))?(n[s]=l,l.__data__=i[s],u.delete(p)):r[s]=new wx(e,i[s]);for(s=0;s<f;++s)(l=t[s])&&u.get(d[s])===l&&(a[s]=l)}function ADt(e){return e.__data__}function OY(e,t){if(!arguments.length)return Array.from(this,ADt);var r=t?DDt:SDt,n=this._parents,a=this._groups;typeof e!="function"&&(e=RY(e));for(var i=a.length,o=new Array(i),s=new Array(i),l=new Array(i),u=0;u<i;++u){var f=n[u],h=a[u],d=h.length,p=LDt(e.call(f,f&&f.__data__,u,n)),m=p.length,g=s[u]=new Array(m),v=o[u]=new Array(m),y=l[u]=new Array(d);r(f,h,g,v,y,p,t);for(var b=0,_=0,k,w;b<m;++b)if(k=g[b]){for(b>=_&&(_=b+1);!(w=v[_])&&++_<m;);k._next=w||null}}return o=new qa(o,n),o._enter=s,o._exit=l,o}function LDt(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}var FY=B(()=>{yu();vL();NY()});function PY(){return new qa(this._exit||this._groups.map(V5),this._parents)}var BY=B(()=>{gL();yu()});function $Y(e,t,r){var n=this.enter(),a=this,i=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),r==null?i.remove():r(i),n&&a?n.merge(a).order():a}var zY=B(()=>{});function qY(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,a=r.length,i=n.length,o=Math.min(a,i),s=new Array(a),l=0;l<o;++l)for(var u=r[l],f=n[l],h=u.length,d=s[l]=new Array(h),p,m=0;m<h;++m)(p=u[m]||f[m])&&(d[m]=p);for(;l<a;++l)s[l]=r[l];return new qa(s,this._parents)}var UY=B(()=>{yu()});function WY(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],a=n.length-1,i=n[a],o;--a>=0;)(o=n[a])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}var GY=B(()=>{});function VY(e){e||(e=MDt);function t(h,d){return h&&d?e(h.__data__,d.__data__):!h-!d}for(var r=this._groups,n=r.length,a=new Array(n),i=0;i<n;++i){for(var o=r[i],s=o.length,l=a[i]=new Array(s),u,f=0;f<s;++f)(u=o[f])&&(l[f]=u);l.sort(t)}return new qa(a,this._parents).order()}function MDt(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var HY=B(()=>{yu()});function YY(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}var XY=B(()=>{});function jY(){return Array.from(this)}var KY=B(()=>{});function QY(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,i=n.length;a<i;++a){var o=n[a];if(o)return o}return null}var ZY=B(()=>{});function JY(){let e=0;for(let t of this)++e;return e}var tX=B(()=>{});function eX(){return!this.node()}var rX=B(()=>{});function nX(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var a=t[r],i=0,o=a.length,s;i<o;++i)(s=a[i])&&e.call(s,s.__data__,i,a);return this}var aX=B(()=>{});function IDt(e){return function(){this.removeAttribute(e)}}function RDt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function NDt(e,t){return function(){this.setAttribute(e,t)}}function ODt(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function FDt(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function PDt(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function iX(e,t){var r=Of(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?RDt:IDt:typeof t=="function"?r.local?PDt:FDt:r.local?ODt:NDt)(r,t))}var oX=B(()=>{q5()});function H5(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}var yL=B(()=>{});function BDt(e){return function(){this.style.removeProperty(e)}}function $Dt(e,t,r){return function(){this.style.setProperty(e,t,r)}}function zDt(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function sX(e,t,r){return arguments.length>1?this.each((t==null?BDt:typeof t=="function"?zDt:$Dt)(e,t,r??"")):Qh(this.node(),e)}function Qh(e,t){return e.style.getPropertyValue(t)||H5(e).getComputedStyle(e,null).getPropertyValue(t)}var xL=B(()=>{yL()});function qDt(e){return function(){delete this[e]}}function UDt(e,t){return function(){this[e]=t}}function WDt(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function lX(e,t){return arguments.length>1?this.each((t==null?qDt:typeof t=="function"?WDt:UDt)(e,t)):this.node()[e]}var uX=B(()=>{});function cX(e){return e.trim().split(/^|\s+/)}function bL(e){return e.classList||new fX(e)}function fX(e){this._node=e,this._names=cX(e.getAttribute("class")||"")}function hX(e,t){for(var r=bL(e),n=-1,a=t.length;++n<a;)r.add(t[n])}function dX(e,t){for(var r=bL(e),n=-1,a=t.length;++n<a;)r.remove(t[n])}function GDt(e){return function(){hX(this,e)}}function VDt(e){return function(){dX(this,e)}}function HDt(e,t){return function(){(t.apply(this,arguments)?hX:dX)(this,e)}}function pX(e,t){var r=cX(e+"");if(arguments.length<2){for(var n=bL(this.node()),a=-1,i=r.length;++a<i;)if(!n.contains(r[a]))return!1;return!0}return this.each((typeof t=="function"?HDt:t?GDt:VDt)(r,t))}var mX=B(()=>{fX.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}}});function YDt(){this.textContent=""}function XDt(e){return function(){this.textContent=e}}function jDt(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function gX(e){return arguments.length?this.each(e==null?YDt:(typeof e=="function"?jDt:XDt)(e)):this.node().textContent}var vX=B(()=>{});function KDt(){this.innerHTML=""}function QDt(e){return function(){this.innerHTML=e}}function ZDt(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function yX(e){return arguments.length?this.each(e==null?KDt:(typeof e=="function"?ZDt:QDt)(e)):this.node().innerHTML}var xX=B(()=>{});function JDt(){this.nextSibling&&this.parentNode.appendChild(this)}function bX(){return this.each(JDt)}var _X=B(()=>{});function tAt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function wX(){return this.each(tAt)}var TX=B(()=>{});function EX(e){var t=typeof e=="function"?e:U5(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}var kX=B(()=>{dL()});function eAt(){return null}function CX(e,t){var r=typeof e=="function"?e:U5(e),n=t==null?eAt:typeof t=="function"?t:Zp(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}var SX=B(()=>{dL();W5()});function rAt(){var e=this.parentNode;e&&e.removeChild(this)}function DX(){return this.each(rAt)}var AX=B(()=>{});function nAt(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function aAt(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function LX(e){return this.select(e?aAt:nAt)}var MX=B(()=>{});function IX(e){return arguments.length?this.property("__data__",e):this.node().__data__}var RX=B(()=>{});function iAt(e){return function(t){e.call(this,t,this.__data__)}}function oAt(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function sAt(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,a=t.length,i;r<a;++r)i=t[r],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++n]=i;++n?t.length=n:delete this.__on}}}function lAt(e,t,r){return function(){var n=this.__on,a,i=iAt(t);if(n){for(var o=0,s=n.length;o<s;++o)if((a=n[o]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=i,a.options=r),a.value=t;return}}this.addEventListener(e.type,i,r),a={type:e.type,name:e.name,value:t,listener:i,options:r},n?n.push(a):this.__on=[a]}}function NX(e,t,r){var n=oAt(e+""),a,i=n.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,f;l<u;++l)for(a=0,f=s[l];a<i;++a)if((o=n[a]).type===f.type&&o.name===f.name)return f.value}return}for(s=t?lAt:sAt,a=0;a<i;++a)this.each(s(n[a],t,r));return this}var OX=B(()=>{});function FX(e,t,r){var n=H5(e),a=n.CustomEvent;typeof a=="function"?a=new a(t,r):(a=n.document.createEvent("Event"),r?(a.initEvent(t,r.bubbles,r.cancelable),a.detail=r.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function uAt(e,t){return function(){return FX(this,e,t)}}function cAt(e,t){return function(){return FX(this,e,t.apply(this,arguments))}}function PX(e,t){return this.each((typeof t=="function"?cAt:uAt)(e,t))}var BX=B(()=>{yL()});function*$X(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,i=n.length,o;a<i;++a)(o=n[a])&&(yield o)}var zX=B(()=>{});function qa(e,t){this._groups=e,this._parents=t}function qX(){return new qa([[document.documentElement]],_L)}function fAt(){return this}var _L,Ff,yu=B(()=>{wY();kY();SY();AY();MY();FY();vL();BY();zY();UY();GY();HY();XY();KY();ZY();tX();rX();aX();oX();xL();uX();mX();vX();xX();_X();TX();kX();SX();AX();MX();RX();OX();BX();zX();_L=[null];qa.prototype=qX.prototype={constructor:qa,select:_Y,selectAll:EY,selectChild:CY,selectChildren:DY,filter:LY,data:OY,enter:IY,exit:PY,join:$Y,merge:qY,selection:fAt,order:WY,sort:VY,call:YY,nodes:jY,node:QY,size:JY,empty:eX,each:nX,attr:iX,style:sX,property:lX,classed:pX,text:gX,html:yX,raise:bX,lower:wX,append:EX,insert:CX,remove:DX,clone:LX,datum:IX,on:NX,dispatch:PX,[Symbol.iterator]:$X};Ff=qX});function Vt(e){return typeof e=="string"?new qa([[document.querySelector(e)]],[document.documentElement]):new qa([[e]],_L)}var UX=B(()=>{yu()});var xu=B(()=>{_x();q5();UX();yu();W5();mL();xL()});var WX=B(()=>{});function Jp(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function kg(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}var wL=B(()=>{});function Zh(){}function VX(){return this.rgb().formatHex()}function xAt(){return this.rgb().formatHex8()}function bAt(){return ZX(this).formatHsl()}function HX(){return this.rgb().formatRgb()}function _u(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=hAt.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?YX(t):r===3?new Vi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Y5(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Y5(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=dAt.exec(e))?new Vi(t[1],t[2],t[3],1):(t=pAt.exec(e))?new Vi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=mAt.exec(e))?Y5(t[1],t[2],t[3],t[4]):(t=gAt.exec(e))?Y5(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=vAt.exec(e))?KX(t[1],t[2]/100,t[3]/100,1):(t=yAt.exec(e))?KX(t[1],t[2]/100,t[3]/100,t[4]):GX.hasOwnProperty(e)?YX(GX[e]):e==="transparent"?new Vi(NaN,NaN,NaN,0):null}function YX(e){return new Vi(e>>16&255,e>>8&255,e&255,1)}function Y5(e,t,r,n){return n<=0&&(e=t=r=NaN),new Vi(e,t,r,n)}function EL(e){return e instanceof Zh||(e=_u(e)),e?(e=e.rgb(),new Vi(e.r,e.g,e.b,e.opacity)):new Vi}function Sg(e,t,r,n){return arguments.length===1?EL(e):new Vi(e,t,r,n??1)}function Vi(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function XX(){return`#${t0(this.r)}${t0(this.g)}${t0(this.b)}`}function _At(){return`#${t0(this.r)}${t0(this.g)}${t0(this.b)}${t0((isNaN(this.opacity)?1:this.opacity)*255)}`}function jX(){let e=K5(this.opacity);return`${e===1?"rgb(":"rgba("}${e0(this.r)}, ${e0(this.g)}, ${e0(this.b)}${e===1?")":`, ${e})`}`}function K5(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function e0(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function t0(e){return e=e0(e),(e<16?"0":"")+e.toString(16)}function KX(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new bu(e,t,r,n)}function ZX(e){if(e instanceof bu)return new bu(e.h,e.s,e.l,e.opacity);if(e instanceof Zh||(e=_u(e)),!e)return new bu;if(e instanceof bu)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,s=i-a,l=(i+a)/2;return s?(t===i?o=(r-n)/s+(r<n)*6:r===i?o=(n-t)/s+2:o=(t-r)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new bu(o,s,l,e.opacity)}function JX(e,t,r,n){return arguments.length===1?ZX(e):new bu(e,t,r,n??1)}function bu(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function QX(e){return e=(e||0)%360,e<0?e+360:e}function X5(e){return Math.max(0,Math.min(1,e||0))}function TL(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}var Tx,j5,Cg,Ex,dc,hAt,dAt,pAt,mAt,gAt,vAt,yAt,GX,kL=B(()=>{wL();Tx=.7,j5=1/Tx,Cg="\\s*([+-]?\\d+)\\s*",Ex="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",dc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",hAt=/^#([0-9a-f]{3,8})$/,dAt=new RegExp(`^rgb\\(${Cg},${Cg},${Cg}\\)$`),pAt=new RegExp(`^rgb\\(${dc},${dc},${dc}\\)$`),mAt=new RegExp(`^rgba\\(${Cg},${Cg},${Cg},${Ex}\\)$`),gAt=new RegExp(`^rgba\\(${dc},${dc},${dc},${Ex}\\)$`),vAt=new RegExp(`^hsl\\(${Ex},${dc},${dc}\\)$`),yAt=new RegExp(`^hsla\\(${Ex},${dc},${dc},${Ex}\\)$`),GX={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Jp(Zh,_u,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:VX,formatHex:VX,formatHex8:xAt,formatHsl:bAt,formatRgb:HX,toString:HX});Jp(Vi,Sg,kg(Zh,{brighter(e){return e=e==null?j5:Math.pow(j5,e),new Vi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Tx:Math.pow(Tx,e),new Vi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Vi(e0(this.r),e0(this.g),e0(this.b),K5(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:XX,formatHex:XX,formatHex8:_At,formatRgb:jX,toString:jX}));Jp(bu,JX,kg(Zh,{brighter(e){return e=e==null?j5:Math.pow(j5,e),new bu(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Tx:Math.pow(Tx,e),new bu(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Vi(TL(e>=240?e-240:e+120,a,n),TL(e,a,n),TL(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new bu(QX(this.h),X5(this.s),X5(this.l),K5(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=K5(this.opacity);return`${e===1?"hsl(":"hsla("}${QX(this.h)}, ${X5(this.s)*100}%, ${X5(this.l)*100}%${e===1?")":`, ${e})`}`}}))});var tj,ej,rj=B(()=>{tj=Math.PI/180,ej=180/Math.PI});function lj(e){if(e instanceof pc)return new pc(e.l,e.a,e.b,e.opacity);if(e instanceof Pf)return uj(e);e instanceof Vi||(e=EL(e));var t=AL(e.r),r=AL(e.g),n=AL(e.b),a=CL((.2225045*t+.7168786*r+.0606169*n)/aj),i,o;return t===r&&r===n?i=o=a:(i=CL((.4360747*t+.3850649*r+.1430804*n)/nj),o=CL((.0139322*t+.0971045*r+.7141733*n)/ij)),new pc(116*a-16,500*(i-a),200*(a-o),e.opacity)}function LL(e,t,r,n){return arguments.length===1?lj(e):new pc(e,t,r,n??1)}function pc(e,t,r,n){this.l=+e,this.a=+t,this.b=+r,this.opacity=+n}function CL(e){return e>wAt?Math.pow(e,1/3):e/sj+oj}function SL(e){return e>Dg?e*e*e:sj*(e-oj)}function DL(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function AL(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function TAt(e){if(e instanceof Pf)return new Pf(e.h,e.c,e.l,e.opacity);if(e instanceof pc||(e=lj(e)),e.a===0&&e.b===0)return new Pf(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*ej;return new Pf(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function kx(e,t,r,n){return arguments.length===1?TAt(e):new Pf(e,t,r,n??1)}function Pf(e,t,r,n){this.h=+e,this.c=+t,this.l=+r,this.opacity=+n}function uj(e){if(isNaN(e.h))return new pc(e.l,0,0,e.opacity);var t=e.h*tj;return new pc(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}var Q5,nj,aj,ij,oj,Dg,sj,wAt,cj=B(()=>{wL();kL();rj();Q5=18,nj=.96422,aj=1,ij=.82521,oj=4/29,Dg=6/29,sj=3*Dg*Dg,wAt=Dg*Dg*Dg;Jp(pc,LL,kg(Zh,{brighter(e){return new pc(this.l+Q5*(e??1),this.a,this.b,this.opacity)},darker(e){return new pc(this.l-Q5*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;return t=nj*SL(t),e=aj*SL(e),r=ij*SL(r),new Vi(DL(3.1338561*t-1.6168667*e-.4906146*r),DL(-.9787684*t+1.9161415*e+.033454*r),DL(.0719453*t-.2289914*e+1.4052427*r),this.opacity)}}));Jp(Pf,kx,kg(Zh,{brighter(e){return new Pf(this.h,this.c,this.l+Q5*(e??1),this.opacity)},darker(e){return new Pf(this.h,this.c,this.l-Q5*(e??1),this.opacity)},rgb(){return uj(this).rgb()}}))});var Ag=B(()=>{kL();cj()});function ML(e,t,r,n,a){var i=e*e,o=i*e;return((1-3*e+3*i-o)*t+(4-6*i+3*o)*r+(1+3*e+3*i-3*o)*n+o*a)/6}function fj(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),a=e[n],i=e[n+1],o=n>0?e[n-1]:2*a-i,s=n<t-1?e[n+2]:2*i-a;return ML((r-n/t)*t,o,a,i,s)}}var IL=B(()=>{});function hj(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),a=e[(n+t-1)%t],i=e[n%t],o=e[(n+1)%t],s=e[(n+2)%t];return ML((r-n/t)*t,a,i,o,s)}}var dj=B(()=>{IL()});var Lg,RL=B(()=>{Lg=e=>()=>e});function pj(e,t){return function(r){return e+r*t}}function EAt(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function mj(e,t){var r=t-e;return r?pj(e,r>180||r<-180?r-360*Math.round(r/360):r):Lg(isNaN(e)?t:e)}function gj(e){return(e=+e)==1?Bf:function(t,r){return r-t?EAt(t,r,e):Lg(isNaN(t)?r:t)}}function Bf(e,t){var r=t-e;return r?pj(e,r):Lg(isNaN(e)?t:e)}var NL=B(()=>{RL()});function vj(e){return function(t){var r=t.length,n=new Array(r),a=new Array(r),i=new Array(r),o,s;for(o=0;o<r;++o)s=Sg(t[o]),n[o]=s.r||0,a[o]=s.g||0,i[o]=s.b||0;return n=e(n),a=e(a),i=e(i),s.opacity=1,function(l){return s.r=n(l),s.g=a(l),s.b=i(l),s+""}}}var r0,kAt,CAt,OL=B(()=>{Ag();IL();dj();NL();r0=function e(t){var r=gj(t);function n(a,i){var o=r((a=Sg(a)).r,(i=Sg(i)).r),s=r(a.g,i.g),l=r(a.b,i.b),u=Bf(a.opacity,i.opacity);return function(f){return a.r=o(f),a.g=s(f),a.b=l(f),a.opacity=u(f),a+""}}return n.gamma=e,n}(1);kAt=vj(fj),CAt=vj(hj)});function yj(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function xj(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}var bj=B(()=>{});function _j(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=n0(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(s){for(o=0;o<n;++o)i[o]=a[o](s);return i}}var wj=B(()=>{Z5()});function Tj(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}var Ej=B(()=>{});function Hi(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var Cx=B(()=>{});function kj(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=n0(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var Cj=B(()=>{Z5()});function SAt(e){return function(){return e}}function DAt(e){return function(t){return e(t)+""}}function Sx(e,t){var r=PL.lastIndex=FL.lastIndex=0,n,a,i,o=-1,s=[],l=[];for(e=e+"",t=t+"";(n=PL.exec(e))&&(a=FL.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,l.push({i:o,x:Hi(n,a)})),r=FL.lastIndex;return r<t.length&&(i=t.slice(r),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?DAt(l[0].x):SAt(t):(t=l.length,function(u){for(var f=0,h;f<t;++f)s[(h=l[f]).i]=h.x(u);return s.join("")})}var PL,FL,BL=B(()=>{Cx();PL=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,FL=new RegExp(PL.source,"g")});function n0(e,t){var r=typeof t,n;return t==null||r==="boolean"?Lg(t):(r==="number"?Hi:r==="string"?(n=_u(t))?(t=n,r0):Sx:t instanceof _u?r0:t instanceof Date?Tj:xj(t)?yj:Array.isArray(t)?_j:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?kj:Hi)(e,t)}var Z5=B(()=>{Ag();OL();wj();Ej();Cx();Cj();BL();RL();bj()});function $L(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var Sj=B(()=>{});function zL(e,t,r,n,a,i){var o,s,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*r+t*n)&&(r-=e*l,n-=t*l),(s=Math.sqrt(r*r+n*n))&&(r/=s,n/=s,l/=s),e*n<t*r&&(e=-e,t=-t,l=-l,o=-o),{translateX:a,translateY:i,rotate:Math.atan2(t,e)*Dj,skewX:Math.atan(l)*Dj,scaleX:o,scaleY:s}}var Dj,J5,Aj=B(()=>{Dj=180/Math.PI,J5={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1}});function Lj(e){let t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?J5:zL(t.a,t.b,t.c,t.d,t.e,t.f)}function Mj(e){return e==null?J5:(tT||(tT=document.createElementNS("http://www.w3.org/2000/svg","g")),tT.setAttribute("transform",e),(e=tT.transform.baseVal.consolidate())?(e=e.matrix,zL(e.a,e.b,e.c,e.d,e.e,e.f)):J5)}var tT,Ij=B(()=>{Aj()});function Rj(e,t,r,n){function a(u){return u.length?u.pop()+" ":""}function i(u,f,h,d,p,m){if(u!==h||f!==d){var g=p.push("translate(",null,t,null,r);m.push({i:g-4,x:Hi(u,h)},{i:g-2,x:Hi(f,d)})}else(h||d)&&p.push("translate("+h+t+d+r)}function o(u,f,h,d){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),d.push({i:h.push(a(h)+"rotate(",null,n)-2,x:Hi(u,f)})):f&&h.push(a(h)+"rotate("+f+n)}function s(u,f,h,d){u!==f?d.push({i:h.push(a(h)+"skewX(",null,n)-2,x:Hi(u,f)}):f&&h.push(a(h)+"skewX("+f+n)}function l(u,f,h,d,p,m){if(u!==h||f!==d){var g=p.push(a(p)+"scale(",null,",",null,")");m.push({i:g-4,x:Hi(u,h)},{i:g-2,x:Hi(f,d)})}else(h!==1||d!==1)&&p.push(a(p)+"scale("+h+","+d+")")}return function(u,f){var h=[],d=[];return u=e(u),f=e(f),i(u.translateX,u.translateY,f.translateX,f.translateY,h,d),o(u.rotate,f.rotate,h,d),s(u.skewX,f.skewX,h,d),l(u.scaleX,u.scaleY,f.scaleX,f.scaleY,h,d),u=f=null,function(p){for(var m=-1,g=d.length,v;++m<g;)h[(v=d[m]).i]=v.x(p);return h.join("")}}}var qL,UL,Nj=B(()=>{Cx();Ij();qL=Rj(Lj,"px, ","px)","deg)"),UL=Rj(Mj,", ",")",")")});function Oj(e){return function(t,r){var n=e((t=kx(t)).h,(r=kx(r)).h),a=Bf(t.c,r.c),i=Bf(t.l,r.l),o=Bf(t.opacity,r.opacity);return function(s){return t.h=n(s),t.c=a(s),t.l=i(s),t.opacity=o(s),t+""}}}var WL,AAt,Fj=B(()=>{Ag();NL();WL=Oj(mj),AAt=Oj(Bf)});var Mg=B(()=>{Z5();Cx();Sj();BL();Nj();OL();Fj()});function Rx(){return a0||($j(LAt),a0=Mx.now()+nT)}function LAt(){a0=0}function Ix(){this._call=this._time=this._next=null}function aT(e,t,r){var n=new Ix;return n.restart(e,t,r),n}function zj(){Rx(),++Ig;for(var e=eT,t;e;)(t=a0-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ig}function Pj(){a0=(rT=Mx.now())+nT,Ig=Ax=0;try{zj()}finally{Ig=0,IAt(),a0=0}}function MAt(){var e=Mx.now(),t=e-rT;t>Bj&&(nT-=t,rT=e)}function IAt(){for(var e,t=eT,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:eT=r);Lx=e,GL(n)}function GL(e){if(!Ig){Ax&&(Ax=clearTimeout(Ax));var t=e-a0;t>24?(e<1/0&&(Ax=setTimeout(Pj,e-Mx.now()-nT)),Dx&&(Dx=clearInterval(Dx))):(Dx||(rT=Mx.now(),Dx=setInterval(MAt,Bj)),Ig=1,$j(Pj))}}var Ig,Ax,Dx,Bj,eT,Lx,rT,a0,nT,Mx,$j,VL=B(()=>{Ig=0,Ax=0,Dx=0,Bj=1e3,rT=0,a0=0,nT=0,Mx=typeof performance=="object"&&performance.now?performance:Date,$j=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};Ix.prototype=aT.prototype={constructor:Ix,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?Rx():+r)+(t==null?0:+t),!this._next&&Lx!==this&&(Lx?Lx._next=this:eT=this,Lx=this),this._call=e,this._time=r,GL()},stop:function(){this._call&&(this._call=null,this._time=1/0,GL())}}});function iT(e,t,r){var n=new Ix;return t=t==null?0:+t,n.restart(a=>{n.stop(),e(a+t)},t,r),n}var qj=B(()=>{VL()});var oT=B(()=>{VL();qj()});function Jh(e,t,r,n,a,i){var o=e.__transition;if(!o)e.__transition={};else if(r in o)return;OAt(e,r,{name:t,index:n,group:a,on:RAt,tween:NAt,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Gj})}function Ox(e,t){var r=pi(e,t);if(r.state>Gj)throw new Error("too late; already scheduled");return r}function Yi(e,t){var r=pi(e,t);if(r.state>sT)throw new Error("too late; already running");return r}function pi(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function OAt(e,t,r){var n=e.__transition,a;n[t]=r,r.timer=aT(i,0,r.time);function i(u){r.state=Uj,r.timer.restart(o,r.delay,r.time),r.delay<=u&&o(u-r.delay)}function o(u){var f,h,d,p;if(r.state!==Uj)return l();for(f in n)if(p=n[f],p.name===r.name){if(p.state===sT)return iT(o);p.state===Wj?(p.state=Nx,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete n[f]):+f<t&&(p.state=Nx,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete n[f])}if(iT(function(){r.state===sT&&(r.state=Wj,r.timer.restart(s,r.delay,r.time),s(u))}),r.state=lT,r.on.call("start",e,e.__data__,r.index,r.group),r.state===lT){for(r.state=sT,a=new Array(d=r.tween.length),f=0,h=-1;f<d;++f)(p=r.tween[f].value.call(e,e.__data__,r.index,r.group))&&(a[++h]=p);a.length=h+1}}function s(u){for(var f=u<r.duration?r.ease.call(null,u/r.duration):(r.timer.restart(l),r.state=uT,1),h=-1,d=a.length;++h<d;)a[h].call(e,f);r.state===uT&&(r.on.call("end",e,e.__data__,r.index,r.group),l())}function l(){r.state=Nx,r.timer.stop(),delete n[t];for(var u in n)return;delete e.__transition}}var RAt,NAt,Gj,Uj,lT,sT,Wj,uT,Nx,Ss=B(()=>{cL();oT();RAt=uL("start","end","cancel","interrupt"),NAt=[],Gj=0,Uj=1,lT=2,sT=3,Wj=4,uT=5,Nx=6});function cT(e,t){var r=e.__transition,n,a,i=!0,o;if(r){t=t==null?null:t+"";for(o in r){if((n=r[o]).name!==t){i=!1;continue}a=n.state>lT&&n.state<uT,n.state=Nx,n.timer.stop(),n.on.call(a?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[o]}i&&delete e.__transition}}var Vj=B(()=>{Ss()});function Hj(e){return this.each(function(){cT(this,e)})}var Yj=B(()=>{Vj()});function FAt(e,t){var r,n;return function(){var a=Yi(this,e),i=a.tween;if(i!==r){n=r=i;for(var o=0,s=n.length;o<s;++o)if(n[o].name===t){n=n.slice(),n.splice(o,1);break}}a.tween=n}}function PAt(e,t,r){var n,a;if(typeof r!="function")throw new Error;return function(){var i=Yi(this,e),o=i.tween;if(o!==n){a=(n=o).slice();for(var s={name:t,value:r},l=0,u=a.length;l<u;++l)if(a[l].name===t){a[l]=s;break}l===u&&a.push(s)}i.tween=a}}function Xj(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=pi(this.node(),r).tween,a=0,i=n.length,o;a<i;++a)if((o=n[a]).name===e)return o.value;return null}return this.each((t==null?FAt:PAt)(r,e,t))}function Rg(e,t,r){var n=e._id;return e.each(function(){var a=Yi(this,n);(a.value||(a.value={}))[t]=r.apply(this,arguments)}),function(a){return pi(a,n).value[t]}}var Fx=B(()=>{Ss()});function fT(e,t){var r;return(typeof t=="number"?Hi:t instanceof _u?r0:(r=_u(t))?(t=r,r0):Sx)(e,t)}var HL=B(()=>{Ag();Mg()});function BAt(e){return function(){this.removeAttribute(e)}}function $At(e){return function(){this.removeAttributeNS(e.space,e.local)}}function zAt(e,t,r){var n,a=r+"",i;return function(){var o=this.getAttribute(e);return o===a?null:o===n?i:i=t(n=o,r)}}function qAt(e,t,r){var n,a=r+"",i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===n?i:i=t(n=o,r)}}function UAt(e,t,r){var n,a,i;return function(){var o,s=r(this),l;return s==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=s+"",o===l?null:o===n&&l===a?i:(a=l,i=t(n=o,s)))}}function WAt(e,t,r){var n,a,i;return function(){var o,s=r(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=s+"",o===l?null:o===n&&l===a?i:(a=l,i=t(n=o,s)))}}function jj(e,t){var r=Of(e),n=r==="transform"?UL:fT;return this.attrTween(e,typeof t=="function"?(r.local?WAt:UAt)(r,n,Rg(this,"attr."+e,t)):t==null?(r.local?$At:BAt)(r):(r.local?qAt:zAt)(r,n,t))}var Kj=B(()=>{Mg();xu();Fx();HL()});function GAt(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function VAt(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function HAt(e,t){var r,n;function a(){var i=t.apply(this,arguments);return i!==n&&(r=(n=i)&&VAt(e,i)),r}return a._value=t,a}function YAt(e,t){var r,n;function a(){var i=t.apply(this,arguments);return i!==n&&(r=(n=i)&&GAt(e,i)),r}return a._value=t,a}function Qj(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=Of(e);return this.tween(r,(n.local?HAt:YAt)(n,t))}var Zj=B(()=>{xu()});function XAt(e,t){return function(){Ox(this,e).delay=+t.apply(this,arguments)}}function jAt(e,t){return t=+t,function(){Ox(this,e).delay=t}}function Jj(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?XAt:jAt)(t,e)):pi(this.node(),t).delay}var tK=B(()=>{Ss()});function KAt(e,t){return function(){Yi(this,e).duration=+t.apply(this,arguments)}}function QAt(e,t){return t=+t,function(){Yi(this,e).duration=t}}function eK(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?KAt:QAt)(t,e)):pi(this.node(),t).duration}var rK=B(()=>{Ss()});function ZAt(e,t){if(typeof t!="function")throw new Error;return function(){Yi(this,e).ease=t}}function nK(e){var t=this._id;return arguments.length?this.each(ZAt(t,e)):pi(this.node(),t).ease}var aK=B(()=>{Ss()});function JAt(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;Yi(this,e).ease=r}}function iK(e){if(typeof e!="function")throw new Error;return this.each(JAt(this._id,e))}var oK=B(()=>{Ss()});function sK(e){typeof e!="function"&&(e=bx(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var i=t[a],o=i.length,s=n[a]=[],l,u=0;u<o;++u)(l=i[u])&&e.call(l,l.__data__,u,i)&&s.push(l);return new Ko(n,this._parents,this._name,this._id)}var lK=B(()=>{xu();i0()});function uK(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,a=r.length,i=Math.min(n,a),o=new Array(n),s=0;s<i;++s)for(var l=t[s],u=r[s],f=l.length,h=o[s]=new Array(f),d,p=0;p<f;++p)(d=l[p]||u[p])&&(h[p]=d);for(;s<n;++s)o[s]=t[s];return new Ko(o,this._parents,this._name,this._id)}var cK=B(()=>{i0()});function t7t(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function e7t(e,t,r){var n,a,i=t7t(t)?Ox:Yi;return function(){var o=i(this,e),s=o.on;s!==n&&(a=(n=s).copy()).on(t,r),o.on=a}}function fK(e,t){var r=this._id;return arguments.length<2?pi(this.node(),r).on.on(e):this.each(e7t(r,e,t))}var hK=B(()=>{Ss()});function r7t(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function dK(){return this.on("end.remove",r7t(this._id))}var pK=B(()=>{});function mK(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Zp(e));for(var n=this._groups,a=n.length,i=new Array(a),o=0;o<a;++o)for(var s=n[o],l=s.length,u=i[o]=new Array(l),f,h,d=0;d<l;++d)(f=s[d])&&(h=e.call(f,f.__data__,d,s))&&("__data__"in f&&(h.__data__=f.__data__),u[d]=h,Jh(u[d],t,r,d,u,pi(f,r)));return new Ko(i,this._parents,t,r)}var gK=B(()=>{xu();i0();Ss()});function vK(e){var t=this._name,r=this._id;typeof e!="function"&&(e=xx(e));for(var n=this._groups,a=n.length,i=[],o=[],s=0;s<a;++s)for(var l=n[s],u=l.length,f,h=0;h<u;++h)if(f=l[h]){for(var d=e.call(f,f.__data__,h,l),p,m=pi(f,r),g=0,v=d.length;g<v;++g)(p=d[g])&&Jh(p,t,r,g,d,m);i.push(d),o.push(f)}return new Ko(i,o,t,r)}var yK=B(()=>{xu();i0();Ss()});function xK(){return new n7t(this._groups,this._parents)}var n7t,bK=B(()=>{xu();n7t=Ff.prototype.constructor});function a7t(e,t){var r,n,a;return function(){var i=Qh(this,e),o=(this.style.removeProperty(e),Qh(this,e));return i===o?null:i===r&&o===n?a:a=t(r=i,n=o)}}function _K(e){return function(){this.style.removeProperty(e)}}function i7t(e,t,r){var n,a=r+"",i;return function(){var o=Qh(this,e);return o===a?null:o===n?i:i=t(n=o,r)}}function o7t(e,t,r){var n,a,i;return function(){var o=Qh(this,e),s=r(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),Qh(this,e))),o===l?null:o===n&&l===a?i:(a=l,i=t(n=o,s))}}function s7t(e,t){var r,n,a,i="style."+t,o="end."+i,s;return function(){var l=Yi(this,e),u=l.on,f=l.value[i]==null?s||(s=_K(t)):void 0;(u!==r||a!==f)&&(n=(r=u).copy()).on(o,a=f),l.on=n}}function wK(e,t,r){var n=(e+="")=="transform"?qL:fT;return t==null?this.styleTween(e,a7t(e,n)).on("end.style."+e,_K(e)):typeof t=="function"?this.styleTween(e,o7t(e,n,Rg(this,"style."+e,t))).each(s7t(this._id,e)):this.styleTween(e,i7t(e,n,t),r).on("end.style."+e,null)}var TK=B(()=>{Mg();xu();Ss();Fx();HL()});function l7t(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function u7t(e,t,r){var n,a;function i(){var o=t.apply(this,arguments);return o!==a&&(n=(a=o)&&l7t(e,o,r)),n}return i._value=t,i}function EK(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,u7t(e,t,r??""))}var kK=B(()=>{});function c7t(e){return function(){this.textContent=e}}function f7t(e){return function(){var t=e(this);this.textContent=t??""}}function CK(e){return this.tween("text",typeof e=="function"?f7t(Rg(this,"text",e)):c7t(e==null?"":e+""))}var SK=B(()=>{Fx()});function h7t(e){return function(t){this.textContent=e.call(this,t)}}function d7t(e){var t,r;function n(){var a=e.apply(this,arguments);return a!==r&&(t=(r=a)&&h7t(a)),t}return n._value=e,n}function DK(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,d7t(e))}var AK=B(()=>{});function LK(){for(var e=this._name,t=this._id,r=hT(),n=this._groups,a=n.length,i=0;i<a;++i)for(var o=n[i],s=o.length,l,u=0;u<s;++u)if(l=o[u]){var f=pi(l,t);Jh(l,e,r,u,o,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Ko(n,this._parents,e,r)}var MK=B(()=>{i0();Ss()});function IK(){var e,t,r=this,n=r._id,a=r.size();return new Promise(function(i,o){var s={value:o},l={value:function(){--a===0&&i()}};r.each(function(){var u=Yi(this,n),f=u.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),u.on=t}),a===0&&i()})}var RK=B(()=>{Ss()});function Ko(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function NK(e){return Ff().transition(e)}function hT(){return++p7t}var p7t,$f,i0=B(()=>{xu();Kj();Zj();tK();rK();aK();oK();lK();cK();hK();pK();gK();yK();bK();TK();kK();SK();AK();MK();Fx();RK();p7t=0;$f=Ff.prototype;Ko.prototype=NK.prototype={constructor:Ko,select:mK,selectAll:vK,selectChild:$f.selectChild,selectChildren:$f.selectChildren,filter:sK,merge:uK,selection:xK,transition:LK,call:$f.call,nodes:$f.nodes,node:$f.node,size:$f.size,empty:$f.empty,each:$f.each,on:fK,attr:jj,attrTween:Qj,style:wK,styleTween:EK,text:CK,textTween:DK,remove:dK,tween:Xj,delay:Jj,duration:eK,ease:nK,easeVarying:iK,end:IK,[Symbol.iterator]:$f[Symbol.iterator]}});function dT(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var OK=B(()=>{});var YL=B(()=>{OK()});function g7t(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function FK(e){var t,r;e instanceof Ko?(t=e._id,e=e._name):(t=hT(),(r=m7t).time=Rx(),e=e==null?null:e+"");for(var n=this._groups,a=n.length,i=0;i<a;++i)for(var o=n[i],s=o.length,l,u=0;u<s;++u)(l=o[u])&&Jh(l,e,t,u,o,r||g7t(l,t));return new Ko(n,this._parents,e,t)}var m7t,PK=B(()=>{i0();Ss();YL();oT();m7t={time:null,delay:0,duration:250,ease:dT}});var BK=B(()=>{xu();Yj();PK();Ff.prototype.interrupt=Hj;Ff.prototype.transition=FK});var pT=B(()=>{BK()});var $K=B(()=>{});var zK=B(()=>{});var qK=B(()=>{});function UK(e){return[+e[0],+e[1]]}function v7t(e){return[UK(e[0]),UK(e[1])]}function XL(e){return{type:e}}var awe,iwe,owe,swe,lwe,uwe,WK=B(()=>{pT();$K();zK();qK();({abs:awe,max:iwe,min:owe}=Math);swe={name:"x",handles:["w","e"].map(XL),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},lwe={name:"y",handles:["n","s"].map(XL),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},uwe={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(XL),input:function(e){return e==null?null:v7t(e)},output:function(e){return e}}});var GK=B(()=>{WK()});function VK(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function x7t(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return VK;let r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}function HK(){return new s0}var jL,KL,o0,y7t,s0,YK=B(()=>{jL=Math.PI,KL=2*jL,o0=1e-6,y7t=KL-o0;s0=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?VK:x7t(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,l=n-t,u=a-r,f=o-t,h=s-r,d=f*f+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(d>o0)if(!(Math.abs(h*l-u*f)>o0)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,m=a-s,g=l*l+u*u,v=p*p+m*m,y=Math.sqrt(g),b=Math.sqrt(d),_=i*Math.tan((jL-Math.acos((g+d-v)/(2*y*b)))/2),k=_/b,w=_/y;Math.abs(k-1)>o0&&this._append`L${t+k*f},${r+k*h}`,this._append`A${i},${i},0,0,${+(h*p>f*m)},${this._x1=t+w*l},${this._y1=r+w*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),l=n*Math.sin(a),u=t+s,f=r+l,h=1^o,d=o?a-i:i-a;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>o0||Math.abs(this._y1-f)>o0)&&this._append`L${u},${f}`,n&&(d<0&&(d=d%KL+KL),d>y7t?this._append`A${n},${n},0,1,${h},${t-s},${r-l}A${n},${n},0,1,${h},${this._x1=u},${this._y1=f}`:d>o0&&this._append`A${n},${n},0,${+(d>=jL)},${h},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}};HK.prototype=s0.prototype});var QL=B(()=>{YK()});var XK=B(()=>{});var jK=B(()=>{});var KK=B(()=>{});var QK=B(()=>{});var ZK=B(()=>{});var JK=B(()=>{});var tQ=B(()=>{});function eQ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function l0(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}var Px=B(()=>{});function mc(e){return e=l0(Math.abs(e)),e?e[1]:NaN}var Bx=B(()=>{Px()});function rQ(e,t){return function(r,n){for(var a=r.length,i=[],o=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),i.push(r.substring(a-=s,a+s)),!((l+=s+1)>n));)s=e[o=(o+1)%e.length];return i.reverse().join(t)}}var nQ=B(()=>{});function aQ(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var iQ=B(()=>{});function td(e){if(!(t=b7t.exec(e)))throw new Error("invalid format: "+e);var t;return new mT({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function mT(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}var b7t,ZL=B(()=>{b7t=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;td.prototype=mT.prototype;mT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type}});function oQ(e){t:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break t;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var sQ=B(()=>{});function lQ(e,t){var r=l0(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(JL=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+l0(e,Math.max(0,t+i-1))[0]}var JL,tM=B(()=>{Px()});function eM(e,t){var r=l0(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}var uQ=B(()=>{Px()});var rM,cQ=B(()=>{Px();tM();uQ();rM={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:eQ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>eM(e*100,t),r:eM,s:lQ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)}});function nM(e){return e}var fQ=B(()=>{});function pQ(e){var t=e.grouping===void 0||e.thousands===void 0?nM:rQ(hQ.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?nM:aQ(hQ.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"\u2212":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(h){h=td(h);var d=h.fill,p=h.align,m=h.sign,g=h.symbol,v=h.zero,y=h.width,b=h.comma,_=h.precision,k=h.trim,w=h.type;w==="n"?(b=!0,w="g"):rM[w]||(_===void 0&&(_=12),k=!0,w="g"),(v||d==="0"&&p==="=")&&(v=!0,d="0",p="=");var T=g==="$"?r:g==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",S=g==="$"?n:/[%p]/.test(w)?o:"",C=rM[w],M=/[defgprs%]/.test(w);_=_===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function N(L){var E=T,A=S,D,R,I;if(w==="c")A=C(L)+A,L="";else{L=+L;var O=L<0||1/L<0;if(L=isNaN(L)?l:C(Math.abs(L),_),k&&(L=oQ(L)),O&&+L==0&&m!=="+"&&(O=!1),E=(O?m==="("?m:s:m==="-"||m==="("?"":m)+E,A=(w==="s"?dQ[8+JL/3]:"")+A+(O&&m==="("?")":""),M){for(D=-1,R=L.length;++D<R;)if(I=L.charCodeAt(D),48>I||I>57){A=(I===46?a+L.slice(D+1):L.slice(D))+A,L=L.slice(0,D);break}}}b&&!v&&(L=t(L,1/0));var F=E.length+L.length+A.length,P=F<y?new Array(y-F+1).join(d):"";switch(b&&v&&(L=t(P+L,P.length?y-A.length:1/0),P=""),p){case"<":L=E+L+A+P;break;case"=":L=E+P+L+A;break;case"^":L=P.slice(0,F=P.length>>1)+E+L+A+P.slice(F);break;default:L=P+E+L+A;break}return i(L)}return N.toString=function(){return h+""},N}function f(h,d){var p=u((h=td(h),h.type="f",h)),m=Math.max(-8,Math.min(8,Math.floor(mc(d)/3)))*3,g=Math.pow(10,-m),v=dQ[8+m/3];return function(y){return p(g*y)+v}}return{format:u,formatPrefix:f}}var hQ,dQ,mQ=B(()=>{Bx();nQ();iQ();ZL();sQ();cQ();tM();fQ();hQ=Array.prototype.map,dQ=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"]});function aM(e){return gT=pQ(e),gc=gT.format,vT=gT.formatPrefix,gT}var gT,gc,vT,gQ=B(()=>{mQ();aM({thousands:",",grouping:[3],currency:["$",""]})});function iM(e){return Math.max(0,-mc(Math.abs(e)))}var vQ=B(()=>{Bx()});function oM(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(mc(t)/3)))*3-mc(Math.abs(e)))}var yQ=B(()=>{Bx()});function sM(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,mc(t)-mc(e))+1}var xQ=B(()=>{Bx()});var lM=B(()=>{gQ();ZL();vQ();yQ();xQ()});var bQ=B(()=>{});function _7t(e){var t=0,r=e.children,n=r&&r.length;if(!n)t=1;else for(;--n>=0;)t+=r[n].value;e.value=t}function _Q(){return this.eachAfter(_7t)}var wQ=B(()=>{});function TQ(e,t){let r=-1;for(let n of this)e.call(t,n,++r,this);return this}var EQ=B(()=>{});function kQ(e,t){for(var r=this,n=[r],a,i,o=-1;r=n.pop();)if(e.call(t,r,++o,this),a=r.children)for(i=a.length-1;i>=0;--i)n.push(a[i]);return this}var CQ=B(()=>{});function SQ(e,t){for(var r=this,n=[r],a=[],i,o,s,l=-1;r=n.pop();)if(a.push(r),i=r.children)for(o=0,s=i.length;o<s;++o)n.push(i[o]);for(;r=a.pop();)e.call(t,r,++l,this);return this}var DQ=B(()=>{});function AQ(e,t){let r=-1;for(let n of this)if(e.call(t,n,++r,this))return n}var LQ=B(()=>{});function MQ(e){return this.eachAfter(function(t){for(var r=+e(t.data)||0,n=t.children,a=n&&n.length;--a>=0;)r+=n[a].value;t.value=r})}var IQ=B(()=>{});function RQ(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}var NQ=B(()=>{});function OQ(e){for(var t=this,r=w7t(t,e),n=[t];t!==r;)t=t.parent,n.push(t);for(var a=n.length;e!==r;)n.splice(a,0,e),e=e.parent;return n}function w7t(e,t){if(e===t)return e;var r=e.ancestors(),n=t.ancestors(),a=null;for(e=r.pop(),t=n.pop();e===t;)a=e,e=r.pop(),t=n.pop();return a}var FQ=B(()=>{});function PQ(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}var BQ=B(()=>{});function $Q(){return Array.from(this)}var zQ=B(()=>{});function qQ(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}var UQ=B(()=>{});function WQ(){var e=this,t=[];return e.each(function(r){r!==e&&t.push({source:r.parent,target:r})}),t}var GQ=B(()=>{});function*VQ(){var e=this,t,r=[e],n,a,i;do for(t=r.reverse(),r=[];e=t.pop();)if(yield e,n=e.children)for(a=0,i=n.length;a<i;++a)r.push(n[a]);while(r.length)}var HQ=B(()=>{});function Ng(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=k7t)):t===void 0&&(t=E7t);for(var r=new $x(e),n,a=[r],i,o,s,l;n=a.pop();)if((o=t(n.data))&&(l=(o=Array.from(o)).length))for(n.children=o,s=l-1;s>=0;--s)a.push(i=o[s]=new $x(o[s])),i.parent=n,i.depth=n.depth+1;return r.eachBefore(S7t)}function T7t(){return Ng(this).eachBefore(C7t)}function E7t(e){return e.children}function k7t(e){return Array.isArray(e)?e[1]:null}function C7t(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function S7t(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function $x(e){this.data=e,this.depth=this.height=0,this.parent=null}var YQ=B(()=>{wQ();EQ();CQ();DQ();LQ();IQ();NQ();FQ();BQ();zQ();UQ();GQ();HQ();$x.prototype=Ng.prototype={constructor:$x,count:_Q,each:TQ,eachAfter:SQ,eachBefore:kQ,find:AQ,sum:MQ,sort:RQ,path:OQ,ancestors:PQ,descendants:$Q,leaves:qQ,links:WQ,copy:T7t,[Symbol.iterator]:VQ}});function XQ(e){if(typeof e!="function")throw new Error;return e}var jQ=B(()=>{});function Og(){return 0}function Fg(e){return function(){return e}}var KQ=B(()=>{});function QQ(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}var ZQ=B(()=>{});function JQ(e,t,r,n,a){for(var i=e.children,o,s=-1,l=i.length,u=e.value&&(n-t)/e.value;++s<l;)o=i[s],o.y0=r,o.y1=a,o.x0=t,o.x1=t+=o.value*u}var tZ=B(()=>{});function eZ(e,t,r,n,a){for(var i=e.children,o,s=-1,l=i.length,u=e.value&&(a-r)/e.value;++s<l;)o=i[s],o.x0=t,o.x1=n,o.y0=r,o.y1=r+=o.value*u}var rZ=B(()=>{});function A7t(e,t,r,n,a,i){for(var o=[],s=t.children,l,u,f=0,h=0,d=s.length,p,m,g=t.value,v,y,b,_,k,w,T;f<d;){p=a-r,m=i-n;do v=s[h++].value;while(!v&&h<d);for(y=b=v,w=Math.max(m/p,p/m)/(g*e),T=v*v*w,k=Math.max(b/T,T/y);h<d;++h){if(v+=u=s[h].value,u<y&&(y=u),u>b&&(b=u),T=v*v*w,_=Math.max(b/T,T/y),_>k){v-=u;break}k=_}o.push(l={value:v,dice:p<m,children:s.slice(f,h)}),l.dice?JQ(l,r,n,a,g?n+=m*v/g:i):eZ(l,r,n,g?r+=p*v/g:a,i),g-=v,f=h}return o}var D7t,nZ,aZ=B(()=>{tZ();rZ();D7t=(1+Math.sqrt(5))/2;nZ=function e(t){function r(n,a,i,o,s){A7t(t,n,a,i,o,s)}return r.ratio=function(n){return e((n=+n)>1?n:1)},r}(D7t)});function uM(){var e=nZ,t=!1,r=1,n=1,a=[0],i=Og,o=Og,s=Og,l=Og,u=Og;function f(d){return d.x0=d.y0=0,d.x1=r,d.y1=n,d.eachBefore(h),a=[0],t&&d.eachBefore(QQ),d}function h(d){var p=a[d.depth],m=d.x0+p,g=d.y0+p,v=d.x1-p,y=d.y1-p;v<m&&(m=v=(m+v)/2),y<g&&(g=y=(g+y)/2),d.x0=m,d.y0=g,d.x1=v,d.y1=y,d.children&&(p=a[d.depth+1]=i(d)/2,m+=u(d)-p,g+=o(d)-p,v-=s(d)-p,y-=l(d)-p,v<m&&(m=v=(m+v)/2),y<g&&(g=y=(g+y)/2),e(d,m,g,v,y))}return f.round=function(d){return arguments.length?(t=!!d,f):t},f.size=function(d){return arguments.length?(r=+d[0],n=+d[1],f):[r,n]},f.tile=function(d){return arguments.length?(e=XQ(d),f):e},f.padding=function(d){return arguments.length?f.paddingInner(d).paddingOuter(d):f.paddingInner()},f.paddingInner=function(d){return arguments.length?(i=typeof d=="function"?d:Fg(+d),f):i},f.paddingOuter=function(d){return arguments.length?f.paddingTop(d).paddingRight(d).paddingBottom(d).paddingLeft(d):f.paddingTop()},f.paddingTop=function(d){return arguments.length?(o=typeof d=="function"?d:Fg(+d),f):o},f.paddingRight=function(d){return arguments.length?(s=typeof d=="function"?d:Fg(+d),f):s},f.paddingBottom=function(d){return arguments.length?(l=typeof d=="function"?d:Fg(+d),f):l},f.paddingLeft=function(d){return arguments.length?(u=typeof d=="function"?d:Fg(+d),f):u},f}var iZ=B(()=>{ZQ();aZ();jQ();KQ()});var oZ=B(()=>{YQ();iZ()});var sZ=B(()=>{});var lZ=B(()=>{});function ed(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}var zx=B(()=>{});function el(){var e=new Tg,t=[],r=[],n=cM;function a(i){let o=e.get(i);if(o===void 0){if(n!==cM)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new Tg;for(let o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return el(t,r).unknown(n)},ed.apply(a,arguments),a}var cM,fM=B(()=>{Kh();zx();cM=Symbol("implicit")});function Pg(){var e=el().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,s=!1,l=0,u=0,f=.5;delete e.unknown;function h(){var d=t().length,p=a<n,m=p?a:n,g=p?n:a;i=(g-m)/Math.max(1,d-l+u*2),s&&(i=Math.floor(i)),m+=(g-m-i*(d-l))*f,o=i*(1-l),s&&(m=Math.round(m),o=Math.round(o));var v=F5(d).map(function(y){return m+i*y});return r(p?v.reverse():v)}return e.domain=function(d){return arguments.length?(t(d),h()):t()},e.range=function(d){return arguments.length?([n,a]=d,n=+n,a=+a,h()):[n,a]},e.rangeRound=function(d){return[n,a]=d,n=+n,a=+a,s=!0,h()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(d){return arguments.length?(s=!!d,h()):s},e.padding=function(d){return arguments.length?(l=Math.min(1,u=+d),h()):l},e.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),h()):l},e.paddingOuter=function(d){return arguments.length?(u=+d,h()):u},e.align=function(d){return arguments.length?(f=Math.max(0,Math.min(1,d)),h()):f},e.copy=function(){return Pg(t(),[n,a]).round(s).paddingInner(l).paddingOuter(u).align(f)},ed.apply(h(),arguments)}var uZ=B(()=>{Kh();zx();fM()});function hM(e){return function(){return e}}var cZ=B(()=>{});function dM(e){return+e}var fZ=B(()=>{});function Bg(e){return e}function pM(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:hM(isNaN(t)?NaN:.5)}function L7t(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function M7t(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=pM(a,n),i=r(o,i)):(n=pM(n,a),i=r(i,o)),function(s){return i(n(s))}}function I7t(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=pM(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(s){var l=aL(e,s,1,n)-1;return i[l](a[l](s))}}function yT(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function R7t(){var e=hZ,t=hZ,r=n0,n,a,i,o=Bg,s,l,u;function f(){var d=Math.min(e.length,t.length);return o!==Bg&&(o=L7t(e[0],e[d-1])),s=d>2?I7t:M7t,l=u=null,h}function h(d){return d==null||isNaN(d=+d)?i:(l||(l=s(e.map(n),t,r)))(n(o(d)))}return h.invert=function(d){return o(a((u||(u=s(t,e.map(n),Hi)))(d)))},h.domain=function(d){return arguments.length?(e=Array.from(d,dM),f()):e.slice()},h.range=function(d){return arguments.length?(t=Array.from(d),f()):t.slice()},h.rangeRound=function(d){return t=Array.from(d),r=$L,f()},h.clamp=function(d){return arguments.length?(o=d?!0:Bg,f()):o!==Bg},h.interpolate=function(d){return arguments.length?(r=d,f()):r},h.unknown=function(d){return arguments.length?(i=d,h):i},function(d,p){return n=d,a=p,f()}}function qx(){return R7t()(Bg,Bg)}var hZ,mM=B(()=>{Kh();Mg();cZ();fZ();hZ=[0,1]});function gM(e,t,r,n){var a=Eg(e,t,r),i;switch(n=td(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=oM(a,o))&&(n.precision=i),vT(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=sM(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=iM(a))&&(n.precision=i-(n.type==="%")*2);break}}return gc(n)}var dZ=B(()=>{Kh();lM()});function N7t(e){var t=e.domain;return e.ticks=function(r){var n=t();return R5(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return gM(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],s=n[i],l,u,f=10;for(s<o&&(u=o,o=s,s=u,u=a,a=i,i=u);f-- >0;){if(u=yx(o,s,r),u===l)return n[a]=o,n[i]=s,t(n);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return e},e}function wu(){var e=qx();return e.copy=function(){return yT(e,wu())},ed.apply(e,arguments),N7t(e)}var pZ=B(()=>{Kh();mM();zx();dZ()});function vM(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}var mZ=B(()=>{});function Vn(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{let o=a(i),s=a.ceil(i);return i-o<s-i?o:s},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,s)=>{let l=[];if(i=a.ceil(i),s=s==null?1:Math.floor(s),!(i<o)||!(s>0))return l;let u;do l.push(u=new Date(+i)),t(i,s),e(i);while(u<i&&i<o);return l},a.filter=i=>Vn(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!i(o););else for(;--s>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(yM.setTime(+i),xM.setTime(+o),e(yM),e(xM),Math.floor(r(yM,xM))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}var yM,xM,zf=B(()=>{yM=new Date,xM=new Date});var vc,gZ,bM=B(()=>{zf();vc=Vn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);vc.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Vn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):vc);gZ=vc.range});var rl,vZ,_M=B(()=>{zf();rl=Vn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*1e3)},(e,t)=>(t-e)/1e3,e=>e.getUTCSeconds()),vZ=rl.range});var qf,O7t,xT,F7t,wM=B(()=>{zf();qf=Vn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3)},(e,t)=>{e.setTime(+e+t*6e4)},(e,t)=>(t-e)/6e4,e=>e.getMinutes()),O7t=qf.range,xT=Vn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*6e4)},(e,t)=>(t-e)/6e4,e=>e.getUTCMinutes()),F7t=xT.range});var Uf,P7t,bT,B7t,TM=B(()=>{zf();Uf=Vn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3-e.getMinutes()*6e4)},(e,t)=>{e.setTime(+e+t*36e5)},(e,t)=>(t-e)/36e5,e=>e.getHours()),P7t=Uf.range,bT=Vn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*36e5)},(e,t)=>(t-e)/36e5,e=>e.getUTCHours()),B7t=bT.range});var Ll,$7t,Wx,z7t,_T,q7t,EM=B(()=>{zf();Ll=Vn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5,e=>e.getDate()-1),$7t=Ll.range,Wx=Vn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>e.getUTCDate()-1),z7t=Wx.range,_T=Vn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>Math.floor(e/864e5)),q7t=_T.range});function f0(e){return Vn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/6048e5)}function h0(e){return Vn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/6048e5)}var Tu,rd,wT,TT,xc,ET,kT,xZ,U7t,W7t,G7t,V7t,H7t,Y7t,d0,$g,bZ,_Z,nd,wZ,TZ,EZ,X7t,j7t,K7t,Q7t,Z7t,J7t,kM=B(()=>{zf();Tu=f0(0),rd=f0(1),wT=f0(2),TT=f0(3),xc=f0(4),ET=f0(5),kT=f0(6),xZ=Tu.range,U7t=rd.range,W7t=wT.range,G7t=TT.range,V7t=xc.range,H7t=ET.range,Y7t=kT.range;d0=h0(0),$g=h0(1),bZ=h0(2),_Z=h0(3),nd=h0(4),wZ=h0(5),TZ=h0(6),EZ=d0.range,X7t=$g.range,j7t=bZ.range,K7t=_Z.range,Q7t=nd.range,Z7t=wZ.range,J7t=TZ.range});var Wf,t8t,CT,e8t,CM=B(()=>{zf();Wf=Vn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth()),t8t=Wf.range,CT=Vn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth()),e8t=CT.range});var nl,r8t,Eu,n8t,SM=B(()=>{zf();nl=Vn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());nl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Vn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});r8t=nl.range,Eu=Vn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Eu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Vn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});n8t=Eu.range});function CZ(e,t,r,n,a,i){let o=[[rl,1,1e3],[rl,5,5*1e3],[rl,15,15*1e3],[rl,30,30*1e3],[i,1,6e4],[i,5,5*6e4],[i,15,15*6e4],[i,30,30*6e4],[a,1,36e5],[a,3,3*36e5],[a,6,6*36e5],[a,12,12*36e5],[n,1,864e5],[n,2,2*864e5],[r,1,6048e5],[t,1,2592e6],[t,3,3*2592e6],[e,1,31536e6]];function s(u,f,h){let d=f<u;d&&([u,f]=[f,u]);let p=h&&typeof h.range=="function"?h:l(u,f,h),m=p?p.range(u,+f+1):[];return d?m.reverse():m}function l(u,f,h){let d=Math.abs(f-u)/h,p=Qp(([,,v])=>v).right(o,d);if(p===o.length)return e.every(Eg(u/31536e6,f/31536e6,h));if(p===0)return vc.every(Math.max(Eg(u,f,h),1));let[m,g]=o[d/o[p-1][2]<o[p][2]/d?p-1:p];return m.every(g)}return[s,l]}var i8t,o8t,DM,AM,SZ=B(()=>{Kh();bM();_M();wM();TM();EM();kM();CM();SM();[i8t,o8t]=CZ(Eu,CT,d0,_T,bT,xT),[DM,AM]=CZ(nl,Wf,Tu,Ll,Uf,qf)});var ST=B(()=>{bM();_M();wM();TM();EM();kM();CM();SM();SZ()});function LM(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function MM(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Gx(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function IM(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,u=Vx(a),f=Hx(a),h=Vx(i),d=Hx(i),p=Vx(o),m=Hx(o),g=Vx(s),v=Hx(s),y=Vx(l),b=Hx(l),_={a:O,A:F,b:P,B:q,c:null,d:RZ,e:RZ,f:A8t,g:$8t,G:q8t,H:C8t,I:S8t,j:D8t,L:BZ,m:L8t,M:M8t,p:$,q:W,Q:FZ,s:PZ,S:I8t,u:R8t,U:N8t,V:O8t,w:F8t,W:P8t,x:null,X:null,y:B8t,Y:z8t,Z:U8t,"%":OZ},k={a:X,A:tt,b:Y,B:ot,c:null,d:NZ,e:NZ,f:H8t,g:rLt,G:aLt,H:W8t,I:G8t,j:V8t,L:zZ,m:Y8t,M:X8t,p:Z,q:ct,Q:FZ,s:PZ,S:j8t,u:K8t,U:Q8t,V:Z8t,w:J8t,W:tLt,x:null,X:null,y:eLt,Y:nLt,Z:iLt,"%":OZ},w={a:N,A:L,b:E,B:A,c:D,d:MZ,e:MZ,f:w8t,g:LZ,G:AZ,H:IZ,I:IZ,j:y8t,L:_8t,m:v8t,M:x8t,p:M,q:g8t,Q:E8t,s:k8t,S:b8t,u:f8t,U:h8t,V:d8t,w:c8t,W:p8t,x:R,X:I,y:LZ,Y:AZ,Z:m8t,"%":T8t};_.x=T(r,_),_.X=T(n,_),_.c=T(t,_),k.x=T(r,k),k.X=T(n,k),k.c=T(t,k);function T(rt,et){return function(Q){var j=[],it=-1,K=0,dt=rt.length,nt,_t,V;for(Q instanceof Date||(Q=new Date(+Q));++it<dt;)rt.charCodeAt(it)===37&&(j.push(rt.slice(K,it)),(_t=DZ[nt=rt.charAt(++it)])!=null?nt=rt.charAt(++it):_t=nt==="e"?" ":"0",(V=et[nt])&&(nt=V(Q,_t)),j.push(nt),K=it+1);return j.push(rt.slice(K,it)),j.join("")}}function S(rt,et){return function(Q){var j=Gx(1900,void 0,1),it=C(j,rt,Q+="",0),K,dt;if(it!=Q.length)return null;if("Q"in j)return new Date(j.Q);if("s"in j)return new Date(j.s*1e3+("L"in j?j.L:0));if(et&&!("Z"in j)&&(j.Z=0),"p"in j&&(j.H=j.H%12+j.p*12),j.m===void 0&&(j.m="q"in j?j.q:0),"V"in j){if(j.V<1||j.V>53)return null;"w"in j||(j.w=1),"Z"in j?(K=MM(Gx(j.y,0,1)),dt=K.getUTCDay(),K=dt>4||dt===0?$g.ceil(K):$g(K),K=Wx.offset(K,(j.V-1)*7),j.y=K.getUTCFullYear(),j.m=K.getUTCMonth(),j.d=K.getUTCDate()+(j.w+6)%7):(K=LM(Gx(j.y,0,1)),dt=K.getDay(),K=dt>4||dt===0?rd.ceil(K):rd(K),K=Ll.offset(K,(j.V-1)*7),j.y=K.getFullYear(),j.m=K.getMonth(),j.d=K.getDate()+(j.w+6)%7)}else("W"in j||"U"in j)&&("w"in j||(j.w="u"in j?j.u%7:"W"in j?1:0),dt="Z"in j?MM(Gx(j.y,0,1)).getUTCDay():LM(Gx(j.y,0,1)).getDay(),j.m=0,j.d="W"in j?(j.w+6)%7+j.W*7-(dt+5)%7:j.w+j.U*7-(dt+6)%7);return"Z"in j?(j.H+=j.Z/100|0,j.M+=j.Z%100,MM(j)):LM(j)}}function C(rt,et,Q,j){for(var it=0,K=et.length,dt=Q.length,nt,_t;it<K;){if(j>=dt)return-1;if(nt=et.charCodeAt(it++),nt===37){if(nt=et.charAt(it++),_t=w[nt in DZ?et.charAt(it++):nt],!_t||(j=_t(rt,Q,j))<0)return-1}else if(nt!=Q.charCodeAt(j++))return-1}return j}function M(rt,et,Q){var j=u.exec(et.slice(Q));return j?(rt.p=f.get(j[0].toLowerCase()),Q+j[0].length):-1}function N(rt,et,Q){var j=p.exec(et.slice(Q));return j?(rt.w=m.get(j[0].toLowerCase()),Q+j[0].length):-1}function L(rt,et,Q){var j=h.exec(et.slice(Q));return j?(rt.w=d.get(j[0].toLowerCase()),Q+j[0].length):-1}function E(rt,et,Q){var j=y.exec(et.slice(Q));return j?(rt.m=b.get(j[0].toLowerCase()),Q+j[0].length):-1}function A(rt,et,Q){var j=g.exec(et.slice(Q));return j?(rt.m=v.get(j[0].toLowerCase()),Q+j[0].length):-1}function D(rt,et,Q){return C(rt,t,et,Q)}function R(rt,et,Q){return C(rt,r,et,Q)}function I(rt,et,Q){return C(rt,n,et,Q)}function O(rt){return o[rt.getDay()]}function F(rt){return i[rt.getDay()]}function P(rt){return l[rt.getMonth()]}function q(rt){return s[rt.getMonth()]}function $(rt){return a[+(rt.getHours()>=12)]}function W(rt){return 1+~~(rt.getMonth()/3)}function X(rt){return o[rt.getUTCDay()]}function tt(rt){return i[rt.getUTCDay()]}function Y(rt){return l[rt.getUTCMonth()]}function ot(rt){return s[rt.getUTCMonth()]}function Z(rt){return a[+(rt.getUTCHours()>=12)]}function ct(rt){return 1+~~(rt.getUTCMonth()/3)}return{format:function(rt){var et=T(rt+="",_);return et.toString=function(){return rt},et},parse:function(rt){var et=S(rt+="",!1);return et.toString=function(){return rt},et},utcFormat:function(rt){var et=T(rt+="",k);return et.toString=function(){return rt},et},utcParse:function(rt){var et=S(rt+="",!0);return et.toString=function(){return rt},et}}}function mn(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function u8t(e){return e.replace(l8t,"\\$&")}function Vx(e){return new RegExp("^(?:"+e.map(u8t).join("|")+")","i")}function Hx(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function c8t(e,t,r){var n=Di.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function f8t(e,t,r){var n=Di.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function h8t(e,t,r){var n=Di.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function d8t(e,t,r){var n=Di.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function p8t(e,t,r){var n=Di.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function AZ(e,t,r){var n=Di.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function LZ(e,t,r){var n=Di.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function m8t(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function g8t(e,t,r){var n=Di.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function v8t(e,t,r){var n=Di.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function MZ(e,t,r){var n=Di.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function y8t(e,t,r){var n=Di.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function IZ(e,t,r){var n=Di.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function x8t(e,t,r){var n=Di.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function b8t(e,t,r){var n=Di.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function _8t(e,t,r){var n=Di.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function w8t(e,t,r){var n=Di.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function T8t(e,t,r){var n=s8t.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function E8t(e,t,r){var n=Di.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function k8t(e,t,r){var n=Di.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function RZ(e,t){return mn(e.getDate(),t,2)}function C8t(e,t){return mn(e.getHours(),t,2)}function S8t(e,t){return mn(e.getHours()%12||12,t,2)}function D8t(e,t){return mn(1+Ll.count(nl(e),e),t,3)}function BZ(e,t){return mn(e.getMilliseconds(),t,3)}function A8t(e,t){return BZ(e,t)+"000"}function L8t(e,t){return mn(e.getMonth()+1,t,2)}function M8t(e,t){return mn(e.getMinutes(),t,2)}function I8t(e,t){return mn(e.getSeconds(),t,2)}function R8t(e){var t=e.getDay();return t===0?7:t}function N8t(e,t){return mn(Tu.count(nl(e)-1,e),t,2)}function $Z(e){var t=e.getDay();return t>=4||t===0?xc(e):xc.ceil(e)}function O8t(e,t){return e=$Z(e),mn(xc.count(nl(e),e)+(nl(e).getDay()===4),t,2)}function F8t(e){return e.getDay()}function P8t(e,t){return mn(rd.count(nl(e)-1,e),t,2)}function B8t(e,t){return mn(e.getFullYear()%100,t,2)}function $8t(e,t){return e=$Z(e),mn(e.getFullYear()%100,t,2)}function z8t(e,t){return mn(e.getFullYear()%1e4,t,4)}function q8t(e,t){var r=e.getDay();return e=r>=4||r===0?xc(e):xc.ceil(e),mn(e.getFullYear()%1e4,t,4)}function U8t(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+mn(t/60|0,"0",2)+mn(t%60,"0",2)}function NZ(e,t){return mn(e.getUTCDate(),t,2)}function W8t(e,t){return mn(e.getUTCHours(),t,2)}function G8t(e,t){return mn(e.getUTCHours()%12||12,t,2)}function V8t(e,t){return mn(1+Wx.count(Eu(e),e),t,3)}function zZ(e,t){return mn(e.getUTCMilliseconds(),t,3)}function H8t(e,t){return zZ(e,t)+"000"}function Y8t(e,t){return mn(e.getUTCMonth()+1,t,2)}function X8t(e,t){return mn(e.getUTCMinutes(),t,2)}function j8t(e,t){return mn(e.getUTCSeconds(),t,2)}function K8t(e){var t=e.getUTCDay();return t===0?7:t}function Q8t(e,t){return mn(d0.count(Eu(e)-1,e),t,2)}function qZ(e){var t=e.getUTCDay();return t>=4||t===0?nd(e):nd.ceil(e)}function Z8t(e,t){return e=qZ(e),mn(nd.count(Eu(e),e)+(Eu(e).getUTCDay()===4),t,2)}function J8t(e){return e.getUTCDay()}function tLt(e,t){return mn($g.count(Eu(e)-1,e),t,2)}function eLt(e,t){return mn(e.getUTCFullYear()%100,t,2)}function rLt(e,t){return e=qZ(e),mn(e.getUTCFullYear()%100,t,2)}function nLt(e,t){return mn(e.getUTCFullYear()%1e4,t,4)}function aLt(e,t){var r=e.getUTCDay();return e=r>=4||r===0?nd(e):nd.ceil(e),mn(e.getUTCFullYear()%1e4,t,4)}function iLt(){return"+0000"}function OZ(){return"%"}function FZ(e){return+e}function PZ(e){return Math.floor(+e/1e3)}var DZ,Di,s8t,l8t,UZ=B(()=>{ST();DZ={"-":"",_:" ",0:"0"},Di=/^\s*\d+/,s8t=/^%/,l8t=/[\\^$*+?|[\]().{}]/g});function RM(e){return zg=IM(e),p0=zg.format,WZ=zg.parse,GZ=zg.utcFormat,VZ=zg.utcParse,zg}var zg,p0,WZ,GZ,VZ,HZ=B(()=>{UZ();RM({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})});var NM=B(()=>{HZ()});function oLt(e){return new Date(e)}function sLt(e){return e instanceof Date?+e:+new Date(+e)}function YZ(e,t,r,n,a,i,o,s,l,u){var f=qx(),h=f.invert,d=f.domain,p=u(".%L"),m=u(":%S"),g=u("%I:%M"),v=u("%I %p"),y=u("%a %d"),b=u("%b %d"),_=u("%B"),k=u("%Y");function w(T){return(l(T)<T?p:s(T)<T?m:o(T)<T?g:i(T)<T?v:n(T)<T?a(T)<T?y:b:r(T)<T?_:k)(T)}return f.invert=function(T){return new Date(h(T))},f.domain=function(T){return arguments.length?d(Array.from(T,sLt)):d().map(oLt)},f.ticks=function(T){var S=d();return e(S[0],S[S.length-1],T??10)},f.tickFormat=function(T,S){return S==null?w:u(S)},f.nice=function(T){var S=d();return(!T||typeof T.range!="function")&&(T=t(S[0],S[S.length-1],T??10)),T?d(vM(S,T)):f},f.copy=function(){return yT(f,YZ(e,t,r,n,a,i,o,s,l,u))},f}function DT(){return ed.apply(YZ(DM,AM,nl,Wf,Tu,Ll,Uf,qf,rl,p0).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var XZ=B(()=>{ST();NM();mM();zx();mZ()});var jZ=B(()=>{uZ();pZ();fM();XZ()});function KZ(e){for(var t=e.length/6|0,r=new Array(t),n=0;n<t;)r[n]="#"+e.slice(n*6,++n*6);return r}var QZ=B(()=>{});var OM,ZZ=B(()=>{QZ();OM=KZ("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab")});var JZ=B(()=>{ZZ()});function va(e){return function(){return e}}var AT=B(()=>{});function eJ(e){return e>1?0:e<-1?qg:Math.acos(e)}function PM(e){return e>=1?Yx:e<=-1?-Yx:Math.asin(e)}var FM,Xi,ad,tJ,LT,ku,m0,Ai,qg,Yx,Ug,MT=B(()=>{FM=Math.abs,Xi=Math.atan2,ad=Math.cos,tJ=Math.max,LT=Math.min,ku=Math.sin,m0=Math.sqrt,Ai=1e-12,qg=Math.PI,Yx=qg/2,Ug=2*qg});function IT(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{let n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new s0(t)}var BM=B(()=>{QL()});function lLt(e){return e.innerRadius}function uLt(e){return e.outerRadius}function cLt(e){return e.startAngle}function fLt(e){return e.endAngle}function hLt(e){return e&&e.padAngle}function dLt(e,t,r,n,a,i,o,s){var l=r-e,u=n-t,f=o-a,h=s-i,d=h*l-f*u;if(!(d*d<Ai))return d=(f*(t-i)-h*(e-a))/d,[e+d*l,t+d*u]}function RT(e,t,r,n,a,i,o){var s=e-r,l=t-n,u=(o?i:-i)/m0(s*s+l*l),f=u*l,h=-u*s,d=e+f,p=t+h,m=r+f,g=n+h,v=(d+m)/2,y=(p+g)/2,b=m-d,_=g-p,k=b*b+_*_,w=a-i,T=d*g-m*p,S=(_<0?-1:1)*m0(tJ(0,w*w*k-T*T)),C=(T*_-b*S)/k,M=(-T*b-_*S)/k,N=(T*_+b*S)/k,L=(-T*b+_*S)/k,E=C-v,A=M-y,D=N-v,R=L-y;return E*E+A*A>D*D+R*R&&(C=N,M=L),{cx:C,cy:M,x01:-f,y01:-h,x11:C*(a/w-1),y11:M*(a/w-1)}}function bc(){var e=lLt,t=uLt,r=va(0),n=null,a=cLt,i=fLt,o=hLt,s=null,l=IT(u);function u(){var f,h,d=+e.apply(this,arguments),p=+t.apply(this,arguments),m=a.apply(this,arguments)-Yx,g=i.apply(this,arguments)-Yx,v=FM(g-m),y=g>m;if(s||(s=f=l()),p<d&&(h=p,p=d,d=h),!(p>Ai))s.moveTo(0,0);else if(v>Ug-Ai)s.moveTo(p*ad(m),p*ku(m)),s.arc(0,0,p,m,g,!y),d>Ai&&(s.moveTo(d*ad(g),d*ku(g)),s.arc(0,0,d,g,m,y));else{var b=m,_=g,k=m,w=g,T=v,S=v,C=o.apply(this,arguments)/2,M=C>Ai&&(n?+n.apply(this,arguments):m0(d*d+p*p)),N=LT(FM(p-d)/2,+r.apply(this,arguments)),L=N,E=N,A,D;if(M>Ai){var R=PM(M/d*ku(C)),I=PM(M/p*ku(C));(T-=R*2)>Ai?(R*=y?1:-1,k+=R,w-=R):(T=0,k=w=(m+g)/2),(S-=I*2)>Ai?(I*=y?1:-1,b+=I,_-=I):(S=0,b=_=(m+g)/2)}var O=p*ad(b),F=p*ku(b),P=d*ad(w),q=d*ku(w);if(N>Ai){var $=p*ad(_),W=p*ku(_),X=d*ad(k),tt=d*ku(k),Y;if(v<qg)if(Y=dLt(O,F,X,tt,$,W,P,q)){var ot=O-Y[0],Z=F-Y[1],ct=$-Y[0],rt=W-Y[1],et=1/ku(eJ((ot*ct+Z*rt)/(m0(ot*ot+Z*Z)*m0(ct*ct+rt*rt)))/2),Q=m0(Y[0]*Y[0]+Y[1]*Y[1]);L=LT(N,(d-Q)/(et-1)),E=LT(N,(p-Q)/(et+1))}else L=E=0}S>Ai?E>Ai?(A=RT(X,tt,O,F,p,E,y),D=RT($,W,P,q,p,E,y),s.moveTo(A.cx+A.x01,A.cy+A.y01),E<N?s.arc(A.cx,A.cy,E,Xi(A.y01,A.x01),Xi(D.y01,D.x01),!y):(s.arc(A.cx,A.cy,E,Xi(A.y01,A.x01),Xi(A.y11,A.x11),!y),s.arc(0,0,p,Xi(A.cy+A.y11,A.cx+A.x11),Xi(D.cy+D.y11,D.cx+D.x11),!y),s.arc(D.cx,D.cy,E,Xi(D.y11,D.x11),Xi(D.y01,D.x01),!y))):(s.moveTo(O,F),s.arc(0,0,p,b,_,!y)):s.moveTo(O,F),!(d>Ai)||!(T>Ai)?s.lineTo(P,q):L>Ai?(A=RT(P,q,$,W,d,-L,y),D=RT(O,F,X,tt,d,-L,y),s.lineTo(A.cx+A.x01,A.cy+A.y01),L<N?s.arc(A.cx,A.cy,L,Xi(A.y01,A.x01),Xi(D.y01,D.x01),!y):(s.arc(A.cx,A.cy,L,Xi(A.y01,A.x01),Xi(A.y11,A.x11),!y),s.arc(0,0,d,Xi(A.cy+A.y11,A.cx+A.x11),Xi(D.cy+D.y11,D.cx+D.x11),y),s.arc(D.cx,D.cy,L,Xi(D.y11,D.x11),Xi(D.y01,D.x01),!y))):s.arc(0,0,d,w,k,y)}if(s.closePath(),f)return s=null,f+""||null}return u.centroid=function(){var f=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,h=(+a.apply(this,arguments)+ +i.apply(this,arguments))/2-qg/2;return[ad(h)*f,ku(h)*f]},u.innerRadius=function(f){return arguments.length?(e=typeof f=="function"?f:va(+f),u):e},u.outerRadius=function(f){return arguments.length?(t=typeof f=="function"?f:va(+f),u):t},u.cornerRadius=function(f){return arguments.length?(r=typeof f=="function"?f:va(+f),u):r},u.padRadius=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:va(+f),u):n},u.startAngle=function(f){return arguments.length?(a=typeof f=="function"?f:va(+f),u):a},u.endAngle=function(f){return arguments.length?(i=typeof f=="function"?f:va(+f),u):i},u.padAngle=function(f){return arguments.length?(o=typeof f=="function"?f:va(+f),u):o},u.context=function(f){return arguments.length?(s=f??null,u):s},u}var rJ=B(()=>{AT();MT();BM()});function NT(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}var WTe,$M=B(()=>{WTe=Array.prototype.slice});function nJ(e){this._context=e}function id(e){return new nJ(e)}var zM=B(()=>{nJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}}});function aJ(e){return e[0]}function iJ(e){return e[1]}var oJ=B(()=>{});function _c(e,t){var r=va(!0),n=null,a=id,i=null,o=IT(s);e=typeof e=="function"?e:e===void 0?aJ:va(e),t=typeof t=="function"?t:t===void 0?iJ:va(t);function s(l){var u,f=(l=NT(l)).length,h,d=!1,p;for(n==null&&(i=a(p=o())),u=0;u<=f;++u)!(u<f&&r(h=l[u],u,l))===d&&((d=!d)?i.lineStart():i.lineEnd()),d&&i.point(+e(h,u,l),+t(h,u,l));if(p)return i=null,p+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:va(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:va(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:va(!!l),s):r},s.curve=function(l){return arguments.length?(a=l,n!=null&&(i=a(n)),s):a},s.context=function(l){return arguments.length?(l==null?n=i=null:i=a(n=l),s):n},s}var sJ=B(()=>{$M();AT();zM();BM();oJ()});function lJ(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}var uJ=B(()=>{});function cJ(e){return e}var fJ=B(()=>{});function qM(){var e=cJ,t=lJ,r=null,n=va(0),a=va(Ug),i=va(0);function o(s){var l,u=(s=NT(s)).length,f,h,d=0,p=new Array(u),m=new Array(u),g=+n.apply(this,arguments),v=Math.min(Ug,Math.max(-Ug,a.apply(this,arguments)-g)),y,b=Math.min(Math.abs(v)/u,i.apply(this,arguments)),_=b*(v<0?-1:1),k;for(l=0;l<u;++l)(k=m[p[l]=l]=+e(s[l],l,s))>0&&(d+=k);for(t!=null?p.sort(function(w,T){return t(m[w],m[T])}):r!=null&&p.sort(function(w,T){return r(s[w],s[T])}),l=0,h=d?(v-u*_)/d:0;l<u;++l,g=y)f=p[l],k=m[f],y=g+(k>0?k*h:0)+_,m[f]={data:s[f],index:l,value:k,startAngle:g,endAngle:y,padAngle:b};return m}return o.value=function(s){return arguments.length?(e=typeof s=="function"?s:va(+s),o):e},o.sortValues=function(s){return arguments.length?(t=s,r=null,o):t},o.sort=function(s){return arguments.length?(r=s,t=null,o):r},o.startAngle=function(s){return arguments.length?(n=typeof s=="function"?s:va(+s),o):n},o.endAngle=function(s){return arguments.length?(a=typeof s=="function"?s:va(+s),o):a},o.padAngle=function(s){return arguments.length?(i=typeof s=="function"?s:va(+s),o):i},o}var hJ=B(()=>{$M();AT();uJ();fJ();MT()});function Xx(e){return new OT(e,!0)}function jx(e){return new OT(e,!1)}var OT,dJ=B(()=>{OT=class{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}});function Ml(){}var Kx=B(()=>{});function Wg(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Qx(e){this._context=e}function Cu(e){return new Qx(e)}var Zx=B(()=>{Qx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Wg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Wg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}});function pJ(e){this._context=e}function UM(e){return new pJ(e)}var mJ=B(()=>{Kx();Zx();pJ.prototype={areaStart:Ml,areaEnd:Ml,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Wg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}});function gJ(e){this._context=e}function WM(e){return new gJ(e)}var vJ=B(()=>{Zx();gJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Wg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}});function yJ(e,t){this._basis=new Qx(e),this._beta=t}var GM,xJ=B(()=>{Zx();yJ.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,r=e.length-1;if(r>0)for(var n=e[0],a=t[0],i=e[r]-n,o=t[r]-a,s=-1,l;++s<=r;)l=s/r,this._basis.point(this._beta*e[s]+(1-this._beta)*(n+l*i),this._beta*t[s]+(1-this._beta)*(a+l*o));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};GM=function e(t){function r(n){return t===1?new Qx(n):new yJ(n,t)}return r.beta=function(n){return e(+n)},r}(.85)});function Gg(e,t,r){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-r),e._x2,e._y2)}function FT(e,t){this._context=e,this._k=(1-t)/6}var Jx,tb=B(()=>{FT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Gg(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Gg(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};Jx=function e(t){function r(n){return new FT(n,t)}return r.tension=function(n){return e(+n)},r}(0)});function PT(e,t){this._context=e,this._k=(1-t)/6}var VM,HM=B(()=>{Kx();tb();PT.prototype={areaStart:Ml,areaEnd:Ml,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Gg(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};VM=function e(t){function r(n){return new PT(n,t)}return r.tension=function(n){return e(+n)},r}(0)});function BT(e,t){this._context=e,this._k=(1-t)/6}var YM,XM=B(()=>{tb();BT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Gg(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};YM=function e(t){function r(n){return new BT(n,t)}return r.tension=function(n){return e(+n)},r}(0)});function eb(e,t,r){var n=e._x1,a=e._y1,i=e._x2,o=e._y2;if(e._l01_a>Ai){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);n=(n*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,a=(a*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>Ai){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,f=3*e._l23_a*(e._l23_a+e._l12_a);i=(i*u+e._x1*e._l23_2a-t*e._l12_2a)/f,o=(o*u+e._y1*e._l23_2a-r*e._l12_2a)/f}e._context.bezierCurveTo(n,a,i,o,e._x2,e._y2)}function bJ(e,t){this._context=e,this._alpha=t}var rb,$T=B(()=>{MT();tb();bJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:eb(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};rb=function e(t){function r(n){return t?new bJ(n,t):new FT(n,0)}return r.alpha=function(n){return e(+n)},r}(.5)});function _J(e,t){this._context=e,this._alpha=t}var jM,wJ=B(()=>{HM();Kx();$T();_J.prototype={areaStart:Ml,areaEnd:Ml,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:eb(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};jM=function e(t){function r(n){return t?new _J(n,t):new PT(n,0)}return r.alpha=function(n){return e(+n)},r}(.5)});function TJ(e,t){this._context=e,this._alpha=t}var KM,EJ=B(()=>{XM();$T();TJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:eb(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};KM=function e(t){function r(n){return t?new TJ(n,t):new BT(n,0)}return r.alpha=function(n){return e(+n)},r}(.5)});function kJ(e){this._context=e}function QM(e){return new kJ(e)}var CJ=B(()=>{Kx();kJ.prototype={areaStart:Ml,areaEnd:Ml,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}}});function SJ(e){return e<0?-1:1}function DJ(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),s=(i*a+o*n)/(n+a);return(SJ(i)+SJ(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function AJ(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function ZM(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-n)/3;e._context.bezierCurveTo(n+s,a+s*t,i-s,o-s*r,i,o)}function zT(e){this._context=e}function LJ(e){this._context=new MJ(e)}function MJ(e){this._context=e}function nb(e){return new zT(e)}function ab(e){return new LJ(e)}var IJ=B(()=>{zT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ZM(this,this._t0,AJ(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ZM(this,AJ(this,r=DJ(this,e,t)),r);break;default:ZM(this,this._t0,r=DJ(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};(LJ.prototype=Object.create(zT.prototype)).point=function(e,t){zT.prototype.point.call(this,t,e)};MJ.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}}});function NJ(e){this._context=e}function RJ(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function ib(e){return new NJ(e)}var OJ=B(()=>{NJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=RJ(e),a=RJ(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}}});function qT(e,t){this._context=e,this._t=t}function ob(e){return new qT(e,.5)}function sb(e){return new qT(e,0)}function lb(e){return new qT(e,1)}var FJ=B(()=>{qT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}}});var PJ=B(()=>{rJ();sJ();hJ();mJ();vJ();Zx();dJ();xJ();HM();XM();tb();wJ();EJ();$T();CJ();zM();IJ();OJ();FJ()});var BJ=B(()=>{});var $J=B(()=>{});function od(e,t,r){this.k=e,this.x=t,this.y=r}function t9(e){for(;!e.__zoom;)if(!(e=e.parentNode))return JM;return e.__zoom}var JM,e9=B(()=>{od.prototype={constructor:od,scale:function(e){return e===1?this:new od(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new od(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};JM=new od(1,0,0);t9.prototype=od.prototype});var zJ=B(()=>{});var qJ=B(()=>{pT();BJ();$J();e9();zJ()});var UJ=B(()=>{qJ();e9()});var hr=B(()=>{Kh();vY();GK();XK();Ag();jK();KK();cL();WX();QK();YL();ZK();tQ();lM();bQ();oZ();Mg();QL();sZ();JK();lZ();jZ();JZ();xu();PJ();ST();NM();oT();pT();UJ()});var Li,wc=B(()=>{Tr();nr();hr();Li=x(e=>{let{securityLevel:t}=bt(),r=Vt("body");if(t==="sandbox"){let i=Vt(`#i${e}`).node()?.contentDocument??document;r=Vt(i.body)}return r.select(`#${e}`)},"selectSvgElement")});function y9(e){return typeof e>"u"||e===null}function VJ(e){return typeof e=="object"&&e!==null}function HJ(e){return Array.isArray(e)?e:y9(e)?[]:[e]}function YJ(e,t){var r,n,a,i;if(t)for(i=Object.keys(t),r=0,n=i.length;r<n;r+=1)a=i[r],e[a]=t[a];return e}function XJ(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}function jJ(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}function x9(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}function Yg(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=x9(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}function UT(e,t,r,n,a){var i="",o="",s=Math.floor(a/2)-1;return n-t>s&&(i=" ... ",t=n-s+i.length),r-n>s&&(o=" ...",r=n+s-o.length),{str:i+e.slice(t,r).replace(/\t/g,"\u2192")+o,pos:n-t+i.length}}function WT(e,t){return mi.repeat(" ",t-e.length)+e}function KJ(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],a=[],i,o=-1;i=r.exec(e.buffer);)a.push(i.index),n.push(i.index+i[0].length),e.position<=i.index&&o<0&&(o=n.length-2);o<0&&(o=n.length-1);var s="",l,u,f=Math.min(e.line+t.linesAfter,a.length).toString().length,h=t.maxLength-(t.indent+f+3);for(l=1;l<=t.linesBefore&&!(o-l<0);l++)u=UT(e.buffer,n[o-l],a[o-l],e.position-(n[o]-n[o-l]),h),s=mi.repeat(" ",t.indent)+WT((e.line-l+1).toString(),f)+" | "+u.str+`
`+s;for(u=UT(e.buffer,n[o],a[o],e.position,h),s+=mi.repeat(" ",t.indent)+WT((e.line+1).toString(),f)+" | "+u.str+`
`,s+=mi.repeat("-",t.indent+f+3+u.pos)+`^
`,l=1;l<=t.linesAfter&&!(o+l>=a.length);l++)u=UT(e.buffer,n[o+l],a[o+l],e.position-(n[o]-n[o+l]),h),s+=mi.repeat(" ",t.indent)+WT((e.line+l+1).toString(),f)+" | "+u.str+`
`;return s.replace(/\n$/,"")}function QJ(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}function ZJ(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(_Lt.indexOf(r)===-1)throw new Ds('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=QJ(t.styleAliases||null),wLt.indexOf(this.kind)===-1)throw new Ds('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}function n9(e,t){var r=[];return e[t].forEach(function(n){var a=r.length;r.forEach(function(i,o){i.tag===n.tag&&i.kind===n.kind&&i.multi===n.multi&&(a=o)}),r[a]=n}),r}function JJ(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(a){a.multi?(e.multi[a.kind].push(a),e.multi.fallback.push(a)):e[a.kind][a.tag]=e.fallback[a.tag]=a}for(x(n,"collectType"),t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}function GT(e){return this.extend(e)}function ttt(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function ett(){return null}function rtt(e){return e===null}function ntt(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function att(e){return e==="true"||e==="True"||e==="TRUE"}function itt(e){return Object.prototype.toString.call(e)==="[object Boolean]"}function ott(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function stt(e){return 48<=e&&e<=55}function ltt(e){return 48<=e&&e<=57}function utt(e){if(e===null)return!1;var t=e.length,r=0,n=!1,a;if(!t)return!1;if(a=e[r],(a==="-"||a==="+")&&(a=e[++r]),a==="0"){if(r+1===t)return!0;if(a=e[++r],a==="b"){for(r++;r<t;r++)if(a=e[r],a!=="_"){if(a!=="0"&&a!=="1")return!1;n=!0}return n&&a!=="_"}if(a==="x"){for(r++;r<t;r++)if(a=e[r],a!=="_"){if(!ott(e.charCodeAt(r)))return!1;n=!0}return n&&a!=="_"}if(a==="o"){for(r++;r<t;r++)if(a=e[r],a!=="_"){if(!stt(e.charCodeAt(r)))return!1;n=!0}return n&&a!=="_"}}if(a==="_")return!1;for(;r<t;r++)if(a=e[r],a!=="_"){if(!ltt(e.charCodeAt(r)))return!1;n=!0}return!(!n||a==="_")}function ctt(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function ftt(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!mi.isNegativeZero(e)}function htt(e){return!(e===null||!MLt.test(e)||e[e.length-1]==="_")}function dtt(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}function ptt(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(mi.isNegativeZero(e))return"-0.0";return r=e.toString(10),ILt.test(r)?r.replace("e",".e"):r}function mtt(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||mi.isNegativeZero(e))}function xtt(e){return e===null?!1:vtt.exec(e)!==null||ytt.exec(e)!==null}function btt(e){var t,r,n,a,i,o,s,l=0,u=null,f,h,d;if(t=vtt.exec(e),t===null&&(t=ytt.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,a=+t[3],!t[4])return new Date(Date.UTC(r,n,a));if(i=+t[4],o=+t[5],s=+t[6],t[7]){for(l=t[7].slice(0,3);l.length<3;)l+="0";l=+l}return t[9]&&(f=+t[10],h=+(t[11]||0),u=(f*60+h)*6e4,t[9]==="-"&&(u=-u)),d=new Date(Date.UTC(r,n,a,i,o,s,l)),u&&d.setTime(d.getTime()-u),d}function _tt(e){return e.toISOString()}function wtt(e){return e==="<<"||e===null}function Ttt(e){if(e===null)return!1;var t,r,n=0,a=e.length,i=b9;for(r=0;r<a;r++)if(t=i.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}function Ett(e){var t,r,n=e.replace(/[\r\n=]/g,""),a=n.length,i=b9,o=0,s=[];for(t=0;t<a;t++)t%4===0&&t&&(s.push(o>>16&255),s.push(o>>8&255),s.push(o&255)),o=o<<6|i.indexOf(n.charAt(t));return r=a%4*6,r===0?(s.push(o>>16&255),s.push(o>>8&255),s.push(o&255)):r===18?(s.push(o>>10&255),s.push(o>>2&255)):r===12&&s.push(o>>4&255),new Uint8Array(s)}function ktt(e){var t="",r=0,n,a,i=e.length,o=b9;for(n=0;n<i;n++)n%3===0&&n&&(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]),r=(r<<8)+e[n];return a=i%3,a===0?(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]):a===2?(t+=o[r>>10&63],t+=o[r>>4&63],t+=o[r<<2&63],t+=o[64]):a===1&&(t+=o[r>>2&63],t+=o[r<<4&63],t+=o[64],t+=o[64]),t}function Ctt(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}function Stt(e){if(e===null)return!0;var t=[],r,n,a,i,o,s=e;for(r=0,n=s.length;r<n;r+=1){if(a=s[r],o=!1,$Lt.call(a)!=="[object Object]")return!1;for(i in a)if(BLt.call(a,i))if(!o)o=!0;else return!1;if(!o)return!1;if(t.indexOf(i)===-1)t.push(i);else return!1}return!0}function Dtt(e){return e!==null?e:[]}function Att(e){if(e===null)return!0;var t,r,n,a,i,o=e;for(i=new Array(o.length),t=0,r=o.length;t<r;t+=1){if(n=o[t],qLt.call(n)!=="[object Object]"||(a=Object.keys(n),a.length!==1))return!1;i[t]=[a[0],n[a[0]]]}return!0}function Ltt(e){if(e===null)return[];var t,r,n,a,i,o=e;for(i=new Array(o.length),t=0,r=o.length;t<r;t+=1)n=o[t],a=Object.keys(n),i[t]=[a[0],n[a[0]]];return i}function Mtt(e){if(e===null)return!0;var t,r=e;for(t in r)if(WLt.call(r,t)&&r[t]!==null)return!1;return!0}function Itt(e){return e!==null?e:{}}function a9(e){return Object.prototype.toString.call(e)}function Su(e){return e===10||e===13}function sd(e){return e===9||e===32}function Qo(e){return e===9||e===32||e===10||e===13}function v0(e){return e===44||e===91||e===93||e===123||e===125}function Btt(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function $tt(e){return e===120?2:e===117?4:e===85?8:0}function ztt(e){return 48<=e&&e<=57?e-48:-1}function i9(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function qtt(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}function Gtt(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||Rtt,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function _9(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=bLt(r),new Ds(t,r)}function He(e,t){throw _9(e,t)}function ub(e,t){e.onWarning&&e.onWarning.call(null,_9(e,t))}function Gf(e,t,r,n){var a,i,o,s;if(t<r){if(s=e.input.slice(t,r),n)for(a=0,i=s.length;a<i;a+=1)o=s.charCodeAt(a),o===9||32<=o&&o<=1114111||He(e,"expected valid JSON character");else HLt.test(s)&&He(e,"the stream contains non-printable characters");e.result+=s}}function o9(e,t,r,n){var a,i,o,s;for(mi.isObject(r)||He(e,"cannot merge mappings; the provided source object is unacceptable"),a=Object.keys(r),o=0,s=a.length;o<s;o+=1)i=a[o],ld.call(t,i)||(t[i]=r[i],n[i]=!0)}function y0(e,t,r,n,a,i,o,s,l){var u,f;if(Array.isArray(a))for(a=Array.prototype.slice.call(a),u=0,f=a.length;u<f;u+=1)Array.isArray(a[u])&&He(e,"nested arrays are not supported inside keys"),typeof a=="object"&&a9(a[u])==="[object Object]"&&(a[u]="[object Object]");if(typeof a=="object"&&a9(a)==="[object Object]"&&(a="[object Object]"),a=String(a),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(i))for(u=0,f=i.length;u<f;u+=1)o9(e,t,i[u],r);else o9(e,t,i,r);else!e.json&&!ld.call(r,a)&&ld.call(t,a)&&(e.line=o||e.line,e.lineStart=s||e.lineStart,e.position=l||e.position,He(e,"duplicated mapping key")),a==="__proto__"?Object.defineProperty(t,a,{configurable:!0,enumerable:!0,writable:!0,value:i}):t[a]=i,delete r[a];return t}function KT(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):He(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function ja(e,t,r){for(var n=0,a=e.input.charCodeAt(e.position);a!==0;){for(;sd(a);)a===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),a=e.input.charCodeAt(++e.position);if(t&&a===35)do a=e.input.charCodeAt(++e.position);while(a!==10&&a!==13&&a!==0);if(Su(a))for(KT(e),a=e.input.charCodeAt(e.position),n++,e.lineIndent=0;a===32;)e.lineIndent++,a=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&ub(e,"deficient indentation"),n}function db(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||Qo(r)))}function QT(e,t){t===1?e.result+=" ":t>1&&(e.result+=mi.repeat(`
`,t-1))}function Vtt(e,t,r){var n,a,i,o,s,l,u,f,h=e.kind,d=e.result,p;if(p=e.input.charCodeAt(e.position),Qo(p)||v0(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(a=e.input.charCodeAt(e.position+1),Qo(a)||r&&v0(a)))return!1;for(e.kind="scalar",e.result="",i=o=e.position,s=!1;p!==0;){if(p===58){if(a=e.input.charCodeAt(e.position+1),Qo(a)||r&&v0(a))break}else if(p===35){if(n=e.input.charCodeAt(e.position-1),Qo(n))break}else{if(e.position===e.lineStart&&db(e)||r&&v0(p))break;if(Su(p))if(l=e.line,u=e.lineStart,f=e.lineIndent,ja(e,!1,-1),e.lineIndent>=t){s=!0,p=e.input.charCodeAt(e.position);continue}else{e.position=o,e.line=l,e.lineStart=u,e.lineIndent=f;break}}s&&(Gf(e,i,o,!1),QT(e,e.line-l),i=o=e.position,s=!1),sd(p)||(o=e.position+1),p=e.input.charCodeAt(++e.position)}return Gf(e,i,o,!1),e.result?!0:(e.kind=h,e.result=d,!1)}function Htt(e,t){var r,n,a;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=a=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(Gf(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,a=e.position;else return!0;else Su(r)?(Gf(e,n,a,!0),QT(e,ja(e,!1,t)),n=a=e.position):e.position===e.lineStart&&db(e)?He(e,"unexpected end of the document within a single quoted scalar"):(e.position++,a=e.position);He(e,"unexpected end of the stream within a single quoted scalar")}function Ytt(e,t){var r,n,a,i,o,s;if(s=e.input.charCodeAt(e.position),s!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(s=e.input.charCodeAt(e.position))!==0;){if(s===34)return Gf(e,r,e.position,!0),e.position++,!0;if(s===92){if(Gf(e,r,e.position,!0),s=e.input.charCodeAt(++e.position),Su(s))ja(e,!1,t);else if(s<256&&Utt[s])e.result+=Wtt[s],e.position++;else if((o=$tt(s))>0){for(a=o,i=0;a>0;a--)s=e.input.charCodeAt(++e.position),(o=Btt(s))>=0?i=(i<<4)+o:He(e,"expected hexadecimal character");e.result+=qtt(i),e.position++}else He(e,"unknown escape sequence");r=n=e.position}else Su(s)?(Gf(e,r,n,!0),QT(e,ja(e,!1,t)),r=n=e.position):e.position===e.lineStart&&db(e)?He(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}He(e,"unexpected end of the stream within a double quoted scalar")}function Xtt(e,t){var r=!0,n,a,i,o=e.tag,s,l=e.anchor,u,f,h,d,p,m=Object.create(null),g,v,y,b;if(b=e.input.charCodeAt(e.position),b===91)f=93,p=!1,s=[];else if(b===123)f=125,p=!0,s={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),b=e.input.charCodeAt(++e.position);b!==0;){if(ja(e,!0,t),b=e.input.charCodeAt(e.position),b===f)return e.position++,e.tag=o,e.anchor=l,e.kind=p?"mapping":"sequence",e.result=s,!0;r?b===44&&He(e,"expected the node content, but found ','"):He(e,"missed comma between flow collection entries"),v=g=y=null,h=d=!1,b===63&&(u=e.input.charCodeAt(e.position+1),Qo(u)&&(h=d=!0,e.position++,ja(e,!0,t))),n=e.line,a=e.lineStart,i=e.position,x0(e,t,VT,!1,!0),v=e.tag,g=e.result,ja(e,!0,t),b=e.input.charCodeAt(e.position),(d||e.line===n)&&b===58&&(h=!0,b=e.input.charCodeAt(++e.position),ja(e,!0,t),x0(e,t,VT,!1,!0),y=e.result),p?y0(e,s,m,v,g,y,n,a,i):h?s.push(y0(e,null,m,v,g,y,n,a,i)):s.push(g),ja(e,!0,t),b=e.input.charCodeAt(e.position),b===44?(r=!0,b=e.input.charCodeAt(++e.position)):r=!1}He(e,"unexpected end of the stream within a flow collection")}function jtt(e,t){var r,n,a=r9,i=!1,o=!1,s=t,l=0,u=!1,f,h;if(h=e.input.charCodeAt(e.position),h===124)n=!1;else if(h===62)n=!0;else return!1;for(e.kind="scalar",e.result="";h!==0;)if(h=e.input.charCodeAt(++e.position),h===43||h===45)r9===a?a=h===43?WJ:VLt:He(e,"repeat of a chomping mode identifier");else if((f=ztt(h))>=0)f===0?He(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?He(e,"repeat of an indentation width identifier"):(s=t+f-1,o=!0);else break;if(sd(h)){do h=e.input.charCodeAt(++e.position);while(sd(h));if(h===35)do h=e.input.charCodeAt(++e.position);while(!Su(h)&&h!==0)}for(;h!==0;){for(KT(e),e.lineIndent=0,h=e.input.charCodeAt(e.position);(!o||e.lineIndent<s)&&h===32;)e.lineIndent++,h=e.input.charCodeAt(++e.position);if(!o&&e.lineIndent>s&&(s=e.lineIndent),Su(h)){l++;continue}if(e.lineIndent<s){a===WJ?e.result+=mi.repeat(`
`,i?1+l:l):a===r9&&i&&(e.result+=`
`);break}for(n?sd(h)?(u=!0,e.result+=mi.repeat(`
`,i?1+l:l)):u?(u=!1,e.result+=mi.repeat(`
`,l+1)):l===0?i&&(e.result+=" "):e.result+=mi.repeat(`
`,l):e.result+=mi.repeat(`
`,i?1+l:l),i=!0,o=!0,l=0,r=e.position;!Su(h)&&h!==0;)h=e.input.charCodeAt(++e.position);Gf(e,r,e.position,!1)}return!0}function s9(e,t){var r,n=e.tag,a=e.anchor,i=[],o,s=!1,l;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=i),l=e.input.charCodeAt(e.position);l!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,He(e,"tab characters must not be used in indentation")),!(l!==45||(o=e.input.charCodeAt(e.position+1),!Qo(o))));){if(s=!0,e.position++,ja(e,!0,-1)&&e.lineIndent<=t){i.push(null),l=e.input.charCodeAt(e.position);continue}if(r=e.line,x0(e,t,Ott,!1,!0),i.push(e.result),ja(e,!0,-1),l=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&l!==0)He(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return s?(e.tag=n,e.anchor=a,e.kind="sequence",e.result=i,!0):!1}function Ktt(e,t,r){var n,a,i,o,s,l,u=e.tag,f=e.anchor,h={},d=Object.create(null),p=null,m=null,g=null,v=!1,y=!1,b;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=h),b=e.input.charCodeAt(e.position);b!==0;){if(!v&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,He(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),i=e.line,(b===63||b===58)&&Qo(n))b===63?(v&&(y0(e,h,d,p,m,null,o,s,l),p=m=g=null),y=!0,v=!0,a=!0):v?(v=!1,a=!0):He(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,b=n;else{if(o=e.line,s=e.lineStart,l=e.position,!x0(e,r,Ntt,!1,!0))break;if(e.line===i){for(b=e.input.charCodeAt(e.position);sd(b);)b=e.input.charCodeAt(++e.position);if(b===58)b=e.input.charCodeAt(++e.position),Qo(b)||He(e,"a whitespace character is expected after the key-value separator within a block mapping"),v&&(y0(e,h,d,p,m,null,o,s,l),p=m=g=null),y=!0,v=!1,a=!1,p=e.tag,m=e.result;else if(y)He(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=u,e.anchor=f,!0}else if(y)He(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=u,e.anchor=f,!0}if((e.line===i||e.lineIndent>t)&&(v&&(o=e.line,s=e.lineStart,l=e.position),x0(e,t,HT,!0,a)&&(v?m=e.result:g=e.result),v||(y0(e,h,d,p,m,g,o,s,l),p=m=g=null),ja(e,!0,-1),b=e.input.charCodeAt(e.position)),(e.line===i||e.lineIndent>t)&&b!==0)He(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return v&&y0(e,h,d,p,m,null,o,s,l),y&&(e.tag=u,e.anchor=f,e.kind="mapping",e.result=h),y}function Qtt(e){var t,r=!1,n=!1,a,i,o;if(o=e.input.charCodeAt(e.position),o!==33)return!1;if(e.tag!==null&&He(e,"duplication of a tag property"),o=e.input.charCodeAt(++e.position),o===60?(r=!0,o=e.input.charCodeAt(++e.position)):o===33?(n=!0,a="!!",o=e.input.charCodeAt(++e.position)):a="!",t=e.position,r){do o=e.input.charCodeAt(++e.position);while(o!==0&&o!==62);e.position<e.length?(i=e.input.slice(t,e.position),o=e.input.charCodeAt(++e.position)):He(e,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!Qo(o);)o===33&&(n?He(e,"tag suffix cannot contain exclamation marks"):(a=e.input.slice(t-1,e.position+1),Ftt.test(a)||He(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),o=e.input.charCodeAt(++e.position);i=e.input.slice(t,e.position),XLt.test(i)&&He(e,"tag suffix cannot contain flow indicator characters")}i&&!Ptt.test(i)&&He(e,"tag name cannot contain such characters: "+i);try{i=decodeURIComponent(i)}catch{He(e,"tag name is malformed: "+i)}return r?e.tag=i:ld.call(e.tagMap,a)?e.tag=e.tagMap[a]+i:a==="!"?e.tag="!"+i:a==="!!"?e.tag="tag:yaml.org,2002:"+i:He(e,'undeclared tag handle "'+a+'"'),!0}function Ztt(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&He(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!Qo(r)&&!v0(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&He(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function Jtt(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!Qo(n)&&!v0(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&He(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),ld.call(e.anchorMap,r)||He(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],ja(e,!0,-1),!0}function x0(e,t,r,n,a){var i,o,s,l=1,u=!1,f=!1,h,d,p,m,g,v;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,i=o=s=HT===r||Ott===r,n&&ja(e,!0,-1)&&(u=!0,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)),l===1)for(;Qtt(e)||Ztt(e);)ja(e,!0,-1)?(u=!0,s=i,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)):s=!1;if(s&&(s=u||a),(l===1||HT===r)&&(VT===r||Ntt===r?g=t:g=t+1,v=e.position-e.lineStart,l===1?s&&(s9(e,v)||Ktt(e,v,g))||Xtt(e,g)?f=!0:(o&&jtt(e,g)||Htt(e,g)||Ytt(e,g)?f=!0:Jtt(e)?(f=!0,(e.tag!==null||e.anchor!==null)&&He(e,"alias node should not have any properties")):Vtt(e,g,VT===r)&&(f=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):l===0&&(f=s&&s9(e,v))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&He(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),h=0,d=e.implicitTypes.length;h<d;h+=1)if(m=e.implicitTypes[h],m.resolve(e.result)){e.result=m.construct(e.result),e.tag=m.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(ld.call(e.typeMap[e.kind||"fallback"],e.tag))m=e.typeMap[e.kind||"fallback"][e.tag];else for(m=null,p=e.typeMap.multi[e.kind||"fallback"],h=0,d=p.length;h<d;h+=1)if(e.tag.slice(0,p[h].tag.length)===p[h].tag){m=p[h];break}m||He(e,"unknown tag !<"+e.tag+">"),e.result!==null&&m.kind!==e.kind&&He(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+m.kind+'", not "'+e.kind+'"'),m.resolve(e.result,e.tag)?(e.result=m.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):He(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||f}function tet(e){var t=e.position,r,n,a,i=!1,o;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(o=e.input.charCodeAt(e.position))!==0&&(ja(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||o!==37));){for(i=!0,o=e.input.charCodeAt(++e.position),r=e.position;o!==0&&!Qo(o);)o=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),a=[],n.length<1&&He(e,"directive name must not be less than one character in length");o!==0;){for(;sd(o);)o=e.input.charCodeAt(++e.position);if(o===35){do o=e.input.charCodeAt(++e.position);while(o!==0&&!Su(o));break}if(Su(o))break;for(r=e.position;o!==0&&!Qo(o);)o=e.input.charCodeAt(++e.position);a.push(e.input.slice(r,e.position))}o!==0&&KT(e),ld.call(GJ,n)?GJ[n](e,n,a):ub(e,'unknown document directive "'+n+'"')}if(ja(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,ja(e,!0,-1)):i&&He(e,"directives end mark is expected"),x0(e,e.lineIndent-1,HT,!1,!0),ja(e,!0,-1),e.checkLineBreaks&&YLt.test(e.input.slice(t,e.position))&&ub(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&db(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,ja(e,!0,-1));return}if(e.position<e.length-1)He(e,"end of the stream or a document separator is expected");else return}function w9(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new Gtt(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,He(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)tet(r);return r.documents}function eet(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var n=w9(e,r);if(typeof t!="function")return n;for(var a=0,i=n.length;a<i;a+=1)t(n[a])}function ret(e,t){var r=w9(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new Ds("expected a single document in the stream, but found more")}}function het(e,t){var r,n,a,i,o,s,l;if(t===null)return{};for(r={},n=Object.keys(t),a=0,i=n.length;a<i;a+=1)o=n[a],s=String(t[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),l=e.compiledTypeMap.fallback[o],l&&iet.call(l.styleAliases,s)&&(s=l.styleAliases[s]),r[o]=s;return r}function det(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new Ds("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+mi.repeat("0",n-t.length)+t}function pet(e){this.schema=e.schema||Rtt,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=mi.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=het(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?fb:mMt,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function u9(e,t){for(var r=mi.repeat(" ",t),n=0,a=-1,i="",o,s=e.length;n<s;)a=e.indexOf(`
`,n),a===-1?(o=e.slice(n),n=s):(o=e.slice(n,a+1),n=a+1),o.length&&o!==`
`&&(i+=r),i+=o;return i}function XT(e,t){return`
`+mi.repeat(" ",e.indent*t)}function met(e,t){var r,n,a;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(a=e.implicitTypes[r],a.resolve(t))return!0;return!1}function hb(e){return e===JLt||e===QLt}function Xg(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==T9||65536<=e&&e<=1114111}function c9(e){return Xg(e)&&e!==T9&&e!==ZLt&&e!==cb}function f9(e,t,r){var n=c9(e),a=n&&!hb(e);return(r?n:n&&e!==oet&&e!==set&&e!==uet&&e!==cet&&e!==fet)&&e!==l9&&!(t===YT&&!a)||c9(t)&&!hb(t)&&e===l9||t===YT&&a}function get(e){return Xg(e)&&e!==T9&&!hb(e)&&e!==oMt&&e!==uMt&&e!==YT&&e!==oet&&e!==set&&e!==uet&&e!==cet&&e!==fet&&e!==l9&&e!==nMt&&e!==iMt&&e!==tMt&&e!==hMt&&e!==sMt&&e!==lMt&&e!==aMt&&e!==eMt&&e!==rMt&&e!==cMt&&e!==fMt}function vet(e){return!hb(e)&&e!==YT}function Hg(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}function E9(e){var t=/^\n* /;return t.test(e)}function _et(e,t,r,n,a,i,o,s){var l,u=0,f=null,h=!1,d=!1,p=n!==-1,m=-1,g=get(Hg(e,0))&&vet(Hg(e,e.length-1));if(t||o)for(l=0;l<e.length;u>=65536?l+=2:l++){if(u=Hg(e,l),!Xg(u))return Vg;g=g&&f9(u,f,s),f=u}else{for(l=0;l<e.length;u>=65536?l+=2:l++){if(u=Hg(e,l),u===cb)h=!0,p&&(d=d||l-m-1>n&&e[m+1]!==" ",m=l);else if(!Xg(u))return Vg;g=g&&f9(u,f,s),f=u}d=d||p&&l-m-1>n&&e[m+1]!==" "}return!h&&!d?g&&!o&&!a(e)?yet:i===fb?Vg:h9:r>9&&E9(e)?Vg:o?i===fb?Vg:h9:d?bet:xet}function wet(e,t,r,n,a){e.dump=function(){if(t.length===0)return e.quotingType===fb?'""':"''";if(!e.noCompatMode&&(dMt.indexOf(t)!==-1||pMt.test(t)))return e.quotingType===fb?'"'+t+'"':"'"+t+"'";var i=e.indent*Math.max(1,r),o=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-i),s=n||e.flowLevel>-1&&r>=e.flowLevel;function l(u){return met(e,u)}switch(x(l,"testAmbiguity"),_et(t,s,e.indent,o,l,e.quotingType,e.forceQuotes&&!n,a)){case yet:return t;case h9:return"'"+t.replace(/'/g,"''")+"'";case xet:return"|"+d9(t,e.indent)+p9(u9(t,i));case bet:return">"+d9(t,e.indent)+p9(u9(Tet(t,o),i));case Vg:return'"'+Eet(t)+'"';default:throw new Ds("impossible error: invalid scalar style")}}()}function d9(e,t){var r=E9(e)?String(t):"",n=e[e.length-1]===`
`,a=n&&(e[e.length-2]===`
`||e===`
`),i=a?"+":n?"":"-";return r+i+`
`}function p9(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function Tet(e,t){for(var r=/(\n+)([^\n]*)/g,n=function(){var u=e.indexOf(`
`);return u=u!==-1?u:e.length,r.lastIndex=u,m9(e.slice(0,u),t)}(),a=e[0]===`
`||e[0]===" ",i,o;o=r.exec(e);){var s=o[1],l=o[2];i=l[0]===" ",n+=s+(!a&&!i&&l!==""?`
`:"")+m9(l,t),a=i}return n}function m9(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,a=0,i,o=0,s=0,l="";n=r.exec(e);)s=n.index,s-a>t&&(i=o>a?o:s,l+=`
`+e.slice(a,i),a=i+1),o=s;return l+=`
`,e.length-a>t&&o>a?l+=e.slice(a,o)+`
`+e.slice(o+1):l+=e.slice(a),l.slice(1)}function Eet(e){for(var t="",r=0,n,a=0;a<e.length;r>=65536?a+=2:a++)r=Hg(e,a),n=Eo[r],!n&&Xg(r)?(t+=e[a],r>=65536&&(t+=e[a+1])):t+=n||det(r);return t}function ket(e,t,r){var n="",a=e.tag,i,o,s;for(i=0,o=r.length;i<o;i+=1)s=r[i],e.replacer&&(s=e.replacer.call(r,String(i),s)),(Tc(e,t,s,!1,!1)||typeof s>"u"&&Tc(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=a,e.dump="["+n+"]"}function g9(e,t,r,n){var a="",i=e.tag,o,s,l;for(o=0,s=r.length;o<s;o+=1)l=r[o],e.replacer&&(l=e.replacer.call(r,String(o),l)),(Tc(e,t+1,l,!0,!0,!1,!0)||typeof l>"u"&&Tc(e,t+1,null,!0,!0,!1,!0))&&((!n||a!=="")&&(a+=XT(e,t)),e.dump&&cb===e.dump.charCodeAt(0)?a+="-":a+="- ",a+=e.dump);e.tag=i,e.dump=a||"[]"}function Cet(e,t,r){var n="",a=e.tag,i=Object.keys(r),o,s,l,u,f;for(o=0,s=i.length;o<s;o+=1)f="",n!==""&&(f+=", "),e.condenseFlow&&(f+='"'),l=i[o],u=r[l],e.replacer&&(u=e.replacer.call(r,l,u)),Tc(e,t,l,!1,!1)&&(e.dump.length>1024&&(f+="? "),f+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),Tc(e,t,u,!1,!1)&&(f+=e.dump,n+=f));e.tag=a,e.dump="{"+n+"}"}function Det(e,t,r,n){var a="",i=e.tag,o=Object.keys(r),s,l,u,f,h,d;if(e.sortKeys===!0)o.sort();else if(typeof e.sortKeys=="function")o.sort(e.sortKeys);else if(e.sortKeys)throw new Ds("sortKeys must be a boolean or a function");for(s=0,l=o.length;s<l;s+=1)d="",(!n||a!=="")&&(d+=XT(e,t)),u=o[s],f=r[u],e.replacer&&(f=e.replacer.call(r,u,f)),Tc(e,t+1,u,!0,!0,!0)&&(h=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,h&&(e.dump&&cb===e.dump.charCodeAt(0)?d+="?":d+="? "),d+=e.dump,h&&(d+=XT(e,t)),Tc(e,t+1,f,!0,h)&&(e.dump&&cb===e.dump.charCodeAt(0)?d+=":":d+=": ",d+=e.dump,a+=d));e.tag=i,e.dump=a||"{}"}function v9(e,t,r){var n,a,i,o,s,l;for(a=r?e.explicitTypes:e.implicitTypes,i=0,o=a.length;i<o;i+=1)if(s=a[i],(s.instanceOf||s.predicate)&&(!s.instanceOf||typeof t=="object"&&t instanceof s.instanceOf)&&(!s.predicate||s.predicate(t))){if(r?s.multi&&s.representName?e.tag=s.representName(t):e.tag=s.tag:e.tag="?",s.represent){if(l=e.styleMap[s.tag]||s.defaultStyle,aet.call(s.represent)==="[object Function]")n=s.represent(t,l);else if(iet.call(s.represent,l))n=s.represent[l](t,l);else throw new Ds("!<"+s.tag+'> tag resolver accepts not "'+l+'" style');e.dump=n}return!0}return!1}function Tc(e,t,r,n,a,i,o){e.tag=null,e.dump=r,v9(e,r,!1)||v9(e,r,!0);var s=aet.call(e.dump),l=n,u;n&&(n=e.flowLevel<0||e.flowLevel>t);var f=s==="[object Object]"||s==="[object Array]",h,d;if(f&&(h=e.duplicates.indexOf(r),d=h!==-1),(e.tag!==null&&e.tag!=="?"||d||e.indent!==2&&t>0)&&(a=!1),d&&e.usedDuplicates[h])e.dump="*ref_"+h;else{if(f&&d&&!e.usedDuplicates[h]&&(e.usedDuplicates[h]=!0),s==="[object Object]")n&&Object.keys(e.dump).length!==0?(Det(e,t,e.dump,a),d&&(e.dump="&ref_"+h+e.dump)):(Cet(e,t,e.dump),d&&(e.dump="&ref_"+h+" "+e.dump));else if(s==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!o&&t>0?g9(e,t-1,e.dump,a):g9(e,t,e.dump,a),d&&(e.dump="&ref_"+h+e.dump)):(ket(e,t,e.dump),d&&(e.dump="&ref_"+h+" "+e.dump));else if(s==="[object String]")e.tag!=="?"&&wet(e,e.dump,t,i,l);else{if(s==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new Ds("unacceptable kind of an object to dump "+s)}e.tag!==null&&e.tag!=="?"&&(u=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?u="!"+u:u.slice(0,18)==="tag:yaml.org,2002:"?u="!!"+u.slice(18):u="!<"+u+">",e.dump=u+" "+e.dump)}return!0}function Aet(e,t){var r=[],n=[],a,i;for(jT(e,r,n),a=0,i=n.length;a<i;a+=1)t.duplicates.push(r[n[a]]);t.usedDuplicates=new Array(i)}function jT(e,t,r){var n,a,i;if(e!==null&&typeof e=="object")if(a=t.indexOf(e),a!==-1)r.indexOf(a)===-1&&r.push(a);else if(t.push(e),Array.isArray(e))for(a=0,i=e.length;a<i;a+=1)jT(e[a],t,r);else for(n=Object.keys(e),a=0,i=n.length;a<i;a+=1)jT(e[n[a]],t,r)}function Let(e,t){t=t||{};var r=new pet(t);r.noRefs||Aet(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),Tc(r,0,n,!0,!0)?r.dump+`
`:""}function ZT(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}var pLt,mLt,gLt,vLt,yLt,xLt,mi,Ds,bLt,_Lt,wLt,To,TLt,ELt,kLt,CLt,SLt,DLt,ALt,LLt,MLt,ILt,RLt,gtt,NLt,vtt,ytt,OLt,FLt,b9,PLt,BLt,$Lt,zLt,qLt,ULt,WLt,GLt,Rtt,ld,VT,Ntt,Ott,HT,r9,VLt,WJ,HLt,YLt,XLt,Ftt,Ptt,Utt,Wtt,g0,GJ,jLt,KLt,net,aet,iet,T9,QLt,cb,ZLt,JLt,tMt,eMt,l9,rMt,nMt,aMt,iMt,oet,oMt,YT,sMt,lMt,uMt,cMt,set,uet,fMt,cet,hMt,fet,Eo,dMt,pMt,mMt,fb,yet,h9,xet,bet,Vg,gMt,vMt,ud,cd,aCe,iCe,oCe,sCe,lCe,pb=B(()=>{nr();x(y9,"isNothing");x(VJ,"isObject");x(HJ,"toArray");x(YJ,"extend");x(XJ,"repeat");x(jJ,"isNegativeZero");pLt=y9,mLt=VJ,gLt=HJ,vLt=XJ,yLt=jJ,xLt=YJ,mi={isNothing:pLt,isObject:mLt,toArray:gLt,repeat:vLt,isNegativeZero:yLt,extend:xLt};x(x9,"formatError");x(Yg,"YAMLException$1");Yg.prototype=Object.create(Error.prototype);Yg.prototype.constructor=Yg;Yg.prototype.toString=x(function(t){return this.name+": "+x9(this,t)},"toString");Ds=Yg;x(UT,"getLine");x(WT,"padStart");x(KJ,"makeSnippet");bLt=KJ,_Lt=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],wLt=["scalar","sequence","mapping"];x(QJ,"compileStyleAliases");x(ZJ,"Type$1");To=ZJ;x(n9,"compileList");x(JJ,"compileMap");x(GT,"Schema$1");GT.prototype.extend=x(function(t){var r=[],n=[];if(t instanceof To)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new Ds("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(i){if(!(i instanceof To))throw new Ds("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(i.loadKind&&i.loadKind!=="scalar")throw new Ds("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(i.multi)throw new Ds("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(i){if(!(i instanceof To))throw new Ds("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var a=Object.create(GT.prototype);return a.implicit=(this.implicit||[]).concat(r),a.explicit=(this.explicit||[]).concat(n),a.compiledImplicit=n9(a,"implicit"),a.compiledExplicit=n9(a,"explicit"),a.compiledTypeMap=JJ(a.compiledImplicit,a.compiledExplicit),a},"extend");TLt=GT,ELt=new To("tag:yaml.org,2002:str",{kind:"scalar",construct:x(function(e){return e!==null?e:""},"construct")}),kLt=new To("tag:yaml.org,2002:seq",{kind:"sequence",construct:x(function(e){return e!==null?e:[]},"construct")}),CLt=new To("tag:yaml.org,2002:map",{kind:"mapping",construct:x(function(e){return e!==null?e:{}},"construct")}),SLt=new TLt({explicit:[ELt,kLt,CLt]});x(ttt,"resolveYamlNull");x(ett,"constructYamlNull");x(rtt,"isNull");DLt=new To("tag:yaml.org,2002:null",{kind:"scalar",resolve:ttt,construct:ett,predicate:rtt,represent:{canonical:x(function(){return"~"},"canonical"),lowercase:x(function(){return"null"},"lowercase"),uppercase:x(function(){return"NULL"},"uppercase"),camelcase:x(function(){return"Null"},"camelcase"),empty:x(function(){return""},"empty")},defaultStyle:"lowercase"});x(ntt,"resolveYamlBoolean");x(att,"constructYamlBoolean");x(itt,"isBoolean");ALt=new To("tag:yaml.org,2002:bool",{kind:"scalar",resolve:ntt,construct:att,predicate:itt,represent:{lowercase:x(function(e){return e?"true":"false"},"lowercase"),uppercase:x(function(e){return e?"TRUE":"FALSE"},"uppercase"),camelcase:x(function(e){return e?"True":"False"},"camelcase")},defaultStyle:"lowercase"});x(ott,"isHexCode");x(stt,"isOctCode");x(ltt,"isDecCode");x(utt,"resolveYamlInteger");x(ctt,"constructYamlInteger");x(ftt,"isInteger");LLt=new To("tag:yaml.org,2002:int",{kind:"scalar",resolve:utt,construct:ctt,predicate:ftt,represent:{binary:x(function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},"binary"),octal:x(function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},"octal"),decimal:x(function(e){return e.toString(10)},"decimal"),hexadecimal:x(function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),MLt=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");x(htt,"resolveYamlFloat");x(dtt,"constructYamlFloat");ILt=/^[-+]?[0-9]+e/;x(ptt,"representYamlFloat");x(mtt,"isFloat");RLt=new To("tag:yaml.org,2002:float",{kind:"scalar",resolve:htt,construct:dtt,predicate:mtt,represent:ptt,defaultStyle:"lowercase"}),gtt=SLt.extend({implicit:[DLt,ALt,LLt,RLt]}),NLt=gtt,vtt=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),ytt=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");x(xtt,"resolveYamlTimestamp");x(btt,"constructYamlTimestamp");x(_tt,"representYamlTimestamp");OLt=new To("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:xtt,construct:btt,instanceOf:Date,represent:_tt});x(wtt,"resolveYamlMerge");FLt=new To("tag:yaml.org,2002:merge",{kind:"scalar",resolve:wtt}),b9=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;x(Ttt,"resolveYamlBinary");x(Ett,"constructYamlBinary");x(ktt,"representYamlBinary");x(Ctt,"isBinary");PLt=new To("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Ttt,construct:Ett,predicate:Ctt,represent:ktt}),BLt=Object.prototype.hasOwnProperty,$Lt=Object.prototype.toString;x(Stt,"resolveYamlOmap");x(Dtt,"constructYamlOmap");zLt=new To("tag:yaml.org,2002:omap",{kind:"sequence",resolve:Stt,construct:Dtt}),qLt=Object.prototype.toString;x(Att,"resolveYamlPairs");x(Ltt,"constructYamlPairs");ULt=new To("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:Att,construct:Ltt}),WLt=Object.prototype.hasOwnProperty;x(Mtt,"resolveYamlSet");x(Itt,"constructYamlSet");GLt=new To("tag:yaml.org,2002:set",{kind:"mapping",resolve:Mtt,construct:Itt}),Rtt=NLt.extend({implicit:[OLt,FLt],explicit:[PLt,zLt,ULt,GLt]}),ld=Object.prototype.hasOwnProperty,VT=1,Ntt=2,Ott=3,HT=4,r9=1,VLt=2,WJ=3,HLt=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,YLt=/[\x85\u2028\u2029]/,XLt=/[,\[\]\{\}]/,Ftt=/^(?:!|!!|![a-z\-]+!)$/i,Ptt=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;x(a9,"_class");x(Su,"is_EOL");x(sd,"is_WHITE_SPACE");x(Qo,"is_WS_OR_EOL");x(v0,"is_FLOW_INDICATOR");x(Btt,"fromHexCode");x($tt,"escapedHexLen");x(ztt,"fromDecimalCode");x(i9,"simpleEscapeSequence");x(qtt,"charFromCodepoint");Utt=new Array(256),Wtt=new Array(256);for(g0=0;g0<256;g0++)Utt[g0]=i9(g0)?1:0,Wtt[g0]=i9(g0);x(Gtt,"State$1");x(_9,"generateError");x(He,"throwError");x(ub,"throwWarning");GJ={YAML:x(function(t,r,n){var a,i,o;t.version!==null&&He(t,"duplication of %YAML directive"),n.length!==1&&He(t,"YAML directive accepts exactly one argument"),a=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),a===null&&He(t,"ill-formed argument of the YAML directive"),i=parseInt(a[1],10),o=parseInt(a[2],10),i!==1&&He(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=o<2,o!==1&&o!==2&&ub(t,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:x(function(t,r,n){var a,i;n.length!==2&&He(t,"TAG directive accepts exactly two arguments"),a=n[0],i=n[1],Ftt.test(a)||He(t,"ill-formed tag handle (first argument) of the TAG directive"),ld.call(t.tagMap,a)&&He(t,'there is a previously declared suffix for "'+a+'" tag handle'),Ptt.test(i)||He(t,"ill-formed tag prefix (second argument) of the TAG directive");try{i=decodeURIComponent(i)}catch{He(t,"tag prefix is malformed: "+i)}t.tagMap[a]=i},"handleTagDirective")};x(Gf,"captureSegment");x(o9,"mergeMappings");x(y0,"storeMappingPair");x(KT,"readLineBreak");x(ja,"skipSeparationSpace");x(db,"testDocumentSeparator");x(QT,"writeFoldedLines");x(Vtt,"readPlainScalar");x(Htt,"readSingleQuotedScalar");x(Ytt,"readDoubleQuotedScalar");x(Xtt,"readFlowCollection");x(jtt,"readBlockScalar");x(s9,"readBlockSequence");x(Ktt,"readBlockMapping");x(Qtt,"readTagProperty");x(Ztt,"readAnchorProperty");x(Jtt,"readAlias");x(x0,"composeNode");x(tet,"readDocument");x(w9,"loadDocuments");x(eet,"loadAll$1");x(ret,"load$1");jLt=eet,KLt=ret,net={loadAll:jLt,load:KLt},aet=Object.prototype.toString,iet=Object.prototype.hasOwnProperty,T9=65279,QLt=9,cb=10,ZLt=13,JLt=32,tMt=33,eMt=34,l9=35,rMt=37,nMt=38,aMt=39,iMt=42,oet=44,oMt=45,YT=58,sMt=61,lMt=62,uMt=63,cMt=64,set=91,uet=93,fMt=96,cet=123,hMt=124,fet=125,Eo={};Eo[0]="\\0";Eo[7]="\\a";Eo[8]="\\b";Eo[9]="\\t";Eo[10]="\\n";Eo[11]="\\v";Eo[12]="\\f";Eo[13]="\\r";Eo[27]="\\e";Eo[34]='\\"';Eo[92]="\\\\";Eo[133]="\\N";Eo[160]="\\_";Eo[8232]="\\L";Eo[8233]="\\P";dMt=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],pMt=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;x(het,"compileStyleMap");x(det,"encodeHex");mMt=1,fb=2;x(pet,"State");x(u9,"indentString");x(XT,"generateNextLine");x(met,"testImplicitResolving");x(hb,"isWhitespace");x(Xg,"isPrintable");x(c9,"isNsCharOrWhitespace");x(f9,"isPlainSafe");x(get,"isPlainSafeFirst");x(vet,"isPlainSafeLast");x(Hg,"codePointAt");x(E9,"needIndentIndicator");yet=1,h9=2,xet=3,bet=4,Vg=5;x(_et,"chooseScalarStyle");x(wet,"writeScalar");x(d9,"blockHeader");x(p9,"dropEndingNewline");x(Tet,"foldString");x(m9,"foldLine");x(Eet,"escapeString");x(ket,"writeFlowSequence");x(g9,"writeBlockSequence");x(Cet,"writeFlowMapping");x(Det,"writeBlockMapping");x(v9,"detectType");x(Tc,"writeNode");x(Aet,"getDuplicateReferences");x(jT,"inspectNode");x(Let,"dump$1");gMt=Let,vMt={dump:gMt};x(ZT,"renamed");ud=gtt,cd=net.load,aCe=net.loadAll,iCe=vMt.dump,oCe=ZT("safeLoad","load"),sCe=ZT("safeLoadAll","loadAll"),lCe=ZT("safeDump","dump");});function mb(e,t){if(e===void 0||t===void 0)return{angle:0,deltaX:0,deltaY:0};e=ya(e),t=ya(t);let[r,n]=[e.x,e.y],[a,i]=[t.x,t.y],o=a-r,s=i-n;return{angle:Math.atan(s/o),deltaX:o,deltaY:s}}var ji,k9,ya,JT,al=B(()=>{nr();ji={aggregation:17.25,extension:17.25,composition:17.25,dependency:6,lollipop:13.5,arrow_point:4},k9={arrow_point:9,arrow_cross:12.5,arrow_circle:12.5};x(mb,"calculateDeltaAndAngle");ya=x(e=>Array.isArray(e)?{x:e[0],y:e[1]}:e,"pointTransformer"),JT=x(e=>({x:x(function(t,r,n){let a=0,i=ya(n[0]).x<ya(n[n.length-1]).x?"left":"right";if(r===0&&Object.hasOwn(ji,e.arrowTypeStart)){let{angle:p,deltaX:m}=mb(n[0],n[1]);a=ji[e.arrowTypeStart]*Math.cos(p)*(m>=0?1:-1)}else if(r===n.length-1&&Object.hasOwn(ji,e.arrowTypeEnd)){let{angle:p,deltaX:m}=mb(n[n.length-1],n[n.length-2]);a=ji[e.arrowTypeEnd]*Math.cos(p)*(m>=0?1:-1)}let o=Math.abs(ya(t).x-ya(n[n.length-1]).x),s=Math.abs(ya(t).y-ya(n[n.length-1]).y),l=Math.abs(ya(t).x-ya(n[0]).x),u=Math.abs(ya(t).y-ya(n[0]).y),f=ji[e.arrowTypeStart],h=ji[e.arrowTypeEnd],d=1;if(o<h&&o>0&&s<h){let p=h+d-o;p*=i==="right"?-1:1,a-=p}if(l<f&&l>0&&u<f){let p=f+d-l;p*=i==="right"?-1:1,a+=p}return ya(t).x+a},"x"),y:x(function(t,r,n){let a=0,i=ya(n[0]).y<ya(n[n.length-1]).y?"down":"up";if(r===0&&Object.hasOwn(ji,e.arrowTypeStart)){let{angle:p,deltaY:m}=mb(n[0],n[1]);a=ji[e.arrowTypeStart]*Math.abs(Math.sin(p))*(m>=0?1:-1)}else if(r===n.length-1&&Object.hasOwn(ji,e.arrowTypeEnd)){let{angle:p,deltaY:m}=mb(n[n.length-1],n[n.length-2]);a=ji[e.arrowTypeEnd]*Math.abs(Math.sin(p))*(m>=0?1:-1)}let o=Math.abs(ya(t).y-ya(n[n.length-1]).y),s=Math.abs(ya(t).x-ya(n[n.length-1]).x),l=Math.abs(ya(t).y-ya(n[0]).y),u=Math.abs(ya(t).x-ya(n[0]).x),f=ji[e.arrowTypeStart],h=ji[e.arrowTypeEnd],d=1;if(o<h&&o>0&&s<h){let p=h+d-o;p*=i==="up"?-1:1,a-=p}if(l<f&&l>0&&u<f){let p=f+d-l;p*=i==="up"?-1:1,a+=p}return ya(t).y+a},"y")}),"getLineFunctionsWithOffset")});var Vf,Zo=B(()=>{nr();Vf=x(({flowchart:e})=>{let t=e?.subGraphTitleMargin?.top??0,r=e?.subGraphTitleMargin?.bottom??0,n=t+r;return{subGraphTitleTopMargin:t,subGraphTitleBottomMargin:r,subGraphTitleTotalMargin:n}},"getSubGraphTitleMargins")});var Met,b0,yMt,gb,De,Pe,xMt,Jo=B(()=>{Tr();nr();Met=x(e=>{let{handDrawnSeed:t}=bt();return{fill:e,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:e,seed:t}},"solidStateFill"),b0=x(e=>{let t=yMt([...e.cssCompiledStyles||[],...e.cssStyles||[],...e.labelStyle||[]]);return{stylesMap:t,stylesArray:[...t]}},"compileStyles"),yMt=x(e=>{let t=new Map;return e.forEach(r=>{let[n,a]=r.split(":");t.set(n.trim(),a?.trim())}),t},"styles2Map"),gb=x(e=>e==="color"||e==="font-size"||e==="font-family"||e==="font-weight"||e==="font-style"||e==="text-decoration"||e==="text-align"||e==="text-transform"||e==="line-height"||e==="letter-spacing"||e==="word-spacing"||e==="text-shadow"||e==="text-overflow"||e==="white-space"||e==="word-wrap"||e==="word-break"||e==="overflow-wrap"||e==="hyphens","isLabelStyle"),De=x(e=>{let{stylesArray:t}=b0(e),r=[],n=[],a=[],i=[];return t.forEach(o=>{let s=o[0];gb(s)?r.push(o.join(":")+" !important"):(n.push(o.join(":")+" !important"),s.includes("stroke")&&a.push(o.join(":")+" !important"),s==="fill"&&i.push(o.join(":")+" !important"))}),{labelStyles:r.join(";"),nodeStyles:n.join(";"),stylesArray:t,borderStyles:a,backgroundStyles:i}},"styles2String"),Pe=x((e,t)=>{let{themeVariables:r,handDrawnSeed:n}=bt(),{nodeBorder:a,mainBkg:i}=r,{stylesMap:o}=b0(e);return Object.assign({roughness:.7,fill:o.get("fill")||i,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:o.get("stroke")||a,seed:n,strokeWidth:o.get("stroke-width")?.replace("px","")||1.3,fillLineDash:[0,0],strokeLineDash:xMt(o.get("stroke-dasharray"))},t)},"userNodeOverrides"),xMt=x(e=>{if(!e)return[0,0];let t=e.trim().split(/\s+/).map(Number);if(t.length===1){let a=isNaN(t[0])?0:t[0];return[a,a]}let r=isNaN(t[0])?0:t[0],n=isNaN(t[1])?0:t[1];return[r,n]},"getStrokeDashArray")});var Iet=_o(Mi=>{"use strict";Object.defineProperty(Mi,"__esModule",{value:!0});Mi.BLANK_URL=Mi.relativeFirstCharacters=Mi.whitespaceEscapeCharsRegex=Mi.urlSchemeRegex=Mi.ctrlCharactersRegex=Mi.htmlCtrlEntityRegex=Mi.htmlEntitiesRegex=Mi.invalidProtocolRegex=void 0;Mi.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im;Mi.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g;Mi.htmlCtrlEntityRegex=/&(newline|tab);/gi;Mi.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim;Mi.urlSchemeRegex=/^.+(:|&colon;)/gim;Mi.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g;Mi.relativeFirstCharacters=[".","/"];Mi.BLANK_URL="about:blank"});var jg=_o(tE=>{"use strict";Object.defineProperty(tE,"__esModule",{value:!0});tE.sanitizeUrl=void 0;var ko=Iet();function bMt(e){return ko.relativeFirstCharacters.indexOf(e[0])>-1}function _Mt(e){var t=e.replace(ko.ctrlCharactersRegex,"");return t.replace(ko.htmlEntitiesRegex,function(r,n){return String.fromCharCode(n)})}function wMt(e){return URL.canParse(e)}function Ret(e){try{return decodeURIComponent(e)}catch{return e}}function TMt(e){if(!e)return ko.BLANK_URL;var t,r=Ret(e.trim());do r=_Mt(r).replace(ko.htmlCtrlEntityRegex,"").replace(ko.ctrlCharactersRegex,"").replace(ko.whitespaceEscapeCharsRegex,"").trim(),r=Ret(r),t=r.match(ko.ctrlCharactersRegex)||r.match(ko.htmlEntitiesRegex)||r.match(ko.htmlCtrlEntityRegex)||r.match(ko.whitespaceEscapeCharsRegex);while(t&&t.length>0);var n=r;if(!n)return ko.BLANK_URL;if(bMt(n))return n;var a=n.trimStart(),i=a.match(ko.urlSchemeRegex);if(!i)return n;var o=i[0].toLowerCase().trim();if(ko.invalidProtocolRegex.test(o))return ko.BLANK_URL;var s=a.replace(/\\/g,"/");if(o==="mailto:"||o.includes("://"))return s;if(o==="http:"||o==="https:"){if(!wMt(s))return ko.BLANK_URL;var l=new URL(s);return l.protocol=l.protocol.toLowerCase(),l.hostname=l.hostname.toLowerCase(),l.toString()}return s}tE.sanitizeUrl=TMt});var EMt,eE,C9=B(()=>{EMt=typeof global=="object"&&global&&global.Object===Object&&global,eE=EMt});var kMt,CMt,Ua,Il=B(()=>{C9();kMt=typeof self=="object"&&self&&self.Object===Object&&self,CMt=eE||kMt||Function("return this")(),Ua=CMt});var SMt,Ii,_0=B(()=>{Il();SMt=Ua.Symbol,Ii=SMt});function LMt(e){var t=DMt.call(e,vb),r=e[vb];try{e[vb]=void 0;var n=!0}catch{}var a=AMt.call(e);return n&&(t?e[vb]=r:delete e[vb]),a}var Net,DMt,AMt,vb,Oet,Fet=B(()=>{_0();Net=Object.prototype,DMt=Net.hasOwnProperty,AMt=Net.toString,vb=Ii?Ii.toStringTag:void 0;Oet=LMt});function RMt(e){return IMt.call(e)}var MMt,IMt,Pet,Bet=B(()=>{MMt=Object.prototype,IMt=MMt.toString;Pet=RMt});function FMt(e){return e==null?e===void 0?OMt:NMt:$et&&$et in Object(e)?Oet(e):Pet(e)}var NMt,OMt,$et,Ki,Hf=B(()=>{_0();Fet();Bet();NMt="[object Null]",OMt="[object Undefined]",$et=Ii?Ii.toStringTag:void 0;Ki=FMt});function PMt(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Hn,il=B(()=>{Hn=PMt});function UMt(e){if(!Hn(e))return!1;var t=Ki(e);return t==$Mt||t==zMt||t==BMt||t==qMt}var BMt,$Mt,zMt,qMt,ni,yb=B(()=>{Hf();il();BMt="[object AsyncFunction]",$Mt="[object Function]",zMt="[object GeneratorFunction]",qMt="[object Proxy]";ni=UMt});var WMt,rE,zet=B(()=>{Il();WMt=Ua["__core-js_shared__"],rE=WMt});function GMt(e){return!!qet&&qet in e}var qet,Uet,Wet=B(()=>{zet();qet=function(){var e=/[^.]+$/.exec(rE&&rE.keys&&rE.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();Uet=GMt});function YMt(e){if(e!=null){try{return HMt.call(e)}catch{}try{return e+""}catch{}}return""}var VMt,HMt,Yf,S9=B(()=>{VMt=Function.prototype,HMt=VMt.toString;Yf=YMt});function e9t(e){if(!Hn(e)||Uet(e))return!1;var t=ni(e)?t9t:jMt;return t.test(Yf(e))}var XMt,jMt,KMt,QMt,ZMt,JMt,t9t,Get,Vet=B(()=>{yb();Wet();il();S9();XMt=/[\\^$.*+?()[\]{}|]/g,jMt=/^\[object .+?Constructor\]$/,KMt=Function.prototype,QMt=Object.prototype,ZMt=KMt.toString,JMt=QMt.hasOwnProperty,t9t=RegExp("^"+ZMt.call(JMt).replace(XMt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");Get=e9t});function r9t(e,t){return e?.[t]}var Het,Yet=B(()=>{Het=r9t});function n9t(e,t){var r=Het(e,t);return Get(r)?r:void 0}var As,fd=B(()=>{Vet();Yet();As=n9t});var a9t,Xf,xb=B(()=>{fd();a9t=As(Object,"create"),Xf=a9t});function i9t(){this.__data__=Xf?Xf(null):{},this.size=0}var Xet,jet=B(()=>{xb();Xet=i9t});function o9t(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Ket,Qet=B(()=>{Ket=o9t});function c9t(e){var t=this.__data__;if(Xf){var r=t[e];return r===s9t?void 0:r}return u9t.call(t,e)?t[e]:void 0}var s9t,l9t,u9t,Zet,Jet=B(()=>{xb();s9t="__lodash_hash_undefined__",l9t=Object.prototype,u9t=l9t.hasOwnProperty;Zet=c9t});function d9t(e){var t=this.__data__;return Xf?t[e]!==void 0:h9t.call(t,e)}var f9t,h9t,trt,ert=B(()=>{xb();f9t=Object.prototype,h9t=f9t.hasOwnProperty;trt=d9t});function m9t(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Xf&&t===void 0?p9t:t,this}var p9t,rrt,nrt=B(()=>{xb();p9t="__lodash_hash_undefined__";rrt=m9t});function Kg(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}var D9,art=B(()=>{jet();Qet();Jet();ert();nrt();Kg.prototype.clear=Xet;Kg.prototype.delete=Ket;Kg.prototype.get=Zet;Kg.prototype.has=trt;Kg.prototype.set=rrt;D9=Kg});function g9t(){this.__data__=[],this.size=0}var irt,ort=B(()=>{irt=g9t});function v9t(e,t){return e===t||e!==e&&t!==t}var Rl,w0=B(()=>{Rl=v9t});function y9t(e,t){for(var r=e.length;r--;)if(Rl(e[r][0],t))return r;return-1}var hd,bb=B(()=>{w0();hd=y9t});function _9t(e){var t=this.__data__,r=hd(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():b9t.call(t,r,1),--this.size,!0}var x9t,b9t,srt,lrt=B(()=>{bb();x9t=Array.prototype,b9t=x9t.splice;srt=_9t});function w9t(e){var t=this.__data__,r=hd(t,e);return r<0?void 0:t[r][1]}var urt,crt=B(()=>{bb();urt=w9t});function T9t(e){return hd(this.__data__,e)>-1}var frt,hrt=B(()=>{bb();frt=T9t});function E9t(e,t){var r=this.__data__,n=hd(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var drt,prt=B(()=>{bb();drt=E9t});function Qg(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}var dd,_b=B(()=>{ort();lrt();crt();hrt();prt();Qg.prototype.clear=irt;Qg.prototype.delete=srt;Qg.prototype.get=urt;Qg.prototype.has=frt;Qg.prototype.set=drt;dd=Qg});var k9t,pd,nE=B(()=>{fd();Il();k9t=As(Ua,"Map"),pd=k9t});function C9t(){this.size=0,this.__data__={hash:new D9,map:new(pd||dd),string:new D9}}var mrt,grt=B(()=>{art();_b();nE();mrt=C9t});function S9t(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var vrt,yrt=B(()=>{vrt=S9t});function D9t(e,t){var r=e.__data__;return vrt(t)?r[typeof t=="string"?"string":"hash"]:r.map}var md,wb=B(()=>{yrt();md=D9t});function A9t(e){var t=md(this,e).delete(e);return this.size-=t?1:0,t}var xrt,brt=B(()=>{wb();xrt=A9t});function L9t(e){return md(this,e).get(e)}var _rt,wrt=B(()=>{wb();_rt=L9t});function M9t(e){return md(this,e).has(e)}var Trt,Ert=B(()=>{wb();Trt=M9t});function I9t(e,t){var r=md(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var krt,Crt=B(()=>{wb();krt=I9t});function Zg(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}var T0,aE=B(()=>{grt();brt();wrt();Ert();Crt();Zg.prototype.clear=mrt;Zg.prototype.delete=xrt;Zg.prototype.get=_rt;Zg.prototype.has=Trt;Zg.prototype.set=krt;T0=Zg});function A9(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(R9t);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(A9.Cache||T0),r}var R9t,Jg,L9=B(()=>{aE();R9t="Expected a function";A9.Cache=T0;Jg=A9});function N9t(){this.__data__=new dd,this.size=0}var Srt,Drt=B(()=>{_b();Srt=N9t});function O9t(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Art,Lrt=B(()=>{Art=O9t});function F9t(e){return this.__data__.get(e)}var Mrt,Irt=B(()=>{Mrt=F9t});function P9t(e){return this.__data__.has(e)}var Rrt,Nrt=B(()=>{Rrt=P9t});function $9t(e,t){var r=this.__data__;if(r instanceof dd){var n=r.__data__;if(!pd||n.length<B9t-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new T0(n)}return r.set(e,t),this.size=r.size,this}var B9t,Ort,Frt=B(()=>{_b();nE();aE();B9t=200;Ort=$9t});function t1(e){var t=this.__data__=new dd(e);this.size=t.size}var Ec,Tb=B(()=>{_b();Drt();Lrt();Irt();Nrt();Frt();t1.prototype.clear=Srt;t1.prototype.delete=Art;t1.prototype.get=Mrt;t1.prototype.has=Rrt;t1.prototype.set=Ort;Ec=t1});var z9t,e1,M9=B(()=>{fd();z9t=function(){try{var e=As(Object,"defineProperty");return e({},"",{}),e}catch{}}(),e1=z9t});function q9t(e,t,r){t=="__proto__"&&e1?e1(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var kc,r1=B(()=>{M9();kc=q9t});function U9t(e,t,r){(r!==void 0&&!Rl(e[t],r)||r===void 0&&!(t in e))&&kc(e,t,r)}var Eb,I9=B(()=>{r1();w0();Eb=U9t});function W9t(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),s=o.length;s--;){var l=o[e?s:++a];if(r(i[l],l,i)===!1)break}return t}}var Prt,Brt=B(()=>{Prt=W9t});var G9t,n1,iE=B(()=>{Brt();G9t=Prt(),n1=G9t});function H9t(e,t){if(t)return e.slice();var r=e.length,n=qrt?qrt(r):new e.constructor(r);return e.copy(n),n}var Urt,$rt,V9t,zrt,qrt,oE,R9=B(()=>{Il();Urt=typeof exports=="object"&&exports&&!exports.nodeType&&exports,$rt=Urt&&typeof module=="object"&&module&&!module.nodeType&&module,V9t=$rt&&$rt.exports===Urt,zrt=V9t?Ua.Buffer:void 0,qrt=zrt?zrt.allocUnsafe:void 0;oE=H9t});var Y9t,a1,N9=B(()=>{Il();Y9t=Ua.Uint8Array,a1=Y9t});function X9t(e){var t=new e.constructor(e.byteLength);return new a1(t).set(new a1(e)),t}var i1,sE=B(()=>{N9();i1=X9t});function j9t(e,t){var r=t?i1(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var lE,O9=B(()=>{sE();lE=j9t});function K9t(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var uE,F9=B(()=>{uE=K9t});var Wrt,Q9t,Grt,Vrt=B(()=>{il();Wrt=Object.create,Q9t=function(){function e(){}return function(t){if(!Hn(t))return{};if(Wrt)return Wrt(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),Grt=Q9t});function Z9t(e,t){return function(r){return e(t(r))}}var cE,P9=B(()=>{cE=Z9t});var J9t,o1,fE=B(()=>{P9();J9t=cE(Object.getPrototypeOf,Object),o1=J9t});function eIt(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||tIt;return e===r}var tIt,Cc,s1=B(()=>{tIt=Object.prototype;Cc=eIt});function rIt(e){return typeof e.constructor=="function"&&!Cc(e)?Grt(o1(e)):{}}var hE,B9=B(()=>{Vrt();fE();s1();hE=rIt});function nIt(e){return e!=null&&typeof e=="object"}var Ra,Nl=B(()=>{Ra=nIt});function iIt(e){return Ra(e)&&Ki(e)==aIt}var aIt,$9,Hrt=B(()=>{Hf();Nl();aIt="[object Arguments]";$9=iIt});var Yrt,oIt,sIt,lIt,Du,l1=B(()=>{Hrt();Nl();Yrt=Object.prototype,oIt=Yrt.hasOwnProperty,sIt=Yrt.propertyIsEnumerable,lIt=$9(function(){return arguments}())?$9:function(e){return Ra(e)&&oIt.call(e,"callee")&&!sIt.call(e,"callee")},Du=lIt});var uIt,Ie,xa=B(()=>{uIt=Array.isArray,Ie=uIt});function fIt(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=cIt}var cIt,u1,dE=B(()=>{cIt=9007199254740991;u1=fIt});function hIt(e){return e!=null&&u1(e.length)&&!ni(e)}var Wa,Ol=B(()=>{yb();dE();Wa=hIt});function dIt(e){return Ra(e)&&Wa(e)}var E0,pE=B(()=>{Ol();Nl();E0=dIt});function pIt(){return!1}var Xrt,jrt=B(()=>{Xrt=pIt});var Zrt,Krt,mIt,Qrt,gIt,vIt,Au,c1=B(()=>{Il();jrt();Zrt=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Krt=Zrt&&typeof module=="object"&&module&&!module.nodeType&&module,mIt=Krt&&Krt.exports===Zrt,Qrt=mIt?Ua.Buffer:void 0,gIt=Qrt?Qrt.isBuffer:void 0,vIt=gIt||Xrt,Au=vIt});function TIt(e){if(!Ra(e)||Ki(e)!=yIt)return!1;var t=o1(e);if(t===null)return!0;var r=_It.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Jrt.call(r)==wIt}var yIt,xIt,bIt,Jrt,_It,wIt,tnt,ent=B(()=>{Hf();fE();Nl();yIt="[object Object]",xIt=Function.prototype,bIt=Object.prototype,Jrt=xIt.toString,_It=bIt.hasOwnProperty,wIt=Jrt.call(Object);tnt=TIt});function XIt(e){return Ra(e)&&u1(e.length)&&!!fa[Ki(e)]}var EIt,kIt,CIt,SIt,DIt,AIt,LIt,MIt,IIt,RIt,NIt,OIt,FIt,PIt,BIt,$It,zIt,qIt,UIt,WIt,GIt,VIt,HIt,YIt,fa,rnt,nnt=B(()=>{Hf();dE();Nl();EIt="[object Arguments]",kIt="[object Array]",CIt="[object Boolean]",SIt="[object Date]",DIt="[object Error]",AIt="[object Function]",LIt="[object Map]",MIt="[object Number]",IIt="[object Object]",RIt="[object RegExp]",NIt="[object Set]",OIt="[object String]",FIt="[object WeakMap]",PIt="[object ArrayBuffer]",BIt="[object DataView]",$It="[object Float32Array]",zIt="[object Float64Array]",qIt="[object Int8Array]",UIt="[object Int16Array]",WIt="[object Int32Array]",GIt="[object Uint8Array]",VIt="[object Uint8ClampedArray]",HIt="[object Uint16Array]",YIt="[object Uint32Array]",fa={};fa[$It]=fa[zIt]=fa[qIt]=fa[UIt]=fa[WIt]=fa[GIt]=fa[VIt]=fa[HIt]=fa[YIt]=!0;fa[EIt]=fa[kIt]=fa[PIt]=fa[CIt]=fa[BIt]=fa[SIt]=fa[DIt]=fa[AIt]=fa[LIt]=fa[MIt]=fa[IIt]=fa[RIt]=fa[NIt]=fa[OIt]=fa[FIt]=!1;rnt=XIt});function jIt(e){return function(t){return e(t)}}var Fl,k0=B(()=>{Fl=jIt});var ant,kb,KIt,z9,QIt,Pl,Cb=B(()=>{C9();ant=typeof exports=="object"&&exports&&!exports.nodeType&&exports,kb=ant&&typeof module=="object"&&module&&!module.nodeType&&module,KIt=kb&&kb.exports===ant,z9=KIt&&eE.process,QIt=function(){try{var e=kb&&kb.require&&kb.require("util").types;return e||z9&&z9.binding&&z9.binding("util")}catch{}}(),Pl=QIt});var int,ZIt,gd,Sb=B(()=>{nnt();k0();Cb();int=Pl&&Pl.isTypedArray,ZIt=int?Fl(int):rnt,gd=ZIt});function JIt(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var Db,q9=B(()=>{Db=JIt});function rRt(e,t,r){var n=e[t];(!(eRt.call(e,t)&&Rl(n,r))||r===void 0&&!(t in e))&&kc(e,t,r)}var tRt,eRt,Sc,f1=B(()=>{r1();w0();tRt=Object.prototype,eRt=tRt.hasOwnProperty;Sc=rRt});function nRt(e,t,r,n){var a=!r;r||(r={});for(var i=-1,o=t.length;++i<o;){var s=t[i],l=n?n(r[s],e[s],s,r,e):void 0;l===void 0&&(l=e[s]),a?kc(r,s,l):Sc(r,s,l)}return r}var Bl,C0=B(()=>{f1();r1();Bl=nRt});function aRt(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var ont,snt=B(()=>{ont=aRt});function sRt(e,t){var r=typeof e;return t=t??iRt,!!t&&(r=="number"||r!="symbol"&&oRt.test(e))&&e>-1&&e%1==0&&e<t}var iRt,oRt,vd,Ab=B(()=>{iRt=9007199254740991,oRt=/^(?:0|[1-9]\d*)$/;vd=sRt});function cRt(e,t){var r=Ie(e),n=!r&&Du(e),a=!r&&!n&&Au(e),i=!r&&!n&&!a&&gd(e),o=r||n||a||i,s=o?ont(e.length,String):[],l=s.length;for(var u in e)(t||uRt.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||vd(u,l)))&&s.push(u);return s}var lRt,uRt,mE,U9=B(()=>{snt();l1();xa();c1();Ab();Sb();lRt=Object.prototype,uRt=lRt.hasOwnProperty;mE=cRt});function fRt(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var lnt,unt=B(()=>{lnt=fRt});function pRt(e){if(!Hn(e))return lnt(e);var t=Cc(e),r=[];for(var n in e)n=="constructor"&&(t||!dRt.call(e,n))||r.push(n);return r}var hRt,dRt,cnt,fnt=B(()=>{il();s1();unt();hRt=Object.prototype,dRt=hRt.hasOwnProperty;cnt=pRt});function mRt(e){return Wa(e)?mE(e,!0):cnt(e)}var Ls,yd=B(()=>{U9();fnt();Ol();Ls=mRt});function gRt(e){return Bl(e,Ls(e))}var hnt,dnt=B(()=>{C0();yd();hnt=gRt});function vRt(e,t,r,n,a,i,o){var s=Db(e,r),l=Db(t,r),u=o.get(l);if(u){Eb(e,r,u);return}var f=i?i(s,l,r+"",e,t,o):void 0,h=f===void 0;if(h){var d=Ie(l),p=!d&&Au(l),m=!d&&!p&&gd(l);f=l,d||p||m?Ie(s)?f=s:E0(s)?f=uE(s):p?(h=!1,f=oE(l,!0)):m?(h=!1,f=lE(l,!0)):f=[]:tnt(l)||Du(l)?(f=s,Du(s)?f=hnt(s):(!Hn(s)||ni(s))&&(f=hE(l))):h=!1}h&&(o.set(l,f),a(f,l,n,i,o),o.delete(l)),Eb(e,r,f)}var pnt,mnt=B(()=>{I9();R9();O9();F9();B9();l1();xa();pE();c1();yb();il();ent();Sb();q9();dnt();pnt=vRt});function gnt(e,t,r,n,a){e!==t&&n1(t,function(i,o){if(a||(a=new Ec),Hn(i))pnt(e,t,o,r,gnt,n,a);else{var s=n?n(Db(e,o),i,o+"",e,t,a):void 0;s===void 0&&(s=i),Eb(e,o,s)}},Ls)}var vnt,ynt=B(()=>{Tb();I9();iE();mnt();il();yd();q9();vnt=gnt});function yRt(e){return e}var Ri,jf=B(()=>{Ri=yRt});function xRt(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var xnt,bnt=B(()=>{xnt=xRt});function bRt(e,t,r){return t=_nt(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=_nt(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=n[a];return s[t]=r(o),xnt(e,this,s)}}var _nt,gE,W9=B(()=>{bnt();_nt=Math.max;gE=bRt});function _Rt(e){return function(){return e}}var Ms,G9=B(()=>{Ms=_Rt});var wRt,wnt,Tnt=B(()=>{G9();M9();jf();wRt=e1?function(e,t){return e1(e,"toString",{configurable:!0,enumerable:!1,value:Ms(t),writable:!0})}:Ri,wnt=wRt});function CRt(e){var t=0,r=0;return function(){var n=kRt(),a=ERt-(n-r);if(r=n,a>0){if(++t>=TRt)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var TRt,ERt,kRt,Ent,knt=B(()=>{TRt=800,ERt=16,kRt=Date.now;Ent=CRt});var SRt,vE,V9=B(()=>{Tnt();knt();SRt=Ent(wnt),vE=SRt});function DRt(e,t){return vE(gE(e,t,Ri),e+"")}var Dc,h1=B(()=>{jf();W9();V9();Dc=DRt});function ARt(e,t,r){if(!Hn(r))return!1;var n=typeof t;return(n=="number"?Wa(r)&&vd(t,r.length):n=="string"&&t in r)?Rl(r[t],e):!1}var ol,S0=B(()=>{w0();Ol();Ab();il();ol=ARt});function LRt(e){return Dc(function(t,r){var n=-1,a=r.length,i=a>1?r[a-1]:void 0,o=a>2?r[2]:void 0;for(i=e.length>3&&typeof i=="function"?(a--,i):void 0,o&&ol(r[0],r[1],o)&&(i=a<3?void 0:i,a=1),t=Object(t);++n<a;){var s=r[n];s&&e(t,s,n,i)}return t})}var yE,H9=B(()=>{h1();S0();yE=LRt});var MRt,xd,Y9=B(()=>{ynt();H9();MRt=yE(function(e,t,r){vnt(e,t,r)}),xd=MRt});function bE(e,t){if(!e)return t;let r=`curve${e.charAt(0).toUpperCase()+e.slice(1)}`;return IRt[r]??t}function Mnt(e,t){let r=e.trim();if(r)return t.securityLevel!=="loose"?(0,Dnt.sanitizeUrl)(r):r}function j9(e,t){return!e||!t?0:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Int(e){let t,r=0;e.forEach(a=>{r+=j9(a,t),t=a});let n=r/2;return K9(e,n)}function Rnt(e){return e.length===1?e[0]:Int(e)}function Nnt(e,t,r){let n=structuredClone(r);J.info("our points",n),t!=="start_left"&&t!=="start_right"&&n.reverse();let a=25+e,i=K9(n,a),o=10+e*.5,s=Math.atan2(n[0].y-i.y,n[0].x-i.x),l={x:0,y:0};return t==="start_left"?(l.x=Math.sin(s+Math.PI)*o+(n[0].x+i.x)/2,l.y=-Math.cos(s+Math.PI)*o+(n[0].y+i.y)/2):t==="end_right"?(l.x=Math.sin(s-Math.PI)*o+(n[0].x+i.x)/2-5,l.y=-Math.cos(s-Math.PI)*o+(n[0].y+i.y)/2-5):t==="end_left"?(l.x=Math.sin(s)*o+(n[0].x+i.x)/2-5,l.y=-Math.cos(s)*o+(n[0].y+i.y)/2-5):(l.x=Math.sin(s)*o+(n[0].x+i.x)/2,l.y=-Math.cos(s)*o+(n[0].y+i.y)/2),l}function _E(e){let t="",r="";for(let n of e)n!==void 0&&(n.startsWith("color:")||n.startsWith("text-align:")?r=r+n+";":t=t+n+";");return{style:t,labelStyle:r}}function Ont(e){let t="",r="0123456789abcdef",n=r.length;for(let a=0;a<e;a++)t+=r.charAt(Math.floor(Math.random()*n));return t}function Lb(e,t){return tI(e,t).height}function Qi(e,t){return tI(e,t).width}function wE(e){return"str"in e}function Na(e,t){return xd({},e,t)}function Zi(e){return e??null}function Pnt(e,t){let r=Math.round(e.x),n=Math.round(e.y),a=t.replace(/(\d+\.\d+)/g,i=>Math.round(parseFloat(i)).toString());return a.includes(r.toString())||a.includes(n.toString())}var Dnt,X9,IRt,RRt,NRt,Ant,Lnt,ORt,FRt,Cnt,K9,PRt,Snt,Q9,Z9,BRt,$Rt,J9,zRt,tI,qRt,xE,URt,WRt,Ac,Ge,Fnt,Is,Lc,On=B(()=>{Tr();nr();Dnt=qo(jg(),1);hr();L9();Y9();X9="\u200B",IRt={curveBasis:Cu,curveBasisClosed:UM,curveBasisOpen:WM,curveBumpX:Xx,curveBumpY:jx,curveBundle:GM,curveCardinalClosed:VM,curveCardinalOpen:YM,curveCardinal:Jx,curveCatmullRomClosed:jM,curveCatmullRomOpen:KM,curveCatmullRom:rb,curveLinear:id,curveLinearClosed:QM,curveMonotoneX:nb,curveMonotoneY:ab,curveNatural:ib,curveStep:ob,curveStepAfter:lb,curveStepBefore:sb},RRt=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,NRt=x(function(e,t){let r=Ant(e,/(?:init\b)|(?:initialize\b)/),n={};if(Array.isArray(r)){let o=r.map(s=>s.args);dx(o),n=ua(n,[...o])}else n=r.args;if(!n)return;let a=px(e,t),i="config";return n[i]!==void 0&&(a==="flowchart-v2"&&(a="flowchart"),n[a]=n[i],delete n[i]),n},"detectInit"),Ant=x(function(e,t=null){try{let r=new RegExp(`[%]{2}(?![{]${RRt.source})(?=[}][%]{2}).*
`,"ig");e=e.trim().replace(r,"").replace(/'/gm,'"'),J.debug(`Detecting diagram directive${t!==null?" type:"+t:""} based on the text:${e}`);let n,a=[];for(;(n=_g.exec(e))!==null;)if(n.index===_g.lastIndex&&_g.lastIndex++,n&&!t||t&&n[1]?.match(t)||t&&n[2]?.match(t)){let i=n[1]?n[1]:n[2],o=n[3]?n[3].trim():n[4]?JSON.parse(n[4].trim()):null;a.push({type:i,args:o})}return a.length===0?{type:e,args:null}:a.length===1?a[0]:a}catch(r){return J.error(`ERROR: ${r.message} - Unable to parse directive type: '${t}' based on the text: '${e}'`),{type:void 0,args:null}}},"detectDirective"),Lnt=x(function(e){return e.replace(_g,"")},"removeDirectives"),ORt=x(function(e,t){for(let[r,n]of t.entries())if(n.match(e))return r;return-1},"isSubstringInArray");x(bE,"interpolateToCurve");x(Mnt,"formatUrl");FRt=x((e,...t)=>{let r=e.split("."),n=r.length-1,a=r[n],i=window;for(let o=0;o<n;o++)if(i=i[r[o]],!i){J.error(`Function name: ${e} not found in window`);return}i[a](...t)},"runFunc");x(j9,"distance");x(Int,"traverseEdge");x(Rnt,"calcLabelPosition");Cnt=x((e,t=2)=>{let r=Math.pow(10,t);return Math.round(e*r)/r},"roundNumber"),K9=x((e,t)=>{let r,n=t;for(let a of e){if(r){let i=j9(a,r);if(i===0)return r;if(i<n)n-=i;else{let o=n/i;if(o<=0)return r;if(o>=1)return{x:a.x,y:a.y};if(o>0&&o<1)return{x:Cnt((1-o)*r.x+o*a.x,5),y:Cnt((1-o)*r.y+o*a.y,5)}}}r=a}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),PRt=x((e,t,r)=>{J.info(`our points ${JSON.stringify(t)}`),t[0]!==r&&(t=t.reverse());let a=K9(t,25),i=e?10:5,o=Math.atan2(t[0].y-a.y,t[0].x-a.x),s={x:0,y:0};return s.x=Math.sin(o)*i+(t[0].x+a.x)/2,s.y=-Math.cos(o)*i+(t[0].y+a.y)/2,s},"calcCardinalityPosition");x(Nnt,"calcTerminalLabelPosition");x(_E,"getStylesFromArray");Snt=0,Q9=x(()=>(Snt++,"id-"+Math.random().toString(36).substr(2,12)+"-"+Snt),"generateId");x(Ont,"makeRandomHex");Z9=x(e=>Ont(e.length),"random"),BRt=x(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),$Rt=x(function(e,t){let r=t.text.replace(Jt.lineBreakRegex," "),[,n]=Ac(t.fontSize),a=e.append("text");a.attr("x",t.x),a.attr("y",t.y),a.style("text-anchor",t.anchor),a.style("font-family",t.fontFamily),a.style("font-size",n),a.style("font-weight",t.fontWeight),a.attr("fill",t.fill),t.class!==void 0&&a.attr("class",t.class);let i=a.append("tspan");return i.attr("x",t.x+t.textMargin*2),i.attr("fill",t.fill),i.text(r),a},"drawSimpleText"),J9=Jg((e,t,r)=>{if(!e||(r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},r),Jt.lineBreakRegex.test(e)))return e;let n=e.split(" ").filter(Boolean),a=[],i="";return n.forEach((o,s)=>{let l=Qi(`${o} `,r),u=Qi(i,r);if(l>t){let{hyphenatedStrings:d,remainingWord:p}=zRt(o,t,"-",r);a.push(i,...d),i=p}else u+l>=t?(a.push(i),i=o):i=[i,o].filter(Boolean).join(" ");s+1===n.length&&a.push(i)}),a.filter(o=>o!=="").join(r.joinWith)},(e,t,r)=>`${e}${t}${r.fontSize}${r.fontWeight}${r.fontFamily}${r.joinWith}`),zRt=Jg((e,t,r="-",n)=>{n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},n);let a=[...e],i=[],o="";return a.forEach((s,l)=>{let u=`${o}${s}`;if(Qi(u,n)>=t){let h=l+1,d=a.length===h,p=`${u}${r}`;i.push(d?u:p),o=""}else o=u}),{hyphenatedStrings:i,remainingWord:o}},(e,t,r="-",n)=>`${e}${t}${r}${n.fontSize}${n.fontWeight}${n.fontFamily}`);x(Lb,"calculateTextHeight");x(Qi,"calculateTextWidth");tI=Jg((e,t)=>{let{fontSize:r=12,fontFamily:n="Arial",fontWeight:a=400}=t;if(!e)return{width:0,height:0};let[,i]=Ac(r),o=["sans-serif",n],s=e.split(Jt.lineBreakRegex),l=[],u=Vt("body");if(!u.remove)return{width:0,height:0,lineHeight:0};let f=u.append("svg");for(let d of o){let p=0,m={width:0,height:0,lineHeight:0};for(let g of s){let v=BRt();v.text=g||X9;let y=$Rt(f,v).style("font-size",i).style("font-weight",a).style("font-family",d),b=(y._groups||y)[0][0].getBBox();if(b.width===0&&b.height===0)throw new Error("svg element not in render tree");m.width=Math.round(Math.max(m.width,b.width)),p=Math.round(b.height),m.height+=p,m.lineHeight=Math.round(Math.max(m.lineHeight,p))}l.push(m)}f.remove();let h=isNaN(l[1].height)||isNaN(l[1].width)||isNaN(l[1].lineHeight)||l[0].height>l[1].height&&l[0].width>l[1].width&&l[0].lineHeight>l[1].lineHeight?0:1;return l[h]},(e,t)=>`${e}${t.fontSize}${t.fontWeight}${t.fontFamily}`),qRt=class{constructor(e=!1,t){this.count=0,this.count=t?t.length:0,this.next=e?()=>this.count++:()=>Date.now()}static{x(this,"InitIDGenerator")}},URt=x(function(e){return xE=xE||document.createElement("div"),e=escape(e).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),xE.innerHTML=e,unescape(xE.textContent)},"entityDecode");x(wE,"isDetailedError");WRt=x((e,t,r,n)=>{if(!n)return;let a=e.node()?.getBBox();a&&e.append("text").text(n).attr("text-anchor","middle").attr("x",a.x+a.width/2).attr("y",-r).attr("class",t)},"insertTitle"),Ac=x(e=>{if(typeof e=="number")return[e,e+"px"];let t=parseInt(e??"",10);return Number.isNaN(t)?[void 0,void 0]:e===String(t)?[t,e+"px"]:[t,e]},"parseFontSize");x(Na,"cleanAndMerge");Ge={assignWithDepth:ua,wrapLabel:J9,calculateTextHeight:Lb,calculateTextWidth:Qi,calculateTextDimensions:tI,cleanAndMerge:Na,detectInit:NRt,detectDirective:Ant,isSubstringInArray:ORt,interpolateToCurve:bE,calcLabelPosition:Rnt,calcCardinalityPosition:PRt,calcTerminalLabelPosition:Nnt,formatUrl:Mnt,getStylesFromArray:_E,generateId:Q9,random:Z9,runFunc:FRt,entityDecode:URt,insertTitle:WRt,isLabelCoordinateInPath:Pnt,parseFontSize:Ac,InitIDGenerator:qRt},Fnt=x(function(e){let t=e;return t=t.replace(/style.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),t=t.replace(/classDef.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),t=t.replace(/#\w+;/g,function(r){let n=r.substring(1,r.length-1);return/^\+?\d+$/.test(n)?"\uFB02\xB0\xB0"+n+"\xB6\xDF":"\uFB02\xB0"+n+"\xB6\xDF"}),t},"encodeEntities"),Is=x(function(e){return e.replace(//g,"&#").replace(//g,"&").replace(//g,";")},"decodeEntities"),Lc=x((e,t,{counter:r=0,prefix:n,suffix:a},i)=>i||`${n?`${n}_`:""}${e}_${t}_${r}${a?`_${a}`:""}`,"getEdgeId");x(Zi,"handleUndefinedAttr");x(Pnt,"isLabelCoordinateInPath")});var GRt,d1,eI,Bnt,TE=B(()=>{GRt=Object.freeze({left:0,top:0,width:16,height:16}),d1=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),eI=Object.freeze({...GRt,...d1}),Bnt=Object.freeze({...eI,body:"",hidden:!1})});var VRt,$nt,znt=B(()=>{TE();VRt=Object.freeze({width:null,height:null}),$nt=Object.freeze({...VRt,...d1})});var rI,EE,qnt=B(()=>{rI=(e,t,r,n="")=>{let a=e.split(":");if(e.slice(0,1)==="@"){if(a.length<2||a.length>3)return null;n=a.shift().slice(1)}if(a.length>3||!a.length)return null;if(a.length>1){let s=a.pop(),l=a.pop(),u={provider:a.length>0?a[0]:n,prefix:l,name:s};return t&&!EE(u)?null:u}let i=a[0],o=i.split("-");if(o.length>1){let s={provider:n,prefix:o.shift(),name:o.join("-")};return t&&!EE(s)?null:s}if(r&&n===""){let s={provider:n,prefix:"",name:i};return t&&!EE(s,r)?null:s}return null},EE=(e,t)=>e?!!((t&&e.prefix===""||e.prefix)&&e.name):!1});function Unt(e,t){let r={};!e.hFlip!=!t.hFlip&&(r.hFlip=!0),!e.vFlip!=!t.vFlip&&(r.vFlip=!0);let n=((e.rotate||0)+(t.rotate||0))%4;return n&&(r.rotate=n),r}var Wnt=B(()=>{});function nI(e,t){let r=Unt(e,t);for(let n in Bnt)n in d1?n in e&&!(n in r)&&(r[n]=d1[n]):n in t?r[n]=t[n]:n in e&&(r[n]=e[n]);return r}var Gnt=B(()=>{TE();Wnt()});function Vnt(e,t){let r=e.icons,n=e.aliases||Object.create(null),a=Object.create(null);function i(o){if(r[o])return a[o]=[];if(!(o in a)){a[o]=null;let s=n[o]&&n[o].parent,l=s&&i(s);l&&(a[o]=[s].concat(l))}return a[o]}return(t||Object.keys(r).concat(Object.keys(n))).forEach(i),a}var Hnt=B(()=>{});function Ynt(e,t,r){let n=e.icons,a=e.aliases||Object.create(null),i={};function o(s){i=nI(n[s]||a[s],i)}return o(t),r.forEach(o),nI(e,i)}function aI(e,t){if(e.icons[t])return Ynt(e,t,[]);let r=Vnt(e,[t])[t];return r?Ynt(e,t,r):null}var Xnt=B(()=>{Gnt();Hnt()});function iI(e,t,r){if(t===1)return e;if(r=r||100,typeof e=="number")return Math.ceil(e*t*r)/r;if(typeof e!="string")return e;let n=e.split(HRt);if(n===null||!n.length)return e;let a=[],i=n.shift(),o=YRt.test(i);for(;;){if(o){let s=parseFloat(i);isNaN(s)?a.push(i):a.push(Math.ceil(s*t*r)/r)}else a.push(i);if(i=n.shift(),i===void 0)return a.join("");o=!o}}var HRt,YRt,jnt=B(()=>{HRt=/(-?[0-9.]*[0-9]+[0-9.]*)/g,YRt=/^-?[0-9.]*[0-9]+[0-9.]*$/g});function XRt(e,t="defs"){let r="",n=e.indexOf("<"+t);for(;n>=0;){let a=e.indexOf(">",n),i=e.indexOf("</"+t);if(a===-1||i===-1)break;let o=e.indexOf(">",i);if(o===-1)break;r+=e.slice(a+1,i).trim(),e=e.slice(0,n).trim()+e.slice(o+1)}return{defs:r,content:e}}function jRt(e,t){return e?"<defs>"+e+"</defs>"+t:t}function Knt(e,t,r){let n=XRt(e);return jRt(n.defs,t+n.content+r)}var Qnt=B(()=>{});function oI(e,t){let r={...eI,...e},n={...$nt,...t},a={left:r.left,top:r.top,width:r.width,height:r.height},i=r.body;[r,n].forEach(g=>{let v=[],y=g.hFlip,b=g.vFlip,_=g.rotate;y?b?_+=2:(v.push("translate("+(a.width+a.left).toString()+" "+(0-a.top).toString()+")"),v.push("scale(-1 1)"),a.top=a.left=0):b&&(v.push("translate("+(0-a.left).toString()+" "+(a.height+a.top).toString()+")"),v.push("scale(1 -1)"),a.top=a.left=0);let k;switch(_<0&&(_-=Math.floor(_/4)*4),_=_%4,_){case 1:k=a.height/2+a.top,v.unshift("rotate(90 "+k.toString()+" "+k.toString()+")");break;case 2:v.unshift("rotate(180 "+(a.width/2+a.left).toString()+" "+(a.height/2+a.top).toString()+")");break;case 3:k=a.width/2+a.left,v.unshift("rotate(-90 "+k.toString()+" "+k.toString()+")");break}_%2===1&&(a.left!==a.top&&(k=a.left,a.left=a.top,a.top=k),a.width!==a.height&&(k=a.width,a.width=a.height,a.height=k)),v.length&&(i=Knt(i,'<g transform="'+v.join(" ")+'">',"</g>"))});let o=n.width,s=n.height,l=a.width,u=a.height,f,h;o===null?(h=s===null?"1em":s==="auto"?u:s,f=iI(h,l/u)):(f=o==="auto"?l:o,h=s===null?iI(f,u/l):s==="auto"?u:s);let d={},p=(g,v)=>{KRt(v)||(d[g]=v.toString())};p("width",f),p("height",h);let m=[a.left,a.top,l,u];return d.viewBox=m.join(" "),{attributes:d,viewBox:m,body:i}}var KRt,Znt=B(()=>{TE();znt();jnt();Qnt();KRt=e=>e==="unset"||e==="undefined"||e==="none"});function sI(e,t=ZRt){let r=[],n;for(;n=QRt.exec(e);)r.push(n[1]);if(!r.length)return e;let a="suffix"+(Math.random()*16777216|Date.now()).toString(16);return r.forEach(i=>{let o=typeof t=="function"?t(i):t+(JRt++).toString(),s=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+s+')([")]|\\.[a-z])',"g"),"$1"+o+a+"$3")}),e=e.replace(new RegExp(a,"g"),""),e}var QRt,ZRt,JRt,Jnt=B(()=>{QRt=/\sid="(\S+)"/g,ZRt="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16),JRt=0});function lI(e,t){let r=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(let n in t)r+=" "+n+'="'+t[n]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+r+">"+e+"</svg>"}var tat=B(()=>{});var eat=B(()=>{qnt();Xnt();Znt();Jnt();tat()});function hI(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}function lat(e){A0=e}function gn(e,t=""){let r=typeof e=="string"?e:e.source,n={replace:(a,i)=>{let o=typeof i=="string"?i:i.source;return o=o.replace(ts.caret,"$1"),r=r.replace(a,o),n},getRegex:()=>new RegExp(r,t)};return n}function Mc(e,t){if(t){if(ts.escapeTest.test(e))return e.replace(ts.escapeReplace,aat)}else if(ts.escapeTestNoEncode.test(e))return e.replace(ts.escapeReplaceNoEncode,aat);return e}function iat(e){try{e=encodeURI(e).replace(ts.percentDecode,"%")}catch{return null}return e}function oat(e,t){let r=e.replace(ts.findPipe,(i,o,s)=>{let l=!1,u=o;for(;--u>=0&&s[u]==="\\";)l=!l;return l?"|":" |"}),n=r.split(ts.splitPipe),a=0;if(n[0].trim()||n.shift(),n.length>0&&!n.at(-1)?.trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;a<n.length;a++)n[a]=n[a].trim().replace(ts.slashPipe,"|");return n}function Ib(e,t,r){let n=e.length;if(n===0)return"";let a=0;for(;a<n;){let i=e.charAt(n-a-1);if(i===t&&!r)a++;else if(i!==t&&r)a++;else break}return e.slice(0,n-a)}function RNt(e,t){if(e.indexOf(t[1])===-1)return-1;let r=0;for(let n=0;n<e.length;n++)if(e[n]==="\\")n++;else if(e[n]===t[0])r++;else if(e[n]===t[1]&&(r--,r<0))return n;return r>0?-2:-1}function sat(e,t,r,n,a){let i=t.href,o=t.title||null,s=e[1].replace(a.other.outputLinkReplace,"$1");n.state.inLink=!0;let l={type:e[0].charAt(0)==="!"?"image":"link",raw:r,href:i,title:o,text:s,tokens:n.inlineTokens(s)};return n.state.inLink=!1,l}function NNt(e,t,r){let n=e.match(r.other.indentCodeCompensation);if(n===null)return t;let a=n[1];return t.split(`
`).map(i=>{let o=i.match(r.other.beginningSpace);if(o===null)return i;let[s]=o;return s.length>=a.length?i.slice(a.length):i}).join(`
`)}function wn(e,t){return D0.parse(e,t)}var A0,Nb,ts,tNt,eNt,rNt,Ob,nNt,dI,uat,cat,aNt,pI,iNt,mI,oNt,sNt,AE,gI,lNt,fat,uNt,vI,rat,cNt,fNt,hNt,dNt,hat,pNt,LE,yI,dat,mNt,pat,gNt,vNt,yNt,mat,xNt,bNt,gat,_Nt,wNt,TNt,ENt,kNt,CNt,SNt,CE,DNt,vat,yat,ANt,nat,xI,LNt,uI,MNt,kE,Mb,INt,aat,SE,Lu,DE,bI,Mu,Rb,ONt,D0,N7e,O7e,F7e,P7e,B7e,$7e,z7e,xat=B(()=>{A0=hI();Nb={exec:()=>null};ts={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},tNt=/^(?:[ \t]*(?:\n|$))+/,eNt=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,rNt=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Ob=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,nNt=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,dI=/(?:[*+-]|\d{1,9}[.)])/,uat=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,cat=gn(uat).replace(/bull/g,dI).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),aNt=gn(uat).replace(/bull/g,dI).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),pI=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,iNt=/^[^\n]+/,mI=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,oNt=gn(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",mI).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),sNt=gn(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,dI).getRegex(),AE="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",gI=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,lNt=gn("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",gI).replace("tag",AE).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),fat=gn(pI).replace("hr",Ob).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",AE).getRegex(),uNt=gn(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",fat).getRegex(),vI={blockquote:uNt,code:eNt,def:oNt,fences:rNt,heading:nNt,hr:Ob,html:lNt,lheading:cat,list:sNt,newline:tNt,paragraph:fat,table:Nb,text:iNt},rat=gn("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Ob).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",AE).getRegex(),cNt={...vI,lheading:aNt,table:rat,paragraph:gn(pI).replace("hr",Ob).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",rat).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",AE).getRegex()},fNt={...vI,html:gn(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",gI).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Nb,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:gn(pI).replace("hr",Ob).replace("heading",` *#{1,6} *[^
]`).replace("lheading",cat).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},hNt=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,dNt=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,hat=/^( {2,}|\\)\n(?!\s*$)/,pNt=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,LE=/[\p{P}\p{S}]/u,yI=/[\s\p{P}\p{S}]/u,dat=/[^\s\p{P}\p{S}]/u,mNt=gn(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,yI).getRegex(),pat=/(?!~)[\p{P}\p{S}]/u,gNt=/(?!~)[\s\p{P}\p{S}]/u,vNt=/(?:[^\s\p{P}\p{S}]|~)/u,yNt=gn(/link|code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<!`)(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("code",/(?<!`)(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),mat=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,xNt=gn(mat,"u").replace(/punct/g,LE).getRegex(),bNt=gn(mat,"u").replace(/punct/g,pat).getRegex(),gat="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",_Nt=gn(gat,"gu").replace(/notPunctSpace/g,dat).replace(/punctSpace/g,yI).replace(/punct/g,LE).getRegex(),wNt=gn(gat,"gu").replace(/notPunctSpace/g,vNt).replace(/punctSpace/g,gNt).replace(/punct/g,pat).getRegex(),TNt=gn("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,dat).replace(/punctSpace/g,yI).replace(/punct/g,LE).getRegex(),ENt=gn(/\\(punct)/,"gu").replace(/punct/g,LE).getRegex(),kNt=gn(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),CNt=gn(gI).replace("(?:-->|$)","-->").getRegex(),SNt=gn("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",CNt).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),CE=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,DNt=gn(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",CE).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),vat=gn(/^!?\[(label)\]\[(ref)\]/).replace("label",CE).replace("ref",mI).getRegex(),yat=gn(/^!?\[(ref)\](?:\[\])?/).replace("ref",mI).getRegex(),ANt=gn("reflink|nolink(?!\\()","g").replace("reflink",vat).replace("nolink",yat).getRegex(),nat=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,xI={_backpedal:Nb,anyPunctuation:ENt,autolink:kNt,blockSkip:yNt,br:hat,code:dNt,del:Nb,emStrongLDelim:xNt,emStrongRDelimAst:_Nt,emStrongRDelimUnd:TNt,escape:hNt,link:DNt,nolink:yat,punctuation:mNt,reflink:vat,reflinkSearch:ANt,tag:SNt,text:pNt,url:Nb},LNt={...xI,link:gn(/^!?\[(label)\]\((.*?)\)/).replace("label",CE).getRegex(),reflink:gn(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",CE).getRegex()},uI={...xI,emStrongRDelimAst:wNt,emStrongLDelim:bNt,url:gn(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",nat).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:gn(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",nat).getRegex()},MNt={...uI,br:gn(hat).replace("{2,}","*").getRegex(),text:gn(uI.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},kE={normal:vI,gfm:cNt,pedantic:fNt},Mb={normal:xI,gfm:uI,breaks:MNt,pedantic:LNt},INt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},aat=e=>INt[e];SE=class{options;rules;lexer;constructor(e){this.options=e||A0}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let r=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Ib(r,`
`)}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let r=t[0],n=NNt(r,t[3]||"",this.rules);return{type:"code",raw:r,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:n}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let r=t[2].trim();if(this.rules.other.endingHash.test(r)){let n=Ib(r,"#");(this.options.pedantic||!n||this.rules.other.endingSpaceChar.test(n))&&(r=n.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:Ib(t[0],`
`)}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let r=Ib(t[0],`
`).split(`
`),n="",a="",i=[];for(;r.length>0;){let o=!1,s=[],l;for(l=0;l<r.length;l++)if(this.rules.other.blockquoteStart.test(r[l]))s.push(r[l]),o=!0;else if(!o)s.push(r[l]);else break;r=r.slice(l);let u=s.join(`
`),f=u.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}
${u}`:u,a=a?`${a}
${f}`:f;let h=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(f,i,!0),this.lexer.state.top=h,r.length===0)break;let d=i.at(-1);if(d?.type==="code")break;if(d?.type==="blockquote"){let p=d,m=p.raw+`
`+r.join(`
`),g=this.blockquote(m);i[i.length-1]=g,n=n.substring(0,n.length-p.raw.length)+g.raw,a=a.substring(0,a.length-p.text.length)+g.text;break}else if(d?.type==="list"){let p=d,m=p.raw+`
`+r.join(`
`),g=this.list(m);i[i.length-1]=g,n=n.substring(0,n.length-d.raw.length)+g.raw,a=a.substring(0,a.length-p.raw.length)+g.raw,r=m.substring(i.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:n,tokens:i,text:a}}}list(e){let t=this.rules.block.list.exec(e);if(t){let r=t[1].trim(),n=r.length>1,a={type:"list",raw:"",ordered:n,start:n?+r.slice(0,-1):"",loose:!1,items:[]};r=n?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=n?r:"[*+-]");let i=this.rules.other.listItemRegex(r),o=!1;for(;e;){let l=!1,u="",f="";if(!(t=i.exec(e))||this.rules.block.hr.test(e))break;u=t[0],e=e.substring(u.length);let h=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,y=>" ".repeat(3*y.length)),d=e.split(`
`,1)[0],p=!h.trim(),m=0;if(this.options.pedantic?(m=2,f=h.trimStart()):p?m=t[1].length+1:(m=t[2].search(this.rules.other.nonSpaceChar),m=m>4?1:m,f=h.slice(m),m+=t[1].length),p&&this.rules.other.blankLine.test(d)&&(u+=d+`
`,e=e.substring(d.length+1),l=!0),!l){let y=this.rules.other.nextBulletRegex(m),b=this.rules.other.hrRegex(m),_=this.rules.other.fencesBeginRegex(m),k=this.rules.other.headingBeginRegex(m),w=this.rules.other.htmlBeginRegex(m);for(;e;){let T=e.split(`
`,1)[0],S;if(d=T,this.options.pedantic?(d=d.replace(this.rules.other.listReplaceNesting,"  "),S=d):S=d.replace(this.rules.other.tabCharGlobal,"    "),_.test(d)||k.test(d)||w.test(d)||y.test(d)||b.test(d))break;if(S.search(this.rules.other.nonSpaceChar)>=m||!d.trim())f+=`
`+S.slice(m);else{if(p||h.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||_.test(h)||k.test(h)||b.test(h))break;f+=`
`+d}!p&&!d.trim()&&(p=!0),u+=T+`
`,e=e.substring(T.length+1),h=S.slice(m)}}a.loose||(o?a.loose=!0:this.rules.other.doubleBlankLine.test(u)&&(o=!0));let g=null,v;this.options.gfm&&(g=this.rules.other.listIsTask.exec(f),g&&(v=g[0]!=="[ ] ",f=f.replace(this.rules.other.listReplaceTask,""))),a.items.push({type:"list_item",raw:u,task:!!g,checked:v,loose:!1,text:f,tokens:[]}),a.raw+=u}let s=a.items.at(-1);if(s)s.raw=s.raw.trimEnd(),s.text=s.text.trimEnd();else return;a.raw=a.raw.trimEnd();for(let l=0;l<a.items.length;l++)if(this.lexer.state.top=!1,a.items[l].tokens=this.lexer.blockTokens(a.items[l].text,[]),!a.loose){let u=a.items[l].tokens.filter(h=>h.type==="space"),f=u.length>0&&u.some(h=>this.rules.other.anyLine.test(h.raw));a.loose=f}if(a.loose)for(let l=0;l<a.items.length;l++)a.items[l].loose=!0;return a}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let r=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",a=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:r,raw:t[0],href:n,title:a}}}table(e){let t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;let r=oat(t[1]),n=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),a=t[3]?.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],i={type:"table",raw:t[0],header:[],align:[],rows:[]};if(r.length===n.length){for(let o of n)this.rules.other.tableAlignRight.test(o)?i.align.push("right"):this.rules.other.tableAlignCenter.test(o)?i.align.push("center"):this.rules.other.tableAlignLeft.test(o)?i.align.push("left"):i.align.push(null);for(let o=0;o<r.length;o++)i.header.push({text:r[o],tokens:this.lexer.inline(r[o]),header:!0,align:i.align[o]});for(let o of a)i.rows.push(oat(o,i.header.length).map((s,l)=>({text:s,tokens:this.lexer.inline(s),header:!1,align:i.align[l]})));return i}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let r=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:r,tokens:this.lexer.inline(r)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let r=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(r)){if(!this.rules.other.endAngleBracket.test(r))return;let i=Ib(r.slice(0,-1),"\\");if((r.length-i.length)%2===0)return}else{let i=RNt(t[2],"()");if(i===-2)return;if(i>-1){let o=(t[0].indexOf("!")===0?5:4)+t[1].length+i;t[2]=t[2].substring(0,i),t[0]=t[0].substring(0,o).trim(),t[3]=""}}let n=t[2],a="";if(this.options.pedantic){let i=this.rules.other.pedanticHrefTitle.exec(n);i&&(n=i[1],a=i[3])}else a=t[3]?t[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(r)?n=n.slice(1):n=n.slice(1,-1)),sat(t,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:a&&a.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let n=(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," "),a=t[n.toLowerCase()];if(!a){let i=r[0].charAt(0);return{type:"text",raw:i,text:i}}return sat(r,a,r[0],this.lexer,this.rules)}}emStrong(e,t,r=""){let n=this.rules.inline.emStrongLDelim.exec(e);if(!(!n||n[3]&&r.match(this.rules.other.unicodeAlphaNumeric))&&(!(n[1]||n[2])||!r||this.rules.inline.punctuation.exec(r))){let a=[...n[0]].length-1,i,o,s=a,l=0,u=n[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(u.lastIndex=0,t=t.slice(-1*e.length+a);(n=u.exec(t))!=null;){if(i=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!i)continue;if(o=[...i].length,n[3]||n[4]){s+=o;continue}else if((n[5]||n[6])&&a%3&&!((a+o)%3)){l+=o;continue}if(s-=o,s>0)continue;o=Math.min(o,o+s+l);let f=[...n[0]][0].length,h=e.slice(0,a+n.index+f+o);if(Math.min(a,o)%2){let p=h.slice(1,-1);return{type:"em",raw:h,text:p,tokens:this.lexer.inlineTokens(p)}}let d=h.slice(2,-2);return{type:"strong",raw:h,text:d,tokens:this.lexer.inlineTokens(d)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let r=t[2].replace(this.rules.other.newLineCharGlobal," "),n=this.rules.other.nonSpaceChar.test(r),a=this.rules.other.startingSpaceChar.test(r)&&this.rules.other.endingSpaceChar.test(r);return n&&a&&(r=r.substring(1,r.length-1)),{type:"codespan",raw:t[0],text:r}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let r,n;return t[2]==="@"?(r=t[1],n="mailto:"+r):(r=t[1],n=r),{type:"link",raw:t[0],text:r,href:n,tokens:[{type:"text",raw:r,text:r}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let r,n;if(t[2]==="@")r=t[0],n="mailto:"+r;else{let a;do a=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??"";while(a!==t[0]);r=t[0],t[1]==="www."?n="http://"+t[0]:n=t[0]}return{type:"link",raw:t[0],text:r,href:n,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t){let r=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:r}}}},Lu=class cI{tokens;options;state;tokenizer;inlineQueue;constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||A0,this.options.tokenizer=this.options.tokenizer||new SE,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let r={other:ts,block:kE.normal,inline:Mb.normal};this.options.pedantic?(r.block=kE.pedantic,r.inline=Mb.pedantic):this.options.gfm&&(r.block=kE.gfm,this.options.breaks?r.inline=Mb.breaks:r.inline=Mb.gfm),this.tokenizer.rules=r}static get rules(){return{block:kE,inline:Mb}}static lex(t,r){return new cI(r).lex(t)}static lexInline(t,r){return new cI(r).inlineTokens(t)}lex(t){t=t.replace(ts.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){let n=this.inlineQueue[r];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,r=[],n=!1){for(this.options.pedantic&&(t=t.replace(ts.tabCharGlobal,"    ").replace(ts.spaceLine,""));t;){let a;if(this.options.extensions?.block?.some(o=>(a=o.call({lexer:this},t,r))?(t=t.substring(a.raw.length),r.push(a),!0):!1))continue;if(a=this.tokenizer.space(t)){t=t.substring(a.raw.length);let o=r.at(-1);a.raw.length===1&&o!==void 0?o.raw+=`
`:r.push(a);continue}if(a=this.tokenizer.code(t)){t=t.substring(a.raw.length);let o=r.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+a.raw,o.text+=`
`+a.text,this.inlineQueue.at(-1).src=o.text):r.push(a);continue}if(a=this.tokenizer.fences(t)){t=t.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.heading(t)){t=t.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.hr(t)){t=t.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.blockquote(t)){t=t.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.list(t)){t=t.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.html(t)){t=t.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.def(t)){t=t.substring(a.raw.length);let o=r.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+a.raw,o.text+=`
`+a.raw,this.inlineQueue.at(-1).src=o.text):this.tokens.links[a.tag]||(this.tokens.links[a.tag]={href:a.href,title:a.title},r.push(a));continue}if(a=this.tokenizer.table(t)){t=t.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.lheading(t)){t=t.substring(a.raw.length),r.push(a);continue}let i=t;if(this.options.extensions?.startBlock){let o=1/0,s=t.slice(1),l;this.options.extensions.startBlock.forEach(u=>{l=u.call({lexer:this},s),typeof l=="number"&&l>=0&&(o=Math.min(o,l))}),o<1/0&&o>=0&&(i=t.substring(0,o+1))}if(this.state.top&&(a=this.tokenizer.paragraph(i))){let o=r.at(-1);n&&o?.type==="paragraph"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+a.raw,o.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):r.push(a),n=i.length!==t.length,t=t.substring(a.raw.length);continue}if(a=this.tokenizer.text(t)){t=t.substring(a.raw.length);let o=r.at(-1);o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+a.raw,o.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):r.push(a);continue}if(t){let o="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,r}inline(t,r=[]){return this.inlineQueue.push({src:t,tokens:r}),r}inlineTokens(t,r=[]){let n=t,a=null;if(this.tokens.links){let s=Object.keys(this.tokens.links);if(s.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)s.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,a.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(a=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)n=n.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);n=this.options.hooks?.emStrongMask?.call({lexer:this},n)??n;let i=!1,o="";for(;t;){i||(o=""),i=!1;let s;if(this.options.extensions?.inline?.some(u=>(s=u.call({lexer:this},t,r))?(t=t.substring(s.raw.length),r.push(s),!0):!1))continue;if(s=this.tokenizer.escape(t)){t=t.substring(s.raw.length),r.push(s);continue}if(s=this.tokenizer.tag(t)){t=t.substring(s.raw.length),r.push(s);continue}if(s=this.tokenizer.link(t)){t=t.substring(s.raw.length),r.push(s);continue}if(s=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(s.raw.length);let u=r.at(-1);s.type==="text"&&u?.type==="text"?(u.raw+=s.raw,u.text+=s.text):r.push(s);continue}if(s=this.tokenizer.emStrong(t,n,o)){t=t.substring(s.raw.length),r.push(s);continue}if(s=this.tokenizer.codespan(t)){t=t.substring(s.raw.length),r.push(s);continue}if(s=this.tokenizer.br(t)){t=t.substring(s.raw.length),r.push(s);continue}if(s=this.tokenizer.del(t)){t=t.substring(s.raw.length),r.push(s);continue}if(s=this.tokenizer.autolink(t)){t=t.substring(s.raw.length),r.push(s);continue}if(!this.state.inLink&&(s=this.tokenizer.url(t))){t=t.substring(s.raw.length),r.push(s);continue}let l=t;if(this.options.extensions?.startInline){let u=1/0,f=t.slice(1),h;this.options.extensions.startInline.forEach(d=>{h=d.call({lexer:this},f),typeof h=="number"&&h>=0&&(u=Math.min(u,h))}),u<1/0&&u>=0&&(l=t.substring(0,u+1))}if(s=this.tokenizer.inlineText(l)){t=t.substring(s.raw.length),s.raw.slice(-1)!=="_"&&(o=s.raw.slice(-1)),i=!0;let u=r.at(-1);u?.type==="text"?(u.raw+=s.raw,u.text+=s.text):r.push(s);continue}if(t){let u="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return r}},DE=class{options;parser;constructor(e){this.options=e||A0}space(e){return""}code({text:e,lang:t,escaped:r}){let n=(t||"").match(ts.notSpaceStart)?.[0],a=e.replace(ts.endingNewline,"")+`
`;return n?'<pre><code class="language-'+Mc(n)+'">'+(r?a:Mc(a,!0))+`</code></pre>
`:"<pre><code>"+(r?a:Mc(a,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){let t=e.ordered,r=e.start,n="";for(let o=0;o<e.items.length;o++){let s=e.items[o];n+=this.listitem(s)}let a=t?"ol":"ul",i=t&&r!==1?' start="'+r+'"':"";return"<"+a+i+`>
`+n+"</"+a+`>
`}listitem(e){let t="";if(e.task){let r=this.checkbox({checked:!!e.checked});e.loose?e.tokens[0]?.type==="paragraph"?(e.tokens[0].text=r+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=r+" "+Mc(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:r+" ",text:r+" ",escaped:!0}):t+=r+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",r="";for(let a=0;a<e.header.length;a++)r+=this.tablecell(e.header[a]);t+=this.tablerow({text:r});let n="";for(let a=0;a<e.rows.length;a++){let i=e.rows[a];r="";for(let o=0;o<i.length;o++)r+=this.tablecell(i[o]);n+=this.tablerow({text:r})}return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+n+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){let t=this.parser.parseInline(e.tokens),r=e.header?"th":"td";return(e.align?`<${r} align="${e.align}">`:`<${r}>`)+t+`</${r}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${Mc(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:r}){let n=this.parser.parseInline(r),a=iat(e);if(a===null)return n;e=a;let i='<a href="'+e+'"';return t&&(i+=' title="'+Mc(t)+'"'),i+=">"+n+"</a>",i}image({href:e,title:t,text:r,tokens:n}){n&&(r=this.parser.parseInline(n,this.parser.textRenderer));let a=iat(e);if(a===null)return Mc(r);e=a;let i=`<img src="${e}" alt="${r}"`;return t&&(i+=` title="${Mc(t)}"`),i+=">",i}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:Mc(e.text)}},bI=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},Mu=class fI{options;renderer;textRenderer;constructor(t){this.options=t||A0,this.options.renderer=this.options.renderer||new DE,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new bI}static parse(t,r){return new fI(r).parse(t)}static parseInline(t,r){return new fI(r).parseInline(t)}parse(t,r=!0){let n="";for(let a=0;a<t.length;a++){let i=t[a];if(this.options.extensions?.renderers?.[i.type]){let s=i,l=this.options.extensions.renderers[s.type].call({parser:this},s);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(s.type)){n+=l||"";continue}}let o=i;switch(o.type){case"space":{n+=this.renderer.space(o);continue}case"hr":{n+=this.renderer.hr(o);continue}case"heading":{n+=this.renderer.heading(o);continue}case"code":{n+=this.renderer.code(o);continue}case"table":{n+=this.renderer.table(o);continue}case"blockquote":{n+=this.renderer.blockquote(o);continue}case"list":{n+=this.renderer.list(o);continue}case"html":{n+=this.renderer.html(o);continue}case"def":{n+=this.renderer.def(o);continue}case"paragraph":{n+=this.renderer.paragraph(o);continue}case"text":{let s=o,l=this.renderer.text(s);for(;a+1<t.length&&t[a+1].type==="text";)s=t[++a],l+=`
`+this.renderer.text(s);r?n+=this.renderer.paragraph({type:"paragraph",raw:l,text:l,tokens:[{type:"text",raw:l,text:l,escaped:!0}]}):n+=l;continue}default:{let s='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return n}parseInline(t,r=this.renderer){let n="";for(let a=0;a<t.length;a++){let i=t[a];if(this.options.extensions?.renderers?.[i.type]){let s=this.options.extensions.renderers[i.type].call({parser:this},i);if(s!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){n+=s||"";continue}}let o=i;switch(o.type){case"escape":{n+=r.text(o);break}case"html":{n+=r.html(o);break}case"link":{n+=r.link(o);break}case"image":{n+=r.image(o);break}case"strong":{n+=r.strong(o);break}case"em":{n+=r.em(o);break}case"codespan":{n+=r.codespan(o);break}case"br":{n+=r.br(o);break}case"del":{n+=r.del(o);break}case"text":{n+=r.text(o);break}default:{let s='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return n}},Rb=class{options;block;constructor(e){this.options=e||A0}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?Lu.lex:Lu.lexInline}provideParser(){return this.block?Mu.parse:Mu.parseInline}},ONt=class{defaults=hI();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=Mu;Renderer=DE;TextRenderer=bI;Lexer=Lu;Tokenizer=SE;Hooks=Rb;constructor(...e){this.use(...e)}walkTokens(e,t){let r=[];for(let n of e)switch(r=r.concat(t.call(this,n)),n.type){case"table":{let a=n;for(let i of a.header)r=r.concat(this.walkTokens(i.tokens,t));for(let i of a.rows)for(let o of i)r=r.concat(this.walkTokens(o.tokens,t));break}case"list":{let a=n;r=r.concat(this.walkTokens(a.items,t));break}default:{let a=n;this.defaults.extensions?.childTokens?.[a.type]?this.defaults.extensions.childTokens[a.type].forEach(i=>{let o=a[i].flat(1/0);r=r.concat(this.walkTokens(o,t))}):a.tokens&&(r=r.concat(this.walkTokens(a.tokens,t)))}}return r}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{let n={...r};if(n.async=this.defaults.async||n.async||!1,r.extensions&&(r.extensions.forEach(a=>{if(!a.name)throw new Error("extension name required");if("renderer"in a){let i=t.renderers[a.name];i?t.renderers[a.name]=function(...o){let s=a.renderer.apply(this,o);return s===!1&&(s=i.apply(this,o)),s}:t.renderers[a.name]=a.renderer}if("tokenizer"in a){if(!a.level||a.level!=="block"&&a.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let i=t[a.level];i?i.unshift(a.tokenizer):t[a.level]=[a.tokenizer],a.start&&(a.level==="block"?t.startBlock?t.startBlock.push(a.start):t.startBlock=[a.start]:a.level==="inline"&&(t.startInline?t.startInline.push(a.start):t.startInline=[a.start]))}"childTokens"in a&&a.childTokens&&(t.childTokens[a.name]=a.childTokens)}),n.extensions=t),r.renderer){let a=this.defaults.renderer||new DE(this.defaults);for(let i in r.renderer){if(!(i in a))throw new Error(`renderer '${i}' does not exist`);if(["options","parser"].includes(i))continue;let o=i,s=r.renderer[o],l=a[o];a[o]=(...u)=>{let f=s.apply(a,u);return f===!1&&(f=l.apply(a,u)),f||""}}n.renderer=a}if(r.tokenizer){let a=this.defaults.tokenizer||new SE(this.defaults);for(let i in r.tokenizer){if(!(i in a))throw new Error(`tokenizer '${i}' does not exist`);if(["options","rules","lexer"].includes(i))continue;let o=i,s=r.tokenizer[o],l=a[o];a[o]=(...u)=>{let f=s.apply(a,u);return f===!1&&(f=l.apply(a,u)),f}}n.tokenizer=a}if(r.hooks){let a=this.defaults.hooks||new Rb;for(let i in r.hooks){if(!(i in a))throw new Error(`hook '${i}' does not exist`);if(["options","block"].includes(i))continue;let o=i,s=r.hooks[o],l=a[o];Rb.passThroughHooks.has(i)?a[o]=u=>{if(this.defaults.async&&Rb.passThroughHooksRespectAsync.has(i))return(async()=>{let h=await s.call(a,u);return l.call(a,h)})();let f=s.call(a,u);return l.call(a,f)}:a[o]=(...u)=>{if(this.defaults.async)return(async()=>{let h=await s.apply(a,u);return h===!1&&(h=await l.apply(a,u)),h})();let f=s.apply(a,u);return f===!1&&(f=l.apply(a,u)),f}}n.hooks=a}if(r.walkTokens){let a=this.defaults.walkTokens,i=r.walkTokens;n.walkTokens=function(o){let s=[];return s.push(i.call(this,o)),a&&(s=s.concat(a.call(this,o))),s}}this.defaults={...this.defaults,...n}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return Lu.lex(e,t??this.defaults)}parser(e,t){return Mu.parse(e,t??this.defaults)}parseMarkdown(e){return(t,r)=>{let n={...r},a={...this.defaults,...n},i=this.onError(!!a.silent,!!a.async);if(this.defaults.async===!0&&n.async===!1)return i(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||t===null)return i(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return i(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(a.hooks&&(a.hooks.options=a,a.hooks.block=e),a.async)return(async()=>{let o=a.hooks?await a.hooks.preprocess(t):t,s=await(a.hooks?await a.hooks.provideLexer():e?Lu.lex:Lu.lexInline)(o,a),l=a.hooks?await a.hooks.processAllTokens(s):s;a.walkTokens&&await Promise.all(this.walkTokens(l,a.walkTokens));let u=await(a.hooks?await a.hooks.provideParser():e?Mu.parse:Mu.parseInline)(l,a);return a.hooks?await a.hooks.postprocess(u):u})().catch(i);try{a.hooks&&(t=a.hooks.preprocess(t));let o=(a.hooks?a.hooks.provideLexer():e?Lu.lex:Lu.lexInline)(t,a);a.hooks&&(o=a.hooks.processAllTokens(o)),a.walkTokens&&this.walkTokens(o,a.walkTokens);let s=(a.hooks?a.hooks.provideParser():e?Mu.parse:Mu.parseInline)(o,a);return a.hooks&&(s=a.hooks.postprocess(s)),s}catch(o){return i(o)}}}onError(e,t){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let n="<p>An error occurred:</p><pre>"+Mc(r.message+"",!0)+"</pre>";return t?Promise.resolve(n):n}if(t)return Promise.reject(r);throw r}}},D0=new ONt;wn.options=wn.setOptions=function(e){return D0.setOptions(e),wn.defaults=D0.defaults,lat(wn.defaults),wn};wn.getDefaults=hI;wn.defaults=A0;wn.use=function(...e){return D0.use(...e),wn.defaults=D0.defaults,lat(wn.defaults),wn};wn.walkTokens=function(e,t){return D0.walkTokens(e,t)};wn.parseInline=D0.parseInline;wn.Parser=Mu;wn.parser=Mu.parse;wn.Renderer=DE;wn.TextRenderer=bI;wn.Lexer=Lu;wn.lexer=Lu.lex;wn.Tokenizer=SE;wn.Hooks=Rb;wn.parse=wn;N7e=wn.options,O7e=wn.setOptions,F7e=wn.use,P7e=wn.walkTokens,B7e=wn.parseInline,$7e=Mu.parse,z7e=Lu.lex});function ME(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=Array.from(typeof e=="string"?[e]:e);n[n.length-1]=n[n.length-1].replace(/\r?\n([\t ]*)$/,"");var a=n.reduce(function(s,l){var u=l.match(/\n([\t ]+|(?!\s).)/g);return u?s.concat(u.map(function(f){var h,d;return(d=(h=f.match(/[\t ]/g))===null||h===void 0?void 0:h.length)!==null&&d!==void 0?d:0})):s},[]);if(a.length){var i=new RegExp(`
[	 ]{`+Math.min.apply(Math,a)+"}","g");n=n.map(function(s){return s.replace(i,`
`)})}n[0]=n[0].replace(/^\r?\n/,"");var o=n[0];return t.forEach(function(s,l){var u=o.match(/(?:^|\n)( *)$/),f=u?u[1]:"",h=s;typeof s=="string"&&s.includes(`
`)&&(h=String(s).split(`
`).map(function(d,p){return p===0?d:""+f+d}).join(`
`)),o+=h+n[l+1]}),o}var _I=B(()=>{});function wat(e,{markdownAutoWrap:t}){let n=e.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),a=ME(n);return t===!1?a.replace(/ /g,"&nbsp;"):a}function Tat(e,t={}){let r=wat(e,t),n=wn.lexer(r),a=[[]],i=0;function o(s,l="normal"){s.type==="text"?s.text.split(`
`).forEach((f,h)=>{h!==0&&(i++,a.push([])),f.split(" ").forEach(d=>{d=d.replace(/&#39;/g,"'"),d&&a[i].push({content:d,type:l})})}):s.type==="strong"||s.type==="em"?s.tokens.forEach(u=>{o(u,s.type)}):s.type==="html"&&a[i].push({content:s.text,type:"normal"})}return x(o,"processNode"),n.forEach(s=>{s.type==="paragraph"?s.tokens?.forEach(l=>{o(l)}):s.type==="html"?a[i].push({content:s.text,type:"normal"}):a[i].push({content:s.raw,type:"normal"})}),a}function Eat(e,{markdownAutoWrap:t}={}){let r=wn.lexer(e);function n(a){return a.type==="text"?t===!1?a.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):a.text.replace(/\n */g,"<br/>"):a.type==="strong"?`<strong>${a.tokens?.map(n).join("")}</strong>`:a.type==="em"?`<em>${a.tokens?.map(n).join("")}</em>`:a.type==="paragraph"?`<p>${a.tokens?.map(n).join("")}</p>`:a.type==="space"?"":a.type==="html"?`${a.text}`:a.type==="escape"?a.text:(J.warn(`Unsupported markdown: ${a.type}`),a.raw)}return x(n,"output"),r.map(n).join("")}function kat(e){return Intl.Segmenter?[...new Intl.Segmenter().segment(e)].map(t=>t.segment):[...e]}function Cat(e,t){let r=kat(t.content);return kI(e,[],r,t.type)}function kI(e,t,r,n){if(r.length===0)return[{content:t.join(""),type:n},{content:"",type:n}];let[a,...i]=r,o=[...t,a];return e([{content:o.join(""),type:n}])?kI(e,o,i,n):(t.length===0&&a&&(t.push(a),r.shift()),[{content:t.join(""),type:n},{content:r.join(""),type:n}])}function Sat(e,t){if(e.some(({content:r})=>r.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return IE(e,t)}function IE(e,t,r=[],n=[]){if(e.length===0)return n.length>0&&r.push(n),r.length>0?r:[];let a="";e[0].content===" "&&(a=" ",e.shift());let i=e.shift()??{content:" ",type:"normal"},o=[...n];if(a!==""&&o.push({content:a,type:"normal"}),o.push(i),t(o))return IE(e,t,r,o);if(n.length>0)r.push(n),e.unshift(i);else if(i.content){let[s,l]=Cat(t,i);r.push([s]),l.content&&e.unshift(l)}return IE(e,t,r)}function TI(e,t){t&&e.attr("style",t)}async function Dat(e,t,r,n,a=!1,i=ur()){let o=e.append("foreignObject");o.attr("width",`${10*r}px`),o.attr("height",`${10*r}px`);let s=o.append("xhtml:div"),l=ca(t.label)?await jh(t.label.replace(Jt.lineBreakRegex,`
`),i):sr(t.label,i),u=t.isNode?"nodeLabel":"edgeLabel",f=s.append("span");f.html(l),TI(f,t.labelStyle),f.attr("class",`${u} ${n}`),TI(s,t.labelStyle),s.style("display","table-cell"),s.style("white-space","nowrap"),s.style("line-height","1.5"),s.style("max-width",r+"px"),s.style("text-align","center"),s.attr("xmlns","http://www.w3.org/1999/xhtml"),a&&s.attr("class","labelBkg");let h=s.node().getBoundingClientRect();return h.width===r&&(s.style("display","table"),s.style("white-space","break-spaces"),s.style("width",r+"px"),h=s.node().getBoundingClientRect()),o.node()}function NE(e,t,r){return e.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",t*r-.1+"em").attr("dy",r+"em")}function Aat(e,t,r){let n=e.append("text"),a=NE(n,1,t);OE(a,r);let i=a.node().getComputedTextLength();return n.remove(),i}function CI(e,t,r){let n=e.append("text"),a=NE(n,1,t);OE(a,[{content:r,type:"normal"}]);let i=a.node()?.getBoundingClientRect();return i&&n.remove(),i}function Lat(e,t,r,n=!1){let i=t.append("g"),o=i.insert("rect").attr("class","background").attr("style","stroke: none"),s=i.append("text").attr("y","-10.1"),l=0;for(let u of r){let f=x(d=>Aat(i,1.1,d)<=e,"checkWidth"),h=f(u)?[u]:Sat(u,f);for(let d of h){let p=NE(s,l,1.1);OE(p,d),l++}}if(n){let u=s.node().getBBox(),f=2;return o.attr("x",u.x-f).attr("y",u.y-f).attr("width",u.width+2*f).attr("height",u.height+2*f),i.node()}else return s.node()}function OE(e,t){e.text(""),t.forEach((r,n)=>{let a=e.append("tspan").attr("font-style",r.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",r.type==="strong"?"bold":"normal");n===0?a.text(r.content):a.text(" "+r.content)})}async function FE(e,t={}){let r=[];e.replace(/(fa[bklrs]?):fa-([\w-]+)/g,(a,i,o)=>(r.push((async()=>{let s=`${i}:${o}`;return await FNt(s)?await Ic(s,void 0,{class:"label-icon"}):`<i class='${sr(a,t).replace(":"," ")}'></i>`})()),a));let n=await Promise.all(r);return e.replace(/(fa[bklrs]?):fa-([\w-]+)/g,()=>n.shift()??"")}var EI,wI,bat,RE,_at,FNt,Ic,Ji,to=B(()=>{On();Tr();nr();eat();hr();xat();_I();EI={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},wI=new Map,bat=new Map,RE=x(e=>{for(let t of e){if(!t.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(J.debug("Registering icon pack:",t.name),"loader"in t)bat.set(t.name,t.loader);else if("icons"in t)wI.set(t.name,t.icons);else throw J.error("Invalid icon loader:",t),new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),_at=x(async(e,t)=>{let r=rI(e,!0,t!==void 0);if(!r)throw new Error(`Invalid icon name: ${e}`);let n=r.prefix||t;if(!n)throw new Error(`Icon name must contain a prefix: ${e}`);let a=wI.get(n);if(!a){let o=bat.get(n);if(!o)throw new Error(`Icon set not found: ${r.prefix}`);try{a={...await o(),prefix:n},wI.set(n,a)}catch(s){throw J.error(s),new Error(`Failed to load icon set: ${r.prefix}`)}}let i=aI(a,r.name);if(!i)throw new Error(`Icon not found: ${e}`);return i},"getRegisteredIconData"),FNt=x(async e=>{try{return await _at(e),!0}catch{return!1}},"isIconAvailable"),Ic=x(async(e,t,r)=>{let n;try{n=await _at(e,t?.fallbackPrefix)}catch(o){J.error(o),n=EI}let a=oI(n,t),i=lI(sI(a.body),{...a.attributes,...r});return sr(i,ur())},"getIconSVG");x(wat,"preprocessMarkdown");x(Tat,"markdownToLines");x(Eat,"markdownToHTML");x(kat,"splitTextToChars");x(Cat,"splitWordToFitWidth");x(kI,"splitWordToFitWidthRecursion");x(Sat,"splitLineToFitWidth");x(IE,"splitLineToFitWidthRecursion");x(TI,"applyStyle");x(Dat,"addHtmlSpan");x(NE,"createTspan");x(Aat,"computeWidthOfText");x(CI,"computeDimensionOfText");x(Lat,"createFormattedText");x(OE,"updateTextContentAndStyles");x(FE,"replaceIconSubstring");Ji=x(async(e,t="",{style:r="",isTitle:n=!1,classes:a="",useHtmlLabels:i=!0,isNode:o=!0,width:s=200,addSvgBackground:l=!1}={},u)=>{if(J.debug("XYZ createText",t,r,n,a,i,o,"addSvgBackground: ",l),i){let f=Eat(t,u),h=await FE(Is(f),u),d=t.replace(/\\\\/g,"\\"),p={isNode:o,label:ca(t)?d:h,labelStyle:r.replace("fill:","color:")};return await Dat(e,p,s,a,l,u)}else{let f=t.replace(/<br\s*\/?>/g,"<br/>"),h=Tat(f.replace("<br>","<br/>"),u),d=Lat(s,e,h,t?l:!1);if(o){/stroke:/.exec(r)&&(r=r.replace("stroke:","lineColor:"));let p=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");Vt(d).attr("style",p)}else{let p=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");Vt(d).select("rect").attr("style",p.replace(/background:/g,"fill:"));let m=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");Vt(d).select("text").attr("style",m)}return d}},"createText")});function SI(e,t,r){if(e&&e.length){let[n,a]=t,i=Math.PI/180*r,o=Math.cos(i),s=Math.sin(i);for(let l of e){let[u,f]=l;l[0]=(u-n)*o-(f-a)*s+n,l[1]=(u-n)*s+(f-a)*o+a}}}function PNt(e,t){return e[0]===t[0]&&e[1]===t[1]}function BNt(e,t,r,n=1){let a=r,i=Math.max(t,.1),o=e[0]&&e[0][0]&&typeof e[0][0]=="number"?[e]:e,s=[0,0];if(a)for(let u of o)SI(u,s,a);let l=function(u,f,h){let d=[];for(let b of u){let _=[...b];PNt(_[0],_[_.length-1])||_.push([_[0][0],_[0][1]]),_.length>2&&d.push(_)}let p=[];f=Math.max(f,.1);let m=[];for(let b of d)for(let _=0;_<b.length-1;_++){let k=b[_],w=b[_+1];if(k[1]!==w[1]){let T=Math.min(k[1],w[1]);m.push({ymin:T,ymax:Math.max(k[1],w[1]),x:T===k[1]?k[0]:w[0],islope:(w[0]-k[0])/(w[1]-k[1])})}}if(m.sort((b,_)=>b.ymin<_.ymin?-1:b.ymin>_.ymin?1:b.x<_.x?-1:b.x>_.x?1:b.ymax===_.ymax?0:(b.ymax-_.ymax)/Math.abs(b.ymax-_.ymax)),!m.length)return p;let g=[],v=m[0].ymin,y=0;for(;g.length||m.length;){if(m.length){let b=-1;for(let _=0;_<m.length&&!(m[_].ymin>v);_++)b=_;m.splice(0,b+1).forEach(_=>{g.push({s:v,edge:_})})}if(g=g.filter(b=>!(b.edge.ymax<=v)),g.sort((b,_)=>b.edge.x===_.edge.x?0:(b.edge.x-_.edge.x)/Math.abs(b.edge.x-_.edge.x)),(h!==1||y%f==0)&&g.length>1)for(let b=0;b<g.length;b+=2){let _=b+1;if(_>=g.length)break;let k=g[b].edge,w=g[_].edge;p.push([[Math.round(k.x),v],[Math.round(w.x),v]])}v+=h,g.forEach(b=>{b.edge.x=b.edge.x+h*b.edge.islope}),y++}return p}(o,i,n);if(a){for(let u of o)SI(u,s,-a);(function(u,f,h){let d=[];u.forEach(p=>d.push(...p)),SI(d,f,h)})(l,s,-a)}return l}function $b(e,t){var r;let n=t.hachureAngle+90,a=t.hachureGap;a<0&&(a=4*t.strokeWidth),a=Math.round(Math.max(a,.1));let i=1;return t.roughness>=1&&(((r=t.randomizer)===null||r===void 0?void 0:r.next())||Math.random())>.7&&(i=a),BNt(e,a,n,i||1)}function VE(e){let t=e[0],r=e[1];return Math.sqrt(Math.pow(t[0]-r[0],2)+Math.pow(t[1]-r[1],2))}function AI(e,t){return e.type===t}function WI(e){let t=[],r=function(o){let s=new Array;for(;o!=="";)if(o.match(/^([ \t\r\n,]+)/))o=o.substr(RegExp.$1.length);else if(o.match(/^([aAcChHlLmMqQsStTvVzZ])/))s[s.length]={type:$Nt,text:RegExp.$1},o=o.substr(RegExp.$1.length);else{if(!o.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];s[s.length]={type:DI,text:`${parseFloat(RegExp.$1)}`},o=o.substr(RegExp.$1.length)}return s[s.length]={type:Mat,text:""},s}(e),n="BOD",a=0,i=r[a];for(;!AI(i,Mat);){let o=0,s=[];if(n==="BOD"){if(i.text!=="M"&&i.text!=="m")return WI("M0,0"+e);a++,o=PE[i.text],n=i.text}else AI(i,DI)?o=PE[n]:(a++,o=PE[i.text],n=i.text);if(!(a+o<r.length))throw new Error("Path data ended short");for(let l=a;l<a+o;l++){let u=r[l];if(!AI(u,DI))throw new Error("Param not a number: "+n+","+u.text);s[s.length]=+u.text}if(typeof PE[n]!="number")throw new Error("Bad segment: "+n);{let l={key:n,data:s};t.push(l),a+=o,i=r[a],n==="M"&&(n="L"),n==="m"&&(n="l")}}return t}function $at(e){let t=0,r=0,n=0,a=0,i=[];for(let{key:o,data:s}of e)switch(o){case"M":i.push({key:"M",data:[...s]}),[t,r]=s,[n,a]=s;break;case"m":t+=s[0],r+=s[1],i.push({key:"M",data:[t,r]}),n=t,a=r;break;case"L":i.push({key:"L",data:[...s]}),[t,r]=s;break;case"l":t+=s[0],r+=s[1],i.push({key:"L",data:[t,r]});break;case"C":i.push({key:"C",data:[...s]}),t=s[4],r=s[5];break;case"c":{let l=s.map((u,f)=>f%2?u+r:u+t);i.push({key:"C",data:l}),t=l[4],r=l[5];break}case"Q":i.push({key:"Q",data:[...s]}),t=s[2],r=s[3];break;case"q":{let l=s.map((u,f)=>f%2?u+r:u+t);i.push({key:"Q",data:l}),t=l[2],r=l[3];break}case"A":i.push({key:"A",data:[...s]}),t=s[5],r=s[6];break;case"a":t+=s[5],r+=s[6],i.push({key:"A",data:[s[0],s[1],s[2],s[3],s[4],t,r]});break;case"H":i.push({key:"H",data:[...s]}),t=s[0];break;case"h":t+=s[0],i.push({key:"H",data:[t]});break;case"V":i.push({key:"V",data:[...s]}),r=s[0];break;case"v":r+=s[0],i.push({key:"V",data:[r]});break;case"S":i.push({key:"S",data:[...s]}),t=s[2],r=s[3];break;case"s":{let l=s.map((u,f)=>f%2?u+r:u+t);i.push({key:"S",data:l}),t=l[2],r=l[3];break}case"T":i.push({key:"T",data:[...s]}),t=s[0],r=s[1];break;case"t":t+=s[0],r+=s[1],i.push({key:"T",data:[t,r]});break;case"Z":case"z":i.push({key:"Z",data:[]}),t=n,r=a}return i}function zat(e){let t=[],r="",n=0,a=0,i=0,o=0,s=0,l=0;for(let{key:u,data:f}of e){switch(u){case"M":t.push({key:"M",data:[...f]}),[n,a]=f,[i,o]=f;break;case"C":t.push({key:"C",data:[...f]}),n=f[4],a=f[5],s=f[2],l=f[3];break;case"L":t.push({key:"L",data:[...f]}),[n,a]=f;break;case"H":n=f[0],t.push({key:"L",data:[n,a]});break;case"V":a=f[0],t.push({key:"L",data:[n,a]});break;case"S":{let h=0,d=0;r==="C"||r==="S"?(h=n+(n-s),d=a+(a-l)):(h=n,d=a),t.push({key:"C",data:[h,d,...f]}),s=f[0],l=f[1],n=f[2],a=f[3];break}case"T":{let[h,d]=f,p=0,m=0;r==="Q"||r==="T"?(p=n+(n-s),m=a+(a-l)):(p=n,m=a);let g=n+2*(p-n)/3,v=a+2*(m-a)/3,y=h+2*(p-h)/3,b=d+2*(m-d)/3;t.push({key:"C",data:[g,v,y,b,h,d]}),s=p,l=m,n=h,a=d;break}case"Q":{let[h,d,p,m]=f,g=n+2*(h-n)/3,v=a+2*(d-a)/3,y=p+2*(h-p)/3,b=m+2*(d-m)/3;t.push({key:"C",data:[g,v,y,b,p,m]}),s=h,l=d,n=p,a=m;break}case"A":{let h=Math.abs(f[0]),d=Math.abs(f[1]),p=f[2],m=f[3],g=f[4],v=f[5],y=f[6];h===0||d===0?(t.push({key:"C",data:[n,a,v,y,v,y]}),n=v,a=y):(n!==v||a!==y)&&(qat(n,a,v,y,h,d,p,m,g).forEach(function(b){t.push({key:"C",data:b})}),n=v,a=y);break}case"Z":t.push({key:"Z",data:[]}),n=i,a=o}r=u}return t}function Fb(e,t,r){return[e*Math.cos(r)-t*Math.sin(r),e*Math.sin(r)+t*Math.cos(r)]}function qat(e,t,r,n,a,i,o,s,l,u){let f=(h=o,Math.PI*h/180);var h;let d=[],p=0,m=0,g=0,v=0;if(u)[p,m,g,v]=u;else{[e,t]=Fb(e,t,-f),[r,n]=Fb(r,n,-f);let A=(e-r)/2,D=(t-n)/2,R=A*A/(a*a)+D*D/(i*i);R>1&&(R=Math.sqrt(R),a*=R,i*=R);let I=a*a,O=i*i,F=I*O-I*D*D-O*A*A,P=I*D*D+O*A*A,q=(s===l?-1:1)*Math.sqrt(Math.abs(F/P));g=q*a*D/i+(e+r)/2,v=q*-i*A/a+(t+n)/2,p=Math.asin(parseFloat(((t-v)/i).toFixed(9))),m=Math.asin(parseFloat(((n-v)/i).toFixed(9))),e<g&&(p=Math.PI-p),r<g&&(m=Math.PI-m),p<0&&(p=2*Math.PI+p),m<0&&(m=2*Math.PI+m),l&&p>m&&(p-=2*Math.PI),!l&&m>p&&(m-=2*Math.PI)}let y=m-p;if(Math.abs(y)>120*Math.PI/180){let A=m,D=r,R=n;m=l&&m>p?p+120*Math.PI/180*1:p+120*Math.PI/180*-1,d=qat(r=g+a*Math.cos(m),n=v+i*Math.sin(m),D,R,a,i,o,0,l,[m,A,g,v])}y=m-p;let b=Math.cos(p),_=Math.sin(p),k=Math.cos(m),w=Math.sin(m),T=Math.tan(y/4),S=4/3*a*T,C=4/3*i*T,M=[e,t],N=[e+S*_,t-C*b],L=[r+S*w,n-C*k],E=[r,n];if(N[0]=2*M[0]-N[0],N[1]=2*M[1]-N[1],u)return[N,L,E].concat(d);{d=[N,L,E].concat(d);let A=[];for(let D=0;D<d.length;D+=3){let R=Fb(d[D][0],d[D][1],f),I=Fb(d[D+1][0],d[D+1][1],f),O=Fb(d[D+2][0],d[D+2][1],f);A.push([R[0],R[1],I[0],I[1],O[0],O[1]])}return A}}function Uat(e,t,r,n,a){return{type:"path",ops:bd(e,t,r,n,a)}}function zE(e,t,r){let n=(e||[]).length;if(n>2){let a=[];for(let i=0;i<n-1;i++)a.push(...bd(e[i][0],e[i][1],e[i+1][0],e[i+1][1],r));return t&&a.push(...bd(e[n-1][0],e[n-1][1],e[0][0],e[0][1],r)),{type:"path",ops:a}}return n===2?Uat(e[0][0],e[0][1],e[1][0],e[1][1],r):{type:"path",ops:[]}}function qNt(e,t,r,n,a){return function(i,o){return zE(i,!0,o)}([[e,t],[e+r,t],[e+r,t+n],[e,t+n]],a)}function Iat(e,t){if(e.length){let r=typeof e[0][0]=="number"?[e]:e,n=BE(r[0],1*(1+.2*t.roughness),t),a=t.disableMultiStroke?[]:BE(r[0],1.5*(1+.22*t.roughness),Oat(t));for(let i=1;i<r.length;i++){let o=r[i];if(o.length){let s=BE(o,1*(1+.2*t.roughness),t),l=t.disableMultiStroke?[]:BE(o,1.5*(1+.22*t.roughness),Oat(t));for(let u of s)u.op!=="move"&&n.push(u);for(let u of l)u.op!=="move"&&a.push(u)}}return{type:"path",ops:n.concat(a)}}return{type:"path",ops:[]}}function Wat(e,t,r){let n=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),a=Math.ceil(Math.max(r.curveStepCount,r.curveStepCount/Math.sqrt(200)*n)),i=2*Math.PI/a,o=Math.abs(e/2),s=Math.abs(t/2),l=1-r.curveFitting;return o+=tr(o*l,r),s+=tr(s*l,r),{increment:i,rx:o,ry:s}}function BI(e,t,r,n){let[a,i]=Fat(n.increment,e,t,n.rx,n.ry,1,n.increment*UE(.1,UE(.4,1,r),r),r),o=WE(a,null,r);if(!r.disableMultiStroke&&r.roughness!==0){let[s]=Fat(n.increment,e,t,n.rx,n.ry,1.5,0,r),l=WE(s,null,r);o=o.concat(l)}return{estimatedPoints:i,opset:{type:"path",ops:o}}}function Rat(e,t,r,n,a,i,o,s,l){let u=e,f=t,h=Math.abs(r/2),d=Math.abs(n/2);h+=tr(.01*h,l),d+=tr(.01*d,l);let p=a,m=i;for(;p<0;)p+=2*Math.PI,m+=2*Math.PI;m-p>2*Math.PI&&(p=0,m=2*Math.PI);let g=2*Math.PI/l.curveStepCount,v=Math.min(g/2,(m-p)/2),y=Pat(v,u,f,h,d,p,m,1,l);if(!l.disableMultiStroke){let b=Pat(v,u,f,h,d,p,m,1.5,l);y.push(...b)}return o&&(s?y.push(...bd(u,f,u+h*Math.cos(p),f+d*Math.sin(p),l),...bd(u,f,u+h*Math.cos(m),f+d*Math.sin(m),l)):y.push({op:"lineTo",data:[u,f]},{op:"lineTo",data:[u+h*Math.cos(p),f+d*Math.sin(p)]})),{type:"path",ops:y}}function Nat(e,t){let r=zat($at(WI(e))),n=[],a=[0,0],i=[0,0];for(let{key:o,data:s}of r)switch(o){case"M":i=[s[0],s[1]],a=[s[0],s[1]];break;case"L":n.push(...bd(i[0],i[1],s[0],s[1],t)),i=[s[0],s[1]];break;case"C":{let[l,u,f,h,d,p]=s;n.push(...UNt(l,u,f,h,d,p,i,t)),i=[d,p];break}case"Z":n.push(...bd(i[0],i[1],a[0],a[1],t)),i=[a[0],a[1]]}return{type:"path",ops:n}}function LI(e,t){let r=[];for(let n of e)if(n.length){let a=t.maxRandomnessOffset||0,i=n.length;if(i>2){r.push({op:"move",data:[n[0][0]+tr(a,t),n[0][1]+tr(a,t)]});for(let o=1;o<i;o++)r.push({op:"lineTo",data:[n[o][0]+tr(a,t),n[o][1]+tr(a,t)]})}}return{type:"fillPath",ops:r}}function p1(e,t){return function(r,n){let a=r.fillStyle||"hachure";if(!Rs[a])switch(a){case"zigzag":Rs[a]||(Rs[a]=new II(n));break;case"cross-hatch":Rs[a]||(Rs[a]=new RI(n));break;case"dots":Rs[a]||(Rs[a]=new NI(n));break;case"dashed":Rs[a]||(Rs[a]=new OI(n));break;case"zigzag-line":Rs[a]||(Rs[a]=new FI(n));break;default:a="hachure",Rs[a]||(Rs[a]=new Bb(n))}return Rs[a]}(t,zNt).fillPolygons(e,t)}function Oat(e){let t=Object.assign({},e);return t.randomizer=void 0,e.seed&&(t.seed=e.seed+1),t}function Gat(e){return e.randomizer||(e.randomizer=new PI(e.seed||0)),e.randomizer.next()}function UE(e,t,r,n=1){return r.roughness*n*(Gat(r)*(t-e)+e)}function tr(e,t,r=1){return UE(-e,e,t,r)}function bd(e,t,r,n,a,i=!1){let o=i?a.disableMultiStrokeFill:a.disableMultiStroke,s=$I(e,t,r,n,a,!0,!1);if(o)return s;let l=$I(e,t,r,n,a,!0,!0);return s.concat(l)}function $I(e,t,r,n,a,i,o){let s=Math.pow(e-r,2)+Math.pow(t-n,2),l=Math.sqrt(s),u=1;u=l<200?1:l>500?.4:-.0016668*l+1.233334;let f=a.maxRandomnessOffset||0;f*f*100>s&&(f=l/10);let h=f/2,d=.2+.2*Gat(a),p=a.bowing*a.maxRandomnessOffset*(n-t)/200,m=a.bowing*a.maxRandomnessOffset*(e-r)/200;p=tr(p,a,u),m=tr(m,a,u);let g=[],v=()=>tr(h,a,u),y=()=>tr(f,a,u),b=a.preserveVertices;return i&&(o?g.push({op:"move",data:[e+(b?0:v()),t+(b?0:v())]}):g.push({op:"move",data:[e+(b?0:tr(f,a,u)),t+(b?0:tr(f,a,u))]})),o?g.push({op:"bcurveTo",data:[p+e+(r-e)*d+v(),m+t+(n-t)*d+v(),p+e+2*(r-e)*d+v(),m+t+2*(n-t)*d+v(),r+(b?0:v()),n+(b?0:v())]}):g.push({op:"bcurveTo",data:[p+e+(r-e)*d+y(),m+t+(n-t)*d+y(),p+e+2*(r-e)*d+y(),m+t+2*(n-t)*d+y(),r+(b?0:y()),n+(b?0:y())]}),g}function BE(e,t,r){if(!e.length)return[];let n=[];n.push([e[0][0]+tr(t,r),e[0][1]+tr(t,r)]),n.push([e[0][0]+tr(t,r),e[0][1]+tr(t,r)]);for(let a=1;a<e.length;a++)n.push([e[a][0]+tr(t,r),e[a][1]+tr(t,r)]),a===e.length-1&&n.push([e[a][0]+tr(t,r),e[a][1]+tr(t,r)]);return WE(n,null,r)}function WE(e,t,r){let n=e.length,a=[];if(n>3){let i=[],o=1-r.curveTightness;a.push({op:"move",data:[e[1][0],e[1][1]]});for(let s=1;s+2<n;s++){let l=e[s];i[0]=[l[0],l[1]],i[1]=[l[0]+(o*e[s+1][0]-o*e[s-1][0])/6,l[1]+(o*e[s+1][1]-o*e[s-1][1])/6],i[2]=[e[s+1][0]+(o*e[s][0]-o*e[s+2][0])/6,e[s+1][1]+(o*e[s][1]-o*e[s+2][1])/6],i[3]=[e[s+1][0],e[s+1][1]],a.push({op:"bcurveTo",data:[i[1][0],i[1][1],i[2][0],i[2][1],i[3][0],i[3][1]]})}if(t&&t.length===2){let s=r.maxRandomnessOffset;a.push({op:"lineTo",data:[t[0]+tr(s,r),t[1]+tr(s,r)]})}}else n===3?(a.push({op:"move",data:[e[1][0],e[1][1]]}),a.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):n===2&&a.push(...$I(e[0][0],e[0][1],e[1][0],e[1][1],r,!0,!0));return a}function Fat(e,t,r,n,a,i,o,s){let l=[],u=[];if(s.roughness===0){e/=4,u.push([t+n*Math.cos(-e),r+a*Math.sin(-e)]);for(let f=0;f<=2*Math.PI;f+=e){let h=[t+n*Math.cos(f),r+a*Math.sin(f)];l.push(h),u.push(h)}u.push([t+n*Math.cos(0),r+a*Math.sin(0)]),u.push([t+n*Math.cos(e),r+a*Math.sin(e)])}else{let f=tr(.5,s)-Math.PI/2;u.push([tr(i,s)+t+.9*n*Math.cos(f-e),tr(i,s)+r+.9*a*Math.sin(f-e)]);let h=2*Math.PI+f-.01;for(let d=f;d<h;d+=e){let p=[tr(i,s)+t+n*Math.cos(d),tr(i,s)+r+a*Math.sin(d)];l.push(p),u.push(p)}u.push([tr(i,s)+t+n*Math.cos(f+2*Math.PI+.5*o),tr(i,s)+r+a*Math.sin(f+2*Math.PI+.5*o)]),u.push([tr(i,s)+t+.98*n*Math.cos(f+o),tr(i,s)+r+.98*a*Math.sin(f+o)]),u.push([tr(i,s)+t+.9*n*Math.cos(f+.5*o),tr(i,s)+r+.9*a*Math.sin(f+.5*o)])}return[u,l]}function Pat(e,t,r,n,a,i,o,s,l){let u=i+tr(.1,l),f=[];f.push([tr(s,l)+t+.9*n*Math.cos(u-e),tr(s,l)+r+.9*a*Math.sin(u-e)]);for(let h=u;h<=o;h+=e)f.push([tr(s,l)+t+n*Math.cos(h),tr(s,l)+r+a*Math.sin(h)]);return f.push([t+n*Math.cos(o),r+a*Math.sin(o)]),f.push([t+n*Math.cos(o),r+a*Math.sin(o)]),WE(f,null,l)}function UNt(e,t,r,n,a,i,o,s){let l=[],u=[s.maxRandomnessOffset||1,(s.maxRandomnessOffset||1)+.3],f=[0,0],h=s.disableMultiStroke?1:2,d=s.preserveVertices;for(let p=0;p<h;p++)p===0?l.push({op:"move",data:[o[0],o[1]]}):l.push({op:"move",data:[o[0]+(d?0:tr(u[0],s)),o[1]+(d?0:tr(u[0],s))]}),f=d?[a,i]:[a+tr(u[p],s),i+tr(u[p],s)],l.push({op:"bcurveTo",data:[e+tr(u[p],s),t+tr(u[p],s),r+tr(u[p],s),n+tr(u[p],s),f[0],f[1]]});return l}function Pb(e){return[...e]}function Bat(e,t=0){let r=e.length;if(r<3)throw new Error("A curve must have at least three points.");let n=[];if(r===3)n.push(Pb(e[0]),Pb(e[1]),Pb(e[2]),Pb(e[2]));else{let a=[];a.push(e[0],e[0]);for(let s=1;s<e.length;s++)a.push(e[s]),s===e.length-1&&a.push(e[s]);let i=[],o=1-t;n.push(Pb(a[0]));for(let s=1;s+2<a.length;s++){let l=a[s];i[0]=[l[0],l[1]],i[1]=[l[0]+(o*a[s+1][0]-o*a[s-1][0])/6,l[1]+(o*a[s+1][1]-o*a[s-1][1])/6],i[2]=[a[s+1][0]+(o*a[s][0]-o*a[s+2][0])/6,a[s+1][1]+(o*a[s][1]-o*a[s+2][1])/6],i[3]=[a[s+1][0],a[s+1][1]],n.push(i[1],i[2],i[3])}}return n}function qE(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function WNt(e,t,r){let n=qE(t,r);if(n===0)return qE(e,t);let a=((e[0]-t[0])*(r[0]-t[0])+(e[1]-t[1])*(r[1]-t[1]))/n;return a=Math.max(0,Math.min(1,a)),qE(e,L0(t,r,a))}function L0(e,t,r){return[e[0]+(t[0]-e[0])*r,e[1]+(t[1]-e[1])*r]}function zI(e,t,r,n){let a=n||[];if(function(s,l){let u=s[l+0],f=s[l+1],h=s[l+2],d=s[l+3],p=3*f[0]-2*u[0]-d[0];p*=p;let m=3*f[1]-2*u[1]-d[1];m*=m;let g=3*h[0]-2*d[0]-u[0];g*=g;let v=3*h[1]-2*d[1]-u[1];return v*=v,p<g&&(p=g),m<v&&(m=v),p+m}(e,t)<r){let s=e[t+0];a.length?(i=a[a.length-1],o=s,Math.sqrt(qE(i,o))>1&&a.push(s)):a.push(s),a.push(e[t+3])}else{let l=e[t+0],u=e[t+1],f=e[t+2],h=e[t+3],d=L0(l,u,.5),p=L0(u,f,.5),m=L0(f,h,.5),g=L0(d,p,.5),v=L0(p,m,.5),y=L0(g,v,.5);zI([l,d,g,y],0,r,a),zI([y,v,m,h],0,r,a)}var i,o;return a}function GNt(e,t){return GE(e,0,e.length,t)}function GE(e,t,r,n,a){let i=a||[],o=e[t],s=e[r-1],l=0,u=1;for(let f=t+1;f<r-1;++f){let h=WNt(e[f],o,s);h>l&&(l=h,u=f)}return Math.sqrt(l)>n?(GE(e,t,u+1,n,i),GE(e,u,r,n,i)):(i.length||i.push(o),i.push(s)),i}function MI(e,t=.15,r){let n=[],a=(e.length-1)/3;for(let i=0;i<a;i++)zI(e,3*i,t,n);return r&&r>0?GE(n,0,n.length,r):n}var Bb,II,RI,NI,OI,FI,Rs,PI,$Nt,DI,Mat,PE,zNt,sl,m1,qI,$E,UI,Kt,$e=B(()=>{Bb=class{constructor(t){this.helper=t}fillPolygons(t,r){return this._fillPolygons(t,r)}_fillPolygons(t,r){let n=$b(t,r);return{type:"fillSketch",ops:this.renderLines(n,r)}}renderLines(t,r){let n=[];for(let a of t)n.push(...this.helper.doubleLineOps(a[0][0],a[0][1],a[1][0],a[1][1],r));return n}};II=class extends Bb{fillPolygons(t,r){let n=r.hachureGap;n<0&&(n=4*r.strokeWidth),n=Math.max(n,.1);let a=$b(t,Object.assign({},r,{hachureGap:n})),i=Math.PI/180*r.hachureAngle,o=[],s=.5*n*Math.cos(i),l=.5*n*Math.sin(i);for(let[u,f]of a)VE([u,f])&&o.push([[u[0]-s,u[1]+l],[...f]],[[u[0]+s,u[1]-l],[...f]]);return{type:"fillSketch",ops:this.renderLines(o,r)}}},RI=class extends Bb{fillPolygons(t,r){let n=this._fillPolygons(t,r),a=Object.assign({},r,{hachureAngle:r.hachureAngle+90}),i=this._fillPolygons(t,a);return n.ops=n.ops.concat(i.ops),n}},NI=class{constructor(t){this.helper=t}fillPolygons(t,r){let n=$b(t,r=Object.assign({},r,{hachureAngle:0}));return this.dotsOnLines(n,r)}dotsOnLines(t,r){let n=[],a=r.hachureGap;a<0&&(a=4*r.strokeWidth),a=Math.max(a,.1);let i=r.fillWeight;i<0&&(i=r.strokeWidth/2);let o=a/4;for(let s of t){let l=VE(s),u=l/a,f=Math.ceil(u)-1,h=l-f*a,d=(s[0][0]+s[1][0])/2-a/4,p=Math.min(s[0][1],s[1][1]);for(let m=0;m<f;m++){let g=p+h+m*a,v=d-o+2*Math.random()*o,y=g-o+2*Math.random()*o,b=this.helper.ellipse(v,y,i,i,r);n.push(...b.ops)}}return{type:"fillSketch",ops:n}}},OI=class{constructor(t){this.helper=t}fillPolygons(t,r){let n=$b(t,r);return{type:"fillSketch",ops:this.dashedLine(n,r)}}dashedLine(t,r){let n=r.dashOffset<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashOffset,a=r.dashGap<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashGap,i=[];return t.forEach(o=>{let s=VE(o),l=Math.floor(s/(n+a)),u=(s+a-l*(n+a))/2,f=o[0],h=o[1];f[0]>h[0]&&(f=o[1],h=o[0]);let d=Math.atan((h[1]-f[1])/(h[0]-f[0]));for(let p=0;p<l;p++){let m=p*(n+a),g=m+n,v=[f[0]+m*Math.cos(d)+u*Math.cos(d),f[1]+m*Math.sin(d)+u*Math.sin(d)],y=[f[0]+g*Math.cos(d)+u*Math.cos(d),f[1]+g*Math.sin(d)+u*Math.sin(d)];i.push(...this.helper.doubleLineOps(v[0],v[1],y[0],y[1],r))}}),i}},FI=class{constructor(t){this.helper=t}fillPolygons(t,r){let n=r.hachureGap<0?4*r.strokeWidth:r.hachureGap,a=r.zigzagOffset<0?n:r.zigzagOffset,i=$b(t,r=Object.assign({},r,{hachureGap:n+a}));return{type:"fillSketch",ops:this.zigzagLines(i,a,r)}}zigzagLines(t,r,n){let a=[];return t.forEach(i=>{let o=VE(i),s=Math.round(o/(2*r)),l=i[0],u=i[1];l[0]>u[0]&&(l=i[1],u=i[0]);let f=Math.atan((u[1]-l[1])/(u[0]-l[0]));for(let h=0;h<s;h++){let d=2*h*r,p=2*(h+1)*r,m=Math.sqrt(2*Math.pow(r,2)),g=[l[0]+d*Math.cos(f),l[1]+d*Math.sin(f)],v=[l[0]+p*Math.cos(f),l[1]+p*Math.sin(f)],y=[g[0]+m*Math.cos(f+Math.PI/4),g[1]+m*Math.sin(f+Math.PI/4)];a.push(...this.helper.doubleLineOps(g[0],g[1],y[0],y[1],n),...this.helper.doubleLineOps(y[0],y[1],v[0],v[1],n))}}),a}},Rs={},PI=class{constructor(t){this.seed=t}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}},$Nt=0,DI=1,Mat=2,PE={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};zNt={randOffset:function(e,t){return tr(e,t)},randOffsetWithRange:function(e,t,r){return UE(e,t,r)},ellipse:function(e,t,r,n,a){let i=Wat(r,n,a);return BI(e,t,a,i).opset},doubleLineOps:function(e,t,r,n,a){return bd(e,t,r,n,a,!0)}};sl="none",m1=class{constructor(t){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=t||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(t){return t?Object.assign({},this.defaultOptions,t):this.defaultOptions}_d(t,r,n){return{shape:t,sets:r||[],options:n||this.defaultOptions}}line(t,r,n,a,i){let o=this._o(i);return this._d("line",[Uat(t,r,n,a,o)],o)}rectangle(t,r,n,a,i){let o=this._o(i),s=[],l=qNt(t,r,n,a,o);if(o.fill){let u=[[t,r],[t+n,r],[t+n,r+a],[t,r+a]];o.fillStyle==="solid"?s.push(LI([u],o)):s.push(p1([u],o))}return o.stroke!==sl&&s.push(l),this._d("rectangle",s,o)}ellipse(t,r,n,a,i){let o=this._o(i),s=[],l=Wat(n,a,o),u=BI(t,r,o,l);if(o.fill)if(o.fillStyle==="solid"){let f=BI(t,r,o,l).opset;f.type="fillPath",s.push(f)}else s.push(p1([u.estimatedPoints],o));return o.stroke!==sl&&s.push(u.opset),this._d("ellipse",s,o)}circle(t,r,n,a){let i=this.ellipse(t,r,n,n,a);return i.shape="circle",i}linearPath(t,r){let n=this._o(r);return this._d("linearPath",[zE(t,!1,n)],n)}arc(t,r,n,a,i,o,s=!1,l){let u=this._o(l),f=[],h=Rat(t,r,n,a,i,o,s,!0,u);if(s&&u.fill)if(u.fillStyle==="solid"){let d=Object.assign({},u);d.disableMultiStroke=!0;let p=Rat(t,r,n,a,i,o,!0,!1,d);p.type="fillPath",f.push(p)}else f.push(function(d,p,m,g,v,y,b){let _=d,k=p,w=Math.abs(m/2),T=Math.abs(g/2);w+=tr(.01*w,b),T+=tr(.01*T,b);let S=v,C=y;for(;S<0;)S+=2*Math.PI,C+=2*Math.PI;C-S>2*Math.PI&&(S=0,C=2*Math.PI);let M=(C-S)/b.curveStepCount,N=[];for(let L=S;L<=C;L+=M)N.push([_+w*Math.cos(L),k+T*Math.sin(L)]);return N.push([_+w*Math.cos(C),k+T*Math.sin(C)]),N.push([_,k]),p1([N],b)}(t,r,n,a,i,o,u));return u.stroke!==sl&&f.push(h),this._d("arc",f,u)}curve(t,r){let n=this._o(r),a=[],i=Iat(t,n);if(n.fill&&n.fill!==sl)if(n.fillStyle==="solid"){let o=Iat(t,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));a.push({type:"fillPath",ops:this._mergedShape(o.ops)})}else{let o=[],s=t;if(s.length){let l=typeof s[0][0]=="number"?[s]:s;for(let u of l)u.length<3?o.push(...u):u.length===3?o.push(...MI(Bat([u[0],u[0],u[1],u[2]]),10,(1+n.roughness)/2)):o.push(...MI(Bat(u),10,(1+n.roughness)/2))}o.length&&a.push(p1([o],n))}return n.stroke!==sl&&a.push(i),this._d("curve",a,n)}polygon(t,r){let n=this._o(r),a=[],i=zE(t,!0,n);return n.fill&&(n.fillStyle==="solid"?a.push(LI([t],n)):a.push(p1([t],n))),n.stroke!==sl&&a.push(i),this._d("polygon",a,n)}path(t,r){let n=this._o(r),a=[];if(!t)return this._d("path",a,n);t=(t||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");let i=n.fill&&n.fill!=="transparent"&&n.fill!==sl,o=n.stroke!==sl,s=!!(n.simplification&&n.simplification<1),l=function(f,h,d){let p=zat($at(WI(f))),m=[],g=[],v=[0,0],y=[],b=()=>{y.length>=4&&g.push(...MI(y,h)),y=[]},_=()=>{b(),g.length&&(m.push(g),g=[])};for(let{key:w,data:T}of p)switch(w){case"M":_(),v=[T[0],T[1]],g.push(v);break;case"L":b(),g.push([T[0],T[1]]);break;case"C":if(!y.length){let S=g.length?g[g.length-1]:v;y.push([S[0],S[1]])}y.push([T[0],T[1]]),y.push([T[2],T[3]]),y.push([T[4],T[5]]);break;case"Z":b(),g.push([v[0],v[1]])}if(_(),!d)return m;let k=[];for(let w of m){let T=GNt(w,d);T.length&&k.push(T)}return k}(t,1,s?4-4*(n.simplification||1):(1+n.roughness)/2),u=Nat(t,n);if(i)if(n.fillStyle==="solid")if(l.length===1){let f=Nat(t,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));a.push({type:"fillPath",ops:this._mergedShape(f.ops)})}else a.push(LI(l,n));else a.push(p1(l,n));return o&&(s?l.forEach(f=>{a.push(zE(f,!1,n))}):a.push(u)),this._d("path",a,n)}opsToPath(t,r){let n="";for(let a of t.ops){let i=typeof r=="number"&&r>=0?a.data.map(o=>+o.toFixed(r)):a.data;switch(a.op){case"move":n+=`M${i[0]} ${i[1]} `;break;case"bcurveTo":n+=`C${i[0]} ${i[1]}, ${i[2]} ${i[3]}, ${i[4]} ${i[5]} `;break;case"lineTo":n+=`L${i[0]} ${i[1]} `}}return n.trim()}toPaths(t){let r=t.sets||[],n=t.options||this.defaultOptions,a=[];for(let i of r){let o=null;switch(i.type){case"path":o={d:this.opsToPath(i),stroke:n.stroke,strokeWidth:n.strokeWidth,fill:sl};break;case"fillPath":o={d:this.opsToPath(i),stroke:sl,strokeWidth:0,fill:n.fill||sl};break;case"fillSketch":o=this.fillSketch(i,n)}o&&a.push(o)}return a}fillSketch(t,r){let n=r.fillWeight;return n<0&&(n=r.strokeWidth/2),{d:this.opsToPath(t),stroke:r.fill||sl,strokeWidth:n,fill:sl}}_mergedShape(t){return t.filter((r,n)=>n===0||r.op!=="move")}},qI=class{constructor(t,r){this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.gen=new m1(r)}draw(t){let r=t.sets||[],n=t.options||this.getDefaultOptions(),a=this.ctx,i=t.options.fixedDecimalPlaceDigits;for(let o of r)switch(o.type){case"path":a.save(),a.strokeStyle=n.stroke==="none"?"transparent":n.stroke,a.lineWidth=n.strokeWidth,n.strokeLineDash&&a.setLineDash(n.strokeLineDash),n.strokeLineDashOffset&&(a.lineDashOffset=n.strokeLineDashOffset),this._drawToContext(a,o,i),a.restore();break;case"fillPath":{a.save(),a.fillStyle=n.fill||"";let s=t.shape==="curve"||t.shape==="polygon"||t.shape==="path"?"evenodd":"nonzero";this._drawToContext(a,o,i,s),a.restore();break}case"fillSketch":this.fillSketch(a,o,n)}}fillSketch(t,r,n){let a=n.fillWeight;a<0&&(a=n.strokeWidth/2),t.save(),n.fillLineDash&&t.setLineDash(n.fillLineDash),n.fillLineDashOffset&&(t.lineDashOffset=n.fillLineDashOffset),t.strokeStyle=n.fill||"",t.lineWidth=a,this._drawToContext(t,r,n.fixedDecimalPlaceDigits),t.restore()}_drawToContext(t,r,n,a="nonzero"){t.beginPath();for(let i of r.ops){let o=typeof n=="number"&&n>=0?i.data.map(s=>+s.toFixed(n)):i.data;switch(i.op){case"move":t.moveTo(o[0],o[1]);break;case"bcurveTo":t.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"lineTo":t.lineTo(o[0],o[1])}}r.type==="fillPath"?t.fill(a):t.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(t,r,n,a,i){let o=this.gen.line(t,r,n,a,i);return this.draw(o),o}rectangle(t,r,n,a,i){let o=this.gen.rectangle(t,r,n,a,i);return this.draw(o),o}ellipse(t,r,n,a,i){let o=this.gen.ellipse(t,r,n,a,i);return this.draw(o),o}circle(t,r,n,a){let i=this.gen.circle(t,r,n,a);return this.draw(i),i}linearPath(t,r){let n=this.gen.linearPath(t,r);return this.draw(n),n}polygon(t,r){let n=this.gen.polygon(t,r);return this.draw(n),n}arc(t,r,n,a,i,o,s=!1,l){let u=this.gen.arc(t,r,n,a,i,o,s,l);return this.draw(u),u}curve(t,r){let n=this.gen.curve(t,r);return this.draw(n),n}path(t,r){let n=this.gen.path(t,r);return this.draw(n),n}},$E="http://www.w3.org/2000/svg",UI=class{constructor(t,r){this.svg=t,this.gen=new m1(r)}draw(t){let r=t.sets||[],n=t.options||this.getDefaultOptions(),a=this.svg.ownerDocument||window.document,i=a.createElementNS($E,"g"),o=t.options.fixedDecimalPlaceDigits;for(let s of r){let l=null;switch(s.type){case"path":l=a.createElementNS($E,"path"),l.setAttribute("d",this.opsToPath(s,o)),l.setAttribute("stroke",n.stroke),l.setAttribute("stroke-width",n.strokeWidth+""),l.setAttribute("fill","none"),n.strokeLineDash&&l.setAttribute("stroke-dasharray",n.strokeLineDash.join(" ").trim()),n.strokeLineDashOffset&&l.setAttribute("stroke-dashoffset",`${n.strokeLineDashOffset}`);break;case"fillPath":l=a.createElementNS($E,"path"),l.setAttribute("d",this.opsToPath(s,o)),l.setAttribute("stroke","none"),l.setAttribute("stroke-width","0"),l.setAttribute("fill",n.fill||""),t.shape!=="curve"&&t.shape!=="polygon"||l.setAttribute("fill-rule","evenodd");break;case"fillSketch":l=this.fillSketch(a,s,n)}l&&i.appendChild(l)}return i}fillSketch(t,r,n){let a=n.fillWeight;a<0&&(a=n.strokeWidth/2);let i=t.createElementNS($E,"path");return i.setAttribute("d",this.opsToPath(r,n.fixedDecimalPlaceDigits)),i.setAttribute("stroke",n.fill||""),i.setAttribute("stroke-width",a+""),i.setAttribute("fill","none"),n.fillLineDash&&i.setAttribute("stroke-dasharray",n.fillLineDash.join(" ").trim()),n.fillLineDashOffset&&i.setAttribute("stroke-dashoffset",`${n.fillLineDashOffset}`),i}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(t,r){return this.gen.opsToPath(t,r)}line(t,r,n,a,i){let o=this.gen.line(t,r,n,a,i);return this.draw(o)}rectangle(t,r,n,a,i){let o=this.gen.rectangle(t,r,n,a,i);return this.draw(o)}ellipse(t,r,n,a,i){let o=this.gen.ellipse(t,r,n,a,i);return this.draw(o)}circle(t,r,n,a){let i=this.gen.circle(t,r,n,a);return this.draw(i)}linearPath(t,r){let n=this.gen.linearPath(t,r);return this.draw(n)}polygon(t,r){let n=this.gen.polygon(t,r);return this.draw(n)}arc(t,r,n,a,i,o,s=!1,l){let u=this.gen.arc(t,r,n,a,i,o,s,l);return this.draw(u)}curve(t,r){let n=this.gen.curve(t,r);return this.draw(n)}path(t,r){let n=this.gen.path(t,r);return this.draw(n)}},Kt={canvas:(e,t)=>new qI(e,t),svg:(e,t)=>new UI(e,t),generator:e=>new m1(e),newSeed:()=>m1.newSeed()}});function zr(e){let t=e.map((r,n)=>`${n===0?"M":"L"}${r.x},${r.y}`);return t.push("Z"),t.join(" ")}function _d(e,t,r,n,a,i){let o=[],l=r-e,u=n-t,f=l/i,h=2*Math.PI/f,d=t+u/2;for(let p=0;p<=50;p++){let m=p/50,g=e+m*l,v=d+a*Math.sin(h*(g-e));o.push({x:g,y:v})}return o}function Ub(e,t,r,n,a,i){let o=[],s=a*Math.PI/180,f=(i*Math.PI/180-s)/(n-1);for(let h=0;h<n;h++){let d=s+h*f,p=e+r*Math.cos(d),m=t+r*Math.sin(d);o.push({x:-p,y:-m})}return o}function Vat(e,t){t&&e.attr("style",t)}async function Hat(e){let t=Vt(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),r=t.append("xhtml:div"),n=bt(),a=e.label;e.label&&ca(e.label)&&(a=await jh(e.label.replace(Jt.lineBreakRegex,`
`),n));let o='<span class="'+(e.isNode?"nodeLabel":"edgeLabel")+'" '+(e.labelStyle?'style="'+e.labelStyle+'"':"")+">"+a+"</span>";return r.html(sr(o,n)),Vat(r,e.labelStyle),r.style("display","inline-block"),r.style("padding-right","1px"),r.style("white-space","nowrap"),r.attr("xmlns","http://www.w3.org/1999/xhtml"),t.node()}function Kat(e,t){return e.intersect(t)}function Qat(e,t,r,n){var a=e.x,i=e.y,o=a-n.x,s=i-n.y,l=Math.sqrt(t*t*s*s+r*r*o*o),u=Math.abs(t*r*o/l);n.x<a&&(u=-u);var f=Math.abs(t*r*s/l);return n.y<i&&(f=-f),{x:a+u,y:i+f}}function Jat(e,t,r){return Zat(e,t,t,r)}function tit(e,t,r,n){{let a=t.y-e.y,i=e.x-t.x,o=t.x*e.y-e.x*t.y,s=a*r.x+i*r.y+o,l=a*n.x+i*n.y+o,u=1e-6;if(s!==0&&l!==0&&VI(s,l))return;let f=n.y-r.y,h=r.x-n.x,d=n.x*r.y-r.x*n.y,p=f*e.x+h*e.y+d,m=f*t.x+h*t.y+d;if(Math.abs(p)<u&&Math.abs(m)<u&&VI(p,m))return;let g=a*h-f*i;if(g===0)return;let v=Math.abs(g/2),y=i*d-h*o,b=y<0?(y-v)/g:(y+v)/g;y=f*o-a*d;let _=y<0?(y-v)/g:(y+v)/g;return{x:b,y:_}}}function VI(e,t){return e*t>0}function eit(e,t,r){let n=e.x,a=e.y,i=[],o=Number.POSITIVE_INFINITY,s=Number.POSITIVE_INFINITY;typeof t.forEach=="function"?t.forEach(function(f){o=Math.min(o,f.x),s=Math.min(s,f.y)}):(o=Math.min(o,t.x),s=Math.min(s,t.y));let l=n-e.width/2-o,u=a-e.height/2-s;for(let f=0;f<t.length;f++){let h=t[f],d=t[f<t.length-1?f+1:0],p=eOt(e,r,{x:l+h.x,y:u+h.y},{x:l+d.x,y:u+d.y});p&&i.push(p)}return i.length?(i.length>1&&i.sort(function(f,h){let d=f.x-r.x,p=f.y-r.y,m=Math.sqrt(d*d+p*p),g=h.x-r.x,v=h.y-r.y,y=Math.sqrt(g*g+v*v);return m<y?-1:m===y?0:1}),i[0]):e}function rit(e,t){let{labelStyles:r}=De(t);t.labelStyle=r;let n=Xe(t),a=n;n||(a="anchor");let i=e.insert("g").attr("class",a).attr("id",t.domId||t.id),o=1,{cssStyles:s}=t,l=Kt.svg(i),u=Pe(t,{fill:"black",stroke:"none",fillStyle:"solid"});t.look!=="handDrawn"&&(u.roughness=0);let f=l.circle(0,0,o*2,u),h=i.insert(()=>f,":first-child");return h.attr("class","anchor").attr("style",Zi(s)),Be(t,h),t.intersect=function(d){return J.info("Circle intersect",t,o,d),Ae.circle(t,o,d)},i}function HI(e,t,r,n,a,i,o){let l=(e+r)/2,u=(t+n)/2,f=Math.atan2(n-t,r-e),h=(r-e)/2,d=(n-t)/2,p=h/a,m=d/i,g=Math.sqrt(p**2+m**2);if(g>1)throw new Error("The given radii are too small to create an arc between the points.");let v=Math.sqrt(1-g**2),y=l+v*i*Math.sin(f)*(o?-1:1),b=u-v*a*Math.cos(f)*(o?-1:1),_=Math.atan2((t-b)/i,(e-y)/a),w=Math.atan2((n-b)/i,(r-y)/a)-_;o&&w<0&&(w+=2*Math.PI),!o&&w>0&&(w-=2*Math.PI);let T=[];for(let S=0;S<20;S++){let C=S/19,M=_+C*w,N=y+a*Math.cos(M),L=b+i*Math.sin(M);T.push({x:N,y:L})}return T}async function nit(e,t){let{labelStyles:r,nodeStyles:n}=De(t);t.labelStyle=r;let{shapeSvg:a,bbox:i}=await Qe(e,t,Xe(t)),o=i.width+t.padding+20,s=i.height+t.padding,l=s/2,u=l/(2.5+s/50),{cssStyles:f}=t,h=[{x:o/2,y:-s/2},{x:-o/2,y:-s/2},...HI(-o/2,-s/2,-o/2,s/2,u,l,!1),{x:o/2,y:s/2},...HI(o/2,s/2,o/2,-s/2,u,l,!0)],d=Kt.svg(a),p=Pe(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");let m=zr(h),g=d.path(m,p),v=a.insert(()=>g,":first-child");return v.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",f),n&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",n),v.attr("transform",`translate(${u/2}, 0)`),Be(t,v),t.intersect=function(y){return Ae.polygon(t,h,y)},a}function Ed(e,t,r,n){return e.insert("polygon",":first-child").attr("points",n.map(function(a){return a.x+","+a.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+r/2+")")}async function ait(e,t){let{labelStyles:r,nodeStyles:n}=De(t);t.labelStyle=r;let{shapeSvg:a,bbox:i}=await Qe(e,t,Xe(t)),o=i.height+t.padding,s=12,l=i.width+t.padding+s,u=0,f=l,h=-o,d=0,p=[{x:u+s,y:h},{x:f,y:h},{x:f,y:d},{x:u,y:d},{x:u,y:h+s},{x:u+s,y:h}],m,{cssStyles:g}=t;if(t.look==="handDrawn"){let v=Kt.svg(a),y=Pe(t,{}),b=zr(p),_=v.path(b,y);m=a.insert(()=>_,":first-child").attr("transform",`translate(${-l/2}, ${o/2})`),g&&m.attr("style",g)}else m=Ed(a,l,o,p);return n&&m.attr("style",n),Be(t,m),t.intersect=function(v){return Ae.polygon(t,p,v)},a}function iit(e,t){let{nodeStyles:r}=De(t);t.label="";let n=e.insert("g").attr("class",Xe(t)).attr("id",t.domId??t.id),{cssStyles:a}=t,i=Math.max(28,t.width??0),o=[{x:0,y:i/2},{x:i/2,y:0},{x:0,y:-i/2},{x:-i/2,y:0}],s=Kt.svg(n),l=Pe(t,{});t.look!=="handDrawn"&&(l.roughness=0,l.fillStyle="solid");let u=zr(o),f=s.path(u,l),h=n.insert(()=>f,":first-child");return a&&t.look!=="handDrawn"&&h.selectAll("path").attr("style",a),r&&t.look!=="handDrawn"&&h.selectAll("path").attr("style",r),t.width=28,t.height=28,t.intersect=function(d){return Ae.polygon(t,o,d)},n}async function YI(e,t,r){let{labelStyles:n,nodeStyles:a}=De(t);t.labelStyle=n;let{shapeSvg:i,bbox:o,halfPadding:s}=await Qe(e,t,Xe(t)),l=r?.padding??s,u=o.width/2+l,f,{cssStyles:h}=t;if(t.look==="handDrawn"){let d=Kt.svg(i),p=Pe(t,{}),m=d.circle(0,0,u*2,p);f=i.insert(()=>m,":first-child"),f.attr("class","basic label-container").attr("style",Zi(h))}else f=i.insert("circle",":first-child").attr("class","basic label-container").attr("style",a).attr("r",u).attr("cx",0).attr("cy",0);return Be(t,f),t.calcIntersect=function(d,p){let m=d.width/2;return Ae.circle(d,m,p)},t.intersect=function(d){return J.info("Circle intersect",t,u,d),Ae.circle(t,u,d)},i}function oit(e){let t=Math.cos(Math.PI/4),r=Math.sin(Math.PI/4),n=e*2,a={x:n/2*t,y:n/2*r},i={x:-(n/2)*t,y:n/2*r},o={x:-(n/2)*t,y:-(n/2)*r},s={x:n/2*t,y:-(n/2)*r};return`M ${i.x},${i.y} L ${s.x},${s.y}
                   M ${a.x},${a.y} L ${o.x},${o.y}`}function sit(e,t){let{labelStyles:r,nodeStyles:n}=De(t);t.labelStyle=r,t.label="";let a=e.insert("g").attr("class",Xe(t)).attr("id",t.domId??t.id),i=Math.max(30,t?.width??0),{cssStyles:o}=t,s=Kt.svg(a),l=Pe(t,{});t.look!=="handDrawn"&&(l.roughness=0,l.fillStyle="solid");let u=s.circle(0,0,i*2,l),f=oit(i),h=s.path(f,l),d=a.insert(()=>u,":first-child");return d.insert(()=>h),o&&t.look!=="handDrawn"&&d.selectAll("path").attr("style",o),n&&t.look!=="handDrawn"&&d.selectAll("path").attr("style",n),Be(t,d),t.intersect=function(p){return J.info("crossedCircle intersect",t,{radius:i,point:p}),Ae.circle(t,i,p)},a}function Kf(e,t,r,n=100,a=0,i=180){let o=[],s=a*Math.PI/180,f=(i*Math.PI/180-s)/(n-1);for(let h=0;h<n;h++){let d=s+h*f,p=e+r*Math.cos(d),m=t+r*Math.sin(d);o.push({x:-p,y:-m})}return o}async function lit(e,t){let{labelStyles:r,nodeStyles:n}=De(t);t.labelStyle=r;let{shapeSvg:a,bbox:i,label:o}=await Qe(e,t,Xe(t)),s=i.width+(t.padding??0),l=i.height+(t.padding??0),u=Math.max(5,l*.1),{cssStyles:f}=t,h=[...Kf(s/2,-l/2,u,30,-90,0),{x:-s/2-u,y:u},...Kf(s/2+u*2,-u,u,20,-180,-270),...Kf(s/2+u*2,u,u,20,-90,-180),{x:-s/2-u,y:-l/2},...Kf(s/2,l/2,u,20,0,90)],d=[{x:s/2,y:-l/2-u},{x:-s/2,y:-l/2-u},...Kf(s/2,-l/2,u,20,-90,0),{x:-s/2-u,y:-u},...Kf(s/2+s*.1,-u,u,20,-180,-270),...Kf(s/2+s*.1,u,u,20,-90,-180),{x:-s/2-u,y:l/2},...Kf(s/2,l/2,u,20,0,90),{x:-s/2,y:l/2+u},{x:s/2,y:l/2+u}],p=Kt.svg(a),m=Pe(t,{fill:"none"});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let v=zr(h).replace("Z",""),y=p.path(v,m),b=zr(d),_=p.path(b,{...m}),k=a.insert("g",":first-child");return k.insert(()=>_,":first-child").attr("stroke-opacity",0),k.insert(()=>y,":first-child"),k.attr("class","text"),f&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",f),n&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",n),k.attr("transform",`translate(${u}, 0)`),o.attr("transform",`translate(${-s/2+u-(i.x-(i.left??0))},${-l/2+(t.padding??0)/2-(i.y-(i.top??0))})`),Be(t,k),t.intersect=function(w){return Ae.polygon(t,d,w)},a}function Qf(e,t,r,n=100,a=0,i=180){let o=[],s=a*Math.PI/180,f=(i*Math.PI/180-s)/(n-1);for(let h=0;h<n;h++){let d=s+h*f,p=e+r*Math.cos(d),m=t+r*Math.sin(d);o.push({x:p,y:m})}return o}async function uit(e,t){let{labelStyles:r,nodeStyles:n}=De(t);t.labelStyle=r;let{shapeSvg:a,bbox:i,label:o}=await Qe(e,t,Xe(t)),s=i.width+(t.padding??0),l=i.height+(t.padding??0),u=Math.max(5,l*.1),{cssStyles:f}=t,h=[...Qf(s/2,-l/2,u,20,-90,0),{x:s/2+u,y:-u},...Qf(s/2+u*2,-u,u,20,-180,-270),...Qf(s/2+u*2,u,u,20,-90,-180),{x:s/2+u,y:l/2},...Qf(s/2,l/2,u,20,0,90)],d=[{x:-s/2,y:-l/2-u},{x:s/2,y:-l/2-u},...Qf(s/2,-l/2,u,20,-90,0),{x:s/2+u,y:-u},...Qf(s/2+u*2,-u,u,20,-180,-270),...Qf(s/2+u*2,u,u,20,-90,-180),{x:s/2+u,y:l/2},...Qf(s/2,l/2,u,20,0,90),{x:s/2,y:l/2+u},{x:-s/2,y:l/2+u}],p=Kt.svg(a),m=Pe(t,{fill:"none"});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let v=zr(h).replace("Z",""),y=p.path(v,m),b=zr(d),_=p.path(b,{...m}),k=a.insert("g",":first-child");return k.insert(()=>_,":first-child").attr("stroke-opacity",0),k.insert(()=>y,":first-child"),k.attr("class","text"),f&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",f),n&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",n),k.attr("transform",`translate(${-u}, 0)`),o.attr("transform",`translate(${-s/2+(t.padding??0)/2-(i.x-(i.left??0))},${-l/2+(t.padding??0)/2-(i.y-(i.top??0))})`),Be(t,k),t.intersect=function(w){return Ae.polygon(t,d,w)},a}function eo(e,t,r,n=100,a=0,i=180){let o=[],s=a*Math.PI/180,f=(i*Math.PI/180-s)/(n-1);for(let h=0;h<n;h++){let d=s+h*f,p=e+r*Math.cos(d),m=t+r*Math.sin(d);o.push({x:-p,y:-m})}return o}async function cit(e,t){let{labelStyles:r,nodeStyles:n}=De(t);t.labelStyle=r;let{shapeSvg:a,bbox:i,label:o}=await Qe(e,t,Xe(t)),s=i.width+(t.padding??0),l=i.height+(t.padding??0),u=Math.max(5,l*.1),{cssStyles:f}=t,h=[...eo(s/2,-l/2,u,30,-90,0),{x:-s/2-u,y:u},...eo(s/2+u*2,-u,u,20,-180,-270),...eo(s/2+u*2,u,u,20,-90,-180),{x:-s/2-u,y:-l/2},...eo(s/2,l/2,u,20,0,90)],d=[...eo(-s/2+u+u/2,-l/2,u,20,-90,-180),{x:s/2-u/2,y:u},...eo(-s/2-u/2,-u,u,20,0,90),...eo(-s/2-u/2,u,u,20,-90,0),{x:s/2-u/2,y:-u},...eo(-s/2+u+u/2,l/2,u,30,-180,-270)],p=[{x:s/2,y:-l/2-u},{x:-s/2,y:-l/2-u},...eo(s/2,-l/2,u,20,-90,0),{x:-s/2-u,y:-u},...eo(s/2+u*2,-u,u,20,-180,-270),...eo(s/2+u*2,u,u,20,-90,-180),{x:-s/2-u,y:l/2},...eo(s/2,l/2,u,20,0,90),{x:-s/2,y:l/2+u},{x:s/2-u-u/2,y:l/2+u},...eo(-s/2+u+u/2,-l/2,u,20,-90,-180),{x:s/2-u/2,y:u},...eo(-s/2-u/2,-u,u,20,0,90),...eo(-s/2-u/2,u,u,20,-90,0),{x:s/2-u/2,y:-u},...eo(-s/2+u+u/2,l/2,u,30,-180,-270)],m=Kt.svg(a),g=Pe(t,{fill:"none"});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");let y=zr(h).replace("Z",""),b=m.path(y,g),k=zr(d).replace("Z",""),w=m.path(k,g),T=zr(p),S=m.path(T,{...g}),C=a.insert("g",":first-child");return C.insert(()=>S,":first-child").attr("stroke-opacity",0),C.insert(()=>b,":first-child"),C.insert(()=>w,":first-child"),C.attr("class","text"),f&&t.look!=="handDrawn"&&C.selectAll("path").attr("style",f),n&&t.look!=="handDrawn"&&C.selectAll("path").attr("style",n),C.attr("transform",`translate(${u-u/4}, 0)`),o.attr("transform",`translate(${-s/2+(t.padding??0)/2-(i.x-(i.left??0))},${-l/2+(t.padding??0)/2-(i.y-(i.top??0))})`),Be(t,C),t.intersect=function(M){return Ae.polygon(t,p,M)},a}async function fit(e,t){let{labelStyles:r,nodeStyles:n}=De(t);t.labelStyle=r;let{shapeSvg:a,bbox:i}=await Qe(e,t,Xe(t)),o=80,s=20,l=Math.max(o,(i.width+(t.padding??0)*2)*1.25,t?.width??0),u=Math.max(s,i.height+(t.padding??0)*2,t?.height??0),f=u/2,{cssStyles:h}=t,d=Kt.svg(a),p=Pe(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");let m=l,g=u,v=m-f,y=g/4,b=[{x:v,y:0},{x:y,y:0},{x:0,y:g/2},{x:y,y:g},{x:v,y:g},...Ub(-v,-g/2,f,50,270,90)],_=zr(b),k=d.path(_,p),w=a.insert(()=>k,":first-child");return w.attr("class","basic label-container"),h&&t.look!=="handDrawn"&&w.selectChildren("path").attr("style",h),n&&t.look!=="handDrawn"&&w.selectChildren("path").attr("style",n),w.attr("transform",`translate(${-l/2}, ${-u/2})`),Be(t,w),t.intersect=function(T){return Ae.polygon(t,b,T)},a}async function hit(e,t){let{labelStyles:r,nodeStyles:n}=De(t);t.labelStyle=r;let{shapeSvg:a,bbox:i,label:o}=await Qe(e,t,Xe(t)),s=Math.max(i.width+t.padding,t.width??0),l=s/2,u=l/(2.5+s/50),f=Math.max(i.height+u+t.padding,t.height??0),h,{cssStyles:d}=t;if(t.look==="handDrawn"){let p=Kt.svg(a),m=aOt(0,0,s,f,l,u),g=iOt(0,u,s,f,l,u),v=p.path(m,Pe(t,{})),y=p.path(g,Pe(t,{fill:"none"}));h=a.insert(()=>y,":first-child"),h=a.insert(()=>v,":first-child"),h.attr("class","basic label-container"),d&&h.attr("style",d)}else{let p=nOt(0,0,s,f,l,u);h=a.insert("path",":first-child").attr("d",p).attr("class","basic label-container").attr("style",Zi(d)).attr("style",n)}return h.attr("label-offset-y",u),h.attr("transform",`translate(${-s/2}, ${-(f/2+u)})`),Be(t,h),o.attr("transform",`translate(${-(i.width/2)-(i.x-(i.left??0))}, ${-(i.height/2)+(t.padding??0)/1.5-(i.y-(i.top??0))})`),t.intersect=function(p){let m=Ae.rect(t,p),g=m.x-(t.x??0);if(l!=0&&(Math.abs(g)<(t.width??0)/2||Math.abs(g)==(t.width??0)/2&&Math.abs(m.y-(t.y??0))>(t.height??0)/2-u)){let v=u*u*(1-g*g/(l*l));v>0&&(v=Math.sqrt(v)),v=u-v,p.y-(t.y??0)>0&&(v=-v),m.y+=v}return m},a}async function dit(e,t){let{labelStyles:r,nodeStyles:n}=De(t);t.labelStyle=r;let{shapeSvg:a,bbox:i,label:o}=await Qe(e,t,Xe(t)),s=i.width+t.padding,l=i.height+t.padding,u=l*.2,f=-s/2,h=-l/2-u/2,{cssStyles:d}=t,p=Kt.svg(a),m=Pe(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let g=[{x:f,y:h+u},{x:-f,y:h+u},{x:-f,y:-h},{x:f,y:-h},{x:f,y:h},{x:-f,y:h},{x:-f,y:h+u}],v=p.polygon(g.map(b=>[b.x,b.y]),m),y=a.insert(()=>v,":first-child");return y.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",d),n&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",n),o.attr("transform",`translate(${f+(t.padding??0)/2-(i.x-(i.left??0))}, ${h+u+(t.padding??0)/2-(i.y-(i.top??0))})`),Be(t,y),t.intersect=function(b){return Ae.rect(t,b)},a}async function pit(e,t){let{labelStyles:r,nodeStyles:n}=De(t);t.labelStyle=r;let{shapeSvg:a,bbox:i,halfPadding:o}=await Qe(e,t,Xe(t)),l=i.width/2+o+5,u=i.width/2+o,f,{cssStyles:h}=t;if(t.look==="handDrawn"){let d=Kt.svg(a),p=Pe(t,{roughness:.2,strokeWidth:2.5}),m=Pe(t,{roughness:.2,strokeWidth:1.5}),g=d.circle(0,0,l*2,p),v=d.circle(0,0,u*2,m);f=a.insert("g",":first-child"),f.attr("class",Zi(t.cssClasses)).attr("style",Zi(h)),f.node()?.appendChild(g),f.node()?.appendChild(v)}else{f=a.insert("g",":first-child");let d=f.insert("circle",":first-child"),p=f.insert("circle");f.attr("class","basic label-container").attr("style",n),d.attr("class","outer-circle").attr("style",n).attr("r",l).attr("cx",0).attr("cy",0),p.attr("class","inner-circle").attr("style",n).attr("r",u).attr("cx",0).attr("cy",0)}return Be(t,f),t.intersect=function(d){return J.info("DoubleCircle intersect",t,l,d),Ae.circle(t,l,d)},a}function mit(e,t,{config:{themeVariables:r}}){let{labelStyles:n,nodeStyles:a}=De(t);t.label="",t.labelStyle=n;let i=e.insert("g").attr("class",Xe(t)).attr("id",t.domId??t.id),o=7,{cssStyles:s}=t,l=Kt.svg(i),{nodeBorder:u}=r,f=Pe(t,{fillStyle:"solid"});t.look!=="handDrawn"&&(f.roughness=0);let h=l.circle(0,0,o*2,f),d=i.insert(()=>h,":first-child");return d.selectAll("path").attr("style",`fill: ${u} !important;`),s&&s.length>0&&t.look!=="handDrawn"&&d.selectAll("path").attr("style",s),a&&t.look!=="handDrawn"&&d.selectAll("path").attr("style",a),Be(t,d),t.intersect=function(p){return J.info("filledCircle intersect",t,{radius:o,point:p}),Ae.circle(t,o,p)},i}async function git(e,t){let{labelStyles:r,nodeStyles:n}=De(t);t.labelStyle=r;let{shapeSvg:a,bbox:i,label:o}=await Qe(e,t,Xe(t)),s=i.width+(t.padding??0),l=s+i.height,u=s+i.height,f=[{x:0,y:-l},{x:u,y:-l},{x:u/2,y:0}],{cssStyles:h}=t,d=Kt.svg(a),p=Pe(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");let m=zr(f),g=d.path(m,p),v=a.insert(()=>g,":first-child").attr("transform",`translate(${-l/2}, ${l/2})`);return h&&t.look!=="handDrawn"&&v.selectChildren("path").attr("style",h),n&&t.look!=="handDrawn"&&v.selectChildren("path").attr("style",n),t.width=s,t.height=l,Be(t,v),o.attr("transform",`translate(${-i.width/2-(i.x-(i.left??0))}, ${-l/2+(t.padding??0)/2+(i.y-(i.top??0))})`),t.intersect=function(y){return J.info("Triangle intersect",t,f,y),Ae.polygon(t,f,y)},a}function vit(e,t,{dir:r,config:{state:n,themeVariables:a}}){let{nodeStyles:i}=De(t);t.label="";let o=e.insert("g").attr("class",Xe(t)).attr("id",t.domId??t.id),{cssStyles:s}=t,l=Math.max(70,t?.width??0),u=Math.max(10,t?.height??0);r==="LR"&&(l=Math.max(10,t?.width??0),u=Math.max(70,t?.height??0));let f=-1*l/2,h=-1*u/2,d=Kt.svg(o),p=Pe(t,{stroke:a.lineColor,fill:a.lineColor});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");let m=d.rectangle(f,h,l,u,p),g=o.insert(()=>m,":first-child");s&&t.look!=="handDrawn"&&g.selectAll("path").attr("style",s),i&&t.look!=="handDrawn"&&g.selectAll("path").attr("style",i),Be(t,g);let v=n?.padding??0;return t.width&&t.height&&(t.width+=v/2||0,t.height+=v/2||0),t.intersect=function(y){return Ae.rect(t,y)},o}async function yit(e,t){let{labelStyles:r,nodeStyles:n}=De(t);t.labelStyle=r;let a=80,i=50,{shapeSvg:o,bbox:s}=await Qe(e,t,Xe(t)),l=Math.max(a,s.width+(t.padding??0)*2,t?.width??0),u=Math.max(i,s.height+(t.padding??0)*2,t?.height??0),f=u/2,{cssStyles:h}=t,d=Kt.svg(o),p=Pe(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");let m=[{x:-l/2,y:-u/2},{x:l/2-f,y:-u/2},...Ub(-l/2+f,0,f,50,90,270),{x:l/2-f,y:u/2},{x:-l/2,y:u/2}],g=zr(m),v=d.path(g,p),y=o.insert(()=>v,":first-child");return y.attr("class","basic label-container"),h&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",h),n&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",n),Be(t,y),t.intersect=function(b){return J.info("Pill intersect",t,{radius:f,point:b}),Ae.polygon(t,m,b)},o}async function xit(e,t){let{labelStyles:r,nodeStyles:n}=De(t);t.labelStyle=r;let{shapeSvg:a,bbox:i}=await Qe(e,t,Xe(t)),o=i.height+(t.padding??0),s=i.width+(t.padding??0)*2.5,{cssStyles:l}=t,u=Kt.svg(a),f=Pe(t,{});t.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");let h=s/2,d=h/6;h=h+d;let p=o/2,m=p/2,g=h-m,v=[{x:-g,y:-p},{x:0,y:-p},{x:g,y:-p},{x:h,y:0},{x:g,y:p},{x:0,y:p},{x:-g,y:p},{x:-h,y:0}],y=zr(v),b=u.path(y,f),_=a.insert(()=>b,":first-child");return _.attr("class","basic label-container"),l&&t.look!=="handDrawn"&&_.selectChildren("path").attr("style",l),n&&t.look!=="handDrawn"&&_.selectChildren("path").attr("style",n),t.width=s,t.height=o,Be(t,_),t.intersect=function(k){return Ae.polygon(t,v,k)},a}async function bit(e,t){let{labelStyles:r,nodeStyles:n}=De(t);t.label="",t.labelStyle=r;let{shapeSvg:a}=await Qe(e,t,Xe(t)),i=Math.max(30,t?.width??0),o=Math.max(30,t?.height??0),{cssStyles:s}=t,l=Kt.svg(a),u=Pe(t,{});t.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");let f=[{x:0,y:0},{x:i,y:0},{x:0,y:o},{x:i,y:o}],h=zr(f),d=l.path(h,u),p=a.insert(()=>d,":first-child");return p.attr("class","basic label-container"),s&&t.look!=="handDrawn"&&p.selectChildren("path").attr("style",s),n&&t.look!=="handDrawn"&&p.selectChildren("path").attr("style",n),p.attr("transform",`translate(${-i/2}, ${-o/2})`),Be(t,p),t.intersect=function(m){return J.info("Pill intersect",t,{points:f}),Ae.polygon(t,f,m)},a}async function _it(e,t,{config:{themeVariables:r,flowchart:n}}){let{labelStyles:a}=De(t);t.labelStyle=a;let i=t.assetHeight??48,o=t.assetWidth??48,s=Math.max(i,o),l=n?.wrappingWidth;t.width=Math.max(s,l??0);let{shapeSvg:u,bbox:f,label:h}=await Qe(e,t,"icon-shape default"),d=t.pos==="t",p=s,m=s,{nodeBorder:g}=r,{stylesMap:v}=b0(t),y=-m/2,b=-p/2,_=t.label?8:0,k=Kt.svg(u),w=Pe(t,{stroke:"none",fill:"none"});t.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");let T=k.rectangle(y,b,m,p,w),S=Math.max(m,f.width),C=p+f.height+_,M=k.rectangle(-S/2,-C/2,S,C,{...w,fill:"transparent",stroke:"none"}),N=u.insert(()=>T,":first-child"),L=u.insert(()=>M);if(t.icon){let E=u.append("g");E.html(`<g>${await Ic(t.icon,{height:s,width:s,fallbackPrefix:""})}</g>`);let A=E.node().getBBox(),D=A.width,R=A.height,I=A.x,O=A.y;E.attr("transform",`translate(${-D/2-I},${d?f.height/2+_/2-R/2-O:-f.height/2-_/2-R/2-O})`),E.attr("style",`color: ${v.get("stroke")??g};`)}return h.attr("transform",`translate(${-f.width/2-(f.x-(f.left??0))},${d?-C/2:C/2-f.height})`),N.attr("transform",`translate(0,${d?f.height/2+_/2:-f.height/2-_/2})`),Be(t,L),t.intersect=function(E){if(J.info("iconSquare intersect",t,E),!t.label)return Ae.rect(t,E);let A=t.x??0,D=t.y??0,R=t.height??0,I=[];return d?I=[{x:A-f.width/2,y:D-R/2},{x:A+f.width/2,y:D-R/2},{x:A+f.width/2,y:D-R/2+f.height+_},{x:A+m/2,y:D-R/2+f.height+_},{x:A+m/2,y:D+R/2},{x:A-m/2,y:D+R/2},{x:A-m/2,y:D-R/2+f.height+_},{x:A-f.width/2,y:D-R/2+f.height+_}]:I=[{x:A-m/2,y:D-R/2},{x:A+m/2,y:D-R/2},{x:A+m/2,y:D-R/2+p},{x:A+f.width/2,y:D-R/2+p},{x:A+f.width/2/2,y:D+R/2},{x:A-f.width/2,y:D+R/2},{x:A-f.width/2,y:D-R/2+p},{x:A-m/2,y:D-R/2+p}],Ae.polygon(t,I,E)},u}async function wit(e,t,{config:{themeVariables:r,flowchart:n}}){let{labelStyles:a}=De(t);t.labelStyle=a;let i=t.assetHeight??48,o=t.assetWidth??48,s=Math.max(i,o),l=n?.wrappingWidth;t.width=Math.max(s,l??0);let{shapeSvg:u,bbox:f,label:h}=await Qe(e,t,"icon-shape default"),d=20,p=t.label?8:0,m=t.pos==="t",{nodeBorder:g,mainBkg:v}=r,{stylesMap:y}=b0(t),b=Kt.svg(u),_=Pe(t,{});t.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");let k=y.get("fill");_.stroke=k??v;let w=u.append("g");t.icon&&w.html(`<g>${await Ic(t.icon,{height:s,width:s,fallbackPrefix:""})}</g>`);let T=w.node().getBBox(),S=T.width,C=T.height,M=T.x,N=T.y,L=Math.max(S,C)*Math.SQRT2+d*2,E=b.circle(0,0,L,_),A=Math.max(L,f.width),D=L+f.height+p,R=b.rectangle(-A/2,-D/2,A,D,{..._,fill:"transparent",stroke:"none"}),I=u.insert(()=>E,":first-child"),O=u.insert(()=>R);return w.attr("transform",`translate(${-S/2-M},${m?f.height/2+p/2-C/2-N:-f.height/2-p/2-C/2-N})`),w.attr("style",`color: ${y.get("stroke")??g};`),h.attr("transform",`translate(${-f.width/2-(f.x-(f.left??0))},${m?-D/2:D/2-f.height})`),I.attr("transform",`translate(0,${m?f.height/2+p/2:-f.height/2-p/2})`),Be(t,O),t.intersect=function(F){return J.info("iconSquare intersect",t,F),Ae.rect(t,F)},u}async function Tit(e,t,{config:{themeVariables:r,flowchart:n}}){let{labelStyles:a}=De(t);t.labelStyle=a;let i=t.assetHeight??48,o=t.assetWidth??48,s=Math.max(i,o),l=n?.wrappingWidth;t.width=Math.max(s,l??0);let{shapeSvg:u,bbox:f,halfPadding:h,label:d}=await Qe(e,t,"icon-shape default"),p=t.pos==="t",m=s+h*2,g=s+h*2,{nodeBorder:v,mainBkg:y}=r,{stylesMap:b}=b0(t),_=-g/2,k=-m/2,w=t.label?8:0,T=Kt.svg(u),S=Pe(t,{});t.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");let C=b.get("fill");S.stroke=C??y;let M=T.path(Td(_,k,g,m,5),S),N=Math.max(g,f.width),L=m+f.height+w,E=T.rectangle(-N/2,-L/2,N,L,{...S,fill:"transparent",stroke:"none"}),A=u.insert(()=>M,":first-child").attr("class","icon-shape2"),D=u.insert(()=>E);if(t.icon){let R=u.append("g");R.html(`<g>${await Ic(t.icon,{height:s,width:s,fallbackPrefix:""})}</g>`);let I=R.node().getBBox(),O=I.width,F=I.height,P=I.x,q=I.y;R.attr("transform",`translate(${-O/2-P},${p?f.height/2+w/2-F/2-q:-f.height/2-w/2-F/2-q})`),R.attr("style",`color: ${b.get("stroke")??v};`)}return d.attr("transform",`translate(${-f.width/2-(f.x-(f.left??0))},${p?-L/2:L/2-f.height})`),A.attr("transform",`translate(0,${p?f.height/2+w/2:-f.height/2-w/2})`),Be(t,D),t.intersect=function(R){if(J.info("iconSquare intersect",t,R),!t.label)return Ae.rect(t,R);let I=t.x??0,O=t.y??0,F=t.height??0,P=[];return p?P=[{x:I-f.width/2,y:O-F/2},{x:I+f.width/2,y:O-F/2},{x:I+f.width/2,y:O-F/2+f.height+w},{x:I+g/2,y:O-F/2+f.height+w},{x:I+g/2,y:O+F/2},{x:I-g/2,y:O+F/2},{x:I-g/2,y:O-F/2+f.height+w},{x:I-f.width/2,y:O-F/2+f.height+w}]:P=[{x:I-g/2,y:O-F/2},{x:I+g/2,y:O-F/2},{x:I+g/2,y:O-F/2+m},{x:I+f.width/2,y:O-F/2+m},{x:I+f.width/2/2,y:O+F/2},{x:I-f.width/2,y:O+F/2},{x:I-f.width/2,y:O-F/2+m},{x:I-g/2,y:O-F/2+m}],Ae.polygon(t,P,R)},u}async function Eit(e,t,{config:{themeVariables:r,flowchart:n}}){let{labelStyles:a}=De(t);t.labelStyle=a;let i=t.assetHeight??48,o=t.assetWidth??48,s=Math.max(i,o),l=n?.wrappingWidth;t.width=Math.max(s,l??0);let{shapeSvg:u,bbox:f,halfPadding:h,label:d}=await Qe(e,t,"icon-shape default"),p=t.pos==="t",m=s+h*2,g=s+h*2,{nodeBorder:v,mainBkg:y}=r,{stylesMap:b}=b0(t),_=-g/2,k=-m/2,w=t.label?8:0,T=Kt.svg(u),S=Pe(t,{});t.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");let C=b.get("fill");S.stroke=C??y;let M=T.path(Td(_,k,g,m,.1),S),N=Math.max(g,f.width),L=m+f.height+w,E=T.rectangle(-N/2,-L/2,N,L,{...S,fill:"transparent",stroke:"none"}),A=u.insert(()=>M,":first-child"),D=u.insert(()=>E);if(t.icon){let R=u.append("g");R.html(`<g>${await Ic(t.icon,{height:s,width:s,fallbackPrefix:""})}</g>`);let I=R.node().getBBox(),O=I.width,F=I.height,P=I.x,q=I.y;R.attr("transform",`translate(${-O/2-P},${p?f.height/2+w/2-F/2-q:-f.height/2-w/2-F/2-q})`),R.attr("style",`color: ${b.get("stroke")??v};`)}return d.attr("transform",`translate(${-f.width/2-(f.x-(f.left??0))},${p?-L/2:L/2-f.height})`),A.attr("transform",`translate(0,${p?f.height/2+w/2:-f.height/2-w/2})`),Be(t,D),t.intersect=function(R){if(J.info("iconSquare intersect",t,R),!t.label)return Ae.rect(t,R);let I=t.x??0,O=t.y??0,F=t.height??0,P=[];return p?P=[{x:I-f.width/2,y:O-F/2},{x:I+f.width/2,y:O-F/2},{x:I+f.width/2,y:O-F/2+f.height+w},{x:I+g/2,y:O-F/2+f.height+w},{x:I+g/2,y:O+F/2},{x:I-g/2,y:O+F/2},{x:I-g/2,y:O-F/2+f.height+w},{x:I-f.width/2,y:O-F/2+f.height+w}]:P=[{x:I-g/2,y:O-F/2},{x:I+g/2,y:O-F/2},{x:I+g/2,y:O-F/2+m},{x:I+f.width/2,y:O-F/2+m},{x:I+f.width/2/2,y:O+F/2},{x:I-f.width/2,y:O+F/2},{x:I-f.width/2,y:O-F/2+m},{x:I-g/2,y:O-F/2+m}],Ae.polygon(t,P,R)},u}async function kit(e,t,{config:{flowchart:r}}){let n=new Image;n.src=t?.img??"",await n.decode();let a=Number(n.naturalWidth.toString().replace("px","")),i=Number(n.naturalHeight.toString().replace("px",""));t.imageAspectRatio=a/i;let{labelStyles:o}=De(t);t.labelStyle=o;let s=r?.wrappingWidth;t.defaultWidth=r?.wrappingWidth;let l=Math.max(t.label?s??0:0,t?.assetWidth??a),u=t.constraint==="on"&&t?.assetHeight?t.assetHeight*t.imageAspectRatio:l,f=t.constraint==="on"?u/t.imageAspectRatio:t?.assetHeight??i;t.width=Math.max(u,s??0);let{shapeSvg:h,bbox:d,label:p}=await Qe(e,t,"image-shape default"),m=t.pos==="t",g=-u/2,v=-f/2,y=t.label?8:0,b=Kt.svg(h),_=Pe(t,{});t.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");let k=b.rectangle(g,v,u,f,_),w=Math.max(u,d.width),T=f+d.height+y,S=b.rectangle(-w/2,-T/2,w,T,{..._,fill:"none",stroke:"none"}),C=h.insert(()=>k,":first-child"),M=h.insert(()=>S);if(t.img){let N=h.append("image");N.attr("href",t.img),N.attr("width",u),N.attr("height",f),N.attr("preserveAspectRatio","none"),N.attr("transform",`translate(${-u/2},${m?T/2-f:-T/2})`)}return p.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${m?-f/2-d.height/2-y/2:f/2-d.height/2+y/2})`),C.attr("transform",`translate(0,${m?d.height/2+y/2:-d.height/2-y/2})`),Be(t,M),t.intersect=function(N){if(J.info("iconSquare intersect",t,N),!t.label)return Ae.rect(t,N);let L=t.x??0,E=t.y??0,A=t.height??0,D=[];return m?D=[{x:L-d.width/2,y:E-A/2},{x:L+d.width/2,y:E-A/2},{x:L+d.width/2,y:E-A/2+d.height+y},{x:L+u/2,y:E-A/2+d.height+y},{x:L+u/2,y:E+A/2},{x:L-u/2,y:E+A/2},{x:L-u/2,y:E-A/2+d.height+y},{x:L-d.width/2,y:E-A/2+d.height+y}]:D=[{x:L-u/2,y:E-A/2},{x:L+u/2,y:E-A/2},{x:L+u/2,y:E-A/2+f},{x:L+d.width/2,y:E-A/2+f},{x:L+d.width/2/2,y:E+A/2},{x:L-d.width/2,y:E+A/2},{x:L-d.width/2,y:E-A/2+f},{x:L-u/2,y:E-A/2+f}],Ae.polygon(t,D,N)},h}async function Cit(e,t){let{labelStyles:r,nodeStyles:n}=De(t);t.labelStyle=r;let{shapeSvg:a,bbox:i}=await Qe(e,t,Xe(t)),o=Math.max(i.width+(t.padding??0)*2,t?.width??0),s=Math.max(i.height+(t.padding??0)*2,t?.height??0),l=[{x:0,y:0},{x:o,y:0},{x:o+3*s/6,y:-s},{x:-3*s/6,y:-s}],u,{cssStyles:f}=t;if(t.look==="handDrawn"){let h=Kt.svg(a),d=Pe(t,{}),p=zr(l),m=h.path(p,d);u=a.insert(()=>m,":first-child").attr("transform",`translate(${-o/2}, ${s/2})`),f&&u.attr("style",f)}else u=Ed(a,o,s,l);return n&&u.attr("style",n),t.width=o,t.height=s,Be(t,u),t.intersect=function(h){return Ae.polygon(t,l,h)},a}async function HE(e,t,r){let{labelStyles:n,nodeStyles:a}=De(t);t.labelStyle=n;let{shapeSvg:i,bbox:o}=await Qe(e,t,Xe(t)),s=Math.max(o.width+r.labelPaddingX*2,t?.width||0),l=Math.max(o.height+r.labelPaddingY*2,t?.height||0),u=-s/2,f=-l/2,h,{rx:d,ry:p}=t,{cssStyles:m}=t;if(r?.rx&&r.ry&&(d=r.rx,p=r.ry),t.look==="handDrawn"){let g=Kt.svg(i),v=Pe(t,{}),y=d||p?g.path(Td(u,f,s,l,d||0),v):g.rectangle(u,f,s,l,v);h=i.insert(()=>y,":first-child"),h.attr("class","basic label-container").attr("style",Zi(m))}else h=i.insert("rect",":first-child"),h.attr("class","basic label-container").attr("style",a).attr("rx",Zi(d)).attr("ry",Zi(p)).attr("x",u).attr("y",f).attr("width",s).attr("height",l);return Be(t,h),t.calcIntersect=function(g,v){return Ae.rect(g,v)},t.intersect=function(g){return Ae.rect(t,g)},i}async function Sit(e,t){let{shapeSvg:r,bbox:n,label:a}=await Qe(e,t,"label"),i=r.insert("rect",":first-child");return i.attr("width",.1).attr("height",.1),r.attr("class","label edgeLabel"),a.attr("transform",`translate(${-(n.width/2)-(n.x-(n.left??0))}, ${-(n.height/2)-(n.y-(n.top??0))})`),Be(t,i),t.intersect=function(l){return Ae.rect(t,l)},r}async function Dit(e,t){let{labelStyles:r,nodeStyles:n}=De(t);t.labelStyle=r;let{shapeSvg:a,bbox:i}=await Qe(e,t,Xe(t)),o=Math.max(i.width+(t.padding??0),t?.width??0),s=Math.max(i.height+(t.padding??0),t?.height??0),l=[{x:0,y:0},{x:o+3*s/6,y:0},{x:o,y:-s},{x:-(3*s)/6,y:-s}],u,{cssStyles:f}=t;if(t.look==="handDrawn"){let h=Kt.svg(a),d=Pe(t,{}),p=zr(l),m=h.path(p,d);u=a.insert(()=>m,":first-child").attr("transform",`translate(${-o/2}, ${s/2})`),f&&u.attr("style",f)}else u=Ed(a,o,s,l);return n&&u.attr("style",n),t.width=o,t.height=s,Be(t,u),t.intersect=function(h){return Ae.polygon(t,l,h)},a}async function Ait(e,t){let{labelStyles:r,nodeStyles:n}=De(t);t.labelStyle=r;let{shapeSvg:a,bbox:i}=await Qe(e,t,Xe(t)),o=Math.max(i.width+(t.padding??0),t?.width??0),s=Math.max(i.height+(t.padding??0),t?.height??0),l=[{x:-3*s/6,y:0},{x:o,y:0},{x:o+3*s/6,y:-s},{x:0,y:-s}],u,{cssStyles:f}=t;if(t.look==="handDrawn"){let h=Kt.svg(a),d=Pe(t,{}),p=zr(l),m=h.path(p,d);u=a.insert(()=>m,":first-child").attr("transform",`translate(${-o/2}, ${s/2})`),f&&u.attr("style",f)}else u=Ed(a,o,s,l);return n&&u.attr("style",n),t.width=o,t.height=s,Be(t,u),t.intersect=function(h){return Ae.polygon(t,l,h)},a}function Lit(e,t){let{labelStyles:r,nodeStyles:n}=De(t);t.label="",t.labelStyle=r;let a=e.insert("g").attr("class",Xe(t)).attr("id",t.domId??t.id),{cssStyles:i}=t,o=Math.max(35,t?.width??0),s=Math.max(35,t?.height??0),l=7,u=[{x:o,y:0},{x:0,y:s+l/2},{x:o-2*l,y:s+l/2},{x:0,y:2*s},{x:o,y:s-l/2},{x:2*l,y:s-l/2}],f=Kt.svg(a),h=Pe(t,{});t.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");let d=zr(u),p=f.path(d,h),m=a.insert(()=>p,":first-child");return i&&t.look!=="handDrawn"&&m.selectAll("path").attr("style",i),n&&t.look!=="handDrawn"&&m.selectAll("path").attr("style",n),m.attr("transform",`translate(-${o/2},${-s})`),Be(t,m),t.intersect=function(g){return J.info("lightningBolt intersect",t,g),Ae.polygon(t,u,g)},a}async function Mit(e,t){let{labelStyles:r,nodeStyles:n}=De(t);t.labelStyle=r;let{shapeSvg:a,bbox:i,label:o}=await Qe(e,t,Xe(t)),s=Math.max(i.width+(t.padding??0),t.width??0),l=s/2,u=l/(2.5+s/50),f=Math.max(i.height+u+(t.padding??0),t.height??0),h=f*.1,d,{cssStyles:p}=t;if(t.look==="handDrawn"){let m=Kt.svg(a),g=sOt(0,0,s,f,l,u,h),v=lOt(0,u,s,f,l,u),y=Pe(t,{}),b=m.path(g,y),_=m.path(v,y);a.insert(()=>_,":first-child").attr("class","line"),d=a.insert(()=>b,":first-child"),d.attr("class","basic label-container"),p&&d.attr("style",p)}else{let m=oOt(0,0,s,f,l,u,h);d=a.insert("path",":first-child").attr("d",m).attr("class","basic label-container").attr("style",Zi(p)).attr("style",n)}return d.attr("label-offset-y",u),d.attr("transform",`translate(${-s/2}, ${-(f/2+u)})`),Be(t,d),o.attr("transform",`translate(${-(i.width/2)-(i.x-(i.left??0))}, ${-(i.height/2)+u-(i.y-(i.top??0))})`),t.intersect=function(m){let g=Ae.rect(t,m),v=g.x-(t.x??0);if(l!=0&&(Math.abs(v)<(t.width??0)/2||Math.abs(v)==(t.width??0)/2&&Math.abs(g.y-(t.y??0))>(t.height??0)/2-u)){let y=u*u*(1-v*v/(l*l));y>0&&(y=Math.sqrt(y)),y=u-y,m.y-(t.y??0)>0&&(y=-y),g.y+=y}return g},a}async function Iit(e,t){let{labelStyles:r,nodeStyles:n}=De(t);t.labelStyle=r;let{shapeSvg:a,bbox:i,label:o}=await Qe(e,t,Xe(t)),s=Math.max(i.width+(t.padding??0)*2,t?.width??0),l=Math.max(i.height+(t.padding??0)*2,t?.height??0),u=l/4,f=l+u,{cssStyles:h}=t,d=Kt.svg(a),p=Pe(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");let m=[{x:-s/2-s/2*.1,y:-f/2},{x:-s/2-s/2*.1,y:f/2},..._d(-s/2-s/2*.1,f/2,s/2+s/2*.1,f/2,u,.8),{x:s/2+s/2*.1,y:-f/2},{x:-s/2-s/2*.1,y:-f/2},{x:-s/2,y:-f/2},{x:-s/2,y:f/2*1.1},{x:-s/2,y:-f/2}],g=d.polygon(m.map(y=>[y.x,y.y]),p),v=a.insert(()=>g,":first-child");return v.attr("class","basic label-container"),h&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",h),n&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",n),v.attr("transform",`translate(0,${-u/2})`),o.attr("transform",`translate(${-s/2+(t.padding??0)+s/2*.1/2-(i.x-(i.left??0))},${-l/2+(t.padding??0)-u/2-(i.y-(i.top??0))})`),Be(t,v),t.intersect=function(y){return Ae.polygon(t,m,y)},a}async function Rit(e,t){let{labelStyles:r,nodeStyles:n}=De(t);t.labelStyle=r;let{shapeSvg:a,bbox:i,label:o}=await Qe(e,t,Xe(t)),s=Math.max(i.width+(t.padding??0)*2,t?.width??0),l=Math.max(i.height+(t.padding??0)*2,t?.height??0),u=5,f=-s/2,h=-l/2,{cssStyles:d}=t,p=Kt.svg(a),m=Pe(t,{}),g=[{x:f-u,y:h+u},{x:f-u,y:h+l+u},{x:f+s-u,y:h+l+u},{x:f+s-u,y:h+l},{x:f+s,y:h+l},{x:f+s,y:h+l-u},{x:f+s+u,y:h+l-u},{x:f+s+u,y:h-u},{x:f+u,y:h-u},{x:f+u,y:h},{x:f,y:h},{x:f,y:h+u}],v=[{x:f,y:h+u},{x:f+s-u,y:h+u},{x:f+s-u,y:h+l},{x:f+s,y:h+l},{x:f+s,y:h},{x:f,y:h}];t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let y=zr(g),b=p.path(y,m),_=zr(v),k=p.path(_,{...m,fill:"none"}),w=a.insert(()=>k,":first-child");return w.insert(()=>b,":first-child"),w.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",d),n&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",n),o.attr("transform",`translate(${-(i.width/2)-u-(i.x-(i.left??0))}, ${-(i.height/2)+u-(i.y-(i.top??0))})`),Be(t,w),t.intersect=function(T){return Ae.polygon(t,g,T)},a}async function Nit(e,t){let{labelStyles:r,nodeStyles:n}=De(t);t.labelStyle=r;let{shapeSvg:a,bbox:i,label:o}=await Qe(e,t,Xe(t)),s=Math.max(i.width+(t.padding??0)*2,t?.width??0),l=Math.max(i.height+(t.padding??0)*2,t?.height??0),u=l/4,f=l+u,h=-s/2,d=-f/2,p=5,{cssStyles:m}=t,g=_d(h-p,d+f+p,h+s-p,d+f+p,u,.8),v=g?.[g.length-1],y=[{x:h-p,y:d+p},{x:h-p,y:d+f+p},...g,{x:h+s-p,y:v.y-p},{x:h+s,y:v.y-p},{x:h+s,y:v.y-2*p},{x:h+s+p,y:v.y-2*p},{x:h+s+p,y:d-p},{x:h+p,y:d-p},{x:h+p,y:d},{x:h,y:d},{x:h,y:d+p}],b=[{x:h,y:d+p},{x:h+s-p,y:d+p},{x:h+s-p,y:v.y-p},{x:h+s,y:v.y-p},{x:h+s,y:d},{x:h,y:d}],_=Kt.svg(a),k=Pe(t,{});t.look!=="handDrawn"&&(k.roughness=0,k.fillStyle="solid");let w=zr(y),T=_.path(w,k),S=zr(b),C=_.path(S,k),M=a.insert(()=>T,":first-child");return M.insert(()=>C),M.attr("class","basic label-container"),m&&t.look!=="handDrawn"&&M.selectAll("path").attr("style",m),n&&t.look!=="handDrawn"&&M.selectAll("path").attr("style",n),M.attr("transform",`translate(0,${-u/2})`),o.attr("transform",`translate(${-(i.width/2)-p-(i.x-(i.left??0))}, ${-(i.height/2)+p-u/2-(i.y-(i.top??0))})`),Be(t,M),t.intersect=function(N){return Ae.polygon(t,y,N)},a}async function Oit(e,t,{config:{themeVariables:r}}){let{labelStyles:n,nodeStyles:a}=De(t);t.labelStyle=n,t.useHtmlLabels||ur().flowchart?.htmlLabels!==!1||(t.centerLabel=!0);let{shapeSvg:o,bbox:s,label:l}=await Qe(e,t,Xe(t)),u=Math.max(s.width+(t.padding??0)*2,t?.width??0),f=Math.max(s.height+(t.padding??0)*2,t?.height??0),h=-u/2,d=-f/2,{cssStyles:p}=t,m=Kt.svg(o),g=Pe(t,{fill:r.noteBkgColor,stroke:r.noteBorderColor});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");let v=m.rectangle(h,d,u,f,g),y=o.insert(()=>v,":first-child");return y.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",p),a&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",a),l.attr("transform",`translate(${-s.width/2-(s.x-(s.left??0))}, ${-(s.height/2)-(s.y-(s.top??0))})`),Be(t,y),t.intersect=function(b){return Ae.rect(t,b)},o}async function Fit(e,t){let{labelStyles:r,nodeStyles:n}=De(t);t.labelStyle=r;let{shapeSvg:a,bbox:i}=await Qe(e,t,Xe(t)),o=i.width+t.padding,s=i.height+t.padding,l=o+s,u=.5,f=[{x:l/2,y:0},{x:l,y:-l/2},{x:l/2,y:-l},{x:0,y:-l/2}],h,{cssStyles:d}=t;if(t.look==="handDrawn"){let p=Kt.svg(a),m=Pe(t,{}),g=uOt(0,0,l),v=p.path(g,m);h=a.insert(()=>v,":first-child").attr("transform",`translate(${-l/2+u}, ${l/2})`),d&&h.attr("style",d)}else h=Ed(a,l,l,f),h.attr("transform",`translate(${-l/2+u}, ${l/2})`);return n&&h.attr("style",n),Be(t,h),t.calcIntersect=function(p,m){let g=p.width,v=[{x:g/2,y:0},{x:g,y:-g/2},{x:g/2,y:-g},{x:0,y:-g/2}],y=Ae.polygon(p,v,m);return{x:y.x-.5,y:y.y-.5}},t.intersect=function(p){return this.calcIntersect(t,p)},a}async function Pit(e,t){let{labelStyles:r,nodeStyles:n}=De(t);t.labelStyle=r;let{shapeSvg:a,bbox:i,label:o}=await Qe(e,t,Xe(t)),s=Math.max(i.width+(t.padding??0),t?.width??0),l=Math.max(i.height+(t.padding??0),t?.height??0),u=-s/2,f=-l/2,h=f/2,d=[{x:u+h,y:f},{x:u,y:0},{x:u+h,y:-f},{x:-u,y:-f},{x:-u,y:f}],{cssStyles:p}=t,m=Kt.svg(a),g=Pe(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");let v=zr(d),y=m.path(v,g),b=a.insert(()=>y,":first-child");return b.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",p),n&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",n),b.attr("transform",`translate(${-h/2},0)`),o.attr("transform",`translate(${-h/2-i.width/2-(i.x-(i.left??0))}, ${-(i.height/2)-(i.y-(i.top??0))})`),Be(t,b),t.intersect=function(_){return Ae.polygon(t,d,_)},a}async function Bit(e,t){let{labelStyles:r,nodeStyles:n}=De(t);t.labelStyle=r;let a;t.cssClasses?a="node "+t.cssClasses:a="node default";let i=e.insert("g").attr("class",a).attr("id",t.domId||t.id),o=i.insert("g"),s=i.insert("g").attr("class","label").attr("style",n),l=t.description,u=t.label,f=s.node().appendChild(await wd(u,t.labelStyle,!0,!0)),h={width:0,height:0};if(on(bt()?.flowchart?.htmlLabels)){let C=f.children[0],M=Vt(f);h=C.getBoundingClientRect(),M.attr("width",h.width),M.attr("height",h.height)}J.info("Text 2",l);let d=l||[],p=f.getBBox(),m=s.node().appendChild(await wd(d.join?d.join("<br/>"):d,t.labelStyle,!0,!0)),g=m.children[0],v=Vt(m);h=g.getBoundingClientRect(),v.attr("width",h.width),v.attr("height",h.height);let y=(t.padding||0)/2;Vt(m).attr("transform","translate( "+(h.width>p.width?0:(p.width-h.width)/2)+", "+(p.height+y+5)+")"),Vt(f).attr("transform","translate( "+(h.width<p.width?0:-(p.width-h.width)/2)+", 0)"),h=s.node().getBBox(),s.attr("transform","translate("+-h.width/2+", "+(-h.height/2-y+3)+")");let b=h.width+(t.padding||0),_=h.height+(t.padding||0),k=-h.width/2-y,w=-h.height/2-y,T,S;if(t.look==="handDrawn"){let C=Kt.svg(i),M=Pe(t,{}),N=C.path(Td(k,w,b,_,t.rx||0),M),L=C.line(-h.width/2-y,-h.height/2-y+p.height+y,h.width/2+y,-h.height/2-y+p.height+y,M);S=i.insert(()=>(J.debug("Rough node insert CXC",N),L),":first-child"),T=i.insert(()=>(J.debug("Rough node insert CXC",N),N),":first-child")}else T=o.insert("rect",":first-child"),S=o.insert("line"),T.attr("class","outer title-state").attr("style",n).attr("x",-h.width/2-y).attr("y",-h.height/2-y).attr("width",h.width+(t.padding||0)).attr("height",h.height+(t.padding||0)),S.attr("class","divider").attr("x1",-h.width/2-y).attr("x2",h.width/2+y).attr("y1",-h.height/2-y+p.height+y).attr("y2",-h.height/2-y+p.height+y);return Be(t,T),t.intersect=function(C){return Ae.rect(t,C)},i}function zb(e,t,r,n,a,i,o){let l=(e+r)/2,u=(t+n)/2,f=Math.atan2(n-t,r-e),h=(r-e)/2,d=(n-t)/2,p=h/a,m=d/i,g=Math.sqrt(p**2+m**2);if(g>1)throw new Error("The given radii are too small to create an arc between the points.");let v=Math.sqrt(1-g**2),y=l+v*i*Math.sin(f)*(o?-1:1),b=u-v*a*Math.cos(f)*(o?-1:1),_=Math.atan2((t-b)/i,(e-y)/a),w=Math.atan2((n-b)/i,(r-y)/a)-_;o&&w<0&&(w+=2*Math.PI),!o&&w>0&&(w-=2*Math.PI);let T=[];for(let S=0;S<20;S++){let C=S/19,M=_+C*w,N=y+a*Math.cos(M),L=b+i*Math.sin(M);T.push({x:N,y:L})}return T}async function $it(e,t){let{labelStyles:r,nodeStyles:n}=De(t);t.labelStyle=r;let{shapeSvg:a,bbox:i}=await Qe(e,t,Xe(t)),o=t?.padding??0,s=t?.padding??0,l=(t?.width?t?.width:i.width)+o*2,u=(t?.height?t?.height:i.height)+s*2,f=t.radius||5,h=t.taper||5,{cssStyles:d}=t,p=Kt.svg(a),m=Pe(t,{});t.stroke&&(m.stroke=t.stroke),t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let g=[{x:-l/2+h,y:-u/2},{x:l/2-h,y:-u/2},...zb(l/2-h,-u/2,l/2,-u/2+h,f,f,!0),{x:l/2,y:-u/2+h},{x:l/2,y:u/2-h},...zb(l/2,u/2-h,l/2-h,u/2,f,f,!0),{x:l/2-h,y:u/2},{x:-l/2+h,y:u/2},...zb(-l/2+h,u/2,-l/2,u/2-h,f,f,!0),{x:-l/2,y:u/2-h},{x:-l/2,y:-u/2+h},...zb(-l/2,-u/2+h,-l/2+h,-u/2,f,f,!0)],v=zr(g),y=p.path(v,m),b=a.insert(()=>y,":first-child");return b.attr("class","basic label-container outer-path"),d&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",d),n&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",n),Be(t,b),t.intersect=function(_){return Ae.polygon(t,g,_)},a}async function zit(e,t){let{labelStyles:r,nodeStyles:n}=De(t);t.labelStyle=r;let{shapeSvg:a,bbox:i,label:o}=await Qe(e,t,Xe(t)),s=t?.padding??0,l=Math.max(i.width+(t.padding??0)*2,t?.width??0),u=Math.max(i.height+(t.padding??0)*2,t?.height??0),f=-i.width/2-s,h=-i.height/2-s,{cssStyles:d}=t,p=Kt.svg(a),m=Pe(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let g=[{x:f,y:h},{x:f+l+8,y:h},{x:f+l+8,y:h+u},{x:f-8,y:h+u},{x:f-8,y:h},{x:f,y:h},{x:f,y:h+u}],v=p.polygon(g.map(b=>[b.x,b.y]),m),y=a.insert(()=>v,":first-child");return y.attr("class","basic label-container").attr("style",Zi(d)),n&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",n),d&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",n),o.attr("transform",`translate(${-l/2+4+(t.padding??0)-(i.x-(i.left??0))},${-u/2+(t.padding??0)-(i.y-(i.top??0))})`),Be(t,y),t.intersect=function(b){return Ae.rect(t,b)},a}async function qit(e,t){let{labelStyles:r,nodeStyles:n}=De(t);t.labelStyle=r;let{shapeSvg:a,bbox:i,label:o}=await Qe(e,t,Xe(t)),s=Math.max(i.width+(t.padding??0)*2,t?.width??0),l=Math.max(i.height+(t.padding??0)*2,t?.height??0),u=-s/2,f=-l/2,{cssStyles:h}=t,d=Kt.svg(a),p=Pe(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");let m=[{x:u,y:f},{x:u,y:f+l},{x:u+s,y:f+l},{x:u+s,y:f-l/2}],g=zr(m),v=d.path(g,p),y=a.insert(()=>v,":first-child");return y.attr("class","basic label-container"),h&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",h),n&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",n),y.attr("transform",`translate(0, ${l/4})`),o.attr("transform",`translate(${-s/2+(t.padding??0)-(i.x-(i.left??0))}, ${-l/4+(t.padding??0)-(i.y-(i.top??0))})`),Be(t,y),t.intersect=function(b){return Ae.polygon(t,m,b)},a}async function Uit(e,t){let r={rx:0,ry:0,classes:"",labelPaddingX:t.labelPaddingX??(t?.padding||0)*2,labelPaddingY:(t?.padding||0)*1};return HE(e,t,r)}async function Wit(e,t){let{labelStyles:r,nodeStyles:n}=De(t);t.labelStyle=r;let{shapeSvg:a,bbox:i}=await Qe(e,t,Xe(t)),o=i.height+t.padding,s=i.width+o/4+t.padding,l=o/2,{cssStyles:u}=t,f=Kt.svg(a),h=Pe(t,{});t.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");let d=[{x:-s/2+l,y:-o/2},{x:s/2-l,y:-o/2},...Ub(-s/2+l,0,l,50,90,270),{x:s/2-l,y:o/2},...Ub(s/2-l,0,l,50,270,450)],p=zr(d),m=f.path(p,h),g=a.insert(()=>m,":first-child");return g.attr("class","basic label-container outer-path"),u&&t.look!=="handDrawn"&&g.selectChildren("path").attr("style",u),n&&t.look!=="handDrawn"&&g.selectChildren("path").attr("style",n),Be(t,g),t.intersect=function(v){return Ae.polygon(t,d,v)},a}async function Git(e,t){return HE(e,t,{rx:5,ry:5,classes:"flowchart-node"})}function Vit(e,t,{config:{themeVariables:r}}){let{labelStyles:n,nodeStyles:a}=De(t);t.labelStyle=n;let{cssStyles:i}=t,{lineColor:o,stateBorder:s,nodeBorder:l}=r,u=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),f=Kt.svg(u),h=Pe(t,{});t.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");let d=f.circle(0,0,14,{...h,stroke:o,strokeWidth:2}),p=s??l,m=f.circle(0,0,5,{...h,fill:p,stroke:p,strokeWidth:2,fillStyle:"solid"}),g=u.insert(()=>d,":first-child");return g.insert(()=>m),i&&g.selectAll("path").attr("style",i),a&&g.selectAll("path").attr("style",a),Be(t,g),t.intersect=function(v){return Ae.circle(t,7,v)},u}function Hit(e,t,{config:{themeVariables:r}}){let{lineColor:n}=r,a=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),i;if(t.look==="handDrawn"){let s=Kt.svg(a).circle(0,0,14,Met(n));i=a.insert(()=>s),i.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else i=a.insert("circle",":first-child"),i.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return Be(t,i),t.intersect=function(o){return Ae.circle(t,7,o)},a}async function Yit(e,t){let{labelStyles:r,nodeStyles:n}=De(t);t.labelStyle=r;let{shapeSvg:a,bbox:i}=await Qe(e,t,Xe(t)),o=(t?.padding||0)/2,s=i.width+t.padding,l=i.height+t.padding,u=-i.width/2-o,f=-i.height/2-o,h=[{x:0,y:0},{x:s,y:0},{x:s,y:-l},{x:0,y:-l},{x:0,y:0},{x:-8,y:0},{x:s+8,y:0},{x:s+8,y:-l},{x:-8,y:-l},{x:-8,y:0}];if(t.look==="handDrawn"){let d=Kt.svg(a),p=Pe(t,{}),m=d.rectangle(u-8,f,s+16,l,p),g=d.line(u,f,u,f+l,p),v=d.line(u+s,f,u+s,f+l,p);a.insert(()=>g,":first-child"),a.insert(()=>v,":first-child");let y=a.insert(()=>m,":first-child"),{cssStyles:b}=t;y.attr("class","basic label-container").attr("style",Zi(b)),Be(t,y)}else{let d=Ed(a,s,l,h);n&&d.attr("style",n),Be(t,d)}return t.intersect=function(d){return Ae.polygon(t,h,d)},a}async function Xit(e,t){let{labelStyles:r,nodeStyles:n}=De(t);t.labelStyle=r;let{shapeSvg:a,bbox:i}=await Qe(e,t,Xe(t)),o=Math.max(i.width+(t.padding??0)*2,t?.width??0),s=Math.max(i.height+(t.padding??0)*2,t?.height??0),l=-o/2,u=-s/2,f=.2*s,h=.2*s,{cssStyles:d}=t,p=Kt.svg(a),m=Pe(t,{}),g=[{x:l-f/2,y:u},{x:l+o+f/2,y:u},{x:l+o+f/2,y:u+s},{x:l-f/2,y:u+s}],v=[{x:l+o-f/2,y:u+s},{x:l+o+f/2,y:u+s},{x:l+o+f/2,y:u+s-h}];t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let y=zr(g),b=p.path(y,m),_=zr(v),k=p.path(_,{...m,fillStyle:"solid"}),w=a.insert(()=>k,":first-child");return w.insert(()=>b,":first-child"),w.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",d),n&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",n),Be(t,w),t.intersect=function(T){return Ae.polygon(t,g,T)},a}async function jit(e,t){let{labelStyles:r,nodeStyles:n}=De(t);t.labelStyle=r;let{shapeSvg:a,bbox:i,label:o}=await Qe(e,t,Xe(t)),s=Math.max(i.width+(t.padding??0)*2,t?.width??0),l=Math.max(i.height+(t.padding??0)*2,t?.height??0),u=l/4,f=.2*s,h=.2*l,d=l+u,{cssStyles:p}=t,m=Kt.svg(a),g=Pe(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");let v=[{x:-s/2-s/2*.1,y:d/2},..._d(-s/2-s/2*.1,d/2,s/2+s/2*.1,d/2,u,.8),{x:s/2+s/2*.1,y:-d/2},{x:-s/2-s/2*.1,y:-d/2}],y=-s/2+s/2*.1,b=-d/2-h*.4,_=[{x:y+s-f,y:(b+l)*1.4},{x:y+s,y:b+l-h},{x:y+s,y:(b+l)*.9},..._d(y+s,(b+l)*1.3,y+s-f,(b+l)*1.5,-l*.03,.5)],k=zr(v),w=m.path(k,g),T=zr(_),S=m.path(T,{...g,fillStyle:"solid"}),C=a.insert(()=>S,":first-child");return C.insert(()=>w,":first-child"),C.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&C.selectAll("path").attr("style",p),n&&t.look!=="handDrawn"&&C.selectAll("path").attr("style",n),C.attr("transform",`translate(0,${-u/2})`),o.attr("transform",`translate(${-s/2+(t.padding??0)-(i.x-(i.left??0))},${-l/2+(t.padding??0)-u/2-(i.y-(i.top??0))})`),Be(t,C),t.intersect=function(M){return Ae.polygon(t,v,M)},a}async function Kit(e,t){let{labelStyles:r,nodeStyles:n}=De(t);t.labelStyle=r;let{shapeSvg:a,bbox:i}=await Qe(e,t,Xe(t)),o=Math.max(i.width+t.padding,t?.width||0),s=Math.max(i.height+t.padding,t?.height||0),l=-o/2,u=-s/2,f=a.insert("rect",":first-child");return f.attr("class","text").attr("style",n).attr("rx",0).attr("ry",0).attr("x",l).attr("y",u).attr("width",o).attr("height",s),Be(t,f),t.intersect=function(h){return Ae.rect(t,h)},a}async function Qit(e,t){let{labelStyles:r,nodeStyles:n}=De(t);t.labelStyle=r;let{shapeSvg:a,bbox:i,label:o,halfPadding:s}=await Qe(e,t,Xe(t)),l=t.look==="neo"?s*2:s,u=i.height+l,f=u/2,h=f/(2.5+u/50),d=i.width+h+l,{cssStyles:p}=t,m;if(t.look==="handDrawn"){let g=Kt.svg(a),v=fOt(0,0,d,u,h,f),y=hOt(0,0,d,u,h,f),b=g.path(v,Pe(t,{})),_=g.path(y,Pe(t,{fill:"none"}));m=a.insert(()=>_,":first-child"),m=a.insert(()=>b,":first-child"),m.attr("class","basic label-container"),p&&m.attr("style",p)}else{let g=cOt(0,0,d,u,h,f);m=a.insert("path",":first-child").attr("d",g).attr("class","basic label-container").attr("style",Zi(p)).attr("style",n),m.attr("class","basic label-container"),p&&m.selectAll("path").attr("style",p),n&&m.selectAll("path").attr("style",n)}return m.attr("label-offset-x",h),m.attr("transform",`translate(${-d/2}, ${u/2} )`),o.attr("transform",`translate(${-(i.width/2)-h-(i.x-(i.left??0))}, ${-(i.height/2)-(i.y-(i.top??0))})`),Be(t,m),t.intersect=function(g){let v=Ae.rect(t,g),y=v.y-(t.y??0);if(f!=0&&(Math.abs(y)<(t.height??0)/2||Math.abs(y)==(t.height??0)/2&&Math.abs(v.x-(t.x??0))>(t.width??0)/2-h)){let b=h*h*(1-y*y/(f*f));b!=0&&(b=Math.sqrt(Math.abs(b))),b=h-b,g.x-(t.x??0)>0&&(b=-b),v.x+=b}return v},a}async function Zit(e,t){let{labelStyles:r,nodeStyles:n}=De(t);t.labelStyle=r;let{shapeSvg:a,bbox:i}=await Qe(e,t,Xe(t)),o=i.width+t.padding,s=i.height+t.padding,l=[{x:-3*s/6,y:0},{x:o+3*s/6,y:0},{x:o,y:-s},{x:0,y:-s}],u,{cssStyles:f}=t;if(t.look==="handDrawn"){let h=Kt.svg(a),d=Pe(t,{}),p=zr(l),m=h.path(p,d);u=a.insert(()=>m,":first-child").attr("transform",`translate(${-o/2}, ${s/2})`),f&&u.attr("style",f)}else u=Ed(a,o,s,l);return n&&u.attr("style",n),t.width=o,t.height=s,Be(t,u),t.intersect=function(h){return Ae.polygon(t,l,h)},a}async function Jit(e,t){let{labelStyles:r,nodeStyles:n}=De(t);t.labelStyle=r;let{shapeSvg:a,bbox:i}=await Qe(e,t,Xe(t)),o=60,s=20,l=Math.max(o,i.width+(t.padding??0)*2,t?.width??0),u=Math.max(s,i.height+(t.padding??0)*2,t?.height??0),{cssStyles:f}=t,h=Kt.svg(a),d=Pe(t,{});t.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");let p=[{x:-l/2*.8,y:-u/2},{x:l/2*.8,y:-u/2},{x:l/2,y:-u/2*.6},{x:l/2,y:u/2},{x:-l/2,y:u/2},{x:-l/2,y:-u/2*.6}],m=zr(p),g=h.path(m,d),v=a.insert(()=>g,":first-child");return v.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&v.selectChildren("path").attr("style",f),n&&t.look!=="handDrawn"&&v.selectChildren("path").attr("style",n),Be(t,v),t.intersect=function(y){return Ae.polygon(t,p,y)},a}async function tot(e,t){let{labelStyles:r,nodeStyles:n}=De(t);t.labelStyle=r;let{shapeSvg:a,bbox:i,label:o}=await Qe(e,t,Xe(t)),s=on(bt().flowchart?.htmlLabels),l=i.width+(t.padding??0),u=l+i.height,f=l+i.height,h=[{x:0,y:0},{x:f,y:0},{x:f/2,y:-u}],{cssStyles:d}=t,p=Kt.svg(a),m=Pe(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let g=zr(h),v=p.path(g,m),y=a.insert(()=>v,":first-child").attr("transform",`translate(${-u/2}, ${u/2})`);return d&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",d),n&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",n),t.width=l,t.height=u,Be(t,y),o.attr("transform",`translate(${-i.width/2-(i.x-(i.left??0))}, ${u/2-(i.height+(t.padding??0)/(s?2:1)-(i.y-(i.top??0)))})`),t.intersect=function(b){return J.info("Triangle intersect",t,h,b),Ae.polygon(t,h,b)},a}async function eot(e,t){let{labelStyles:r,nodeStyles:n}=De(t);t.labelStyle=r;let{shapeSvg:a,bbox:i,label:o}=await Qe(e,t,Xe(t)),s=Math.max(i.width+(t.padding??0)*2,t?.width??0),l=Math.max(i.height+(t.padding??0)*2,t?.height??0),u=l/8,f=l+u,{cssStyles:h}=t,p=70-s,m=p>0?p/2:0,g=Kt.svg(a),v=Pe(t,{});t.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");let y=[{x:-s/2-m,y:f/2},..._d(-s/2-m,f/2,s/2+m,f/2,u,.8),{x:s/2+m,y:-f/2},{x:-s/2-m,y:-f/2}],b=zr(y),_=g.path(b,v),k=a.insert(()=>_,":first-child");return k.attr("class","basic label-container"),h&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",h),n&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",n),k.attr("transform",`translate(0,${-u/2})`),o.attr("transform",`translate(${-s/2+(t.padding??0)-(i.x-(i.left??0))},${-l/2+(t.padding??0)-u-(i.y-(i.top??0))})`),Be(t,k),t.intersect=function(w){return Ae.polygon(t,y,w)},a}async function rot(e,t){let{labelStyles:r,nodeStyles:n}=De(t);t.labelStyle=r;let{shapeSvg:a,bbox:i}=await Qe(e,t,Xe(t)),o=100,s=50,l=Math.max(i.width+(t.padding??0)*2,t?.width??0),u=Math.max(i.height+(t.padding??0)*2,t?.height??0),f=l/u,h=l,d=u;h>d*f?d=h/f:h=d*f,h=Math.max(h,o),d=Math.max(d,s);let p=Math.min(d*.2,d/4),m=d+p*2,{cssStyles:g}=t,v=Kt.svg(a),y=Pe(t,{});t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");let b=[{x:-h/2,y:m/2},..._d(-h/2,m/2,h/2,m/2,p,1),{x:h/2,y:-m/2},..._d(h/2,-m/2,-h/2,-m/2,p,-1)],_=zr(b),k=v.path(_,y),w=a.insert(()=>k,":first-child");return w.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",g),n&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",n),Be(t,w),t.intersect=function(T){return Ae.polygon(t,b,T)},a}async function not(e,t){let{labelStyles:r,nodeStyles:n}=De(t);t.labelStyle=r;let{shapeSvg:a,bbox:i,label:o}=await Qe(e,t,Xe(t)),s=Math.max(i.width+(t.padding??0)*2,t?.width??0),l=Math.max(i.height+(t.padding??0)*2,t?.height??0),u=5,f=-s/2,h=-l/2,{cssStyles:d}=t,p=Kt.svg(a),m=Pe(t,{}),g=[{x:f-u,y:h-u},{x:f-u,y:h+l},{x:f+s,y:h+l},{x:f+s,y:h-u}],v=`M${f-u},${h-u} L${f+s},${h-u} L${f+s},${h+l} L${f-u},${h+l} L${f-u},${h-u}
                M${f-u},${h} L${f+s},${h}
                M${f},${h-u} L${f},${h+l}`;t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let y=p.path(v,m),b=a.insert(()=>y,":first-child");return b.attr("transform",`translate(${u/2}, ${u/2})`),b.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",d),n&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",n),o.attr("transform",`translate(${-(i.width/2)+u/2-(i.x-(i.left??0))}, ${-(i.height/2)+u/2-(i.y-(i.top??0))})`),Be(t,b),t.intersect=function(_){return Ae.polygon(t,g,_)},a}async function XI(e,t){let r=t;if(r.alias&&(t.label=r.alias),t.look==="handDrawn"){let{themeVariables:W}=ur(),{background:X}=W,tt={...t,id:t.id+"-background",look:"default",cssStyles:["stroke: none",`fill: ${X}`]};await XI(e,tt)}let n=ur();t.useHtmlLabels=n.htmlLabels;let a=n.er?.diagramPadding??10,i=n.er?.entityPadding??6,{cssStyles:o}=t,{labelStyles:s,nodeStyles:l}=De(t);if(r.attributes.length===0&&t.label){let W={rx:0,ry:0,labelPaddingX:a,labelPaddingY:a*1.5,classes:""};Qi(t.label,n)+W.labelPaddingX*2<n.er.minEntityWidth&&(t.width=n.er.minEntityWidth);let X=await HE(e,t,W);if(!on(n.htmlLabels)){let tt=X.select("text"),Y=tt.node()?.getBBox();tt.attr("transform",`translate(${-Y.width/2}, 0)`)}return X}n.htmlLabels||(a*=1.25,i*=1.25);let u=Xe(t);u||(u="node default");let f=e.insert("g").attr("class",u).attr("id",t.domId||t.id),h=await g1(f,t.label??"",n,0,0,["name"],s);h.height+=i;let d=0,p=[],m=[],g=0,v=0,y=0,b=0,_=!0,k=!0;for(let W of r.attributes){let X=await g1(f,W.type,n,0,d,["attribute-type"],s);g=Math.max(g,X.width+a);let tt=await g1(f,W.name,n,0,d,["attribute-name"],s);v=Math.max(v,tt.width+a);let Y=await g1(f,W.keys.join(),n,0,d,["attribute-keys"],s);y=Math.max(y,Y.width+a);let ot=await g1(f,W.comment,n,0,d,["attribute-comment"],s);b=Math.max(b,ot.width+a);let Z=Math.max(X.height,tt.height,Y.height,ot.height)+i;m.push({yOffset:d,rowHeight:Z}),d+=Z}let w=4;y<=a&&(_=!1,y=0,w--),b<=a&&(k=!1,b=0,w--);let T=f.node().getBBox();if(h.width+a*2-(g+v+y+b)>0){let W=h.width+a*2-(g+v+y+b);g+=W/w,v+=W/w,y>0&&(y+=W/w),b>0&&(b+=W/w)}let S=g+v+y+b,C=Kt.svg(f),M=Pe(t,{});t.look!=="handDrawn"&&(M.roughness=0,M.fillStyle="solid");let N=0;m.length>0&&(N=m.reduce((W,X)=>W+(X?.rowHeight??0),0));let L=Math.max(T.width+a*2,t?.width||0,S),E=Math.max((N??0)+h.height,t?.height||0),A=-L/2,D=-E/2;f.selectAll("g:not(:first-child)").each((W,X,tt)=>{let Y=Vt(tt[X]),ot=Y.attr("transform"),Z=0,ct=0;if(ot){let et=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(ot);et&&(Z=parseFloat(et[1]),ct=parseFloat(et[2]),Y.attr("class").includes("attribute-name")?Z+=g:Y.attr("class").includes("attribute-keys")?Z+=g+v:Y.attr("class").includes("attribute-comment")&&(Z+=g+v+y))}Y.attr("transform",`translate(${A+a/2+Z}, ${ct+D+h.height+i/2})`)}),f.select(".name").attr("transform","translate("+-h.width/2+", "+(D+i/2)+")");let R=C.rectangle(A,D,L,E,M),I=f.insert(()=>R,":first-child").attr("style",o.join("")),{themeVariables:O}=ur(),{rowEven:F,rowOdd:P,nodeBorder:q}=O;p.push(0);for(let[W,X]of m.entries()){let Y=(W+1)%2===0&&X.yOffset!==0,ot=C.rectangle(A,h.height+D+X?.yOffset,L,X?.rowHeight,{...M,fill:Y?F:P,stroke:q});f.insert(()=>ot,"g.label").attr("style",o.join("")).attr("class",`row-rect-${Y?"even":"odd"}`)}let $=C.line(A,h.height+D,L+A,h.height+D,M);f.insert(()=>$).attr("class","divider"),$=C.line(g+A,h.height+D,g+A,E+D,M),f.insert(()=>$).attr("class","divider"),_&&($=C.line(g+v+A,h.height+D,g+v+A,E+D,M),f.insert(()=>$).attr("class","divider")),k&&($=C.line(g+v+y+A,h.height+D,g+v+y+A,E+D,M),f.insert(()=>$).attr("class","divider"));for(let W of p)$=C.line(A,h.height+D+W,L+A,h.height+D+W,M),f.insert(()=>$).attr("class","divider");if(Be(t,I),l&&t.look!=="handDrawn"){let X=l.split(";")?.filter(tt=>tt.includes("stroke"))?.map(tt=>`${tt}`).join("; ");f.selectAll("path").attr("style",X??""),f.selectAll(".row-rect-even path").attr("style",l)}return t.intersect=function(W){return Ae.rect(t,W)},f}async function g1(e,t,r,n=0,a=0,i=[],o=""){let s=e.insert("g").attr("class",`label ${i.join(" ")}`).attr("transform",`translate(${n}, ${a})`).attr("style",o);t!==hc(t)&&(t=hc(t),t=t.replaceAll("<","&lt;").replaceAll(">","&gt;"));let l=s.node().appendChild(await Ji(s,t,{width:Qi(t,r)+100,style:o,useHtmlLabels:r.htmlLabels},r));if(t.includes("&lt;")||t.includes("&gt;")){let f=l.children[0];for(f.textContent=f.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">");f.childNodes[0];)f=f.childNodes[0],f.textContent=f.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">")}let u=l.getBBox();if(on(r.htmlLabels)){let f=l.children[0];f.style.textAlign="start";let h=Vt(l);u=f.getBoundingClientRect(),h.attr("width",u.width),h.attr("height",u.height)}return u}async function aot(e,t,r,n,a=r.class.padding??12){let i=n?0:3,o=e.insert("g").attr("class",Xe(t)).attr("id",t.domId||t.id),s=null,l=null,u=null,f=null,h=0,d=0,p=0;if(s=o.insert("g").attr("class","annotation-group text"),t.annotations.length>0){let b=t.annotations[0];await qb(s,{text:`\xAB${b}\xBB`},0),h=s.node().getBBox().height}l=o.insert("g").attr("class","label-group text"),await qb(l,t,0,["font-weight: bolder"]);let m=l.node().getBBox();d=m.height,u=o.insert("g").attr("class","members-group text");let g=0;for(let b of t.members){let _=await qb(u,b,g,[b.parseClassifier()]);g+=_+i}p=u.node().getBBox().height,p<=0&&(p=a/2),f=o.insert("g").attr("class","methods-group text");let v=0;for(let b of t.methods){let _=await qb(f,b,v,[b.parseClassifier()]);v+=_+i}let y=o.node().getBBox();if(s!==null){let b=s.node().getBBox();s.attr("transform",`translate(${-b.width/2})`)}return l.attr("transform",`translate(${-m.width/2}, ${h})`),y=o.node().getBBox(),u.attr("transform",`translate(0, ${h+d+a*2})`),y=o.node().getBBox(),f.attr("transform",`translate(0, ${h+d+(p?p+a*4:a*2)})`),y=o.node().getBBox(),{shapeSvg:o,bbox:y}}async function qb(e,t,r,n=[]){let a=e.insert("g").attr("class","label").attr("style",n.join("; ")),i=ur(),o="useHtmlLabels"in t?t.useHtmlLabels:on(i.htmlLabels)??!0,s="";"text"in t?s=t.text:s=t.label,!o&&s.startsWith("\\")&&(s=s.substring(1)),ca(s)&&(o=!0);let l=await Ji(a,L5(Is(s)),{width:Qi(s,i)+50,classes:"markdown-node-label",useHtmlLabels:o},i),u,f=1;if(o){let h=l.children[0],d=Vt(l);f=h.innerHTML.split("<br>").length,h.innerHTML.includes("</math>")&&(f+=h.innerHTML.split("<mrow>").length-1);let p=h.getElementsByTagName("img");if(p){let m=s.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...p].map(g=>new Promise(v=>{function y(){if(g.style.display="flex",g.style.flexDirection="column",m){let b=i.fontSize?.toString()??window.getComputedStyle(document.body).fontSize,k=parseInt(b,10)*5+"px";g.style.minWidth=k,g.style.maxWidth=k}else g.style.width="100%";v(g)}x(y,"setupImage"),setTimeout(()=>{g.complete&&y()}),g.addEventListener("error",y),g.addEventListener("load",y)})))}u=h.getBoundingClientRect(),d.attr("width",u.width),d.attr("height",u.height)}else{n.includes("font-weight: bolder")&&Vt(l).selectAll("tspan").attr("font-weight",""),f=l.children.length;let h=l.children[0];(l.textContent===""||l.textContent.includes("&gt"))&&(h.textContent=s[0]+s.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),s[1]===" "&&(h.textContent=h.textContent[0]+" "+h.textContent.substring(1))),h.textContent==="undefined"&&(h.textContent=""),u=l.getBBox()}return a.attr("transform","translate(0,"+(-u.height/(2*f)+r)+")"),u.height}async function iot(e,t){let r=bt(),n=r.class.padding??12,a=n,i=t.useHtmlLabels??on(r.htmlLabels)??!0,o=t;o.annotations=o.annotations??[],o.members=o.members??[],o.methods=o.methods??[];let{shapeSvg:s,bbox:l}=await aot(e,t,r,i,a),{labelStyles:u,nodeStyles:f}=De(t);t.labelStyle=u,t.cssStyles=o.styles||"";let h=o.styles?.join(";")||f||"";t.cssStyles||(t.cssStyles=h.replaceAll("!important","").split(";"));let d=o.members.length===0&&o.methods.length===0&&!r.class?.hideEmptyMembersBox,p=Kt.svg(s),m=Pe(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let g=l.width,v=l.height;o.members.length===0&&o.methods.length===0?v+=a:o.members.length>0&&o.methods.length===0&&(v+=a*2);let y=-g/2,b=-v/2,_=p.rectangle(y-n,b-n-(d?n:o.members.length===0&&o.methods.length===0?-n/2:0),g+2*n,v+2*n+(d?n*2:o.members.length===0&&o.methods.length===0?-n:0),m),k=s.insert(()=>_,":first-child");k.attr("class","basic label-container");let w=k.node().getBBox();s.selectAll(".text").each((M,N,L)=>{let E=Vt(L[N]),A=E.attr("transform"),D=0;if(A){let F=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(A);F&&(D=parseFloat(F[2]))}let R=D+b+n-(d?n:o.members.length===0&&o.methods.length===0?-n/2:0);i||(R-=4);let I=y;(E.attr("class").includes("label-group")||E.attr("class").includes("annotation-group"))&&(I=-E.node()?.getBBox().width/2||0,s.selectAll("text").each(function(O,F,P){window.getComputedStyle(P[F]).textAnchor==="middle"&&(I=0)})),E.attr("transform",`translate(${I}, ${R})`)});let T=s.select(".annotation-group").node().getBBox().height-(d?n/2:0)||0,S=s.select(".label-group").node().getBBox().height-(d?n/2:0)||0,C=s.select(".members-group").node().getBBox().height-(d?n/2:0)||0;if(o.members.length>0||o.methods.length>0||d){let M=p.line(w.x,T+S+b+n,w.x+w.width,T+S+b+n,m);s.insert(()=>M).attr("class","divider").attr("style",h)}if(d||o.members.length>0||o.methods.length>0){let M=p.line(w.x,T+S+C+b+a*2+n,w.x+w.width,T+S+C+b+n+a*2,m);s.insert(()=>M).attr("class","divider").attr("style",h)}if(o.look!=="handDrawn"&&s.selectAll("path").attr("style",h),k.select(":nth-child(2)").attr("style",h),s.selectAll(".divider").select("path").attr("style",h),t.labelStyle?s.selectAll("span").attr("style",t.labelStyle):s.selectAll("span").attr("style",h),!i){let M=RegExp(/color\s*:\s*([^;]*)/),N=M.exec(h);if(N){let L=N[0].replace("color","fill");s.selectAll("tspan").attr("style",L)}else if(u){let L=M.exec(u);if(L){let E=L[0].replace("color","fill");s.selectAll("tspan").attr("style",E)}}}return Be(t,k),t.intersect=function(M){return Ae.rect(t,M)},s}async function oot(e,t){let{labelStyles:r,nodeStyles:n}=De(t);t.labelStyle=r;let a=t,i=t,o=20,s=20,l="verifyMethod"in t,u=Xe(t),f=e.insert("g").attr("class",u).attr("id",t.domId??t.id),h;l?h=await Rc(f,`&lt;&lt;${a.type}&gt;&gt;`,0,t.labelStyle):h=await Rc(f,"&lt;&lt;Element&gt;&gt;",0,t.labelStyle);let d=h,p=await Rc(f,a.name,d,t.labelStyle+"; font-weight: bold;");if(d+=p+s,l){let T=await Rc(f,`${a.requirementId?`ID: ${a.requirementId}`:""}`,d,t.labelStyle);d+=T;let S=await Rc(f,`${a.text?`Text: ${a.text}`:""}`,d,t.labelStyle);d+=S;let C=await Rc(f,`${a.risk?`Risk: ${a.risk}`:""}`,d,t.labelStyle);d+=C,await Rc(f,`${a.verifyMethod?`Verification: ${a.verifyMethod}`:""}`,d,t.labelStyle)}else{let T=await Rc(f,`${i.type?`Type: ${i.type}`:""}`,d,t.labelStyle);d+=T,await Rc(f,`${i.docRef?`Doc Ref: ${i.docRef}`:""}`,d,t.labelStyle)}let m=(f.node()?.getBBox().width??200)+o,g=(f.node()?.getBBox().height??200)+o,v=-m/2,y=-g/2,b=Kt.svg(f),_=Pe(t,{});t.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");let k=b.rectangle(v,y,m,g,_),w=f.insert(()=>k,":first-child");if(w.attr("class","basic label-container").attr("style",n),f.selectAll(".label").each((T,S,C)=>{let M=Vt(C[S]),N=M.attr("transform"),L=0,E=0;if(N){let I=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(N);I&&(L=parseFloat(I[1]),E=parseFloat(I[2]))}let A=E-g/2,D=v+o/2;(S===0||S===1)&&(D=L),M.attr("transform",`translate(${D}, ${A+o})`)}),d>h+p+s){let T=b.line(v,y+h+p+s,v+m,y+h+p+s,_);f.insert(()=>T).attr("style",n)}return Be(t,w),t.intersect=function(T){return Ae.rect(t,T)},f}async function Rc(e,t,r,n=""){if(t==="")return 0;let a=e.insert("g").attr("class","label").attr("style",n),i=bt(),o=i.htmlLabels??!0,s=await Ji(a,L5(Is(t)),{width:Qi(t,i)+50,classes:"markdown-node-label",useHtmlLabels:o,style:n},i),l;if(o){let u=s.children[0],f=Vt(s);l=u.getBoundingClientRect(),f.attr("width",l.width),f.attr("height",l.height)}else{let u=s.children[0];for(let f of u.children)f.textContent=f.textContent.replaceAll("&gt;",">").replaceAll("&lt;","<"),n&&f.setAttribute("style",n);l=s.getBBox(),l.height+=6}return a.attr("transform",`translate(${-l.width/2},${-l.height/2+r})`),l.height}async function sot(e,t,{config:r}){let{labelStyles:n,nodeStyles:a}=De(t);t.labelStyle=n||"";let i=10,o=t.width;t.width=(t.width??200)-10;let{shapeSvg:s,bbox:l,label:u}=await Qe(e,t,Xe(t)),f=t.padding||10,h="",d;"ticket"in t&&t.ticket&&r?.kanban?.ticketBaseUrl&&(h=r?.kanban?.ticketBaseUrl.replace("#TICKET#",t.ticket),d=s.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",h).attr("target","_blank"));let p={useHtmlLabels:t.useHtmlLabels,labelStyle:t.labelStyle||"",width:t.width,img:t.img,padding:t.padding||8,centerLabel:!1},m,g;d?{label:m,bbox:g}=await GI(d,"ticket"in t&&t.ticket||"",p):{label:m,bbox:g}=await GI(s,"ticket"in t&&t.ticket||"",p);let{label:v,bbox:y}=await GI(s,"assigned"in t&&t.assigned||"",p);t.width=o;let b=10,_=t?.width||0,k=Math.max(g.height,y.height)/2,w=Math.max(l.height+b*2,t?.height||0)+k,T=-_/2,S=-w/2;u.attr("transform","translate("+(f-_/2)+", "+(-k-l.height/2)+")"),m.attr("transform","translate("+(f-_/2)+", "+(-k+l.height/2)+")"),v.attr("transform","translate("+(f+_/2-y.width-2*i)+", "+(-k+l.height/2)+")");let C,{rx:M,ry:N}=t,{cssStyles:L}=t;if(t.look==="handDrawn"){let E=Kt.svg(s),A=Pe(t,{}),D=M||N?E.path(Td(T,S,_,w,M||0),A):E.rectangle(T,S,_,w,A);C=s.insert(()=>D,":first-child"),C.attr("class","basic label-container").attr("style",L||null)}else{C=s.insert("rect",":first-child"),C.attr("class","basic label-container __APA__").attr("style",a).attr("rx",M??5).attr("ry",N??5).attr("x",T).attr("y",S).attr("width",_).attr("height",w);let E="priority"in t&&t.priority;if(E){let A=s.append("line"),D=T+2,R=S+Math.floor((M??0)/2),I=S+w-Math.floor((M??0)/2);A.attr("x1",D).attr("y1",R).attr("x2",D).attr("y2",I).attr("stroke-width","4").attr("stroke",dOt(E))}}return Be(t,C),t.height=w,t.intersect=function(E){return Ae.rect(t,E)},s}async function lot(e,t){let{labelStyles:r,nodeStyles:n}=De(t);t.labelStyle=r;let{shapeSvg:a,bbox:i,halfPadding:o,label:s}=await Qe(e,t,Xe(t)),l=i.width+10*o,u=i.height+8*o,f=.15*l,{cssStyles:h}=t,d=i.width+20,p=i.height+20,m=Math.max(l,d),g=Math.max(u,p);s.attr("transform",`translate(${-i.width/2}, ${-i.height/2})`);let v,y=`M0 0 
    a${f},${f} 1 0,0 ${m*.25},${-1*g*.1}
    a${f},${f} 1 0,0 ${m*.25},0
    a${f},${f} 1 0,0 ${m*.25},0
    a${f},${f} 1 0,0 ${m*.25},${g*.1}

    a${f},${f} 1 0,0 ${m*.15},${g*.33}
    a${f*.8},${f*.8} 1 0,0 0,${g*.34}
    a${f},${f} 1 0,0 ${-1*m*.15},${g*.33}

    a${f},${f} 1 0,0 ${-1*m*.25},${g*.15}
    a${f},${f} 1 0,0 ${-1*m*.25},0
    a${f},${f} 1 0,0 ${-1*m*.25},0
    a${f},${f} 1 0,0 ${-1*m*.25},${-1*g*.15}

    a${f},${f} 1 0,0 ${-1*m*.1},${-1*g*.33}
    a${f*.8},${f*.8} 1 0,0 0,${-1*g*.34}
    a${f},${f} 1 0,0 ${m*.1},${-1*g*.33}
  H0 V0 Z`;if(t.look==="handDrawn"){let b=Kt.svg(a),_=Pe(t,{}),k=b.path(y,_);v=a.insert(()=>k,":first-child"),v.attr("class","basic label-container").attr("style",Zi(h))}else v=a.insert("path",":first-child").attr("class","basic label-container").attr("style",n).attr("d",y);return v.attr("transform",`translate(${-m/2}, ${-g/2})`),Be(t,v),t.calcIntersect=function(b,_){return Ae.rect(b,_)},t.intersect=function(b){return J.info("Bang intersect",t,b),Ae.rect(t,b)},a}async function uot(e,t){let{labelStyles:r,nodeStyles:n}=De(t);t.labelStyle=r;let{shapeSvg:a,bbox:i,halfPadding:o,label:s}=await Qe(e,t,Xe(t)),l=i.width+2*o,u=i.height+2*o,f=.15*l,h=.25*l,d=.35*l,p=.2*l,{cssStyles:m}=t,g,v=`M0 0 
    a${f},${f} 0 0,1 ${l*.25},${-1*l*.1}
    a${d},${d} 1 0,1 ${l*.4},${-1*l*.1}
    a${h},${h} 1 0,1 ${l*.35},${l*.2}

    a${f},${f} 1 0,1 ${l*.15},${u*.35}
    a${p},${p} 1 0,1 ${-1*l*.15},${u*.65}

    a${h},${f} 1 0,1 ${-1*l*.25},${l*.15}
    a${d},${d} 1 0,1 ${-1*l*.5},0
    a${f},${f} 1 0,1 ${-1*l*.25},${-1*l*.15}

    a${f},${f} 1 0,1 ${-1*l*.1},${-1*u*.35}
    a${p},${p} 1 0,1 ${l*.1},${-1*u*.65}
  H0 V0 Z`;if(t.look==="handDrawn"){let y=Kt.svg(a),b=Pe(t,{}),_=y.path(v,b);g=a.insert(()=>_,":first-child"),g.attr("class","basic label-container").attr("style",Zi(m))}else g=a.insert("path",":first-child").attr("class","basic label-container").attr("style",n).attr("d",v);return s.attr("transform",`translate(${-i.width/2}, ${-i.height/2})`),g.attr("transform",`translate(${-l/2}, ${-u/2})`),Be(t,g),t.calcIntersect=function(y,b){return Ae.rect(y,b)},t.intersect=function(y){return J.info("Cloud intersect",t,y),Ae.rect(t,y)},a}async function cot(e,t){let{labelStyles:r,nodeStyles:n}=De(t);t.labelStyle=r;let{shapeSvg:a,bbox:i,halfPadding:o,label:s}=await Qe(e,t,Xe(t)),l=i.width+8*o,u=i.height+2*o,f=5,h=`
    M${-l/2} ${u/2-f}
    v${-u+2*f}
    q0,-${f} ${f},-${f}
    h${l-2*f}
    q${f},0 ${f},${f}
    v${u-2*f}
    q0,${f} -${f},${f}
    h${-l+2*f}
    q-${f},0 -${f},-${f}
    Z
  `,d=a.append("path").attr("id","node-"+t.id).attr("class","node-bkg node-"+t.type).attr("style",n).attr("d",h);return a.append("line").attr("class","node-line-").attr("x1",-l/2).attr("y1",u/2).attr("x2",l/2).attr("y2",u/2),s.attr("transform",`translate(${-i.width/2}, ${-i.height/2})`),a.append(()=>s.node()),Be(t,d),t.calcIntersect=function(p,m){return Ae.rect(p,m)},t.intersect=function(p){return Ae.rect(t,p)},a}async function fot(e,t){let r={padding:t.padding??0};return YI(e,t,r)}function jI(e){return e in hot}async function M0(e,t,r){let n,a;t.shape==="rect"&&(t.rx&&t.ry?t.shape="roundedRect":t.shape="squareRect");let i=t.shape?hot[t.shape]:void 0;if(!i)throw new Error(`No such shape: ${t.shape}. Please check your syntax.`);if(t.link){let o;r.config.securityLevel==="sandbox"?o="_top":t.linkTarget&&(o=t.linkTarget||"_blank"),n=e.insert("svg:a").attr("xlink:href",t.link).attr("target",o??null),a=await i(n,t,r)}else a=await i(e,t,r),n=a;return t.tooltip&&a.attr("title",t.tooltip),YE.set(t.id,n),t.haveCallback&&n.attr("class",n.attr("class")+" clickable"),n}var Qe,GI,Be,Xe,VNt,v1,HNt,wd,Td,Yat,YNt,XNt,jNt,KNt,QNt,ZNt,Xat,y1,jat,JNt,Zat,tOt,eOt,rOt,Ae,nOt,aOt,iOt,oOt,sOt,lOt,uOt,cOt,fOt,hOt,dOt,pOt,mOt,hot,YE,dot,pot,Wb,Ns=B(()=>{Zo();Jo();to();On();Tr();nr();hr();hr();$e();hr();$e();$e();$e();$e();$e();$e();$e();$e();$e();$e();$e();$e();$e();$e();$e();$e();$e();$e();$e();$e();$e();$e();$e();$e();$e();$e();$e();$e();$e();$e();$e();$e();$e();$e();$e();$e();hr();$e();$e();$e();$e();$e();$e();$e();$e();$e();$e();$e();$e();$e();$e();$e();$e();$e();$e();hr();hr();$e();hr();$e();hr();$e();$e();$e();Qe=x(async(e,t,r)=>{let n,a=t.useHtmlLabels||on(bt()?.htmlLabels);r?n=r:n="node default";let i=e.insert("g").attr("class",n).attr("id",t.domId||t.id),o=i.insert("g").attr("class","label").attr("style",Zi(t.labelStyle)),s;t.label===void 0?s="":s=typeof t.label=="string"?t.label:t.label[0];let l=await Ji(o,sr(Is(s),bt()),{useHtmlLabels:a,width:t.width||bt().flowchart?.wrappingWidth,cssClasses:"markdown-node-label",style:t.labelStyle,addSvgBackground:!!t.icon||!!t.img}),u=l.getBBox(),f=(t?.padding??0)/2;if(a){let h=l.children[0],d=Vt(l),p=h.getElementsByTagName("img");if(p){let m=s.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...p].map(g=>new Promise(v=>{function y(){if(g.style.display="flex",g.style.flexDirection="column",m){let b=bt().fontSize?bt().fontSize:window.getComputedStyle(document.body).fontSize,_=5,[k=lr.fontSize]=Ac(b),w=k*_+"px";g.style.minWidth=w,g.style.maxWidth=w}else g.style.width="100%";v(g)}x(y,"setupImage"),setTimeout(()=>{g.complete&&y()}),g.addEventListener("error",y),g.addEventListener("load",y)})))}u=h.getBoundingClientRect(),d.attr("width",u.width),d.attr("height",u.height)}return a?o.attr("transform","translate("+-u.width/2+", "+-u.height/2+")"):o.attr("transform","translate(0, "+-u.height/2+")"),t.centerLabel&&o.attr("transform","translate("+-u.width/2+", "+-u.height/2+")"),o.insert("rect",":first-child"),{shapeSvg:i,bbox:u,halfPadding:f,label:o}},"labelHelper"),GI=x(async(e,t,r)=>{let n=r.useHtmlLabels||on(bt()?.flowchart?.htmlLabels),a=e.insert("g").attr("class","label").attr("style",r.labelStyle||""),i=await Ji(a,sr(Is(t),bt()),{useHtmlLabels:n,width:r.width||bt()?.flowchart?.wrappingWidth,style:r.labelStyle,addSvgBackground:!!r.icon||!!r.img}),o=i.getBBox(),s=r.padding/2;if(on(bt()?.flowchart?.htmlLabels)){let l=i.children[0],u=Vt(i);o=l.getBoundingClientRect(),u.attr("width",o.width),u.attr("height",o.height)}return n?a.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"):a.attr("transform","translate(0, "+-o.height/2+")"),r.centerLabel&&a.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),a.insert("rect",":first-child"),{shapeSvg:e,bbox:o,halfPadding:s,label:a}},"insertLabel"),Be=x((e,t)=>{let r=t.node().getBBox();e.width=r.width,e.height=r.height},"updateNodeBounds"),Xe=x((e,t)=>(e.look==="handDrawn"?"rough-node":"node")+" "+e.cssClasses+" "+(t||""),"getNodeClasses");x(zr,"createPathFromPoints");x(_d,"generateFullSineWavePoints");x(Ub,"generateCirclePoints");VNt=x((e,t)=>{var r=e.x,n=e.y,a=t.x-r,i=t.y-n,o=e.width/2,s=e.height/2,l,u;return Math.abs(i)*o>Math.abs(a)*s?(i<0&&(s=-s),l=i===0?0:s*a/i,u=s):(a<0&&(o=-o),l=o,u=a===0?0:o*i/a),{x:r+l,y:n+u}},"intersectRect"),v1=VNt;x(Vat,"applyStyle");x(Hat,"addHtmlLabel");HNt=x(async(e,t,r,n)=>{let a=e||"";if(typeof a=="object"&&(a=a[0]),on(bt().flowchart.htmlLabels)){a=a.replace(/\\n|\n/g,"<br />"),J.info("vertexText"+a);let i={isNode:n,label:Is(a).replace(/fa[blrs]?:fa-[\w-]+/g,s=>`<i class='${s.replace(":"," ")}'></i>`),labelStyle:t&&t.replace("fill:","color:")};return await Hat(i)}else{let i=document.createElementNS("http://www.w3.org/2000/svg","text");i.setAttribute("style",t.replace("color:","fill:"));let o=[];typeof a=="string"?o=a.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(a)?o=a:o=[];for(let s of o){let l=document.createElementNS("http://www.w3.org/2000/svg","tspan");l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),l.setAttribute("dy","1em"),l.setAttribute("x","0"),r?l.setAttribute("class","title-row"):l.setAttribute("class","row"),l.textContent=s.trim(),i.appendChild(l)}return i}},"createLabel"),wd=HNt,Td=x((e,t,r,n,a)=>["M",e+a,t,"H",e+r-a,"A",a,a,0,0,1,e+r,t+a,"V",t+n-a,"A",a,a,0,0,1,e+r-a,t+n,"H",e+a,"A",a,a,0,0,1,e,t+n-a,"V",t+a,"A",a,a,0,0,1,e+a,t,"Z"].join(" "),"createRoundedRectPathD"),Yat=x(async(e,t)=>{J.info("Creating subgraph rect for ",t.id,t);let r=bt(),{themeVariables:n,handDrawnSeed:a}=r,{clusterBkg:i,clusterBorder:o}=n,{labelStyles:s,nodeStyles:l,borderStyles:u,backgroundStyles:f}=De(t),h=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),d=on(r.flowchart.htmlLabels),p=h.insert("g").attr("class","cluster-label "),m=await Ji(p,t.label,{style:t.labelStyle,useHtmlLabels:d,isNode:!0}),g=m.getBBox();if(on(r.flowchart.htmlLabels)){let S=m.children[0],C=Vt(m);g=S.getBoundingClientRect(),C.attr("width",g.width),C.attr("height",g.height)}let v=t.width<=g.width+t.padding?g.width+t.padding:t.width;t.width<=g.width+t.padding?t.diff=(v-t.width)/2-t.padding:t.diff=-t.padding;let y=t.height,b=t.x-v/2,_=t.y-y/2;J.trace("Data ",t,JSON.stringify(t));let k;if(t.look==="handDrawn"){let S=Kt.svg(h),C=Pe(t,{roughness:.7,fill:i,stroke:o,fillWeight:3,seed:a}),M=S.path(Td(b,_,v,y,0),C);k=h.insert(()=>(J.debug("Rough node insert CXC",M),M),":first-child"),k.select("path:nth-child(2)").attr("style",u.join(";")),k.select("path").attr("style",f.join(";").replace("fill","stroke"))}else k=h.insert("rect",":first-child"),k.attr("style",l).attr("rx",t.rx).attr("ry",t.ry).attr("x",b).attr("y",_).attr("width",v).attr("height",y);let{subGraphTitleTopMargin:w}=Vf(r);if(p.attr("transform",`translate(${t.x-g.width/2}, ${t.y-t.height/2+w})`),s){let S=p.select("span");S&&S.attr("style",s)}let T=k.node().getBBox();return t.offsetX=0,t.width=T.width,t.height=T.height,t.offsetY=g.height-t.padding/2,t.intersect=function(S){return v1(t,S)},{cluster:h,labelBBox:g}},"rect"),YNt=x((e,t)=>{let r=e.insert("g").attr("class","note-cluster").attr("id",t.id),n=r.insert("rect",":first-child"),a=0*t.padding,i=a/2;n.attr("rx",t.rx).attr("ry",t.ry).attr("x",t.x-t.width/2-i).attr("y",t.y-t.height/2-i).attr("width",t.width+a).attr("height",t.height+a).attr("fill","none");let o=n.node().getBBox();return t.width=o.width,t.height=o.height,t.intersect=function(s){return v1(t,s)},{cluster:r,labelBBox:{width:0,height:0}}},"noteGroup"),XNt=x(async(e,t)=>{let r=bt(),{themeVariables:n,handDrawnSeed:a}=r,{altBackground:i,compositeBackground:o,compositeTitleBackground:s,nodeBorder:l}=n,u=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-id",t.id).attr("data-look",t.look),f=u.insert("g",":first-child"),h=u.insert("g").attr("class","cluster-label"),d=u.append("rect"),p=h.node().appendChild(await wd(t.label,t.labelStyle,void 0,!0)),m=p.getBBox();if(on(r.flowchart.htmlLabels)){let M=p.children[0],N=Vt(p);m=M.getBoundingClientRect(),N.attr("width",m.width),N.attr("height",m.height)}let g=0*t.padding,v=g/2,y=(t.width<=m.width+t.padding?m.width+t.padding:t.width)+g;t.width<=m.width+t.padding?t.diff=(y-t.width)/2-t.padding:t.diff=-t.padding;let b=t.height+g,_=t.height+g-m.height-6,k=t.x-y/2,w=t.y-b/2;t.width=y;let T=t.y-t.height/2-v+m.height+2,S;if(t.look==="handDrawn"){let M=t.cssClasses.includes("statediagram-cluster-alt"),N=Kt.svg(u),L=t.rx||t.ry?N.path(Td(k,w,y,b,10),{roughness:.7,fill:s,fillStyle:"solid",stroke:l,seed:a}):N.rectangle(k,w,y,b,{seed:a});S=u.insert(()=>L,":first-child");let E=N.rectangle(k,T,y,_,{fill:M?i:o,fillStyle:M?"hachure":"solid",stroke:l,seed:a});S=u.insert(()=>L,":first-child"),d=u.insert(()=>E)}else S=f.insert("rect",":first-child"),S.attr("class","outer").attr("x",k).attr("y",w).attr("width",y).attr("height",b).attr("data-look",t.look),d.attr("class","inner").attr("x",k).attr("y",T).attr("width",y).attr("height",_);h.attr("transform",`translate(${t.x-m.width/2}, ${w+1-(on(r.flowchart.htmlLabels)?0:3)})`);let C=S.node().getBBox();return t.height=C.height,t.offsetX=0,t.offsetY=m.height-t.padding/2,t.labelBBox=m,t.intersect=function(M){return v1(t,M)},{cluster:u,labelBBox:m}},"roundedWithTitle"),jNt=x(async(e,t)=>{J.info("Creating subgraph rect for ",t.id,t);let r=bt(),{themeVariables:n,handDrawnSeed:a}=r,{clusterBkg:i,clusterBorder:o}=n,{labelStyles:s,nodeStyles:l,borderStyles:u,backgroundStyles:f}=De(t),h=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),d=on(r.flowchart.htmlLabels),p=h.insert("g").attr("class","cluster-label "),m=await Ji(p,t.label,{style:t.labelStyle,useHtmlLabels:d,isNode:!0,width:t.width}),g=m.getBBox();if(on(r.flowchart.htmlLabels)){let S=m.children[0],C=Vt(m);g=S.getBoundingClientRect(),C.attr("width",g.width),C.attr("height",g.height)}let v=t.width<=g.width+t.padding?g.width+t.padding:t.width;t.width<=g.width+t.padding?t.diff=(v-t.width)/2-t.padding:t.diff=-t.padding;let y=t.height,b=t.x-v/2,_=t.y-y/2;J.trace("Data ",t,JSON.stringify(t));let k;if(t.look==="handDrawn"){let S=Kt.svg(h),C=Pe(t,{roughness:.7,fill:i,stroke:o,fillWeight:4,seed:a}),M=S.path(Td(b,_,v,y,t.rx),C);k=h.insert(()=>(J.debug("Rough node insert CXC",M),M),":first-child"),k.select("path:nth-child(2)").attr("style",u.join(";")),k.select("path").attr("style",f.join(";").replace("fill","stroke"))}else k=h.insert("rect",":first-child"),k.attr("style",l).attr("rx",t.rx).attr("ry",t.ry).attr("x",b).attr("y",_).attr("width",v).attr("height",y);let{subGraphTitleTopMargin:w}=Vf(r);if(p.attr("transform",`translate(${t.x-g.width/2}, ${t.y-t.height/2+w})`),s){let S=p.select("span");S&&S.attr("style",s)}let T=k.node().getBBox();return t.offsetX=0,t.width=T.width,t.height=T.height,t.offsetY=g.height-t.padding/2,t.intersect=function(S){return v1(t,S)},{cluster:h,labelBBox:g}},"kanbanSection"),KNt=x((e,t)=>{let r=bt(),{themeVariables:n,handDrawnSeed:a}=r,{nodeBorder:i}=n,o=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-look",t.look),s=o.insert("g",":first-child"),l=0*t.padding,u=t.width+l;t.diff=-t.padding;let f=t.height+l,h=t.x-u/2,d=t.y-f/2;t.width=u;let p;if(t.look==="handDrawn"){let v=Kt.svg(o).rectangle(h,d,u,f,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:i,seed:a});p=o.insert(()=>v,":first-child")}else p=s.insert("rect",":first-child"),p.attr("class","divider").attr("x",h).attr("y",d).attr("width",u).attr("height",f).attr("data-look",t.look);let m=p.node().getBBox();return t.height=m.height,t.offsetX=0,t.offsetY=0,t.intersect=function(g){return v1(t,g)},{cluster:o,labelBBox:{}}},"divider"),QNt=Yat,ZNt={rect:Yat,squareRect:QNt,roundedWithTitle:XNt,noteGroup:YNt,divider:KNt,kanbanSection:jNt},Xat=new Map,y1=x(async(e,t)=>{let r=t.shape||"rect",n=await ZNt[r](e,t);return Xat.set(t.id,n),n},"insertCluster"),jat=x(()=>{Xat=new Map},"clear");x(Kat,"intersectNode");JNt=Kat;x(Qat,"intersectEllipse");Zat=Qat;x(Jat,"intersectCircle");tOt=Jat;x(tit,"intersectLine");x(VI,"sameSign");eOt=tit;x(eit,"intersectPolygon");rOt=eit,Ae={node:JNt,circle:tOt,ellipse:Zat,polygon:rOt,rect:v1};x(rit,"anchor");x(HI,"generateArcPoints");x(nit,"bowTieRect");x(Ed,"insertPolygonShape");x(ait,"card");x(iit,"choice");x(YI,"circle");x(oit,"createLine");x(sit,"crossedCircle");x(Kf,"generateCirclePoints");x(lit,"curlyBraceLeft");x(Qf,"generateCirclePoints");x(uit,"curlyBraceRight");x(eo,"generateCirclePoints");x(cit,"curlyBraces");x(fit,"curvedTrapezoid");nOt=x((e,t,r,n,a,i)=>[`M${e},${t+i}`,`a${a},${i} 0,0,0 ${r},0`,`a${a},${i} 0,0,0 ${-r},0`,`l0,${n}`,`a${a},${i} 0,0,0 ${r},0`,`l0,${-n}`].join(" "),"createCylinderPathD"),aOt=x((e,t,r,n,a,i)=>[`M${e},${t+i}`,`M${e+r},${t+i}`,`a${a},${i} 0,0,0 ${-r},0`,`l0,${n}`,`a${a},${i} 0,0,0 ${r},0`,`l0,${-n}`].join(" "),"createOuterCylinderPathD"),iOt=x((e,t,r,n,a,i)=>[`M${e-r/2},${-n/2}`,`a${a},${i} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD");x(hit,"cylinder");x(dit,"dividedRectangle");x(pit,"doublecircle");x(mit,"filledCircle");x(git,"flippedTriangle");x(vit,"forkJoin");x(yit,"halfRoundedRectangle");x(xit,"hexagon");x(bit,"hourglass");x(_it,"icon");x(wit,"iconCircle");x(Tit,"iconRounded");x(Eit,"iconSquare");x(kit,"imageSquare");x(Cit,"inv_trapezoid");x(HE,"drawRect");x(Sit,"labelRect");x(Dit,"lean_left");x(Ait,"lean_right");x(Lit,"lightningBolt");oOt=x((e,t,r,n,a,i,o)=>[`M${e},${t+i}`,`a${a},${i} 0,0,0 ${r},0`,`a${a},${i} 0,0,0 ${-r},0`,`l0,${n}`,`a${a},${i} 0,0,0 ${r},0`,`l0,${-n}`,`M${e},${t+i+o}`,`a${a},${i} 0,0,0 ${r},0`].join(" "),"createCylinderPathD"),sOt=x((e,t,r,n,a,i,o)=>[`M${e},${t+i}`,`M${e+r},${t+i}`,`a${a},${i} 0,0,0 ${-r},0`,`l0,${n}`,`a${a},${i} 0,0,0 ${r},0`,`l0,${-n}`,`M${e},${t+i+o}`,`a${a},${i} 0,0,0 ${r},0`].join(" "),"createOuterCylinderPathD"),lOt=x((e,t,r,n,a,i)=>[`M${e-r/2},${-n/2}`,`a${a},${i} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD");x(Mit,"linedCylinder");x(Iit,"linedWaveEdgedRect");x(Rit,"multiRect");x(Nit,"multiWaveEdgedRectangle");x(Oit,"note");uOt=x((e,t,r)=>[`M${e+r/2},${t}`,`L${e+r},${t-r/2}`,`L${e+r/2},${t-r}`,`L${e},${t-r/2}`,"Z"].join(" "),"createDecisionBoxPathD");x(Fit,"question");x(Pit,"rect_left_inv_arrow");x(Bit,"rectWithTitle");x(zb,"generateArcPoints");x($it,"roundedRect");x(zit,"shadedProcess");x(qit,"slopedRect");x(Uit,"squareRect");x(Wit,"stadium");x(Git,"state");x(Vit,"stateEnd");x(Hit,"stateStart");x(Yit,"subroutine");x(Xit,"taggedRect");x(jit,"taggedWaveEdgedRectangle");x(Kit,"text");cOt=x((e,t,r,n,a,i)=>`M${e},${t}
    a${a},${i} 0,0,1 0,${-n}
    l${r},0
    a${a},${i} 0,0,1 0,${n}
    M${r},${-n}
    a${a},${i} 0,0,0 0,${n}
    l${-r},0`,"createCylinderPathD"),fOt=x((e,t,r,n,a,i)=>[`M${e},${t}`,`M${e+r},${t}`,`a${a},${i} 0,0,0 0,${-n}`,`l${-r},0`,`a${a},${i} 0,0,0 0,${n}`,`l${r},0`].join(" "),"createOuterCylinderPathD"),hOt=x((e,t,r,n,a,i)=>[`M${e+r/2},${-n/2}`,`a${a},${i} 0,0,0 0,${n}`].join(" "),"createInnerCylinderPathD");x(Qit,"tiltedCylinder");x(Zit,"trapezoid");x(Jit,"trapezoidalPentagon");x(tot,"triangle");x(eot,"waveEdgedRectangle");x(rot,"waveRectangle");x(not,"windowPane");x(XI,"erBox");x(g1,"addText");x(aot,"textHelper");x(qb,"addText");x(iot,"classBox");x(oot,"requirementBox");x(Rc,"addText");dOt=x(e=>{switch(e){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");x(sot,"kanbanItem");x(lot,"bang");x(uot,"cloud");x(cot,"defaultMindmapNode");x(fot,"mindmapCircle");pOt=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:Uit},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:$it},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:Wit},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:Yit},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:hit},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:YI},{semanticName:"Bang",name:"Bang",shortName:"bang",description:"Bang",aliases:["bang"],handler:lot},{semanticName:"Cloud",name:"Cloud",shortName:"cloud",description:"cloud",aliases:["cloud"],handler:uot},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:Fit},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:xit},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:Ait},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:Dit},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:Zit},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:Cit},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:pit},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:Kit},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:ait},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:zit},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:Hit},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:Vit},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:vit},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:bit},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:lit},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:uit},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:cit},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:Lit},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:eot},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:yit},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:Qit},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:Mit},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:fit},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:dit},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:tot},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:not},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:mit},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:Jit},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:git},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:qit},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:Nit},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:Rit},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:nit},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:sit},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:jit},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:Xit},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:rot},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:Pit},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:Iit}],mOt=x(()=>{let t=[...Object.entries({state:Git,choice:iit,note:Oit,rectWithTitle:Bit,labelRect:Sit,iconSquare:Eit,iconCircle:wit,icon:_it,iconRounded:Tit,imageSquare:kit,anchor:rit,kanbanItem:sot,mindmapCircle:fot,defaultMindmapNode:cot,classBox:iot,erBox:XI,requirementBox:oot}),...pOt.flatMap(r=>[r.shortName,..."aliases"in r?r.aliases:[],..."internalAliases"in r?r.internalAliases:[]].map(a=>[a,r.handler]))];return Object.fromEntries(t)},"generateShapeMap"),hot=mOt();x(jI,"isValidShape");YE=new Map;x(M0,"insertNode");dot=x((e,t)=>{YE.set(t.id,e)},"setNodeElem"),pot=x(()=>{YE.clear()},"clear"),Wb=x(e=>{let t=YE.get(e.id);J.trace("Transforming node",e.diff,e,"translate("+(e.x-e.width/2-5)+", "+e.width/2+")");let r=8,n=e.diff||0;return e.clusterNode?t.attr("transform","translate("+(e.x+n-e.width/2)+", "+(e.y-e.height/2-r)+")"):t.attr("transform","translate("+e.x+", "+e.y+")"),n},"positionNode")});function Gb(e,t){bt().flowchart.htmlLabels&&e&&(e.style.width=t.length*9+"px",e.style.height="12px")}function xot(e){let t=[],r=[];for(let n=1;n<e.length-1;n++){let a=e[n-1],i=e[n],o=e[n+1];(a.x===i.x&&i.y===o.y&&Math.abs(i.x-o.x)>5&&Math.abs(i.y-a.y)>5||a.y===i.y&&i.x===o.x&&Math.abs(i.x-a.x)>5&&Math.abs(i.y-o.y)>5)&&(t.push(i),r.push(n))}return{cornerPoints:t,cornerPointPositions:r}}function bot(e,t){if(e.length<2)return"";let r="",n=e.length,a=1e-5;for(let i=0;i<n;i++){let o=e[i],s=e[i-1],l=e[i+1];if(i===0)r+=`M${o.x},${o.y}`;else if(i===n-1)r+=`L${o.x},${o.y}`;else{let u=o.x-s.x,f=o.y-s.y,h=l.x-o.x,d=l.y-o.y,p=Math.hypot(u,f),m=Math.hypot(h,d);if(p<a||m<a){r+=`L${o.x},${o.y}`;continue}let g=u/p,v=f/p,y=h/m,b=d/m,_=g*y+v*b,k=Math.max(-1,Math.min(1,_)),w=Math.acos(k);if(w<a||Math.abs(Math.PI-w)<a){r+=`L${o.x},${o.y}`;continue}let T=Math.min(t/Math.sin(w/2),p/2,m/2),S=o.x-g*T,C=o.y-v*T,M=o.x+y*T,N=o.y+b*T;r+=`L${S},${C}`,r+=`Q${o.x},${o.y} ${M},${N}`}}return r}function KI(e,t){if(!e||!t)return{angle:0,deltaX:0,deltaY:0};let r=t.x-e.x,n=t.y-e.y;return{angle:Math.atan2(n,r),deltaX:r,deltaY:n}}function _ot(e,t){let r=e.map(a=>({...a}));if(e.length>=2&&ji[t.arrowTypeStart]){let a=ji[t.arrowTypeStart],i=e[0],o=e[1],{angle:s}=KI(i,o),l=a*Math.cos(s),u=a*Math.sin(s);r[0].x=i.x+l,r[0].y=i.y+u}let n=e.length;if(n>=2&&ji[t.arrowTypeEnd]){let a=ji[t.arrowTypeEnd],i=e[n-1],o=e[n-2],{angle:s}=KI(o,i),l=a*Math.cos(s),u=a*Math.sin(s);r[n-1].x=i.x-l,r[n-1].y=i.y-u}return r}var gOt,vOt,mot,jE,ro,yot,XE,KE,QE,yOt,xOt,got,vot,bOt,_Ot,ZE,wOt,TOt,EOt,kOt,COt,SOt,DOt,AOt,LOt,MOt,IOt,ROt,NOt,OOt,FOt,POt,BOt,JE,$l=B(()=>{al();Ns();Zo();Jo();to();On();Tr();nr();hr();$e();gOt=x((e,t,r,n,a,i)=>{t.arrowTypeStart&&mot(e,"start",t.arrowTypeStart,r,n,a,i),t.arrowTypeEnd&&mot(e,"end",t.arrowTypeEnd,r,n,a,i)},"addEdgeMarkers"),vOt={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}},mot=x((e,t,r,n,a,i,o)=>{let s=vOt[r];if(!s){J.warn(`Unknown arrow type: ${r}`);return}let l=s.type,f=`${a}_${i}-${l}${t==="start"?"Start":"End"}`;if(o&&o.trim()!==""){let h=o.replace(/[^\dA-Za-z]/g,"_"),d=`${f}_${h}`;if(!document.getElementById(d)){let p=document.getElementById(f);if(p){let m=p.cloneNode(!0);m.id=d,m.querySelectorAll("path, circle, line").forEach(v=>{v.setAttribute("stroke",o),s.fill&&v.setAttribute("fill",o)}),p.parentNode?.appendChild(m)}}e.attr(`marker-${t}`,`url(${n}#${d})`)}else e.attr(`marker-${t}`,`url(${n}#${f})`)},"addEdgeMarker"),jE=new Map,ro=new Map,yot=x(()=>{jE.clear(),ro.clear()},"clear"),XE=x(e=>e?e.reduce((r,n)=>r+";"+n,""):"","getLabelStyles"),KE=x(async(e,t)=>{let r=on(bt().flowchart.htmlLabels),{labelStyles:n}=De(t);t.labelStyle=n;let a=await Ji(e,t.label,{style:t.labelStyle,useHtmlLabels:r,addSvgBackground:!0,isNode:!1});J.info("abc82",t,t.labelType);let i=e.insert("g").attr("class","edgeLabel"),o=i.insert("g").attr("class","label").attr("data-id",t.id);o.node().appendChild(a);let s=a.getBBox();if(r){let u=a.children[0],f=Vt(a);s=u.getBoundingClientRect(),f.attr("width",s.width),f.attr("height",s.height)}o.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"),jE.set(t.id,i),t.width=s.width,t.height=s.height;let l;if(t.startLabelLeft){let u=await wd(t.startLabelLeft,XE(t.labelStyle)),f=e.insert("g").attr("class","edgeTerminals"),h=f.insert("g").attr("class","inner");l=h.node().appendChild(u);let d=u.getBBox();h.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),ro.get(t.id)||ro.set(t.id,{}),ro.get(t.id).startLeft=f,Gb(l,t.startLabelLeft)}if(t.startLabelRight){let u=await wd(t.startLabelRight,XE(t.labelStyle)),f=e.insert("g").attr("class","edgeTerminals"),h=f.insert("g").attr("class","inner");l=f.node().appendChild(u),h.node().appendChild(u);let d=u.getBBox();h.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),ro.get(t.id)||ro.set(t.id,{}),ro.get(t.id).startRight=f,Gb(l,t.startLabelRight)}if(t.endLabelLeft){let u=await wd(t.endLabelLeft,XE(t.labelStyle)),f=e.insert("g").attr("class","edgeTerminals"),h=f.insert("g").attr("class","inner");l=h.node().appendChild(u);let d=u.getBBox();h.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),f.node().appendChild(u),ro.get(t.id)||ro.set(t.id,{}),ro.get(t.id).endLeft=f,Gb(l,t.endLabelLeft)}if(t.endLabelRight){let u=await wd(t.endLabelRight,XE(t.labelStyle)),f=e.insert("g").attr("class","edgeTerminals"),h=f.insert("g").attr("class","inner");l=h.node().appendChild(u);let d=u.getBBox();h.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),f.node().appendChild(u),ro.get(t.id)||ro.set(t.id,{}),ro.get(t.id).endRight=f,Gb(l,t.endLabelRight)}return a},"insertEdgeLabel");x(Gb,"setTerminalWidth");QE=x((e,t)=>{J.debug("Moving label abc88 ",e.id,e.label,jE.get(e.id),t);let r=t.updatedPath?t.updatedPath:t.originalPath,n=bt(),{subGraphTitleTotalMargin:a}=Vf(n);if(e.label){let i=jE.get(e.id),o=e.x,s=e.y;if(r){let l=Ge.calcLabelPosition(r);J.debug("Moving label "+e.label+" from (",o,",",s,") to (",l.x,",",l.y,") abc88"),t.updatedPath&&(o=l.x,s=l.y)}i.attr("transform",`translate(${o}, ${s+a/2})`)}if(e.startLabelLeft){let i=ro.get(e.id).startLeft,o=e.x,s=e.y;if(r){let l=Ge.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_left",r);o=l.x,s=l.y}i.attr("transform",`translate(${o}, ${s})`)}if(e.startLabelRight){let i=ro.get(e.id).startRight,o=e.x,s=e.y;if(r){let l=Ge.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_right",r);o=l.x,s=l.y}i.attr("transform",`translate(${o}, ${s})`)}if(e.endLabelLeft){let i=ro.get(e.id).endLeft,o=e.x,s=e.y;if(r){let l=Ge.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_left",r);o=l.x,s=l.y}i.attr("transform",`translate(${o}, ${s})`)}if(e.endLabelRight){let i=ro.get(e.id).endRight,o=e.x,s=e.y;if(r){let l=Ge.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_right",r);o=l.x,s=l.y}i.attr("transform",`translate(${o}, ${s})`)}},"positionEdgeLabel"),yOt=x((e,t)=>{let r=e.x,n=e.y,a=Math.abs(t.x-r),i=Math.abs(t.y-n),o=e.width/2,s=e.height/2;return a>=o||i>=s},"outsideNode"),xOt=x((e,t,r)=>{J.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(t)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${e.x} y:${e.y} w:${e.width} h:${e.height}`);let n=e.x,a=e.y,i=Math.abs(n-r.x),o=e.width/2,s=r.x<t.x?o-i:o+i,l=e.height/2,u=Math.abs(t.y-r.y),f=Math.abs(t.x-r.x);if(Math.abs(a-t.y)*o>Math.abs(n-t.x)*l){let h=r.y<t.y?t.y-l-a:a-l-t.y;s=f*h/u;let d={x:r.x<t.x?r.x+s:r.x-f+s,y:r.y<t.y?r.y+u-h:r.y-u+h};return s===0&&(d.x=t.x,d.y=t.y),f===0&&(d.x=t.x),u===0&&(d.y=t.y),J.debug(`abc89 top/bottom calc, Q ${u}, q ${h}, R ${f}, r ${s}`,d),d}else{r.x<t.x?s=t.x-o-n:s=n-o-t.x;let h=u*s/f,d=r.x<t.x?r.x+f-s:r.x-f+s,p=r.y<t.y?r.y+h:r.y-h;return J.debug(`sides calc abc89, Q ${u}, q ${h}, R ${f}, r ${s}`,{_x:d,_y:p}),s===0&&(d=t.x,p=t.y),f===0&&(d=t.x),u===0&&(p=t.y),{x:d,y:p}}},"intersection"),got=x((e,t)=>{J.warn("abc88 cutPathAtIntersect",e,t);let r=[],n=e[0],a=!1;return e.forEach(i=>{if(J.info("abc88 checking point",i,t),!yOt(t,i)&&!a){let o=xOt(t,n,i);J.debug("abc88 inside",i,n,o),J.debug("abc88 intersection",o,t);let s=!1;r.forEach(l=>{s=s||l.x===o.x&&l.y===o.y}),r.some(l=>l.x===o.x&&l.y===o.y)?J.warn("abc88 no intersect",o,r):r.push(o),a=!0}else J.warn("abc88 outside",i,n),n=i,a||r.push(i)}),J.debug("returning points",r),r},"cutPathAtIntersect");x(xot,"extractCornerPoints");vot=x(function(e,t,r){let n=t.x-e.x,a=t.y-e.y,i=Math.sqrt(n*n+a*a),o=r/i;return{x:t.x-o*n,y:t.y-o*a}},"findAdjacentPoint"),bOt=x(function(e){let{cornerPointPositions:t}=xot(e),r=[];for(let n=0;n<e.length;n++)if(t.includes(n)){let a=e[n-1],i=e[n+1],o=e[n],s=vot(a,o,5),l=vot(i,o,5),u=l.x-s.x,f=l.y-s.y;r.push(s);let h=Math.sqrt(2)*2,d={x:o.x,y:o.y};if(Math.abs(i.x-a.x)>10&&Math.abs(i.y-a.y)>=10){J.debug("Corner point fixing",Math.abs(i.x-a.x),Math.abs(i.y-a.y));let p=5;o.x===s.x?d={x:u<0?s.x-p+h:s.x+p-h,y:f<0?s.y-h:s.y+h}:d={x:u<0?s.x-h:s.x+h,y:f<0?s.y-p+h:s.y+p-h}}else J.debug("Corner point skipping fixing",Math.abs(i.x-a.x),Math.abs(i.y-a.y));r.push(d,l)}else r.push(e[n]);return r},"fixCorners"),_Ot=x((e,t,r)=>{let n=e-t-r,a=2,i=2,o=a+i,s=Math.floor(n/o),l=Array(s).fill(`${a} ${i}`).join(" ");return`0 ${t} ${l} ${r}`},"generateDashArray"),ZE=x(function(e,t,r,n,a,i,o,s=!1){let{handDrawnSeed:l}=bt(),u=t.points,f=!1,h=a;var d=i;let p=[];for(let D in t.cssCompiledStyles)gb(D)||p.push(t.cssCompiledStyles[D]);J.debug("UIO intersect check",t.points,d.x,h.x),d.intersect&&h.intersect&&!s&&(u=u.slice(1,t.points.length-1),u.unshift(h.intersect(u[0])),J.debug("Last point UIO",t.start,"-->",t.end,u[u.length-1],d,d.intersect(u[u.length-1])),u.push(d.intersect(u[u.length-1])));let m=btoa(JSON.stringify(u));t.toCluster&&(J.info("to cluster abc88",r.get(t.toCluster)),u=got(t.points,r.get(t.toCluster).node),f=!0),t.fromCluster&&(J.debug("from cluster abc88",r.get(t.fromCluster),JSON.stringify(u,null,2)),u=got(u.reverse(),r.get(t.fromCluster).node).reverse(),f=!0);let g=u.filter(D=>!Number.isNaN(D.y));g=bOt(g);let v=Cu;switch(v=id,t.curve){case"linear":v=id;break;case"basis":v=Cu;break;case"cardinal":v=Jx;break;case"bumpX":v=Xx;break;case"bumpY":v=jx;break;case"catmullRom":v=rb;break;case"monotoneX":v=nb;break;case"monotoneY":v=ab;break;case"natural":v=ib;break;case"step":v=ob;break;case"stepAfter":v=lb;break;case"stepBefore":v=sb;break;default:v=Cu}let{x:y,y:b}=JT(t),_=_c().x(y).y(b).curve(v),k;switch(t.thickness){case"normal":k="edge-thickness-normal";break;case"thick":k="edge-thickness-thick";break;case"invisible":k="edge-thickness-invisible";break;default:k="edge-thickness-normal"}switch(t.pattern){case"solid":k+=" edge-pattern-solid";break;case"dotted":k+=" edge-pattern-dotted";break;case"dashed":k+=" edge-pattern-dashed";break;default:k+=" edge-pattern-solid"}let w,T=t.curve==="rounded"?bot(_ot(g,t),5):_(g),S=Array.isArray(t.style)?t.style:[t.style],C=S.find(D=>D?.startsWith("stroke:")),M=!1;if(t.look==="handDrawn"){let D=Kt.svg(e);Object.assign([],g);let R=D.path(T,{roughness:.3,seed:l});k+=" transition",w=Vt(R).select("path").attr("id",t.id).attr("class"," "+k+(t.classes?" "+t.classes:"")).attr("style",S?S.reduce((O,F)=>O+";"+F,""):"");let I=w.attr("d");w.attr("d",I),e.node().appendChild(w.node())}else{let D=p.join(";"),R=S?S.reduce((W,X)=>W+X+";",""):"",I="";t.animate&&(I=" edge-animation-fast"),t.animation&&(I=" edge-animation-"+t.animation);let O=(D?D+";"+R+";":R)+";"+(S?S.reduce((W,X)=>W+";"+X,""):"");w=e.append("path").attr("d",T).attr("id",t.id).attr("class"," "+k+(t.classes?" "+t.classes:"")+(I??"")).attr("style",O),C=O.match(/stroke:([^;]+)/)?.[1],M=t.animate===!0||!!t.animation||D.includes("animation");let F=w.node(),P=typeof F.getTotalLength=="function"?F.getTotalLength():0,q=k9[t.arrowTypeStart]||0,$=k9[t.arrowTypeEnd]||0;if(t.look==="neo"&&!M){let X=`stroke-dasharray: ${t.pattern==="dotted"||t.pattern==="dashed"?_Ot(P,q,$):`0 ${q} ${P-q-$} ${$}`}; stroke-dashoffset: 0;`;w.attr("style",X+w.attr("style"))}}w.attr("data-edge",!0),w.attr("data-et","edge"),w.attr("data-id",t.id),w.attr("data-points",m),t.showPoints&&g.forEach(D=>{e.append("circle").style("stroke","red").style("fill","red").attr("r",1).attr("cx",D.x).attr("cy",D.y)});let N="";(bt().flowchart.arrowMarkerAbsolute||bt().state.arrowMarkerAbsolute)&&(N=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,N=N.replace(/\(/g,"\\(").replace(/\)/g,"\\)")),J.info("arrowTypeStart",t.arrowTypeStart),J.info("arrowTypeEnd",t.arrowTypeEnd),gOt(w,t,N,o,n,C);let L=Math.floor(u.length/2),E=u[L];Ge.isLabelCoordinateInPath(E,w.attr("d"))||(f=!0);let A={};return f&&(A.updatedPath=u),A.originalPath=t.points,A},"insertEdge");x(bot,"generateRoundedPath");x(KI,"calculateDeltaAndAngle");x(_ot,"applyMarkerOffsetsToPoints");wOt=x((e,t,r,n)=>{t.forEach(a=>{BOt[a](e,r,n)})},"insertMarkers"),TOt=x((e,t,r)=>{J.trace("Making markers for ",r),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionStart").attr("class","marker extension "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),EOt=x((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionStart").attr("class","marker composition "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),kOt=x((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),COt=x((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),SOt=x((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopEnd").attr("class","marker lollipop "+t).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),DOt=x((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),AOt=x((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),LOt=x((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),MOt=x((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),IOt=x((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-onlyOneStart").attr("class","marker onlyOne "+t).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18"),e.append("defs").append("marker").attr("id",r+"_"+t+"-onlyOneEnd").attr("class","marker onlyOne "+t).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")},"only_one"),ROt=x((e,t,r)=>{let n=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrOneStart").attr("class","marker zeroOrOne "+t).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");n.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),n.append("path").attr("d","M9,0 L9,18");let a=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+t).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");a.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),a.append("path").attr("d","M21,0 L21,18")},"zero_or_one"),NOt=x((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-oneOrMoreStart").attr("class","marker oneOrMore "+t).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),e.append("defs").append("marker").attr("id",r+"_"+t+"-oneOrMoreEnd").attr("class","marker oneOrMore "+t).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")},"one_or_more"),OOt=x((e,t,r)=>{let n=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+t).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");n.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),n.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");let a=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+t).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");a.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),a.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"zero_or_more"),FOt=x((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d",`M0,0
      L20,10
      M20,10
      L0,20`)},"requirement_arrow"),POt=x((e,t,r)=>{let n=e.append("defs").append("marker").attr("id",r+"_"+t+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");n.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none"),n.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10),n.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)},"requirement_contains"),BOt={extension:TOt,composition:EOt,aggregation:kOt,dependency:COt,lollipop:SOt,point:DOt,circle:AOt,cross:LOt,barb:MOt,only_one:IOt,zero_or_one:ROt,one_or_more:NOt,zero_or_more:OOt,requirement_arrow:FOt,requirement_contains:POt},JE=wOt});function zOt(e){return typeof e=="symbol"||Ra(e)&&Ki(e)==$Ot}var $Ot,ll,I0=B(()=>{Hf();Nl();$Ot="[object Symbol]";ll=zOt});function qOt(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var Os,R0=B(()=>{Os=qOt});function Eot(e){if(typeof e=="string")return e;if(Ie(e))return Os(e,Eot)+"";if(ll(e))return Tot?Tot.call(e):"";var t=e+"";return t=="0"&&1/e==-UOt?"-0":t}var UOt,wot,Tot,kot,Cot=B(()=>{_0();R0();xa();I0();UOt=1/0,wot=Ii?Ii.prototype:void 0,Tot=wot?wot.toString:void 0;kot=Eot});function GOt(e){for(var t=e.length;t--&&WOt.test(e.charAt(t)););return t}var WOt,Sot,Dot=B(()=>{WOt=/\s/;Sot=GOt});function HOt(e){return e&&e.slice(0,Sot(e)+1).replace(VOt,"")}var VOt,Aot,Lot=B(()=>{Dot();VOt=/^\s+/;Aot=HOt});function QOt(e){if(typeof e=="number")return e;if(ll(e))return Mot;if(Hn(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Hn(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Aot(e);var r=XOt.test(e);return r||jOt.test(e)?KOt(e.slice(2),r?2:8):YOt.test(e)?Mot:+e}var Mot,YOt,XOt,jOt,KOt,Iot,Rot=B(()=>{Lot();il();I0();Mot=NaN,YOt=/^[-+]0x[0-9a-f]+$/i,XOt=/^0b[01]+$/i,jOt=/^0o[0-7]+$/i,KOt=parseInt;Iot=QOt});function JOt(e){if(!e)return e===0?e:0;if(e=Iot(e),e===Not||e===-Not){var t=e<0?-1:1;return t*ZOt}return e===e?e:0}var Not,ZOt,x1,QI=B(()=>{Rot();Not=1/0,ZOt=17976931348623157e292;x1=JOt});function tFt(e){var t=x1(e),r=t%1;return t===t?r?t-r:t:0}var Nc,b1=B(()=>{QI();Nc=tFt});var eFt,tk,Oot=B(()=>{fd();Il();eFt=As(Ua,"WeakMap"),tk=eFt});function rFt(){}var Oa,ZI=B(()=>{Oa=rFt});function nFt(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var ek,JI=B(()=>{ek=nFt});function aFt(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var rk,tR=B(()=>{rk=aFt});function iFt(e){return e!==e}var Fot,Pot=B(()=>{Fot=iFt});function oFt(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var Bot,$ot=B(()=>{Bot=oFt});function sFt(e,t,r){return t===t?Bot(e,t,r):rk(e,Fot,r)}var _1,nk=B(()=>{tR();Pot();$ot();_1=sFt});function lFt(e,t){var r=e==null?0:e.length;return!!r&&_1(e,t,0)>-1}var ak,eR=B(()=>{nk();ak=lFt});var uFt,zot,qot=B(()=>{P9();uFt=cE(Object.keys,Object),zot=uFt});function hFt(e){if(!Cc(e))return zot(e);var t=[];for(var r in Object(e))fFt.call(e,r)&&r!="constructor"&&t.push(r);return t}var cFt,fFt,w1,ik=B(()=>{s1();qot();cFt=Object.prototype,fFt=cFt.hasOwnProperty;w1=hFt});function dFt(e){return Wa(e)?mE(e):w1(e)}var sn,Oc=B(()=>{U9();ik();Ol();sn=dFt});var pFt,mFt,gFt,no,Uot=B(()=>{f1();C0();H9();Ol();s1();Oc();pFt=Object.prototype,mFt=pFt.hasOwnProperty,gFt=yE(function(e,t){if(Cc(t)||Wa(t)){Bl(t,sn(t),e);return}for(var r in t)mFt.call(t,r)&&Sc(e,r,t[r])}),no=gFt});function xFt(e,t){if(Ie(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||ll(e)?!0:yFt.test(e)||!vFt.test(e)||t!=null&&e in Object(t)}var vFt,yFt,T1,ok=B(()=>{xa();I0();vFt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,yFt=/^\w*$/;T1=xFt});function _Ft(e){var t=Jg(e,function(n){return r.size===bFt&&r.clear(),n}),r=t.cache;return t}var bFt,Wot,Got=B(()=>{L9();bFt=500;Wot=_Ft});var wFt,TFt,EFt,Vot,Hot=B(()=>{Got();wFt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,TFt=/\\(\\)?/g,EFt=Wot(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(wFt,function(r,n,a,i){t.push(a?i.replace(TFt,"$1"):n||r)}),t}),Vot=EFt});function kFt(e){return e==null?"":kot(e)}var sk,rR=B(()=>{Cot();sk=kFt});function CFt(e,t){return Ie(e)?e:T1(e,t)?[e]:Vot(sk(e))}var kd,Vb=B(()=>{xa();ok();Hot();rR();kd=CFt});function DFt(e){if(typeof e=="string"||ll(e))return e;var t=e+"";return t=="0"&&1/e==-SFt?"-0":t}var SFt,Fc,E1=B(()=>{I0();SFt=1/0;Fc=DFt});function AFt(e,t){t=kd(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Fc(t[r++])];return r&&r==n?e:void 0}var Cd,Hb=B(()=>{Vb();E1();Cd=AFt});function LFt(e,t,r){var n=e==null?void 0:Cd(e,t);return n===void 0?r:n}var Yot,Xot=B(()=>{Hb();Yot=LFt});function MFt(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var k1,lk=B(()=>{k1=MFt});function IFt(e){return Ie(e)||Du(e)||!!(jot&&e&&e[jot])}var jot,Kot,Qot=B(()=>{_0();l1();xa();jot=Ii?Ii.isConcatSpreadable:void 0;Kot=IFt});function Zot(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=Kot),a||(a=[]);++i<o;){var s=e[i];t>0&&r(s)?t>1?Zot(s,t-1,r,n,a):k1(a,s):n||(a[a.length]=s)}return a}var Pc,C1=B(()=>{lk();Qot();Pc=Zot});function RFt(e){var t=e==null?0:e.length;return t?Pc(e,1):[]}var vn,uk=B(()=>{C1();vn=RFt});function NFt(e){return vE(gE(e,void 0,vn),e+"")}var Jot,tst=B(()=>{uk();W9();V9();Jot=NFt});function OFt(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var ck,nR=B(()=>{ck=OFt});function GFt(e){return WFt.test(e)}var FFt,PFt,BFt,$Ft,zFt,qFt,UFt,WFt,est,rst=B(()=>{FFt="\\ud800-\\udfff",PFt="\\u0300-\\u036f",BFt="\\ufe20-\\ufe2f",$Ft="\\u20d0-\\u20ff",zFt=PFt+BFt+$Ft,qFt="\\ufe0e\\ufe0f",UFt="\\u200d",WFt=RegExp("["+UFt+FFt+zFt+qFt+"]");est=GFt});function VFt(e,t,r,n){var a=-1,i=e==null?0:e.length;for(n&&i&&(r=e[++a]);++a<i;)r=t(r,e[a],a,e);return r}var nst,ast=B(()=>{nst=VFt});function HFt(e,t){return e&&Bl(t,sn(t),e)}var ist,ost=B(()=>{C0();Oc();ist=HFt});function YFt(e,t){return e&&Bl(t,Ls(t),e)}var sst,lst=B(()=>{C0();yd();sst=YFt});function XFt(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var S1,fk=B(()=>{S1=XFt});function jFt(){return[]}var hk,aR=B(()=>{hk=jFt});var KFt,QFt,ust,ZFt,D1,dk=B(()=>{fk();aR();KFt=Object.prototype,QFt=KFt.propertyIsEnumerable,ust=Object.getOwnPropertySymbols,ZFt=ust?function(e){return e==null?[]:(e=Object(e),S1(ust(e),function(t){return QFt.call(e,t)}))}:hk,D1=ZFt});function JFt(e,t){return Bl(e,D1(e),t)}var cst,fst=B(()=>{C0();dk();cst=JFt});var tPt,ePt,pk,iR=B(()=>{lk();fE();dk();aR();tPt=Object.getOwnPropertySymbols,ePt=tPt?function(e){for(var t=[];e;)k1(t,D1(e)),e=o1(e);return t}:hk,pk=ePt});function rPt(e,t){return Bl(e,pk(e),t)}var hst,dst=B(()=>{C0();iR();hst=rPt});function nPt(e,t,r){var n=t(e);return Ie(e)?n:k1(n,r(e))}var mk,oR=B(()=>{lk();xa();mk=nPt});function aPt(e){return mk(e,sn,D1)}var Yb,sR=B(()=>{oR();dk();Oc();Yb=aPt});function iPt(e){return mk(e,Ls,pk)}var gk,lR=B(()=>{oR();iR();yd();gk=iPt});var oPt,vk,pst=B(()=>{fd();Il();oPt=As(Ua,"DataView"),vk=oPt});var sPt,yk,mst=B(()=>{fd();Il();sPt=As(Ua,"Promise"),yk=sPt});var lPt,Sd,uR=B(()=>{fd();Il();lPt=As(Ua,"Set"),Sd=lPt});var gst,uPt,vst,yst,xst,bst,cPt,fPt,hPt,dPt,pPt,N0,ul,O0=B(()=>{pst();nE();mst();uR();Oot();Hf();S9();gst="[object Map]",uPt="[object Object]",vst="[object Promise]",yst="[object Set]",xst="[object WeakMap]",bst="[object DataView]",cPt=Yf(vk),fPt=Yf(pd),hPt=Yf(yk),dPt=Yf(Sd),pPt=Yf(tk),N0=Ki;(vk&&N0(new vk(new ArrayBuffer(1)))!=bst||pd&&N0(new pd)!=gst||yk&&N0(yk.resolve())!=vst||Sd&&N0(new Sd)!=yst||tk&&N0(new tk)!=xst)&&(N0=function(e){var t=Ki(e),r=t==uPt?e.constructor:void 0,n=r?Yf(r):"";if(n)switch(n){case cPt:return bst;case fPt:return gst;case hPt:return vst;case dPt:return yst;case pPt:return xst}return t});ul=N0});function vPt(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&gPt.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var mPt,gPt,_st,wst=B(()=>{mPt=Object.prototype,gPt=mPt.hasOwnProperty;_st=vPt});function yPt(e,t){var r=t?i1(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var Tst,Est=B(()=>{sE();Tst=yPt});function bPt(e){var t=new e.constructor(e.source,xPt.exec(e));return t.lastIndex=e.lastIndex,t}var xPt,kst,Cst=B(()=>{xPt=/\w*$/;kst=bPt});function _Pt(e){return Dst?Object(Dst.call(e)):{}}var Sst,Dst,Ast,Lst=B(()=>{_0();Sst=Ii?Ii.prototype:void 0,Dst=Sst?Sst.valueOf:void 0;Ast=_Pt});function qPt(e,t,r){var n=e.constructor;switch(t){case LPt:return i1(e);case wPt:case TPt:return new n(+e);case MPt:return Tst(e,r);case IPt:case RPt:case NPt:case OPt:case FPt:case PPt:case BPt:case $Pt:case zPt:return lE(e,r);case EPt:return new n;case kPt:case DPt:return new n(e);case CPt:return kst(e);case SPt:return new n;case APt:return Ast(e)}}var wPt,TPt,EPt,kPt,CPt,SPt,DPt,APt,LPt,MPt,IPt,RPt,NPt,OPt,FPt,PPt,BPt,$Pt,zPt,Mst,Ist=B(()=>{sE();Est();Cst();Lst();O9();wPt="[object Boolean]",TPt="[object Date]",EPt="[object Map]",kPt="[object Number]",CPt="[object RegExp]",SPt="[object Set]",DPt="[object String]",APt="[object Symbol]",LPt="[object ArrayBuffer]",MPt="[object DataView]",IPt="[object Float32Array]",RPt="[object Float64Array]",NPt="[object Int8Array]",OPt="[object Int16Array]",FPt="[object Int32Array]",PPt="[object Uint8Array]",BPt="[object Uint8ClampedArray]",$Pt="[object Uint16Array]",zPt="[object Uint32Array]";Mst=qPt});function WPt(e){return Ra(e)&&ul(e)==UPt}var UPt,Rst,Nst=B(()=>{O0();Nl();UPt="[object Map]";Rst=WPt});var Ost,GPt,Fst,Pst=B(()=>{Nst();k0();Cb();Ost=Pl&&Pl.isMap,GPt=Ost?Fl(Ost):Rst,Fst=GPt});function HPt(e){return Ra(e)&&ul(e)==VPt}var VPt,Bst,$st=B(()=>{O0();Nl();VPt="[object Set]";Bst=HPt});var zst,YPt,qst,Ust=B(()=>{$st();k0();Cb();zst=Pl&&Pl.isSet,YPt=zst?Fl(zst):Bst,qst=YPt});function xk(e,t,r,n,a,i){var o,s=t&XPt,l=t&jPt,u=t&KPt;if(r&&(o=a?r(e,n,a,i):r(e)),o!==void 0)return o;if(!Hn(e))return e;var f=Ie(e);if(f){if(o=_st(e),!s)return uE(e,o)}else{var h=ul(e),d=h==Gst||h==eBt;if(Au(e))return oE(e,s);if(h==Vst||h==Wst||d&&!a){if(o=l||d?{}:hE(e),!s)return l?hst(e,sst(o,e)):cst(e,ist(o,e))}else{if(!ra[h])return a?e:{};o=Mst(e,h,s)}}i||(i=new Ec);var p=i.get(e);if(p)return p;i.set(e,o),qst(e)?e.forEach(function(v){o.add(xk(v,t,r,v,e,i))}):Fst(e)&&e.forEach(function(v,y){o.set(y,xk(v,t,r,y,e,i))});var m=u?l?gk:Yb:l?Ls:sn,g=f?void 0:m(e);return ek(g||e,function(v,y){g&&(y=v,v=e[y]),Sc(o,y,xk(v,t,r,y,e,i))}),o}var XPt,jPt,KPt,Wst,QPt,ZPt,JPt,tBt,Gst,eBt,rBt,nBt,Vst,aBt,iBt,oBt,sBt,lBt,uBt,cBt,fBt,hBt,dBt,pBt,mBt,gBt,vBt,yBt,xBt,ra,bk,cR=B(()=>{Tb();JI();f1();ost();lst();R9();F9();fst();dst();sR();lR();O0();wst();Ist();B9();xa();c1();Pst();il();Ust();Oc();yd();XPt=1,jPt=2,KPt=4,Wst="[object Arguments]",QPt="[object Array]",ZPt="[object Boolean]",JPt="[object Date]",tBt="[object Error]",Gst="[object Function]",eBt="[object GeneratorFunction]",rBt="[object Map]",nBt="[object Number]",Vst="[object Object]",aBt="[object RegExp]",iBt="[object Set]",oBt="[object String]",sBt="[object Symbol]",lBt="[object WeakMap]",uBt="[object ArrayBuffer]",cBt="[object DataView]",fBt="[object Float32Array]",hBt="[object Float64Array]",dBt="[object Int8Array]",pBt="[object Int16Array]",mBt="[object Int32Array]",gBt="[object Uint8Array]",vBt="[object Uint8ClampedArray]",yBt="[object Uint16Array]",xBt="[object Uint32Array]",ra={};ra[Wst]=ra[QPt]=ra[uBt]=ra[cBt]=ra[ZPt]=ra[JPt]=ra[fBt]=ra[hBt]=ra[dBt]=ra[pBt]=ra[mBt]=ra[rBt]=ra[nBt]=ra[Vst]=ra[aBt]=ra[iBt]=ra[oBt]=ra[sBt]=ra[gBt]=ra[vBt]=ra[yBt]=ra[xBt]=!0;ra[tBt]=ra[Gst]=ra[lBt]=!1;bk=xk});function _Bt(e){return bk(e,bBt)}var bBt,Cn,fR=B(()=>{cR();bBt=4;Cn=_Bt});function EBt(e){return bk(e,wBt|TBt)}var wBt,TBt,hR,Hst=B(()=>{cR();wBt=1,TBt=4;hR=EBt});function kBt(e){for(var t=-1,r=e==null?0:e.length,n=0,a=[];++t<r;){var i=e[t];i&&(a[n++]=i)}return a}var Bc,Yst=B(()=>{Bc=kBt});function SBt(e){return this.__data__.set(e,CBt),this}var CBt,Xst,jst=B(()=>{CBt="__lodash_hash_undefined__";Xst=SBt});function DBt(e){return this.__data__.has(e)}var Kst,Qst=B(()=>{Kst=DBt});function _k(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new T0;++t<r;)this.add(e[t])}var A1,wk=B(()=>{aE();jst();Qst();_k.prototype.add=_k.prototype.push=Xst;_k.prototype.has=Kst;A1=_k});function ABt(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Tk,dR=B(()=>{Tk=ABt});function LBt(e,t){return e.has(t)}var L1,Ek=B(()=>{L1=LBt});function RBt(e,t,r,n,a,i){var o=r&MBt,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var u=i.get(e),f=i.get(t);if(u&&f)return u==t&&f==e;var h=-1,d=!0,p=r&IBt?new A1:void 0;for(i.set(e,t),i.set(t,e);++h<s;){var m=e[h],g=t[h];if(n)var v=o?n(g,m,h,t,e,i):n(m,g,h,e,t,i);if(v!==void 0){if(v)continue;d=!1;break}if(p){if(!Tk(t,function(y,b){if(!L1(p,b)&&(m===y||a(m,y,r,n,i)))return p.push(b)})){d=!1;break}}else if(!(m===g||a(m,g,r,n,i))){d=!1;break}}return i.delete(e),i.delete(t),d}var MBt,IBt,kk,pR=B(()=>{wk();dR();Ek();MBt=1,IBt=2;kk=RBt});function NBt(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var Zst,Jst=B(()=>{Zst=NBt});function OBt(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var M1,Ck=B(()=>{M1=OBt});function jBt(e,t,r,n,a,i,o){switch(r){case XBt:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case YBt:return!(e.byteLength!=t.byteLength||!i(new a1(e),new a1(t)));case BBt:case $Bt:case UBt:return Rl(+e,+t);case zBt:return e.name==t.name&&e.message==t.message;case WBt:case VBt:return e==t+"";case qBt:var s=Zst;case GBt:var l=n&FBt;if(s||(s=M1),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;n|=PBt,o.set(e,t);var f=kk(s(e),s(t),n,a,i,o);return o.delete(e),f;case HBt:if(mR)return mR.call(e)==mR.call(t)}return!1}var FBt,PBt,BBt,$Bt,zBt,qBt,UBt,WBt,GBt,VBt,HBt,YBt,XBt,tlt,mR,elt,rlt=B(()=>{_0();N9();w0();pR();Jst();Ck();FBt=1,PBt=2,BBt="[object Boolean]",$Bt="[object Date]",zBt="[object Error]",qBt="[object Map]",UBt="[object Number]",WBt="[object RegExp]",GBt="[object Set]",VBt="[object String]",HBt="[object Symbol]",YBt="[object ArrayBuffer]",XBt="[object DataView]",tlt=Ii?Ii.prototype:void 0,mR=tlt?tlt.valueOf:void 0;elt=jBt});function JBt(e,t,r,n,a,i){var o=r&KBt,s=Yb(e),l=s.length,u=Yb(t),f=u.length;if(l!=f&&!o)return!1;for(var h=l;h--;){var d=s[h];if(!(o?d in t:ZBt.call(t,d)))return!1}var p=i.get(e),m=i.get(t);if(p&&m)return p==t&&m==e;var g=!0;i.set(e,t),i.set(t,e);for(var v=o;++h<l;){d=s[h];var y=e[d],b=t[d];if(n)var _=o?n(b,y,d,t,e,i):n(y,b,d,e,t,i);if(!(_===void 0?y===b||a(y,b,r,n,i):_)){g=!1;break}v||(v=d=="constructor")}if(g&&!v){var k=e.constructor,w=t.constructor;k!=w&&"constructor"in e&&"constructor"in t&&!(typeof k=="function"&&k instanceof k&&typeof w=="function"&&w instanceof w)&&(g=!1)}return i.delete(e),i.delete(t),g}var KBt,QBt,ZBt,nlt,alt=B(()=>{sR();KBt=1,QBt=Object.prototype,ZBt=QBt.hasOwnProperty;nlt=JBt});function r$t(e,t,r,n,a,i){var o=Ie(e),s=Ie(t),l=o?olt:ul(e),u=s?olt:ul(t);l=l==ilt?Sk:l,u=u==ilt?Sk:u;var f=l==Sk,h=u==Sk,d=l==u;if(d&&Au(e)){if(!Au(t))return!1;o=!0,f=!1}if(d&&!f)return i||(i=new Ec),o||gd(e)?kk(e,t,r,n,a,i):elt(e,t,l,r,n,a,i);if(!(r&t$t)){var p=f&&slt.call(e,"__wrapped__"),m=h&&slt.call(t,"__wrapped__");if(p||m){var g=p?e.value():e,v=m?t.value():t;return i||(i=new Ec),a(g,v,r,n,i)}}return d?(i||(i=new Ec),nlt(e,t,r,n,a,i)):!1}var t$t,ilt,olt,Sk,e$t,slt,llt,ult=B(()=>{Tb();pR();rlt();alt();O0();xa();c1();Sb();t$t=1,ilt="[object Arguments]",olt="[object Array]",Sk="[object Object]",e$t=Object.prototype,slt=e$t.hasOwnProperty;llt=r$t});function clt(e,t,r,n,a){return e===t?!0:e==null||t==null||!Ra(e)&&!Ra(t)?e!==e&&t!==t:llt(e,t,r,n,clt,a)}var Dk,gR=B(()=>{ult();Nl();Dk=clt});function i$t(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var s=r[a];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<i;){s=r[a];var l=s[0],u=e[l],f=s[1];if(o&&s[2]){if(u===void 0&&!(l in e))return!1}else{var h=new Ec;if(n)var d=n(u,f,l,e,t,h);if(!(d===void 0?Dk(f,u,n$t|a$t,n,h):d))return!1}}return!0}var n$t,a$t,flt,hlt=B(()=>{Tb();gR();n$t=1,a$t=2;flt=i$t});function o$t(e){return e===e&&!Hn(e)}var Ak,vR=B(()=>{il();Ak=o$t});function s$t(e){for(var t=sn(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,Ak(a)]}return t}var dlt,plt=B(()=>{vR();Oc();dlt=s$t});function l$t(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var Lk,yR=B(()=>{Lk=l$t});function u$t(e){var t=dlt(e);return t.length==1&&t[0][2]?Lk(t[0][0],t[0][1]):function(r){return r===e||flt(r,e,t)}}var mlt,glt=B(()=>{hlt();plt();yR();mlt=u$t});function c$t(e,t){return e!=null&&t in Object(e)}var vlt,ylt=B(()=>{vlt=c$t});function f$t(e,t,r){t=kd(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=Fc(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&u1(a)&&vd(o,a)&&(Ie(e)||Du(e)))}var Mk,xR=B(()=>{Vb();l1();xa();Ab();dE();E1();Mk=f$t});function h$t(e,t){return e!=null&&Mk(e,t,vlt)}var Ik,bR=B(()=>{ylt();xR();Ik=h$t});function m$t(e,t){return T1(e)&&Ak(t)?Lk(Fc(e),t):function(r){var n=Yot(r,e);return n===void 0&&n===t?Ik(r,e):Dk(t,n,d$t|p$t)}}var d$t,p$t,xlt,blt=B(()=>{gR();Xot();bR();ok();vR();yR();E1();d$t=1,p$t=2;xlt=m$t});function g$t(e){return function(t){return t?.[e]}}var Rk,_R=B(()=>{Rk=g$t});function v$t(e){return function(t){return Cd(t,e)}}var _lt,wlt=B(()=>{Hb();_lt=v$t});function y$t(e){return T1(e)?Rk(Fc(e)):_lt(e)}var Tlt,Elt=B(()=>{_R();wlt();ok();E1();Tlt=y$t});function x$t(e){return typeof e=="function"?e:e==null?Ri:typeof e=="object"?Ie(e)?xlt(e[0],e[1]):mlt(e):Tlt(e)}var qn,es=B(()=>{glt();blt();jf();xa();Elt();qn=x$t});function b$t(e,t,r,n){for(var a=-1,i=e==null?0:e.length;++a<i;){var o=e[a];t(n,o,r(o),e)}return n}var klt,Clt=B(()=>{klt=b$t});function _$t(e,t){return e&&n1(e,t,sn)}var I1,Nk=B(()=>{iE();Oc();I1=_$t});function w$t(e,t){return function(r,n){if(r==null)return r;if(!Wa(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var Slt,Dlt=B(()=>{Ol();Slt=w$t});var T$t,Fs,Dd=B(()=>{Nk();Dlt();T$t=Slt(I1),Fs=T$t});function E$t(e,t,r,n){return Fs(e,function(a,i,o){t(n,a,r(a),o)}),n}var Alt,Llt=B(()=>{Dd();Alt=E$t});function k$t(e,t){return function(r,n){var a=Ie(r)?klt:Alt,i=t?t():{};return a(r,e,qn(n,2),i)}}var Mlt,Ilt=B(()=>{Clt();Llt();es();xa();Mlt=k$t});var C$t,Ok,Rlt=B(()=>{Il();C$t=function(){return Ua.Date.now()},Ok=C$t});var Nlt,S$t,D$t,Ad,Olt=B(()=>{h1();w0();S0();yd();Nlt=Object.prototype,S$t=Nlt.hasOwnProperty,D$t=Dc(function(e,t){e=Object(e);var r=-1,n=t.length,a=n>2?t[2]:void 0;for(a&&ol(t[0],t[1],a)&&(n=1);++r<n;)for(var i=t[r],o=Ls(i),s=-1,l=o.length;++s<l;){var u=o[s],f=e[u];(f===void 0||Rl(f,Nlt[u])&&!S$t.call(e,u))&&(e[u]=i[u])}return e}),Ad=D$t});function A$t(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var Fk,wR=B(()=>{Fk=A$t});function M$t(e,t,r,n){var a=-1,i=ak,o=!0,s=e.length,l=[],u=t.length;if(!s)return l;r&&(t=Os(t,Fl(r))),n?(i=Fk,o=!1):t.length>=L$t&&(i=L1,o=!1,t=new A1(t));t:for(;++a<s;){var f=e[a],h=r==null?f:r(f);if(f=n||f!==0?f:0,o&&h===h){for(var d=u;d--;)if(t[d]===h)continue t;l.push(f)}else i(t,h,n)||l.push(f)}return l}var L$t,Flt,Plt=B(()=>{wk();eR();wR();R0();k0();Ek();L$t=200;Flt=M$t});var I$t,Ld,Blt=B(()=>{Plt();C1();h1();pE();I$t=Dc(function(e,t){return E0(e)?Flt(e,Pc(t,1,E0,!0)):[]}),Ld=I$t});function R$t(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var ao,$lt=B(()=>{ao=R$t});function N$t(e,t,r){var n=e==null?0:e.length;return n?(t=r||t===void 0?1:Nc(t),ck(e,t<0?0:t,n)):[]}var Ka,zlt=B(()=>{nR();b1();Ka=N$t});function O$t(e,t,r){var n=e==null?0:e.length;return n?(t=r||t===void 0?1:Nc(t),t=n-t,ck(e,0,t<0?0:t)):[]}var Zf,qlt=B(()=>{nR();b1();Zf=O$t});function F$t(e){return typeof e=="function"?e:Ri}var R1,Pk=B(()=>{jf();R1=F$t});function P$t(e,t){var r=Ie(e)?ek:Fs;return r(e,R1(t))}var Ct,Bk=B(()=>{JI();Dd();Pk();xa();Ct=P$t});var Ult=B(()=>{Bk()});function B$t(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var Wlt,Glt=B(()=>{Wlt=B$t});function $$t(e,t){var r=!0;return Fs(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var Vlt,Hlt=B(()=>{Dd();Vlt=$$t});function z$t(e,t,r){var n=Ie(e)?Wlt:Vlt;return r&&ol(e,t,r)&&(t=void 0),n(e,qn(t,3))}var Co,Ylt=B(()=>{Glt();Hlt();es();xa();S0();Co=z$t});function q$t(e,t){var r=[];return Fs(e,function(n,a,i){t(n,a,i)&&r.push(n)}),r}var $k,TR=B(()=>{Dd();$k=q$t});function U$t(e,t){var r=Ie(e)?S1:$k;return r(e,qn(t,3))}var yn,ER=B(()=>{fk();TR();es();xa();yn=U$t});function W$t(e){return function(t,r,n){var a=Object(t);if(!Wa(t)){var i=qn(r,3);t=sn(t),r=function(s){return i(a[s],s,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}}var Xlt,jlt=B(()=>{es();Ol();Oc();Xlt=W$t});function V$t(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:Nc(r);return a<0&&(a=G$t(n+a,0)),rk(e,qn(t,3),a)}var G$t,Klt,Qlt=B(()=>{tR();es();b1();G$t=Math.max;Klt=V$t});var H$t,rs,Zlt=B(()=>{jlt();Qlt();H$t=Xlt(Klt),rs=H$t});function Y$t(e){return e&&e.length?e[0]:void 0}var Ni,Jlt=B(()=>{Ni=Y$t});var tut=B(()=>{Jlt()});function X$t(e,t){var r=-1,n=Wa(e)?Array(e.length):[];return Fs(e,function(a,i,o){n[++r]=t(a,i,o)}),n}var zk,kR=B(()=>{Dd();Ol();zk=X$t});function j$t(e,t){var r=Ie(e)?Os:zk;return r(e,qn(t,3))}var Zt,N1=B(()=>{R0();es();kR();xa();Zt=j$t});function K$t(e,t){return Pc(Zt(e,t),1)}var io,CR=B(()=>{C1();N1();io=K$t});function Q$t(e,t){return e==null?e:n1(e,R1(t),Ls)}var SR,eut=B(()=>{iE();Pk();yd();SR=Q$t});function Z$t(e,t){return e&&I1(e,R1(t))}var DR,rut=B(()=>{Nk();Pk();DR=Z$t});var J$t,tzt,ezt,AR,nut=B(()=>{r1();Ilt();J$t=Object.prototype,tzt=J$t.hasOwnProperty,ezt=Mlt(function(e,t,r){tzt.call(e,r)?e[r].push(t):kc(e,r,[t])}),AR=ezt});function rzt(e,t){return e>t}var aut,iut=B(()=>{aut=rzt});function izt(e,t){return e!=null&&azt.call(e,t)}var nzt,azt,out,sut=B(()=>{nzt=Object.prototype,azt=nzt.hasOwnProperty;out=izt});function ozt(e,t){return e!=null&&Mk(e,t,out)}var Re,lut=B(()=>{sut();xR();Re=ozt});function lzt(e){return typeof e=="string"||!Ie(e)&&Ra(e)&&Ki(e)==szt}var szt,Qa,qk=B(()=>{Hf();xa();Nl();szt="[object String]";Qa=lzt});function uzt(e,t){return Os(t,function(r){return e[r]})}var uut,cut=B(()=>{R0();uut=uzt});function czt(e){return e==null?[]:uut(e,sn(e))}var yr,LR=B(()=>{cut();Oc();yr=czt});function hzt(e,t,r,n){e=Wa(e)?e:yr(e),r=r&&!n?Nc(r):0;var a=e.length;return r<0&&(r=fzt(a+r,0)),Qa(e)?r<=a&&e.indexOf(t,r)>-1:!!a&&_1(e,t,r)>-1}var fzt,ba,fut=B(()=>{nk();Ol();qk();b1();LR();fzt=Math.max;ba=hzt});function pzt(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:Nc(r);return a<0&&(a=dzt(n+a,0)),_1(e,t,a)}var dzt,Uk,hut=B(()=>{nk();b1();dzt=Math.max;Uk=pzt});function xzt(e){if(e==null)return!0;if(Wa(e)&&(Ie(e)||typeof e=="string"||typeof e.splice=="function"||Au(e)||gd(e)||Du(e)))return!e.length;var t=ul(e);if(t==mzt||t==gzt)return!e.size;if(Cc(e))return!w1(e).length;for(var r in e)if(yzt.call(e,r))return!1;return!0}var mzt,gzt,vzt,yzt,cr,Wk=B(()=>{ik();O0();l1();xa();Ol();c1();s1();Sb();mzt="[object Map]",gzt="[object Set]",vzt=Object.prototype,yzt=vzt.hasOwnProperty;cr=xzt});function _zt(e){return Ra(e)&&Ki(e)==bzt}var bzt,dut,put=B(()=>{Hf();Nl();bzt="[object RegExp]";dut=_zt});var mut,wzt,zl,gut=B(()=>{put();k0();Cb();mut=Pl&&Pl.isRegExp,wzt=mut?Fl(mut):dut,zl=wzt});function Tzt(e){return e===void 0}var dr,vut=B(()=>{dr=Tzt});function Ezt(e,t){return e<t}var Gk,MR=B(()=>{Gk=Ezt});function kzt(e,t){var r={};return t=qn(t,3),I1(e,function(n,a,i){kc(r,a,t(n,a,i))}),r}var F0,yut=B(()=>{r1();Nk();es();F0=kzt});function Czt(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(o!=null&&(s===void 0?o===o&&!ll(o):r(o,s)))var s=o,l=i}return l}var O1,Vk=B(()=>{I0();O1=Czt});function Szt(e){return e&&e.length?O1(e,Ri,aut):void 0}var Ps,xut=B(()=>{Vk();iut();jf();Ps=Szt});function Dzt(e){return e&&e.length?O1(e,Ri,Gk):void 0}var Iu,IR=B(()=>{Vk();MR();jf();Iu=Dzt});function Azt(e,t){return e&&e.length?O1(e,qn(t,2),Gk):void 0}var P0,but=B(()=>{Vk();es();MR();P0=Azt});function Mzt(e){if(typeof e!="function")throw new TypeError(Lzt);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}var Lzt,_ut,wut=B(()=>{Lzt="Expected a function";_ut=Mzt});function Izt(e,t,r,n){if(!Hn(e))return e;t=kd(t,e);for(var a=-1,i=t.length,o=i-1,s=e;s!=null&&++a<i;){var l=Fc(t[a]),u=r;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(a!=o){var f=s[l];u=n?n(f,l,s):void 0,u===void 0&&(u=Hn(f)?f:vd(t[a+1])?[]:{})}Sc(s,l,u),s=s[l]}return e}var Tut,Eut=B(()=>{f1();Vb();Ab();il();E1();Tut=Izt});function Rzt(e,t,r){for(var n=-1,a=t.length,i={};++n<a;){var o=t[n],s=Cd(e,o);r(s,o)&&Tut(i,kd(o,e),s)}return i}var Hk,RR=B(()=>{Hb();Eut();Vb();Hk=Rzt});function Nzt(e,t){if(e==null)return{};var r=Os(gk(e),function(n){return[n]});return t=qn(t),Hk(e,r,function(n,a){return t(n,a[0])})}var Bs,kut=B(()=>{R0();es();RR();lR();Bs=Nzt});function Ozt(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var Cut,Sut=B(()=>{Cut=Ozt});function Fzt(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=ll(e),o=t!==void 0,s=t===null,l=t===t,u=ll(t);if(!s&&!u&&!i&&e>t||i&&o&&l&&!s&&!u||n&&o&&l||!r&&l||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||s&&r&&a||!o&&a||!l)return-1}return 0}var Dut,Aut=B(()=>{I0();Dut=Fzt});function Pzt(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,s=r.length;++n<o;){var l=Dut(a[n],i[n]);if(l){if(n>=s)return l;var u=r[n];return l*(u=="desc"?-1:1)}}return e.index-t.index}var Lut,Mut=B(()=>{Aut();Lut=Pzt});function Bzt(e,t,r){t.length?t=Os(t,function(i){return Ie(i)?function(o){return Cd(o,i.length===1?i[0]:i)}:i}):t=[Ri];var n=-1;t=Os(t,Fl(qn));var a=zk(e,function(i,o,s){var l=Os(t,function(u){return u(i)});return{criteria:l,index:++n,value:i}});return Cut(a,function(i,o){return Lut(i,o,r)})}var Iut,Rut=B(()=>{R0();Hb();es();kR();Sut();k0();Mut();jf();xa();Iut=Bzt});var $zt,Nut,Out=B(()=>{_R();$zt=Rk("length"),Nut=$zt});function Qzt(e){for(var t=Fut.lastIndex=0;Fut.test(e);)++t;return t}var Put,zzt,qzt,Uzt,Wzt,Gzt,Vzt,NR,OR,Hzt,But,$ut,zut,Yzt,qut,Uut,Xzt,jzt,Kzt,Fut,Wut,Gut=B(()=>{Put="\\ud800-\\udfff",zzt="\\u0300-\\u036f",qzt="\\ufe20-\\ufe2f",Uzt="\\u20d0-\\u20ff",Wzt=zzt+qzt+Uzt,Gzt="\\ufe0e\\ufe0f",Vzt="["+Put+"]",NR="["+Wzt+"]",OR="\\ud83c[\\udffb-\\udfff]",Hzt="(?:"+NR+"|"+OR+")",But="[^"+Put+"]",$ut="(?:\\ud83c[\\udde6-\\uddff]){2}",zut="[\\ud800-\\udbff][\\udc00-\\udfff]",Yzt="\\u200d",qut=Hzt+"?",Uut="["+Gzt+"]?",Xzt="(?:"+Yzt+"(?:"+[But,$ut,zut].join("|")+")"+Uut+qut+")*",jzt=Uut+qut+Xzt,Kzt="(?:"+[But+NR+"?",NR,$ut,zut,Vzt].join("|")+")",Fut=RegExp(OR+"(?="+OR+")|"+Kzt+jzt,"g");Wut=Qzt});function Zzt(e){return est(e)?Wut(e):Nut(e)}var Vut,Hut=B(()=>{Out();rst();Gut();Vut=Zzt});function Jzt(e,t){return Hk(e,t,function(r,n){return Ik(e,n)})}var Yut,Xut=B(()=>{RR();bR();Yut=Jzt});var tqt,B0,jut=B(()=>{Xut();tst();tqt=Jot(function(e,t){return e==null?{}:Yut(e,t)}),B0=tqt});function nqt(e,t,r,n){for(var a=-1,i=rqt(eqt((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o}var eqt,rqt,Kut,Qut=B(()=>{eqt=Math.ceil,rqt=Math.max;Kut=nqt});function aqt(e){return function(t,r,n){return n&&typeof n!="number"&&ol(t,r,n)&&(r=n=void 0),t=x1(t),r===void 0?(r=t,t=0):r=x1(r),n=n===void 0?t<r?1:-1:x1(n),Kut(t,r,n,e)}}var Zut,Jut=B(()=>{Qut();S0();QI();Zut=aqt});var iqt,ql,tct=B(()=>{Jut();iqt=Zut(),ql=iqt});function oqt(e,t,r,n,a){return a(e,function(i,o,s){r=n?(n=!1,i):t(r,i,o,s)}),r}var ect,rct=B(()=>{ect=oqt});function sqt(e,t,r){var n=Ie(e)?nst:ect,a=arguments.length<3;return n(e,qn(t,4),r,a,Fs)}var xn,FR=B(()=>{ast();Dd();es();rct();xa();xn=sqt});function lqt(e,t){var r=Ie(e)?S1:$k;return r(e,_ut(qn(t,3)))}var Md,nct=B(()=>{fk();TR();es();xa();wut();Md=lqt});function fqt(e){if(e==null)return 0;if(Wa(e))return Qa(e)?Vut(e):e.length;var t=ul(e);return t==uqt||t==cqt?e.size:w1(e).length}var uqt,cqt,PR,act=B(()=>{ik();O0();Ol();qk();Hut();uqt="[object Map]",cqt="[object Set]";PR=fqt});function hqt(e,t){var r;return Fs(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var ict,oct=B(()=>{Dd();ict=hqt});function dqt(e,t,r){var n=Ie(e)?Tk:ict;return r&&ol(e,t,r)&&(t=void 0),n(e,qn(t,3))}var Xb,sct=B(()=>{dR();es();oct();xa();S0();Xb=dqt});var pqt,$c,lct=B(()=>{C1();Rut();h1();S0();pqt=Dc(function(e,t){if(e==null)return[];var r=t.length;return r>1&&ol(e,t[0],t[1])?t=[]:r>2&&ol(t[0],t[1],t[2])&&(t=[t[0]]),Iut(e,Pc(t,1),[])}),$c=pqt});var mqt,gqt,uct,cct=B(()=>{uR();ZI();Ck();mqt=1/0,gqt=Sd&&1/M1(new Sd([,-0]))[1]==mqt?function(e){return new Sd(e)}:Oa,uct=gqt});function yqt(e,t,r){var n=-1,a=ak,i=e.length,o=!0,s=[],l=s;if(r)o=!1,a=Fk;else if(i>=vqt){var u=t?null:uct(e);if(u)return M1(u);o=!1,a=L1,l=new A1}else l=t?[]:s;t:for(;++n<i;){var f=e[n],h=t?t(f):f;if(f=r||f!==0?f:0,o&&h===h){for(var d=l.length;d--;)if(l[d]===h)continue t;t&&l.push(h),s.push(f)}else a(l,h,r)||(l!==s&&l.push(h),s.push(f))}return s}var vqt,F1,Yk=B(()=>{wk();eR();wR();Ek();cct();Ck();vqt=200;F1=yqt});var xqt,BR,fct=B(()=>{C1();h1();Yk();pE();xqt=Dc(function(e){return F1(Pc(e,1,E0,!0))}),BR=xqt});function bqt(e){return e&&e.length?F1(e):[]}var P1,hct=B(()=>{Yk();P1=bqt});function _qt(e,t){return e&&e.length?F1(e,qn(t,2)):[]}var dct,pct=B(()=>{es();Yk();dct=_qt});function Tqt(e){var t=++wqt;return sk(e)+t}var wqt,$0,mct=B(()=>{rR();wqt=0;$0=Tqt});function Eqt(e,t,r){for(var n=-1,a=e.length,i=t.length,o={};++n<a;){var s=n<i?t[n]:void 0;r(o,e[n],s)}return o}var gct,vct=B(()=>{gct=Eqt});function kqt(e,t){return gct(e||[],t||[],Sc)}var Xk,yct=B(()=>{f1();vct();Xk=kqt});var We=B(()=>{Uot();fR();Hst();Yst();G9();Olt();Blt();zlt();qlt();Ult();Ylt();ER();Zlt();tut();CR();uk();Bk();eut();rut();nut();lut();jf();fut();hut();xa();Wk();yb();il();gut();qk();vut();Oc();$lt();N1();yut();xut();Y9();IR();but();ZI();Rlt();jut();kut();tct();FR();nct();act();sct();lct();fct();hct();mct();LR();yct();});function bct(e,t){e[t]?e[t]++:e[t]=1}function _ct(e,t){--e[t]||delete e[t]}function jb(e,t,r,n){var a=""+t,i=""+r;if(!e&&a>i){var o=a;a=i,i=o}return a+xct+i+xct+(dr(n)?Cqt:n)}function Sqt(e,t,r,n){var a=""+t,i=""+r;if(!e&&a>i){var o=a;a=i,i=o}var s={v:a,w:i};return n&&(s.name=n),s}function $R(e,t){return jb(e,t.v,t.w,t.name)}var Cqt,z0,xct,Sn,jk=B(()=>{We();Cqt="\0",z0="\0",xct="",Sn=class{constructor(t={}){this._isDirected=Object.prototype.hasOwnProperty.call(t,"directed")?t.directed:!0,this._isMultigraph=Object.prototype.hasOwnProperty.call(t,"multigraph")?t.multigraph:!1,this._isCompound=Object.prototype.hasOwnProperty.call(t,"compound")?t.compound:!1,this._label=void 0,this._defaultNodeLabelFn=Ms(void 0),this._defaultEdgeLabelFn=Ms(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[z0]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(t){return this._label=t,this}graph(){return this._label}setDefaultNodeLabel(t){return ni(t)||(t=Ms(t)),this._defaultNodeLabelFn=t,this}nodeCount(){return this._nodeCount}nodes(){return sn(this._nodes)}sources(){var t=this;return yn(this.nodes(),function(r){return cr(t._in[r])})}sinks(){var t=this;return yn(this.nodes(),function(r){return cr(t._out[r])})}setNodes(t,r){var n=arguments,a=this;return Ct(t,function(i){n.length>1?a.setNode(i,r):a.setNode(i)}),this}setNode(t,r){return Object.prototype.hasOwnProperty.call(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=r),this):(this._nodes[t]=arguments.length>1?r:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=z0,this._children[t]={},this._children[z0][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)}node(t){return this._nodes[t]}hasNode(t){return Object.prototype.hasOwnProperty.call(this._nodes,t)}removeNode(t){if(Object.prototype.hasOwnProperty.call(this._nodes,t)){var r=n=>this.removeEdge(this._edgeObjs[n]);delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],Ct(this.children(t),n=>{this.setParent(n)}),delete this._children[t]),Ct(sn(this._in[t]),r),delete this._in[t],delete this._preds[t],Ct(sn(this._out[t]),r),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this}setParent(t,r){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(dr(r))r=z0;else{r+="";for(var n=r;!dr(n);n=this.parent(n))if(n===t)throw new Error("Setting "+r+" as parent of "+t+" would create a cycle");this.setNode(r)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=r,this._children[r][t]=!0,this}_removeFromParentsChildList(t){delete this._children[this._parent[t]][t]}parent(t){if(this._isCompound){var r=this._parent[t];if(r!==z0)return r}}children(t){if(dr(t)&&(t=z0),this._isCompound){var r=this._children[t];if(r)return sn(r)}else{if(t===z0)return this.nodes();if(this.hasNode(t))return[]}}predecessors(t){var r=this._preds[t];if(r)return sn(r)}successors(t){var r=this._sucs[t];if(r)return sn(r)}neighbors(t){var r=this.predecessors(t);if(r)return BR(r,this.successors(t))}isLeaf(t){var r;return this.isDirected()?r=this.successors(t):r=this.neighbors(t),r.length===0}filterNodes(t){var r=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});r.setGraph(this.graph());var n=this;Ct(this._nodes,function(o,s){t(s)&&r.setNode(s,o)}),Ct(this._edgeObjs,function(o){r.hasNode(o.v)&&r.hasNode(o.w)&&r.setEdge(o,n.edge(o))});var a={};function i(o){var s=n.parent(o);return s===void 0||r.hasNode(s)?(a[o]=s,s):s in a?a[s]:i(s)}return this._isCompound&&Ct(r.nodes(),function(o){r.setParent(o,i(o))}),r}setDefaultEdgeLabel(t){return ni(t)||(t=Ms(t)),this._defaultEdgeLabelFn=t,this}edgeCount(){return this._edgeCount}edges(){return yr(this._edgeObjs)}setPath(t,r){var n=this,a=arguments;return xn(t,function(i,o){return a.length>1?n.setEdge(i,o,r):n.setEdge(i,o),o}),this}setEdge(){var t,r,n,a,i=!1,o=arguments[0];typeof o=="object"&&o!==null&&"v"in o?(t=o.v,r=o.w,n=o.name,arguments.length===2&&(a=arguments[1],i=!0)):(t=o,r=arguments[1],n=arguments[3],arguments.length>2&&(a=arguments[2],i=!0)),t=""+t,r=""+r,dr(n)||(n=""+n);var s=jb(this._isDirected,t,r,n);if(Object.prototype.hasOwnProperty.call(this._edgeLabels,s))return i&&(this._edgeLabels[s]=a),this;if(!dr(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(r),this._edgeLabels[s]=i?a:this._defaultEdgeLabelFn(t,r,n);var l=Sqt(this._isDirected,t,r,n);return t=l.v,r=l.w,Object.freeze(l),this._edgeObjs[s]=l,bct(this._preds[r],t),bct(this._sucs[t],r),this._in[r][s]=l,this._out[t][s]=l,this._edgeCount++,this}edge(t,r,n){var a=arguments.length===1?$R(this._isDirected,arguments[0]):jb(this._isDirected,t,r,n);return this._edgeLabels[a]}hasEdge(t,r,n){var a=arguments.length===1?$R(this._isDirected,arguments[0]):jb(this._isDirected,t,r,n);return Object.prototype.hasOwnProperty.call(this._edgeLabels,a)}removeEdge(t,r,n){var a=arguments.length===1?$R(this._isDirected,arguments[0]):jb(this._isDirected,t,r,n),i=this._edgeObjs[a];return i&&(t=i.v,r=i.w,delete this._edgeLabels[a],delete this._edgeObjs[a],_ct(this._preds[r],t),_ct(this._sucs[t],r),delete this._in[r][a],delete this._out[t][a],this._edgeCount--),this}inEdges(t,r){var n=this._in[t];if(n){var a=yr(n);return r?yn(a,function(i){return i.v===r}):a}}outEdges(t,r){var n=this._out[t];if(n){var a=yr(n);return r?yn(a,function(i){return i.w===r}):a}}nodeEdges(t,r){var n=this.inEdges(t,r);if(n)return n.concat(this.outEdges(t,r))}};Sn.prototype._nodeCount=0;Sn.prototype._edgeCount=0});var Ul=B(()=>{jk()});function wct(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function Dqt(e,t){if(e!=="_next"&&e!=="_prev")return t}var Qk,Tct=B(()=>{Qk=class{constructor(){var t={};t._next=t._prev=t,this._sentinel=t}dequeue(){var t=this._sentinel,r=t._prev;if(r!==t)return wct(r),r}enqueue(t){var r=this._sentinel;t._prev&&t._next&&wct(t),t._next=r._next,r._next._prev=t,r._next=t,t._prev=r}toString(){for(var t=[],r=this._sentinel,n=r._prev;n!==r;)t.push(JSON.stringify(n,Dqt)),n=n._prev;return"["+t.join(", ")+"]"}}});function Ect(e,t){if(e.nodeCount()<=1)return[];var r=Mqt(e,t||Aqt),n=Lqt(r.graph,r.buckets,r.zeroIdx);return vn(Zt(n,function(a){return e.outEdges(a.v,a.w)}))}function Lqt(e,t,r){for(var n=[],a=t[t.length-1],i=t[0],o;e.nodeCount();){for(;o=i.dequeue();)zR(e,t,r,o);for(;o=a.dequeue();)zR(e,t,r,o);if(e.nodeCount()){for(var s=t.length-2;s>0;--s)if(o=t[s].dequeue(),o){n=n.concat(zR(e,t,r,o,!0));break}}}return n}function zR(e,t,r,n,a){var i=a?[]:void 0;return Ct(e.inEdges(n.v),function(o){var s=e.edge(o),l=e.node(o.v);a&&i.push({v:o.v,w:o.w}),l.out-=s,qR(t,r,l)}),Ct(e.outEdges(n.v),function(o){var s=e.edge(o),l=o.w,u=e.node(l);u.in-=s,qR(t,r,u)}),e.removeNode(n.v),i}function Mqt(e,t){var r=new Sn,n=0,a=0;Ct(e.nodes(),function(s){r.setNode(s,{v:s,in:0,out:0})}),Ct(e.edges(),function(s){var l=r.edge(s.v,s.w)||0,u=t(s),f=l+u;r.setEdge(s.v,s.w,f),a=Math.max(a,r.node(s.v).out+=u),n=Math.max(n,r.node(s.w).in+=u)});var i=ql(a+n+3).map(function(){return new Qk}),o=n+1;return Ct(r.nodes(),function(s){qR(i,o,r.node(s))}),{graph:r,buckets:i,zeroIdx:o}}function qR(e,t,r){r.out?r.in?e[r.out-r.in+t].enqueue(r):e[e.length-1].enqueue(r):e[0].enqueue(r)}var Aqt,kct=B(()=>{We();Ul();Tct();Aqt=Ms(1)});function Cct(e){var t=e.graph().acyclicer==="greedy"?Ect(e,r(e)):Iqt(e);Ct(t,function(n){var a=e.edge(n);e.removeEdge(n),a.forwardName=n.name,a.reversed=!0,e.setEdge(n.w,n.v,a,$0("rev"))});function r(n){return function(a){return n.edge(a).weight}}}function Iqt(e){var t=[],r={},n={};function a(i){Object.prototype.hasOwnProperty.call(n,i)||(n[i]=!0,r[i]=!0,Ct(e.outEdges(i),function(o){Object.prototype.hasOwnProperty.call(r,o.w)?t.push(o):a(o.w)}),delete r[i])}return Ct(e.nodes(),a),t}function Sct(e){Ct(e.edges(),function(t){var r=e.edge(t);if(r.reversed){e.removeEdge(t);var n=r.forwardName;delete r.reversed,delete r.forwardName,e.setEdge(t.w,t.v,r,n)}})}var UR=B(()=>{We();kct()});function zc(e,t,r,n){var a;do a=$0(n);while(e.hasNode(a));return r.dummy=t,e.setNode(a,r),a}function Act(e){var t=new Sn().setGraph(e.graph());return Ct(e.nodes(),function(r){t.setNode(r,e.node(r))}),Ct(e.edges(),function(r){var n=t.edge(r.v,r.w)||{weight:0,minlen:1},a=e.edge(r);t.setEdge(r.v,r.w,{weight:n.weight+a.weight,minlen:Math.max(n.minlen,a.minlen)})}),t}function Zk(e){var t=new Sn({multigraph:e.isMultigraph()}).setGraph(e.graph());return Ct(e.nodes(),function(r){e.children(r).length||t.setNode(r,e.node(r))}),Ct(e.edges(),function(r){t.setEdge(r,e.edge(r))}),t}function WR(e,t){var r=e.x,n=e.y,a=t.x-r,i=t.y-n,o=e.width/2,s=e.height/2;if(!a&&!i)throw new Error("Not possible to find intersection inside of the rectangle");var l,u;return Math.abs(i)*o>Math.abs(a)*s?(i<0&&(s=-s),l=s*a/i,u=s):(a<0&&(o=-o),l=o,u=o*i/a),{x:r+l,y:n+u}}function Id(e){var t=Zt(ql(VR(e)+1),function(){return[]});return Ct(e.nodes(),function(r){var n=e.node(r),a=n.rank;dr(a)||(t[a][n.order]=r)}),t}function Lct(e){var t=Iu(Zt(e.nodes(),function(r){return e.node(r).rank}));Ct(e.nodes(),function(r){var n=e.node(r);Re(n,"rank")&&(n.rank-=t)})}function Mct(e){var t=Iu(Zt(e.nodes(),function(i){return e.node(i).rank})),r=[];Ct(e.nodes(),function(i){var o=e.node(i).rank-t;r[o]||(r[o]=[]),r[o].push(i)});var n=0,a=e.graph().nodeRankFactor;Ct(r,function(i,o){dr(i)&&o%a!==0?--n:n&&Ct(i,function(s){e.node(s).rank+=n})})}function GR(e,t,r,n){var a={width:0,height:0};return arguments.length>=4&&(a.rank=r,a.order=n),zc(e,"border",a,t)}function VR(e){return Ps(Zt(e.nodes(),function(t){var r=e.node(t).rank;if(!dr(r))return r}))}function Ict(e,t){var r={lhs:[],rhs:[]};return Ct(e,function(n){t(n)?r.lhs.push(n):r.rhs.push(n)}),r}function Rct(e,t){var r=Ok();try{return t()}finally{console.log(e+" time: "+(Ok()-r)+"ms")}}function Nct(e,t){return t()}var qc=B(()=>{We();Ul()});function Fct(e){function t(r){var n=e.children(r),a=e.node(r);if(n.length&&Ct(n,t),Object.prototype.hasOwnProperty.call(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(var i=a.minRank,o=a.maxRank+1;i<o;++i)Oct(e,"borderLeft","_bl",r,a,i),Oct(e,"borderRight","_br",r,a,i)}}Ct(e.children(),t)}function Oct(e,t,r,n,a,i){var o={width:0,height:0,rank:i,borderType:t},s=a[t][i-1],l=zc(e,"border",o,r);a[t][i]=l,e.setParent(l,n),s&&e.setEdge(s,l,{weight:1})}var Pct=B(()=>{We();qc()});function $ct(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&qct(e)}function zct(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&Rqt(e),(t==="lr"||t==="rl")&&(Nqt(e),qct(e))}function qct(e){Ct(e.nodes(),function(t){Bct(e.node(t))}),Ct(e.edges(),function(t){Bct(e.edge(t))})}function Bct(e){var t=e.width;e.width=e.height,e.height=t}function Rqt(e){Ct(e.nodes(),function(t){HR(e.node(t))}),Ct(e.edges(),function(t){var r=e.edge(t);Ct(r.points,HR),Object.prototype.hasOwnProperty.call(r,"y")&&HR(r)})}function HR(e){e.y=-e.y}function Nqt(e){Ct(e.nodes(),function(t){YR(e.node(t))}),Ct(e.edges(),function(t){var r=e.edge(t);Ct(r.points,YR),Object.prototype.hasOwnProperty.call(r,"x")&&YR(r)})}function YR(e){var t=e.x;e.x=e.y,e.y=t}var Uct=B(()=>{We()});function Wct(e){e.graph().dummyChains=[],Ct(e.edges(),function(t){Fqt(e,t)})}function Fqt(e,t){var r=t.v,n=e.node(r).rank,a=t.w,i=e.node(a).rank,o=t.name,s=e.edge(t),l=s.labelRank;if(i!==n+1){e.removeEdge(t);var u=void 0,f,h;for(h=0,++n;n<i;++h,++n)s.points=[],u={width:0,height:0,edgeLabel:s,edgeObj:t,rank:n},f=zc(e,"edge",u,"_d"),n===l&&(u.width=s.width,u.height=s.height,u.dummy="edge-label",u.labelpos=s.labelpos),e.setEdge(r,f,{weight:s.weight},o),h===0&&e.graph().dummyChains.push(f),r=f;e.setEdge(r,a,{weight:s.weight},o)}}function Gct(e){Ct(e.graph().dummyChains,function(t){var r=e.node(t),n=r.edgeLabel,a;for(e.setEdge(r.edgeObj,n);r.dummy;)a=e.successors(t)[0],e.removeNode(t),n.points.push({x:r.x,y:r.y}),r.dummy==="edge-label"&&(n.x=r.x,n.y=r.y,n.width=r.width,n.height=r.height),t=a,r=e.node(t)})}var XR=B(()=>{We();qc()});function Kb(e){var t={};function r(n){var a=e.node(n);if(Object.prototype.hasOwnProperty.call(t,n))return a.rank;t[n]=!0;var i=Iu(Zt(e.outEdges(n),function(o){return r(o.w)-e.edge(o).minlen}));return(i===Number.POSITIVE_INFINITY||i===void 0||i===null)&&(i=0),a.rank=i}Ct(e.sources(),r)}function q0(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var Jk=B(()=>{We()});function tC(e){var t=new Sn({directed:!1}),r=e.nodes()[0],n=e.nodeCount();t.setNode(r,{});for(var a,i;Pqt(t,e)<n;)a=Bqt(t,e),i=t.hasNode(a.v)?q0(e,a):-q0(e,a),$qt(t,e,i);return t}function Pqt(e,t){function r(n){Ct(t.nodeEdges(n),function(a){var i=a.v,o=n===i?a.w:i;!e.hasNode(o)&&!q0(t,a)&&(e.setNode(o,{}),e.setEdge(n,o,{}),r(o))})}return Ct(e.nodes(),r),e.nodeCount()}function Bqt(e,t){return P0(t.edges(),function(r){if(e.hasNode(r.v)!==e.hasNode(r.w))return q0(t,r)})}function $qt(e,t,r){Ct(e.nodes(),function(n){t.node(n).rank+=r})}var jR=B(()=>{We();Ul();Jk()});var Hct=B(()=>{});var KR=B(()=>{});var rqe,QR=B(()=>{We();KR();rqe=Ms(1)});var Yct=B(()=>{QR()});var ZR=B(()=>{});var Xct=B(()=>{ZR()});var uqe,jct=B(()=>{We();uqe=Ms(1)});function JR(e){var t={},r={},n=[];function a(i){if(Object.prototype.hasOwnProperty.call(r,i))throw new Qb;Object.prototype.hasOwnProperty.call(t,i)||(r[i]=!0,t[i]=!0,Ct(e.predecessors(i),a),delete r[i],n.push(i))}if(Ct(e.sinks(),a),PR(t)!==e.nodeCount())throw new Qb;return n}function Qb(){}var tN=B(()=>{We();JR.CycleException=Qb;Qb.prototype=new Error});var Kct=B(()=>{tN()});function eC(e,t,r){Ie(t)||(t=[t]);var n=(e.isDirected()?e.successors:e.neighbors).bind(e),a=[],i={};return Ct(t,function(o){if(!e.hasNode(o))throw new Error("Graph does not have node: "+o);Qct(e,o,r==="post",i,n,a)}),a}function Qct(e,t,r,n,a,i){Object.prototype.hasOwnProperty.call(n,t)||(n[t]=!0,r||i.push(t),Ct(a(t),function(o){Qct(e,o,r,n,a,i)}),r&&i.push(t))}var eN=B(()=>{We()});function rN(e,t){return eC(e,t,"post")}var Zct=B(()=>{eN()});function nN(e,t){return eC(e,t,"pre")}var Jct=B(()=>{eN()});var tft=B(()=>{KR();jk()});var eft=B(()=>{Hct();QR();Yct();Xct();jct();Kct();Zct();Jct();tft();ZR();tN()});function Nd(e){e=Act(e),Kb(e);var t=tC(e);iN(t),aN(t,e);for(var r,n;r=ift(t);)n=oft(t,e,r),sft(t,e,r,n)}function aN(e,t){var r=rN(e,e.nodes());r=r.slice(0,r.length-1),Ct(r,function(n){Gqt(e,t,n)})}function Gqt(e,t,r){var n=e.node(r),a=n.parent;e.edge(r,a).cutvalue=nft(e,t,r)}function nft(e,t,r){var n=e.node(r),a=n.parent,i=!0,o=t.edge(r,a),s=0;return o||(i=!1,o=t.edge(a,r)),s=o.weight,Ct(t.nodeEdges(r),function(l){var u=l.v===r,f=u?l.w:l.v;if(f!==a){var h=u===i,d=t.edge(l).weight;if(s+=h?d:-d,Hqt(e,r,f)){var p=e.edge(r,f).cutvalue;s+=h?-p:p}}}),s}function iN(e,t){arguments.length<2&&(t=e.nodes()[0]),aft(e,{},1,t)}function aft(e,t,r,n,a){var i=r,o=e.node(n);return t[n]=!0,Ct(e.neighbors(n),function(s){Object.prototype.hasOwnProperty.call(t,s)||(r=aft(e,t,r,s,n))}),o.low=i,o.lim=r++,a?o.parent=a:delete o.parent,r}function ift(e){return rs(e.edges(),function(t){return e.edge(t).cutvalue<0})}function oft(e,t,r){var n=r.v,a=r.w;t.hasEdge(n,a)||(n=r.w,a=r.v);var i=e.node(n),o=e.node(a),s=i,l=!1;i.lim>o.lim&&(s=o,l=!0);var u=yn(t.edges(),function(f){return l===rft(e,e.node(f.v),s)&&l!==rft(e,e.node(f.w),s)});return P0(u,function(f){return q0(t,f)})}function sft(e,t,r,n){var a=r.v,i=r.w;e.removeEdge(a,i),e.setEdge(n.v,n.w,{}),iN(e),aN(e,t),Vqt(e,t)}function Vqt(e,t){var r=rs(e.nodes(),function(a){return!t.node(a).parent}),n=nN(e,r);n=n.slice(1),Ct(n,function(a){var i=e.node(a).parent,o=t.edge(a,i),s=!1;o||(o=t.edge(i,a),s=!0),t.node(a).rank=t.node(i).rank+(s?o.minlen:-o.minlen)})}function Hqt(e,t,r){return e.hasEdge(t,r)}function rft(e,t,r){return r.low<=t.lim&&t.lim<=r.lim}var lft=B(()=>{We();eft();qc();jR();Jk();Nd.initLowLimValues=iN;Nd.initCutValues=aN;Nd.calcCutValue=nft;Nd.leaveEdge=ift;Nd.enterEdge=oft;Nd.exchangeEdges=sft});function oN(e){switch(e.graph().ranker){case"network-simplex":uft(e);break;case"tight-tree":Xqt(e);break;case"longest-path":Yqt(e);break;default:uft(e)}}function Xqt(e){Kb(e),tC(e)}function uft(e){Nd(e)}var Yqt,sN=B(()=>{jR();lft();Jk();Yqt=Kb});function cft(e){var t=zc(e,"root",{},"_root"),r=jqt(e),n=Ps(yr(r))-1,a=2*n+1;e.graph().nestingRoot=t,Ct(e.edges(),function(o){e.edge(o).minlen*=a});var i=Kqt(e)+1;Ct(e.children(),function(o){fft(e,t,a,i,n,r,o)}),e.graph().nodeRankFactor=a}function fft(e,t,r,n,a,i,o){var s=e.children(o);if(!s.length){o!==t&&e.setEdge(t,o,{weight:0,minlen:r});return}var l=GR(e,"_bt"),u=GR(e,"_bb"),f=e.node(o);e.setParent(l,o),f.borderTop=l,e.setParent(u,o),f.borderBottom=u,Ct(s,function(h){fft(e,t,r,n,a,i,h);var d=e.node(h),p=d.borderTop?d.borderTop:h,m=d.borderBottom?d.borderBottom:h,g=d.borderTop?n:2*n,v=p!==m?1:a-i[o]+1;e.setEdge(l,p,{weight:g,minlen:v,nestingEdge:!0}),e.setEdge(m,u,{weight:g,minlen:v,nestingEdge:!0})}),e.parent(o)||e.setEdge(t,l,{weight:0,minlen:a+i[o]})}function jqt(e){var t={};function r(n,a){var i=e.children(n);i&&i.length&&Ct(i,function(o){r(o,a+1)}),t[n]=a}return Ct(e.children(),function(n){r(n,1)}),t}function Kqt(e){return xn(e.edges(),function(t,r){return t+e.edge(r).weight},0)}function hft(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,Ct(e.edges(),function(r){var n=e.edge(r);n.nestingEdge&&e.removeEdge(r)})}var dft=B(()=>{We();qc()});function pft(e,t,r){var n={},a;Ct(r,function(i){for(var o=e.parent(i),s,l;o;){if(s=e.parent(o),s?(l=n[s],n[s]=o):(l=a,a=o),l&&l!==o){t.setEdge(l,o);return}o=s}})}var mft=B(()=>{We()});function gft(e,t,r){var n=Zqt(e),a=new Sn({compound:!0}).setGraph({root:n}).setDefaultNodeLabel(function(i){return e.node(i)});return Ct(e.nodes(),function(i){var o=e.node(i),s=e.parent(i);(o.rank===t||o.minRank<=t&&t<=o.maxRank)&&(a.setNode(i),a.setParent(i,s||n),Ct(e[r](i),function(l){var u=l.v===i?l.w:l.v,f=a.edge(u,i),h=dr(f)?0:f.weight;a.setEdge(u,i,{weight:e.edge(l).weight+h})}),Object.prototype.hasOwnProperty.call(o,"minRank")&&a.setNode(i,{borderLeft:o.borderLeft[t],borderRight:o.borderRight[t]}))}),a}function Zqt(e){for(var t;e.hasNode(t=$0("_root")););return t}var vft=B(()=>{We();Ul()});function yft(e,t){for(var r=0,n=1;n<t.length;++n)r+=Jqt(e,t[n-1],t[n]);return r}function Jqt(e,t,r){for(var n=Xk(r,Zt(r,function(u,f){return f})),a=vn(Zt(t,function(u){return $c(Zt(e.outEdges(u),function(f){return{pos:n[f.w],weight:e.edge(f).weight}}),"pos")})),i=1;i<r.length;)i<<=1;var o=2*i-1;i-=1;var s=Zt(new Array(o),function(){return 0}),l=0;return Ct(a.forEach(function(u){var f=u.pos+i;s[f]+=u.weight;for(var h=0;f>0;)f%2&&(h+=s[f+1]),f=f-1>>1,s[f]+=u.weight;l+=u.weight*h})),l}var xft=B(()=>{We()});function bft(e){var t={},r=yn(e.nodes(),function(s){return!e.children(s).length}),n=Ps(Zt(r,function(s){return e.node(s).rank})),a=Zt(ql(n+1),function(){return[]});function i(s){if(!Re(t,s)){t[s]=!0;var l=e.node(s);a[l.rank].push(s),Ct(e.successors(s),i)}}var o=$c(r,function(s){return e.node(s).rank});return Ct(o,i),a}var _ft=B(()=>{We()});function wft(e,t){return Zt(t,function(r){var n=e.inEdges(r);if(n.length){var a=xn(n,function(i,o){var s=e.edge(o),l=e.node(o.v);return{sum:i.sum+s.weight*l.order,weight:i.weight+s.weight}},{sum:0,weight:0});return{v:r,barycenter:a.sum/a.weight,weight:a.weight}}else return{v:r}})}var Tft=B(()=>{We()});function Eft(e,t){var r={};Ct(e,function(a,i){var o=r[a.v]={indegree:0,in:[],out:[],vs:[a.v],i};dr(a.barycenter)||(o.barycenter=a.barycenter,o.weight=a.weight)}),Ct(t.edges(),function(a){var i=r[a.v],o=r[a.w];!dr(i)&&!dr(o)&&(o.indegree++,i.out.push(r[a.w]))});var n=yn(r,function(a){return!a.indegree});return tUt(n)}function tUt(e){var t=[];function r(i){return function(o){o.merged||(dr(o.barycenter)||dr(i.barycenter)||o.barycenter>=i.barycenter)&&eUt(i,o)}}function n(i){return function(o){o.in.push(i),--o.indegree===0&&e.push(o)}}for(;e.length;){var a=e.pop();t.push(a),Ct(a.in.reverse(),r(a)),Ct(a.out,n(a))}return Zt(yn(t,function(i){return!i.merged}),function(i){return B0(i,["vs","i","barycenter","weight"])})}function eUt(e,t){var r=0,n=0;e.weight&&(r+=e.barycenter*e.weight,n+=e.weight),t.weight&&(r+=t.barycenter*t.weight,n+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=r/n,e.weight=n,e.i=Math.min(t.i,e.i),t.merged=!0}var kft=B(()=>{We()});function Sft(e,t){var r=Ict(e,function(f){return Object.prototype.hasOwnProperty.call(f,"barycenter")}),n=r.lhs,a=$c(r.rhs,function(f){return-f.i}),i=[],o=0,s=0,l=0;n.sort(rUt(!!t)),l=Cft(i,a,l),Ct(n,function(f){l+=f.vs.length,i.push(f.vs),o+=f.barycenter*f.weight,s+=f.weight,l=Cft(i,a,l)});var u={vs:vn(i)};return s&&(u.barycenter=o/s,u.weight=s),u}function Cft(e,t,r){for(var n;t.length&&(n=ao(t)).i<=r;)t.pop(),e.push(n.vs),r++;return r}function rUt(e){return function(t,r){return t.barycenter<r.barycenter?-1:t.barycenter>r.barycenter?1:e?r.i-t.i:t.i-r.i}}var Dft=B(()=>{We();qc()});function lN(e,t,r,n){var a=e.children(t),i=e.node(t),o=i?i.borderLeft:void 0,s=i?i.borderRight:void 0,l={};o&&(a=yn(a,function(m){return m!==o&&m!==s}));var u=wft(e,a);Ct(u,function(m){if(e.children(m.v).length){var g=lN(e,m.v,r,n);l[m.v]=g,Object.prototype.hasOwnProperty.call(g,"barycenter")&&aUt(m,g)}});var f=Eft(u,r);nUt(f,l);var h=Sft(f,n);if(o&&(h.vs=vn([o,h.vs,s]),e.predecessors(o).length)){var d=e.node(e.predecessors(o)[0]),p=e.node(e.predecessors(s)[0]);Object.prototype.hasOwnProperty.call(h,"barycenter")||(h.barycenter=0,h.weight=0),h.barycenter=(h.barycenter*h.weight+d.order+p.order)/(h.weight+2),h.weight+=2}return h}function nUt(e,t){Ct(e,function(r){r.vs=vn(r.vs.map(function(n){return t[n]?t[n].vs:n}))})}function aUt(e,t){dr(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var Aft=B(()=>{We();Tft();kft();Dft()});function Ift(e){var t=VR(e),r=Lft(e,ql(1,t+1),"inEdges"),n=Lft(e,ql(t-1,-1,-1),"outEdges"),a=bft(e);Mft(e,a);for(var i=Number.POSITIVE_INFINITY,o,s=0,l=0;l<4;++s,++l){iUt(s%2?r:n,s%4>=2),a=Id(e);var u=yft(e,a);u<i&&(l=0,o=hR(a),i=u)}Mft(e,o)}function Lft(e,t,r){return Zt(t,function(n){return gft(e,n,r)})}function iUt(e,t){var r=new Sn;Ct(e,function(n){var a=n.graph().root,i=lN(n,a,r,t);Ct(i.vs,function(o,s){n.node(o).order=s}),pft(n,r,i.vs)})}function Mft(e,t){Ct(t,function(r){Ct(r,function(n,a){e.node(n).order=a})})}var Rft=B(()=>{We();Ul();qc();mft();vft();xft();_ft();Aft()});function Nft(e){var t=sUt(e);Ct(e.graph().dummyChains,function(r){for(var n=e.node(r),a=n.edgeObj,i=oUt(e,t,a.v,a.w),o=i.path,s=i.lca,l=0,u=o[l],f=!0;r!==a.w;){if(n=e.node(r),f){for(;(u=o[l])!==s&&e.node(u).maxRank<n.rank;)l++;u===s&&(f=!1)}if(!f){for(;l<o.length-1&&e.node(u=o[l+1]).minRank<=n.rank;)l++;u=o[l]}e.setParent(r,u),r=e.successors(r)[0]}})}function oUt(e,t,r,n){var a=[],i=[],o=Math.min(t[r].low,t[n].low),s=Math.max(t[r].lim,t[n].lim),l,u;l=r;do l=e.parent(l),a.push(l);while(l&&(t[l].low>o||s>t[l].lim));for(u=l,l=n;(l=e.parent(l))!==u;)i.push(l);return{path:a.concat(i.reverse()),lca:u}}function sUt(e){var t={},r=0;function n(a){var i=r;Ct(e.children(a),n),t[a]={low:i,lim:r++}}return Ct(e.children(),n),t}var Oft=B(()=>{We()});function lUt(e,t){var r={};function n(a,i){var o=0,s=0,l=a.length,u=ao(i);return Ct(i,function(f,h){var d=cUt(e,f),p=d?e.node(d).order:l;(d||f===u)&&(Ct(i.slice(s,h+1),function(m){Ct(e.predecessors(m),function(g){var v=e.node(g),y=v.order;(y<o||p<y)&&!(v.dummy&&e.node(m).dummy)&&Fft(r,g,m)})}),s=h+1,o=p)}),i}return xn(t,n),r}function uUt(e,t){var r={};function n(i,o,s,l,u){var f;Ct(ql(o,s),function(h){f=i[h],e.node(f).dummy&&Ct(e.predecessors(f),function(d){var p=e.node(d);p.dummy&&(p.order<l||p.order>u)&&Fft(r,d,f)})})}function a(i,o){var s=-1,l,u=0;return Ct(o,function(f,h){if(e.node(f).dummy==="border"){var d=e.predecessors(f);d.length&&(l=e.node(d[0]).order,n(o,u,h,s,l),u=h,s=l)}n(o,u,o.length,l,i.length)}),o}return xn(t,a),r}function cUt(e,t){if(e.node(t).dummy)return rs(e.predecessors(t),function(r){return e.node(r).dummy})}function Fft(e,t,r){if(t>r){var n=t;t=r,r=n}Object.prototype.hasOwnProperty.call(e,t)||Object.defineProperty(e,t,{enumerable:!0,configurable:!0,value:{},writable:!0});var a=e[t];Object.defineProperty(a,r,{enumerable:!0,configurable:!0,value:!0,writable:!0})}function fUt(e,t,r){if(t>r){var n=t;t=r,r=n}return!!e[t]&&Object.prototype.hasOwnProperty.call(e[t],r)}function hUt(e,t,r,n){var a={},i={},o={};return Ct(t,function(s){Ct(s,function(l,u){a[l]=l,i[l]=l,o[l]=u})}),Ct(t,function(s){var l=-1;Ct(s,function(u){var f=n(u);if(f.length){f=$c(f,function(g){return o[g]});for(var h=(f.length-1)/2,d=Math.floor(h),p=Math.ceil(h);d<=p;++d){var m=f[d];i[u]===u&&l<o[m]&&!fUt(r,u,m)&&(i[m]=u,i[u]=a[u]=a[m],l=o[m])}}})}),{root:a,align:i}}function dUt(e,t,r,n,a){var i={},o=pUt(e,t,r,a),s=a?"borderLeft":"borderRight";function l(h,d){for(var p=o.nodes(),m=p.pop(),g={};m;)g[m]?h(m):(g[m]=!0,p.push(m),p=p.concat(d(m))),m=p.pop()}function u(h){i[h]=o.inEdges(h).reduce(function(d,p){return Math.max(d,i[p.v]+o.edge(p))},0)}function f(h){var d=o.outEdges(h).reduce(function(m,g){return Math.min(m,i[g.w]-o.edge(g))},Number.POSITIVE_INFINITY),p=e.node(h);d!==Number.POSITIVE_INFINITY&&p.borderType!==s&&(i[h]=Math.max(i[h],d))}return l(u,o.predecessors.bind(o)),l(f,o.successors.bind(o)),Ct(n,function(h){i[h]=i[r[h]]}),i}function pUt(e,t,r,n){var a=new Sn,i=e.graph(),o=yUt(i.nodesep,i.edgesep,n);return Ct(t,function(s){var l;Ct(s,function(u){var f=r[u];if(a.setNode(f),l){var h=r[l],d=a.edge(h,f);a.setEdge(h,f,Math.max(o(e,u,l),d||0))}l=u})}),a}function mUt(e,t){return P0(yr(t),function(r){var n=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY;return SR(r,function(i,o){var s=xUt(e,o)/2;n=Math.max(i+s,n),a=Math.min(i-s,a)}),n-a})}function gUt(e,t){var r=yr(t),n=Iu(r),a=Ps(r);Ct(["u","d"],function(i){Ct(["l","r"],function(o){var s=i+o,l=e[s],u;if(l!==t){var f=yr(l);u=o==="l"?n-Iu(f):a-Ps(f),u&&(e[s]=F0(l,function(h){return h+u}))}})})}function vUt(e,t){return F0(e.ul,function(r,n){if(t)return e[t.toLowerCase()][n];var a=$c(Zt(e,n));return(a[1]+a[2])/2})}function Pft(e){var t=Id(e),r=xd(lUt(e,t),uUt(e,t)),n={},a;Ct(["u","d"],function(o){a=o==="u"?t:yr(t).reverse(),Ct(["l","r"],function(s){s==="r"&&(a=Zt(a,function(h){return yr(h).reverse()}));var l=(o==="u"?e.predecessors:e.successors).bind(e),u=hUt(e,a,r,l),f=dUt(e,a,u.root,u.align,s==="r");s==="r"&&(f=F0(f,function(h){return-h})),n[o+s]=f})});var i=mUt(e,n);return gUt(n,i),vUt(n,e.graph().align)}function yUt(e,t,r){return function(n,a,i){var o=n.node(a),s=n.node(i),l=0,u;if(l+=o.width/2,Object.prototype.hasOwnProperty.call(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":u=-o.width/2;break;case"r":u=o.width/2;break}if(u&&(l+=r?u:-u),u=0,l+=(o.dummy?t:e)/2,l+=(s.dummy?t:e)/2,l+=s.width/2,Object.prototype.hasOwnProperty.call(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":u=s.width/2;break;case"r":u=-s.width/2;break}return u&&(l+=r?u:-u),u=0,l}}function xUt(e,t){return e.node(t).width}var Bft=B(()=>{We();Ul();qc()});function $ft(e){e=Zk(e),bUt(e),DR(Pft(e),function(t,r){e.node(r).x=t})}function bUt(e){var t=Id(e),r=e.graph().ranksep,n=0;Ct(t,function(a){var i=Ps(Zt(a,function(o){return e.node(o).height}));Ct(a,function(o){e.node(o).y=n+i/2}),n+=i+r})}var zft=B(()=>{We();qc();Bft()});function Zb(e,t){var r=t&&t.debugTiming?Rct:Nct;r("layout",()=>{var n=r("  buildLayoutGraph",()=>MUt(e));r("  runLayout",()=>_Ut(n,r)),r("  updateInputGraph",()=>wUt(e,n))})}function _Ut(e,t){t("    makeSpaceForEdgeLabels",()=>IUt(e)),t("    removeSelfEdges",()=>qUt(e)),t("    acyclic",()=>Cct(e)),t("    nestingGraph.run",()=>cft(e)),t("    rank",()=>oN(Zk(e))),t("    injectEdgeLabelProxies",()=>RUt(e)),t("    removeEmptyRanks",()=>Mct(e)),t("    nestingGraph.cleanup",()=>hft(e)),t("    normalizeRanks",()=>Lct(e)),t("    assignRankMinMax",()=>NUt(e)),t("    removeEdgeLabelProxies",()=>OUt(e)),t("    normalize.run",()=>Wct(e)),t("    parentDummyChains",()=>Nft(e)),t("    addBorderSegments",()=>Fct(e)),t("    order",()=>Ift(e)),t("    insertSelfEdges",()=>UUt(e)),t("    adjustCoordinateSystem",()=>$ct(e)),t("    position",()=>$ft(e)),t("    positionSelfEdges",()=>WUt(e)),t("    removeBorderNodes",()=>zUt(e)),t("    normalize.undo",()=>Gct(e)),t("    fixupEdgeLabelCoords",()=>BUt(e)),t("    undoCoordinateSystem",()=>zct(e)),t("    translateGraph",()=>FUt(e)),t("    assignNodeIntersects",()=>PUt(e)),t("    reversePoints",()=>$Ut(e)),t("    acyclic.undo",()=>Sct(e))}function wUt(e,t){Ct(e.nodes(),function(r){var n=e.node(r),a=t.node(r);n&&(n.x=a.x,n.y=a.y,t.children(r).length&&(n.width=a.width,n.height=a.height))}),Ct(e.edges(),function(r){var n=e.edge(r),a=t.edge(r);n.points=a.points,Object.prototype.hasOwnProperty.call(a,"x")&&(n.x=a.x,n.y=a.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}function MUt(e){var t=new Sn({multigraph:!0,compound:!0}),r=cN(e.graph());return t.setGraph(xd({},EUt,uN(r,TUt),B0(r,kUt))),Ct(e.nodes(),function(n){var a=cN(e.node(n));t.setNode(n,Ad(uN(a,CUt),SUt)),t.setParent(n,e.parent(n))}),Ct(e.edges(),function(n){var a=cN(e.edge(n));t.setEdge(n,xd({},AUt,uN(a,DUt),B0(a,LUt)))}),t}function IUt(e){var t=e.graph();t.ranksep/=2,Ct(e.edges(),function(r){var n=e.edge(r);n.minlen*=2,n.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?n.width+=n.labeloffset:n.height+=n.labeloffset)})}function RUt(e){Ct(e.edges(),function(t){var r=e.edge(t);if(r.width&&r.height){var n=e.node(t.v),a=e.node(t.w),i={rank:(a.rank-n.rank)/2+n.rank,e:t};zc(e,"edge-proxy",i,"_ep")}})}function NUt(e){var t=0;Ct(e.nodes(),function(r){var n=e.node(r);n.borderTop&&(n.minRank=e.node(n.borderTop).rank,n.maxRank=e.node(n.borderBottom).rank,t=Ps(t,n.maxRank))}),e.graph().maxRank=t}function OUt(e){Ct(e.nodes(),function(t){var r=e.node(t);r.dummy==="edge-proxy"&&(e.edge(r.e).labelRank=r.rank,e.removeNode(t))})}function FUt(e){var t=Number.POSITIVE_INFINITY,r=0,n=Number.POSITIVE_INFINITY,a=0,i=e.graph(),o=i.marginx||0,s=i.marginy||0;function l(u){var f=u.x,h=u.y,d=u.width,p=u.height;t=Math.min(t,f-d/2),r=Math.max(r,f+d/2),n=Math.min(n,h-p/2),a=Math.max(a,h+p/2)}Ct(e.nodes(),function(u){l(e.node(u))}),Ct(e.edges(),function(u){var f=e.edge(u);Object.prototype.hasOwnProperty.call(f,"x")&&l(f)}),t-=o,n-=s,Ct(e.nodes(),function(u){var f=e.node(u);f.x-=t,f.y-=n}),Ct(e.edges(),function(u){var f=e.edge(u);Ct(f.points,function(h){h.x-=t,h.y-=n}),Object.prototype.hasOwnProperty.call(f,"x")&&(f.x-=t),Object.prototype.hasOwnProperty.call(f,"y")&&(f.y-=n)}),i.width=r-t+o,i.height=a-n+s}function PUt(e){Ct(e.edges(),function(t){var r=e.edge(t),n=e.node(t.v),a=e.node(t.w),i,o;r.points?(i=r.points[0],o=r.points[r.points.length-1]):(r.points=[],i=a,o=n),r.points.unshift(WR(n,i)),r.points.push(WR(a,o))})}function BUt(e){Ct(e.edges(),function(t){var r=e.edge(t);if(Object.prototype.hasOwnProperty.call(r,"x"))switch((r.labelpos==="l"||r.labelpos==="r")&&(r.width-=r.labeloffset),r.labelpos){case"l":r.x-=r.width/2+r.labeloffset;break;case"r":r.x+=r.width/2+r.labeloffset;break}})}function $Ut(e){Ct(e.edges(),function(t){var r=e.edge(t);r.reversed&&r.points.reverse()})}function zUt(e){Ct(e.nodes(),function(t){if(e.children(t).length){var r=e.node(t),n=e.node(r.borderTop),a=e.node(r.borderBottom),i=e.node(ao(r.borderLeft)),o=e.node(ao(r.borderRight));r.width=Math.abs(o.x-i.x),r.height=Math.abs(a.y-n.y),r.x=i.x+r.width/2,r.y=n.y+r.height/2}}),Ct(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function qUt(e){Ct(e.edges(),function(t){if(t.v===t.w){var r=e.node(t.v);r.selfEdges||(r.selfEdges=[]),r.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function UUt(e){var t=Id(e);Ct(t,function(r){var n=0;Ct(r,function(a,i){var o=e.node(a);o.order=i+n,Ct(o.selfEdges,function(s){zc(e,"selfedge",{width:s.label.width,height:s.label.height,rank:o.rank,order:i+ ++n,e:s.e,label:s.label},"_se")}),delete o.selfEdges})})}function WUt(e){Ct(e.nodes(),function(t){var r=e.node(t);if(r.dummy==="selfedge"){var n=e.node(r.e.v),a=n.x+n.width/2,i=n.y,o=r.x-a,s=n.height/2;e.setEdge(r.e,r.label),e.removeNode(t),r.label.points=[{x:a+2*o/3,y:i-s},{x:a+5*o/6,y:i-s},{x:a+o,y:i},{x:a+5*o/6,y:i+s},{x:a+2*o/3,y:i+s}],r.label.x=r.x,r.label.y=r.y}})}function uN(e,t){return F0(B0(e,t),Number)}function cN(e){var t={};return Ct(e,function(r,n){t[n.toLowerCase()]=r}),t}var TUt,EUt,kUt,CUt,SUt,DUt,AUt,LUt,qft=B(()=>{We();Ul();Pct();Uct();UR();XR();sN();dft();Rft();Oft();zft();qc();TUt=["nodesep","edgesep","ranksep","marginx","marginy"],EUt={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},kUt=["acyclicer","ranker","rankdir","align"],CUt=["width","height"],SUt={width:0,height:0},DUt=["minlen","weight","width","height","labeloffset"],AUt={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},LUt=["labelpos"]});var fN=B(()=>{UR();qft();XR();sN()});function Wl(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:GUt(e),edges:VUt(e)};return dr(e.graph())||(t.value=Cn(e.graph())),t}function GUt(e){return Zt(e.nodes(),function(t){var r=e.node(t),n=e.parent(t),a={v:t};return dr(r)||(a.value=r),dr(n)||(a.parent=n),a})}function VUt(e){return Zt(e.edges(),function(t){var r=e.edge(t),n={v:t.v,w:t.w};return dr(t.name)||(n.name=t.name),dr(r)||(n.value=r),n})}var hN=B(()=>{We();jk()});var Kft={};pr(Kft,{render:()=>QUt});var Er,U0,Gft,HUt,rC,YUt,Vft,Hft,XUt,Jb,Wft,jUt,Yft,Xft,KUt,jft,QUt,Qft=B(()=>{$l();al();Ns();Zo();Jo();to();On();Tr();nr();fN();hN();Ul();Ul();hN();Er=new Map,U0=new Map,Gft=new Map,HUt=x(()=>{U0.clear(),Gft.clear(),Er.clear()},"clear"),rC=x((e,t)=>{let r=U0.get(t)||[];return J.trace("In isDescendant",t," ",e," = ",r.includes(e)),r.includes(e)},"isDescendant"),YUt=x((e,t)=>{let r=U0.get(t)||[];return J.info("Descendants of ",t," is ",r),J.info("Edge is ",e),e.v===t||e.w===t?!1:r?r.includes(e.v)||rC(e.v,t)||rC(e.w,t)||r.includes(e.w):(J.debug("Tilt, ",t,",not in descendants"),!1)},"edgeInCluster"),Vft=x((e,t,r,n)=>{J.warn("Copying children of ",e,"root",n,"data",t.node(e),n);let a=t.children(e)||[];e!==n&&a.push(e),J.warn("Copying (nodes) clusterId",e,"nodes",a),a.forEach(i=>{if(t.children(i).length>0)Vft(i,t,r,n);else{let o=t.node(i);J.info("cp ",i," to ",n," with parent ",e),r.setNode(i,o),n!==t.parent(i)&&(J.warn("Setting parent",i,t.parent(i)),r.setParent(i,t.parent(i))),e!==n&&i!==e?(J.debug("Setting parent",i,e),r.setParent(i,e)):(J.info("In copy ",e,"root",n,"data",t.node(e),n),J.debug("Not Setting parent for node=",i,"cluster!==rootId",e!==n,"node!==clusterId",i!==e));let s=t.edges(i);J.debug("Copying Edges",s),s.forEach(l=>{J.info("Edge",l);let u=t.edge(l.v,l.w,l.name);J.info("Edge data",u,n);try{YUt(l,n)?(J.info("Copying as ",l.v,l.w,u,l.name),r.setEdge(l.v,l.w,u,l.name),J.info("newGraph edges ",r.edges(),r.edge(r.edges()[0]))):J.info("Skipping copy of edge ",l.v,"-->",l.w," rootId: ",n," clusterId:",e)}catch(f){J.error(f)}})}J.debug("Removing node",i),t.removeNode(i)})},"copy"),Hft=x((e,t)=>{let r=t.children(e),n=[...r];for(let a of r)Gft.set(a,e),n=[...n,...Hft(a,t)];return n},"extractDescendants"),XUt=x((e,t,r)=>{let n=e.edges().filter(l=>l.v===t||l.w===t),a=e.edges().filter(l=>l.v===r||l.w===r),i=n.map(l=>({v:l.v===t?r:l.v,w:l.w===t?t:l.w})),o=a.map(l=>({v:l.v,w:l.w}));return i.filter(l=>o.some(u=>l.v===u.v&&l.w===u.w))},"findCommonEdges"),Jb=x((e,t,r)=>{let n=t.children(e);if(J.trace("Searching children of id ",e,n),n.length<1)return e;let a;for(let i of n){let o=Jb(i,t,r),s=XUt(t,r,o);if(o)if(s.length>0)a=o;else return o}return a},"findNonClusterChild"),Wft=x(e=>!Er.has(e)||!Er.get(e).externalConnections?e:Er.has(e)?Er.get(e).id:e,"getAnchorId"),jUt=x((e,t)=>{if(!e||t>10){J.debug("Opting out, no graph ");return}else J.debug("Opting in, graph ");e.nodes().forEach(function(r){e.children(r).length>0&&(J.warn("Cluster identified",r," Replacement id in edges: ",Jb(r,e,r)),U0.set(r,Hft(r,e)),Er.set(r,{id:Jb(r,e,r),clusterData:e.node(r)}))}),e.nodes().forEach(function(r){let n=e.children(r),a=e.edges();n.length>0?(J.debug("Cluster identified",r,U0),a.forEach(i=>{let o=rC(i.v,r),s=rC(i.w,r);o^s&&(J.warn("Edge: ",i," leaves cluster ",r),J.warn("Descendants of XXX ",r,": ",U0.get(r)),Er.get(r).externalConnections=!0)})):J.debug("Not a cluster ",r,U0)});for(let r of Er.keys()){let n=Er.get(r).id,a=e.parent(n);a!==r&&Er.has(a)&&!Er.get(a).externalConnections&&(Er.get(r).id=a)}e.edges().forEach(function(r){let n=e.edge(r);J.warn("Edge "+r.v+" -> "+r.w+": "+JSON.stringify(r)),J.warn("Edge "+r.v+" -> "+r.w+": "+JSON.stringify(e.edge(r)));let a=r.v,i=r.w;if(J.warn("Fix XXX",Er,"ids:",r.v,r.w,"Translating: ",Er.get(r.v)," --- ",Er.get(r.w)),Er.get(r.v)||Er.get(r.w)){if(J.warn("Fixing and trying - removing XXX",r.v,r.w,r.name),a=Wft(r.v),i=Wft(r.w),e.removeEdge(r.v,r.w,r.name),a!==r.v){let o=e.parent(a);Er.get(o).externalConnections=!0,n.fromCluster=r.v}if(i!==r.w){let o=e.parent(i);Er.get(o).externalConnections=!0,n.toCluster=r.w}J.warn("Fix Replacing with XXX",a,i,r.name),e.setEdge(a,i,n,r.name)}}),J.warn("Adjusted Graph",Wl(e)),Yft(e,0),J.trace(Er)},"adjustClustersAndEdges"),Yft=x((e,t)=>{if(J.warn("extractor - ",t,Wl(e),e.children("D")),t>10){J.error("Bailing out");return}let r=e.nodes(),n=!1;for(let a of r){let i=e.children(a);n=n||i.length>0}if(!n){J.debug("Done, no node has children",e.nodes());return}J.debug("Nodes = ",r,t);for(let a of r)if(J.debug("Extracting node",a,Er,Er.has(a)&&!Er.get(a).externalConnections,!e.parent(a),e.node(a),e.children("D")," Depth ",t),!Er.has(a))J.debug("Not a cluster",a,t);else if(!Er.get(a).externalConnections&&e.children(a)&&e.children(a).length>0){J.warn("Cluster without external connections, without a parent and with children",a,t);let o=e.graph().rankdir==="TB"?"LR":"TB";Er.get(a)?.clusterData?.dir&&(o=Er.get(a).clusterData.dir,J.warn("Fixing dir",Er.get(a).clusterData.dir,o));let s=new Sn({multigraph:!0,compound:!0}).setGraph({rankdir:o,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});J.warn("Old graph before copy",Wl(e)),Vft(a,e,s,a),e.setNode(a,{clusterNode:!0,id:a,clusterData:Er.get(a).clusterData,label:Er.get(a).label,graph:s}),J.warn("New graph after copy node: (",a,")",Wl(s)),J.debug("Old graph after copy",Wl(e))}else J.warn("Cluster ** ",a," **not meeting the criteria !externalConnections:",!Er.get(a).externalConnections," no parent: ",!e.parent(a)," children ",e.children(a)&&e.children(a).length>0,e.children("D"),t),J.debug(Er);r=e.nodes(),J.warn("New list of nodes",r);for(let a of r){let i=e.node(a);J.warn(" Now next level",a,i),i?.clusterNode&&Yft(i.graph,t+1)}},"extractor"),Xft=x((e,t)=>{if(t.length===0)return[];let r=Object.assign([],t);return t.forEach(n=>{let a=e.children(n),i=Xft(e,a);r=[...r,...i]}),r},"sorter"),KUt=x(e=>Xft(e,e.children()),"sortNodesByHierarchy"),jft=x(async(e,t,r,n,a,i)=>{J.warn("Graph in recursive render:XAX",Wl(t),a);let o=t.graph().rankdir;J.trace("Dir in recursive render - dir:",o);let s=e.insert("g").attr("class","root");t.nodes()?J.info("Recursive render XXX",t.nodes()):J.info("No nodes found for",t),t.edges().length>0&&J.info("Recursive edges",t.edge(t.edges()[0]));let l=s.insert("g").attr("class","clusters"),u=s.insert("g").attr("class","edgePaths"),f=s.insert("g").attr("class","edgeLabels"),h=s.insert("g").attr("class","nodes");await Promise.all(t.nodes().map(async function(g){let v=t.node(g);if(a!==void 0){let y=JSON.parse(JSON.stringify(a.clusterData));J.trace(`Setting data for parent cluster XXX
 Node.id = `,g,`
 data=`,y.height,`
Parent cluster`,a.height),t.setNode(a.id,y),t.parent(g)||(J.trace("Setting parent",g,a.id),t.setParent(g,a.id,y))}if(J.info("(Insert) Node XXX"+g+": "+JSON.stringify(t.node(g))),v?.clusterNode){J.info("Cluster identified XBX",g,v.width,t.node(g));let{ranksep:y,nodesep:b}=t.graph();v.graph.setGraph({...v.graph.graph(),ranksep:y+25,nodesep:b});let _=await jft(h,v.graph,r,n,t.node(g),i),k=_.elem;Be(v,k),v.diff=_.diff||0,J.info("New compound node after recursive render XAX",g,"width",v.width,"height",v.height),dot(k,v)}else t.children(g).length>0?(J.trace("Cluster - the non recursive path XBX",g,v.id,v,v.width,"Graph:",t),J.trace(Jb(v.id,t)),Er.set(v.id,{id:Jb(v.id,t),node:v})):(J.trace("Node - the non recursive path XAX",g,h,t.node(g),o),await M0(h,t.node(g),{config:i,dir:o}))})),await x(async()=>{let g=t.edges().map(async function(v){let y=t.edge(v.v,v.w,v.name);J.info("Edge "+v.v+" -> "+v.w+": "+JSON.stringify(v)),J.info("Edge "+v.v+" -> "+v.w+": ",v," ",JSON.stringify(t.edge(v))),J.info("Fix",Er,"ids:",v.v,v.w,"Translating: ",Er.get(v.v),Er.get(v.w)),await KE(f,y)});await Promise.all(g)},"processEdges")(),J.info("Graph before layout:",JSON.stringify(Wl(t))),J.info("############################################# XXX"),J.info("###                Layout                 ### XXX"),J.info("############################################# XXX"),Zb(t),J.info("Graph after layout:",JSON.stringify(Wl(t)));let p=0,{subGraphTitleTotalMargin:m}=Vf(i);return await Promise.all(KUt(t).map(async function(g){let v=t.node(g);if(J.info("Position XBX => "+g+": ("+v.x,","+v.y,") width: ",v.width," height: ",v.height),v?.clusterNode)v.y+=m,J.info("A tainted cluster node XBX1",g,v.id,v.width,v.height,v.x,v.y,t.parent(g)),Er.get(v.id).node=v,Wb(v);else if(t.children(g).length>0){J.info("A pure cluster node XBX1",g,v.id,v.x,v.y,v.width,v.height,t.parent(g)),v.height+=m,t.node(v.parentId);let y=v?.padding/2||0,b=v?.labelBBox?.height||0,_=b-y||0;J.debug("OffsetY",_,"labelHeight",b,"halfPadding",y),await y1(l,v),Er.get(v.id).node=v}else{let y=t.node(v.parentId);v.y+=m/2,J.info("A regular node XBX1 - using the padding",v.id,"parent",v.parentId,v.width,v.height,v.x,v.y,"offsetY",v.offsetY,"parent",y,y?.offsetY,v),Wb(v)}})),t.edges().forEach(function(g){let v=t.edge(g);J.info("Edge "+g.v+" -> "+g.w+": "+JSON.stringify(v),v),v.points.forEach(k=>k.y+=m/2);let y=t.node(g.v);var b=t.node(g.w);let _=ZE(u,v,Er,r,y,b,n);QE(v,_)}),t.nodes().forEach(function(g){let v=t.node(g);J.info(g,v.type,v.diff),v.isGroup&&(p=v.diff)}),J.warn("Returning from recursive render XAX",s,p),{elem:s,diff:p}},"recursiveRender"),QUt=x(async(e,t)=>{let r=new Sn({multigraph:!0,compound:!0}).setGraph({rankdir:e.direction,nodesep:e.config?.nodeSpacing||e.config?.flowchart?.nodeSpacing||e.nodeSpacing,ranksep:e.config?.rankSpacing||e.config?.flowchart?.rankSpacing||e.rankSpacing,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),n=t.select("g");JE(n,e.markers,e.type,e.diagramId),pot(),yot(),jat(),HUt(),e.nodes.forEach(i=>{r.setNode(i.id,{...i}),i.parentId&&r.setParent(i.id,i.parentId)}),J.debug("Edges:",e.edges),e.edges.forEach(i=>{if(i.start===i.end){let o=i.start,s=o+"---"+o+"---1",l=o+"---"+o+"---2",u=r.node(o);r.setNode(s,{domId:s,id:s,parentId:u.parentId,labelStyle:"",label:"",padding:0,shape:"labelRect",style:"",width:10,height:10}),r.setParent(s,u.parentId),r.setNode(l,{domId:l,id:l,parentId:u.parentId,labelStyle:"",padding:0,shape:"labelRect",label:"",style:"",width:10,height:10}),r.setParent(l,u.parentId);let f=structuredClone(i),h=structuredClone(i),d=structuredClone(i);f.label="",f.arrowTypeEnd="none",f.id=o+"-cyclic-special-1",h.arrowTypeStart="none",h.arrowTypeEnd="none",h.id=o+"-cyclic-special-mid",d.label="",u.isGroup&&(f.fromCluster=o,d.toCluster=o),d.id=o+"-cyclic-special-2",d.arrowTypeStart="none",r.setEdge(o,s,f,o+"-cyclic-special-0"),r.setEdge(s,l,h,o+"-cyclic-special-1"),r.setEdge(l,o,d,o+"-cyc<lic-special-2")}else r.setEdge(i.start,i.end,{...i},i.id)}),J.warn("Graph at first:",JSON.stringify(Wl(r))),jUt(r),J.warn("Graph after XAX:",JSON.stringify(Wl(r)));let a=bt();await jft(n,r,e.type,e.diagramId,void 0,a)},"render")});function WO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ZUt(e){if(Array.isArray(e))return e}function JUt(e){if(Array.isArray(e))return WO(e)}function jd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tWt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Spt(n.key),n)}}function Kd(e,t,r){return t&&tWt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qs(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=uF(e))||t){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(l){throw l},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var l=r.next();return o=l.done,l},e:function(l){s=!0,i=l},f:function(){try{o||r.return==null||r.return()}finally{if(s)throw i}}}}function Cpt(e,t,r){return(t=Spt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eWt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rWt(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){u=!0,a=f}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function nWt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aWt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ii(e,t){return ZUt(e)||rWt(e,t)||uF(e,t)||nWt()}function SC(e){return JUt(e)||eWt(e)||uF(e)||aWt()}function iWt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Spt(e){var t=iWt(e,"string");return typeof t=="symbol"?t:t+""}function xi(e){"@babel/helpers - typeof";return xi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xi(e)}function uF(e,t){if(e){if(typeof e=="string")return WO(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?WO(e,t):void 0}}function k_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function C_(){if(tht)return dN;tht=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return dN=e,dN}function DWt(){if(eht)return pN;eht=1;var e=typeof nC=="object"&&nC&&nC.Object===Object&&nC;return pN=e,pN}function UC(){if(rht)return mN;rht=1;var e=DWt(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return mN=r,mN}function AWt(){if(nht)return gN;nht=1;var e=UC(),t=function(){return e.Date.now()};return gN=t,gN}function LWt(){if(aht)return vN;aht=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return vN=t,vN}function MWt(){if(iht)return yN;iht=1;var e=LWt(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return yN=r,yN}function hF(){if(oht)return xN;oht=1;var e=UC(),t=e.Symbol;return xN=t,xN}function IWt(){if(sht)return bN;sht=1;var e=hF(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,a=e?e.toStringTag:void 0;function i(o){var s=r.call(o,a),l=o[a];try{o[a]=void 0;var u=!0}catch{}var f=n.call(o);return u&&(s?o[a]=l:delete o[a]),f}return bN=i,bN}function RWt(){if(lht)return _N;lht=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return _N=r,_N}function Fpt(){if(uht)return wN;uht=1;var e=hF(),t=IWt(),r=RWt(),n="[object Null]",a="[object Undefined]",i=e?e.toStringTag:void 0;function o(s){return s==null?s===void 0?a:n:i&&i in Object(s)?t(s):r(s)}return wN=o,wN}function NWt(){if(cht)return TN;cht=1;function e(t){return t!=null&&typeof t=="object"}return TN=e,TN}function S_(){if(fht)return EN;fht=1;var e=Fpt(),t=NWt(),r="[object Symbol]";function n(a){return typeof a=="symbol"||t(a)&&e(a)==r}return EN=n,EN}function OWt(){if(hht)return kN;hht=1;var e=MWt(),t=C_(),r=S_(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt;function l(u){if(typeof u=="number")return u;if(r(u))return n;if(t(u)){var f=typeof u.valueOf=="function"?u.valueOf():u;u=t(f)?f+"":f}if(typeof u!="string")return u===0?u:+u;u=e(u);var h=i.test(u);return h||o.test(u)?s(u.slice(2),h?2:8):a.test(u)?n:+u}return kN=l,kN}function FWt(){if(dht)return CN;dht=1;var e=C_(),t=AWt(),r=OWt(),n="Expected a function",a=Math.max,i=Math.min;function o(s,l,u){var f,h,d,p,m,g,v=0,y=!1,b=!1,_=!0;if(typeof s!="function")throw new TypeError(n);l=r(l)||0,e(u)&&(y=!!u.leading,b="maxWait"in u,d=b?a(r(u.maxWait)||0,l):d,_="trailing"in u?!!u.trailing:_);function k(A){var D=f,R=h;return f=h=void 0,v=A,p=s.apply(R,D),p}function w(A){return v=A,m=setTimeout(C,l),y?k(A):p}function T(A){var D=A-g,R=A-v,I=l-D;return b?i(I,d-R):I}function S(A){var D=A-g,R=A-v;return g===void 0||D>=l||D<0||b&&R>=d}function C(){var A=t();if(S(A))return M(A);m=setTimeout(C,T(A))}function M(A){return m=void 0,_&&f?k(A):(f=h=void 0,p)}function N(){m!==void 0&&clearTimeout(m),v=0,f=g=h=m=void 0}function L(){return m===void 0?p:M(t())}function E(){var A=t(),D=S(A);if(f=arguments,h=this,g=A,D){if(m===void 0)return w(g);if(b)return clearTimeout(m),m=setTimeout(C,l),k(g)}return m===void 0&&(m=setTimeout(C,l)),p}return E.cancel=N,E.flush=L,E}return CN=o,CN}function qWt(e,t,r,n,a){var i=a*Math.PI/180,o=Math.cos(i)*(e-r)-Math.sin(i)*(t-n)+r,s=Math.sin(i)*(e-r)+Math.cos(i)*(t-n)+n;return{x:o,y:s}}function WWt(e,t,r){if(r===0)return e;var n=(t.x1+t.x2)/2,a=(t.y1+t.y2)/2,i=t.w/t.h,o=1/i,s=qWt(e.x,e.y,n,a,r),l=UWt(s.x,s.y,n,a,i,o);return{x:l.x,y:l.y}}function tGt(){return yht||(yht=1,function(e,t){(function(){var r,n,a,i,o,s,l,u,f,h,d,p,m,g,v;a=Math.floor,h=Math.min,n=function(y,b){return y<b?-1:y>b?1:0},f=function(y,b,_,k,w){var T;if(_==null&&(_=0),w==null&&(w=n),_<0)throw new Error("lo must be non-negative");for(k==null&&(k=y.length);_<k;)T=a((_+k)/2),w(b,y[T])<0?k=T:_=T+1;return[].splice.apply(y,[_,_-_].concat(b)),b},s=function(y,b,_){return _==null&&(_=n),y.push(b),g(y,0,y.length-1,_)},o=function(y,b){var _,k;return b==null&&(b=n),_=y.pop(),y.length?(k=y[0],y[0]=_,v(y,0,b)):k=_,k},u=function(y,b,_){var k;return _==null&&(_=n),k=y[0],y[0]=b,v(y,0,_),k},l=function(y,b,_){var k;return _==null&&(_=n),y.length&&_(y[0],b)<0&&(k=[y[0],b],b=k[0],y[0]=k[1],v(y,0,_)),b},i=function(y,b){var _,k,w,T,S,C;for(b==null&&(b=n),T=function(){C=[];for(var M=0,N=a(y.length/2);0<=N?M<N:M>N;0<=N?M++:M--)C.push(M);return C}.apply(this).reverse(),S=[],k=0,w=T.length;k<w;k++)_=T[k],S.push(v(y,_,b));return S},m=function(y,b,_){var k;if(_==null&&(_=n),k=y.indexOf(b),k!==-1)return g(y,0,k,_),v(y,k,_)},d=function(y,b,_){var k,w,T,S,C;if(_==null&&(_=n),w=y.slice(0,b),!w.length)return w;for(i(w,_),C=y.slice(b),T=0,S=C.length;T<S;T++)k=C[T],l(w,k,_);return w.sort(_).reverse()},p=function(y,b,_){var k,w,T,S,C,M,N,L,E;if(_==null&&(_=n),b*10<=y.length){if(T=y.slice(0,b).sort(_),!T.length)return T;for(w=T[T.length-1],N=y.slice(b),S=0,M=N.length;S<M;S++)k=N[S],_(k,w)<0&&(f(T,k,0,null,_),T.pop(),w=T[T.length-1]);return T}for(i(y,_),E=[],C=0,L=h(b,y.length);0<=L?C<L:C>L;0<=L?++C:--C)E.push(o(y,_));return E},g=function(y,b,_,k){var w,T,S;for(k==null&&(k=n),w=y[_];_>b;){if(S=_-1>>1,T=y[S],k(w,T)<0){y[_]=T,_=S;continue}break}return y[_]=w},v=function(y,b,_){var k,w,T,S,C;for(_==null&&(_=n),w=y.length,C=b,T=y[b],k=2*b+1;k<w;)S=k+1,S<w&&!(_(y[k],y[S])<0)&&(k=S),y[b]=y[k],b=k,k=2*b+1;return y[b]=T,g(y,C,b,_)},r=function(){y.push=s,y.pop=o,y.replace=u,y.pushpop=l,y.heapify=i,y.updateItem=m,y.nlargest=d,y.nsmallest=p;function y(b){this.cmp=b??n,this.nodes=[]}return y.prototype.push=function(b){return s(this.nodes,b,this.cmp)},y.prototype.pop=function(){return o(this.nodes,this.cmp)},y.prototype.peek=function(){return this.nodes[0]},y.prototype.contains=function(b){return this.nodes.indexOf(b)!==-1},y.prototype.replace=function(b){return u(this.nodes,b,this.cmp)},y.prototype.pushpop=function(b){return l(this.nodes,b,this.cmp)},y.prototype.heapify=function(){return i(this.nodes,this.cmp)},y.prototype.updateItem=function(b){return m(this.nodes,b,this.cmp)},y.prototype.clear=function(){return this.nodes=[]},y.prototype.empty=function(){return this.nodes.length===0},y.prototype.size=function(){return this.nodes.length},y.prototype.clone=function(){var b;return b=new y,b.nodes=this.nodes.slice(0),b},y.prototype.toArray=function(){return this.nodes.slice(0)},y.prototype.insert=y.prototype.push,y.prototype.top=y.prototype.peek,y.prototype.front=y.prototype.peek,y.prototype.has=y.prototype.contains,y.prototype.copy=y.prototype.clone,y}(),function(y,b){return e.exports=b()}(this,function(){return r})}).call(JWt)}(gC)),gC.exports}function eGt(){return xht||(xht=1,DN=tGt()),DN}function SGt(e,t){if(e.length<3)throw new Error("Need at least 3 vertices");var r=function(C,M){return{x:C.x+M.x,y:C.y+M.y}},n=function(C,M){return{x:C.x-M.x,y:C.y-M.y}},a=function(C,M){return{x:C.x*M,y:C.y*M}},i=function(C,M){return C.x*M.y-C.y*M.x},o=function(C){var M=CGt(C.x,C.y);return M===0?{x:0,y:0}:{x:C.x/M,y:C.y/M}},s=function(C){for(var M=0,N=0;N<C.length;N++){var L=C[N],E=C[(N+1)%C.length];M+=L.x*E.y-E.x*L.y}return M/2},l=function(C,M,N,L){var E=n(M,C),A=n(L,N),D=i(E,A);if(Math.abs(D)<1e-9)return r(C,a(E,.5));var R=i(n(N,C),A)/D;return r(C,a(E,R))},u=e.map(function(S){return{x:S.x,y:S.y}});s(u)<0&&u.reverse();for(var f=u.length,h=[],d=0;d<f;d++){var p=u[d],m=u[(d+1)%f],g=n(m,p),v=o({x:g.y,y:-g.x});h.push(v)}for(var y=h.map(function(S,C){var M=r(u[C],a(S,t)),N=r(u[(C+1)%f],a(S,t));return{p1:M,p2:N}}),b=[],_=0;_<f;_++){var k=y[(_-1+f)%f],w=y[_],T=l(k.p1,k.p2,w.p1,w.p2);b.push(T)}return b}function DGt(e,t,r,n,a,i){var o=PGt(e,t,r,n,a),s=SGt(o,i),l=as();return s.forEach(function(u){return Hpt(l,u.x,u.y)}),l}function IN(e,t){function r(h){for(var d=[],p=0;p<h.length;p++){var m=h[p],g=h[(p+1)%h.length],v={x:g.x-m.x,y:g.y-m.y},y={x:-v.y,y:v.x},b=Math.sqrt(y.x*y.x+y.y*y.y);d.push({x:y.x/b,y:y.y/b})}return d}function n(h,d){var p=1/0,m=-1/0,g=qs(h),v;try{for(g.s();!(v=g.n()).done;){var y=v.value,b=y.x*d.x+y.y*d.y;p=Math.min(p,b),m=Math.max(m,b)}}catch(_){g.e(_)}finally{g.f()}return{min:p,max:m}}function a(h,d){return!(h.max<d.min||d.max<h.min)}var i=[].concat(SC(r(e)),SC(r(t))),o=qs(i),s;try{for(o.s();!(s=o.n()).done;){var l=s.value,u=n(e,l),f=n(t,l);if(!a(u,f))return!1}}catch(h){o.e(h)}finally{o.f()}return!0}function VC(e,t,r,n,a,i){var o;return Fa(e)?o=e:o=tv[e]||tv.euclidean,t===0&&Fa(e)?o(a,i):o(t,r,n,a,i)}function HC(){if(Pht)return NN;Pht=1;var e=Array.isArray;return NN=e,NN}function LVt(){if(Bht)return ON;Bht=1;var e=HC(),t=S_(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){if(e(i))return!1;var s=typeof i;return s=="number"||s=="symbol"||s=="boolean"||i==null||t(i)?!0:n.test(i)||!r.test(i)||o!=null&&i in Object(o)}return ON=a,ON}function MVt(){if($ht)return FN;$ht=1;var e=Fpt(),t=C_(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function o(s){if(!t(s))return!1;var l=e(s);return l==n||l==a||l==r||l==i}return FN=o,FN}function IVt(){if(zht)return PN;zht=1;var e=UC(),t=e["__core-js_shared__"];return PN=t,PN}function RVt(){if(qht)return BN;qht=1;var e=IVt(),t=function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!t&&t in n}return BN=r,BN}function NVt(){if(Uht)return $N;Uht=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return $N=r,$N}function OVt(){if(Wht)return zN;Wht=1;var e=MVt(),t=RVt(),r=C_(),n=NVt(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,s=Object.prototype,l=o.toString,u=s.hasOwnProperty,f=RegExp("^"+l.call(u).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(d){if(!r(d)||t(d))return!1;var p=e(d)?f:i;return p.test(n(d))}return zN=h,zN}function FVt(){if(Ght)return qN;Ght=1;function e(t,r){return t?.[r]}return qN=e,qN}function _F(){if(Vht)return UN;Vht=1;var e=OVt(),t=FVt();function r(n,a){var i=t(n,a);return e(i)?i:void 0}return UN=r,UN}function YC(){if(Hht)return WN;Hht=1;var e=_F(),t=e(Object,"create");return WN=t,WN}function PVt(){if(Yht)return GN;Yht=1;var e=YC();function t(){this.__data__=e?e(null):{},this.size=0}return GN=t,GN}function BVt(){if(Xht)return VN;Xht=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return VN=e,VN}function $Vt(){if(jht)return HN;jht=1;var e=YC(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(i){var o=this.__data__;if(e){var s=o[i];return s===t?void 0:s}return n.call(o,i)?o[i]:void 0}return HN=a,HN}function zVt(){if(Kht)return YN;Kht=1;var e=YC(),t=Object.prototype,r=t.hasOwnProperty;function n(a){var i=this.__data__;return e?i[a]!==void 0:r.call(i,a)}return YN=n,YN}function qVt(){if(Qht)return XN;Qht=1;var e=YC(),t="__lodash_hash_undefined__";function r(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=e&&a===void 0?t:a,this}return XN=r,XN}function UVt(){if(Zht)return jN;Zht=1;var e=PVt(),t=BVt(),r=$Vt(),n=zVt(),a=qVt();function i(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var u=o[s];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,jN=i,jN}function WVt(){if(Jht)return KN;Jht=1;function e(){this.__data__=[],this.size=0}return KN=e,KN}function s0t(){if(tdt)return QN;tdt=1;function e(t,r){return t===r||t!==t&&r!==r}return QN=e,QN}function XC(){if(edt)return ZN;edt=1;var e=s0t();function t(r,n){for(var a=r.length;a--;)if(e(r[a][0],n))return a;return-1}return ZN=t,ZN}function GVt(){if(rdt)return JN;rdt=1;var e=XC(),t=Array.prototype,r=t.splice;function n(a){var i=this.__data__,o=e(i,a);if(o<0)return!1;var s=i.length-1;return o==s?i.pop():r.call(i,o,1),--this.size,!0}return JN=n,JN}function VVt(){if(ndt)return tO;ndt=1;var e=XC();function t(r){var n=this.__data__,a=e(n,r);return a<0?void 0:n[a][1]}return tO=t,tO}function HVt(){if(adt)return eO;adt=1;var e=XC();function t(r){return e(this.__data__,r)>-1}return eO=t,eO}function YVt(){if(idt)return rO;idt=1;var e=XC();function t(r,n){var a=this.__data__,i=e(a,r);return i<0?(++this.size,a.push([r,n])):a[i][1]=n,this}return rO=t,rO}function XVt(){if(odt)return nO;odt=1;var e=WVt(),t=GVt(),r=VVt(),n=HVt(),a=YVt();function i(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var u=o[s];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,nO=i,nO}function jVt(){if(sdt)return aO;sdt=1;var e=_F(),t=UC(),r=e(t,"Map");return aO=r,aO}function KVt(){if(ldt)return iO;ldt=1;var e=UVt(),t=XVt(),r=jVt();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return iO=n,iO}function QVt(){if(udt)return oO;udt=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return oO=e,oO}function jC(){if(cdt)return sO;cdt=1;var e=QVt();function t(r,n){var a=r.__data__;return e(n)?a[typeof n=="string"?"string":"hash"]:a.map}return sO=t,sO}function ZVt(){if(fdt)return lO;fdt=1;var e=jC();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return lO=t,lO}function JVt(){if(hdt)return uO;hdt=1;var e=jC();function t(r){return e(this,r).get(r)}return uO=t,uO}function tHt(){if(ddt)return cO;ddt=1;var e=jC();function t(r){return e(this,r).has(r)}return cO=t,cO}function eHt(){if(pdt)return fO;pdt=1;var e=jC();function t(r,n){var a=e(this,r),i=a.size;return a.set(r,n),this.size+=a.size==i?0:1,this}return fO=t,fO}function rHt(){if(mdt)return hO;mdt=1;var e=KVt(),t=ZVt(),r=JVt(),n=tHt(),a=eHt();function i(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var u=o[s];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,hO=i,hO}function nHt(){if(gdt)return dO;gdt=1;var e=rHt(),t="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(t);var i=function(){var o=arguments,s=a?a.apply(this,o):o[0],l=i.cache;if(l.has(s))return l.get(s);var u=n.apply(this,o);return i.cache=l.set(s,u)||l,u};return i.cache=new(r.Cache||e),i}return r.Cache=e,dO=r,dO}function aHt(){if(vdt)return pO;vdt=1;var e=nHt(),t=500;function r(n){var a=e(n,function(o){return i.size===t&&i.clear(),o}),i=a.cache;return a}return pO=r,pO}function l0t(){if(ydt)return mO;ydt=1;var e=aHt(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(t,function(o,s,l,u){i.push(l?u.replace(r,"$1"):s||o)}),i});return mO=n,mO}function u0t(){if(xdt)return gO;xdt=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,i=Array(a);++n<a;)i[n]=r(t[n],n,t);return i}return gO=e,gO}function iHt(){if(bdt)return vO;bdt=1;var e=hF(),t=u0t(),r=HC(),n=S_(),a=e?e.prototype:void 0,i=a?a.toString:void 0;function o(s){if(typeof s=="string")return s;if(r(s))return t(s,o)+"";if(n(s))return i?i.call(s):"";var l=s+"";return l=="0"&&1/s==-1/0?"-0":l}return vO=o,vO}function c0t(){if(_dt)return yO;_dt=1;var e=iHt();function t(r){return r==null?"":e(r)}return yO=t,yO}function f0t(){if(wdt)return xO;wdt=1;var e=HC(),t=LVt(),r=l0t(),n=c0t();function a(i,o){return e(i)?i:t(i,o)?[i]:r(n(i))}return xO=a,xO}function wF(){if(Tdt)return bO;Tdt=1;var e=S_();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return bO=t,bO}function oHt(){if(Edt)return _O;Edt=1;var e=f0t(),t=wF();function r(n,a){a=e(a,n);for(var i=0,o=a.length;n!=null&&i<o;)n=n[t(a[i++])];return i&&i==o?n:void 0}return _O=r,_O}function sHt(){if(kdt)return wO;kdt=1;var e=oHt();function t(r,n,a){var i=r==null?void 0:e(r,n);return i===void 0?a:i}return wO=t,wO}function cHt(){if(Cdt)return TO;Cdt=1;var e=_F(),t=function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}}();return TO=t,TO}function fHt(){if(Sdt)return EO;Sdt=1;var e=cHt();function t(r,n,a){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return EO=t,EO}function hHt(){if(Ddt)return kO;Ddt=1;var e=fHt(),t=s0t(),r=Object.prototype,n=r.hasOwnProperty;function a(i,o,s){var l=i[o];(!(n.call(i,o)&&t(l,s))||s===void 0&&!(o in i))&&e(i,o,s)}return kO=a,kO}function dHt(){if(Adt)return CO;Adt=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,a){var i=typeof n;return a=a??e,!!a&&(i=="number"||i!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<a}return CO=r,CO}function pHt(){if(Ldt)return SO;Ldt=1;var e=hHt(),t=f0t(),r=dHt(),n=C_(),a=wF();function i(o,s,l,u){if(!n(o))return o;s=t(s,o);for(var f=-1,h=s.length,d=h-1,p=o;p!=null&&++f<h;){var m=a(s[f]),g=l;if(m==="__proto__"||m==="constructor"||m==="prototype")return o;if(f!=d){var v=p[m];g=u?u(v,m,p):void 0,g===void 0&&(g=n(v)?v:r(s[f+1])?[]:{})}e(p,m,g),p=p[m]}return o}return SO=i,SO}function mHt(){if(Mdt)return DO;Mdt=1;var e=pHt();function t(r,n,a){return r==null?r:e(r,n,a)}return DO=t,DO}function yHt(){if(Idt)return AO;Idt=1;function e(t,r){var n=-1,a=t.length;for(r||(r=Array(a));++n<a;)r[n]=t[n];return r}return AO=e,AO}function xHt(){if(Rdt)return LO;Rdt=1;var e=u0t(),t=yHt(),r=HC(),n=S_(),a=l0t(),i=wF(),o=c0t();function s(l){return r(l)?e(l,i):n(l)?[l]:t(a(o(l)))}return LO=s,LO}function EF(e,t,r,n){for(var a=[],i=new rv,o=e.cy(),s=o.hasCompoundNodes(),l=0;l<e.length;l++){var u=e[l];r?a.push(u):s&&n(a,i,u)}for(;a.length>0;){var f=a.shift();t(f),i.add(f.id()),s&&n(a,i,f)}return e}function d0t(e,t,r){if(r.isParent())for(var n=r._private.children,a=0;a<n.length;a++){var i=n[a];t.has(i.id())||e.push(i)}}function p0t(e,t,r){if(r.isChild()){var n=r._private.parent;t.has(n.id())||e.push(n)}}function $Ht(e,t,r){p0t(e,t,r),d0t(e,t,r)}function MO(e){return function(t){var r=this;if(t===void 0&&(t=!0),r.length!==0)if(r.isNode()&&!r.removed()){for(var n=0,a=r[0],i=a._private.edges,o=0;o<i.length;o++){var s=i[o];!t&&s.isLoop()||(n+=e(a,s))}return n}else return}}function $1(e,t){return function(r){for(var n,a=this.nodes(),i=0;i<a.length;i++){var o=a[i],s=o[e](r);s!==void 0&&(n===void 0||t(s,n))&&(n=s)}return n}}function r_(){return!1}function cC(){return!0}function QC(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:aYt,t=arguments.length>1?arguments[1]:void 0,r=0;r<zdt.length;r++){var n=zdt[r];this[n]=e[n]||E0t[n]}this.context=t||this.context,this.listeners=[],this.emitting=0}function A0t(e,t,r){var n=r._private,a=n.styleCache=n.styleCache||[],i;return(i=a[e])!=null||(i=a[e]=t(r)),i}function ZC(e,t){return e=Q0(e),function(n){return A0t(e,t,n)}}function JC(e,t){e=Q0(e);var r=function(a){return t.call(a)};return function(){var a=this[0];if(a)return A0t(e,r,a)}}function RO(e,t){var r=e._private,n=r.data.parent?e.parents():null;if(n)for(var a=0;a<n.length;a++){var i=n[a];if(!t(i))return!1}return!0}function kF(e){var t=e.ok,r=e.edgeOkViaNode||e.ok,n=e.parentOk||e.ok;return function(){var a=this.cy();if(!a.styleEnabled())return!0;var i=this[0],o=a.hasCompoundNodes();if(i){var s=i._private;if(!t(i))return!1;if(i.isNode())return!o||RO(i,n);var l=s.source,u=s.target;return r(l)&&(!o||RO(l,r))&&(l===u||r(u)&&(!o||RO(u,r)))}}}function Udt(e){return function(){var t=arguments,r=[];if(t.length===2){var n=t[0],a=t[1];this.on(e.event,n,a)}else if(t.length===1&&Fa(t[0])){var i=t[0];this.on(e.event,i)}else if(t.length===0||t.length===1&&Yn(t[0])){for(var o=t.length===1?t[0]:null,s=0;s<this.length;s++){var l=this[s],u=!e.ableField||l._private[e.ableField],f=l._private[e.field]!=e.value;if(e.overrideAble){var h=e.overrideAble(l);if(h!==void 0&&(u=h,!h))return this}u&&(l._private[e.field]=e.value,f&&r.push(l))}var d=this.spawn(r);d.updateStyle(),d.emit(e.event),o&&d.emit(o)}return this}}function iv(e){Ud[e.field]=function(){var t=this[0];if(t){if(e.overrideField){var r=e.overrideField(t);if(r!==void 0)return r}return t._private[e.field]}},Ud[e.on]=Udt({event:e.on,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!0}),Ud[e.off]=Udt({event:e.off,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!1})}function Hdt(e){return function(r){for(var n=[],a=0;a<this.length;a++){var i=this[a],o=i._private[e.attr];o&&n.push(o)}return this.spawn(n,!0).filter(r)}}function Ydt(e){return function(r){var n=[],a=this._private.cy,i=e||{};Ye(r)&&(r=a.$(r));for(var o=0;o<r.length;o++)for(var s=r[o]._private.edges,l=0;l<s.length;l++){var u=s[l],f=u._private.data,h=this.hasElementWithId(f.source)&&r.hasElementWithId(f.target),d=r.hasElementWithId(f.source)&&this.hasElementWithId(f.target),p=h||d;p&&((i.thisIsSrc||i.thisIsTgt)&&(i.thisIsSrc&&!h||i.thisIsTgt&&!d)||n.push(u))}return this.spawn(n,!0)}}function Xdt(e){var t={codirected:!1};return e=Ze({},t,e),function(n){for(var a=[],i=this.edges(),o=e,s=0;s<i.length;s++)for(var l=i[s],u=l._private,f=u.source,h=f._private.data.id,d=u.data.target,p=f._private.edges,m=0;m<p.length;m++){var g=p[m],v=g._private.data,y=v.target,b=v.source,_=y===d&&b===h,k=h===y&&d===b;(o.codirected&&_||!o.codirected&&(_||k))&&a.push(g)}return this.spawn(a,!0).filter(n)}}function mYt(e,t,r,n){var a=4,i=.001,o=1e-7,s=10,l=11,u=1/(l-1),f=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var h=0;h<4;++h)if(typeof arguments[h]!="number"||isNaN(arguments[h])||!isFinite(arguments[h]))return!1;e=Math.min(e,1),r=Math.min(r,1),e=Math.max(e,0),r=Math.max(r,0);var d=f?new Float32Array(l):new Array(l);function p(N,L){return 1-3*L+3*N}function m(N,L){return 3*L-6*N}function g(N){return 3*N}function v(N,L,E){return((p(L,E)*N+m(L,E))*N+g(L))*N}function y(N,L,E){return 3*p(L,E)*N*N+2*m(L,E)*N+g(L)}function b(N,L){for(var E=0;E<a;++E){var A=y(L,e,r);if(A===0)return L;var D=v(L,e,r)-N;L-=D/A}return L}function _(){for(var N=0;N<l;++N)d[N]=v(N*u,e,r)}function k(N,L,E){var A,D,R=0;do D=L+(E-L)/2,A=v(D,e,r)-N,A>0?E=D:L=D;while(Math.abs(A)>o&&++R<s);return D}function w(N){for(var L=0,E=1,A=l-1;E!==A&&d[E]<=N;++E)L+=u;--E;var D=(N-d[E])/(d[E+1]-d[E]),R=L+D*u,I=y(R,e,r);return I>=i?b(N,R):I===0?R:k(N,L,L+u)}var T=!1;function S(){T=!0,(e!==t||r!==n)&&_()}var C=function(L){return T||S(),e===t&&r===n?L:L===0?0:L===1?1:v(w(L),t,n)};C.getControlPoints=function(){return[{x:e,y:t},{x:r,y:n}]};var M="generateBezier("+[e,t,r,n]+")";return C.toString=function(){return M},C}function jdt(e,t,r,n,a){if(n===1||t===r)return r;var i=a(t,r,n);return e==null||((e.roundValue||e.color)&&(i=Math.round(i)),e.min!==void 0&&(i=Math.max(i,e.min)),e.max!==void 0&&(i=Math.min(i,e.max))),i}function Kdt(e,t){return e.pfValue!=null||e.value!=null?e.pfValue!=null&&(t==null||t.type.units!=="%")?e.pfValue:e.value:e}function z1(e,t,r,n,a){var i=a!=null?a.type:null;r<0?r=0:r>1&&(r=1);var o=Kdt(e,a),s=Kdt(t,a);if(be(o)&&be(s))return jdt(i,o,s,r,n);if(Yn(o)&&Yn(s)){for(var l=[],u=0;u<s.length;u++){var f=o[u],h=s[u];if(f!=null&&h!=null){var d=jdt(i,f,h,r,n);l.push(d)}else l.push(h)}return l}}function vYt(e,t,r,n){var a=!n,i=e._private,o=t._private,s=o.easing,l=o.startTime,u=n?e:e.cy(),f=u.style();if(!o.easingImpl)if(s==null)o.easingImpl=_C.linear;else{var h;if(Ye(s)){var d=f.parse("transition-timing-function",s);h=d.value}else h=s;var p,m;Ye(h)?(p=h,m=[]):(p=h[1],m=h.slice(2).map(function(P){return+P})),m.length>0?(p==="spring"&&m.push(o.duration),o.easingImpl=_C[p].apply(null,m)):o.easingImpl=_C[p]}var g=o.easingImpl,v;if(o.duration===0?v=1:v=(r-l)/o.duration,o.applying&&(v=o.progress),v<0?v=0:v>1&&(v=1),o.delay==null){var y=o.startPosition,b=o.position;if(b&&a&&!e.locked()){var _={};n_(y.x,b.x)&&(_.x=z1(y.x,b.x,v,g)),n_(y.y,b.y)&&(_.y=z1(y.y,b.y,v,g)),e.position(_)}var k=o.startPan,w=o.pan,T=i.pan,S=w!=null&&n;S&&(n_(k.x,w.x)&&(T.x=z1(k.x,w.x,v,g)),n_(k.y,w.y)&&(T.y=z1(k.y,w.y,v,g)),e.emit("pan"));var C=o.startZoom,M=o.zoom,N=M!=null&&n;N&&(n_(C,M)&&(i.zoom=g_(i.minZoom,z1(C,M,v,g),i.maxZoom)),e.emit("zoom")),(S||N)&&e.emit("viewport");var L=o.style;if(L&&L.length>0&&a){for(var E=0;E<L.length;E++){var A=L[E],D=A.name,R=A,I=o.startStyle[D],O=f.properties[I.name],F=z1(I,R,v,g,O);f.overrideBypass(e,D,F)}e.emit("style")}}return o.progress=v,v}function n_(e,t){return e==null||t==null?!1:be(e)&&be(t)?!0:!!(e&&t)}function yYt(e,t,r,n){var a=t._private;a.started=!0,a.startTime=r-a.progress*a.duration}function Qdt(e,t){var r=t._private.aniEles,n=[];function a(f,h){var d=f._private,p=d.animation.current,m=d.animation.queue,g=!1;if(p.length===0){var v=m.shift();v&&p.push(v)}for(var y=function(T){for(var S=T.length-1;S>=0;S--){var C=T[S];C()}T.splice(0,T.length)},b=p.length-1;b>=0;b--){var _=p[b],k=_._private;if(k.stopped){p.splice(b,1),k.hooked=!1,k.playing=!1,k.started=!1,y(k.frames);continue}!k.playing&&!k.applying||(k.playing&&k.applying&&(k.applying=!1),k.started||yYt(f,_,e),vYt(f,_,e,h),k.applying&&(k.applying=!1),y(k.frames),k.step!=null&&k.step(e),_.completed()&&(p.splice(b,1),k.hooked=!1,k.playing=!1,k.started=!1,y(k.completes)),g=!0)}return!h&&p.length===0&&m.length===0&&n.push(f),g}for(var i=!1,o=0;o<r.length;o++){var s=r[o],l=a(s);i=i||l}var u=a(t,!0);(i||u)&&(r.length>0?t.notify("draw",r):t.notify("draw")),r.unmerge(n),t.emit("step")}function M0t(e){this.options=Ze({},CYt,SYt,e)}function I0t(e){this.options=Ze({},DYt,e)}function R0t(e){this.options=Ze({},AYt,e)}function rS(e){this.options=Ze({},LYt,e),this.options.layout=this;var t=this.options.eles.nodes(),r=this.options.eles.edges(),n=r.filter(function(a){var i=a.source().data("id"),o=a.target().data("id"),s=t.some(function(u){return u.data("id")===i}),l=t.some(function(u){return u.data("id")===o});return!s||!l});this.options.eles=this.options.eles.not(n)}function P0t(e){this.options=Ze({},VYt,e)}function DF(e){this.options=Ze({},HYt,e)}function B0t(e){this.options=Ze({},YYt,e)}function $0t(e){this.options=Ze({},XYt,e)}function z0t(e){this.options=e,this.notifications=0}function W0t(e,t){t.radius===0?e.lineTo(t.cx,t.cy):e.arc(t.cx,t.cy,t.radius,t.startAngle,t.endAngle,t.counterClockwise)}function LF(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return n===0||t.radius===0?{cx:t.x,cy:t.y,radius:0,startX:t.x,startY:t.y,stopX:t.x,stopY:t.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(QYt(e,t,r,n,a),{cx:tF,cy:eF,radius:Y0,startX:q0t,startY:U0t,stopX:rF,stopY:nF,startAngle:Gc.ang+Math.PI/2*j0,endAngle:Gl.ang-Math.PI/2*j0,counterClockwise:EC})}function G0t(e){var t=[];if(e!=null){for(var r=0;r<e.length;r+=2){var n=e[r],a=e[r+1];t.push({x:n,y:a})}return t}}function JYt(e,t,r){for(var n=function(u,f,h,d){return Oi(u,f,h,d)},a=t._private,i=a.rstyle.bezierPts,o=0;o<e.bezierProjPcts.length;o++){var s=e.bezierProjPcts[o];i.push({x:n(r[0],r[2],r[4],s),y:n(r[1],r[3],r[5],s)})}}function AXt(e,t){for(var r=0;r<t.length;r++){var n=t[r];e.lineTo(n.x,n.y)}}function LXt(e,t,r){for(var n,a=0;a<t.length;a++){var i=t[a];a===0&&(n=i),e.lineTo(i.x,i.y)}e.quadraticCurveTo(r.x,r.y,n.x,n.y)}function mpt(e,t,r){e.beginPath&&e.beginPath();for(var n=t,a=0;a<n.length;a++){var i=n[a];e.lineTo(i.x,i.y)}var o=r,s=r[0];e.moveTo(s.x,s.y);for(var a=1;a<o.length;a++){var i=o[a];e.lineTo(i.x,i.y)}e.closePath&&e.closePath()}function MXt(e,t,r,n,a){e.beginPath&&e.beginPath(),e.arc(r,n,a,0,Math.PI*2,!1);var i=t,o=i[0];e.moveTo(o.x,o.y);for(var s=0;s<i.length;s++){var l=i[s];e.lineTo(l.x,l.y)}e.closePath&&e.closePath()}function IXt(e,t,r,n){e.arc(t,r,n,0,Math.PI*2,!1)}function BXt(e,t,r,n,a){var i=Math.min(n,a),o=i/2,s=t+n/2,l=r+a/2;e.beginPath(),e.arc(s,l,o,0,Math.PI*2),e.closePath()}function gpt(e,t,r,n,a){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,o=Math.min(i,n/2,a/2);e.beginPath(),e.moveTo(t+o,r),e.lineTo(t+n-o,r),e.quadraticCurveTo(t+n,r,t+n,r+o),e.lineTo(t+n,r+a-o),e.quadraticCurveTo(t+n,r+a,t+n-o,r+a),e.lineTo(t+o,r+a),e.quadraticCurveTo(t,r+a,t,r+a-o),e.lineTo(t,r+o),e.quadraticCurveTo(t,r,t+o,r),e.closePath()}function vpt(e,t,r){var n=e.createShader(t);if(e.shaderSource(n,r),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw new Error(e.getShaderInfoLog(n));return n}function zXt(e,t,r){var n=vpt(e,e.VERTEX_SHADER,t),a=vpt(e,e.FRAGMENT_SHADER,r),i=e.createProgram();if(e.attachShader(i,n),e.attachShader(i,a),e.linkProgram(i),!e.getProgramParameter(i,e.LINK_STATUS))throw new Error("Could not initialize shaders");return i}function qXt(e,t,r){r===void 0&&(r=t);var n=e.makeOffscreenCanvas(t,r),a=n.context=n.getContext("2d");return n.clear=function(){return a.clearRect(0,0,n.width,n.height)},n.clear(),n}function RF(e){var t=e.pixelRatio,r=e.cy.zoom(),n=e.cy.pan();return{zoom:r*t,pan:{x:n.x*t,y:n.y*t}}}function UXt(e){var t=e.pixelRatio,r=e.cy.zoom();return r*t}function WXt(e,t,r,n,a){var i=n*r+t.x,o=a*r+t.y;return o=Math.round(e.canvasHeight-o),[i,o]}function GXt(e){return e.pstyle("background-fill").value!=="solid"||e.pstyle("background-image").strValue!=="none"?!1:e.pstyle("border-width").value===0||e.pstyle("border-opacity").value===0?!0:e.pstyle("border-style").value==="solid"}function VXt(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function G0(e,t,r){var n=e[0]/255,a=e[1]/255,i=e[2]/255,o=t,s=r||new Array(4);return s[0]=n*o,s[1]=a*o,s[2]=i*o,s[3]=o,s}function W1(e,t){var r=t||new Array(4);return r[0]=(e>>0&255)/255,r[1]=(e>>8&255)/255,r[2]=(e>>16&255)/255,r[3]=(e>>24&255)/255,r}function HXt(e){return e[0]+(e[1]<<8)+(e[2]<<16)+(e[3]<<24)}function YXt(e,t){var r=e.createTexture();return r.buffer=function(n){e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_NEAREST),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n),e.generateMipmap(e.TEXTURE_2D),e.bindTexture(e.TEXTURE_2D,null)},r.deleteTexture=function(){e.deleteTexture(r)},r}function nmt(e,t){switch(t){case"float":return[1,e.FLOAT,4];case"vec2":return[2,e.FLOAT,4];case"vec3":return[3,e.FLOAT,4];case"vec4":return[4,e.FLOAT,4];case"int":return[1,e.INT,4];case"ivec2":return[2,e.INT,4]}}function amt(e,t,r){switch(t){case e.FLOAT:return new Float32Array(r);case e.INT:return new Int32Array(r)}}function XXt(e,t,r,n,a,i){switch(t){case e.FLOAT:return new Float32Array(r.buffer,i*n,a);case e.INT:return new Int32Array(r.buffer,i*n,a)}}function jXt(e,t,r,n){var a=nmt(e,t),i=ii(a,2),o=i[0],s=i[1],l=amt(e,s,n),u=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,u),e.bufferData(e.ARRAY_BUFFER,l,e.STATIC_DRAW),s===e.FLOAT?e.vertexAttribPointer(r,o,s,!1,0,0):s===e.INT&&e.vertexAttribIPointer(r,o,s,0,0),e.enableVertexAttribArray(r),e.bindBuffer(e.ARRAY_BUFFER,null),u}function Wc(e,t,r,n){var a=nmt(e,r),i=ii(a,3),o=i[0],s=i[1],l=i[2],u=amt(e,s,t*o),f=o*l,h=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,h),e.bufferData(e.ARRAY_BUFFER,t*f,e.DYNAMIC_DRAW),e.enableVertexAttribArray(n),s===e.FLOAT?e.vertexAttribPointer(n,o,s,!1,f,0):s===e.INT&&e.vertexAttribIPointer(n,o,s,f,0),e.vertexAttribDivisor(n,1),e.bindBuffer(e.ARRAY_BUFFER,null);for(var d=new Array(t),p=0;p<t;p++)d[p]=XXt(e,s,u,f,o,p);return h.dataArray=u,h.stride=f,h.size=o,h.getView=function(m){return d[m]},h.setPoint=function(m,g,v){var y=d[m];y[0]=g,y[1]=v},h.bufferSubData=function(m){e.bindBuffer(e.ARRAY_BUFFER,h),m?e.bufferSubData(e.ARRAY_BUFFER,0,u,0,m*o):e.bufferSubData(e.ARRAY_BUFFER,0,u)},h}function KXt(e,t,r){for(var n=9,a=new Float32Array(t*n),i=new Array(t),o=0;o<t;o++){var s=o*n*4;i[o]=new Float32Array(a.buffer,s,n)}var l=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,l),e.bufferData(e.ARRAY_BUFFER,a.byteLength,e.DYNAMIC_DRAW);for(var u=0;u<3;u++){var f=r+u;e.enableVertexAttribArray(f),e.vertexAttribPointer(f,3,e.FLOAT,!1,3*12,u*12),e.vertexAttribDivisor(f,1)}return e.bindBuffer(e.ARRAY_BUFFER,null),l.getMatrixView=function(h){return i[h]},l.setData=function(h,d){i[d].set(h,0)},l.bufferSubData=function(){e.bindBuffer(e.ARRAY_BUFFER,l),e.bufferSubData(e.ARRAY_BUFFER,0,a)},l}function QXt(e){var t=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,t);var r=e.createTexture();return e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0),e.bindFramebuffer(e.FRAMEBUFFER,null),t.setFramebufferAttachmentSizes=function(n,a){e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n,a,0,e.RGBA,e.UNSIGNED_BYTE,null)},t}function PO(){var e=new ypt(9);return ypt!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function xpt(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function ZXt(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=t[4],l=t[5],u=t[6],f=t[7],h=t[8],d=r[0],p=r[1],m=r[2],g=r[3],v=r[4],y=r[5],b=r[6],_=r[7],k=r[8];return e[0]=d*n+p*o+m*u,e[1]=d*a+p*s+m*f,e[2]=d*i+p*l+m*h,e[3]=g*n+v*o+y*u,e[4]=g*a+v*s+y*f,e[5]=g*i+v*l+y*h,e[6]=b*n+_*o+k*u,e[7]=b*a+_*s+k*f,e[8]=b*i+_*l+k*h,e}function CC(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=t[4],l=t[5],u=t[6],f=t[7],h=t[8],d=r[0],p=r[1];return e[0]=n,e[1]=a,e[2]=i,e[3]=o,e[4]=s,e[5]=l,e[6]=d*n+p*o+u,e[7]=d*a+p*s+f,e[8]=d*i+p*l+h,e}function bpt(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=t[4],l=t[5],u=t[6],f=t[7],h=t[8],d=Math.sin(r),p=Math.cos(r);return e[0]=p*n+d*o,e[1]=p*a+d*s,e[2]=p*i+d*l,e[3]=p*o-d*n,e[4]=p*s-d*a,e[5]=p*l-d*i,e[6]=u,e[7]=f,e[8]=h,e}function iF(e,t,r){var n=r[0],a=r[1];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=a*t[3],e[4]=a*t[4],e[5]=a*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function JXt(e,t,r){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/r,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function rjt(e,t){return e.intersection?e.intersection(t):new Set(SC(e).filter(function(r){return t.has(r)}))}function cjt(e){var t=e.cy.container(),r=t&&t.style&&t.style.backgroundColor||"white";return Rpt(r)}function omt(e,t){var r=e._private.rscratch;return $s(r,"labelWrapCachedLines",t)||[]}function fjt(e){{var t=e.render;e.render=function(i){i=i||{};var o=e.cy;e.webgl&&(o.zoom()>Z0t?(hjt(e),t.call(e,i)):(djt(e),lmt(e,i,h_.SCREEN)))}}{var r=e.matchCanvasSize;e.matchCanvasSize=function(i){r.call(e,i),e.pickingFrameBuffer.setFramebufferAttachmentSizes(e.canvasWidth,e.canvasHeight),e.pickingFrameBuffer.needsDraw=!0}}e.findNearestElements=function(i,o,s,l){return xjt(e,i,o)};{var n=e.invalidateCachedZSortedEles;e.invalidateCachedZSortedEles=function(){n.call(e),e.pickingFrameBuffer.needsDraw=!0}}{var a=e.notify;e.notify=function(i,o){a.call(e,i,o),i==="viewport"||i==="bounds"?e.pickingFrameBuffer.needsDraw=!0:i==="background"&&e.drawing.invalidate(o,{type:"node-body"})}}}function hjt(e){var t=e.data.contexts[e.WEBGL];t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT)}function djt(e){var t=function(n){n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,e.canvasWidth,e.canvasHeight),n.restore()};t(e.data.contexts[e.NODE]),t(e.data.contexts[e.DRAG])}function pjt(e){var t=e.canvasWidth,r=e.canvasHeight,n=RF(e),a=n.pan,i=n.zoom,o=PO();CC(o,o,[a.x,a.y]),iF(o,o,[i,i]);var s=PO();JXt(s,t,r);var l=PO();return ZXt(l,s,o),l}function smt(e,t){var r=e.canvasWidth,n=e.canvasHeight,a=RF(e),i=a.pan,o=a.zoom;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,r,n),t.translate(i.x,i.y),t.scale(o,o)}function mjt(e,t){e.drawSelectionRectangle(t,function(r){return smt(e,r)})}function gjt(e){var t=e.data.contexts[e.NODE];t.save(),smt(e,t),t.strokeStyle="rgba(0, 0, 0, 0.3)",t.beginPath(),t.moveTo(-1e3,0),t.lineTo(1e3,0),t.stroke(),t.beginPath(),t.moveTo(0,-1e3),t.lineTo(0,1e3),t.stroke(),t.restore()}function vjt(e){var t=function(a,i,o){for(var s=a.atlasManager.getAtlasCollection(i),l=e.data.contexts[e.NODE],u=s.atlases,f=0;f<u.length;f++){var h=u[f],d=h.canvas;if(d){var p=d.width,m=d.height,g=p*f,v=d.height*o,y=.4;l.save(),l.scale(y,y),l.drawImage(d,g,v),l.strokeStyle="black",l.rect(g,v,p,m),l.stroke(),l.restore()}}},r=0;t(e.drawing,"node",r++),t(e.drawing,"label",r++)}function yjt(e,t,r,n,a){var i,o,s,l,u=RF(e),f=u.pan,h=u.zoom;{var d=WXt(e,f,h,t,r),p=ii(d,2),m=p[0],g=p[1],v=6;i=m-v/2,o=g-v/2,s=v,l=v}if(s===0||l===0)return[];var y=e.data.contexts[e.WEBGL];y.bindFramebuffer(y.FRAMEBUFFER,e.pickingFrameBuffer),e.pickingFrameBuffer.needsDraw&&(y.viewport(0,0,y.canvas.width,y.canvas.height),lmt(e,null,h_.PICKING),e.pickingFrameBuffer.needsDraw=!1);var b=s*l,_=new Uint8Array(b*4);y.readPixels(i,o,s,l,y.RGBA,y.UNSIGNED_BYTE,_),y.bindFramebuffer(y.FRAMEBUFFER,null);for(var k=new Set,w=0;w<b;w++){var T=_.slice(w*4,w*4+4),S=HXt(T)-1;S>=0&&k.add(S)}return k}function xjt(e,t,r){var n=yjt(e,t,r),a=e.getCachedZSortedEles(),i,o,s=qs(n),l;try{for(s.s();!(l=s.n()).done;){var u=l.value,f=a[u];if(!i&&f.isNode()&&(i=f),!o&&f.isEdge()&&(o=f),i&&o)break}}catch(h){s.e(h)}finally{s.f()}return[i,o].filter(Boolean)}function UO(e,t,r){var n=e.drawing;t+=1,r.isNode()?(n.drawNode(r,t,"node-underlay"),n.drawNode(r,t,"node-body"),n.drawTexture(r,t,"label"),n.drawNode(r,t,"node-overlay")):(n.drawEdgeLine(r,t),n.drawEdgeArrow(r,t,"source"),n.drawEdgeArrow(r,t,"target"),n.drawTexture(r,t,"label"),n.drawTexture(r,t,"edge-source-label"),n.drawTexture(r,t,"edge-target-label"))}function lmt(e,t,r){var n;e.webglDebug&&(n=performance.now());var a=e.drawing,i=0;if(r.screen&&e.data.canvasNeedsRedraw[e.SELECT_BOX]&&mjt(e,t),e.data.canvasNeedsRedraw[e.NODE]||r.picking){var o=e.data.contexts[e.WEBGL];r.screen?(o.clearColor(0,0,0,0),o.enable(o.BLEND),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA)):o.disable(o.BLEND),o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT),o.viewport(0,0,o.canvas.width,o.canvas.height);var s=pjt(e),l=e.getCachedZSortedEles();if(i=l.length,a.startFrame(s,r),r.screen){for(var u=0;u<l.nondrag.length;u++)UO(e,u,l.nondrag[u]);for(var f=0;f<l.drag.length;f++)UO(e,f,l.drag[f])}else if(r.picking)for(var h=0;h<l.length;h++)UO(e,h,l[h]);a.endFrame(),r.screen&&e.webglDebugShowAtlases&&(gjt(e),vjt(e)),e.data.canvasNeedsRedraw[e.NODE]=!1,e.data.canvasNeedsRedraw[e.DRAG]=!1}if(e.webglDebug){var d=performance.now(),p=!1,m=Math.ceil(d-n),g=a.getDebugInfo(),v=["".concat(i," elements"),"".concat(g.totalInstances," instances"),"".concat(g.batchCount," batches"),"".concat(g.totalAtlases," atlases"),"".concat(g.wrappedCount," wrapped textures"),"".concat(g.simpleCount," simple shapes")].join(", ");if(p)console.log("WebGL (".concat(r.name,") - time ").concat(m,"ms, ").concat(v));else{console.log("WebGL (".concat(r.name,") - frame time ").concat(m,"ms")),console.log("Totals:"),console.log("  ".concat(v)),console.log("Texture Atlases Used:");var y=g.atlasInfo,b=qs(y),_;try{for(b.s();!(_=b.n()).done;){var k=_.value;console.log("  ".concat(k.type,": ").concat(k.keyCount," keys, ").concat(k.atlasCount," atlases"))}}catch(w){b.e(w)}finally{b.f()}console.log("")}}e.data.gc&&(console.log("Garbage Collect!"),e.data.gc=!1,a.gc())}function bjt(e,t){for(var r=atob(e),n=new ArrayBuffer(r.length),a=new Uint8Array(n),i=0;i<r.length;i++)a[i]=r.charCodeAt(i);return new Blob([n],{type:t})}function kpt(e){var t=e.indexOf(",");return e.substr(t+1)}function cmt(e,t,r){var n=function(){return t.toDataURL(r,e.quality)};switch(e.output){case"blob-promise":return new nv(function(a,i){try{t.toBlob(function(o){o!=null?a(o):i(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,e.quality)}catch(o){i(o)}});case"blob":return bjt(kpt(n()),r);case"base64":return kpt(n());case"base64uri":default:return n()}}function hmt(e){var t=this,r=t.cy.window(),n=r.document;e.webgl&&(kr.CANVAS_LAYERS=t.CANVAS_LAYERS=4,console.log("webgl rendering enabled")),t.data={canvases:new Array(kr.CANVAS_LAYERS),contexts:new Array(kr.CANVAS_LAYERS),canvasNeedsRedraw:new Array(kr.CANVAS_LAYERS),bufferCanvases:new Array(kr.BUFFER_COUNT),bufferContexts:new Array(kr.CANVAS_LAYERS)};var a="-webkit-tap-highlight-color",i="rgba(0,0,0,0)";t.data.canvasContainer=n.createElement("div");var o=t.data.canvasContainer.style;t.data.canvasContainer.style[a]=i,o.position="relative",o.zIndex="0",o.overflow="hidden";var s=e.cy.container();s.appendChild(t.data.canvasContainer),s.style[a]=i;var l={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};mWt()&&(l["-ms-touch-action"]="none",l["touch-action"]="none");for(var u=0;u<kr.CANVAS_LAYERS;u++){var f=t.data.canvases[u]=n.createElement("canvas"),h=kr.CANVAS_TYPES[u];t.data.contexts[u]=f.getContext(h),t.data.contexts[u]||_a("Could not create canvas of type "+h),Object.keys(l).forEach(function(rt){f.style[rt]=l[rt]}),f.style.position="absolute",f.setAttribute("data-id","layer"+u),f.style.zIndex=String(kr.CANVAS_LAYERS-u),t.data.canvasContainer.appendChild(f),t.data.canvasNeedsRedraw[u]=!1}t.data.topCanvas=t.data.canvases[0],t.data.canvases[kr.NODE].setAttribute("data-id","layer"+kr.NODE+"-node"),t.data.canvases[kr.SELECT_BOX].setAttribute("data-id","layer"+kr.SELECT_BOX+"-selectbox"),t.data.canvases[kr.DRAG].setAttribute("data-id","layer"+kr.DRAG+"-drag"),t.data.canvases[kr.WEBGL]&&t.data.canvases[kr.WEBGL].setAttribute("data-id","layer"+kr.WEBGL+"-webgl");for(var u=0;u<kr.BUFFER_COUNT;u++)t.data.bufferCanvases[u]=n.createElement("canvas"),t.data.bufferContexts[u]=t.data.bufferCanvases[u].getContext("2d"),t.data.bufferCanvases[u].style.position="absolute",t.data.bufferCanvases[u].setAttribute("data-id","buffer"+u),t.data.bufferCanvases[u].style.zIndex=String(-u-1),t.data.bufferCanvases[u].style.visibility="hidden";t.pathsEnabled=!0;var d=as(),p=function(et){return{x:(et.x1+et.x2)/2,y:(et.y1+et.y2)/2}},m=function(et){return{x:-et.w/2,y:-et.h/2}},g=function(et){var Q=et[0]._private,j=Q.oldBackgroundTimestamp===Q.backgroundTimestamp;return!j},v=function(et){return et[0]._private.nodeKey},y=function(et){return et[0]._private.labelStyleKey},b=function(et){return et[0]._private.sourceLabelStyleKey},_=function(et){return et[0]._private.targetLabelStyleKey},k=function(et,Q,j,it,K){return t.drawElement(et,Q,j,!1,!1,K)},w=function(et,Q,j,it,K){return t.drawElementText(et,Q,j,it,"main",K)},T=function(et,Q,j,it,K){return t.drawElementText(et,Q,j,it,"source",K)},S=function(et,Q,j,it,K){return t.drawElementText(et,Q,j,it,"target",K)},C=function(et){return et.boundingBox(),et[0]._private.bodyBounds},M=function(et){return et.boundingBox(),et[0]._private.labelBounds.main||d},N=function(et){return et.boundingBox(),et[0]._private.labelBounds.source||d},L=function(et){return et.boundingBox(),et[0]._private.labelBounds.target||d},E=function(et,Q){return Q},A=function(et){return p(C(et))},D=function(et,Q,j){var it=et?et+"-":"";return{x:Q.x+j.pstyle(it+"text-margin-x").pfValue,y:Q.y+j.pstyle(it+"text-margin-y").pfValue}},R=function(et,Q,j){var it=et[0]._private.rscratch;return{x:it[Q],y:it[j]}},I=function(et){return D("",R(et,"labelX","labelY"),et)},O=function(et){return D("source",R(et,"sourceLabelX","sourceLabelY"),et)},F=function(et){return D("target",R(et,"targetLabelX","targetLabelY"),et)},P=function(et){return m(C(et))},q=function(et){return m(N(et))},$=function(et){return m(L(et))},W=function(et){var Q=M(et),j=m(M(et));if(et.isNode()){switch(et.pstyle("text-halign").value){case"left":j.x=-Q.w-(Q.leftPad||0);break;case"right":j.x=-(Q.rightPad||0);break}switch(et.pstyle("text-valign").value){case"top":j.y=-Q.h-(Q.topPad||0);break;case"bottom":j.y=-(Q.botPad||0);break}}return j},X=t.data.eleTxrCache=new u_(t,{getKey:v,doesEleInvalidateKey:g,drawElement:k,getBoundingBox:C,getRotationPoint:A,getRotationOffset:P,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),tt=t.data.lblTxrCache=new u_(t,{getKey:y,drawElement:w,getBoundingBox:M,getRotationPoint:I,getRotationOffset:W,isVisible:E}),Y=t.data.slbTxrCache=new u_(t,{getKey:b,drawElement:T,getBoundingBox:N,getRotationPoint:O,getRotationOffset:q,isVisible:E}),ot=t.data.tlbTxrCache=new u_(t,{getKey:_,drawElement:S,getBoundingBox:L,getRotationPoint:F,getRotationOffset:$,isVisible:E}),Z=t.data.lyrTxrCache=new J0t(t);t.onUpdateEleCalcs(function(et,Q){X.invalidateElements(Q),tt.invalidateElements(Q),Y.invalidateElements(Q),ot.invalidateElements(Q),Z.invalidateElements(Q);for(var j=0;j<Q.length;j++){var it=Q[j]._private;it.oldBackgroundTimestamp=it.backgroundTimestamp}});var ct=function(et){for(var Q=0;Q<et.length;Q++)Z.enqueueElementRefinement(et[Q].ele)};X.onDequeue(ct),tt.onDequeue(ct),Y.onDequeue(ct),ot.onDequeue(ct),e.webgl&&t.initWebgl(e,{getStyleKey:v,getLabelKey:y,getSourceLabelKey:b,getTargetLabelKey:_,drawElement:k,drawLabel:w,drawSourceLabel:T,drawTargetLabel:S,getElementBox:C,getLabelBox:M,getSourceLabelBox:N,getTargetLabelBox:L,getElementRotationPoint:A,getElementRotationOffset:P,getLabelRotationPoint:I,getSourceLabelRotationPoint:O,getTargetLabelRotationPoint:F,getLabelRotationOffset:W,getSourceLabelRotationOffset:q,getTargetLabelRotationOffset:$})}function mmt(e,t,r){var n=r,a=function(C){An("Can not register `"+t+"` for `"+e+"` since `"+C+"` already exists in the prototype and can not be overridden")};if(e==="core"){if(__.prototype[t])return a(t);__.prototype[t]=r}else if(e==="collection"){if(so.prototype[t])return a(t);so.prototype[t]=r}else if(e==="layout"){for(var i=function(C){this.options=C,r.call(this,C),un(this._private)||(this._private={}),this._private.cy=C.cy,this._private.listeners=[],this.createEmitter()},o=i.prototype=Object.create(r.prototype),s=[],l=0;l<s.length;l++){var u=s[l];o[u]=o[u]||function(){return this}}o.start&&!o.run?o.run=function(){return this.start(),this}:!o.start&&o.run&&(o.start=function(){return this.run(),this});var f=r.prototype.stop;o.stop=function(){var S=this.options;if(S&&S.animate){var C=this.animations;if(C)for(var M=0;M<C.length;M++)C[M].stop()}return f?f.call(this):this.emit("layoutstop"),this},o.destroy||(o.destroy=function(){return this}),o.cy=function(){return this._private.cy};var h=function(C){return C._private.cy},d={addEventFields:function(C,M){M.layout=C,M.cy=h(C),M.target=C},bubble:function(){return!0},parent:function(C){return h(C)}};Ze(o,{createEmitter:function(){return this._private.emitter=new QC(d,this),this},emitter:function(){return this._private.emitter},on:function(C,M){return this.emitter().on(C,M),this},one:function(C,M){return this.emitter().one(C,M),this},once:function(C,M){return this.emitter().one(C,M),this},removeListener:function(C,M){return this.emitter().removeListener(C,M),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(C,M){return this.emitter().emit(C,M),this}}),Dn.eventAliasesOn(o),n=i}else if(e==="renderer"&&t!=="null"&&t!=="base"){var p=gmt("renderer","base"),m=p.prototype,g=r,v=r.prototype,y=function(){p.apply(this,arguments),g.apply(this,arguments)},b=y.prototype;for(var _ in m){var k=m[_],w=v[_]!=null;if(w)return a(_);b[_]=k}for(var T in v)b[T]=v[T];m.clientFunctions.forEach(function(S){b[S]=b[S]||function(){_a("Renderer does not implement `renderer."+S+"()` on its prototype")}}),n=y}else if(e==="__proto__"||e==="constructor"||e==="prototype")return _a(e+" is an illegal type to be registered, possibly lead to prototype pollutions");return Npt({map:dmt,keys:[e,t],value:n})}function gmt(e,t){return Opt({map:dmt,keys:[e,t]})}function kjt(e,t,r,n,a){return Npt({map:pmt,keys:[e,t,r,n],value:a})}function Cjt(e,t,r,n){return Opt({map:pmt,keys:[e,t,r,n]})}var gi,Zft,oWt,Dpt,sWt,lWt,T_,Ye,Fa,Yn,un,uWt,be,cWt,DC,cl,E_,Apt,cF,Lpt,fWt,Wd,hWt,dWt,pWt,mWt,J1,fF,qC,Mpt,Jft,Bd,yi,gWt,vWt,yWt,xWt,bWt,_Wt,Ipt,wWt,Ze,TWt,EWt,kWt,CWt,Rpt,SWt,Npt,Opt,nC,dN,tht,pN,eht,mN,rht,gN,nht,vN,aht,yN,iht,xN,oht,bN,sht,_N,lht,wN,uht,TN,cht,EN,fht,kN,hht,CN,dht,PWt,D_,SN,Ppt,BWt,AC,rh,X0,Bpt,V1,$pt,d_,p_,$Wt,Od,aC,pht,Q0,zpt,zWt,UWt,mht,GWt,VWt,dF,qpt,LC,ght,pF,_a,Upt,An,HWt,Vc,YWt,Wpt,XWt,Gpt,lo,Gd,mF,jWt,$s,th,KWt,eh,QWt,ZWt,rv,WC,vht,m_,gC,JWt,yht,DN,xht,rGt,A_,nGt,aGt,iGt,oGt,sGt,lGt,uGt,cGt,fGt,hGt,dGt,AN,pGt,LN,mGt,GC,Vpt,H1,gGt,vGt,yGt,xGt,bGt,iC,gF,vF,Z0,H0,_Gt,Oi,j1,wGt,g_,as,TGt,EGt,kGt,Hpt,vC,yC,bht,yF,$d,_ht,Ypt,CGt,Xpt,AGt,LGt,MGt,IGt,RGt,NGt,zs,nh,OGt,MC,IC,FGt,K0,s_,MN,zd,PGt,v_,BGt,oC,ns,jpt,GO,Vd,Kpt,xF,$Gt,VO,zGt,qGt,wht,K1,Tht,Q1,UGt,HO,WGt,GGt,VGt,HGt,Qpt,YGt,XGt,jGt,KGt,QGt,ZGt,JGt,Eht,tVt,eVt,Zpt,kht,Cht,rVt,nVt,t_,tv,aVt,bF,RC,RN,Jpt,t0t,iVt,oVt,sVt,Sht,Dht,lVt,uVt,cVt,fVt,hVt,Aht,dVt,pVt,mVt,gVt,Lht,Y1,YO,XO,Mht,vVt,yVt,xVt,bVt,_Vt,wVt,Iht,TVt,Rht,EVt,kVt,CVt,sC,SVt,lC,DVt,e0t,r0t,n0t,a0t,Ou,Nht,i0t,Oht,Fht,o0t,nv,jO,J0,AVt,NN,Pht,ON,Bht,FN,$ht,PN,zht,BN,qht,$N,Uht,zN,Wht,qN,Ght,UN,Vht,WN,Hht,GN,Yht,VN,Xht,HN,jht,YN,Kht,XN,Qht,jN,Zht,KN,Jht,QN,tdt,ZN,edt,JN,rdt,tO,ndt,eO,adt,rO,idt,nO,odt,aO,sdt,iO,ldt,oO,udt,sO,cdt,lO,fdt,uO,hdt,cO,ddt,fO,pdt,hO,mdt,dO,gdt,pO,vdt,mO,ydt,gO,xdt,vO,bdt,yO,_dt,xO,wdt,bO,Tdt,_O,Edt,wO,kdt,lHt,uHt,TO,Cdt,EO,Sdt,kO,Ddt,CO,Adt,SO,Ldt,DO,Mdt,gHt,vHt,AO,Idt,LO,Rdt,bHt,_Ht,wHt,THt,Dn,EHt,xC,ln,Un,Ne,KO,kHt,CHt,SHt,B1,Fd,QO,DHt,AHt,LHt,MHt,IHt,h0t,RHt,NHt,TF,OHt,Ga,ha,FHt,PHt,BHt,Hd,Yd,qd,Hl,ev,y_,m0t,zHt,KC,Nu,g0t,v0t,Ndt,qHt,Z1,Qd,Vl,Ru,Pd,e_,uC,IO,Odt,y0t,UHt,WHt,x0t,b0t,Fdt,x_,Pdt,Bdt,GHt,l_,L_,_0t,VHt,HHt,YHt,XHt,jHt,KHt,QHt,ZHt,JHt,$dt,tYt,eYt,rYt,w0t,T0t,nYt,E0t,zdt,aYt,Xd,k0t,qdt,iYt,oYt,fC,C0t,S0t,bn,sYt,D0t,NC,lYt,uYt,bC,oo,av,cYt,fYt,hYt,dYt,Ud,So,Wdt,Gdt,Vdt,so,aa,pYt,gYt,na,_C,xYt,bYt,hC,L0t,ZO,wC,_Yt,wYt,JO,TC,Pi,c_,TYt,M_,CF,Hc,tS,SF,ai,eS,Fi,Do,EYt,kYt,tm,b_,__,OC,CYt,SYt,q1,Zdt,DYt,AYt,NO,LYt,MYt,IYt,N0t,RYt,NYt,O0t,OYt,FYt,PYt,Jdt,BYt,$Yt,FC,zYt,qYt,UYt,WYt,GYt,F0t,tpt,VYt,HYt,YYt,XYt,jYt,ept,rpt,AF,rm,PC,tF,eF,Gc,Gl,npt,apt,j0,EC,Jf,W0,Y0,Uc,U1,dC,q0t,U0t,rF,nF,ipt,opt,KYt,QYt,w_,ZYt,Ao,I_,MF,Yc,V0t,H0t,tXt,Y0t,spt,lpt,nS,aS,X0t,j0t,ov,ah,R_,upt,eXt,K0t,sv,OO,Q0t,rXt,cpt,pC,kC,aF,Z0t,nXt,aXt,iXt,oXt,sXt,lXt,uXt,cXt,fXt,hXt,dXt,pXt,mXt,X1,gXt,u_,bi,vXt,f_,BC,yXt,xXt,bXt,_Xt,wXt,TXt,EXt,kXt,fpt,CXt,hpt,SXt,J0t,uo,dpt,DXt,tmt,ppt,Xc,RXt,NXt,OXt,FXt,PXt,FO,ih,emt,IF,nm,Zd,rmt,is,$Xt,a_,ypt,tjt,ejt,njt,ajt,ijt,ojt,sjt,ljt,h_,$C,BO,_pt,wpt,$O,G1,mC,i_,o_,ujt,imt,zO,qO,Jd,Tpt,Ept,oF,sF,umt,V0,N_,fmt,_jt,kr,wjt,Tjt,Ejt,dmt,pmt,lF,zC,em,Sjt,Yl,NF=B(()=>{gi=typeof window>"u"?null:window,Zft=gi?gi.navigator:null;gi&&gi.document;oWt=xi(""),Dpt=xi({}),sWt=xi(function(){}),lWt=typeof HTMLElement>"u"?"undefined":xi(HTMLElement),T_=function(t){return t&&t.instanceString&&Fa(t.instanceString)?t.instanceString():null},Ye=function(t){return t!=null&&xi(t)==oWt},Fa=function(t){return t!=null&&xi(t)===sWt},Yn=function(t){return!cl(t)&&(Array.isArray?Array.isArray(t):t!=null&&t instanceof Array)},un=function(t){return t!=null&&xi(t)===Dpt&&!Yn(t)&&t.constructor===Object},uWt=function(t){return t!=null&&xi(t)===Dpt},be=function(t){return t!=null&&xi(t)===xi(1)&&!isNaN(t)},cWt=function(t){return be(t)&&Math.floor(t)===t},DC=function(t){if(lWt!=="undefined")return t!=null&&t instanceof HTMLElement},cl=function(t){return E_(t)||Apt(t)},E_=function(t){return T_(t)==="collection"&&t._private.single},Apt=function(t){return T_(t)==="collection"&&!t._private.single},cF=function(t){return T_(t)==="core"},Lpt=function(t){return T_(t)==="stylesheet"},fWt=function(t){return T_(t)==="event"},Wd=function(t){return t==null?!0:!!(t===""||t.match(/^\s+$/))},hWt=function(t){return typeof HTMLElement>"u"?!1:t instanceof HTMLElement},dWt=function(t){return un(t)&&be(t.x1)&&be(t.x2)&&be(t.y1)&&be(t.y2)},pWt=function(t){return uWt(t)&&Fa(t.then)},mWt=function(){return Zft&&Zft.userAgent.match(/msie|trident|edge/i)},J1=function(t,r){r||(r=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);return i.join("$")});var n=function(){var i=this,o=arguments,s,l=r.apply(i,o),u=n.cache;return(s=u[l])||(s=u[l]=t.apply(i,o)),s};return n.cache={},n},fF=J1(function(e){return e.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}),qC=J1(function(e){return e.replace(/(-\w)/g,function(t){return t[1].toUpperCase()})}),Mpt=J1(function(e,t){return e+t[0].toUpperCase()+t.substring(1)},function(e,t){return e+"$"+t}),Jft=function(t){return Wd(t)?t:t.charAt(0).toUpperCase()+t.substring(1)},Bd=function(t,r){return t.slice(-1*r.length)===r},yi="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",gWt="rgb[a]?\\(("+yi+"[%]?)\\s*,\\s*("+yi+"[%]?)\\s*,\\s*("+yi+"[%]?)(?:\\s*,\\s*("+yi+"))?\\)",vWt="rgb[a]?\\((?:"+yi+"[%]?)\\s*,\\s*(?:"+yi+"[%]?)\\s*,\\s*(?:"+yi+"[%]?)(?:\\s*,\\s*(?:"+yi+"))?\\)",yWt="hsl[a]?\\(("+yi+")\\s*,\\s*("+yi+"[%])\\s*,\\s*("+yi+"[%])(?:\\s*,\\s*("+yi+"))?\\)",xWt="hsl[a]?\\((?:"+yi+")\\s*,\\s*(?:"+yi+"[%])\\s*,\\s*(?:"+yi+"[%])(?:\\s*,\\s*(?:"+yi+"))?\\)",bWt="\\#[0-9a-fA-F]{3}",_Wt="\\#[0-9a-fA-F]{6}",Ipt=function(t,r){return t<r?-1:t>r?1:0},wWt=function(t,r){return-1*Ipt(t,r)},Ze=Object.assign!=null?Object.assign.bind(Object):function(e){for(var t=arguments,r=1;r<t.length;r++){var n=t[r];if(n!=null)for(var a=Object.keys(n),i=0;i<a.length;i++){var o=a[i];e[o]=n[o]}}return e},TWt=function(t){if(!(!(t.length===4||t.length===7)||t[0]!=="#")){var r=t.length===4,n,a,i,o=16;return r?(n=parseInt(t[1]+t[1],o),a=parseInt(t[2]+t[2],o),i=parseInt(t[3]+t[3],o)):(n=parseInt(t[1]+t[2],o),a=parseInt(t[3]+t[4],o),i=parseInt(t[5]+t[6],o)),[n,a,i]}},EWt=function(t){var r,n,a,i,o,s,l,u;function f(m,g,v){return v<0&&(v+=1),v>1&&(v-=1),v<1/6?m+(g-m)*6*v:v<1/2?g:v<2/3?m+(g-m)*(2/3-v)*6:m}var h=new RegExp("^"+yWt+"$").exec(t);if(h){if(n=parseInt(h[1]),n<0?n=(360- -1*n%360)%360:n>360&&(n=n%360),n/=360,a=parseFloat(h[2]),a<0||a>100||(a=a/100,i=parseFloat(h[3]),i<0||i>100)||(i=i/100,o=h[4],o!==void 0&&(o=parseFloat(o),o<0||o>1)))return;if(a===0)s=l=u=Math.round(i*255);else{var d=i<.5?i*(1+a):i+a-i*a,p=2*i-d;s=Math.round(255*f(p,d,n+1/3)),l=Math.round(255*f(p,d,n)),u=Math.round(255*f(p,d,n-1/3))}r=[s,l,u,o]}return r},kWt=function(t){var r,n=new RegExp("^"+gWt+"$").exec(t);if(n){r=[];for(var a=[],i=1;i<=3;i++){var o=n[i];if(o[o.length-1]==="%"&&(a[i]=!0),o=parseFloat(o),a[i]&&(o=o/100*255),o<0||o>255)return;r.push(Math.floor(o))}var s=a[1]||a[2]||a[3],l=a[1]&&a[2]&&a[3];if(s&&!l)return;var u=n[4];if(u!==void 0){if(u=parseFloat(u),u<0||u>1)return;r.push(u)}}return r},CWt=function(t){return SWt[t.toLowerCase()]},Rpt=function(t){return(Yn(t)?t:null)||CWt(t)||TWt(t)||kWt(t)||EWt(t)},SWt={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Npt=function(t){for(var r=t.map,n=t.keys,a=n.length,i=0;i<a;i++){var o=n[i];if(un(o))throw Error("Tried to set map with object key");i<n.length-1?(r[o]==null&&(r[o]={}),r=r[o]):r[o]=t.value}},Opt=function(t){for(var r=t.map,n=t.keys,a=n.length,i=0;i<a;i++){var o=n[i];if(un(o))throw Error("Tried to get map with object key");if(r=r[o],r==null)return r}return r},nC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};PWt=FWt(),D_=k_(PWt),SN=gi?gi.performance:null,Ppt=SN&&SN.now?function(){return SN.now()}:function(){return Date.now()},BWt=function(){if(gi){if(gi.requestAnimationFrame)return function(e){gi.requestAnimationFrame(e)};if(gi.mozRequestAnimationFrame)return function(e){gi.mozRequestAnimationFrame(e)};if(gi.webkitRequestAnimationFrame)return function(e){gi.webkitRequestAnimationFrame(e)};if(gi.msRequestAnimationFrame)return function(e){gi.msRequestAnimationFrame(e)}}return function(e){e&&setTimeout(function(){e(Ppt())},1e3/60)}}(),AC=function(t){return BWt(t)},rh=Ppt,X0=9261,Bpt=65599,V1=5381,$pt=function(t){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:X0,n=r,a;a=t.next(),!a.done;)n=n*Bpt+a.value|0;return n},d_=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:X0;return r*Bpt+t|0},p_=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:V1;return(r<<5)+r+t|0},$Wt=function(t,r){return t*2097152+r},Od=function(t){return t[0]*2097152+t[1]},aC=function(t,r){return[d_(t[0],r[0]),p_(t[1],r[1])]},pht=function(t,r){var n={value:0,done:!1},a=0,i=t.length,o={next:function(){return a<i?n.value=t[a++]:n.done=!0,n}};return $pt(o,r)},Q0=function(t,r){var n={value:0,done:!1},a=0,i=t.length,o={next:function(){return a<i?n.value=t.charCodeAt(a++):n.done=!0,n}};return $pt(o,r)},zpt=function(){return zWt(arguments)},zWt=function(t){for(var r,n=0;n<t.length;n++){var a=t[n];n===0?r=Q0(a):r=Q0(a,r)}return r};UWt=function(t,r,n,a,i,o){return{x:(t-n)*i+n,y:(r-a)*o+a}};mht=!0,GWt=console.warn!=null,VWt=console.trace!=null,dF=Number.MAX_SAFE_INTEGER||9007199254740991,qpt=function(){return!0},LC=function(){return!1},ght=function(){return 0},pF=function(){},_a=function(t){throw new Error(t)},Upt=function(t){if(t!==void 0)mht=!!t;else return mht},An=function(t){Upt()&&(GWt?console.warn(t):(console.log(t),VWt&&console.trace()))},HWt=function(t){return Ze({},t)},Vc=function(t){return t==null?t:Yn(t)?t.slice():un(t)?HWt(t):t},YWt=function(t){return t.slice()},Wpt=function(t,r){for(r=t="";t++<36;r+=t*51&52?(t^15?8^Math.random()*(t^20?16:4):4).toString(16):"-");return r},XWt={},Gpt=function(){return XWt},lo=function(t){var r=Object.keys(t);return function(n){for(var a={},i=0;i<r.length;i++){var o=r[i],s=n?.[o];a[o]=s===void 0?t[o]:s}return a}},Gd=function(t,r,n){for(var a=t.length-1;a>=0;a--)t[a]===r&&t.splice(a,1)},mF=function(t){t.splice(0,t.length)},jWt=function(t,r){for(var n=0;n<r.length;n++){var a=r[n];t.push(a)}},$s=function(t,r,n){return n&&(r=Mpt(n,r)),t[r]},th=function(t,r,n,a){n&&(r=Mpt(n,r)),t[r]=a},KWt=function(){function e(){jd(this,e),this._obj={}}return Kd(e,[{key:"set",value:function(r,n){return this._obj[r]=n,this}},{key:"delete",value:function(r){return this._obj[r]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(r){return this._obj[r]!==void 0}},{key:"get",value:function(r){return this._obj[r]}}])}(),eh=typeof Map<"u"?Map:KWt,QWt="undefined",ZWt=function(){function e(t){if(jd(this,e),this._obj=Object.create(null),this.size=0,t!=null){var r;t.instanceString!=null&&t.instanceString()===this.instanceString()?r=t.toArray():r=t;for(var n=0;n<r.length;n++)this.add(r[n])}}return Kd(e,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(r){var n=this._obj;n[r]!==1&&(n[r]=1,this.size++)}},{key:"delete",value:function(r){var n=this._obj;n[r]===1&&(n[r]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(r){return this._obj[r]===1}},{key:"toArray",value:function(){var r=this;return Object.keys(this._obj).filter(function(n){return r.has(n)})}},{key:"forEach",value:function(r,n){return this.toArray().forEach(r,n)}}])}(),rv=(typeof Set>"u"?"undefined":xi(Set))!==QWt?Set:ZWt,WC=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(t===void 0||r===void 0||!cF(t)){_a("An element must have a core reference and parameters set");return}var a=r.group;if(a==null&&(r.data&&r.data.source!=null&&r.data.target!=null?a="edges":a="nodes"),a!=="nodes"&&a!=="edges"){_a("An element must be of type `nodes` or `edges`; you specified `"+a+"`");return}this.length=1,this[0]=this;var i=this._private={cy:t,single:!0,data:r.data||{},position:r.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:a,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!r.selected,selectable:r.selectable===void 0?!0:!!r.selectable,locked:!!r.locked,grabbed:!1,grabbable:r.grabbable===void 0?!0:!!r.grabbable,pannable:r.pannable===void 0?a==="edges":!!r.pannable,active:!1,classes:new rv,animation:{current:[],queue:[]},rscratch:{},scratch:r.scratch||{},edges:[],children:[],parent:r.parent&&r.parent.isNode()?r.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(i.position.x==null&&(i.position.x=0),i.position.y==null&&(i.position.y=0),r.renderedPosition){var o=r.renderedPosition,s=t.pan(),l=t.zoom();i.position={x:(o.x-s.x)/l,y:(o.y-s.y)/l}}var u=[];Yn(r.classes)?u=r.classes:Ye(r.classes)&&(u=r.classes.split(/\s+/));for(var f=0,h=u.length;f<h;f++){var d=u[f];!d||d===""||i.classes.add(d)}this.createEmitter(),(n===void 0||n)&&this.restore();var p=r.style||r.css;p&&(An("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(p))},vht=function(t){return t={bfs:t.bfs||!t.dfs,dfs:t.dfs||!t.bfs},function(n,a,i){var o;un(n)&&!cl(n)&&(o=n,n=o.roots||o.root,a=o.visit,i=o.directed),i=arguments.length===2&&!Fa(a)?a:i,a=Fa(a)?a:function(){};for(var s=this._private.cy,l=n=Ye(n)?this.filter(n):n,u=[],f=[],h={},d={},p={},m=0,g,v=this.byGroup(),y=v.nodes,b=v.edges,_=0;_<l.length;_++){var k=l[_],w=k.id();k.isNode()&&(u.unshift(k),t.bfs&&(p[w]=!0,f.push(k)),d[w]=0)}for(var T=function(){var A=t.bfs?u.shift():u.pop(),D=A.id();if(t.dfs){if(p[D])return 0;p[D]=!0,f.push(A)}var R=d[D],I=h[D],O=I!=null?I.source():null,F=I!=null?I.target():null,P=I==null?void 0:A.same(O)?F[0]:O[0],q;if(q=a(A,I,P,m++,R),q===!0)return g=A,1;if(q===!1)return 1;for(var $=A.connectedEdges().filter(function(ot){return(!i||ot.source().same(A))&&b.has(ot)}),W=0;W<$.length;W++){var X=$[W],tt=X.connectedNodes().filter(function(ot){return!ot.same(A)&&y.has(ot)}),Y=tt.id();tt.length!==0&&!p[Y]&&(tt=tt[0],u.push(tt),t.bfs&&(p[Y]=!0,f.push(tt)),h[Y]=X,d[Y]=d[D]+1)}},S;u.length!==0&&(S=T(),!(S!==0&&S===1)););for(var C=s.collection(),M=0;M<f.length;M++){var N=f[M],L=h[N.id()];L!=null&&C.push(L),C.push(N)}return{path:s.collection(C),found:s.collection(g)}}},m_={breadthFirstSearch:vht({bfs:!0}),depthFirstSearch:vht({dfs:!0})};m_.bfs=m_.breadthFirstSearch;m_.dfs=m_.depthFirstSearch;gC={exports:{}},JWt=gC.exports;rGt=eGt(),A_=k_(rGt),nGt=lo({root:null,weight:function(t){return 1},directed:!1}),aGt={dijkstra:function(t){if(!un(t)){var r=arguments;t={root:r[0],weight:r[1],directed:r[2]}}var n=nGt(t),a=n.root,i=n.weight,o=n.directed,s=this,l=i,u=Ye(a)?this.filter(a)[0]:a[0],f={},h={},d={},p=this.byGroup(),m=p.nodes,g=p.edges;g.unmergeBy(function(R){return R.isLoop()});for(var v=function(I){return f[I.id()]},y=function(I,O){f[I.id()]=O,b.updateItem(I)},b=new A_(function(R,I){return v(R)-v(I)}),_=0;_<m.length;_++){var k=m[_];f[k.id()]=k.same(u)?0:1/0,b.push(k)}for(var w=function(I,O){for(var F=(o?I.edgesTo(O):I.edgesWith(O)).intersect(g),P=1/0,q,$=0;$<F.length;$++){var W=F[$],X=l(W);(X<P||!q)&&(P=X,q=W)}return{edge:q,dist:P}};b.size()>0;){var T=b.pop(),S=v(T),C=T.id();if(d[C]=S,S!==1/0)for(var M=T.neighborhood().intersect(m),N=0;N<M.length;N++){var L=M[N],E=L.id(),A=w(T,L),D=S+A.dist;D<v(L)&&(y(L,D),h[E]={node:T,edge:A.edge})}}return{distanceTo:function(I){var O=Ye(I)?m.filter(I)[0]:I[0];return d[O.id()]},pathTo:function(I){var O=Ye(I)?m.filter(I)[0]:I[0],F=[],P=O,q=P.id();if(O.length>0)for(F.unshift(O);h[q];){var $=h[q];F.unshift($.edge),F.unshift($.node),P=$.node,q=P.id()}return s.spawn(F)}}}},iGt={kruskal:function(t){t=t||function(_){return 1};for(var r=this.byGroup(),n=r.nodes,a=r.edges,i=n.length,o=new Array(i),s=n,l=function(k){for(var w=0;w<o.length;w++){var T=o[w];if(T.has(k))return w}},u=0;u<i;u++)o[u]=this.spawn(n[u]);for(var f=a.sort(function(_,k){return t(_)-t(k)}),h=0;h<f.length;h++){var d=f[h],p=d.source()[0],m=d.target()[0],g=l(p),v=l(m),y=o[g],b=o[v];g!==v&&(s.merge(d),y.merge(b),o.splice(v,1))}return s}},oGt=lo({root:null,goal:null,weight:function(t){return 1},heuristic:function(t){return 0},directed:!1}),sGt={aStar:function(t){var r=this.cy(),n=oGt(t),a=n.root,i=n.goal,o=n.heuristic,s=n.directed,l=n.weight;a=r.collection(a)[0],i=r.collection(i)[0];var u=a.id(),f=i.id(),h={},d={},p={},m=new A_(function(q,$){return d[q.id()]-d[$.id()]}),g=new rv,v={},y={},b=function($,W){m.push($),g.add(W)},_,k,w=function(){_=m.pop(),k=_.id(),g.delete(k)},T=function($){return g.has($)};b(a,u),h[u]=0,d[u]=o(a);for(var S=0;m.size()>0;){if(w(),S++,k===f){for(var C=[],M=i,N=f,L=y[N];C.unshift(M),L!=null&&C.unshift(L),M=v[N],M!=null;)N=M.id(),L=y[N];return{found:!0,distance:h[k],path:this.spawn(C),steps:S}}p[k]=!0;for(var E=_._private.edges,A=0;A<E.length;A++){var D=E[A];if(this.hasElementWithId(D.id())&&!(s&&D.data("source")!==k)){var R=D.source(),I=D.target(),O=R.id()!==k?R:I,F=O.id();if(this.hasElementWithId(F)&&!p[F]){var P=h[k]+l(D);if(!T(F)){h[F]=P,d[F]=P+o(O),b(O,F),v[F]=_,y[F]=D;continue}P<h[F]&&(h[F]=P,d[F]=P+o(O),v[F]=_,y[F]=D)}}}}return{found:!1,distance:void 0,path:void 0,steps:S}}},lGt=lo({weight:function(t){return 1},directed:!1}),uGt={floydWarshall:function(t){for(var r=this.cy(),n=lGt(t),a=n.weight,i=n.directed,o=a,s=this.byGroup(),l=s.nodes,u=s.edges,f=l.length,h=f*f,d=function(X){return l.indexOf(X)},p=function(X){return l[X]},m=new Array(h),g=0;g<h;g++){var v=g%f,y=(g-v)/f;y===v?m[g]=0:m[g]=1/0}for(var b=new Array(h),_=new Array(h),k=0;k<u.length;k++){var w=u[k],T=w.source()[0],S=w.target()[0];if(T!==S){var C=d(T),M=d(S),N=C*f+M,L=o(w);if(m[N]>L&&(m[N]=L,b[N]=M,_[N]=w),!i){var E=M*f+C;!i&&m[E]>L&&(m[E]=L,b[E]=C,_[E]=w)}}}for(var A=0;A<f;A++)for(var D=0;D<f;D++)for(var R=D*f+A,I=0;I<f;I++){var O=D*f+I,F=A*f+I;m[R]+m[F]<m[O]&&(m[O]=m[R]+m[F],b[O]=b[R])}var P=function(X){return(Ye(X)?r.filter(X):X)[0]},q=function(X){return d(P(X))},$={distance:function(X,tt){var Y=q(X),ot=q(tt);return m[Y*f+ot]},path:function(X,tt){var Y=q(X),ot=q(tt),Z=p(Y);if(Y===ot)return Z.collection();if(b[Y*f+ot]==null)return r.collection();var ct=r.collection(),rt=Y,et;for(ct.merge(Z);Y!==ot;)rt=Y,Y=b[Y*f+ot],et=_[rt*f+Y],ct.merge(et),ct.merge(p(Y));return ct}};return $}},cGt=lo({weight:function(t){return 1},directed:!1,root:null}),fGt={bellmanFord:function(t){var r=this,n=cGt(t),a=n.weight,i=n.directed,o=n.root,s=a,l=this,u=this.cy(),f=this.byGroup(),h=f.edges,d=f.nodes,p=d.length,m=new eh,g=!1,v=[];o=u.collection(o)[0],h.unmergeBy(function(_t){return _t.isLoop()});for(var y=h.length,b=function(V){var Ut=m.get(V.id());return Ut||(Ut={},m.set(V.id(),Ut)),Ut},_=function(V){return(Ye(V)?u.$(V):V)[0]},k=function(V){return b(_(V)).dist},w=function(V){for(var Ut=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o,pt=_(V),Ft=[],Yt=pt;;){if(Yt==null)return r.spawn();var Ht=b(Yt),Lt=Ht.edge,Nt=Ht.pred;if(Ft.unshift(Yt[0]),Yt.same(Ut)&&Ft.length>0)break;Lt!=null&&Ft.unshift(Lt),Yt=Nt}return l.spawn(Ft)},T=0;T<p;T++){var S=d[T],C=b(S);S.same(o)?C.dist=0:C.dist=1/0,C.pred=null,C.edge=null}for(var M=!1,N=function(V,Ut,pt,Ft,Yt,Ht){var Lt=Ft.dist+Ht;Lt<Yt.dist&&!pt.same(Ft.edge)&&(Yt.dist=Lt,Yt.pred=V,Yt.edge=pt,M=!0)},L=1;L<p;L++){M=!1;for(var E=0;E<y;E++){var A=h[E],D=A.source(),R=A.target(),I=s(A),O=b(D),F=b(R);N(D,R,A,O,F,I),i||N(R,D,A,F,O,I)}if(!M)break}if(M)for(var P=[],q=0;q<y;q++){var $=h[q],W=$.source(),X=$.target(),tt=s($),Y=b(W).dist,ot=b(X).dist;if(Y+tt<ot||!i&&ot+tt<Y)if(g||(An("Graph contains a negative weight cycle for Bellman-Ford"),g=!0),t.findNegativeWeightCycles!==!1){var Z=[];Y+tt<ot&&Z.push(W),!i&&ot+tt<Y&&Z.push(X);for(var ct=Z.length,rt=0;rt<ct;rt++){var et=Z[rt],Q=[et];Q.push(b(et).edge);for(var j=b(et).pred;Q.indexOf(j)===-1;)Q.push(j),Q.push(b(j).edge),j=b(j).pred;Q=Q.slice(Q.indexOf(j));for(var it=Q[0].id(),K=0,dt=2;dt<Q.length;dt+=2)Q[dt].id()<it&&(it=Q[dt].id(),K=dt);Q=Q.slice(K).concat(Q.slice(0,K)),Q.push(Q[0]);var nt=Q.map(function(_t){return _t.id()}).join(",");P.indexOf(nt)===-1&&(v.push(l.spawn(Q)),P.push(nt))}}else break}return{distanceTo:k,pathTo:w,hasNegativeWeightCycle:g,negativeWeightCycles:v}}},hGt=Math.sqrt(2),dGt=function(t,r,n){n.length===0&&_a("Karger-Stein must be run on a connected (sub)graph");for(var a=n[t],i=a[1],o=a[2],s=r[i],l=r[o],u=n,f=u.length-1;f>=0;f--){var h=u[f],d=h[1],p=h[2];(r[d]===s&&r[p]===l||r[d]===l&&r[p]===s)&&u.splice(f,1)}for(var m=0;m<u.length;m++){var g=u[m];g[1]===l?(u[m]=g.slice(),u[m][1]=s):g[2]===l&&(u[m]=g.slice(),u[m][2]=s)}for(var v=0;v<r.length;v++)r[v]===l&&(r[v]=s);return u},AN=function(t,r,n,a){for(;n>a;){var i=Math.floor(Math.random()*r.length);r=dGt(i,t,r),n--}return r},pGt={kargerStein:function(){var t=this,r=this.byGroup(),n=r.nodes,a=r.edges;a.unmergeBy(function(F){return F.isLoop()});var i=n.length,o=a.length,s=Math.ceil(Math.pow(Math.log(i)/Math.LN2,2)),l=Math.floor(i/hGt);if(i<2){_a("At least 2 nodes are required for Karger-Stein algorithm");return}for(var u=[],f=0;f<o;f++){var h=a[f];u.push([f,n.indexOf(h.source()),n.indexOf(h.target())])}for(var d=1/0,p=[],m=new Array(i),g=new Array(i),v=new Array(i),y=function(P,q){for(var $=0;$<i;$++)q[$]=P[$]},b=0;b<=s;b++){for(var _=0;_<i;_++)g[_]=_;var k=AN(g,u.slice(),i,l),w=k.slice();y(g,v);var T=AN(g,k,l,2),S=AN(v,w,l,2);T.length<=S.length&&T.length<d?(d=T.length,p=T,y(g,m)):S.length<=T.length&&S.length<d&&(d=S.length,p=S,y(v,m))}for(var C=this.spawn(p.map(function(F){return a[F[0]]})),M=this.spawn(),N=this.spawn(),L=m[0],E=0;E<m.length;E++){var A=m[E],D=n[E];A===L?M.merge(D):N.merge(D)}var R=function(P){var q=t.spawn();return P.forEach(function($){q.merge($),$.connectedEdges().forEach(function(W){t.contains(W)&&!C.contains(W)&&q.merge(W)})}),q},I=[R(M),R(N)],O={cut:C,components:I,partition1:M,partition2:N};return O}},mGt=function(t){return{x:t.x,y:t.y}},GC=function(t,r,n){return{x:t.x*r+n.x,y:t.y*r+n.y}},Vpt=function(t,r,n){return{x:(t.x-n.x)/r,y:(t.y-n.y)/r}},H1=function(t){return{x:t[0],y:t[1]}},gGt=function(t){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,a=1/0,i=r;i<n;i++){var o=t[i];isFinite(o)&&(a=Math.min(o,a))}return a},vGt=function(t){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,a=-1/0,i=r;i<n;i++){var o=t[i];isFinite(o)&&(a=Math.max(o,a))}return a},yGt=function(t){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,a=0,i=0,o=r;o<n;o++){var s=t[o];isFinite(s)&&(a+=s,i++)}return a/i},xGt=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;a?t=t.slice(r,n):(n<t.length&&t.splice(n,t.length-n),r>0&&t.splice(0,r));for(var s=0,l=t.length-1;l>=0;l--){var u=t[l];o?isFinite(u)||(t[l]=-1/0,s++):t.splice(l,1)}i&&t.sort(function(d,p){return d-p});var f=t.length,h=Math.floor(f/2);return f%2!==0?t[h+1+s]:(t[h-1+s]+t[h+s])/2},bGt=function(t){return Math.PI*t/180},iC=function(t,r){return Math.atan2(r,t)-Math.PI/2},gF=Math.log2||function(e){return Math.log(e)/Math.log(2)},vF=function(t){return t>0?1:t<0?-1:0},Z0=function(t,r){return Math.sqrt(H0(t,r))},H0=function(t,r){var n=r.x-t.x,a=r.y-t.y;return n*n+a*a},_Gt=function(t){for(var r=t.length,n=0,a=0;a<r;a++)n+=t[a];for(var i=0;i<r;i++)t[i]=t[i]/n;return t},Oi=function(t,r,n,a){return(1-a)*(1-a)*t+2*(1-a)*a*r+a*a*n},j1=function(t,r,n,a){return{x:Oi(t.x,r.x,n.x,a),y:Oi(t.y,r.y,n.y,a)}},wGt=function(t,r,n,a){var i={x:r.x-t.x,y:r.y-t.y},o=Z0(t,r),s={x:i.x/o,y:i.y/o};return n=n??0,a=a??n*o,{x:t.x+s.x*a,y:t.y+s.y*a}},g_=function(t,r,n){return Math.max(t,Math.min(n,r))},as=function(t){if(t==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(t.x1!=null&&t.y1!=null){if(t.x2!=null&&t.y2!=null&&t.x2>=t.x1&&t.y2>=t.y1)return{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,w:t.x2-t.x1,h:t.y2-t.y1};if(t.w!=null&&t.h!=null&&t.w>=0&&t.h>=0)return{x1:t.x1,y1:t.y1,x2:t.x1+t.w,y2:t.y1+t.h,w:t.w,h:t.h}}},TGt=function(t){return{x1:t.x1,x2:t.x2,w:t.w,y1:t.y1,y2:t.y2,h:t.h}},EGt=function(t){t.x1=1/0,t.y1=1/0,t.x2=-1/0,t.y2=-1/0,t.w=0,t.h=0},kGt=function(t,r){t.x1=Math.min(t.x1,r.x1),t.x2=Math.max(t.x2,r.x2),t.w=t.x2-t.x1,t.y1=Math.min(t.y1,r.y1),t.y2=Math.max(t.y2,r.y2),t.h=t.y2-t.y1},Hpt=function(t,r,n){t.x1=Math.min(t.x1,r),t.x2=Math.max(t.x2,r),t.w=t.x2-t.x1,t.y1=Math.min(t.y1,n),t.y2=Math.max(t.y2,n),t.h=t.y2-t.y1},vC=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return t.x1-=r,t.x2+=r,t.y1-=r,t.y2+=r,t.w=t.x2-t.x1,t.h=t.y2-t.y1,t},yC=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],n,a,i,o;if(r.length===1)n=a=i=o=r[0];else if(r.length===2)n=i=r[0],o=a=r[1];else if(r.length===4){var s=ii(r,4);n=s[0],a=s[1],i=s[2],o=s[3]}return t.x1-=o,t.x2+=a,t.y1-=n,t.y2+=i,t.w=t.x2-t.x1,t.h=t.y2-t.y1,t},bht=function(t,r){t.x1=r.x1,t.y1=r.y1,t.x2=r.x2,t.y2=r.y2,t.w=t.x2-t.x1,t.h=t.y2-t.y1},yF=function(t,r){return!(t.x1>r.x2||r.x1>t.x2||t.x2<r.x1||r.x2<t.x1||t.y2<r.y1||r.y2<t.y1||t.y1>r.y2||r.y1>t.y2)},$d=function(t,r,n){return t.x1<=r&&r<=t.x2&&t.y1<=n&&n<=t.y2},_ht=function(t,r){return $d(t,r.x,r.y)},Ypt=function(t,r){return $d(t,r.x1,r.y1)&&$d(t,r.x2,r.y2)},CGt=(LN=Math.hypot)!==null&&LN!==void 0?LN:function(e,t){return Math.sqrt(e*e+t*t)};Xpt=function(t,r,n,a,i,o,s){var l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",u=l==="auto"?Vd(i,o):l,f=i/2,h=o/2;u=Math.min(u,f,h);var d=u!==f,p=u!==h,m;if(d){var g=n-f+u-s,v=a-h-s,y=n+f-u+s,b=v;if(m=zd(t,r,n,a,g,v,y,b,!1),m.length>0)return m}if(p){var _=n+f+s,k=a-h+u-s,w=_,T=a+h-u+s;if(m=zd(t,r,n,a,_,k,w,T,!1),m.length>0)return m}if(d){var S=n-f+u-s,C=a+h+s,M=n+f-u+s,N=C;if(m=zd(t,r,n,a,S,C,M,N,!1),m.length>0)return m}if(p){var L=n-f-s,E=a-h+u-s,A=L,D=a+h-u+s;if(m=zd(t,r,n,a,L,E,A,D,!1),m.length>0)return m}var R;{var I=n-f+u,O=a-h+u;if(R=s_(t,r,n,a,I,O,u+s),R.length>0&&R[0]<=I&&R[1]<=O)return[R[0],R[1]]}{var F=n+f-u,P=a-h+u;if(R=s_(t,r,n,a,F,P,u+s),R.length>0&&R[0]>=F&&R[1]<=P)return[R[0],R[1]]}{var q=n+f-u,$=a+h-u;if(R=s_(t,r,n,a,q,$,u+s),R.length>0&&R[0]>=q&&R[1]>=$)return[R[0],R[1]]}{var W=n-f+u,X=a+h-u;if(R=s_(t,r,n,a,W,X,u+s),R.length>0&&R[0]<=W&&R[1]>=X)return[R[0],R[1]]}return[]},AGt=function(t,r,n,a,i,o,s){var l=s,u=Math.min(n,i),f=Math.max(n,i),h=Math.min(a,o),d=Math.max(a,o);return u-l<=t&&t<=f+l&&h-l<=r&&r<=d+l},LGt=function(t,r,n,a,i,o,s,l,u){var f={x1:Math.min(n,s,i)-u,x2:Math.max(n,s,i)+u,y1:Math.min(a,l,o)-u,y2:Math.max(a,l,o)+u};return!(t<f.x1||t>f.x2||r<f.y1||r>f.y2)},MGt=function(t,r,n,a){n-=a;var i=r*r-4*t*n;if(i<0)return[];var o=Math.sqrt(i),s=2*t,l=(-r+o)/s,u=(-r-o)/s;return[l,u]},IGt=function(t,r,n,a,i){var o=1e-5;t===0&&(t=o),r/=t,n/=t,a/=t;var s,l,u,f,h,d,p,m;if(l=(3*n-r*r)/9,u=-(27*a)+r*(9*n-2*(r*r)),u/=54,s=l*l*l+u*u,i[1]=0,p=r/3,s>0){h=u+Math.sqrt(s),h=h<0?-Math.pow(-h,1/3):Math.pow(h,1/3),d=u-Math.sqrt(s),d=d<0?-Math.pow(-d,1/3):Math.pow(d,1/3),i[0]=-p+h+d,p+=(h+d)/2,i[4]=i[2]=-p,p=Math.sqrt(3)*(-d+h)/2,i[3]=p,i[5]=-p;return}if(i[5]=i[3]=0,s===0){m=u<0?-Math.pow(-u,1/3):Math.pow(u,1/3),i[0]=-p+2*m,i[4]=i[2]=-(m+p);return}l=-l,f=l*l*l,f=Math.acos(u/Math.sqrt(f)),m=2*Math.sqrt(l),i[0]=-p+m*Math.cos(f/3),i[2]=-p+m*Math.cos((f+2*Math.PI)/3),i[4]=-p+m*Math.cos((f+4*Math.PI)/3)},RGt=function(t,r,n,a,i,o,s,l){var u=1*n*n-4*n*i+2*n*s+4*i*i-4*i*s+s*s+a*a-4*a*o+2*a*l+4*o*o-4*o*l+l*l,f=1*9*n*i-3*n*n-3*n*s-6*i*i+3*i*s+9*a*o-3*a*a-3*a*l-6*o*o+3*o*l,h=1*3*n*n-6*n*i+n*s-n*t+2*i*i+2*i*t-s*t+3*a*a-6*a*o+a*l-a*r+2*o*o+2*o*r-l*r,d=1*n*i-n*n+n*t-i*t+a*o-a*a+a*r-o*r,p=[];IGt(u,f,h,d,p);for(var m=1e-7,g=[],v=0;v<6;v+=2)Math.abs(p[v+1])<m&&p[v]>=0&&p[v]<=1&&g.push(p[v]);g.push(1),g.push(0);for(var y=-1,b,_,k,w=0;w<g.length;w++)b=Math.pow(1-g[w],2)*n+2*(1-g[w])*g[w]*i+g[w]*g[w]*s,_=Math.pow(1-g[w],2)*a+2*(1-g[w])*g[w]*o+g[w]*g[w]*l,k=Math.pow(b-t,2)+Math.pow(_-r,2),y>=0?k<y&&(y=k):y=k;return y},NGt=function(t,r,n,a,i,o){var s=[t-n,r-a],l=[i-n,o-a],u=l[0]*l[0]+l[1]*l[1],f=s[0]*s[0]+s[1]*s[1],h=s[0]*l[0]+s[1]*l[1],d=h*h/u;return h<0?f:d>u?(t-i)*(t-i)+(r-o)*(r-o):f-d},zs=function(t,r,n){for(var a,i,o,s,l,u=0,f=0;f<n.length/2;f++)if(a=n[f*2],i=n[f*2+1],f+1<n.length/2?(o=n[(f+1)*2],s=n[(f+1)*2+1]):(o=n[(f+1-n.length/2)*2],s=n[(f+1-n.length/2)*2+1]),!(a==t&&o==t))if(a>=t&&t>=o||a<=t&&t<=o)l=(t-a)/(o-a)*(s-i)+i,l>r&&u++;else continue;return u%2!==0},nh=function(t,r,n,a,i,o,s,l,u){var f=new Array(n.length),h;l[0]!=null?(h=Math.atan(l[1]/l[0]),l[0]<0?h=h+Math.PI/2:h=-h-Math.PI/2):h=l;for(var d=Math.cos(-h),p=Math.sin(-h),m=0;m<f.length/2;m++)f[m*2]=o/2*(n[m*2]*d-n[m*2+1]*p),f[m*2+1]=s/2*(n[m*2+1]*d+n[m*2]*p),f[m*2]+=a,f[m*2+1]+=i;var g;if(u>0){var v=IC(f,-u);g=MC(v)}else g=f;return zs(t,r,g)},OGt=function(t,r,n,a,i,o,s,l){for(var u=new Array(n.length*2),f=0;f<l.length;f++){var h=l[f];u[f*4+0]=h.startX,u[f*4+1]=h.startY,u[f*4+2]=h.stopX,u[f*4+3]=h.stopY;var d=Math.pow(h.cx-t,2)+Math.pow(h.cy-r,2);if(d<=Math.pow(h.radius,2))return!0}return zs(t,r,u)},MC=function(t){for(var r=new Array(t.length/2),n,a,i,o,s,l,u,f,h=0;h<t.length/4;h++){n=t[h*4],a=t[h*4+1],i=t[h*4+2],o=t[h*4+3],h<t.length/4-1?(s=t[(h+1)*4],l=t[(h+1)*4+1],u=t[(h+1)*4+2],f=t[(h+1)*4+3]):(s=t[0],l=t[1],u=t[2],f=t[3]);var d=zd(n,a,i,o,s,l,u,f,!0);r[h*2]=d[0],r[h*2+1]=d[1]}return r},IC=function(t,r){for(var n=new Array(t.length*2),a,i,o,s,l=0;l<t.length/2;l++){a=t[l*2],i=t[l*2+1],l<t.length/2-1?(o=t[(l+1)*2],s=t[(l+1)*2+1]):(o=t[0],s=t[1]);var u=s-i,f=-(o-a),h=Math.sqrt(u*u+f*f),d=u/h,p=f/h;n[l*4]=a+d*r,n[l*4+1]=i+p*r,n[l*4+2]=o+d*r,n[l*4+3]=s+p*r}return n},FGt=function(t,r,n,a,i,o){var s=n-t,l=a-r;s/=i,l/=o;var u=Math.sqrt(s*s+l*l),f=u-1;if(f<0)return[];var h=f/u;return[(n-t)*h+t,(a-r)*h+r]},K0=function(t,r,n,a,i,o,s){return t-=i,r-=o,t/=n/2+s,r/=a/2+s,t*t+r*r<=1},s_=function(t,r,n,a,i,o,s){var l=[n-t,a-r],u=[t-i,r-o],f=l[0]*l[0]+l[1]*l[1],h=2*(u[0]*l[0]+u[1]*l[1]),d=u[0]*u[0]+u[1]*u[1]-s*s,p=h*h-4*f*d;if(p<0)return[];var m=(-h+Math.sqrt(p))/(2*f),g=(-h-Math.sqrt(p))/(2*f),v=Math.min(m,g),y=Math.max(m,g),b=[];if(v>=0&&v<=1&&b.push(v),y>=0&&y<=1&&b.push(y),b.length===0)return[];var _=b[0]*l[0]+t,k=b[0]*l[1]+r;if(b.length>1){if(b[0]==b[1])return[_,k];var w=b[1]*l[0]+t,T=b[1]*l[1]+r;return[_,k,w,T]}else return[_,k]},MN=function(t,r,n){return r<=t&&t<=n||n<=t&&t<=r?t:t<=r&&r<=n||n<=r&&r<=t?r:n},zd=function(t,r,n,a,i,o,s,l,u){var f=t-i,h=n-t,d=s-i,p=r-o,m=a-r,g=l-o,v=d*p-g*f,y=h*p-m*f,b=g*h-d*m;if(b!==0){var _=v/b,k=y/b,w=.001,T=0-w,S=1+w;return T<=_&&_<=S&&T<=k&&k<=S?[t+_*h,r+_*m]:u?[t+_*h,r+_*m]:[]}else return v===0||y===0?MN(t,n,s)===s?[s,l]:MN(t,n,i)===i?[i,o]:MN(i,s,n)===n?[n,a]:[]:[]},PGt=function(t,r,n,a,i){var o=[],s=a/2,l=i/2,u=r,f=n;o.push({x:u+s*t[0],y:f+l*t[1]});for(var h=1;h<t.length/2;h++)o.push({x:u+s*t[h*2],y:f+l*t[h*2+1]});return o},v_=function(t,r,n,a,i,o,s,l){var u=[],f,h=new Array(n.length),d=!0;o==null&&(d=!1);var p;if(d){for(var m=0;m<h.length/2;m++)h[m*2]=n[m*2]*o+a,h[m*2+1]=n[m*2+1]*s+i;if(l>0){var g=IC(h,-l);p=MC(g)}else p=h}else p=n;for(var v,y,b,_,k=0;k<p.length/2;k++)v=p[k*2],y=p[k*2+1],k<p.length/2-1?(b=p[(k+1)*2],_=p[(k+1)*2+1]):(b=p[0],_=p[1]),f=zd(t,r,a,i,v,y,b,_),f.length!==0&&u.push(f[0],f[1]);return u},BGt=function(t,r,n,a,i,o,s,l,u){var f=[],h,d=new Array(n.length*2);u.forEach(function(b,_){_===0?(d[d.length-2]=b.startX,d[d.length-1]=b.startY):(d[_*4-2]=b.startX,d[_*4-1]=b.startY),d[_*4]=b.stopX,d[_*4+1]=b.stopY,h=s_(t,r,a,i,b.cx,b.cy,b.radius),h.length!==0&&f.push(h[0],h[1])});for(var p=0;p<d.length/4;p++)h=zd(t,r,a,i,d[p*4],d[p*4+1],d[p*4+2],d[p*4+3],!1),h.length!==0&&f.push(h[0],h[1]);if(f.length>2){for(var m=[f[0],f[1]],g=Math.pow(m[0]-t,2)+Math.pow(m[1]-r,2),v=1;v<f.length/2;v++){var y=Math.pow(f[v*2]-t,2)+Math.pow(f[v*2+1]-r,2);y<=g&&(m[0]=f[v*2],m[1]=f[v*2+1],g=y)}return m}return f},oC=function(t,r,n){var a=[t[0]-r[0],t[1]-r[1]],i=Math.sqrt(a[0]*a[0]+a[1]*a[1]),o=(i-n)/i;return o<0&&(o=1e-5),[r[0]+o*a[0],r[1]+o*a[1]]},ns=function(t,r){var n=GO(t,r);return n=jpt(n),n},jpt=function(t){for(var r,n,a=t.length/2,i=1/0,o=1/0,s=-1/0,l=-1/0,u=0;u<a;u++)r=t[2*u],n=t[2*u+1],i=Math.min(i,r),s=Math.max(s,r),o=Math.min(o,n),l=Math.max(l,n);for(var f=2/(s-i),h=2/(l-o),d=0;d<a;d++)r=t[2*d]=t[2*d]*f,n=t[2*d+1]=t[2*d+1]*h,i=Math.min(i,r),s=Math.max(s,r),o=Math.min(o,n),l=Math.max(l,n);if(o<-1)for(var p=0;p<a;p++)n=t[2*p+1]=t[2*p+1]+(-1-o);return t},GO=function(t,r){var n=1/t*2*Math.PI,a=t%2===0?Math.PI/2+n/2:Math.PI/2;a+=r;for(var i=new Array(t*2),o,s=0;s<t;s++)o=s*n+a,i[2*s]=Math.cos(o),i[2*s+1]=Math.sin(-o);return i},Vd=function(t,r){return Math.min(t/4,r/4,8)},Kpt=function(t,r){return Math.min(t/10,r/10,8)},xF=function(){return 8},$Gt=function(t,r,n){return[t-2*r+n,2*(r-t),t]},VO=function(t,r){return{heightOffset:Math.min(15,.05*r),widthOffset:Math.min(100,.25*t),ctrlPtOffsetPct:.05}};zGt=lo({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(t){return 1}}),qGt={pageRank:function(t){for(var r=zGt(t),n=r.dampingFactor,a=r.precision,i=r.iterations,o=r.weight,s=this._private.cy,l=this.byGroup(),u=l.nodes,f=l.edges,h=u.length,d=h*h,p=f.length,m=new Array(d),g=new Array(h),v=(1-n)/h,y=0;y<h;y++){for(var b=0;b<h;b++){var _=y*h+b;m[_]=0}g[y]=0}for(var k=0;k<p;k++){var w=f[k],T=w.data("source"),S=w.data("target");if(T!==S){var C=u.indexOfId(T),M=u.indexOfId(S),N=o(w),L=M*h+C;m[L]+=N,g[C]+=N}}for(var E=1/h+v,A=0;A<h;A++)if(g[A]===0)for(var D=0;D<h;D++){var R=D*h+A;m[R]=E}else for(var I=0;I<h;I++){var O=I*h+A;m[O]=m[O]/g[A]+v}for(var F=new Array(h),P=new Array(h),q,$=0;$<h;$++)F[$]=1;for(var W=0;W<i;W++){for(var X=0;X<h;X++)P[X]=0;for(var tt=0;tt<h;tt++)for(var Y=0;Y<h;Y++){var ot=tt*h+Y;P[tt]+=m[ot]*F[Y]}_Gt(P),q=F,F=P,P=q;for(var Z=0,ct=0;ct<h;ct++){var rt=q[ct]-F[ct];Z+=rt*rt}if(Z<a)break}var et={rank:function(j){return j=s.collection(j)[0],F[u.indexOf(j)]}};return et}},wht=lo({root:null,weight:function(t){return 1},directed:!1,alpha:0}),K1={degreeCentralityNormalized:function(t){t=wht(t);var r=this.cy(),n=this.nodes(),a=n.length;if(t.directed){for(var f={},h={},d=0,p=0,m=0;m<a;m++){var g=n[m],v=g.id();t.root=g;var y=this.degreeCentrality(t);d<y.indegree&&(d=y.indegree),p<y.outdegree&&(p=y.outdegree),f[v]=y.indegree,h[v]=y.outdegree}return{indegree:function(_){return d==0?0:(Ye(_)&&(_=r.filter(_)),f[_.id()]/d)},outdegree:function(_){return p===0?0:(Ye(_)&&(_=r.filter(_)),h[_.id()]/p)}}}else{for(var i={},o=0,s=0;s<a;s++){var l=n[s];t.root=l;var u=this.degreeCentrality(t);o<u.degree&&(o=u.degree),i[l.id()]=u.degree}return{degree:function(_){return o===0?0:(Ye(_)&&(_=r.filter(_)),i[_.id()]/o)}}}},degreeCentrality:function(t){t=wht(t);var r=this.cy(),n=this,a=t,i=a.root,o=a.weight,s=a.directed,l=a.alpha;if(i=r.collection(i)[0],s){for(var p=i.connectedEdges(),m=p.filter(function(T){return T.target().same(i)&&n.has(T)}),g=p.filter(function(T){return T.source().same(i)&&n.has(T)}),v=m.length,y=g.length,b=0,_=0,k=0;k<m.length;k++)b+=o(m[k]);for(var w=0;w<g.length;w++)_+=o(g[w]);return{indegree:Math.pow(v,1-l)*Math.pow(b,l),outdegree:Math.pow(y,1-l)*Math.pow(_,l)}}else{for(var u=i.connectedEdges().intersection(n),f=u.length,h=0,d=0;d<u.length;d++)h+=o(u[d]);return{degree:Math.pow(f,1-l)*Math.pow(h,l)}}}};K1.dc=K1.degreeCentrality;K1.dcn=K1.degreeCentralityNormalised=K1.degreeCentralityNormalized;Tht=lo({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Q1={closenessCentralityNormalized:function(t){for(var r=Tht(t),n=r.harmonic,a=r.weight,i=r.directed,o=this.cy(),s={},l=0,u=this.nodes(),f=this.floydWarshall({weight:a,directed:i}),h=0;h<u.length;h++){for(var d=0,p=u[h],m=0;m<u.length;m++)if(h!==m){var g=f.distance(p,u[m]);n?d+=1/g:d+=g}n||(d=1/d),l<d&&(l=d),s[p.id()]=d}return{closeness:function(y){return l==0?0:(Ye(y)?y=o.filter(y)[0].id():y=y.id(),s[y]/l)}}},closenessCentrality:function(t){var r=Tht(t),n=r.root,a=r.weight,i=r.directed,o=r.harmonic;n=this.filter(n)[0];for(var s=this.dijkstra({root:n,weight:a,directed:i}),l=0,u=this.nodes(),f=0;f<u.length;f++){var h=u[f];if(!h.same(n)){var d=s.distanceTo(h);o?l+=1/d:l+=d}}return o?l:1/l}};Q1.cc=Q1.closenessCentrality;Q1.ccn=Q1.closenessCentralityNormalised=Q1.closenessCentralityNormalized;UGt=lo({weight:null,directed:!1}),HO={betweennessCentrality:function(t){for(var r=UGt(t),n=r.directed,a=r.weight,i=a!=null,o=this.cy(),s=this.nodes(),l={},u={},f=0,h={set:function(_,k){u[_]=k,k>f&&(f=k)},get:function(_){return u[_]}},d=0;d<s.length;d++){var p=s[d],m=p.id();n?l[m]=p.outgoers().nodes():l[m]=p.openNeighborhood().nodes(),h.set(m,0)}for(var g=function(){for(var _=s[v].id(),k=[],w={},T={},S={},C=new A_(function(tt,Y){return S[tt]-S[Y]}),M=0;M<s.length;M++){var N=s[M].id();w[N]=[],T[N]=0,S[N]=1/0}for(T[_]=1,S[_]=0,C.push(_);!C.empty();){var L=C.pop();if(k.push(L),i)for(var E=0;E<l[L].length;E++){var A=l[L][E],D=o.getElementById(L),R=void 0;D.edgesTo(A).length>0?R=D.edgesTo(A)[0]:R=A.edgesTo(D)[0];var I=a(R);A=A.id(),S[A]>S[L]+I&&(S[A]=S[L]+I,C.nodes.indexOf(A)<0?C.push(A):C.updateItem(A),T[A]=0,w[A]=[]),S[A]==S[L]+I&&(T[A]=T[A]+T[L],w[A].push(L))}else for(var O=0;O<l[L].length;O++){var F=l[L][O].id();S[F]==1/0&&(C.push(F),S[F]=S[L]+1),S[F]==S[L]+1&&(T[F]=T[F]+T[L],w[F].push(L))}}for(var P={},q=0;q<s.length;q++)P[s[q].id()]=0;for(;k.length>0;){for(var $=k.pop(),W=0;W<w[$].length;W++){var X=w[$][W];P[X]=P[X]+T[X]/T[$]*(1+P[$])}$!=s[v].id()&&h.set($,h.get($)+P[$])}},v=0;v<s.length;v++)g();var y={betweenness:function(_){var k=o.collection(_).id();return h.get(k)},betweennessNormalized:function(_){if(f==0)return 0;var k=o.collection(_).id();return h.get(k)/f}};return y.betweennessNormalised=y.betweennessNormalized,y}};HO.bc=HO.betweennessCentrality;WGt=lo({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(e){return 1}]}),GGt=function(t){return WGt(t)},VGt=function(t,r){for(var n=0,a=0;a<r.length;a++)n+=r[a](t);return n},HGt=function(t,r,n){for(var a=0;a<r;a++)t[a*r+a]=n},Qpt=function(t,r){for(var n,a=0;a<r;a++){n=0;for(var i=0;i<r;i++)n+=t[i*r+a];for(var o=0;o<r;o++)t[o*r+a]=t[o*r+a]/n}},YGt=function(t,r,n){for(var a=new Array(n*n),i=0;i<n;i++){for(var o=0;o<n;o++)a[i*n+o]=0;for(var s=0;s<n;s++)for(var l=0;l<n;l++)a[i*n+l]+=t[i*n+s]*r[s*n+l]}return a},XGt=function(t,r,n){for(var a=t.slice(0),i=1;i<n;i++)t=YGt(t,a,r);return t},jGt=function(t,r,n){for(var a=new Array(r*r),i=0;i<r*r;i++)a[i]=Math.pow(t[i],n);return Qpt(a,r),a},KGt=function(t,r,n,a){for(var i=0;i<n;i++){var o=Math.round(t[i]*Math.pow(10,a))/Math.pow(10,a),s=Math.round(r[i]*Math.pow(10,a))/Math.pow(10,a);if(o!==s)return!1}return!0},QGt=function(t,r,n,a){for(var i=[],o=0;o<r;o++){for(var s=[],l=0;l<r;l++)Math.round(t[o*r+l]*1e3)/1e3>0&&s.push(n[l]);s.length!==0&&i.push(a.collection(s))}return i},ZGt=function(t,r){for(var n=0;n<t.length;n++)if(!r[n]||t[n].id()!==r[n].id())return!1;return!0},JGt=function(t){for(var r=0;r<t.length;r++)for(var n=0;n<t.length;n++)r!=n&&ZGt(t[r],t[n])&&t.splice(n,1);return t},Eht=function(t){for(var r=this.nodes(),n=this.edges(),a=this.cy(),i=GGt(t),o={},s=0;s<r.length;s++)o[r[s].id()]=s;for(var l=r.length,u=l*l,f=new Array(u),h,d=0;d<u;d++)f[d]=0;for(var p=0;p<n.length;p++){var m=n[p],g=o[m.source().id()],v=o[m.target().id()],y=VGt(m,i.attributes);f[g*l+v]+=y,f[v*l+g]+=y}HGt(f,l,i.multFactor),Qpt(f,l);for(var b=!0,_=0;b&&_<i.maxIterations;)b=!1,h=XGt(f,l,i.expandFactor),f=jGt(h,l,i.inflateFactor),KGt(f,h,u,4)||(b=!0),_++;var k=QGt(f,l,r,a);return k=JGt(k),k},tVt={markovClustering:Eht,mcl:Eht},eVt=function(t){return t},Zpt=function(t,r){return Math.abs(r-t)},kht=function(t,r,n){return t+Zpt(r,n)},Cht=function(t,r,n){return t+Math.pow(n-r,2)},rVt=function(t){return Math.sqrt(t)},nVt=function(t,r,n){return Math.max(t,Zpt(r,n))},t_=function(t,r,n,a,i){for(var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:eVt,s=a,l,u,f=0;f<t;f++)l=r(f),u=n(f),s=i(s,l,u);return o(s)},tv={euclidean:function(t,r,n){return t>=2?t_(t,r,n,0,Cht,rVt):t_(t,r,n,0,kht)},squaredEuclidean:function(t,r,n){return t_(t,r,n,0,Cht)},manhattan:function(t,r,n){return t_(t,r,n,0,kht)},max:function(t,r,n){return t_(t,r,n,-1/0,nVt)}};tv["squared-euclidean"]=tv.squaredEuclidean;tv.squaredeuclidean=tv.squaredEuclidean;aVt=lo({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),bF=function(t){return aVt(t)},RC=function(t,r,n,a,i){var o=i!=="kMedoids",s=o?function(h){return n[h]}:function(h){return a[h](n)},l=function(d){return a[d](r)},u=n,f=r;return VC(t,a.length,s,l,u,f)},RN=function(t,r,n){for(var a=n.length,i=new Array(a),o=new Array(a),s=new Array(r),l=null,u=0;u<a;u++)i[u]=t.min(n[u]).value,o[u]=t.max(n[u]).value;for(var f=0;f<r;f++){l=[];for(var h=0;h<a;h++)l[h]=Math.random()*(o[h]-i[h])+i[h];s[f]=l}return s},Jpt=function(t,r,n,a,i){for(var o=1/0,s=0,l=0;l<r.length;l++){var u=RC(n,t,r[l],a,i);u<o&&(o=u,s=l)}return s},t0t=function(t,r,n){for(var a=[],i=null,o=0;o<r.length;o++)i=r[o],n[i.id()]===t&&a.push(i);return a},iVt=function(t,r,n){return Math.abs(r-t)<=n},oVt=function(t,r,n){for(var a=0;a<t.length;a++)for(var i=0;i<t[a].length;i++){var o=Math.abs(t[a][i]-r[a][i]);if(o>n)return!1}return!0},sVt=function(t,r,n){for(var a=0;a<n;a++)if(t===r[a])return!0;return!1},Sht=function(t,r){var n=new Array(r);if(t.length<50)for(var a=0;a<r;a++){for(var i=t[Math.floor(Math.random()*t.length)];sVt(i,n,a);)i=t[Math.floor(Math.random()*t.length)];n[a]=i}else for(var o=0;o<r;o++)n[o]=t[Math.floor(Math.random()*t.length)];return n},Dht=function(t,r,n){for(var a=0,i=0;i<r.length;i++)a+=RC("manhattan",r[i],t,n,"kMedoids");return a},lVt=function(t){var r=this.cy(),n=this.nodes(),a=null,i=bF(t),o=new Array(i.k),s={},l;i.testMode?typeof i.testCentroids=="number"?(i.testCentroids,l=RN(n,i.k,i.attributes)):xi(i.testCentroids)==="object"?l=i.testCentroids:l=RN(n,i.k,i.attributes):l=RN(n,i.k,i.attributes);for(var u=!0,f=0;u&&f<i.maxIterations;){for(var h=0;h<n.length;h++)a=n[h],s[a.id()]=Jpt(a,l,i.distance,i.attributes,"kMeans");u=!1;for(var d=0;d<i.k;d++){var p=t0t(d,n,s);if(p.length!==0){for(var m=i.attributes.length,g=l[d],v=new Array(m),y=new Array(m),b=0;b<m;b++){y[b]=0;for(var _=0;_<p.length;_++)a=p[_],y[b]+=i.attributes[b](a);v[b]=y[b]/p.length,iVt(v[b],g[b],i.sensitivityThreshold)||(u=!0)}l[d]=v,o[d]=r.collection(p)}}f++}return o},uVt=function(t){var r=this.cy(),n=this.nodes(),a=null,i=bF(t),o=new Array(i.k),s,l={},u,f=new Array(i.k);i.testMode?typeof i.testCentroids=="number"||(xi(i.testCentroids)==="object"?s=i.testCentroids:s=Sht(n,i.k)):s=Sht(n,i.k);for(var h=!0,d=0;h&&d<i.maxIterations;){for(var p=0;p<n.length;p++)a=n[p],l[a.id()]=Jpt(a,s,i.distance,i.attributes,"kMedoids");h=!1;for(var m=0;m<s.length;m++){var g=t0t(m,n,l);if(g.length!==0){f[m]=Dht(s[m],g,i.attributes);for(var v=0;v<g.length;v++)u=Dht(g[v],g,i.attributes),u<f[m]&&(f[m]=u,s[m]=g[v],h=!0);o[m]=r.collection(g)}}d++}return o},cVt=function(t,r,n,a,i){for(var o,s,l=0;l<r.length;l++)for(var u=0;u<t.length;u++)a[l][u]=Math.pow(n[l][u],i.m);for(var f=0;f<t.length;f++)for(var h=0;h<i.attributes.length;h++){o=0,s=0;for(var d=0;d<r.length;d++)o+=a[d][f]*i.attributes[h](r[d]),s+=a[d][f];t[f][h]=o/s}},fVt=function(t,r,n,a,i){for(var o=0;o<t.length;o++)r[o]=t[o].slice();for(var s,l,u,f=2/(i.m-1),h=0;h<n.length;h++)for(var d=0;d<a.length;d++){s=0;for(var p=0;p<n.length;p++)l=RC(i.distance,a[d],n[h],i.attributes,"cmeans"),u=RC(i.distance,a[d],n[p],i.attributes,"cmeans"),s+=Math.pow(l/u,f);t[d][h]=1/s}},hVt=function(t,r,n,a){for(var i=new Array(n.k),o=0;o<i.length;o++)i[o]=[];for(var s,l,u=0;u<r.length;u++){s=-1/0,l=-1;for(var f=0;f<r[0].length;f++)r[u][f]>s&&(s=r[u][f],l=f);i[l].push(t[u])}for(var h=0;h<i.length;h++)i[h]=a.collection(i[h]);return i},Aht=function(t){var r=this.cy(),n=this.nodes(),a=bF(t),i,o,s,l,u;l=new Array(n.length);for(var f=0;f<n.length;f++)l[f]=new Array(a.k);s=new Array(n.length);for(var h=0;h<n.length;h++)s[h]=new Array(a.k);for(var d=0;d<n.length;d++){for(var p=0,m=0;m<a.k;m++)s[d][m]=Math.random(),p+=s[d][m];for(var g=0;g<a.k;g++)s[d][g]=s[d][g]/p}o=new Array(a.k);for(var v=0;v<a.k;v++)o[v]=new Array(a.attributes.length);u=new Array(n.length);for(var y=0;y<n.length;y++)u[y]=new Array(a.k);for(var b=!0,_=0;b&&_<a.maxIterations;)b=!1,cVt(o,n,s,u,a),fVt(s,l,o,n,a),oVt(s,l,a.sensitivityThreshold)||(b=!0),_++;return i=hVt(n,s,a,r),{clusters:i,degreeOfMembership:s}},dVt={kMeans:lVt,kMedoids:uVt,fuzzyCMeans:Aht,fcm:Aht},pVt=lo({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),mVt={single:"min",complete:"max"},gVt=function(t){var r=pVt(t),n=mVt[r.linkage];return n!=null&&(r.linkage=n),r},Lht=function(t,r,n,a,i){for(var o=0,s=1/0,l,u=i.attributes,f=function(M,N){return VC(i.distance,u.length,function(L){return u[L](M)},function(L){return u[L](N)},M,N)},h=0;h<t.length;h++){var d=t[h].key,p=n[d][a[d]];p<s&&(o=d,s=p)}if(i.mode==="threshold"&&s>=i.threshold||i.mode==="dendrogram"&&t.length===1)return!1;var m=r[o],g=r[a[o]],v;i.mode==="dendrogram"?v={left:m,right:g,key:m.key}:v={value:m.value.concat(g.value),key:m.key},t[m.index]=v,t.splice(g.index,1),r[m.key]=v;for(var y=0;y<t.length;y++){var b=t[y];m.key===b.key?l=1/0:i.linkage==="min"?(l=n[m.key][b.key],n[m.key][b.key]>n[g.key][b.key]&&(l=n[g.key][b.key])):i.linkage==="max"?(l=n[m.key][b.key],n[m.key][b.key]<n[g.key][b.key]&&(l=n[g.key][b.key])):i.linkage==="mean"?l=(n[m.key][b.key]*m.size+n[g.key][b.key]*g.size)/(m.size+g.size):i.mode==="dendrogram"?l=f(b.value,m.value):l=f(b.value[0],m.value[0]),n[m.key][b.key]=n[b.key][m.key]=l}for(var _=0;_<t.length;_++){var k=t[_].key;if(a[k]===m.key||a[k]===g.key){for(var w=k,T=0;T<t.length;T++){var S=t[T].key;n[k][S]<n[k][w]&&(w=S)}a[k]=w}t[_].index=_}return m.key=g.key=m.index=g.index=null,!0},Y1=function(t,r,n){t&&(t.value?r.push(t.value):(t.left&&Y1(t.left,r),t.right&&Y1(t.right,r)))},YO=function(t,r){if(!t)return"";if(t.left&&t.right){var n=YO(t.left,r),a=YO(t.right,r),i=r.add({group:"nodes",data:{id:n+","+a}});return r.add({group:"edges",data:{source:n,target:i.id()}}),r.add({group:"edges",data:{source:a,target:i.id()}}),i.id()}else if(t.value)return t.value.id()},XO=function(t,r,n){if(!t)return[];var a=[],i=[],o=[];return r===0?(t.left&&Y1(t.left,a),t.right&&Y1(t.right,i),o=a.concat(i),[n.collection(o)]):r===1?t.value?[n.collection(t.value)]:(t.left&&Y1(t.left,a),t.right&&Y1(t.right,i),[n.collection(a),n.collection(i)]):t.value?[n.collection(t.value)]:(t.left&&(a=XO(t.left,r-1,n)),t.right&&(i=XO(t.right,r-1,n)),a.concat(i))},Mht=function(t){for(var r=this.cy(),n=this.nodes(),a=gVt(t),i=a.attributes,o=function(_,k){return VC(a.distance,i.length,function(w){return i[w](_)},function(w){return i[w](k)},_,k)},s=[],l=[],u=[],f=[],h=0;h<n.length;h++){var d={value:a.mode==="dendrogram"?n[h]:[n[h]],key:h,index:h};s[h]=d,f[h]=d,l[h]=[],u[h]=0}for(var p=0;p<s.length;p++)for(var m=0;m<=p;m++){var g=void 0;a.mode==="dendrogram"?g=p===m?1/0:o(s[p].value,s[m].value):g=p===m?1/0:o(s[p].value[0],s[m].value[0]),l[p][m]=g,l[m][p]=g,g<l[p][u[p]]&&(u[p]=m)}for(var v=Lht(s,f,l,u,a);v;)v=Lht(s,f,l,u,a);var y;return a.mode==="dendrogram"?(y=XO(s[0],a.dendrogramDepth,r),a.addDendrogram&&YO(s[0],r)):(y=new Array(s.length),s.forEach(function(b,_){b.key=b.index=null,y[_]=r.collection(b.value)})),y},vVt={hierarchicalClustering:Mht,hca:Mht},yVt=lo({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),xVt=function(t){var r=t.damping,n=t.preference;.5<=r&&r<1||_a("Damping must range on [0.5, 1).  Got: ".concat(r));var a=["median","mean","min","max"];return a.some(function(i){return i===n})||be(n)||_a("Preference must be one of [".concat(a.map(function(i){return"'".concat(i,"'")}).join(", "),"] or a number.  Got: ").concat(n)),yVt(t)},bVt=function(t,r,n,a){var i=function(s,l){return a[l](s)};return-VC(t,a.length,function(o){return i(r,o)},function(o){return i(n,o)},r,n)},_Vt=function(t,r){var n=null;return r==="median"?n=xGt(t):r==="mean"?n=yGt(t):r==="min"?n=gGt(t):r==="max"?n=vGt(t):n=r,n},wVt=function(t,r,n){for(var a=[],i=0;i<t;i++)r[i*t+i]+n[i*t+i]>0&&a.push(i);return a},Iht=function(t,r,n){for(var a=[],i=0;i<t;i++){for(var o=-1,s=-1/0,l=0;l<n.length;l++){var u=n[l];r[i*t+u]>s&&(o=u,s=r[i*t+u])}o>0&&a.push(o)}for(var f=0;f<n.length;f++)a[n[f]]=n[f];return a},TVt=function(t,r,n){for(var a=Iht(t,r,n),i=0;i<n.length;i++){for(var o=[],s=0;s<a.length;s++)a[s]===n[i]&&o.push(s);for(var l=-1,u=-1/0,f=0;f<o.length;f++){for(var h=0,d=0;d<o.length;d++)h+=r[o[d]*t+o[f]];h>u&&(l=f,u=h)}n[i]=o[l]}return a=Iht(t,r,n),a},Rht=function(t){for(var r=this.cy(),n=this.nodes(),a=xVt(t),i={},o=0;o<n.length;o++)i[n[o].id()]=o;var s,l,u,f,h,d;s=n.length,l=s*s,u=new Array(l);for(var p=0;p<l;p++)u[p]=-1/0;for(var m=0;m<s;m++)for(var g=0;g<s;g++)m!==g&&(u[m*s+g]=bVt(a.distance,n[m],n[g],a.attributes));f=_Vt(u,a.preference);for(var v=0;v<s;v++)u[v*s+v]=f;h=new Array(l);for(var y=0;y<l;y++)h[y]=0;d=new Array(l);for(var b=0;b<l;b++)d[b]=0;for(var _=new Array(s),k=new Array(s),w=new Array(s),T=0;T<s;T++)_[T]=0,k[T]=0,w[T]=0;for(var S=new Array(s*a.minIterations),C=0;C<S.length;C++)S[C]=0;var M;for(M=0;M<a.maxIterations;M++){for(var N=0;N<s;N++){for(var L=-1/0,E=-1/0,A=-1,D=0,R=0;R<s;R++)_[R]=h[N*s+R],D=d[N*s+R]+u[N*s+R],D>=L?(E=L,L=D,A=R):D>E&&(E=D);for(var I=0;I<s;I++)h[N*s+I]=(1-a.damping)*(u[N*s+I]-L)+a.damping*_[I];h[N*s+A]=(1-a.damping)*(u[N*s+A]-E)+a.damping*_[A]}for(var O=0;O<s;O++){for(var F=0,P=0;P<s;P++)_[P]=d[P*s+O],k[P]=Math.max(0,h[P*s+O]),F+=k[P];F-=k[O],k[O]=h[O*s+O],F+=k[O];for(var q=0;q<s;q++)d[q*s+O]=(1-a.damping)*Math.min(0,F-k[q])+a.damping*_[q];d[O*s+O]=(1-a.damping)*(F-k[O])+a.damping*_[O]}for(var $=0,W=0;W<s;W++){var X=d[W*s+W]+h[W*s+W]>0?1:0;S[M%a.minIterations*s+W]=X,$+=X}if($>0&&(M>=a.minIterations-1||M==a.maxIterations-1)){for(var tt=0,Y=0;Y<s;Y++){w[Y]=0;for(var ot=0;ot<a.minIterations;ot++)w[Y]+=S[ot*s+Y];(w[Y]===0||w[Y]===a.minIterations)&&tt++}if(tt===s)break}}for(var Z=wVt(s,h,d),ct=TVt(s,u,Z),rt={},et=0;et<Z.length;et++)rt[Z[et]]=[];for(var Q=0;Q<n.length;Q++){var j=i[n[Q].id()],it=ct[j];it!=null&&rt[it].push(n[Q])}for(var K=new Array(Z.length),dt=0;dt<Z.length;dt++)K[dt]=r.collection(rt[Z[dt]]);return K},EVt={affinityPropagation:Rht,ap:Rht},kVt=lo({root:void 0,directed:!1}),CVt={hierholzer:function(t){if(!un(t)){var r=arguments;t={root:r[0],directed:r[1]}}var n=kVt(t),a=n.root,i=n.directed,o=this,s=!1,l,u,f;a&&(f=Ye(a)?this.filter(a)[0].id():a[0].id());var h={},d={};i?o.forEach(function(b){var _=b.id();if(b.isNode()){var k=b.indegree(!0),w=b.outdegree(!0),T=k-w,S=w-k;T==1?l?s=!0:l=_:S==1?u?s=!0:u=_:(S>1||T>1)&&(s=!0),h[_]=[],b.outgoers().forEach(function(C){C.isEdge()&&h[_].push(C.id())})}else d[_]=[void 0,b.target().id()]}):o.forEach(function(b){var _=b.id();if(b.isNode()){var k=b.degree(!0);k%2&&(l?u?s=!0:u=_:l=_),h[_]=[],b.connectedEdges().forEach(function(w){return h[_].push(w.id())})}else d[_]=[b.source().id(),b.target().id()]});var p={found:!1,trail:void 0};if(s)return p;if(u&&l)if(i){if(f&&u!=f)return p;f=u}else{if(f&&u!=f&&l!=f)return p;f||(f=u)}else f||(f=o[0].id());var m=function(_){for(var k=_,w=[_],T,S,C;h[k].length;)T=h[k].shift(),S=d[T][0],C=d[T][1],k!=C?(h[C]=h[C].filter(function(M){return M!=T}),k=C):!i&&k!=S&&(h[S]=h[S].filter(function(M){return M!=T}),k=S),w.unshift(T),w.unshift(k);return w},g=[],v=[];for(v=m(f);v.length!=1;)h[v[0]].length==0?(g.unshift(o.getElementById(v.shift())),g.unshift(o.getElementById(v.shift()))):v=m(v.shift()).concat(v);g.unshift(o.getElementById(v.shift()));for(var y in h)if(h[y].length)return p;return p.found=!0,p.trail=this.spawn(g,!0),p}},sC=function(){var t=this,r={},n=0,a=0,i=[],o=[],s={},l=function(d,p){for(var m=o.length-1,g=[],v=t.spawn();o[m].x!=d||o[m].y!=p;)g.push(o.pop().edge),m--;g.push(o.pop().edge),g.forEach(function(y){var b=y.connectedNodes().intersection(t);v.merge(y),b.forEach(function(_){var k=_.id(),w=_.connectedEdges().intersection(t);v.merge(_),r[k].cutVertex?v.merge(w.filter(function(T){return T.isLoop()})):v.merge(w)})}),i.push(v)},u=function(d,p,m){d===m&&(a+=1),r[p]={id:n,low:n++,cutVertex:!1};var g=t.getElementById(p).connectedEdges().intersection(t);if(g.size()===0)i.push(t.spawn(t.getElementById(p)));else{var v,y,b,_;g.forEach(function(k){v=k.source().id(),y=k.target().id(),b=v===p?y:v,b!==m&&(_=k.id(),s[_]||(s[_]=!0,o.push({x:p,y:b,edge:k})),b in r?r[p].low=Math.min(r[p].low,r[b].id):(u(d,b,p),r[p].low=Math.min(r[p].low,r[b].low),r[p].id<=r[b].low&&(r[p].cutVertex=!0,l(p,b))))})}};t.forEach(function(h){if(h.isNode()){var d=h.id();d in r||(a=0,u(d,d),r[d].cutVertex=a>1)}});var f=Object.keys(r).filter(function(h){return r[h].cutVertex}).map(function(h){return t.getElementById(h)});return{cut:t.spawn(f),components:i}},SVt={hopcroftTarjanBiconnected:sC,htbc:sC,htb:sC,hopcroftTarjanBiconnectedComponents:sC},lC=function(){var t=this,r={},n=0,a=[],i=[],o=t.spawn(t),s=function(u){i.push(u),r[u]={index:n,low:n++,explored:!1};var f=t.getElementById(u).connectedEdges().intersection(t);if(f.forEach(function(g){var v=g.target().id();v!==u&&(v in r||s(v),r[v].explored||(r[u].low=Math.min(r[u].low,r[v].low)))}),r[u].index===r[u].low){for(var h=t.spawn();;){var d=i.pop();if(h.merge(t.getElementById(d)),r[d].low=r[u].index,r[d].explored=!0,d===u)break}var p=h.edgesWith(h),m=h.merge(p);a.push(m),o=o.difference(m)}};return t.forEach(function(l){if(l.isNode()){var u=l.id();u in r||s(u)}}),{cut:o,components:a}},DVt={tarjanStronglyConnected:lC,tsc:lC,tscc:lC,tarjanStronglyConnectedComponents:lC},e0t={};[m_,aGt,iGt,sGt,uGt,fGt,pGt,qGt,K1,Q1,HO,tVt,dVt,vVt,EVt,CVt,SVt,DVt].forEach(function(e){Ze(e0t,e)});r0t=0,n0t=1,a0t=2,Ou=function(t){if(!(this instanceof Ou))return new Ou(t);this.id="Thenable/1.0.7",this.state=r0t,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof t=="function"&&t.call(this,this.fulfill.bind(this),this.reject.bind(this))};Ou.prototype={fulfill:function(t){return Nht(this,n0t,"fulfillValue",t)},reject:function(t){return Nht(this,a0t,"rejectReason",t)},then:function(t,r){var n=this,a=new Ou;return n.onFulfilled.push(Fht(t,a,"fulfill")),n.onRejected.push(Fht(r,a,"reject")),i0t(n),a.proxy}};Nht=function(t,r,n,a){return t.state===r0t&&(t.state=r,t[n]=a,i0t(t)),t},i0t=function(t){t.state===n0t?Oht(t,"onFulfilled",t.fulfillValue):t.state===a0t&&Oht(t,"onRejected",t.rejectReason)},Oht=function(t,r,n){if(t[r].length!==0){var a=t[r];t[r]=[];var i=function(){for(var s=0;s<a.length;s++)a[s](n)};typeof setImmediate=="function"?setImmediate(i):setTimeout(i,0)}},Fht=function(t,r,n){return function(a){if(typeof t!="function")r[n].call(r,a);else{var i;try{i=t(a)}catch(o){r.reject(o);return}o0t(r,i)}}},o0t=function(t,r){if(t===r||t.proxy===r){t.reject(new TypeError("cannot resolve promise with itself"));return}var n;if(xi(r)==="object"&&r!==null||typeof r=="function")try{n=r.then}catch(i){t.reject(i);return}if(typeof n=="function"){var a=!1;try{n.call(r,function(i){a||(a=!0,i===r?t.reject(new TypeError("circular thenable chain")):o0t(t,i))},function(i){a||(a=!0,t.reject(i))})}catch(i){a||t.reject(i)}return}t.fulfill(r)};Ou.all=function(e){return new Ou(function(t,r){for(var n=new Array(e.length),a=0,i=function(l,u){n[l]=u,a++,a===e.length&&t(n)},o=0;o<e.length;o++)(function(s){var l=e[s],u=l!=null&&l.then!=null;if(u)l.then(function(h){i(s,h)},function(h){r(h)});else{var f=l;i(s,f)}})(o)})};Ou.resolve=function(e){return new Ou(function(t,r){t(e)})};Ou.reject=function(e){return new Ou(function(t,r){r(e)})};nv=typeof Promise<"u"?Promise:Ou,jO=function(t,r,n){var a=cF(t),i=!a,o=this._private=Ze({duration:1e3},r,n);if(o.target=t,o.style=o.style||o.css,o.started=!1,o.playing=!1,o.hooked=!1,o.applying=!1,o.progress=0,o.completes=[],o.frames=[],o.complete&&Fa(o.complete)&&o.completes.push(o.complete),i){var s=t.position();o.startPosition=o.startPosition||{x:s.x,y:s.y},o.startStyle=o.startStyle||t.cy().style().getAnimationStartStyle(t,o.style)}if(a){var l=t.pan();o.startPan={x:l.x,y:l.y},o.startZoom=t.zoom()}this.length=1,this[0]=this},J0=jO.prototype;Ze(J0,{instanceString:function(){return"animation"},hook:function(){var t=this._private;if(!t.hooked){var r,n=t.target._private.animation;t.queue?r=n.queue:r=n.current,r.push(this),cl(t.target)&&t.target.cy().addToAnimationPool(t.target),t.hooked=!0}return this},play:function(){var t=this._private;return t.progress===1&&(t.progress=0),t.playing=!0,t.started=!1,t.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var t=this._private;return t.applying=!0,t.started=!1,t.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var t=this._private;return t.playing=!1,t.started=!1,this},stop:function(){var t=this._private;return t.playing=!1,t.started=!1,t.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(t){var r=this._private;return t===void 0?r.progress*r.duration:this.progress(t/r.duration)},progress:function(t){var r=this._private,n=r.playing;return t===void 0?r.progress:(n&&this.pause(),r.progress=t,r.started=!1,n&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var t=this._private,r=t.playing;r&&this.pause(),t.progress=1-t.progress,t.started=!1;var n=function(u,f){var h=t[u];h!=null&&(t[u]=t[f],t[f]=h)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),t.style)for(var a=0;a<t.style.length;a++){var i=t.style[a],o=i.name,s=t.startStyle[o];t.startStyle[o]=i,t.style[a]=s}return r&&this.play(),this},promise:function(t){var r=this._private,n;switch(t){case"frame":n=r.frames;break;default:case"complete":case"completed":n=r.completes}return new nv(function(a,i){n.push(function(){a()})})}});J0.complete=J0.completed;J0.run=J0.play;J0.running=J0.playing;AVt={animated:function(){return function(){var r=this,n=r.length!==void 0,a=n?r:[r],i=this._private.cy||this;if(!i.styleEnabled())return!1;var o=a[0];if(o)return o._private.animation.current.length>0}},clearQueue:function(){return function(){var r=this,n=r.length!==void 0,a=n?r:[r],i=this._private.cy||this;if(!i.styleEnabled())return this;for(var o=0;o<a.length;o++){var s=a[o];s._private.animation.queue=[]}return this}},delay:function(){return function(r,n){var a=this._private.cy||this;return a.styleEnabled()?this.animate({delay:r,duration:r,complete:n}):this}},delayAnimation:function(){return function(r,n){var a=this._private.cy||this;return a.styleEnabled()?this.animation({delay:r,duration:r,complete:n}):this}},animation:function(){return function(r,n){var a=this,i=a.length!==void 0,o=i?a:[a],s=this._private.cy||this,l=!i,u=!l;if(!s.styleEnabled())return this;var f=s.style();r=Ze({},r,n);var h=Object.keys(r).length===0;if(h)return new jO(o[0],r);switch(r.duration===void 0&&(r.duration=400),r.duration){case"slow":r.duration=600;break;case"fast":r.duration=200;break}if(u&&(r.style=f.getPropsList(r.style||r.css),r.css=void 0),u&&r.renderedPosition!=null){var d=r.renderedPosition,p=s.pan(),m=s.zoom();r.position=Vpt(d,m,p)}if(l&&r.panBy!=null){var g=r.panBy,v=s.pan();r.pan={x:v.x+g.x,y:v.y+g.y}}var y=r.center||r.centre;if(l&&y!=null){var b=s.getCenterPan(y.eles,r.zoom);b!=null&&(r.pan=b)}if(l&&r.fit!=null){var _=r.fit,k=s.getFitViewport(_.eles||_.boundingBox,_.padding);k!=null&&(r.pan=k.pan,r.zoom=k.zoom)}if(l&&un(r.zoom)){var w=s.getZoomedViewport(r.zoom);w!=null?(w.zoomed&&(r.zoom=w.zoom),w.panned&&(r.pan=w.pan)):r.zoom=null}return new jO(o[0],r)}},animate:function(){return function(r,n){var a=this,i=a.length!==void 0,o=i?a:[a],s=this._private.cy||this;if(!s.styleEnabled())return this;n&&(r=Ze({},r,n));for(var l=0;l<o.length;l++){var u=o[l],f=u.animated()&&(r.queue===void 0||r.queue),h=u.animation(r,f?{queue:!0}:void 0);h.play()}return this}},stop:function(){return function(r,n){var a=this,i=a.length!==void 0,o=i?a:[a],s=this._private.cy||this;if(!s.styleEnabled())return this;for(var l=0;l<o.length;l++){for(var u=o[l],f=u._private,h=f.animation.current,d=0;d<h.length;d++){var p=h[d],m=p._private;n&&(m.duration=0)}r&&(f.animation.queue=[]),n||(f.animation.current=[])}return s.notify("draw"),this}}};lHt=sHt(),uHt=k_(lHt);gHt=mHt(),vHt=k_(gHt);bHt=xHt(),_Ht=k_(bHt),wHt={data:function(t){var r={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(a){},beforeSet:function(a,i){},onSet:function(a){},canSet:function(a){return!0}};return t=Ze({},r,t),function(a,i){var o=t,s=this,l=s.length!==void 0,u=l?s:[s],f=l?s[0]:s;if(Ye(a)){var h=a.indexOf(".")!==-1,d=h&&_Ht(a);if(o.allowGetting&&i===void 0){var p;return f&&(o.beforeGet(f),d&&f._private[o.field][a]===void 0?p=uHt(f._private[o.field],d):p=f._private[o.field][a]),p}else if(o.allowSetting&&i!==void 0){var m=!o.immutableKeys[a];if(m){var g=Cpt({},a,i);o.beforeSet(s,g);for(var v=0,y=u.length;v<y;v++){var b=u[v];o.canSet(b)&&(d&&f._private[o.field][a]===void 0?vHt(b._private[o.field],d,i):b._private[o.field][a]=i)}o.updateStyle&&s.updateStyle(),o.onSet(s),o.settingTriggersEvent&&s[o.triggerFnName](o.settingEvent)}}}else if(o.allowSetting&&un(a)){var _=a,k,w,T=Object.keys(_);o.beforeSet(s,_);for(var S=0;S<T.length;S++){k=T[S],w=_[k];var C=!o.immutableKeys[k];if(C)for(var M=0;M<u.length;M++){var N=u[M];o.canSet(N)&&(N._private[o.field][k]=w)}}o.updateStyle&&s.updateStyle(),o.onSet(s),o.settingTriggersEvent&&s[o.triggerFnName](o.settingEvent)}else if(o.allowBinding&&Fa(a)){var L=a;s.on(o.bindingEvent,L)}else if(o.allowGetting&&a===void 0){var E;return f&&(o.beforeGet(f),E=f._private[o.field]),E}return s}},removeData:function(t){var r={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return t=Ze({},r,t),function(a){var i=t,o=this,s=o.length!==void 0,l=s?o:[o];if(Ye(a)){for(var u=a.split(/\s+/),f=u.length,h=0;h<f;h++){var d=u[h];if(!Wd(d)){var p=!i.immutableKeys[d];if(p)for(var m=0,g=l.length;m<g;m++)l[m]._private[i.field][d]=void 0}}i.triggerEvent&&o[i.triggerFnName](i.event)}else if(a===void 0){for(var v=0,y=l.length;v<y;v++)for(var b=l[v]._private[i.field],_=Object.keys(b),k=0;k<_.length;k++){var w=_[k],T=!i.immutableKeys[w];T&&(b[w]=void 0)}i.triggerEvent&&o[i.triggerFnName](i.event)}return o}}},THt={eventAliasesOn:function(t){var r=t;r.addListener=r.listen=r.bind=r.on,r.unlisten=r.unbind=r.off=r.removeListener,r.trigger=r.emit,r.pon=r.promiseOn=function(n,a){var i=this,o=Array.prototype.slice.call(arguments,0);return new nv(function(s,l){var u=function(p){i.off.apply(i,h),s(p)},f=o.concat([u]),h=f.concat([]);i.on.apply(i,f)})}}},Dn={};[AVt,wHt,THt].forEach(function(e){Ze(Dn,e)});EHt={animate:Dn.animate(),animation:Dn.animation(),animated:Dn.animated(),clearQueue:Dn.clearQueue(),delay:Dn.delay(),delayAnimation:Dn.delayAnimation(),stop:Dn.stop()},xC={classes:function(t){var r=this;if(t===void 0){var n=[];return r[0]._private.classes.forEach(function(m){return n.push(m)}),n}else Yn(t)||(t=(t||"").match(/\S+/g)||[]);for(var a=[],i=new rv(t),o=0;o<r.length;o++){for(var s=r[o],l=s._private,u=l.classes,f=!1,h=0;h<t.length;h++){var d=t[h],p=u.has(d);if(!p){f=!0;break}}f||(f=u.size!==t.length),f&&(l.classes=i,a.push(s))}return a.length>0&&this.spawn(a).updateStyle().emit("class"),r},addClass:function(t){return this.toggleClass(t,!0)},hasClass:function(t){var r=this[0];return r!=null&&r._private.classes.has(t)},toggleClass:function(t,r){Yn(t)||(t=t.match(/\S+/g)||[]);for(var n=this,a=r===void 0,i=[],o=0,s=n.length;o<s;o++)for(var l=n[o],u=l._private.classes,f=!1,h=0;h<t.length;h++){var d=t[h],p=u.has(d),m=!1;r||a&&!p?(u.add(d),m=!0):(!r||a&&p)&&(u.delete(d),m=!0),!f&&m&&(i.push(l),f=!0)}return i.length>0&&this.spawn(i).updateStyle().emit("class"),n},removeClass:function(t){return this.toggleClass(t,!1)},flashClass:function(t,r){var n=this;if(r==null)r=250;else if(r===0)return n;return n.addClass(t),setTimeout(function(){n.removeClass(t)},r),n}};xC.className=xC.classNames=xC.classes;ln={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:yi,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};ln.variable="(?:[\\w-.]|(?:\\\\"+ln.metaChar+"))+";ln.className="(?:[\\w-]|(?:\\\\"+ln.metaChar+"))+";ln.value=ln.string+"|"+ln.number;ln.id=ln.variable;(function(){var e,t,r;for(e=ln.comparatorOp.split("|"),r=0;r<e.length;r++)t=e[r],ln.comparatorOp+="|@"+t;for(e=ln.comparatorOp.split("|"),r=0;r<e.length;r++)t=e[r],!(t.indexOf("!")>=0)&&t!=="="&&(ln.comparatorOp+="|\\!"+t)})();Un=function(){return{checks:[]}},Ne={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},KO=[{selector:":selected",matches:function(t){return t.selected()}},{selector:":unselected",matches:function(t){return!t.selected()}},{selector:":selectable",matches:function(t){return t.selectable()}},{selector:":unselectable",matches:function(t){return!t.selectable()}},{selector:":locked",matches:function(t){return t.locked()}},{selector:":unlocked",matches:function(t){return!t.locked()}},{selector:":visible",matches:function(t){return t.visible()}},{selector:":hidden",matches:function(t){return!t.visible()}},{selector:":transparent",matches:function(t){return t.transparent()}},{selector:":grabbed",matches:function(t){return t.grabbed()}},{selector:":free",matches:function(t){return!t.grabbed()}},{selector:":removed",matches:function(t){return t.removed()}},{selector:":inside",matches:function(t){return!t.removed()}},{selector:":grabbable",matches:function(t){return t.grabbable()}},{selector:":ungrabbable",matches:function(t){return!t.grabbable()}},{selector:":animated",matches:function(t){return t.animated()}},{selector:":unanimated",matches:function(t){return!t.animated()}},{selector:":parent",matches:function(t){return t.isParent()}},{selector:":childless",matches:function(t){return t.isChildless()}},{selector:":child",matches:function(t){return t.isChild()}},{selector:":orphan",matches:function(t){return t.isOrphan()}},{selector:":nonorphan",matches:function(t){return t.isChild()}},{selector:":compound",matches:function(t){return t.isNode()?t.isParent():t.source().isParent()||t.target().isParent()}},{selector:":loop",matches:function(t){return t.isLoop()}},{selector:":simple",matches:function(t){return t.isSimple()}},{selector:":active",matches:function(t){return t.active()}},{selector:":inactive",matches:function(t){return!t.active()}},{selector:":backgrounding",matches:function(t){return t.backgrounding()}},{selector:":nonbackgrounding",matches:function(t){return!t.backgrounding()}}].sort(function(e,t){return wWt(e.selector,t.selector)}),kHt=function(){for(var e={},t,r=0;r<KO.length;r++)t=KO[r],e[t.selector]=t.matches;return e}(),CHt=function(t,r){return kHt[t](r)},SHt="("+KO.map(function(e){return e.selector}).join("|")+")",B1=function(t){return t.replace(new RegExp("\\\\("+ln.metaChar+")","g"),function(r,n){return n})},Fd=function(t,r,n){t[t.length-1]=n},QO=[{name:"group",query:!0,regex:"("+ln.group+")",populate:function(t,r,n){var a=ii(n,1),i=a[0];r.checks.push({type:Ne.GROUP,value:i==="*"?i:i+"s"})}},{name:"state",query:!0,regex:SHt,populate:function(t,r,n){var a=ii(n,1),i=a[0];r.checks.push({type:Ne.STATE,value:i})}},{name:"id",query:!0,regex:"\\#("+ln.id+")",populate:function(t,r,n){var a=ii(n,1),i=a[0];r.checks.push({type:Ne.ID,value:B1(i)})}},{name:"className",query:!0,regex:"\\.("+ln.className+")",populate:function(t,r,n){var a=ii(n,1),i=a[0];r.checks.push({type:Ne.CLASS,value:B1(i)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+ln.variable+")\\s*\\]",populate:function(t,r,n){var a=ii(n,1),i=a[0];r.checks.push({type:Ne.DATA_EXIST,field:B1(i)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+ln.variable+")\\s*("+ln.comparatorOp+")\\s*("+ln.value+")\\s*\\]",populate:function(t,r,n){var a=ii(n,3),i=a[0],o=a[1],s=a[2],l=new RegExp("^"+ln.string+"$").exec(s)!=null;l?s=s.substring(1,s.length-1):s=parseFloat(s),r.checks.push({type:Ne.DATA_COMPARE,field:B1(i),operator:o,value:s})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+ln.boolOp+")\\s*("+ln.variable+")\\s*\\]",populate:function(t,r,n){var a=ii(n,2),i=a[0],o=a[1];r.checks.push({type:Ne.DATA_BOOL,field:B1(o),operator:i})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+ln.meta+")\\s*("+ln.comparatorOp+")\\s*("+ln.number+")\\s*\\]\\]",populate:function(t,r,n){var a=ii(n,3),i=a[0],o=a[1],s=a[2];r.checks.push({type:Ne.META_COMPARE,field:B1(i),operator:o,value:parseFloat(s)})}},{name:"nextQuery",separator:!0,regex:ln.separator,populate:function(t,r){var n=t.currentSubject,a=t.edgeCount,i=t.compoundCount,o=t[t.length-1];n!=null&&(o.subject=n,t.currentSubject=null),o.edgeCount=a,o.compoundCount=i,t.edgeCount=0,t.compoundCount=0;var s=t[t.length++]=Un();return s}},{name:"directedEdge",separator:!0,regex:ln.directedEdge,populate:function(t,r){if(t.currentSubject==null){var n=Un(),a=r,i=Un();return n.checks.push({type:Ne.DIRECTED_EDGE,source:a,target:i}),Fd(t,r,n),t.edgeCount++,i}else{var o=Un(),s=r,l=Un();return o.checks.push({type:Ne.NODE_SOURCE,source:s,target:l}),Fd(t,r,o),t.edgeCount++,l}}},{name:"undirectedEdge",separator:!0,regex:ln.undirectedEdge,populate:function(t,r){if(t.currentSubject==null){var n=Un(),a=r,i=Un();return n.checks.push({type:Ne.UNDIRECTED_EDGE,nodes:[a,i]}),Fd(t,r,n),t.edgeCount++,i}else{var o=Un(),s=r,l=Un();return o.checks.push({type:Ne.NODE_NEIGHBOR,node:s,neighbor:l}),Fd(t,r,o),l}}},{name:"child",separator:!0,regex:ln.child,populate:function(t,r){if(t.currentSubject==null){var n=Un(),a=Un(),i=t[t.length-1];return n.checks.push({type:Ne.CHILD,parent:i,child:a}),Fd(t,r,n),t.compoundCount++,a}else if(t.currentSubject===r){var o=Un(),s=t[t.length-1],l=Un(),u=Un(),f=Un(),h=Un();return o.checks.push({type:Ne.COMPOUND_SPLIT,left:s,right:l,subject:u}),u.checks=r.checks,r.checks=[{type:Ne.TRUE}],h.checks.push({type:Ne.TRUE}),l.checks.push({type:Ne.PARENT,parent:h,child:f}),Fd(t,s,o),t.currentSubject=u,t.compoundCount++,f}else{var d=Un(),p=Un(),m=[{type:Ne.PARENT,parent:d,child:p}];return d.checks=r.checks,r.checks=m,t.compoundCount++,p}}},{name:"descendant",separator:!0,regex:ln.descendant,populate:function(t,r){if(t.currentSubject==null){var n=Un(),a=Un(),i=t[t.length-1];return n.checks.push({type:Ne.DESCENDANT,ancestor:i,descendant:a}),Fd(t,r,n),t.compoundCount++,a}else if(t.currentSubject===r){var o=Un(),s=t[t.length-1],l=Un(),u=Un(),f=Un(),h=Un();return o.checks.push({type:Ne.COMPOUND_SPLIT,left:s,right:l,subject:u}),u.checks=r.checks,r.checks=[{type:Ne.TRUE}],h.checks.push({type:Ne.TRUE}),l.checks.push({type:Ne.ANCESTOR,ancestor:h,descendant:f}),Fd(t,s,o),t.currentSubject=u,t.compoundCount++,f}else{var d=Un(),p=Un(),m=[{type:Ne.ANCESTOR,ancestor:d,descendant:p}];return d.checks=r.checks,r.checks=m,t.compoundCount++,p}}},{name:"subject",modifier:!0,regex:ln.subject,populate:function(t,r){if(t.currentSubject!=null&&t.currentSubject!==r)return An("Redefinition of subject in selector `"+t.toString()+"`"),!1;t.currentSubject=r;var n=t[t.length-1],a=n.checks[0],i=a==null?null:a.type;i===Ne.DIRECTED_EDGE?a.type=Ne.NODE_TARGET:i===Ne.UNDIRECTED_EDGE&&(a.type=Ne.NODE_NEIGHBOR,a.node=a.nodes[1],a.neighbor=a.nodes[0],a.nodes=null)}}];QO.forEach(function(e){return e.regexObj=new RegExp("^"+e.regex)});DHt=function(t){for(var r,n,a,i=0;i<QO.length;i++){var o=QO[i],s=o.name,l=t.match(o.regexObj);if(l!=null){n=l,r=o,a=s;var u=l[0];t=t.substring(u.length);break}}return{expr:r,match:n,name:a,remaining:t}},AHt=function(t){var r=t.match(/^\s+/);if(r){var n=r[0];t=t.substring(n.length)}return t},LHt=function(t){var r=this,n=r.inputText=t,a=r[0]=Un();for(r.length=1,n=AHt(n);;){var i=DHt(n);if(i.expr==null)return An("The selector `"+t+"`is invalid"),!1;var o=i.match.slice(1),s=i.expr.populate(r,a,o);if(s===!1)return!1;if(s!=null&&(a=s),n=i.remaining,n.match(/^\s*$/))break}var l=r[r.length-1];r.currentSubject!=null&&(l.subject=r.currentSubject),l.edgeCount=r.edgeCount,l.compoundCount=r.compoundCount;for(var u=0;u<r.length;u++){var f=r[u];if(f.compoundCount>0&&f.edgeCount>0)return An("The selector `"+t+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(f.edgeCount>1)return An("The selector `"+t+"` is invalid because it uses multiple edge selectors"),!1;f.edgeCount===1&&An("The selector `"+t+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},MHt=function(){if(this.toStringCache!=null)return this.toStringCache;for(var t=function(f){return f??""},r=function(f){return Ye(f)?'"'+f+'"':t(f)},n=function(f){return" "+f+" "},a=function(f,h){var d=f.type,p=f.value;switch(d){case Ne.GROUP:{var m=t(p);return m.substring(0,m.length-1)}case Ne.DATA_COMPARE:{var g=f.field,v=f.operator;return"["+g+n(t(v))+r(p)+"]"}case Ne.DATA_BOOL:{var y=f.operator,b=f.field;return"["+t(y)+b+"]"}case Ne.DATA_EXIST:{var _=f.field;return"["+_+"]"}case Ne.META_COMPARE:{var k=f.operator,w=f.field;return"[["+w+n(t(k))+r(p)+"]]"}case Ne.STATE:return p;case Ne.ID:return"#"+p;case Ne.CLASS:return"."+p;case Ne.PARENT:case Ne.CHILD:return i(f.parent,h)+n(">")+i(f.child,h);case Ne.ANCESTOR:case Ne.DESCENDANT:return i(f.ancestor,h)+" "+i(f.descendant,h);case Ne.COMPOUND_SPLIT:{var T=i(f.left,h),S=i(f.subject,h),C=i(f.right,h);return T+(T.length>0?" ":"")+S+C}case Ne.TRUE:return""}},i=function(f,h){return f.checks.reduce(function(d,p,m){return d+(h===f&&m===0?"$":"")+a(p,h)},"")},o="",s=0;s<this.length;s++){var l=this[s];o+=i(l,l.subject),this.length>1&&s<this.length-1&&(o+=", ")}return this.toStringCache=o,o},IHt={parse:LHt,toString:MHt},h0t=function(t,r,n){var a,i=Ye(t),o=be(t),s=Ye(n),l,u,f=!1,h=!1,d=!1;switch(r.indexOf("!")>=0&&(r=r.replace("!",""),h=!0),r.indexOf("@")>=0&&(r=r.replace("@",""),f=!0),(i||s||f)&&(l=!i&&!o?"":""+t,u=""+n),f&&(t=l=l.toLowerCase(),n=u=u.toLowerCase()),r){case"*=":a=l.indexOf(u)>=0;break;case"$=":a=l.indexOf(u,l.length-u.length)>=0;break;case"^=":a=l.indexOf(u)===0;break;case"=":a=t===n;break;case">":d=!0,a=t>n;break;case">=":d=!0,a=t>=n;break;case"<":d=!0,a=t<n;break;case"<=":d=!0,a=t<=n;break;default:a=!1;break}return h&&(t!=null||!d)&&(a=!a),a},RHt=function(t,r){switch(r){case"?":return!!t;case"!":return!t;case"^":return t===void 0}},NHt=function(t){return t!==void 0},TF=function(t,r){return t.data(r)},OHt=function(t,r){return t[r]()},Ga=[],ha=function(t,r){return t.checks.every(function(n){return Ga[n.type](n,r)})};Ga[Ne.GROUP]=function(e,t){var r=e.value;return r==="*"||r===t.group()};Ga[Ne.STATE]=function(e,t){var r=e.value;return CHt(r,t)};Ga[Ne.ID]=function(e,t){var r=e.value;return t.id()===r};Ga[Ne.CLASS]=function(e,t){var r=e.value;return t.hasClass(r)};Ga[Ne.META_COMPARE]=function(e,t){var r=e.field,n=e.operator,a=e.value;return h0t(OHt(t,r),n,a)};Ga[Ne.DATA_COMPARE]=function(e,t){var r=e.field,n=e.operator,a=e.value;return h0t(TF(t,r),n,a)};Ga[Ne.DATA_BOOL]=function(e,t){var r=e.field,n=e.operator;return RHt(TF(t,r),n)};Ga[Ne.DATA_EXIST]=function(e,t){var r=e.field;return e.operator,NHt(TF(t,r))};Ga[Ne.UNDIRECTED_EDGE]=function(e,t){var r=e.nodes[0],n=e.nodes[1],a=t.source(),i=t.target();return ha(r,a)&&ha(n,i)||ha(n,a)&&ha(r,i)};Ga[Ne.NODE_NEIGHBOR]=function(e,t){return ha(e.node,t)&&t.neighborhood().some(function(r){return r.isNode()&&ha(e.neighbor,r)})};Ga[Ne.DIRECTED_EDGE]=function(e,t){return ha(e.source,t.source())&&ha(e.target,t.target())};Ga[Ne.NODE_SOURCE]=function(e,t){return ha(e.source,t)&&t.outgoers().some(function(r){return r.isNode()&&ha(e.target,r)})};Ga[Ne.NODE_TARGET]=function(e,t){return ha(e.target,t)&&t.incomers().some(function(r){return r.isNode()&&ha(e.source,r)})};Ga[Ne.CHILD]=function(e,t){return ha(e.child,t)&&ha(e.parent,t.parent())};Ga[Ne.PARENT]=function(e,t){return ha(e.parent,t)&&t.children().some(function(r){return ha(e.child,r)})};Ga[Ne.DESCENDANT]=function(e,t){return ha(e.descendant,t)&&t.ancestors().some(function(r){return ha(e.ancestor,r)})};Ga[Ne.ANCESTOR]=function(e,t){return ha(e.ancestor,t)&&t.descendants().some(function(r){return ha(e.descendant,r)})};Ga[Ne.COMPOUND_SPLIT]=function(e,t){return ha(e.subject,t)&&ha(e.left,t)&&ha(e.right,t)};Ga[Ne.TRUE]=function(){return!0};Ga[Ne.COLLECTION]=function(e,t){var r=e.value;return r.has(t)};Ga[Ne.FILTER]=function(e,t){var r=e.value;return r(t)};FHt=function(t){var r=this;if(r.length===1&&r[0].checks.length===1&&r[0].checks[0].type===Ne.ID)return t.getElementById(r[0].checks[0].value).collection();var n=function(i){for(var o=0;o<r.length;o++){var s=r[o];if(ha(s,i))return!0}return!1};return r.text()==null&&(n=function(){return!0}),t.filter(n)},PHt=function(t){for(var r=this,n=0;n<r.length;n++){var a=r[n];if(ha(a,t))return!0}return!1},BHt={matches:PHt,filter:FHt},Hd=function(t){this.inputText=t,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,t==null||Ye(t)&&t.match(/^\s*$/)||(cl(t)?this.addQuery({checks:[{type:Ne.COLLECTION,value:t.collection()}]}):Fa(t)?this.addQuery({checks:[{type:Ne.FILTER,value:t}]}):Ye(t)?this.parse(t)||(this.invalid=!0):_a("A selector must be created from a string; found "))},Yd=Hd.prototype;[IHt,BHt].forEach(function(e){return Ze(Yd,e)});Yd.text=function(){return this.inputText};Yd.size=function(){return this.length};Yd.eq=function(e){return this[e]};Yd.sameText=function(e){return!this.invalid&&!e.invalid&&this.text()===e.text()};Yd.addQuery=function(e){this[this.length++]=e};Yd.selector=Yd.toString;qd={allAre:function(t){var r=new Hd(t);return this.every(function(n){return r.matches(n)})},is:function(t){var r=new Hd(t);return this.some(function(n){return r.matches(n)})},some:function(t,r){for(var n=0;n<this.length;n++){var a=r?t.apply(r,[this[n],n,this]):t(this[n],n,this);if(a)return!0}return!1},every:function(t,r){for(var n=0;n<this.length;n++){var a=r?t.apply(r,[this[n],n,this]):t(this[n],n,this);if(!a)return!1}return!0},same:function(t){if(this===t)return!0;t=this.cy().collection(t);var r=this.length,n=t.length;return r!==n?!1:r===1?this[0]===t[0]:this.every(function(a){return t.hasElementWithId(a.id())})},anySame:function(t){return t=this.cy().collection(t),this.some(function(r){return t.hasElementWithId(r.id())})},allAreNeighbors:function(t){t=this.cy().collection(t);var r=this.neighborhood();return t.every(function(n){return r.hasElementWithId(n.id())})},contains:function(t){t=this.cy().collection(t);var r=this;return t.every(function(n){return r.hasElementWithId(n.id())})}};qd.allAreNeighbours=qd.allAreNeighbors;qd.has=qd.contains;qd.equal=qd.equals=qd.same;Hl=function(t,r){return function(a,i,o,s){var l=a,u=this,f;if(l==null?f="":cl(l)&&l.length===1&&(f=l.id()),u.length===1&&f){var h=u[0]._private,d=h.traversalCache=h.traversalCache||{},p=d[r]=d[r]||[],m=Q0(f),g=p[m];return g||(p[m]=t.call(u,a,i,o,s))}else return t.call(u,a,i,o,s)}},ev={parent:function(t){var r=[];if(this.length===1){var n=this[0]._private.parent;if(n)return n}for(var a=0;a<this.length;a++){var i=this[a],o=i._private.parent;o&&r.push(o)}return this.spawn(r,!0).filter(t)},parents:function(t){for(var r=[],n=this.parent();n.nonempty();){for(var a=0;a<n.length;a++){var i=n[a];r.push(i)}n=n.parent()}return this.spawn(r,!0).filter(t)},commonAncestors:function(t){for(var r,n=0;n<this.length;n++){var a=this[n],i=a.parents();r=r||i,r=r.intersect(i)}return r.filter(t)},orphans:function(t){return this.stdFilter(function(r){return r.isOrphan()}).filter(t)},nonorphans:function(t){return this.stdFilter(function(r){return r.isChild()}).filter(t)},children:Hl(function(e){for(var t=[],r=0;r<this.length;r++)for(var n=this[r],a=n._private.children,i=0;i<a.length;i++)t.push(a[i]);return this.spawn(t,!0).filter(e)},"children"),siblings:function(t){return this.parent().children().not(this).filter(t)},isParent:function(){var t=this[0];if(t)return t.isNode()&&t._private.children.length!==0},isChildless:function(){var t=this[0];if(t)return t.isNode()&&t._private.children.length===0},isChild:function(){var t=this[0];if(t)return t.isNode()&&t._private.parent!=null},isOrphan:function(){var t=this[0];if(t)return t.isNode()&&t._private.parent==null},descendants:function(t){var r=[];function n(a){for(var i=0;i<a.length;i++){var o=a[i];r.push(o),o.children().nonempty()&&n(o.children())}}return n(this.children()),this.spawn(r,!0).filter(t)}};ev.forEachDown=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return EF(this,e,t,d0t)};ev.forEachUp=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return EF(this,e,t,p0t)};ev.forEachUpAndDown=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return EF(this,e,t,$Ht)};ev.ancestors=ev.parents;y_=m0t={data:Dn.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:Dn.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:Dn.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Dn.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:Dn.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:Dn.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var t=this[0];if(t)return t._private.data.id}};y_.attr=y_.data;y_.removeAttr=y_.removeData;zHt=m0t,KC={};Ze(KC,{degree:MO(function(e,t){return t.source().same(t.target())?2:1}),indegree:MO(function(e,t){return t.target().same(e)?1:0}),outdegree:MO(function(e,t){return t.source().same(e)?1:0})});Ze(KC,{minDegree:$1("degree",function(e,t){return e<t}),maxDegree:$1("degree",function(e,t){return e>t}),minIndegree:$1("indegree",function(e,t){return e<t}),maxIndegree:$1("indegree",function(e,t){return e>t}),minOutdegree:$1("outdegree",function(e,t){return e<t}),maxOutdegree:$1("outdegree",function(e,t){return e>t})});Ze(KC,{totalDegree:function(t){for(var r=0,n=this.nodes(),a=0;a<n.length;a++)r+=n[a].degree(t);return r}});v0t=function(t,r,n){for(var a=0;a<t.length;a++){var i=t[a];if(!i.locked()){var o=i._private.position,s={x:r.x!=null?r.x-o.x:0,y:r.y!=null?r.y-o.y:0};i.isParent()&&!(s.x===0&&s.y===0)&&i.children().shift(s,n),i.dirtyBoundingBoxCache()}}},Ndt={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(t){t.updateCompoundBounds()},beforeSet:function(t,r){v0t(t,r,!1)},onSet:function(t){t.dirtyCompoundBoundsCache()},canSet:function(t){return!t.locked()}};Nu=g0t={position:Dn.data(Ndt),silentPosition:Dn.data(Ze({},Ndt,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(t,r){v0t(t,r,!0)},onSet:function(t){t.dirtyCompoundBoundsCache()}})),positions:function(t,r){if(un(t))r?this.silentPosition(t):this.position(t);else if(Fa(t)){var n=t,a=this.cy();a.startBatch();for(var i=0;i<this.length;i++){var o=this[i],s=void 0;(s=n(o,i))&&(r?o.silentPosition(s):o.position(s))}a.endBatch()}return this},silentPositions:function(t){return this.positions(t,!0)},shift:function(t,r,n){var a;if(un(t)?(a={x:be(t.x)?t.x:0,y:be(t.y)?t.y:0},n=r):Ye(t)&&be(r)&&(a={x:0,y:0},a[t]=r),a!=null){var i=this.cy();i.startBatch();for(var o=0;o<this.length;o++){var s=this[o];if(!(i.hasCompoundNodes()&&s.isChild()&&s.ancestors().anySame(this))){var l=s.position(),u={x:l.x+a.x,y:l.y+a.y};n?s.silentPosition(u):s.position(u)}}i.endBatch()}return this},silentShift:function(t,r){return un(t)?this.shift(t,!0):Ye(t)&&be(r)&&this.shift(t,r,!0),this},renderedPosition:function(t,r){var n=this[0],a=this.cy(),i=a.zoom(),o=a.pan(),s=un(t)?t:void 0,l=s!==void 0||r!==void 0&&Ye(t);if(n&&n.isNode())if(l)for(var u=0;u<this.length;u++){var f=this[u];r!==void 0?f.position(t,(r-o[t])/i):s!==void 0&&f.position(Vpt(s,i,o))}else{var h=n.position();return s=GC(h,i,o),t===void 0?s:s[t]}else if(!l)return;return this},relativePosition:function(t,r){var n=this[0],a=this.cy(),i=un(t)?t:void 0,o=i!==void 0||r!==void 0&&Ye(t),s=a.hasCompoundNodes();if(n&&n.isNode())if(o)for(var l=0;l<this.length;l++){var u=this[l],f=s?u.parent():null,h=f&&f.length>0,d=h;h&&(f=f[0]);var p=d?f.position():{x:0,y:0};r!==void 0?u.position(t,r+p[t]):i!==void 0&&u.position({x:i.x+p.x,y:i.y+p.y})}else{var m=n.position(),g=s?n.parent():null,v=g&&g.length>0,y=v;v&&(g=g[0]);var b=y?g.position():{x:0,y:0};return i={x:m.x-b.x,y:m.y-b.y},t===void 0?i:i[t]}else if(!o)return;return this}};Nu.modelPosition=Nu.point=Nu.position;Nu.modelPositions=Nu.points=Nu.positions;Nu.renderedPoint=Nu.renderedPosition;Nu.relativePoint=Nu.relativePosition;qHt=g0t;Z1=Qd={};Qd.renderedBoundingBox=function(e){var t=this.boundingBox(e),r=this.cy(),n=r.zoom(),a=r.pan(),i=t.x1*n+a.x,o=t.x2*n+a.x,s=t.y1*n+a.y,l=t.y2*n+a.y;return{x1:i,x2:o,y1:s,y2:l,w:o-i,h:l-s}};Qd.dirtyCompoundBoundsCache=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.cy();return!t.styleEnabled()||!t.hasCompoundNodes()?this:(this.forEachUp(function(r){if(r.isParent()){var n=r._private;n.compoundBoundsClean=!1,n.bbCache=null,e||r.emitAndNotify("bounds")}}),this)};Qd.updateCompoundBounds=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.cy();if(!t.styleEnabled()||!t.hasCompoundNodes())return this;if(!e&&t.batching())return this;function r(o){if(!o.isParent())return;var s=o._private,l=o.children(),u=o.pstyle("compound-sizing-wrt-labels").value==="include",f={width:{val:o.pstyle("min-width").pfValue,left:o.pstyle("min-width-bias-left"),right:o.pstyle("min-width-bias-right")},height:{val:o.pstyle("min-height").pfValue,top:o.pstyle("min-height-bias-top"),bottom:o.pstyle("min-height-bias-bottom")}},h=l.boundingBox({includeLabels:u,includeOverlays:!1,useCache:!1}),d=s.position;(h.w===0||h.h===0)&&(h={w:o.pstyle("width").pfValue,h:o.pstyle("height").pfValue},h.x1=d.x-h.w/2,h.x2=d.x+h.w/2,h.y1=d.y-h.h/2,h.y2=d.y+h.h/2);function p(M,N,L){var E=0,A=0,D=N+L;return M>0&&D>0&&(E=N/D*M,A=L/D*M),{biasDiff:E,biasComplementDiff:A}}function m(M,N,L,E){if(L.units==="%")switch(E){case"width":return M>0?L.pfValue*M:0;case"height":return N>0?L.pfValue*N:0;case"average":return M>0&&N>0?L.pfValue*(M+N)/2:0;case"min":return M>0&&N>0?M>N?L.pfValue*N:L.pfValue*M:0;case"max":return M>0&&N>0?M>N?L.pfValue*M:L.pfValue*N:0;default:return 0}else return L.units==="px"?L.pfValue:0}var g=f.width.left.value;f.width.left.units==="px"&&f.width.val>0&&(g=g*100/f.width.val);var v=f.width.right.value;f.width.right.units==="px"&&f.width.val>0&&(v=v*100/f.width.val);var y=f.height.top.value;f.height.top.units==="px"&&f.height.val>0&&(y=y*100/f.height.val);var b=f.height.bottom.value;f.height.bottom.units==="px"&&f.height.val>0&&(b=b*100/f.height.val);var _=p(f.width.val-h.w,g,v),k=_.biasDiff,w=_.biasComplementDiff,T=p(f.height.val-h.h,y,b),S=T.biasDiff,C=T.biasComplementDiff;s.autoPadding=m(h.w,h.h,o.pstyle("padding"),o.pstyle("padding-relative-to").value),s.autoWidth=Math.max(h.w,f.width.val),d.x=(-k+h.x1+h.x2+w)/2,s.autoHeight=Math.max(h.h,f.height.val),d.y=(-S+h.y1+h.y2+C)/2}for(var n=0;n<this.length;n++){var a=this[n],i=a._private;(!i.compoundBoundsClean||e)&&(r(a),t.batching()||(i.compoundBoundsClean=!0))}return this};Vl=function(t){return t===1/0||t===-1/0?0:t},Ru=function(t,r,n,a,i){a-r===0||i-n===0||r==null||n==null||a==null||i==null||(t.x1=r<t.x1?r:t.x1,t.x2=a>t.x2?a:t.x2,t.y1=n<t.y1?n:t.y1,t.y2=i>t.y2?i:t.y2,t.w=t.x2-t.x1,t.h=t.y2-t.y1)},Pd=function(t,r){return r==null?t:Ru(t,r.x1,r.y1,r.x2,r.y2)},e_=function(t,r,n){return $s(t,r,n)},uC=function(t,r,n){if(!r.cy().headless()){var a=r._private,i=a.rstyle,o=i.arrowWidth/2,s=r.pstyle(n+"-arrow-shape").value,l,u;if(s!=="none"){n==="source"?(l=i.srcX,u=i.srcY):n==="target"?(l=i.tgtX,u=i.tgtY):(l=i.midX,u=i.midY);var f=a.arrowBounds=a.arrowBounds||{},h=f[n]=f[n]||{};h.x1=l-o,h.y1=u-o,h.x2=l+o,h.y2=u+o,h.w=h.x2-h.x1,h.h=h.y2-h.y1,vC(h,1),Ru(t,h.x1,h.y1,h.x2,h.y2)}}},IO=function(t,r,n){if(!r.cy().headless()){var a;n?a=n+"-":a="";var i=r._private,o=i.rstyle,s=r.pstyle(a+"label").strValue;if(s){var l=r.pstyle("text-halign"),u=r.pstyle("text-valign"),f=e_(o,"labelWidth",n),h=e_(o,"labelHeight",n),d=e_(o,"labelX",n),p=e_(o,"labelY",n),m=r.pstyle(a+"text-margin-x").pfValue,g=r.pstyle(a+"text-margin-y").pfValue,v=r.isEdge(),y=r.pstyle(a+"text-rotation"),b=r.pstyle("text-outline-width").pfValue,_=r.pstyle("text-border-width").pfValue,k=_/2,w=r.pstyle("text-background-padding").pfValue,T=2,S=h,C=f,M=C/2,N=S/2,L,E,A,D;if(v)L=d-M,E=d+M,A=p-N,D=p+N;else{switch(l.value){case"left":L=d-C,E=d;break;case"center":L=d-M,E=d+M;break;case"right":L=d,E=d+C;break}switch(u.value){case"top":A=p-S,D=p;break;case"center":A=p-N,D=p+N;break;case"bottom":A=p,D=p+S;break}}var R=m-Math.max(b,k)-w-T,I=m+Math.max(b,k)+w+T,O=g-Math.max(b,k)-w-T,F=g+Math.max(b,k)+w+T;L+=R,E+=I,A+=O,D+=F;var P=n||"main",q=i.labelBounds,$=q[P]=q[P]||{};$.x1=L,$.y1=A,$.x2=E,$.y2=D,$.w=E-L,$.h=D-A,$.leftPad=R,$.rightPad=I,$.topPad=O,$.botPad=F;var W=v&&y.strValue==="autorotate",X=y.pfValue!=null&&y.pfValue!==0;if(W||X){var tt=W?e_(i.rstyle,"labelAngle",n):y.pfValue,Y=Math.cos(tt),ot=Math.sin(tt),Z=(L+E)/2,ct=(A+D)/2;if(!v){switch(l.value){case"left":Z=E;break;case"right":Z=L;break}switch(u.value){case"top":ct=D;break;case"bottom":ct=A;break}}var rt=function(_t,V){return _t=_t-Z,V=V-ct,{x:_t*Y-V*ot+Z,y:_t*ot+V*Y+ct}},et=rt(L,A),Q=rt(L,D),j=rt(E,A),it=rt(E,D);L=Math.min(et.x,Q.x,j.x,it.x),E=Math.max(et.x,Q.x,j.x,it.x),A=Math.min(et.y,Q.y,j.y,it.y),D=Math.max(et.y,Q.y,j.y,it.y)}var K=P+"Rot",dt=q[K]=q[K]||{};dt.x1=L,dt.y1=A,dt.x2=E,dt.y2=D,dt.w=E-L,dt.h=D-A,Ru(t,L,A,E,D),Ru(i.labelBounds.all,L,A,E,D)}return t}},Odt=function(t,r){if(!r.cy().headless()){var n=r.pstyle("outline-opacity").value,a=r.pstyle("outline-width").value,i=r.pstyle("outline-offset").value,o=a+i;y0t(t,r,n,o,"outside",o/2)}},y0t=function(t,r,n,a,i,o){if(!(n===0||a<=0||i==="inside")){var s=r.cy(),l=r.pstyle("shape").value,u=s.renderer().nodeShapes[l],f=r.position(),h=f.x,d=f.y,p=r.width(),m=r.height();if(u.hasMiterBounds){i==="center"&&(a/=2);var g=u.miterBounds(h,d,p,m,a);Pd(t,g)}else o!=null&&o>0&&yC(t,[o,o,o,o])}},UHt=function(t,r){if(!r.cy().headless()){var n=r.pstyle("border-opacity").value,a=r.pstyle("border-width").pfValue,i=r.pstyle("border-position").value;y0t(t,r,n,a,i)}},WHt=function(t,r){var n=t._private.cy,a=n.styleEnabled(),i=n.headless(),o=as(),s=t._private,l=t.isNode(),u=t.isEdge(),f,h,d,p,m,g,v=s.rstyle,y=l&&a?t.pstyle("bounds-expansion").pfValue:[0],b=function(nt){return nt.pstyle("display").value!=="none"},_=!a||b(t)&&(!u||b(t.source())&&b(t.target()));if(_){var k=0,w=0;a&&r.includeOverlays&&(k=t.pstyle("overlay-opacity").value,k!==0&&(w=t.pstyle("overlay-padding").value));var T=0,S=0;a&&r.includeUnderlays&&(T=t.pstyle("underlay-opacity").value,T!==0&&(S=t.pstyle("underlay-padding").value));var C=Math.max(w,S),M=0,N=0;if(a&&(M=t.pstyle("width").pfValue,N=M/2),l&&r.includeNodes){var L=t.position();m=L.x,g=L.y;var E=t.outerWidth(),A=E/2,D=t.outerHeight(),R=D/2;f=m-A,h=m+A,d=g-R,p=g+R,Ru(o,f,d,h,p),a&&Odt(o,t),a&&r.includeOutlines&&!i&&Odt(o,t),a&&UHt(o,t)}else if(u&&r.includeEdges)if(a&&!i){var I=t.pstyle("curve-style").strValue;if(f=Math.min(v.srcX,v.midX,v.tgtX),h=Math.max(v.srcX,v.midX,v.tgtX),d=Math.min(v.srcY,v.midY,v.tgtY),p=Math.max(v.srcY,v.midY,v.tgtY),f-=N,h+=N,d-=N,p+=N,Ru(o,f,d,h,p),I==="haystack"){var O=v.haystackPts;if(O&&O.length===2){if(f=O[0].x,d=O[0].y,h=O[1].x,p=O[1].y,f>h){var F=f;f=h,h=F}if(d>p){var P=d;d=p,p=P}Ru(o,f-N,d-N,h+N,p+N)}}else if(I==="bezier"||I==="unbundled-bezier"||Bd(I,"segments")||Bd(I,"taxi")){var q;switch(I){case"bezier":case"unbundled-bezier":q=v.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":q=v.linePts;break}if(q!=null)for(var $=0;$<q.length;$++){var W=q[$];f=W.x-N,h=W.x+N,d=W.y-N,p=W.y+N,Ru(o,f,d,h,p)}}}else{var X=t.source(),tt=X.position(),Y=t.target(),ot=Y.position();if(f=tt.x,h=ot.x,d=tt.y,p=ot.y,f>h){var Z=f;f=h,h=Z}if(d>p){var ct=d;d=p,p=ct}f-=N,h+=N,d-=N,p+=N,Ru(o,f,d,h,p)}if(a&&r.includeEdges&&u&&(uC(o,t,"mid-source"),uC(o,t,"mid-target"),uC(o,t,"source"),uC(o,t,"target")),a){var rt=t.pstyle("ghost").value==="yes";if(rt){var et=t.pstyle("ghost-offset-x").pfValue,Q=t.pstyle("ghost-offset-y").pfValue;Ru(o,o.x1+et,o.y1+Q,o.x2+et,o.y2+Q)}}var j=s.bodyBounds=s.bodyBounds||{};bht(j,o),yC(j,y),vC(j,1),a&&(f=o.x1,h=o.x2,d=o.y1,p=o.y2,Ru(o,f-C,d-C,h+C,p+C));var it=s.overlayBounds=s.overlayBounds||{};bht(it,o),yC(it,y),vC(it,1);var K=s.labelBounds=s.labelBounds||{};K.all!=null?EGt(K.all):K.all=as(),a&&r.includeLabels&&(r.includeMainLabels&&IO(o,t,null),u&&(r.includeSourceLabels&&IO(o,t,"source"),r.includeTargetLabels&&IO(o,t,"target")))}return o.x1=Vl(o.x1),o.y1=Vl(o.y1),o.x2=Vl(o.x2),o.y2=Vl(o.y2),o.w=Vl(o.x2-o.x1),o.h=Vl(o.y2-o.y1),o.w>0&&o.h>0&&_&&(yC(o,y),vC(o,1)),o},x0t=function(t){var r=0,n=function(o){return(o?1:0)<<r++},a=0;return a+=n(t.incudeNodes),a+=n(t.includeEdges),a+=n(t.includeLabels),a+=n(t.includeMainLabels),a+=n(t.includeSourceLabels),a+=n(t.includeTargetLabels),a+=n(t.includeOverlays),a+=n(t.includeOutlines),a},b0t=function(t){var r=function(s){return Math.round(s)};if(t.isEdge()){var n=t.source().position(),a=t.target().position();return pht([r(n.x),r(n.y),r(a.x),r(a.y)])}else{var i=t.position();return pht([r(i.x),r(i.y)])}},Fdt=function(t,r){var n=t._private,a,i=t.isEdge(),o=r==null?Pdt:x0t(r),s=o===Pdt;if(n.bbCache==null?(a=WHt(t,x_),n.bbCache=a,n.bbCachePosKey=b0t(t)):a=n.bbCache,!s){var l=t.isNode();a=as(),(r.includeNodes&&l||r.includeEdges&&!l)&&(r.includeOverlays?Pd(a,n.overlayBounds):Pd(a,n.bodyBounds)),r.includeLabels&&(r.includeMainLabels&&(!i||r.includeSourceLabels&&r.includeTargetLabels)?Pd(a,n.labelBounds.all):(r.includeMainLabels&&Pd(a,n.labelBounds.mainRot),r.includeSourceLabels&&Pd(a,n.labelBounds.sourceRot),r.includeTargetLabels&&Pd(a,n.labelBounds.targetRot))),a.w=a.x2-a.x1,a.h=a.y2-a.y1}return a},x_={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},Pdt=x0t(x_),Bdt=lo(x_);Qd.boundingBox=function(e){var t,r=e===void 0||e.useCache===void 0||e.useCache===!0,n=J1(function(f){var h=f._private;return h.bbCache==null||h.styleDirty||h.bbCachePosKey!==b0t(f)},function(f){return f.id()});if(r&&this.length===1&&!n(this[0]))e===void 0?e=x_:e=Bdt(e),t=Fdt(this[0],e);else{t=as(),e=e||x_;var a=Bdt(e),i=this,o=i.cy(),s=o.styleEnabled();this.edges().forEach(n),this.nodes().forEach(n),s&&this.recalculateRenderedStyle(r),this.updateCompoundBounds(!r);for(var l=0;l<i.length;l++){var u=i[l];n(u)&&u.dirtyBoundingBoxCache(),Pd(t,Fdt(u,a))}}return t.x1=Vl(t.x1),t.y1=Vl(t.y1),t.x2=Vl(t.x2),t.y2=Vl(t.y2),t.w=Vl(t.x2-t.x1),t.h=Vl(t.y2-t.y1),t};Qd.dirtyBoundingBoxCache=function(){for(var e=0;e<this.length;e++){var t=this[e]._private;t.bbCache=null,t.bbCachePosKey=null,t.bodyBounds=null,t.overlayBounds=null,t.labelBounds.all=null,t.labelBounds.source=null,t.labelBounds.target=null,t.labelBounds.main=null,t.labelBounds.sourceRot=null,t.labelBounds.targetRot=null,t.labelBounds.mainRot=null,t.arrowBounds.source=null,t.arrowBounds.target=null,t.arrowBounds["mid-source"]=null,t.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};Qd.boundingBoxAt=function(e){var t=this.nodes(),r=this.cy(),n=r.hasCompoundNodes(),a=r.collection();if(n&&(a=t.filter(function(u){return u.isParent()}),t=t.not(a)),un(e)){var i=e;e=function(){return i}}var o=function(f,h){return f._private.bbAtOldPos=e(f,h)},s=function(f){return f._private.bbAtOldPos};r.startBatch(),t.forEach(o).silentPositions(e),n&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0));var l=TGt(this.boundingBox({useCache:!1}));return t.silentPositions(s),n&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0)),r.endBatch(),l};Z1.boundingbox=Z1.bb=Z1.boundingBox;Z1.renderedBoundingbox=Z1.renderedBoundingBox;GHt=Qd;l_=L_={};_0t=function(t){t.uppercaseName=Jft(t.name),t.autoName="auto"+t.uppercaseName,t.labelName="label"+t.uppercaseName,t.outerName="outer"+t.uppercaseName,t.uppercaseOuterName=Jft(t.outerName),l_[t.name]=function(){var n=this[0],a=n._private,i=a.cy,o=i._private.styleEnabled;if(n)if(o){if(n.isParent())return n.updateCompoundBounds(),a[t.autoName]||0;var s=n.pstyle(t.name);switch(s.strValue){case"label":return n.recalculateRenderedStyle(),a.rstyle[t.labelName]||0;default:return s.pfValue}}else return 1},l_["outer"+t.uppercaseName]=function(){var n=this[0],a=n._private,i=a.cy,o=i._private.styleEnabled;if(n)if(o){var s=n[t.name](),l=n.pstyle("border-position").value,u;l==="center"?u=n.pstyle("border-width").pfValue:l==="outside"?u=2*n.pstyle("border-width").pfValue:u=0;var f=2*n.padding();return s+u+f}else return 1},l_["rendered"+t.uppercaseName]=function(){var n=this[0];if(n){var a=n[t.name]();return a*this.cy().zoom()}},l_["rendered"+t.uppercaseOuterName]=function(){var n=this[0];if(n){var a=n[t.outerName]();return a*this.cy().zoom()}}};_0t({name:"width"});_0t({name:"height"});L_.padding=function(){var e=this[0],t=e._private;return e.isParent()?(e.updateCompoundBounds(),t.autoPadding!==void 0?t.autoPadding:e.pstyle("padding").pfValue):e.pstyle("padding").pfValue};L_.paddedHeight=function(){var e=this[0];return e.height()+2*e.padding()};L_.paddedWidth=function(){var e=this[0];return e.width()+2*e.padding()};VHt=L_,HHt=function(t,r){if(t.isEdge()&&t.takesUpSpace())return r(t)},YHt=function(t,r){if(t.isEdge()&&t.takesUpSpace()){var n=t.cy();return GC(r(t),n.zoom(),n.pan())}},XHt=function(t,r){if(t.isEdge()&&t.takesUpSpace()){var n=t.cy(),a=n.pan(),i=n.zoom();return r(t).map(function(o){return GC(o,i,a)})}},jHt=function(t){return t.renderer().getControlPoints(t)},KHt=function(t){return t.renderer().getSegmentPoints(t)},QHt=function(t){return t.renderer().getSourceEndpoint(t)},ZHt=function(t){return t.renderer().getTargetEndpoint(t)},JHt=function(t){return t.renderer().getEdgeMidpoint(t)},$dt={controlPoints:{get:jHt,mult:!0},segmentPoints:{get:KHt,mult:!0},sourceEndpoint:{get:QHt},targetEndpoint:{get:ZHt},midpoint:{get:JHt}},tYt=function(t){return"rendered"+t[0].toUpperCase()+t.substr(1)},eYt=Object.keys($dt).reduce(function(e,t){var r=$dt[t],n=tYt(t);return e[t]=function(){return HHt(this,r.get)},r.mult?e[n]=function(){return XHt(this,r.get)}:e[n]=function(){return YHt(this,r.get)},e},{}),rYt=Ze({},qHt,GHt,VHt,eYt);w0t=function(t,r){this.recycle(t,r)};w0t.prototype={instanceString:function(){return"event"},recycle:function(t,r){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=r_,t!=null&&t.preventDefault?(this.type=t.type,this.isDefaultPrevented=t.defaultPrevented?cC:r_):t!=null&&t.type?r=t:this.type=t,r!=null&&(this.originalEvent=r.originalEvent,this.type=r.type!=null?r.type:this.type,this.cy=r.cy,this.target=r.target,this.position=r.position,this.renderedPosition=r.renderedPosition,this.namespace=r.namespace,this.layout=r.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var n=this.position,a=this.cy.zoom(),i=this.cy.pan();this.renderedPosition={x:n.x*a+i.x,y:n.y*a+i.y}}this.timeStamp=t&&t.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=cC;var t=this.originalEvent;t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){this.isPropagationStopped=cC;var t=this.originalEvent;t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=cC,this.stopPropagation()},isDefaultPrevented:r_,isPropagationStopped:r_,isImmediatePropagationStopped:r_};T0t=/^([^.]+)(\.(?:[^.]+))?$/,nYt=".*",E0t={qualifierCompare:function(t,r){return t===r},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(t){return t},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},zdt=Object.keys(E0t),aYt={};Xd=QC.prototype,k0t=function(t,r,n,a,i,o,s){Fa(a)&&(i=a,a=null),s&&(o==null?o=s:o=Ze({},o,s));for(var l=Yn(n)?n:n.split(/\s+/),u=0;u<l.length;u++){var f=l[u];if(!Wd(f)){var h=f.match(T0t);if(h){var d=h[1],p=h[2]?h[2]:null,m=r(t,f,d,p,a,i,o);if(m===!1)break}}}},qdt=function(t,r){return t.addEventFields(t.context,r),new w0t(r.type,r)},iYt=function(t,r,n){if(fWt(n)){r(t,n);return}else if(un(n)){r(t,qdt(t,n));return}for(var a=Yn(n)?n:n.split(/\s+/),i=0;i<a.length;i++){var o=a[i];if(!Wd(o)){var s=o.match(T0t);if(s){var l=s[1],u=s[2]?s[2]:null,f=qdt(t,{type:l,namespace:u,target:t.context});r(t,f)}}}};Xd.on=Xd.addListener=function(e,t,r,n,a){return k0t(this,function(i,o,s,l,u,f,h){Fa(f)&&i.listeners.push({event:o,callback:f,type:s,namespace:l,qualifier:u,conf:h})},e,t,r,n,a),this};Xd.one=function(e,t,r,n){return this.on(e,t,r,n,{one:!0})};Xd.removeListener=Xd.off=function(e,t,r,n){var a=this;this.emitting!==0&&(this.listeners=YWt(this.listeners));for(var i=this.listeners,o=function(u){var f=i[u];k0t(a,function(h,d,p,m,g,v){if((f.type===p||e==="*")&&(!m&&f.namespace!==".*"||f.namespace===m)&&(!g||h.qualifierCompare(f.qualifier,g))&&(!v||f.callback===v))return i.splice(u,1),!1},e,t,r,n)},s=i.length-1;s>=0;s--)o(s);return this};Xd.removeAllListeners=function(){return this.removeListener("*")};Xd.emit=Xd.trigger=function(e,t,r){var n=this.listeners,a=n.length;return this.emitting++,Yn(t)||(t=[t]),iYt(this,function(i,o){r!=null&&(n=[{event:o.event,type:o.type,namespace:o.namespace,callback:r}],a=n.length);for(var s=function(){var f=n[l];if(f.type===o.type&&(!f.namespace||f.namespace===o.namespace||f.namespace===nYt)&&i.eventMatches(i.context,f,o)){var h=[o];t!=null&&jWt(h,t),i.beforeEmit(i.context,f,o),f.conf&&f.conf.one&&(i.listeners=i.listeners.filter(function(m){return m!==f}));var d=i.callbackContext(i.context,f,o),p=f.callback.apply(d,h);i.afterEmit(i.context,f,o),p===!1&&(o.stopPropagation(),o.preventDefault())}},l=0;l<a;l++)s();i.bubble(i.context)&&!o.isPropagationStopped()&&i.parent(i.context).emit(o,t)},e),this.emitting--,this};oYt={qualifierCompare:function(t,r){return t==null||r==null?t==null&&r==null:t.sameText(r)},eventMatches:function(t,r,n){var a=r.qualifier;return a!=null?t!==n.target&&E_(n.target)&&a.matches(n.target):!0},addEventFields:function(t,r){r.cy=t.cy(),r.target=t},callbackContext:function(t,r,n){return r.qualifier!=null?n.target:t},beforeEmit:function(t,r){r.conf&&r.conf.once&&r.conf.onceCollection.removeListener(r.event,r.qualifier,r.callback)},bubble:function(){return!0},parent:function(t){return t.isChild()?t.parent():t.cy()}},fC=function(t){return Ye(t)?new Hd(t):t},C0t={createEmitter:function(){for(var t=0;t<this.length;t++){var r=this[t],n=r._private;n.emitter||(n.emitter=new QC(oYt,r))}return this},emitter:function(){return this._private.emitter},on:function(t,r,n){for(var a=fC(r),i=0;i<this.length;i++){var o=this[i];o.emitter().on(t,a,n)}return this},removeListener:function(t,r,n){for(var a=fC(r),i=0;i<this.length;i++){var o=this[i];o.emitter().removeListener(t,a,n)}return this},removeAllListeners:function(){for(var t=0;t<this.length;t++){var r=this[t];r.emitter().removeAllListeners()}return this},one:function(t,r,n){for(var a=fC(r),i=0;i<this.length;i++){var o=this[i];o.emitter().one(t,a,n)}return this},once:function(t,r,n){for(var a=fC(r),i=0;i<this.length;i++){var o=this[i];o.emitter().on(t,a,n,{once:!0,onceCollection:this})}},emit:function(t,r){for(var n=0;n<this.length;n++){var a=this[n];a.emitter().emit(t,r)}return this},emitAndNotify:function(t,r){if(this.length!==0)return this.cy().notify(t,this),this.emit(t,r),this}};Dn.eventAliasesOn(C0t);S0t={nodes:function(t){return this.filter(function(r){return r.isNode()}).filter(t)},edges:function(t){return this.filter(function(r){return r.isEdge()}).filter(t)},byGroup:function(){for(var t=this.spawn(),r=this.spawn(),n=0;n<this.length;n++){var a=this[n];a.isNode()?t.push(a):r.push(a)}return{nodes:t,edges:r}},filter:function(t,r){if(t===void 0)return this;if(Ye(t)||cl(t))return new Hd(t).filter(this);if(Fa(t)){for(var n=this.spawn(),a=this,i=0;i<a.length;i++){var o=a[i],s=r?t.apply(r,[o,i,a]):t(o,i,a);s&&n.push(o)}return n}return this.spawn()},not:function(t){if(t){Ye(t)&&(t=this.filter(t));for(var r=this.spawn(),n=0;n<this.length;n++){var a=this[n],i=t.has(a);i||r.push(a)}return r}else return this},absoluteComplement:function(){var t=this.cy();return t.mutableElements().not(this)},intersect:function(t){if(Ye(t)){var r=t;return this.filter(r)}for(var n=this.spawn(),a=this,i=t,o=this.length<t.length,s=o?a:i,l=o?i:a,u=0;u<s.length;u++){var f=s[u];l.has(f)&&n.push(f)}return n},xor:function(t){var r=this._private.cy;Ye(t)&&(t=r.$(t));var n=this.spawn(),a=this,i=t,o=function(l,u){for(var f=0;f<l.length;f++){var h=l[f],d=h._private.data.id,p=u.hasElementWithId(d);p||n.push(h)}};return o(a,i),o(i,a),n},diff:function(t){var r=this._private.cy;Ye(t)&&(t=r.$(t));var n=this.spawn(),a=this.spawn(),i=this.spawn(),o=this,s=t,l=function(f,h,d){for(var p=0;p<f.length;p++){var m=f[p],g=m._private.data.id,v=h.hasElementWithId(g);v?i.merge(m):d.push(m)}};return l(o,s,n),l(s,o,a),{left:n,right:a,both:i}},add:function(t){var r=this._private.cy;if(!t)return this;if(Ye(t)){var n=t;t=r.mutableElements().filter(n)}for(var a=this.spawnSelf(),i=0;i<t.length;i++){var o=t[i],s=!this.has(o);s&&a.push(o)}return a},merge:function(t){var r=this._private,n=r.cy;if(!t)return this;if(t&&Ye(t)){var a=t;t=n.mutableElements().filter(a)}for(var i=r.map,o=0;o<t.length;o++){var s=t[o],l=s._private.data.id,u=!i.has(l);if(u){var f=this.length++;this[f]=s,i.set(l,{ele:s,index:f})}}return this},unmergeAt:function(t){var r=this[t],n=r.id(),a=this._private,i=a.map;this[t]=void 0,i.delete(n);var o=t===this.length-1;if(this.length>1&&!o){var s=this.length-1,l=this[s],u=l._private.data.id;this[s]=void 0,this[t]=l,i.set(u,{ele:l,index:t})}return this.length--,this},unmergeOne:function(t){t=t[0];var r=this._private,n=t._private.data.id,a=r.map,i=a.get(n);if(!i)return this;var o=i.index;return this.unmergeAt(o),this},unmerge:function(t){var r=this._private.cy;if(!t)return this;if(t&&Ye(t)){var n=t;t=r.mutableElements().filter(n)}for(var a=0;a<t.length;a++)this.unmergeOne(t[a]);return this},unmergeBy:function(t){for(var r=this.length-1;r>=0;r--){var n=this[r];t(n)&&this.unmergeAt(r)}return this},map:function(t,r){for(var n=[],a=this,i=0;i<a.length;i++){var o=a[i],s=r?t.apply(r,[o,i,a]):t(o,i,a);n.push(s)}return n},reduce:function(t,r){for(var n=r,a=this,i=0;i<a.length;i++)n=t(n,a[i],i,a);return n},max:function(t,r){for(var n=-1/0,a,i=this,o=0;o<i.length;o++){var s=i[o],l=r?t.apply(r,[s,o,i]):t(s,o,i);l>n&&(n=l,a=s)}return{value:n,ele:a}},min:function(t,r){for(var n=1/0,a,i=this,o=0;o<i.length;o++){var s=i[o],l=r?t.apply(r,[s,o,i]):t(s,o,i);l<n&&(n=l,a=s)}return{value:n,ele:a}}},bn=S0t;bn.u=bn["|"]=bn["+"]=bn.union=bn.or=bn.add;bn["\\"]=bn["!"]=bn["-"]=bn.difference=bn.relativeComplement=bn.subtract=bn.not;bn.n=bn["&"]=bn["."]=bn.and=bn.intersection=bn.intersect;bn["^"]=bn["(+)"]=bn["(-)"]=bn.symmetricDifference=bn.symdiff=bn.xor;bn.fnFilter=bn.filterFn=bn.stdFilter=bn.filter;bn.complement=bn.abscomp=bn.absoluteComplement;sYt={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var t=this[0];if(t)return t._private.group}},D0t=function(t,r){var n=t.cy(),a=n.hasCompoundNodes();function i(f){var h=f.pstyle("z-compound-depth");return h.value==="auto"?a?f.zDepth():0:h.value==="bottom"?-1:h.value==="top"?dF:0}var o=i(t)-i(r);if(o!==0)return o;function s(f){var h=f.pstyle("z-index-compare");return h.value==="auto"&&f.isNode()?1:0}var l=s(t)-s(r);if(l!==0)return l;var u=t.pstyle("z-index").value-r.pstyle("z-index").value;return u!==0?u:t.poolIndex()-r.poolIndex()},NC={forEach:function(t,r){if(Fa(t))for(var n=this.length,a=0;a<n;a++){var i=this[a],o=r?t.apply(r,[i,a,this]):t(i,a,this);if(o===!1)break}return this},toArray:function(){for(var t=[],r=0;r<this.length;r++)t.push(this[r]);return t},slice:function(t,r){var n=[],a=this.length;r==null&&(r=a),t==null&&(t=0),t<0&&(t=a+t),r<0&&(r=a+r);for(var i=t;i>=0&&i<r&&i<a;i++)n.push(this[i]);return this.spawn(n)},size:function(){return this.length},eq:function(t){return this[t]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(t){if(!Fa(t))return this;var r=this.toArray().sort(t);return this.spawn(r)},sortByZIndex:function(){return this.sort(D0t)},zDepth:function(){var t=this[0];if(t){var r=t._private,n=r.group;if(n==="nodes"){var a=r.data.parent?t.parents().size():0;return t.isParent()?a:dF-1}else{var i=r.source,o=r.target,s=i.zDepth(),l=o.zDepth();return Math.max(s,l,0)}}}};NC.each=NC.forEach;lYt=function(){var t="undefined",r=(typeof Symbol>"u"?"undefined":xi(Symbol))!=t&&xi(Symbol.iterator)!=t;r&&(NC[Symbol.iterator]=function(){var n=this,a={value:void 0,done:!1},i=0,o=this.length;return Cpt({next:function(){return i<o?a.value=n[i++]:(a.value=void 0,a.done=!0),a}},Symbol.iterator,function(){return this})})};lYt();uYt=lo({nodeDimensionsIncludeLabels:!1}),bC={layoutDimensions:function(t){t=uYt(t);var r;if(!this.takesUpSpace())r={w:0,h:0};else if(t.nodeDimensionsIncludeLabels){var n=this.boundingBox();r={w:n.w,h:n.h}}else r={w:this.outerWidth(),h:this.outerHeight()};return(r.w===0||r.h===0)&&(r.w=r.h=1),r},layoutPositions:function(t,r,n){var a=this.nodes().filter(function(w){return!w.isParent()}),i=this.cy(),o=r.eles,s=function(T){return T.id()},l=J1(n,s);t.emit({type:"layoutstart",layout:t}),t.animations=[];var u=function(T,S,C){var M={x:S.x1+S.w/2,y:S.y1+S.h/2},N={x:(C.x-M.x)*T,y:(C.y-M.y)*T};return{x:M.x+N.x,y:M.y+N.y}},f=r.spacingFactor&&r.spacingFactor!==1,h=function(){if(!f)return null;for(var T=as(),S=0;S<a.length;S++){var C=a[S],M=l(C,S);Hpt(T,M.x,M.y)}return T},d=h(),p=J1(function(w,T){var S=l(w,T);if(f){var C=Math.abs(r.spacingFactor);S=u(C,d,S)}return r.transform!=null&&(S=r.transform(w,S)),S},s);if(r.animate){for(var m=0;m<a.length;m++){var g=a[m],v=p(g,m),y=r.animateFilter==null||r.animateFilter(g,m);if(y){var b=g.animation({position:v,duration:r.animationDuration,easing:r.animationEasing});t.animations.push(b)}else g.position(v)}if(r.fit){var _=i.animation({fit:{boundingBox:o.boundingBoxAt(p),padding:r.padding},duration:r.animationDuration,easing:r.animationEasing});t.animations.push(_)}else if(r.zoom!==void 0&&r.pan!==void 0){var k=i.animation({zoom:r.zoom,pan:r.pan,duration:r.animationDuration,easing:r.animationEasing});t.animations.push(k)}t.animations.forEach(function(w){return w.play()}),t.one("layoutready",r.ready),t.emit({type:"layoutready",layout:t}),nv.all(t.animations.map(function(w){return w.promise()})).then(function(){t.one("layoutstop",r.stop),t.emit({type:"layoutstop",layout:t})})}else a.positions(p),r.fit&&i.fit(r.eles,r.padding),r.zoom!=null&&i.zoom(r.zoom),r.pan&&i.pan(r.pan),t.one("layoutready",r.ready),t.emit({type:"layoutready",layout:t}),t.one("layoutstop",r.stop),t.emit({type:"layoutstop",layout:t});return this},layout:function(t){var r=this.cy();return r.makeLayout(Ze({},t,{eles:this}))}};bC.createLayout=bC.makeLayout=bC.layout;oo={recalculateRenderedStyle:function(t){var r=this.cy(),n=r.renderer(),a=r.styleEnabled();return n&&a&&n.recalculateRenderedStyle(this,t),this},dirtyStyleCache:function(){var t=this.cy(),r=function(i){return i._private.styleCache=null};if(t.hasCompoundNodes()){var n;n=this.spawnSelf().merge(this.descendants()).merge(this.parents()),n.merge(n.connectedEdges()),n.forEach(r)}else this.forEach(function(a){r(a),a.connectedEdges().forEach(r)});return this},updateStyle:function(t){var r=this._private.cy;if(!r.styleEnabled())return this;if(r.batching()){var n=r._private.batchStyleEles;return n.merge(this),this}var a=r.hasCompoundNodes(),i=this;t=!!(t||t===void 0),a&&(i=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var o=i;return t?o.emitAndNotify("style"):o.emit("style"),i.forEach(function(s){return s._private.styleDirty=!0}),this},cleanStyle:function(){var t=this.cy();if(t.styleEnabled())for(var r=0;r<this.length;r++){var n=this[r];n._private.styleDirty&&(n._private.styleDirty=!1,t.style().apply(n))}},parsedStyle:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this[0],a=n.cy();if(a.styleEnabled()&&n){n._private.styleDirty&&(n._private.styleDirty=!1,a.style().apply(n));var i=n._private.style[t];return i??(r?a.style().getDefaultProperty(t):null)}},numericStyle:function(t){var r=this[0];if(r.cy().styleEnabled()&&r){var n=r.pstyle(t);return n.pfValue!==void 0?n.pfValue:n.value}},numericStyleUnits:function(t){var r=this[0];if(r.cy().styleEnabled()&&r)return r.pstyle(t).units},renderedStyle:function(t){var r=this.cy();if(!r.styleEnabled())return this;var n=this[0];if(n)return r.style().getRenderedStyle(n,t)},style:function(t,r){var n=this.cy();if(!n.styleEnabled())return this;var a=!1,i=n.style();if(un(t)){var o=t;i.applyBypass(this,o,a),this.emitAndNotify("style")}else if(Ye(t))if(r===void 0){var s=this[0];return s?i.getStylePropertyValue(s,t):void 0}else i.applyBypass(this,t,r,a),this.emitAndNotify("style");else if(t===void 0){var l=this[0];return l?i.getRawStyle(l):void 0}return this},removeStyle:function(t){var r=this.cy();if(!r.styleEnabled())return this;var n=!1,a=r.style(),i=this;if(t===void 0)for(var o=0;o<i.length;o++){var s=i[o];a.removeAllBypasses(s,n)}else{t=t.split(/\s+/);for(var l=0;l<i.length;l++){var u=i[l];a.removeBypasses(u,t,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var t=this.cy();if(!t.styleEnabled())return 1;var r=t.hasCompoundNodes(),n=this[0];if(n){var a=n._private,i=n.pstyle("opacity").value;if(!r)return i;var o=a.data.parent?n.parents():null;if(o)for(var s=0;s<o.length;s++){var l=o[s],u=l.pstyle("opacity").value;i=u*i}return i}},transparent:function(){var t=this.cy();if(!t.styleEnabled())return!1;var r=this[0],n=r.cy().hasCompoundNodes();if(r)return n?r.effectiveOpacity()===0:r.pstyle("opacity").value===0},backgrounding:function(){var t=this.cy();if(!t.styleEnabled())return!1;var r=this[0];return!!r._private.backgrounding}};av=ZC("eleTakesUpSpace",function(e){return e.pstyle("display").value==="element"&&e.width()!==0&&(e.isNode()?e.height()!==0:!0)});oo.takesUpSpace=JC("takesUpSpace",kF({ok:av}));cYt=ZC("eleInteractive",function(e){return e.pstyle("events").value==="yes"&&e.pstyle("visibility").value==="visible"&&av(e)}),fYt=ZC("parentInteractive",function(e){return e.pstyle("visibility").value==="visible"&&av(e)});oo.interactive=JC("interactive",kF({ok:cYt,parentOk:fYt,edgeOkViaNode:av}));oo.noninteractive=function(){var e=this[0];if(e)return!e.interactive()};hYt=ZC("eleVisible",function(e){return e.pstyle("visibility").value==="visible"&&e.pstyle("opacity").pfValue!==0&&av(e)}),dYt=av;oo.visible=JC("visible",kF({ok:hYt,edgeOkViaNode:dYt}));oo.hidden=function(){var e=this[0];if(e)return!e.visible()};oo.isBundledBezier=JC("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});oo.bypass=oo.css=oo.style;oo.renderedCss=oo.renderedStyle;oo.removeBypass=oo.removeCss=oo.removeStyle;oo.pstyle=oo.parsedStyle;Ud={};iv({field:"locked",overrideField:function(t){return t.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});iv({field:"grabbable",overrideField:function(t){return t.cy().autoungrabify()||t.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});iv({field:"selected",ableField:"selectable",overrideAble:function(t){return t.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});iv({field:"selectable",overrideField:function(t){return t.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});Ud.deselect=Ud.unselect;Ud.grabbed=function(){var e=this[0];if(e)return e._private.grabbed};iv({field:"active",on:"activate",off:"unactivate"});iv({field:"pannable",on:"panify",off:"unpanify"});Ud.inactive=function(){var e=this[0];if(e)return!e._private.active};So={},Wdt=function(t){return function(n){for(var a=this,i=[],o=0;o<a.length;o++){var s=a[o];if(s.isNode()){for(var l=!1,u=s.connectedEdges(),f=0;f<u.length;f++){var h=u[f],d=h.source(),p=h.target();if(t.noIncomingEdges&&p===s&&d!==s||t.noOutgoingEdges&&d===s&&p!==s){l=!0;break}}l||i.push(s)}}return this.spawn(i,!0).filter(n)}},Gdt=function(t){return function(r){for(var n=this,a=[],i=0;i<n.length;i++){var o=n[i];if(o.isNode())for(var s=o.connectedEdges(),l=0;l<s.length;l++){var u=s[l],f=u.source(),h=u.target();t.outgoing&&f===o?(a.push(u),a.push(h)):t.incoming&&h===o&&(a.push(u),a.push(f))}}return this.spawn(a,!0).filter(r)}},Vdt=function(t){return function(r){for(var n=this,a=[],i={};;){var o=t.outgoing?n.outgoers():n.incomers();if(o.length===0)break;for(var s=!1,l=0;l<o.length;l++){var u=o[l],f=u.id();i[f]||(i[f]=!0,a.push(u),s=!0)}if(!s)break;n=o}return this.spawn(a,!0).filter(r)}};So.clearTraversalCache=function(){for(var e=0;e<this.length;e++)this[e]._private.traversalCache=null};Ze(So,{roots:Wdt({noIncomingEdges:!0}),leaves:Wdt({noOutgoingEdges:!0}),outgoers:Hl(Gdt({outgoing:!0}),"outgoers"),successors:Vdt({outgoing:!0}),incomers:Hl(Gdt({incoming:!0}),"incomers"),predecessors:Vdt({})});Ze(So,{neighborhood:Hl(function(e){for(var t=[],r=this.nodes(),n=0;n<r.length;n++)for(var a=r[n],i=a.connectedEdges(),o=0;o<i.length;o++){var s=i[o],l=s.source(),u=s.target(),f=a===l?u:l;f.length>0&&t.push(f[0]),t.push(s[0])}return this.spawn(t,!0).filter(e)},"neighborhood"),closedNeighborhood:function(t){return this.neighborhood().add(this).filter(t)},openNeighborhood:function(t){return this.neighborhood(t)}});So.neighbourhood=So.neighborhood;So.closedNeighbourhood=So.closedNeighborhood;So.openNeighbourhood=So.openNeighborhood;Ze(So,{source:Hl(function(t){var r=this[0],n;return r&&(n=r._private.source||r.cy().collection()),n&&t?n.filter(t):n},"source"),target:Hl(function(t){var r=this[0],n;return r&&(n=r._private.target||r.cy().collection()),n&&t?n.filter(t):n},"target"),sources:Hdt({attr:"source"}),targets:Hdt({attr:"target"})});Ze(So,{edgesWith:Hl(Ydt(),"edgesWith"),edgesTo:Hl(Ydt({thisIsSrc:!0}),"edgesTo")});Ze(So,{connectedEdges:Hl(function(e){for(var t=[],r=this,n=0;n<r.length;n++){var a=r[n];if(a.isNode())for(var i=a._private.edges,o=0;o<i.length;o++){var s=i[o];t.push(s)}}return this.spawn(t,!0).filter(e)},"connectedEdges"),connectedNodes:Hl(function(e){for(var t=[],r=this,n=0;n<r.length;n++){var a=r[n];a.isEdge()&&(t.push(a.source()[0]),t.push(a.target()[0]))}return this.spawn(t,!0).filter(e)},"connectedNodes"),parallelEdges:Hl(Xdt(),"parallelEdges"),codirectedEdges:Hl(Xdt({codirected:!0}),"codirectedEdges")});Ze(So,{components:function(t){var r=this,n=r.cy(),a=n.collection(),i=t==null?r.nodes():t.nodes(),o=[];t!=null&&i.empty()&&(i=t.sources());var s=function(f,h){a.merge(f),i.unmerge(f),h.merge(f)};if(i.empty())return r.spawn();var l=function(){var f=n.collection();o.push(f);var h=i[0];s(h,f),r.bfs({directed:!1,roots:h,visit:function(p){return s(p,f)}}),f.forEach(function(d){d.connectedEdges().forEach(function(p){r.has(p)&&f.has(p.source())&&f.has(p.target())&&f.merge(p)})})};do l();while(i.length>0);return o},component:function(){var t=this[0];return t.cy().mutableElements().components(t)[0]}});So.componentsOf=So.components;so=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(t===void 0){_a("A collection must have a reference to the core");return}var i=new eh,o=!1;if(!r)r=[];else if(r.length>0&&un(r[0])&&!E_(r[0])){o=!0;for(var s=[],l=new rv,u=0,f=r.length;u<f;u++){var h=r[u];h.data==null&&(h.data={});var d=h.data;if(d.id==null)d.id=Wpt();else if(t.hasElementWithId(d.id)||l.has(d.id))continue;var p=new WC(t,h,!1);s.push(p),l.add(d.id)}r=s}this.length=0;for(var m=0,g=r.length;m<g;m++){var v=r[m][0];if(v!=null){var y=v._private.data.id;(!n||!i.has(y))&&(n&&i.set(y,{index:this.length,ele:v}),this[this.length]=v,this.length++)}}this._private={eles:this,cy:t,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(b){this.lazyMap=b},rebuildMap:function(){for(var _=this.lazyMap=new eh,k=this.eles,w=0;w<k.length;w++){var T=k[w];_.set(T.id(),{index:w,ele:T})}}},n&&(this._private.map=i),o&&!a&&this.restore()},aa=WC.prototype=so.prototype=Object.create(Array.prototype);aa.instanceString=function(){return"collection"};aa.spawn=function(e,t){return new so(this.cy(),e,t)};aa.spawnSelf=function(){return this.spawn(this)};aa.cy=function(){return this._private.cy};aa.renderer=function(){return this._private.cy.renderer()};aa.element=function(){return this[0]};aa.collection=function(){return Apt(this)?this:new so(this._private.cy,[this])};aa.unique=function(){return new so(this._private.cy,this,!0)};aa.hasElementWithId=function(e){return e=""+e,this._private.map.has(e)};aa.getElementById=function(e){e=""+e;var t=this._private.cy,r=this._private.map.get(e);return r?r.ele:new so(t)};aa.$id=aa.getElementById;aa.poolIndex=function(){var e=this._private.cy,t=e._private.elements,r=this[0]._private.data.id;return t._private.map.get(r).index};aa.indexOf=function(e){var t=e[0]._private.data.id;return this._private.map.get(t).index};aa.indexOfId=function(e){return e=""+e,this._private.map.get(e).index};aa.json=function(e){var t=this.element(),r=this.cy();if(t==null&&e)return this;if(t!=null){var n=t._private;if(un(e)){if(r.startBatch(),e.data){t.data(e.data);var a=n.data;if(t.isEdge()){var i=!1,o={},s=e.data.source,l=e.data.target;s!=null&&s!=a.source&&(o.source=""+s,i=!0),l!=null&&l!=a.target&&(o.target=""+l,i=!0),i&&(t=t.move(o))}else{var u="parent"in e.data,f=e.data.parent;u&&(f!=null||a.parent!=null)&&f!=a.parent&&(f===void 0&&(f=null),f!=null&&(f=""+f),t=t.move({parent:f}))}}e.position&&t.position(e.position);var h=function(g,v,y){var b=e[g];b!=null&&b!==n[g]&&(b?t[v]():t[y]())};return h("removed","remove","restore"),h("selected","select","unselect"),h("selectable","selectify","unselectify"),h("locked","lock","unlock"),h("grabbable","grabify","ungrabify"),h("pannable","panify","unpanify"),e.classes!=null&&t.classes(e.classes),r.endBatch(),this}else if(e===void 0){var d={data:Vc(n.data),position:Vc(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};d.classes="";var p=0;return n.classes.forEach(function(m){return d.classes+=p++===0?m:" "+m}),d}}};aa.jsons=function(){for(var e=[],t=0;t<this.length;t++){var r=this[t],n=r.json();e.push(n)}return e};aa.clone=function(){for(var e=this.cy(),t=[],r=0;r<this.length;r++){var n=this[r],a=n.json(),i=new WC(e,a,!1);t.push(i)}return new so(e,t)};aa.copy=aa.clone;aa.restore=function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=r.cy(),a=n._private,i=[],o=[],s,l=0,u=r.length;l<u;l++){var f=r[l];t&&!f.removed()||(f.isNode()?i.push(f):o.push(f))}s=i.concat(o);var h,d=function(){s.splice(h,1),h--};for(h=0;h<s.length;h++){var p=s[h],m=p._private,g=m.data;if(p.clearTraversalCache(),!(!t&&!m.removed)){if(g.id===void 0)g.id=Wpt();else if(be(g.id))g.id=""+g.id;else if(Wd(g.id)||!Ye(g.id)){_a("Can not create element with invalid string ID `"+g.id+"`"),d();continue}else if(n.hasElementWithId(g.id)){_a("Can not create second element with ID `"+g.id+"`"),d();continue}}var v=g.id;if(p.isNode()){var y=m.position;y.x==null&&(y.x=0),y.y==null&&(y.y=0)}if(p.isEdge()){for(var b=p,_=["source","target"],k=_.length,w=!1,T=0;T<k;T++){var S=_[T],C=g[S];be(C)&&(C=g[S]=""+g[S]),C==null||C===""?(_a("Can not create edge `"+v+"` with unspecified "+S),w=!0):n.hasElementWithId(C)||(_a("Can not create edge `"+v+"` with nonexistant "+S+" `"+C+"`"),w=!0)}if(w){d();continue}var M=n.getElementById(g.source),N=n.getElementById(g.target);M.same(N)?M._private.edges.push(b):(M._private.edges.push(b),N._private.edges.push(b)),b._private.source=M,b._private.target=N}m.map=new eh,m.map.set(v,{ele:p,index:0}),m.removed=!1,t&&n.addToPool(p)}for(var L=0;L<i.length;L++){var E=i[L],A=E._private.data;be(A.parent)&&(A.parent=""+A.parent);var D=A.parent,R=D!=null;if(R||E._private.parent){var I=E._private.parent?n.collection().merge(E._private.parent):n.getElementById(D);if(I.empty())A.parent=void 0;else if(I[0].removed())An("Node added with missing parent, reference to parent removed"),A.parent=void 0,E._private.parent=null;else{for(var O=!1,F=I;!F.empty();){if(E.same(F)){O=!0,A.parent=void 0;break}F=F.parent()}O||(I[0]._private.children.push(E),E._private.parent=I[0],a.hasCompoundNodes=!0)}}}if(s.length>0){for(var P=s.length===r.length?r:new so(n,s),q=0;q<P.length;q++){var $=P[q];$.isNode()||($.parallelEdges().clearTraversalCache(),$.source().clearTraversalCache(),$.target().clearTraversalCache())}var W;a.hasCompoundNodes?W=n.collection().merge(P).merge(P.connectedNodes()).merge(P.parent()):W=P,W.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(e),e?P.emitAndNotify("add"):t&&P.emit("add")}return r};aa.removed=function(){var e=this[0];return e&&e._private.removed};aa.inside=function(){var e=this[0];return e&&!e._private.removed};aa.remove=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=[],a={},i=r._private.cy;function o(D){for(var R=D._private.edges,I=0;I<R.length;I++)l(R[I])}function s(D){for(var R=D._private.children,I=0;I<R.length;I++)l(R[I])}function l(D){var R=a[D.id()];t&&D.removed()||R||(a[D.id()]=!0,D.isNode()?(n.push(D),o(D),s(D)):n.unshift(D))}for(var u=0,f=r.length;u<f;u++){var h=r[u];l(h)}function d(D,R){var I=D._private.edges;Gd(I,R),D.clearTraversalCache()}function p(D){D.clearTraversalCache()}var m=[];m.ids={};function g(D,R){R=R[0],D=D[0];var I=D._private.children,O=D.id();Gd(I,R),R._private.parent=null,m.ids[O]||(m.ids[O]=!0,m.push(D))}r.dirtyCompoundBoundsCache(),t&&i.removeFromPool(n);for(var v=0;v<n.length;v++){var y=n[v];if(y.isEdge()){var b=y.source()[0],_=y.target()[0];d(b,y),d(_,y);for(var k=y.parallelEdges(),w=0;w<k.length;w++){var T=k[w];p(T),T.isBundledBezier()&&T.dirtyBoundingBoxCache()}}else{var S=y.parent();S.length!==0&&g(S,y)}t&&(y._private.removed=!0)}var C=i._private.elements;i._private.hasCompoundNodes=!1;for(var M=0;M<C.length;M++){var N=C[M];if(N.isParent()){i._private.hasCompoundNodes=!0;break}}var L=new so(this.cy(),n);L.size()>0&&(e?L.emitAndNotify("remove"):t&&L.emit("remove"));for(var E=0;E<m.length;E++){var A=m[E];(!t||!A.removed())&&A.updateStyle()}return L};aa.move=function(e){var t=this._private.cy,r=this,n=!1,a=!1,i=function(m){return m==null?m:""+m};if(e.source!==void 0||e.target!==void 0){var o=i(e.source),s=i(e.target),l=o!=null&&t.hasElementWithId(o),u=s!=null&&t.hasElementWithId(s);(l||u)&&(t.batch(function(){r.remove(n,a),r.emitAndNotify("moveout");for(var p=0;p<r.length;p++){var m=r[p],g=m._private.data;m.isEdge()&&(l&&(g.source=o),u&&(g.target=s))}r.restore(n,a)}),r.emitAndNotify("move"))}else if(e.parent!==void 0){var f=i(e.parent),h=f===null||t.hasElementWithId(f);if(h){var d=f===null?void 0:f;t.batch(function(){var p=r.remove(n,a);p.emitAndNotify("moveout");for(var m=0;m<r.length;m++){var g=r[m],v=g._private.data;g.isNode()&&(v.parent=d)}p.restore(n,a)}),r.emitAndNotify("move")}}return this};[e0t,EHt,xC,qd,ev,zHt,KC,rYt,C0t,S0t,sYt,NC,bC,oo,Ud,So].forEach(function(e){Ze(aa,e)});pYt={add:function(t){var r,n=this;if(cl(t)){var a=t;if(a._private.cy===n)r=a.restore();else{for(var i=[],o=0;o<a.length;o++){var s=a[o];i.push(s.json())}r=new so(n,i)}}else if(Yn(t)){var l=t;r=new so(n,l)}else if(un(t)&&(Yn(t.nodes)||Yn(t.edges))){for(var u=t,f=[],h=["nodes","edges"],d=0,p=h.length;d<p;d++){var m=h[d],g=u[m];if(Yn(g))for(var v=0,y=g.length;v<y;v++){var b=Ze({group:m},g[v]);f.push(b)}}r=new so(n,f)}else{var _=t;r=new WC(n,_).collection()}return r},remove:function(t){if(!cl(t)){if(Ye(t)){var r=t;t=this.$(r)}}return t.remove()}};gYt=function(){function e(n){return-n.tension*n.x-n.friction*n.v}function t(n,a,i){var o={x:n.x+i.dx*a,v:n.v+i.dv*a,tension:n.tension,friction:n.friction};return{dx:o.v,dv:e(o)}}function r(n,a){var i={dx:n.v,dv:e(n)},o=t(n,a*.5,i),s=t(n,a*.5,o),l=t(n,a,s),u=1/6*(i.dx+2*(o.dx+s.dx)+l.dx),f=1/6*(i.dv+2*(o.dv+s.dv)+l.dv);return n.x=n.x+u*a,n.v=n.v+f*a,n}return function n(a,i,o){var s={x:-1,v:0,tension:null,friction:null},l=[0],u=0,f=1/1e4,h=16/1e3,d,p,m;for(a=parseFloat(a)||500,i=parseFloat(i)||20,o=o||null,s.tension=a,s.friction=i,d=o!==null,d?(u=n(a,i),p=u/o*h):p=h;m=r(m||s,p),l.push(1+m.x),u+=16,Math.abs(m.x)>f&&Math.abs(m.v)>f;);return d?function(g){return l[g*(l.length-1)|0]}:u}}(),na=function(t,r,n,a){var i=mYt(t,r,n,a);return function(o,s,l){return o+(s-o)*i(l)}},_C={linear:function(t,r,n){return t+(r-t)*n},ease:na(.25,.1,.25,1),"ease-in":na(.42,0,1,1),"ease-out":na(0,0,.58,1),"ease-in-out":na(.42,0,.58,1),"ease-in-sine":na(.47,0,.745,.715),"ease-out-sine":na(.39,.575,.565,1),"ease-in-out-sine":na(.445,.05,.55,.95),"ease-in-quad":na(.55,.085,.68,.53),"ease-out-quad":na(.25,.46,.45,.94),"ease-in-out-quad":na(.455,.03,.515,.955),"ease-in-cubic":na(.55,.055,.675,.19),"ease-out-cubic":na(.215,.61,.355,1),"ease-in-out-cubic":na(.645,.045,.355,1),"ease-in-quart":na(.895,.03,.685,.22),"ease-out-quart":na(.165,.84,.44,1),"ease-in-out-quart":na(.77,0,.175,1),"ease-in-quint":na(.755,.05,.855,.06),"ease-out-quint":na(.23,1,.32,1),"ease-in-out-quint":na(.86,0,.07,1),"ease-in-expo":na(.95,.05,.795,.035),"ease-out-expo":na(.19,1,.22,1),"ease-in-out-expo":na(1,0,0,1),"ease-in-circ":na(.6,.04,.98,.335),"ease-out-circ":na(.075,.82,.165,1),"ease-in-out-circ":na(.785,.135,.15,.86),spring:function(t,r,n){if(n===0)return _C.linear;var a=gYt(t,r,n);return function(i,o,s){return i+(o-i)*a(s)}},"cubic-bezier":na};xYt={animate:Dn.animate(),animation:Dn.animation(),animated:Dn.animated(),clearQueue:Dn.clearQueue(),delay:Dn.delay(),delayAnimation:Dn.delayAnimation(),stop:Dn.stop(),addToAnimationPool:function(t){var r=this;r.styleEnabled()&&r._private.aniEles.merge(t)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var t=this;if(t._private.animationsRunning=!0,!t.styleEnabled())return;function r(){t._private.animationsRunning&&AC(function(i){Qdt(i,t),r()})}var n=t.renderer();n&&n.beforeRender?n.beforeRender(function(i,o){Qdt(o,t)},n.beforeRenderPriorities.animations):r()}},bYt={qualifierCompare:function(t,r){return t==null||r==null?t==null&&r==null:t.sameText(r)},eventMatches:function(t,r,n){var a=r.qualifier;return a!=null?t!==n.target&&E_(n.target)&&a.matches(n.target):!0},addEventFields:function(t,r){r.cy=t,r.target=t},callbackContext:function(t,r,n){return r.qualifier!=null?n.target:t}},hC=function(t){return Ye(t)?new Hd(t):t},L0t={createEmitter:function(){var t=this._private;return t.emitter||(t.emitter=new QC(bYt,this)),this},emitter:function(){return this._private.emitter},on:function(t,r,n){return this.emitter().on(t,hC(r),n),this},removeListener:function(t,r,n){return this.emitter().removeListener(t,hC(r),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(t,r,n){return this.emitter().one(t,hC(r),n),this},once:function(t,r,n){return this.emitter().one(t,hC(r),n),this},emit:function(t,r){return this.emitter().emit(t,r),this},emitAndNotify:function(t,r){return this.emit(t),this.notify(t,r),this}};Dn.eventAliasesOn(L0t);ZO={png:function(t){var r=this._private.renderer;return t=t||{},r.png(t)},jpg:function(t){var r=this._private.renderer;return t=t||{},t.bg=t.bg||"#fff",r.jpg(t)}};ZO.jpeg=ZO.jpg;wC={layout:function(t){var r=this;if(t==null){_a("Layout options must be specified to make a layout");return}if(t.name==null){_a("A `name` must be specified to make a layout");return}var n=t.name,a=r.extension("layout",n);if(a==null){_a("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var i;Ye(t.eles)?i=r.$(t.eles):i=t.eles!=null?t.eles:r.$();var o=new a(Ze({},t,{cy:r,eles:i}));return o}};wC.createLayout=wC.makeLayout=wC.layout;_Yt={notify:function(t,r){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var a=n.batchNotifications[t]=n.batchNotifications[t]||this.collection();r!=null&&a.merge(r);return}if(n.notificationsEnabled){var i=this.renderer();this.destroyed()||!i||i.notify(t,r)}},notifications:function(t){var r=this._private;return t===void 0?r.notificationsEnabled:(r.notificationsEnabled=!!t,this)},noNotifications:function(t){this.notifications(!1),t(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var t=this._private;return t.batchCount==null&&(t.batchCount=0),t.batchCount===0&&(t.batchStyleEles=this.collection(),t.batchNotifications={}),t.batchCount++,this},endBatch:function(){var t=this._private;if(t.batchCount===0)return this;if(t.batchCount--,t.batchCount===0){t.batchStyleEles.updateStyle();var r=this.renderer();Object.keys(t.batchNotifications).forEach(function(n){var a=t.batchNotifications[n];a.empty()?r.notify(n):r.notify(n,a)})}return this},batch:function(t){return this.startBatch(),t(),this.endBatch(),this},batchData:function(t){var r=this;return this.batch(function(){for(var n=Object.keys(t),a=0;a<n.length;a++){var i=n[a],o=t[i],s=r.getElementById(i);s.data(o)}})}},wYt=lo({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:36,webglTexRowsNodes:18,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),JO={renderTo:function(t,r,n,a){var i=this._private.renderer;return i.renderTo(t,r,n,a),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(t){var r=this,n=r.extension("renderer",t.name);if(n==null){_a("Can not initialise: No such renderer `".concat(t.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}t.wheelSensitivity!==void 0&&An("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var a=wYt(t);a.cy=r,r._private.renderer=new n(a),this.notify("init")},destroyRenderer:function(){var t=this;t.notify("destroy");var r=t.container();if(r)for(r._cyreg=null;r.childNodes.length>0;)r.removeChild(r.childNodes[0]);t._private.renderer=null,t.mutableElements().forEach(function(n){var a=n._private;a.rscratch={},a.rstyle={},a.animation.current=[],a.animation.queue=[]})},onRender:function(t){return this.on("render",t)},offRender:function(t){return this.off("render",t)}};JO.invalidateDimensions=JO.resize;TC={collection:function(t,r){return Ye(t)?this.$(t):cl(t)?t.collection():Yn(t)?(r||(r={}),new so(this,t,r.unique,r.removed)):new so(this)},nodes:function(t){var r=this.$(function(n){return n.isNode()});return t?r.filter(t):r},edges:function(t){var r=this.$(function(n){return n.isEdge()});return t?r.filter(t):r},$:function(t){var r=this._private.elements;return t?r.filter(t):r.spawnSelf()},mutableElements:function(){return this._private.elements}};TC.elements=TC.filter=TC.$;Pi={},c_="t",TYt="f";Pi.apply=function(e){for(var t=this,r=t._private,n=r.cy,a=n.collection(),i=0;i<e.length;i++){var o=e[i],s=t.getContextMeta(o);if(!s.empty){var l=t.getContextStyle(s),u=t.applyContextStyle(s,l,o);o._private.appliedInitStyle?t.updateTransitions(o,u.diffProps):o._private.appliedInitStyle=!0;var f=t.updateStyleHints(o);f&&a.push(o)}}return a};Pi.getPropertiesDiff=function(e,t){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},a=e+"-"+t,i=n[a];if(i)return i;for(var o=[],s={},l=0;l<r.length;l++){var u=r[l],f=e[l]===c_,h=t[l]===c_,d=f!==h,p=u.mappedProperties.length>0;if(d||h&&p){var m=void 0;d&&p||d?m=u.properties:p&&(m=u.mappedProperties);for(var g=0;g<m.length;g++){for(var v=m[g],y=v.name,b=!1,_=l+1;_<r.length;_++){var k=r[_],w=t[_]===c_;if(w&&(b=k.properties[v.name]!=null,b))break}!s[y]&&!b&&(s[y]=!0,o.push(y))}}}return n[a]=o,o};Pi.getContextMeta=function(e){for(var t=this,r="",n,a=e._private.styleCxtKey||"",i=0;i<t.length;i++){var o=t[i],s=o.selector&&o.selector.matches(e);s?r+=c_:r+=TYt}return n=t.getPropertiesDiff(a,r),e._private.styleCxtKey=r,{key:r,diffPropNames:n,empty:n.length===0}};Pi.getContextStyle=function(e){var t=e.key,r=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[t])return n[t];for(var a={_private:{key:t}},i=0;i<r.length;i++){var o=r[i],s=t[i]===c_;if(s)for(var l=0;l<o.properties.length;l++){var u=o.properties[l];a[u.name]=u}}return n[t]=a,a};Pi.applyContextStyle=function(e,t,r){for(var n=this,a=e.diffPropNames,i={},o=n.types,s=0;s<a.length;s++){var l=a[s],u=t[l],f=r.pstyle(l);if(!u)if(f)f.bypass?u={name:l,deleteBypassed:!0}:u={name:l,delete:!0};else continue;if(f!==u){if(u.mapped===o.fn&&f!=null&&f.mapping!=null&&f.mapping.value===u.value){var h=f.mapping,d=h.fnValue=u.value(r);if(d===h.prevFnValue)continue}var p=i[l]={prev:f};n.applyParsedProperty(r,u),p.next=r.pstyle(l),p.next&&p.next.bypass&&(p.next=p.next.bypassed)}}return{diffProps:i}};Pi.updateStyleHints=function(e){var t=e._private,r=this,n=r.propertyGroupNames,a=r.propertyGroupKeys,i=function(j,it,K){return r.getPropertiesHash(j,it,K)},o=t.styleKey;if(e.removed())return!1;var s=t.group==="nodes",l=e._private.style;n=Object.keys(l);for(var u=0;u<a.length;u++){var f=a[u];t.styleKeys[f]=[X0,V1]}for(var h=function(j,it){return t.styleKeys[it][0]=d_(j,t.styleKeys[it][0])},d=function(j,it){return t.styleKeys[it][1]=p_(j,t.styleKeys[it][1])},p=function(j,it){h(j,it),d(j,it)},m=function(j,it){for(var K=0;K<j.length;K++){var dt=j.charCodeAt(K);h(dt,it),d(dt,it)}},g=2e9,v=function(j){return-128<j&&j<128&&Math.floor(j)!==j?g-(j*1024|0):j},y=0;y<n.length;y++){var b=n[y],_=l[b];if(_!=null){var k=this.properties[b],w=k.type,T=k.groupKey,S=void 0;k.hashOverride!=null?S=k.hashOverride(e,_):_.pfValue!=null&&(S=_.pfValue);var C=k.enums==null?_.value:null,M=S!=null,N=C!=null,L=M||N,E=_.units;if(w.number&&L&&!w.multiple){var A=M?S:C;p(v(A),T),!M&&E!=null&&m(E,T)}else m(_.strValue,T)}}for(var D=[X0,V1],R=0;R<a.length;R++){var I=a[R],O=t.styleKeys[I];D[0]=d_(O[0],D[0]),D[1]=p_(O[1],D[1])}t.styleKey=$Wt(D[0],D[1]);var F=t.styleKeys;t.labelDimsKey=Od(F.labelDimensions);var P=i(e,["label"],F.labelDimensions);if(t.labelKey=Od(P),t.labelStyleKey=Od(aC(F.commonLabel,P)),!s){var q=i(e,["source-label"],F.labelDimensions);t.sourceLabelKey=Od(q),t.sourceLabelStyleKey=Od(aC(F.commonLabel,q));var $=i(e,["target-label"],F.labelDimensions);t.targetLabelKey=Od($),t.targetLabelStyleKey=Od(aC(F.commonLabel,$))}if(s){var W=t.styleKeys,X=W.nodeBody,tt=W.nodeBorder,Y=W.nodeOutline,ot=W.backgroundImage,Z=W.compound,ct=W.pie,rt=W.stripe,et=[X,tt,Y,ot,Z,ct,rt].filter(function(Q){return Q!=null}).reduce(aC,[X0,V1]);t.nodeKey=Od(et),t.hasPie=ct!=null&&ct[0]!==X0&&ct[1]!==V1,t.hasStripe=rt!=null&&rt[0]!==X0&&rt[1]!==V1}return o!==t.styleKey};Pi.clearStyleHints=function(e){var t=e._private;t.styleCxtKey="",t.styleKeys={},t.styleKey=null,t.labelKey=null,t.labelStyleKey=null,t.sourceLabelKey=null,t.sourceLabelStyleKey=null,t.targetLabelKey=null,t.targetLabelStyleKey=null,t.nodeKey=null,t.hasPie=null,t.hasStripe=null};Pi.applyParsedProperty=function(e,t){var r=this,n=t,a=e._private.style,i,o=r.types,s=r.properties[n.name].type,l=n.bypass,u=a[n.name],f=u&&u.bypass,h=e._private,d="mapping",p=function(X){return X==null?null:X.pfValue!=null?X.pfValue:X.value},m=function(){var X=p(u),tt=p(n);r.checkTriggers(e,n.name,X,tt)};if(t.name==="curve-style"&&e.isEdge()&&(t.value!=="bezier"&&e.isLoop()||t.value==="haystack"&&(e.source().isParent()||e.target().isParent()))&&(n=t=this.parse(t.name,"bezier",l)),n.delete)return a[n.name]=void 0,m(),!0;if(n.deleteBypassed)return u?u.bypass?(u.bypassed=void 0,m(),!0):!1:(m(),!0);if(n.deleteBypass)return u?u.bypass?(a[n.name]=u.bypassed,m(),!0):!1:(m(),!0);var g=function(){An("Do not assign mappings to elements without corresponding data (i.e. ele `"+e.id()+"` has no mapping for property `"+n.name+"` with data field `"+n.field+"`); try a `["+n.field+"]` selector to limit scope to elements with `"+n.field+"` defined")};switch(n.mapped){case o.mapData:{for(var v=n.field.split("."),y=h.data,b=0;b<v.length&&y;b++){var _=v[b];y=y[_]}if(y==null)return g(),!1;var k;if(be(y)){var w=n.fieldMax-n.fieldMin;w===0?k=0:k=(y-n.fieldMin)/w}else return An("Do not use continuous mappers without specifying numeric data (i.e. `"+n.field+": "+y+"` for `"+e.id()+"` is non-numeric)"),!1;if(k<0?k=0:k>1&&(k=1),s.color){var T=n.valueMin[0],S=n.valueMax[0],C=n.valueMin[1],M=n.valueMax[1],N=n.valueMin[2],L=n.valueMax[2],E=n.valueMin[3]==null?1:n.valueMin[3],A=n.valueMax[3]==null?1:n.valueMax[3],D=[Math.round(T+(S-T)*k),Math.round(C+(M-C)*k),Math.round(N+(L-N)*k),Math.round(E+(A-E)*k)];i={bypass:n.bypass,name:n.name,value:D,strValue:"rgb("+D[0]+", "+D[1]+", "+D[2]+")"}}else if(s.number){var R=n.valueMin+(n.valueMax-n.valueMin)*k;i=this.parse(n.name,R,n.bypass,d)}else return!1;if(!i)return g(),!1;i.mapping=n,n=i;break}case o.data:{for(var I=n.field.split("."),O=h.data,F=0;F<I.length&&O;F++){var P=I[F];O=O[P]}if(O!=null&&(i=this.parse(n.name,O,n.bypass,d)),!i)return g(),!1;i.mapping=n,n=i;break}case o.fn:{var q=n.value,$=n.fnValue!=null?n.fnValue:q(e);if(n.prevFnValue=$,$==null)return An("Custom function mappers may not return null (i.e. `"+n.name+"` for ele `"+e.id()+"` is null)"),!1;if(i=this.parse(n.name,$,n.bypass,d),!i)return An("Custom function mappers may not return invalid values for the property type (i.e. `"+n.name+"` for ele `"+e.id()+"` is invalid)"),!1;i.mapping=Vc(n),n=i;break}case void 0:break;default:return!1}return l?(f?n.bypassed=u.bypassed:n.bypassed=u,a[n.name]=n):f?u.bypassed=n:a[n.name]=n,m(),!0};Pi.cleanElements=function(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),!t)n._private.style={};else for(var a=n._private.style,i=Object.keys(a),o=0;o<i.length;o++){var s=i[o],l=a[s];l!=null&&(l.bypass?l.bypassed=null:a[s]=null)}}};Pi.update=function(){var e=this._private.cy,t=e.mutableElements();t.updateStyle()};Pi.updateTransitions=function(e,t){var r=this,n=e._private,a=e.pstyle("transition-property").value,i=e.pstyle("transition-duration").pfValue,o=e.pstyle("transition-delay").pfValue;if(a.length>0&&i>0){for(var s={},l=!1,u=0;u<a.length;u++){var f=a[u],h=e.pstyle(f),d=t[f];if(d){var p=d.prev,m=p,g=d.next!=null?d.next:h,v=!1,y=void 0,b=1e-6;m&&(be(m.pfValue)&&be(g.pfValue)?(v=g.pfValue-m.pfValue,y=m.pfValue+b*v):be(m.value)&&be(g.value)?(v=g.value-m.value,y=m.value+b*v):Yn(m.value)&&Yn(g.value)&&(v=m.value[0]!==g.value[0]||m.value[1]!==g.value[1]||m.value[2]!==g.value[2],y=m.strValue),v&&(s[f]=g.strValue,this.applyBypass(e,f,y),l=!0))}}if(!l)return;n.transitioning=!0,new nv(function(_){o>0?e.delayAnimation(o).play().promise().then(_):_()}).then(function(){return e.animation({style:s,duration:i,easing:e.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(e,a),e.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(e,a),e.emitAndNotify("style"),n.transitioning=!1)};Pi.checkTrigger=function(e,t,r,n,a,i){var o=this.properties[t],s=a(o);e.removed()||s!=null&&s(r,n,e)&&i(o)};Pi.checkZOrderTrigger=function(e,t,r,n){var a=this;this.checkTrigger(e,t,r,n,function(i){return i.triggersZOrder},function(){a._private.cy.notify("zorder",e)})};Pi.checkBoundsTrigger=function(e,t,r,n){this.checkTrigger(e,t,r,n,function(a){return a.triggersBounds},function(a){e.dirtyCompoundBoundsCache(),e.dirtyBoundingBoxCache()})};Pi.checkConnectedEdgesBoundsTrigger=function(e,t,r,n){this.checkTrigger(e,t,r,n,function(a){return a.triggersBoundsOfConnectedEdges},function(a){e.connectedEdges().forEach(function(i){i.dirtyBoundingBoxCache()})})};Pi.checkParallelEdgesBoundsTrigger=function(e,t,r,n){this.checkTrigger(e,t,r,n,function(a){return a.triggersBoundsOfParallelEdges},function(a){e.parallelEdges().forEach(function(i){i.dirtyBoundingBoxCache()})})};Pi.checkTriggers=function(e,t,r,n){e.dirtyStyleCache(),this.checkZOrderTrigger(e,t,r,n),this.checkBoundsTrigger(e,t,r,n),this.checkConnectedEdgesBoundsTrigger(e,t,r,n),this.checkParallelEdgesBoundsTrigger(e,t,r,n)};M_={};M_.applyBypass=function(e,t,r,n){var a=this,i=[],o=!0;if(t==="*"||t==="**"){if(r!==void 0)for(var s=0;s<a.properties.length;s++){var l=a.properties[s],u=l.name,f=this.parse(u,r,!0);f&&i.push(f)}}else if(Ye(t)){var h=this.parse(t,r,!0);h&&i.push(h)}else if(un(t)){var d=t;n=r;for(var p=Object.keys(d),m=0;m<p.length;m++){var g=p[m],v=d[g];if(v===void 0&&(v=d[qC(g)]),v!==void 0){var y=this.parse(g,v,!0);y&&i.push(y)}}}else return!1;if(i.length===0)return!1;for(var b=!1,_=0;_<e.length;_++){for(var k=e[_],w={},T=void 0,S=0;S<i.length;S++){var C=i[S];if(n){var M=k.pstyle(C.name);T=w[C.name]={prev:M}}b=this.applyParsedProperty(k,Vc(C))||b,n&&(T.next=k.pstyle(C.name))}b&&this.updateStyleHints(k),n&&this.updateTransitions(k,w,o)}return b};M_.overrideBypass=function(e,t,r){t=fF(t);for(var n=0;n<e.length;n++){var a=e[n],i=a._private.style[t],o=this.properties[t].type,s=o.color,l=o.mutiple,u=i?i.pfValue!=null?i.pfValue:i.value:null;!i||!i.bypass?this.applyBypass(a,t,r):(i.value=r,i.pfValue!=null&&(i.pfValue=r),s?i.strValue="rgb("+r.join(",")+")":l?i.strValue=r.join(" "):i.strValue=""+r,this.updateStyleHints(a)),this.checkTriggers(a,t,u,r)}};M_.removeAllBypasses=function(e,t){return this.removeBypasses(e,this.propertyNames,t)};M_.removeBypasses=function(e,t,r){for(var n=!0,a=0;a<e.length;a++){for(var i=e[a],o={},s=0;s<t.length;s++){var l=t[s],u=this.properties[l],f=i.pstyle(u.name);if(!(!f||!f.bypass)){var h="",d=this.parse(l,h,!0),p=o[u.name]={prev:f};this.applyParsedProperty(i,d),p.next=i.pstyle(u.name)}}this.updateStyleHints(i),r&&this.updateTransitions(i,o,n)}};CF={};CF.getEmSizeInPixels=function(){var e=this.containerCss("font-size");return e!=null?parseFloat(e):1};CF.containerCss=function(e){var t=this._private.cy,r=t.container(),n=t.window();if(n&&r&&n.getComputedStyle)return n.getComputedStyle(r).getPropertyValue(e)};Hc={};Hc.getRenderedStyle=function(e,t){return t?this.getStylePropertyValue(e,t,!0):this.getRawStyle(e,!0)};Hc.getRawStyle=function(e,t){var r=this;if(e=e[0],e){for(var n={},a=0;a<r.properties.length;a++){var i=r.properties[a],o=r.getStylePropertyValue(e,i.name,t);o!=null&&(n[i.name]=o,n[qC(i.name)]=o)}return n}};Hc.getIndexedStyle=function(e,t,r,n){var a=e.pstyle(t)[r][n];return a??e.cy().style().getDefaultProperty(t)[r][0]};Hc.getStylePropertyValue=function(e,t,r){var n=this;if(e=e[0],e){var a=n.properties[t];a.alias&&(a=a.pointsTo);var i=a.type,o=e.pstyle(a.name);if(o){var s=o.value,l=o.units,u=o.strValue;if(r&&i.number&&s!=null&&be(s)){var f=e.cy().zoom(),h=function(v){return v*f},d=function(v,y){return h(v)+y},p=Yn(s),m=p?l.every(function(g){return g!=null}):l!=null;return m?p?s.map(function(g,v){return d(g,l[v])}).join(" "):d(s,l):p?s.map(function(g){return Ye(g)?g:""+h(g)}).join(" "):""+h(s)}else if(u!=null)return u}return null}};Hc.getAnimationStartStyle=function(e,t){for(var r={},n=0;n<t.length;n++){var a=t[n],i=a.name,o=e.pstyle(i);o!==void 0&&(un(o)?o=this.parse(i,o.strValue):o=this.parse(i,o)),o&&(r[i]=o)}return r};Hc.getPropsList=function(e){var t=this,r=[],n=e,a=t.properties;if(n)for(var i=Object.keys(n),o=0;o<i.length;o++){var s=i[o],l=n[s],u=a[s]||a[fF(s)],f=this.parse(u.name,l);f&&r.push(f)}return r};Hc.getNonDefaultPropertiesHash=function(e,t,r){var n=r.slice(),a,i,o,s,l,u;for(l=0;l<t.length;l++)if(a=t[l],i=e.pstyle(a,!1),i!=null)if(i.pfValue!=null)n[0]=d_(s,n[0]),n[1]=p_(s,n[1]);else for(o=i.strValue,u=0;u<o.length;u++)s=o.charCodeAt(u),n[0]=d_(s,n[0]),n[1]=p_(s,n[1]);return n};Hc.getPropertiesHash=Hc.getNonDefaultPropertiesHash;tS={};tS.appendFromJson=function(e){for(var t=this,r=0;r<e.length;r++){var n=e[r],a=n.selector,i=n.style||n.css,o=Object.keys(i);t.selector(a);for(var s=0;s<o.length;s++){var l=o[s],u=i[l];t.css(l,u)}}return t};tS.fromJson=function(e){var t=this;return t.resetToDefault(),t.appendFromJson(e),t};tS.json=function(){for(var e=[],t=this.defaultLength;t<this.length;t++){for(var r=this[t],n=r.selector,a=r.properties,i={},o=0;o<a.length;o++){var s=a[o];i[s.name]=s.strValue}e.push({selector:n?n.toString():"core",style:i})}return e};SF={};SF.appendFromString=function(e){var t=this,r=this,n=""+e,a,i,o;n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");function s(){n.length>a.length?n=n.substr(a.length):n=""}function l(){i.length>o.length?i=i.substr(o.length):i=""}for(;;){var u=n.match(/^\s*$/);if(u)break;var f=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!f){An("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}a=f[0];var h=f[1];if(h!=="core"){var d=new Hd(h);if(d.invalid){An("Skipping parsing of block: Invalid selector found in string stylesheet: "+h),s();continue}}var p=f[2],m=!1;i=p;for(var g=[];;){var v=i.match(/^\s*$/);if(v)break;var y=i.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!y){An("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+p),m=!0;break}o=y[0];var b=y[1],_=y[2],k=t.properties[b];if(!k){An("Skipping property: Invalid property name in: "+o),l();continue}var w=r.parse(b,_);if(!w){An("Skipping property: Invalid property definition in: "+o),l();continue}g.push({name:b,val:_}),l()}if(m){s();break}r.selector(h);for(var T=0;T<g.length;T++){var S=g[T];r.css(S.name,S.val)}s()}return r};SF.fromString=function(e){var t=this;return t.resetToDefault(),t.appendFromString(e),t};ai={};(function(){var e=yi,t=vWt,r=xWt,n=bWt,a=_Wt,i=function(Q){return"^"+Q+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},o=function(Q){var j=e+"|\\w+|"+t+"|"+r+"|"+n+"|"+a;return"^"+Q+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+e+")\\s*\\,\\s*("+e+")\\s*,\\s*("+j+")\\s*\\,\\s*("+j+")\\)$"},s=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];ai.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},axisDirectionExplicit:{enums:["leftward","rightward","upward","downward"]},axisDirectionPrimary:{enums:["horizontal","vertical"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},boxSelection:{enums:["contain","overlap","none"]},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle","circle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:i("data")},layoutData:{mapping:!0,regex:i("layoutData")},scratch:{mapping:!0,regex:i("scratch")},mapData:{mapping:!0,regex:o("mapData")},mapLayoutData:{mapping:!0,regex:o("mapLayoutData")},mapScratch:{mapping:!0,regex:o("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:s,singleRegexMatchValue:!0},urls:{regexes:s,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(Q,j){switch(Q.length){case 2:return j[0]!=="deg"&&j[0]!=="rad"&&j[1]!=="deg"&&j[1]!=="rad";case 1:return Ye(Q[0])||j[0]==="deg"||j[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(Q){var j=Q.length;return j===1||j===2||j===4}}};var l={zeroNonZero:function(Q,j){return(Q==null||j==null)&&Q!==j||Q==0&&j!=0?!0:Q!=0&&j==0},any:function(Q,j){return Q!=j},emptyNonEmpty:function(Q,j){var it=Wd(Q),K=Wd(j);return it&&!K||!it&&K}},u=ai.types,f=[{name:"label",type:u.text,triggersBounds:l.any,triggersZOrder:l.emptyNonEmpty},{name:"text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any}],h=[{name:"source-label",type:u.text,triggersBounds:l.any},{name:"source-text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"source-text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"source-text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"source-text-offset",type:u.size,triggersBounds:l.any}],d=[{name:"target-label",type:u.text,triggersBounds:l.any},{name:"target-text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"target-text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"target-text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"target-text-offset",type:u.size,triggersBounds:l.any}],p=[{name:"font-family",type:u.fontFamily,triggersBounds:l.any},{name:"font-style",type:u.fontStyle,triggersBounds:l.any},{name:"font-weight",type:u.fontWeight,triggersBounds:l.any},{name:"font-size",type:u.size,triggersBounds:l.any},{name:"text-transform",type:u.textTransform,triggersBounds:l.any},{name:"text-wrap",type:u.textWrap,triggersBounds:l.any},{name:"text-overflow-wrap",type:u.textOverflowWrap,triggersBounds:l.any},{name:"text-max-width",type:u.size,triggersBounds:l.any},{name:"text-outline-width",type:u.size,triggersBounds:l.any},{name:"line-height",type:u.positiveNumber,triggersBounds:l.any}],m=[{name:"text-valign",type:u.valign,triggersBounds:l.any},{name:"text-halign",type:u.halign,triggersBounds:l.any},{name:"color",type:u.color},{name:"text-outline-color",type:u.color},{name:"text-outline-opacity",type:u.zeroOneNumber},{name:"text-background-color",type:u.color},{name:"text-background-opacity",type:u.zeroOneNumber},{name:"text-background-padding",type:u.size,triggersBounds:l.any},{name:"text-border-opacity",type:u.zeroOneNumber},{name:"text-border-color",type:u.color},{name:"text-border-width",type:u.size,triggersBounds:l.any},{name:"text-border-style",type:u.borderStyle,triggersBounds:l.any},{name:"text-background-shape",type:u.textBackgroundShape,triggersBounds:l.any},{name:"text-justification",type:u.justification},{name:"box-select-labels",type:u.bool,triggersBounds:l.any}],g=[{name:"events",type:u.bool,triggersZOrder:l.any},{name:"text-events",type:u.bool,triggersZOrder:l.any},{name:"box-selection",type:u.boxSelection,triggersZOrder:l.any}],v=[{name:"display",type:u.display,triggersZOrder:l.any,triggersBounds:l.any,triggersBoundsOfConnectedEdges:l.any,triggersBoundsOfParallelEdges:function(Q,j,it){return Q===j?!1:it.pstyle("curve-style").value==="bezier"}},{name:"visibility",type:u.visibility,triggersZOrder:l.any},{name:"opacity",type:u.zeroOneNumber,triggersZOrder:l.zeroNonZero},{name:"text-opacity",type:u.zeroOneNumber},{name:"min-zoomed-font-size",type:u.size},{name:"z-compound-depth",type:u.zCompoundDepth,triggersZOrder:l.any},{name:"z-index-compare",type:u.zIndexCompare,triggersZOrder:l.any},{name:"z-index",type:u.number,triggersZOrder:l.any}],y=[{name:"overlay-padding",type:u.size,triggersBounds:l.any},{name:"overlay-color",type:u.color},{name:"overlay-opacity",type:u.zeroOneNumber,triggersBounds:l.zeroNonZero},{name:"overlay-shape",type:u.overlayShape,triggersBounds:l.any},{name:"overlay-corner-radius",type:u.cornerRadius}],b=[{name:"underlay-padding",type:u.size,triggersBounds:l.any},{name:"underlay-color",type:u.color},{name:"underlay-opacity",type:u.zeroOneNumber,triggersBounds:l.zeroNonZero},{name:"underlay-shape",type:u.overlayShape,triggersBounds:l.any},{name:"underlay-corner-radius",type:u.cornerRadius}],_=[{name:"transition-property",type:u.propList},{name:"transition-duration",type:u.time},{name:"transition-delay",type:u.time},{name:"transition-timing-function",type:u.easing}],k=function(Q,j){return j.value==="label"?-Q.poolIndex():j.pfValue},w=[{name:"height",type:u.nodeSize,triggersBounds:l.any,hashOverride:k},{name:"width",type:u.nodeSize,triggersBounds:l.any,hashOverride:k},{name:"shape",type:u.nodeShape,triggersBounds:l.any},{name:"shape-polygon-points",type:u.polygonPointList,triggersBounds:l.any},{name:"corner-radius",type:u.cornerRadius},{name:"background-color",type:u.color},{name:"background-fill",type:u.fill},{name:"background-opacity",type:u.zeroOneNumber},{name:"background-blacken",type:u.nOneOneNumber},{name:"background-gradient-stop-colors",type:u.colors},{name:"background-gradient-stop-positions",type:u.percentages},{name:"background-gradient-direction",type:u.gradientDirection},{name:"padding",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"padding-relative-to",type:u.paddingRelativeTo,triggersBounds:l.any},{name:"bounds-expansion",type:u.boundsExpansion,triggersBounds:l.any}],T=[{name:"border-color",type:u.color},{name:"border-opacity",type:u.zeroOneNumber},{name:"border-width",type:u.size,triggersBounds:l.any},{name:"border-style",type:u.borderStyle},{name:"border-cap",type:u.lineCap},{name:"border-join",type:u.lineJoin},{name:"border-dash-pattern",type:u.numbers},{name:"border-dash-offset",type:u.number},{name:"border-position",type:u.linePosition}],S=[{name:"outline-color",type:u.color},{name:"outline-opacity",type:u.zeroOneNumber},{name:"outline-width",type:u.size,triggersBounds:l.any},{name:"outline-style",type:u.borderStyle},{name:"outline-offset",type:u.size,triggersBounds:l.any}],C=[{name:"background-image",type:u.urls},{name:"background-image-crossorigin",type:u.bgCrossOrigin},{name:"background-image-opacity",type:u.zeroOneNumbers},{name:"background-image-containment",type:u.bgContainment},{name:"background-image-smoothing",type:u.bools},{name:"background-position-x",type:u.bgPos},{name:"background-position-y",type:u.bgPos},{name:"background-width-relative-to",type:u.bgRelativeTo},{name:"background-height-relative-to",type:u.bgRelativeTo},{name:"background-repeat",type:u.bgRepeat},{name:"background-fit",type:u.bgFit},{name:"background-clip",type:u.bgClip},{name:"background-width",type:u.bgWH},{name:"background-height",type:u.bgWH},{name:"background-offset-x",type:u.bgPos},{name:"background-offset-y",type:u.bgPos}],M=[{name:"position",type:u.position,triggersBounds:l.any},{name:"compound-sizing-wrt-labels",type:u.compoundIncludeLabels,triggersBounds:l.any},{name:"min-width",type:u.size,triggersBounds:l.any},{name:"min-width-bias-left",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-width-bias-right",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-height",type:u.size,triggersBounds:l.any},{name:"min-height-bias-top",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-height-bias-bottom",type:u.sizeMaybePercent,triggersBounds:l.any}],N=[{name:"line-style",type:u.lineStyle},{name:"line-color",type:u.color},{name:"line-fill",type:u.fill},{name:"line-cap",type:u.lineCap},{name:"line-opacity",type:u.zeroOneNumber},{name:"line-dash-pattern",type:u.numbers},{name:"line-dash-offset",type:u.number},{name:"line-outline-width",type:u.size},{name:"line-outline-color",type:u.color},{name:"line-gradient-stop-colors",type:u.colors},{name:"line-gradient-stop-positions",type:u.percentages},{name:"curve-style",type:u.curveStyle,triggersBounds:l.any,triggersBoundsOfParallelEdges:function(Q,j){return Q===j?!1:Q==="bezier"||j==="bezier"}},{name:"haystack-radius",type:u.zeroOneNumber,triggersBounds:l.any},{name:"source-endpoint",type:u.edgeEndpoint,triggersBounds:l.any},{name:"target-endpoint",type:u.edgeEndpoint,triggersBounds:l.any},{name:"control-point-step-size",type:u.size,triggersBounds:l.any},{name:"control-point-distances",type:u.bidirectionalSizes,triggersBounds:l.any},{name:"control-point-weights",type:u.numbers,triggersBounds:l.any},{name:"segment-distances",type:u.bidirectionalSizes,triggersBounds:l.any},{name:"segment-weights",type:u.numbers,triggersBounds:l.any},{name:"segment-radii",type:u.numbers,triggersBounds:l.any},{name:"radius-type",type:u.radiusType,triggersBounds:l.any},{name:"taxi-turn",type:u.bidirectionalSizeMaybePercent,triggersBounds:l.any},{name:"taxi-turn-min-distance",type:u.size,triggersBounds:l.any},{name:"taxi-direction",type:u.axisDirection,triggersBounds:l.any},{name:"taxi-radius",type:u.number,triggersBounds:l.any},{name:"edge-distances",type:u.edgeDistances,triggersBounds:l.any},{name:"arrow-scale",type:u.positiveNumber,triggersBounds:l.any},{name:"loop-direction",type:u.angle,triggersBounds:l.any},{name:"loop-sweep",type:u.angle,triggersBounds:l.any},{name:"source-distance-from-node",type:u.size,triggersBounds:l.any},{name:"target-distance-from-node",type:u.size,triggersBounds:l.any}],L=[{name:"ghost",type:u.bool,triggersBounds:l.any},{name:"ghost-offset-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"ghost-offset-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"ghost-opacity",type:u.zeroOneNumber}],E=[{name:"selection-box-color",type:u.color},{name:"selection-box-opacity",type:u.zeroOneNumber},{name:"selection-box-border-color",type:u.color},{name:"selection-box-border-width",type:u.size},{name:"active-bg-color",type:u.color},{name:"active-bg-opacity",type:u.zeroOneNumber},{name:"active-bg-size",type:u.size},{name:"outside-texture-bg-color",type:u.color},{name:"outside-texture-bg-opacity",type:u.zeroOneNumber}],A=[];ai.pieBackgroundN=16,A.push({name:"pie-size",type:u.sizeMaybePercent}),A.push({name:"pie-hole",type:u.sizeMaybePercent}),A.push({name:"pie-start-angle",type:u.angle});for(var D=1;D<=ai.pieBackgroundN;D++)A.push({name:"pie-"+D+"-background-color",type:u.color}),A.push({name:"pie-"+D+"-background-size",type:u.percent}),A.push({name:"pie-"+D+"-background-opacity",type:u.zeroOneNumber});var R=[];ai.stripeBackgroundN=16,R.push({name:"stripe-size",type:u.sizeMaybePercent}),R.push({name:"stripe-direction",type:u.axisDirectionPrimary});for(var I=1;I<=ai.stripeBackgroundN;I++)R.push({name:"stripe-"+I+"-background-color",type:u.color}),R.push({name:"stripe-"+I+"-background-size",type:u.percent}),R.push({name:"stripe-"+I+"-background-opacity",type:u.zeroOneNumber});var O=[],F=ai.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:u.arrowShape,triggersBounds:l.any},{name:"arrow-color",type:u.color},{name:"arrow-fill",type:u.arrowFill},{name:"arrow-width",type:u.arrowWidth}].forEach(function(et){F.forEach(function(Q){var j=Q+"-"+et.name,it=et.type,K=et.triggersBounds;O.push({name:j,type:it,triggersBounds:K})})},{});var P=ai.properties=[].concat(g,_,v,y,b,L,m,p,f,h,d,w,T,S,C,A,R,M,N,O,E),q=ai.propertyGroups={behavior:g,transition:_,visibility:v,overlay:y,underlay:b,ghost:L,commonLabel:m,labelDimensions:p,mainLabel:f,sourceLabel:h,targetLabel:d,nodeBody:w,nodeBorder:T,nodeOutline:S,backgroundImage:C,pie:A,stripe:R,compound:M,edgeLine:N,edgeArrow:O,core:E},$=ai.propertyGroupNames={},W=ai.propertyGroupKeys=Object.keys(q);W.forEach(function(et){$[et]=q[et].map(function(Q){return Q.name}),q[et].forEach(function(Q){return Q.groupKey=et})});var X=ai.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];ai.propertyNames=P.map(function(et){return et.name});for(var tt=0;tt<P.length;tt++){var Y=P[tt];P[Y.name]=Y}for(var ot=0;ot<X.length;ot++){var Z=X[ot],ct=P[Z.pointsTo],rt={name:Z.name,alias:!0,pointsTo:ct};P.push(rt),P[Z.name]=rt}})();ai.getDefaultProperty=function(e){return this.getDefaultProperties()[e]};ai.getDefaultProperties=function(){var e=this._private;if(e.defaultProperties!=null)return e.defaultProperties;for(var t=Ze({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","box-selection":"contain","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","box-select-labels":"no","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%","pie-hole":0,"pie-start-angle":"0deg"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(l,u){for(var f=1;f<=ai.pieBackgroundN;f++){var h=u.name.replace("{{i}}",f),d=u.value;l[h]=d}return l},{}),{"stripe-size":"100%","stripe-direction":"horizontal"},[{name:"stripe-{{i}}-background-color",value:"black"},{name:"stripe-{{i}}-background-size",value:"0%"},{name:"stripe-{{i}}-background-opacity",value:1}].reduce(function(l,u){for(var f=1;f<=ai.stripeBackgroundN;f++){var h=u.name.replace("{{i}}",f),d=u.value;l[h]=d}return l},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(l,u){return ai.arrowPrefixes.forEach(function(f){var h=f+"-"+u.name,d=u.value;l[h]=d}),l},{})),r={},n=0;n<this.properties.length;n++){var a=this.properties[n];if(!a.pointsTo){var i=a.name,o=t[i],s=this.parse(i,o);r[i]=s}}return e.defaultProperties=r,e.defaultProperties};ai.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};eS={};eS.parse=function(e,t,r,n){var a=this;if(Fa(t))return a.parseImplWarn(e,t,r,n);var i=n==="mapping"||n===!0||n===!1||n==null?"dontcare":n,o=r?"t":"f",s=""+t,l=zpt(e,s,o,i),u=a.propCache=a.propCache||[],f;return(f=u[l])||(f=u[l]=a.parseImplWarn(e,t,r,n)),(r||n==="mapping")&&(f=Vc(f),f&&(f.value=Vc(f.value))),f};eS.parseImplWarn=function(e,t,r,n){var a=this.parseImpl(e,t,r,n);return!a&&t!=null&&An("The style property `".concat(e,": ").concat(t,"` is invalid")),a&&(a.name==="width"||a.name==="height")&&t==="label"&&An("The style value of `label` is deprecated for `"+a.name+"`"),a};eS.parseImpl=function(e,t,r,n){var a=this;e=fF(e);var i=a.properties[e],o=t,s=a.types;if(!i||t===void 0)return null;i.alias&&(i=i.pointsTo,e=i.name);var l=Ye(t);l&&(t=t.trim());var u=i.type;if(!u)return null;if(r&&(t===""||t===null))return{name:e,value:t,bypass:!0,deleteBypass:!0};if(Fa(t))return{name:e,value:t,strValue:"fn",mapped:s.fn,bypass:r};var f,h;if(!(!l||n||t.length<7||t[1]!=="a")){if(t.length>=7&&t[0]==="d"&&(f=new RegExp(s.data.regex).exec(t))){if(r)return!1;var d=s.data;return{name:e,value:f,strValue:""+t,mapped:d,field:f[1],bypass:r}}else if(t.length>=10&&t[0]==="m"&&(h=new RegExp(s.mapData.regex).exec(t))){if(r||u.multiple)return!1;var p=s.mapData;if(!(u.color||u.number))return!1;var m=this.parse(e,h[4]);if(!m||m.mapped)return!1;var g=this.parse(e,h[5]);if(!g||g.mapped)return!1;if(m.pfValue===g.pfValue||m.strValue===g.strValue)return An("`"+e+": "+t+"` is not a valid mapper because the output range is zero; converting to `"+e+": "+m.strValue+"`"),this.parse(e,m.strValue);if(u.color){var v=m.value,y=g.value,b=v[0]===y[0]&&v[1]===y[1]&&v[2]===y[2]&&(v[3]===y[3]||(v[3]==null||v[3]===1)&&(y[3]==null||y[3]===1));if(b)return!1}return{name:e,value:h,strValue:""+t,mapped:p,field:h[1],fieldMin:parseFloat(h[2]),fieldMax:parseFloat(h[3]),valueMin:m.value,valueMax:g.value,bypass:r}}}if(u.multiple&&n!=="multiple"){var _;if(l?_=t.split(/\s+/):Yn(t)?_=t:_=[t],u.evenMultiple&&_.length%2!==0)return null;for(var k=[],w=[],T=[],S="",C=!1,M=0;M<_.length;M++){var N=a.parse(e,_[M],r,"multiple");C=C||Ye(N.value),k.push(N.value),T.push(N.pfValue!=null?N.pfValue:N.value),w.push(N.units),S+=(M>0?" ":"")+N.strValue}return u.validate&&!u.validate(k,w)?null:u.singleEnum&&C?k.length===1&&Ye(k[0])?{name:e,value:k[0],strValue:k[0],bypass:r}:null:{name:e,value:k,pfValue:T,strValue:S,bypass:r,units:w}}var L=function(){for(var rt=0;rt<u.enums.length;rt++){var et=u.enums[rt];if(et===t)return{name:e,value:t,strValue:""+t,bypass:r}}return null};if(u.number){var E,A="px";if(u.units&&(E=u.units),u.implicitUnits&&(A=u.implicitUnits),!u.unitless)if(l){var D="px|em"+(u.allowPercent?"|\\%":"");E&&(D=E);var R=t.match("^("+yi+")("+D+")?$");R&&(t=R[1],E=R[2]||A)}else(!E||u.implicitUnits)&&(E=A);if(t=parseFloat(t),isNaN(t)&&u.enums===void 0)return null;if(isNaN(t)&&u.enums!==void 0)return t=o,L();if(u.integer&&!cWt(t)||u.min!==void 0&&(t<u.min||u.strictMin&&t===u.min)||u.max!==void 0&&(t>u.max||u.strictMax&&t===u.max))return null;var I={name:e,value:t,strValue:""+t+(E||""),units:E,bypass:r};return u.unitless||E!=="px"&&E!=="em"?I.pfValue=t:I.pfValue=E==="px"||!E?t:this.getEmSizeInPixels()*t,(E==="ms"||E==="s")&&(I.pfValue=E==="ms"?t:1e3*t),(E==="deg"||E==="rad")&&(I.pfValue=E==="rad"?t:bGt(t)),E==="%"&&(I.pfValue=t/100),I}else if(u.propList){var O=[],F=""+t;if(F!=="none"){for(var P=F.split(/\s*,\s*|\s+/),q=0;q<P.length;q++){var $=P[q].trim();a.properties[$]?O.push($):An("`"+$+"` is not a valid property name")}if(O.length===0)return null}return{name:e,value:O,strValue:O.length===0?"none":O.join(" "),bypass:r}}else if(u.color){var W=Rpt(t);return W?{name:e,value:W,pfValue:W,strValue:"rgb("+W[0]+","+W[1]+","+W[2]+")",bypass:r}:null}else if(u.regex||u.regexes){if(u.enums){var X=L();if(X)return X}for(var tt=u.regexes?u.regexes:[u.regex],Y=0;Y<tt.length;Y++){var ot=new RegExp(tt[Y]),Z=ot.exec(t);if(Z)return{name:e,value:u.singleRegexMatchValue?Z[1]:Z,strValue:""+t,bypass:r}}return null}else return u.string?{name:e,value:""+t,strValue:""+t,bypass:r}:u.enums?L():null};Fi=function(t){if(!(this instanceof Fi))return new Fi(t);if(!cF(t)){_a("A style must have a core reference");return}this._private={cy:t,coreStyle:{}},this.length=0,this.resetToDefault()},Do=Fi.prototype;Do.instanceString=function(){return"style"};Do.clear=function(){for(var e=this._private,t=e.cy,r=t.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,e.contextStyles={},e.propDiffs={},this.cleanElements(r,!0),r.forEach(function(a){var i=a[0]._private;i.styleDirty=!0,i.appliedInitStyle=!1}),this};Do.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};Do.core=function(e){return this._private.coreStyle[e]||this.getDefaultProperty(e)};Do.selector=function(e){var t=e==="core"?null:new Hd(e),r=this.length++;return this[r]={selector:t,properties:[],mappedProperties:[],index:r},this};Do.css=function(){var e=this,t=arguments;if(t.length===1)for(var r=t[0],n=0;n<e.properties.length;n++){var a=e.properties[n],i=r[a.name];i===void 0&&(i=r[qC(a.name)]),i!==void 0&&this.cssRule(a.name,i)}else t.length===2&&this.cssRule(t[0],t[1]);return this};Do.style=Do.css;Do.cssRule=function(e,t){var r=this.parse(e,t);if(r){var n=this.length-1;this[n].properties.push(r),this[n].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.name.match(/stripe-(\d+)-background-size/)&&r.value&&(this._private.hasStripe=!0),r.mapped&&this[n].mappedProperties.push(r);var a=!this[n].selector;a&&(this._private.coreStyle[r.name]=r)}return this};Do.append=function(e){return Lpt(e)?e.appendToStyle(this):Yn(e)?this.appendFromJson(e):Ye(e)&&this.appendFromString(e),this};Fi.fromJson=function(e,t){var r=new Fi(e);return r.fromJson(t),r};Fi.fromString=function(e,t){return new Fi(e).fromString(t)};[Pi,M_,CF,Hc,tS,SF,ai,eS].forEach(function(e){Ze(Do,e)});Fi.types=Do.types;Fi.properties=Do.properties;Fi.propertyGroups=Do.propertyGroups;Fi.propertyGroupNames=Do.propertyGroupNames;Fi.propertyGroupKeys=Do.propertyGroupKeys;EYt={style:function(t){if(t){var r=this.setStyle(t);r.update()}return this._private.style},setStyle:function(t){var r=this._private;return Lpt(t)?r.style=t.generateStyle(this):Yn(t)?r.style=Fi.fromJson(this,t):Ye(t)?r.style=Fi.fromString(this,t):r.style=Fi(this),r.style},updateStyle:function(){this.mutableElements().updateStyle()}},kYt="single",tm={autolock:function(t){if(t!==void 0)this._private.autolock=!!t;else return this._private.autolock;return this},autoungrabify:function(t){if(t!==void 0)this._private.autoungrabify=!!t;else return this._private.autoungrabify;return this},autounselectify:function(t){if(t!==void 0)this._private.autounselectify=!!t;else return this._private.autounselectify;return this},selectionType:function(t){var r=this._private;if(r.selectionType==null&&(r.selectionType=kYt),t!==void 0)(t==="additive"||t==="single")&&(r.selectionType=t);else return r.selectionType;return this},panningEnabled:function(t){if(t!==void 0)this._private.panningEnabled=!!t;else return this._private.panningEnabled;return this},userPanningEnabled:function(t){if(t!==void 0)this._private.userPanningEnabled=!!t;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(t){if(t!==void 0)this._private.zoomingEnabled=!!t;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(t){if(t!==void 0)this._private.userZoomingEnabled=!!t;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(t){if(t!==void 0)this._private.boxSelectionEnabled=!!t;else return this._private.boxSelectionEnabled;return this},pan:function(){var t=arguments,r=this._private.pan,n,a,i,o,s;switch(t.length){case 0:return r;case 1:if(Ye(t[0]))return n=t[0],r[n];if(un(t[0])){if(!this._private.panningEnabled)return this;i=t[0],o=i.x,s=i.y,be(o)&&(r.x=o),be(s)&&(r.y=s),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=t[0],a=t[1],(n==="x"||n==="y")&&be(a)&&(r[n]=a),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(t,r){var n=arguments,a=this._private.pan,i,o,s,l,u;if(!this._private.panningEnabled)return this;switch(n.length){case 1:un(t)&&(s=n[0],l=s.x,u=s.y,be(l)&&(a.x+=l),be(u)&&(a.y+=u),this.emit("pan viewport"));break;case 2:i=t,o=r,(i==="x"||i==="y")&&be(o)&&(a[i]+=o),this.emit("pan viewport");break}return this.notify("viewport"),this},gc:function(){this.notify("gc")},fit:function(t,r){var n=this.getFitViewport(t,r);if(n){var a=this._private;a.zoom=n.zoom,a.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(t,r){if(be(t)&&r===void 0&&(r=t,t=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var n;if(Ye(t)){var a=t;t=this.$(a)}else if(dWt(t)){var i=t;n={x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else cl(t)||(t=this.mutableElements());if(!(cl(t)&&t.empty())){n=n||t.boundingBox();var o=this.width(),s=this.height(),l;if(r=be(r)?r:0,!isNaN(o)&&!isNaN(s)&&o>0&&s>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){l=Math.min((o-2*r)/n.w,(s-2*r)/n.h),l=l>this._private.maxZoom?this._private.maxZoom:l,l=l<this._private.minZoom?this._private.minZoom:l;var u={x:(o-l*(n.x1+n.x2))/2,y:(s-l*(n.y1+n.y2))/2};return{zoom:l,pan:u}}}}},zoomRange:function(t,r){var n=this._private;if(r==null){var a=t;t=a.min,r=a.max}return be(t)&&be(r)&&t<=r?(n.minZoom=t,n.maxZoom=r):be(t)&&r===void 0&&t<=n.maxZoom?n.minZoom=t:be(r)&&t===void 0&&r>=n.minZoom&&(n.maxZoom=r),this},minZoom:function(t){return t===void 0?this._private.minZoom:this.zoomRange({min:t})},maxZoom:function(t){return t===void 0?this._private.maxZoom:this.zoomRange({max:t})},getZoomedViewport:function(t){var r=this._private,n=r.pan,a=r.zoom,i,o,s=!1;if(r.zoomingEnabled||(s=!0),be(t)?o=t:un(t)&&(o=t.level,t.position!=null?i=GC(t.position,a,n):t.renderedPosition!=null&&(i=t.renderedPosition),i!=null&&!r.panningEnabled&&(s=!0)),o=o>r.maxZoom?r.maxZoom:o,o=o<r.minZoom?r.minZoom:o,s||!be(o)||o===a||i!=null&&(!be(i.x)||!be(i.y)))return null;if(i!=null){var l=n,u=a,f=o,h={x:-f/u*(i.x-l.x)+i.x,y:-f/u*(i.y-l.y)+i.y};return{zoomed:!0,panned:!0,zoom:f,pan:h}}else return{zoomed:!0,panned:!1,zoom:o,pan:n}},zoom:function(t){if(t===void 0)return this._private.zoom;var r=this.getZoomedViewport(t),n=this._private;return r==null||!r.zoomed?this:(n.zoom=r.zoom,r.panned&&(n.pan.x=r.pan.x,n.pan.y=r.pan.y),this.emit("zoom"+(r.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(t){var r=this._private,n=!0,a=!0,i=[],o=!1,s=!1;if(!t)return this;if(be(t.zoom)||(n=!1),un(t.pan)||(a=!1),!n&&!a)return this;if(n){var l=t.zoom;l<r.minZoom||l>r.maxZoom||!r.zoomingEnabled?o=!0:(r.zoom=l,i.push("zoom"))}if(a&&(!o||!t.cancelOnFailedZoom)&&r.panningEnabled){var u=t.pan;be(u.x)&&(r.pan.x=u.x,s=!1),be(u.y)&&(r.pan.y=u.y,s=!1),s||i.push("pan")}return i.length>0&&(i.push("viewport"),this.emit(i.join(" ")),this.notify("viewport")),this},center:function(t){var r=this.getCenterPan(t);return r&&(this._private.pan=r,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(t,r){if(this._private.panningEnabled){if(Ye(t)){var n=t;t=this.mutableElements().filter(n)}else cl(t)||(t=this.mutableElements());if(t.length!==0){var a=t.boundingBox(),i=this.width(),o=this.height();r=r===void 0?this._private.zoom:r;var s={x:(i-r*(a.x1+a.x2))/2,y:(o-r*(a.y1+a.y2))/2};return s}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var t=this._private,r=t.container,n=this;return t.sizeCache=t.sizeCache||(r?function(){var a=n.window().getComputedStyle(r),i=function(s){return parseFloat(a.getPropertyValue(s))};return{width:r.clientWidth-i("padding-left")-i("padding-right"),height:r.clientHeight-i("padding-top")-i("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var t=this._private.pan,r=this._private.zoom,n=this.renderedExtent(),a={x1:(n.x1-t.x)/r,x2:(n.x2-t.x)/r,y1:(n.y1-t.y)/r,y2:(n.y2-t.y)/r};return a.w=a.x2-a.x1,a.h=a.y2-a.y1,a},renderedExtent:function(){var t=this.width(),r=this.height();return{x1:0,y1:0,x2:t,y2:r,w:t,h:r}},multiClickDebounceTime:function(t){if(t)this._private.multiClickDebounceTime=t;else return this._private.multiClickDebounceTime;return this}};tm.centre=tm.center;tm.autolockNodes=tm.autolock;tm.autoungrabifyNodes=tm.autoungrabify;b_={data:Dn.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:Dn.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:Dn.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Dn.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};b_.attr=b_.data;b_.removeAttr=b_.removeData;__=function(t){var r=this;t=Ze({},t);var n=t.container;n&&!DC(n)&&DC(n[0])&&(n=n[0]);var a=n?n._cyreg:null;a=a||{},a&&a.cy&&(a.cy.destroy(),a={});var i=a.readies=a.readies||[];n&&(n._cyreg=a),a.cy=r;var o=gi!==void 0&&n!==void 0&&!t.headless,s=t;s.layout=Ze({name:o?"grid":"null"},s.layout),s.renderer=Ze({name:o?"canvas":"null"},s.renderer);var l=function(m,g,v){return g!==void 0?g:v!==void 0?v:m},u=this._private={container:n,ready:!1,options:s,elements:new so(this),listeners:[],aniEles:new so(this),data:s.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:l(!0,s.zoomingEnabled),userZoomingEnabled:l(!0,s.userZoomingEnabled),panningEnabled:l(!0,s.panningEnabled),userPanningEnabled:l(!0,s.userPanningEnabled),boxSelectionEnabled:l(!0,s.boxSelectionEnabled),autolock:l(!1,s.autolock,s.autolockNodes),autoungrabify:l(!1,s.autoungrabify,s.autoungrabifyNodes),autounselectify:l(!1,s.autounselectify),styleEnabled:s.styleEnabled===void 0?o:s.styleEnabled,zoom:be(s.zoom)?s.zoom:1,pan:{x:un(s.pan)&&be(s.pan.x)?s.pan.x:0,y:un(s.pan)&&be(s.pan.y)?s.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:l(250,s.multiClickDebounceTime)};this.createEmitter(),this.selectionType(s.selectionType),this.zoomRange({min:s.minZoom,max:s.maxZoom});var f=function(m,g){var v=m.some(pWt);if(v)return nv.all(m).then(g);g(m)};u.styleEnabled&&r.setStyle([]);var h=Ze({},s,s.renderer);r.initRenderer(h);var d=function(m,g,v){r.notifications(!1);var y=r.mutableElements();y.length>0&&y.remove(),m!=null&&(un(m)||Yn(m))&&r.add(m),r.one("layoutready",function(_){r.notifications(!0),r.emit(_),r.one("load",g),r.emitAndNotify("load")}).one("layoutstop",function(){r.one("done",v),r.emit("done")});var b=Ze({},r._private.options.layout);b.eles=r.elements(),r.layout(b).run()};f([s.style,s.elements],function(p){var m=p[0],g=p[1];u.styleEnabled&&r.style().append(m),d(g,function(){r.startAnimationLoop(),u.ready=!0,Fa(s.ready)&&r.on("ready",s.ready);for(var v=0;v<i.length;v++){var y=i[v];r.on("ready",y)}a&&(a.readies=[]),r.emit("ready")},s.done)})},OC=__.prototype;Ze(OC,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(t){return this.isReady()?this.emitter().emit("ready",[],t):this.on("ready",t),this},destroy:function(){var t=this;if(!t.destroyed())return t.stopAnimationLoop(),t.destroyRenderer(),this.emit("destroy"),t._private.destroyed=!0,t},hasElementWithId:function(t){return this._private.elements.hasElementWithId(t)},getElementById:function(t){return this._private.elements.getElementById(t)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(t){return this._private.elements.merge(t),this},removeFromPool:function(t){return this._private.elements.unmerge(t),this},container:function(){return this._private.container||null},window:function(){var t=this._private.container;if(t==null)return gi;var r=this._private.container.ownerDocument;return r===void 0||r==null?gi:r.defaultView||gi},mount:function(t){if(t!=null){var r=this,n=r._private,a=n.options;return!DC(t)&&DC(t[0])&&(t=t[0]),r.stopAnimationLoop(),r.destroyRenderer(),n.container=t,n.styleEnabled=!0,r.invalidateSize(),r.initRenderer(Ze({},a,a.renderer,{name:a.renderer.name==="null"?"canvas":a.renderer.name})),r.startAnimationLoop(),r.style(a.style),r.emit("mount"),r}},unmount:function(){var t=this;return t.stopAnimationLoop(),t.destroyRenderer(),t.initRenderer({name:"null"}),t.emit("unmount"),t},options:function(){return Vc(this._private.options)},json:function(t){var r=this,n=r._private,a=r.mutableElements(),i=function(k){return r.getElementById(k.id())};if(un(t)){if(r.startBatch(),t.elements){var o={},s=function(k,w){for(var T=[],S=[],C=0;C<k.length;C++){var M=k[C];if(!M.data.id){An("cy.json() cannot handle elements without an ID attribute");continue}var N=""+M.data.id,L=r.getElementById(N);o[N]=!0,L.length!==0?S.push({ele:L,json:M}):(w&&(M.group=w),T.push(M))}r.add(T);for(var E=0;E<S.length;E++){var A=S[E],D=A.ele,R=A.json;D.json(R)}};if(Yn(t.elements))s(t.elements);else for(var l=["nodes","edges"],u=0;u<l.length;u++){var f=l[u],h=t.elements[f];Yn(h)&&s(h,f)}var d=r.collection();a.filter(function(_){return!o[_.id()]}).forEach(function(_){_.isParent()?d.merge(_):_.remove()}),d.forEach(function(_){return _.children().move({parent:null})}),d.forEach(function(_){return i(_).remove()})}t.style&&r.style(t.style),t.zoom!=null&&t.zoom!==n.zoom&&r.zoom(t.zoom),t.pan&&(t.pan.x!==n.pan.x||t.pan.y!==n.pan.y)&&r.pan(t.pan),t.data&&r.data(t.data);for(var p=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],m=0;m<p.length;m++){var g=p[m];t[g]!=null&&r[g](t[g])}return r.endBatch(),this}else{var v=!!t,y={};v?y.elements=this.elements().map(function(_){return _.json()}):(y.elements={},a.forEach(function(_){var k=_.group();y.elements[k]||(y.elements[k]=[]),y.elements[k].push(_.json())})),this._private.styleEnabled&&(y.style=r.style().json()),y.data=Vc(r.data());var b=n.options;return y.zoomingEnabled=n.zoomingEnabled,y.userZoomingEnabled=n.userZoomingEnabled,y.zoom=n.zoom,y.minZoom=n.minZoom,y.maxZoom=n.maxZoom,y.panningEnabled=n.panningEnabled,y.userPanningEnabled=n.userPanningEnabled,y.pan=Vc(n.pan),y.boxSelectionEnabled=n.boxSelectionEnabled,y.renderer=Vc(b.renderer),y.hideEdgesOnViewport=b.hideEdgesOnViewport,y.textureOnViewport=b.textureOnViewport,y.wheelSensitivity=b.wheelSensitivity,y.motionBlur=b.motionBlur,y.multiClickDebounceTime=b.multiClickDebounceTime,y}}});OC.$id=OC.getElementById;[pYt,xYt,L0t,ZO,wC,_Yt,JO,TC,EYt,tm,b_].forEach(function(e){Ze(OC,e)});CYt={fit:!0,directed:!1,direction:"downward",padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}},SYt={maximal:!1,acyclic:!1},q1=function(t){return t.scratch("breadthfirst")},Zdt=function(t,r){return t.scratch("breadthfirst",r)};M0t.prototype.run=function(){var e=this.options,t=e.cy,r=e.eles,n=r.nodes().filter(function(Ut){return Ut.isChildless()}),a=r,i=e.directed,o=e.acyclic||e.maximal||e.maximalAdjustments>0,s=!!e.boundingBox,l=as(s?e.boundingBox:structuredClone(t.extent())),u;if(cl(e.roots))u=e.roots;else if(Yn(e.roots)){for(var f=[],h=0;h<e.roots.length;h++){var d=e.roots[h],p=t.getElementById(d);f.push(p)}u=t.collection(f)}else if(Ye(e.roots))u=t.$(e.roots);else if(i)u=n.roots();else{var m=r.components();u=t.collection();for(var g=function(){var pt=m[v],Ft=pt.maxDegree(!1),Yt=pt.filter(function(Ht){return Ht.degree(!1)===Ft});u=u.add(Yt)},v=0;v<m.length;v++)g()}var y=[],b={},_=function(pt,Ft){y[Ft]==null&&(y[Ft]=[]);var Yt=y[Ft].length;y[Ft].push(pt),Zdt(pt,{index:Yt,depth:Ft})},k=function(pt,Ft){var Yt=q1(pt),Ht=Yt.depth,Lt=Yt.index;y[Ht][Lt]=null,pt.isChildless()&&_(pt,Ft)};a.bfs({roots:u,directed:e.directed,visit:function(pt,Ft,Yt,Ht,Lt){var Nt=pt[0],It=Nt.id();Nt.isChildless()&&_(Nt,Lt),b[It]=!0}});for(var w=[],T=0;T<n.length;T++){var S=n[T];b[S.id()]||w.push(S)}var C=function(pt){for(var Ft=y[pt],Yt=0;Yt<Ft.length;Yt++){var Ht=Ft[Yt];if(Ht==null){Ft.splice(Yt,1),Yt--;continue}Zdt(Ht,{depth:pt,index:Yt})}},M=function(pt,Ft){for(var Yt=q1(pt),Ht=pt.incomers().filter(function(yt){return yt.isNode()&&r.has(yt)}),Lt=-1,Nt=pt.id(),It=0;It<Ht.length;It++){var kt=Ht[It],Pt=q1(kt);Lt=Math.max(Lt,Pt.depth)}if(Yt.depth<=Lt){if(!e.acyclic&&Ft[Nt])return null;var ht=Lt+1;return k(pt,ht),Ft[Nt]=ht,!0}return!1};if(i&&o){var N=[],L={},E=function(pt){return N.push(pt)},A=function(){return N.shift()};for(n.forEach(function(Ut){return N.push(Ut)});N.length>0;){var D=A(),R=M(D,L);if(R)D.outgoers().filter(function(Ut){return Ut.isNode()&&r.has(Ut)}).forEach(E);else if(R===null){An("Detected double maximal shift for node `"+D.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}var I=0;if(e.avoidOverlap)for(var O=0;O<n.length;O++){var F=n[O],P=F.layoutDimensions(e),q=P.w,$=P.h;I=Math.max(I,q,$)}var W={},X=function(pt){if(W[pt.id()])return W[pt.id()];for(var Ft=q1(pt).depth,Yt=pt.neighborhood(),Ht=0,Lt=0,Nt=0;Nt<Yt.length;Nt++){var It=Yt[Nt];if(!(It.isEdge()||It.isParent()||!n.has(It))){var kt=q1(It);if(kt!=null){var Pt=kt.index,ht=kt.depth;if(!(Pt==null||ht==null)){var yt=y[ht].length;ht<Ft&&(Ht+=Pt/yt,Lt++)}}}}return Lt=Math.max(1,Lt),Ht=Ht/Lt,Lt===0&&(Ht=0),W[pt.id()]=Ht,Ht},tt=function(pt,Ft){var Yt=X(pt),Ht=X(Ft),Lt=Yt-Ht;return Lt===0?Ipt(pt.id(),Ft.id()):Lt};e.depthSort!==void 0&&(tt=e.depthSort);for(var Y=y.length,ot=0;ot<Y;ot++)y[ot].sort(tt),C(ot);for(var Z=[],ct=0;ct<w.length;ct++)Z.push(w[ct]);var rt=function(){for(var pt=0;pt<Y;pt++)C(pt)};Z.length&&(y.unshift(Z),Y=y.length,rt());for(var et=0,Q=0;Q<Y;Q++)et=Math.max(y[Q].length,et);var j={x:l.x1+l.w/2,y:l.y1+l.h/2},it=n.reduce(function(Ut,pt){return function(Ft){return{w:Ut.w===-1?Ft.w:(Ut.w+Ft.w)/2,h:Ut.h===-1?Ft.h:(Ut.h+Ft.h)/2}}(pt.boundingBox({includeLabels:e.nodeDimensionsIncludeLabels}))},{w:-1,h:-1}),K=Math.max(Y===1?0:s?(l.h-e.padding*2-it.h)/(Y-1):(l.h-e.padding*2-it.h)/(Y+1),I),dt=y.reduce(function(Ut,pt){return Math.max(Ut,pt.length)},0),nt=function(pt){var Ft=q1(pt),Yt=Ft.depth,Ht=Ft.index;if(e.circle){var Lt=Math.min(l.w/2/Y,l.h/2/Y);Lt=Math.max(Lt,I);var Nt=Lt*Yt+Lt-(Y>0&&y[0].length<=3?Lt/2:0),It=2*Math.PI/y[Yt].length*Ht;return Yt===0&&y[0].length===1&&(Nt=1),{x:j.x+Nt*Math.cos(It),y:j.y+Nt*Math.sin(It)}}else{var kt=y[Yt].length,Pt=Math.max(kt===1?0:s?(l.w-e.padding*2-it.w)/((e.grid?dt:kt)-1):(l.w-e.padding*2-it.w)/((e.grid?dt:kt)+1),I),ht={x:j.x+(Ht+1-(kt+1)/2)*Pt,y:j.y+(Yt+1-(Y+1)/2)*K};return ht}},_t={downward:0,leftward:90,upward:180,rightward:-90};Object.keys(_t).indexOf(e.direction)===-1&&_a("Invalid direction '".concat(e.direction,"' specified for breadthfirst layout. Valid values are: ").concat(Object.keys(_t).join(", ")));var V=function(pt){return WWt(nt(pt),l,_t[e.direction])};return r.nodes().layoutPositions(this,e,V),this};DYt={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}};I0t.prototype.run=function(){var e=this.options,t=e,r=e.cy,n=t.eles,a=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise,i=n.nodes().not(":parent");t.sort&&(i=i.sort(t.sort));for(var o=as(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),s={x:o.x1+o.w/2,y:o.y1+o.h/2},l=t.sweep===void 0?2*Math.PI-2*Math.PI/i.length:t.sweep,u=l/Math.max(1,i.length-1),f,h=0,d=0;d<i.length;d++){var p=i[d],m=p.layoutDimensions(t),g=m.w,v=m.h;h=Math.max(h,g,v)}if(be(t.radius)?f=t.radius:i.length<=1?f=0:f=Math.min(o.h,o.w)/2-h,i.length>1&&t.avoidOverlap){h*=1.75;var y=Math.cos(u)-Math.cos(0),b=Math.sin(u)-Math.sin(0),_=Math.sqrt(h*h/(y*y+b*b));f=Math.max(_,f)}var k=function(T,S){var C=t.startAngle+S*u*(a?1:-1),M=f*Math.cos(C),N=f*Math.sin(C),L={x:s.x+M,y:s.y+N};return L};return n.nodes().layoutPositions(this,t,k),this};AYt={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(t){return t.degree()},levelWidth:function(t){return t.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}};R0t.prototype.run=function(){for(var e=this.options,t=e,r=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise,n=e.cy,a=t.eles,i=a.nodes().not(":parent"),o=as(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),s={x:o.x1+o.w/2,y:o.y1+o.h/2},l=[],u=0,f=0;f<i.length;f++){var h=i[f],d=void 0;d=t.concentric(h),l.push({value:d,node:h}),h._private.scratch.concentric=d}i.updateStyle();for(var p=0;p<i.length;p++){var m=i[p],g=m.layoutDimensions(t);u=Math.max(u,g.w,g.h)}l.sort(function(K,dt){return dt.value-K.value});for(var v=t.levelWidth(i),y=[[]],b=y[0],_=0;_<l.length;_++){var k=l[_];if(b.length>0){var w=Math.abs(b[0].value-k.value);w>=v&&(b=[],y.push(b))}b.push(k)}var T=u+t.minNodeSpacing;if(!t.avoidOverlap){var S=y.length>0&&y[0].length>1,C=Math.min(o.w,o.h)/2-T,M=C/(y.length+S?1:0);T=Math.min(T,M)}for(var N=0,L=0;L<y.length;L++){var E=y[L],A=t.sweep===void 0?2*Math.PI-2*Math.PI/E.length:t.sweep,D=E.dTheta=A/Math.max(1,E.length-1);if(E.length>1&&t.avoidOverlap){var R=Math.cos(D)-Math.cos(0),I=Math.sin(D)-Math.sin(0),O=Math.sqrt(T*T/(R*R+I*I));N=Math.max(O,N)}E.r=N,N+=T}if(t.equidistant){for(var F=0,P=0,q=0;q<y.length;q++){var $=y[q],W=$.r-P;F=Math.max(F,W)}P=0;for(var X=0;X<y.length;X++){var tt=y[X];X===0&&(P=tt.r),tt.r=P,P+=F}}for(var Y={},ot=0;ot<y.length;ot++)for(var Z=y[ot],ct=Z.dTheta,rt=Z.r,et=0;et<Z.length;et++){var Q=Z[et],j=t.startAngle+(r?1:-1)*ct*et,it={x:s.x+rt*Math.cos(j),y:s.y+rt*Math.sin(j)};Y[Q.node.id()]=it}return a.nodes().layoutPositions(this,t,function(K){var dt=K.id();return Y[dt]}),this};LYt={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(t,r){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(t){return 2048},nodeOverlap:4,idealEdgeLength:function(t){return 32},edgeElasticity:function(t){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};rS.prototype.run=function(){var e=this.options,t=e.cy,r=this;r.stopped=!1,(e.animate===!0||e.animate===!1)&&r.emit({type:"layoutstart",layout:r}),e.debug===!0?NO=!0:NO=!1;var n=MYt(t,r,e);NO&&RYt(n),e.randomize&&NYt(n);var a=rh(),i=function(){OYt(n,t,e),e.fit===!0&&t.fit(e.padding)},o=function(d){return!(r.stopped||d>=e.numIter||(FYt(n,e),n.temperature=n.temperature*e.coolingFactor,n.temperature<e.minTemp))},s=function(){if(e.animate===!0||e.animate===!1)i(),r.one("layoutstop",e.stop),r.emit({type:"layoutstop",layout:r});else{var d=e.eles.nodes(),p=O0t(n,e,d);d.layoutPositions(r,e,p)}},l=0,u=!0;if(e.animate===!0){var f=function(){for(var d=0;u&&d<e.refresh;)u=o(l),l++,d++;if(!u)tpt(n,e),s();else{var p=rh();p-a>=e.animationThreshold&&i(),AC(f)}};f()}else{for(;u;)u=o(l),l++;tpt(n,e),s()}return this};rS.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};rS.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};MYt=function(t,r,n){for(var a=n.eles.edges(),i=n.eles.nodes(),o=as(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),s={isCompound:t.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:i.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:a.size(),temperature:n.initialTemp,clientWidth:o.w,clientHeight:o.h,boundingBox:o},l=n.eles.components(),u={},f=0;f<l.length;f++)for(var h=l[f],d=0;d<h.length;d++){var p=h[d];u[p.id()]=f}for(var f=0;f<s.nodeSize;f++){var m=i[f],g=m.layoutDimensions(n),v={};v.isLocked=m.locked(),v.id=m.data("id"),v.parentId=m.data("parent"),v.cmptId=u[m.id()],v.children=[],v.positionX=m.position("x"),v.positionY=m.position("y"),v.offsetX=0,v.offsetY=0,v.height=g.w,v.width=g.h,v.maxX=v.positionX+v.width/2,v.minX=v.positionX-v.width/2,v.maxY=v.positionY+v.height/2,v.minY=v.positionY-v.height/2,v.padLeft=parseFloat(m.style("padding")),v.padRight=parseFloat(m.style("padding")),v.padTop=parseFloat(m.style("padding")),v.padBottom=parseFloat(m.style("padding")),v.nodeRepulsion=Fa(n.nodeRepulsion)?n.nodeRepulsion(m):n.nodeRepulsion,s.layoutNodes.push(v),s.idToIndex[v.id]=f}for(var y=[],b=0,_=-1,k=[],f=0;f<s.nodeSize;f++){var m=s.layoutNodes[f],w=m.parentId;w!=null?s.layoutNodes[s.idToIndex[w]].children.push(m.id):(y[++_]=m.id,k.push(m.id))}for(s.graphSet.push(k);b<=_;){var T=y[b++],S=s.idToIndex[T],p=s.layoutNodes[S],C=p.children;if(C.length>0){s.graphSet.push(C);for(var f=0;f<C.length;f++)y[++_]=C[f]}}for(var f=0;f<s.graphSet.length;f++)for(var M=s.graphSet[f],d=0;d<M.length;d++){var N=s.idToIndex[M[d]];s.indexToGraph[N]=f}for(var f=0;f<s.edgeSize;f++){var L=a[f],E={};E.id=L.data("id"),E.sourceId=L.data("source"),E.targetId=L.data("target");var A=Fa(n.idealEdgeLength)?n.idealEdgeLength(L):n.idealEdgeLength,D=Fa(n.edgeElasticity)?n.edgeElasticity(L):n.edgeElasticity,R=s.idToIndex[E.sourceId],I=s.idToIndex[E.targetId],O=s.indexToGraph[R],F=s.indexToGraph[I];if(O!=F){for(var P=IYt(E.sourceId,E.targetId,s),q=s.graphSet[P],$=0,v=s.layoutNodes[R];q.indexOf(v.id)===-1;)v=s.layoutNodes[s.idToIndex[v.parentId]],$++;for(v=s.layoutNodes[I];q.indexOf(v.id)===-1;)v=s.layoutNodes[s.idToIndex[v.parentId]],$++;A*=$*n.nestingFactor}E.idealLength=A,E.elasticity=D,s.layoutEdges.push(E)}return s},IYt=function(t,r,n){var a=N0t(t,r,0,n);return 2>a.count?0:a.graph},N0t=function(t,r,n,a){var i=a.graphSet[n];if(-1<i.indexOf(t)&&-1<i.indexOf(r))return{count:2,graph:n};for(var o=0,s=0;s<i.length;s++){var l=i[s],u=a.idToIndex[l],f=a.layoutNodes[u].children;if(f.length!==0){var h=a.indexToGraph[a.idToIndex[f[0]]],d=N0t(t,r,h,a);if(d.count!==0)if(d.count===1){if(o++,o===2)break}else return d}}return{count:o,graph:n}},NYt=function(t,r){for(var n=t.clientWidth,a=t.clientHeight,i=0;i<t.nodeSize;i++){var o=t.layoutNodes[i];o.children.length===0&&!o.isLocked&&(o.positionX=Math.random()*n,o.positionY=Math.random()*a)}},O0t=function(t,r,n){var a=t.boundingBox,i={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return r.boundingBox&&(n.forEach(function(o){var s=t.layoutNodes[t.idToIndex[o.data("id")]];i.x1=Math.min(i.x1,s.positionX),i.x2=Math.max(i.x2,s.positionX),i.y1=Math.min(i.y1,s.positionY),i.y2=Math.max(i.y2,s.positionY)}),i.w=i.x2-i.x1,i.h=i.y2-i.y1),function(o,s){var l=t.layoutNodes[t.idToIndex[o.data("id")]];if(r.boundingBox){var u=i.w===0?.5:(l.positionX-i.x1)/i.w,f=i.h===0?.5:(l.positionY-i.y1)/i.h;return{x:a.x1+u*a.w,y:a.y1+f*a.h}}else return{x:l.positionX,y:l.positionY}}},OYt=function(t,r,n){var a=n.layout,i=n.eles.nodes(),o=O0t(t,n,i);i.positions(o),t.ready!==!0&&(t.ready=!0,a.one("layoutready",n.ready),a.emit({type:"layoutready",layout:this}))},FYt=function(t,r,n){PYt(t,r),zYt(t),qYt(t,r),UYt(t),WYt(t)},PYt=function(t,r){for(var n=0;n<t.graphSet.length;n++)for(var a=t.graphSet[n],i=a.length,o=0;o<i;o++)for(var s=t.layoutNodes[t.idToIndex[a[o]]],l=o+1;l<i;l++){var u=t.layoutNodes[t.idToIndex[a[l]]];BYt(s,u,t,r)}},Jdt=function(t){return-1+2*t*Math.random()},BYt=function(t,r,n,a){var i=t.cmptId,o=r.cmptId;if(!(i!==o&&!n.isCompound)){var s=r.positionX-t.positionX,l=r.positionY-t.positionY,u=1;s===0&&l===0&&(s=Jdt(u),l=Jdt(u));var f=$Yt(t,r,s,l);if(f>0)var h=a.nodeOverlap*f,d=Math.sqrt(s*s+l*l),p=h*s/d,m=h*l/d;else var g=FC(t,s,l),v=FC(r,-1*s,-1*l),y=v.x-g.x,b=v.y-g.y,_=y*y+b*b,d=Math.sqrt(_),h=(t.nodeRepulsion+r.nodeRepulsion)/_,p=h*y/d,m=h*b/d;t.isLocked||(t.offsetX-=p,t.offsetY-=m),r.isLocked||(r.offsetX+=p,r.offsetY+=m)}},$Yt=function(t,r,n,a){if(n>0)var i=t.maxX-r.minX;else var i=r.maxX-t.minX;if(a>0)var o=t.maxY-r.minY;else var o=r.maxY-t.minY;return i>=0&&o>=0?Math.sqrt(i*i+o*o):0},FC=function(t,r,n){var a=t.positionX,i=t.positionY,o=t.height||1,s=t.width||1,l=n/r,u=o/s,f={};return r===0&&0<n||r===0&&0>n?(f.x=a,f.y=i+o/2,f):0<r&&-1*u<=l&&l<=u?(f.x=a+s/2,f.y=i+s*n/2/r,f):0>r&&-1*u<=l&&l<=u?(f.x=a-s/2,f.y=i-s*n/2/r,f):0<n&&(l<=-1*u||l>=u)?(f.x=a+o*r/2/n,f.y=i+o/2,f):(0>n&&(l<=-1*u||l>=u)&&(f.x=a-o*r/2/n,f.y=i-o/2),f)},zYt=function(t,r){for(var n=0;n<t.edgeSize;n++){var a=t.layoutEdges[n],i=t.idToIndex[a.sourceId],o=t.layoutNodes[i],s=t.idToIndex[a.targetId],l=t.layoutNodes[s],u=l.positionX-o.positionX,f=l.positionY-o.positionY;if(!(u===0&&f===0)){var h=FC(o,u,f),d=FC(l,-1*u,-1*f),p=d.x-h.x,m=d.y-h.y,g=Math.sqrt(p*p+m*m),v=Math.pow(a.idealLength-g,2)/a.elasticity;if(g!==0)var y=v*p/g,b=v*m/g;else var y=0,b=0;o.isLocked||(o.offsetX+=y,o.offsetY+=b),l.isLocked||(l.offsetX-=y,l.offsetY-=b)}}},qYt=function(t,r){if(r.gravity!==0)for(var n=1,a=0;a<t.graphSet.length;a++){var i=t.graphSet[a],o=i.length;if(a===0)var s=t.clientHeight/2,l=t.clientWidth/2;else var u=t.layoutNodes[t.idToIndex[i[0]]],f=t.layoutNodes[t.idToIndex[u.parentId]],s=f.positionX,l=f.positionY;for(var h=0;h<o;h++){var d=t.layoutNodes[t.idToIndex[i[h]]];if(!d.isLocked){var p=s-d.positionX,m=l-d.positionY,g=Math.sqrt(p*p+m*m);if(g>n){var v=r.gravity*p/g,y=r.gravity*m/g;d.offsetX+=v,d.offsetY+=y}}}}},UYt=function(t,r){var n=[],a=0,i=-1;for(n.push.apply(n,t.graphSet[0]),i+=t.graphSet[0].length;a<=i;){var o=n[a++],s=t.idToIndex[o],l=t.layoutNodes[s],u=l.children;if(0<u.length&&!l.isLocked){for(var f=l.offsetX,h=l.offsetY,d=0;d<u.length;d++){var p=t.layoutNodes[t.idToIndex[u[d]]];p.offsetX+=f,p.offsetY+=h,n[++i]=u[d]}l.offsetX=0,l.offsetY=0}}},WYt=function(t,r){for(var n=0;n<t.nodeSize;n++){var a=t.layoutNodes[n];0<a.children.length&&(a.maxX=void 0,a.minX=void 0,a.maxY=void 0,a.minY=void 0)}for(var n=0;n<t.nodeSize;n++){var a=t.layoutNodes[n];if(!(0<a.children.length||a.isLocked)){var i=GYt(a.offsetX,a.offsetY,t.temperature);a.positionX+=i.x,a.positionY+=i.y,a.offsetX=0,a.offsetY=0,a.minX=a.positionX-a.width,a.maxX=a.positionX+a.width,a.minY=a.positionY-a.height,a.maxY=a.positionY+a.height,F0t(a,t)}}for(var n=0;n<t.nodeSize;n++){var a=t.layoutNodes[n];0<a.children.length&&!a.isLocked&&(a.positionX=(a.maxX+a.minX)/2,a.positionY=(a.maxY+a.minY)/2,a.width=a.maxX-a.minX,a.height=a.maxY-a.minY)}},GYt=function(t,r,n){var a=Math.sqrt(t*t+r*r);if(a>n)var i={x:n*t/a,y:n*r/a};else var i={x:t,y:r};return i},F0t=function(t,r){var n=t.parentId;if(n!=null){var a=r.layoutNodes[r.idToIndex[n]],i=!1;if((a.maxX==null||t.maxX+a.padRight>a.maxX)&&(a.maxX=t.maxX+a.padRight,i=!0),(a.minX==null||t.minX-a.padLeft<a.minX)&&(a.minX=t.minX-a.padLeft,i=!0),(a.maxY==null||t.maxY+a.padBottom>a.maxY)&&(a.maxY=t.maxY+a.padBottom,i=!0),(a.minY==null||t.minY-a.padTop<a.minY)&&(a.minY=t.minY-a.padTop,i=!0),i)return F0t(a,r)}},tpt=function(t,r){for(var n=t.layoutNodes,a=[],i=0;i<n.length;i++){var o=n[i],s=o.cmptId,l=a[s]=a[s]||[];l.push(o)}for(var u=0,i=0;i<a.length;i++){var f=a[i];if(f){f.x1=1/0,f.x2=-1/0,f.y1=1/0,f.y2=-1/0;for(var h=0;h<f.length;h++){var d=f[h];f.x1=Math.min(f.x1,d.positionX-d.width/2),f.x2=Math.max(f.x2,d.positionX+d.width/2),f.y1=Math.min(f.y1,d.positionY-d.height/2),f.y2=Math.max(f.y2,d.positionY+d.height/2)}f.w=f.x2-f.x1,f.h=f.y2-f.y1,u+=f.w*f.h}}a.sort(function(b,_){return _.w*_.h-b.w*b.h});for(var p=0,m=0,g=0,v=0,y=Math.sqrt(u)*t.clientWidth/t.clientHeight,i=0;i<a.length;i++){var f=a[i];if(f){for(var h=0;h<f.length;h++){var d=f[h];d.isLocked||(d.positionX+=p-f.x1,d.positionY+=m-f.y1)}p+=f.w+r.componentSpacing,g+=f.w+r.componentSpacing,v=Math.max(v,f.h),g>y&&(m+=v+r.componentSpacing,p=0,g=0,v=0)}}},VYt={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(t){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}};P0t.prototype.run=function(){var e=this.options,t=e,r=e.cy,n=t.eles,a=n.nodes().not(":parent");t.sort&&(a=a.sort(t.sort));var i=as(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(i.h===0||i.w===0)n.nodes().layoutPositions(this,t,function(X){return{x:i.x1,y:i.y1}});else{var o=a.size(),s=Math.sqrt(o*i.h/i.w),l=Math.round(s),u=Math.round(i.w/i.h*s),f=function(tt){if(tt==null)return Math.min(l,u);var Y=Math.min(l,u);Y==l?l=tt:u=tt},h=function(tt){if(tt==null)return Math.max(l,u);var Y=Math.max(l,u);Y==l?l=tt:u=tt},d=t.rows,p=t.cols!=null?t.cols:t.columns;if(d!=null&&p!=null)l=d,u=p;else if(d!=null&&p==null)l=d,u=Math.ceil(o/l);else if(d==null&&p!=null)u=p,l=Math.ceil(o/u);else if(u*l>o){var m=f(),g=h();(m-1)*g>=o?f(m-1):(g-1)*m>=o&&h(g-1)}else for(;u*l<o;){var v=f(),y=h();(y+1)*v>=o?h(y+1):f(v+1)}var b=i.w/u,_=i.h/l;if(t.condense&&(b=0,_=0),t.avoidOverlap)for(var k=0;k<a.length;k++){var w=a[k],T=w._private.position;(T.x==null||T.y==null)&&(T.x=0,T.y=0);var S=w.layoutDimensions(t),C=t.avoidOverlapPadding,M=S.w+C,N=S.h+C;b=Math.max(b,M),_=Math.max(_,N)}for(var L={},E=function(tt,Y){return!!L["c-"+tt+"-"+Y]},A=function(tt,Y){L["c-"+tt+"-"+Y]=!0},D=0,R=0,I=function(){R++,R>=u&&(R=0,D++)},O={},F=0;F<a.length;F++){var P=a[F],q=t.position(P);if(q&&(q.row!==void 0||q.col!==void 0)){var $={row:q.row,col:q.col};if($.col===void 0)for($.col=0;E($.row,$.col);)$.col++;else if($.row===void 0)for($.row=0;E($.row,$.col);)$.row++;O[P.id()]=$,A($.row,$.col)}}var W=function(tt,Y){var ot,Z;if(tt.locked()||tt.isParent())return!1;var ct=O[tt.id()];if(ct)ot=ct.col*b+b/2+i.x1,Z=ct.row*_+_/2+i.y1;else{for(;E(D,R);)I();ot=R*b+b/2+i.x1,Z=D*_+_/2+i.y1,A(D,R),I()}return{x:ot,y:Z}};a.layoutPositions(this,t,W)}return this};HYt={ready:function(){},stop:function(){}};DF.prototype.run=function(){var e=this.options,t=e.eles,r=this;return e.cy,r.emit("layoutstart"),t.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",e.ready),r.emit("layoutready"),r.one("layoutstop",e.stop),r.emit("layoutstop"),this};DF.prototype.stop=function(){return this};YYt={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}};B0t.prototype.run=function(){var e=this.options,t=e.eles,r=t.nodes(),n=Fa(e.positions);function a(i){if(e.positions==null)return mGt(i.position());if(n)return e.positions(i);var o=e.positions[i._private.data.id];return o??null}return r.layoutPositions(this,e,function(i,o){var s=a(i);return i.locked()||s==null?!1:s}),this};XYt={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}};$0t.prototype.run=function(){var e=this.options,t=e.cy,r=e.eles,n=as(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),a=function(o,s){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}};return r.nodes().layoutPositions(this,e,a),this};jYt=[{name:"breadthfirst",impl:M0t},{name:"circle",impl:I0t},{name:"concentric",impl:R0t},{name:"cose",impl:rS},{name:"grid",impl:P0t},{name:"null",impl:DF},{name:"preset",impl:B0t},{name:"random",impl:$0t}];ept=function(){},rpt=function(){throw new Error("A headless instance can not render images")};z0t.prototype={recalculateRenderedStyle:ept,notify:function(){this.notifications++},init:ept,isHeadless:function(){return!0},png:rpt,jpg:rpt};AF={};AF.arrowShapeWidth=.3;AF.registerArrowShapes=function(){var e=this.arrowShapes={},t=this,r=function(u,f,h,d,p,m,g){var v=p.x-h/2-g,y=p.x+h/2+g,b=p.y-h/2-g,_=p.y+h/2+g,k=v<=u&&u<=y&&b<=f&&f<=_;return k},n=function(u,f,h,d,p){var m=u*Math.cos(d)-f*Math.sin(d),g=u*Math.sin(d)+f*Math.cos(d),v=m*h,y=g*h,b=v+p.x,_=y+p.y;return{x:b,y:_}},a=function(u,f,h,d){for(var p=[],m=0;m<u.length;m+=2){var g=u[m],v=u[m+1];p.push(n(g,v,f,h,d))}return p},i=function(u){for(var f=[],h=0;h<u.length;h++){var d=u[h];f.push(d.x,d.y)}return f},o=function(u){return u.pstyle("width").pfValue*u.pstyle("arrow-scale").pfValue*2},s=function(u,f){Ye(f)&&(f=e[f]),e[u]=Ze({name:u,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(d,p,m,g,v,y){var b=i(a(this.points,m+2*y,g,v)),_=zs(d,p,b);return _},roughCollide:r,draw:function(d,p,m,g){var v=a(this.points,p,m,g);t.arrowShapeImpl("polygon")(d,v)},spacing:function(d){return 0},gap:o},f)};s("none",{collide:LC,roughCollide:LC,draw:pF,spacing:ght,gap:ght}),s("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),s("arrow","triangle"),s("triangle-backcurve",{points:e.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(u,f,h,d,p){var m=a(this.points,f,h,d),g=this.controlPoint,v=n(g[0],g[1],f,h,d);t.arrowShapeImpl(this.name)(u,m,v)},gap:function(u){return o(u)*.8}}),s("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(u,f,h,d,p,m,g){var v=i(a(this.points,h+2*g,d,p)),y=i(a(this.pointsTee,h+2*g,d,p)),b=zs(u,f,v)||zs(u,f,y);return b},draw:function(u,f,h,d,p){var m=a(this.points,f,h,d),g=a(this.pointsTee,f,h,d);t.arrowShapeImpl(this.name)(u,m,g)}}),s("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(u,f,h,d,p,m,g){var v=p,y=Math.pow(v.x-u,2)+Math.pow(v.y-f,2)<=Math.pow((h+2*g)*this.radius,2),b=i(a(this.points,h+2*g,d,p));return zs(u,f,b)||y},draw:function(u,f,h,d,p){var m=a(this.pointsTr,f,h,d);t.arrowShapeImpl(this.name)(u,m,d.x,d.y,this.radius*f)},spacing:function(u){return t.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.radius}}),s("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(u,f){var h=this.baseCrossLinePts.slice(),d=f/u,p=3,m=5;return h[p]=h[p]-d,h[m]=h[m]-d,h},collide:function(u,f,h,d,p,m,g){var v=i(a(this.points,h+2*g,d,p)),y=i(a(this.crossLinePts(h,m),h+2*g,d,p)),b=zs(u,f,v)||zs(u,f,y);return b},draw:function(u,f,h,d,p){var m=a(this.points,f,h,d),g=a(this.crossLinePts(f,p),f,h,d);t.arrowShapeImpl(this.name)(u,m,g)}}),s("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(u){return o(u)*.525}}),s("circle",{radius:.15,collide:function(u,f,h,d,p,m,g){var v=p,y=Math.pow(v.x-u,2)+Math.pow(v.y-f,2)<=Math.pow((h+2*g)*this.radius,2);return y},draw:function(u,f,h,d,p){t.arrowShapeImpl(this.name)(u,d.x,d.y,this.radius*f)},spacing:function(u){return t.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.radius}}),s("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(u){return 1},gap:function(u){return 1}}),s("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),s("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(u){return u.pstyle("width").pfValue*u.pstyle("arrow-scale").value}}),s("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(u){return .95*u.pstyle("width").pfValue*u.pstyle("arrow-scale").value}})};rm={};rm.projectIntoViewport=function(e,t){var r=this.cy,n=this.findContainerClientCoords(),a=n[0],i=n[1],o=n[4],s=r.pan(),l=r.zoom(),u=((e-a)/o-s.x)/l,f=((t-i)/o-s.y)/l;return[u,f]};rm.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var e=this.container,t=e.getBoundingClientRect(),r=this.cy.window().getComputedStyle(e),n=function(y){return parseFloat(r.getPropertyValue(y))},a={left:n("padding-left"),right:n("padding-right"),top:n("padding-top"),bottom:n("padding-bottom")},i={left:n("border-left-width"),right:n("border-right-width"),top:n("border-top-width"),bottom:n("border-bottom-width")},o=e.clientWidth,s=e.clientHeight,l=a.left+a.right,u=a.top+a.bottom,f=i.left+i.right,h=t.width/(o+f),d=o-l,p=s-u,m=t.left+a.left+i.left,g=t.top+a.top+i.top;return this.containerBB=[m,g,d,p,h]};rm.invalidateContainerClientCoordsCache=function(){this.containerBB=null};rm.findNearestElement=function(e,t,r,n){return this.findNearestElements(e,t,r,n)[0]};rm.findNearestElements=function(e,t,r,n){var a=this,i=this,o=i.getCachedZSortedEles(),s=[],l=i.cy.zoom(),u=i.cy.hasCompoundNodes(),f=(n?24:8)/l,h=(n?8:2)/l,d=(n?8:2)/l,p=1/0,m,g;r&&(o=o.interactive);function v(S,C){if(S.isNode()){if(g)return;g=S,s.push(S)}if(S.isEdge()&&(C==null||C<p))if(m){if(m.pstyle("z-compound-depth").value===S.pstyle("z-compound-depth").value&&m.pstyle("z-compound-depth").value===S.pstyle("z-compound-depth").value){for(var M=0;M<s.length;M++)if(s[M].isEdge()){s[M]=S,m=S,p=C??p;break}}}else s.push(S),m=S,p=C??p}function y(S){var C=S.outerWidth()+2*h,M=S.outerHeight()+2*h,N=C/2,L=M/2,E=S.position(),A=S.pstyle("corner-radius").value==="auto"?"auto":S.pstyle("corner-radius").pfValue,D=S._private.rscratch;if(E.x-N<=e&&e<=E.x+N&&E.y-L<=t&&t<=E.y+L){var R=i.nodeShapes[a.getNodeShape(S)];if(R.checkPoint(e,t,0,C,M,E.x,E.y,A,D))return v(S,0),!0}}function b(S){var C=S._private,M=C.rscratch,N=S.pstyle("width").pfValue,L=S.pstyle("arrow-scale").value,E=N/2+f,A=E*E,D=E*2,F=C.source,P=C.target,R;if(M.edgeType==="segments"||M.edgeType==="straight"||M.edgeType==="haystack"){for(var I=M.allpts,O=0;O+3<I.length;O+=2)if(AGt(e,t,I[O],I[O+1],I[O+2],I[O+3],D)&&A>(R=NGt(e,t,I[O],I[O+1],I[O+2],I[O+3])))return v(S,R),!0}else if(M.edgeType==="bezier"||M.edgeType==="multibezier"||M.edgeType==="self"||M.edgeType==="compound"){for(var I=M.allpts,O=0;O+5<M.allpts.length;O+=4)if(LGt(e,t,I[O],I[O+1],I[O+2],I[O+3],I[O+4],I[O+5],D)&&A>(R=RGt(e,t,I[O],I[O+1],I[O+2],I[O+3],I[O+4],I[O+5])))return v(S,R),!0}for(var F=F||C.source,P=P||C.target,q=a.getArrowWidth(N,L),$=[{name:"source",x:M.arrowStartX,y:M.arrowStartY,angle:M.srcArrowAngle},{name:"target",x:M.arrowEndX,y:M.arrowEndY,angle:M.tgtArrowAngle},{name:"mid-source",x:M.midX,y:M.midY,angle:M.midsrcArrowAngle},{name:"mid-target",x:M.midX,y:M.midY,angle:M.midtgtArrowAngle}],O=0;O<$.length;O++){var W=$[O],X=i.arrowShapes[S.pstyle(W.name+"-arrow-shape").value],tt=S.pstyle("width").pfValue;if(X.roughCollide(e,t,q,W.angle,{x:W.x,y:W.y},tt,f)&&X.collide(e,t,q,W.angle,{x:W.x,y:W.y},tt,f))return v(S),!0}u&&s.length>0&&(y(F),y(P))}function _(S,C,M){return $s(S,C,M)}function k(S,C){var M=S._private,N=d,L;C?L=C+"-":L="",S.boundingBox();var E=M.labelBounds[C||"main"],A=S.pstyle(L+"label").value,D=S.pstyle("text-events").strValue==="yes";if(!(!D||!A)){var R=_(M.rscratch,"labelX",C),I=_(M.rscratch,"labelY",C),O=_(M.rscratch,"labelAngle",C),F=S.pstyle(L+"text-margin-x").pfValue,P=S.pstyle(L+"text-margin-y").pfValue,q=E.x1-N-F,$=E.x2+N-F,W=E.y1-N-P,X=E.y2+N-P;if(O){var tt=Math.cos(O),Y=Math.sin(O),ot=function(it,K){return it=it-R,K=K-I,{x:it*tt-K*Y+R,y:it*Y+K*tt+I}},Z=ot(q,W),ct=ot(q,X),rt=ot($,W),et=ot($,X),Q=[Z.x+F,Z.y+P,rt.x+F,rt.y+P,et.x+F,et.y+P,ct.x+F,ct.y+P];if(zs(e,t,Q))return v(S),!0}else if($d(E,e,t))return v(S),!0}}for(var w=o.length-1;w>=0;w--){var T=o[w];T.isNode()?y(T)||k(T):b(T)||k(T)||k(T,"source")||k(T,"target")}return s};rm.getAllInBox=function(e,t,r,n){var a=this.getCachedZSortedEles().interactive,i=this.cy.zoom(),o=2/i,s=[],l=Math.min(e,r),u=Math.max(e,r),f=Math.min(t,n),h=Math.max(t,n);e=l,r=u,t=f,n=h;var d=as({x1:e,y1:t,x2:r,y2:n}),p=[{x:d.x1,y:d.y1},{x:d.x2,y:d.y1},{x:d.x2,y:d.y2},{x:d.x1,y:d.y2}],m=[[p[0],p[1]],[p[1],p[2]],[p[2],p[3]],[p[3],p[0]]];function g(it,K,dt){return $s(it,K,dt)}function v(it,K){var dt=it._private,nt=o,_t="";it.boundingBox();var V=dt.labelBounds.main;if(!V)return null;var Ut=g(dt.rscratch,"labelX",K),pt=g(dt.rscratch,"labelY",K),Ft=g(dt.rscratch,"labelAngle",K),Yt=it.pstyle(_t+"text-margin-x").pfValue,Ht=it.pstyle(_t+"text-margin-y").pfValue,Lt=V.x1-nt-Yt,Nt=V.x2+nt-Yt,It=V.y1-nt-Ht,kt=V.y2+nt-Ht;if(Ft){var Pt=Math.cos(Ft),ht=Math.sin(Ft),yt=function(ft,z){return ft=ft-Ut,z=z-pt,{x:ft*Pt-z*ht+Ut,y:ft*ht+z*Pt+pt}};return[yt(Lt,It),yt(Nt,It),yt(Nt,kt),yt(Lt,kt)]}else return[{x:Lt,y:It},{x:Nt,y:It},{x:Nt,y:kt},{x:Lt,y:kt}]}function y(it,K,dt,nt){function _t(V,Ut,pt){return(pt.y-V.y)*(Ut.x-V.x)>(Ut.y-V.y)*(pt.x-V.x)}return _t(it,dt,nt)!==_t(K,dt,nt)&&_t(it,K,dt)!==_t(it,K,nt)}for(var b=0;b<a.length;b++){var _=a[b];if(_.isNode()){var k=_,w=k.pstyle("text-events").strValue==="yes",T=k.pstyle("box-selection").strValue,S=k.pstyle("box-select-labels").strValue==="yes";if(T==="none")continue;var C=(T==="overlap"||S)&&w,M=k.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:C});if(T==="contain"){var N=!1;if(S&&w){var L=v(k);L&&IN(L,p)&&(s.push(k),N=!0)}!N&&Ypt(d,M)&&s.push(k)}else if(T==="overlap"&&yF(d,M)){var E=k.boundingBox({includeNodes:!0,includeEdges:!0,includeLabels:!1,includeMainLabels:!1,includeSourceLabels:!1,includeTargetLabels:!1}),A=[{x:E.x1,y:E.y1},{x:E.x2,y:E.y1},{x:E.x2,y:E.y2},{x:E.x1,y:E.y2}];if(IN(A,p))s.push(k);else{var D=v(k);D&&IN(D,p)&&s.push(k)}}}else{var R=_,I=R._private,O=I.rscratch,F=R.pstyle("box-selection").strValue;if(F==="none")continue;if(F==="contain"){if(O.startX!=null&&O.startY!=null&&!$d(d,O.startX,O.startY)||O.endX!=null&&O.endY!=null&&!$d(d,O.endX,O.endY))continue;if(O.edgeType==="bezier"||O.edgeType==="multibezier"||O.edgeType==="self"||O.edgeType==="compound"||O.edgeType==="segments"||O.edgeType==="haystack"){for(var P=I.rstyle.bezierPts||I.rstyle.linePts||I.rstyle.haystackPts,q=!0,$=0;$<P.length;$++)if(!_ht(d,P[$])){q=!1;break}q&&s.push(R)}else O.edgeType==="straight"&&s.push(R)}else if(F==="overlap"){var W=!1;if(O.startX!=null&&O.startY!=null&&O.endX!=null&&O.endY!=null&&($d(d,O.startX,O.startY)||$d(d,O.endX,O.endY)))s.push(R),W=!0;else if(!W&&O.edgeType==="haystack"){for(var X=I.rstyle.haystackPts,tt=0;tt<X.length;tt++)if(_ht(d,X[tt])){s.push(R),W=!0;break}}if(!W){var Y=I.rstyle.bezierPts||I.rstyle.linePts||I.rstyle.haystackPts;if((!Y||Y.length<2)&&O.edgeType==="straight"&&O.startX!=null&&O.startY!=null&&O.endX!=null&&O.endY!=null&&(Y=[{x:O.startX,y:O.startY},{x:O.endX,y:O.endY}]),!Y||Y.length<2)continue;for(var ot=0;ot<Y.length-1;ot++){for(var Z=Y[ot],ct=Y[ot+1],rt=0;rt<m.length;rt++){var et=ii(m[rt],2),Q=et[0],j=et[1];if(y(Z,ct,Q,j)){s.push(R),W=!0;break}}if(W)break}}}}}return s};PC={};PC.calculateArrowAngles=function(e){var t=e._private.rscratch,r=t.edgeType==="haystack",n=t.edgeType==="bezier",a=t.edgeType==="multibezier",i=t.edgeType==="segments",o=t.edgeType==="compound",s=t.edgeType==="self",l,u,f,h,d,p,y,b;if(r?(f=t.haystackPts[0],h=t.haystackPts[1],d=t.haystackPts[2],p=t.haystackPts[3]):(f=t.arrowStartX,h=t.arrowStartY,d=t.arrowEndX,p=t.arrowEndY),y=t.midX,b=t.midY,i)l=f-t.segpts[0],u=h-t.segpts[1];else if(a||o||s||n){var m=t.allpts,g=Oi(m[0],m[2],m[4],.1),v=Oi(m[1],m[3],m[5],.1);l=f-g,u=h-v}else l=f-y,u=h-b;t.srcArrowAngle=iC(l,u);var y=t.midX,b=t.midY;if(r&&(y=(f+d)/2,b=(h+p)/2),l=d-f,u=p-h,i){var m=t.allpts;if(m.length/2%2===0){var _=m.length/2,k=_-2;l=m[_]-m[k],u=m[_+1]-m[k+1]}else if(t.isRound)l=t.midVector[1],u=-t.midVector[0];else{var _=m.length/2-1,k=_-2;l=m[_]-m[k],u=m[_+1]-m[k+1]}}else if(a||o||s){var m=t.allpts,w=t.ctrlpts,T,S,C,M;if(w.length/2%2===0){var N=m.length/2-1,L=N+2,E=L+2;T=Oi(m[N],m[L],m[E],0),S=Oi(m[N+1],m[L+1],m[E+1],0),C=Oi(m[N],m[L],m[E],1e-4),M=Oi(m[N+1],m[L+1],m[E+1],1e-4)}else{var L=m.length/2-1,N=L-2,E=L+2;T=Oi(m[N],m[L],m[E],.4999),S=Oi(m[N+1],m[L+1],m[E+1],.4999),C=Oi(m[N],m[L],m[E],.5),M=Oi(m[N+1],m[L+1],m[E+1],.5)}l=C-T,u=M-S}if(t.midtgtArrowAngle=iC(l,u),t.midDispX=l,t.midDispY=u,l*=-1,u*=-1,i){var m=t.allpts;if(m.length/2%2!==0){if(!t.isRound){var _=m.length/2-1,A=_+2;l=-(m[A]-m[_]),u=-(m[A+1]-m[_+1])}}}if(t.midsrcArrowAngle=iC(l,u),i)l=d-t.segpts[t.segpts.length-2],u=p-t.segpts[t.segpts.length-1];else if(a||o||s||n){var m=t.allpts,D=m.length,g=Oi(m[D-6],m[D-4],m[D-2],.9),v=Oi(m[D-5],m[D-3],m[D-1],.9);l=d-g,u=p-v}else l=d-y,u=p-b;t.tgtArrowAngle=iC(l,u)};PC.getArrowWidth=PC.getArrowHeight=function(e,t){var r=this.arrowWidthCache=this.arrowWidthCache||{},n=r[e+", "+t];return n||(n=Math.max(Math.pow(e*13.37,.9),29)*t,r[e+", "+t]=n,n)};Gc={},Gl={},opt=function(t,r,n){n.x=r.x-t.x,n.y=r.y-t.y,n.len=Math.sqrt(n.x*n.x+n.y*n.y),n.nx=n.x/n.len,n.ny=n.y/n.len,n.ang=Math.atan2(n.ny,n.nx)},KYt=function(t,r){r.x=t.x*-1,r.y=t.y*-1,r.nx=t.nx*-1,r.ny=t.ny*-1,r.ang=t.ang>0?-(Math.PI-t.ang):Math.PI+t.ang},QYt=function(t,r,n,a,i){if(t!==ipt?opt(r,t,Gc):KYt(Gl,Gc),opt(r,n,Gl),npt=Gc.nx*Gl.ny-Gc.ny*Gl.nx,apt=Gc.nx*Gl.nx-Gc.ny*-Gl.ny,Jf=Math.asin(Math.max(-1,Math.min(1,npt))),Math.abs(Jf)<1e-6){tF=r.x,eF=r.y,Y0=U1=0;return}j0=1,EC=!1,apt<0?Jf<0?Jf=Math.PI+Jf:(Jf=Math.PI-Jf,j0=-1,EC=!0):Jf>0&&(j0=-1,EC=!0),r.radius!==void 0?U1=r.radius:U1=a,W0=Jf/2,dC=Math.min(Gc.len/2,Gl.len/2),i?(Uc=Math.abs(Math.cos(W0)*U1/Math.sin(W0)),Uc>dC?(Uc=dC,Y0=Math.abs(Uc*Math.sin(W0)/Math.cos(W0))):Y0=U1):(Uc=Math.min(dC,U1),Y0=Math.abs(Uc*Math.sin(W0)/Math.cos(W0))),rF=r.x+Gl.nx*Uc,nF=r.y+Gl.ny*Uc,tF=rF-Gl.ny*Y0*j0,eF=nF+Gl.nx*Y0*j0,q0t=r.x+Gc.nx*Uc,U0t=r.y+Gc.ny*Uc,ipt=r};w_=.01,ZYt=Math.sqrt(2*w_),Ao={};Ao.findMidptPtsEtc=function(e,t){var r=t.posPts,n=t.intersectionPts,a=t.vectorNormInverse,i,o=e.pstyle("source-endpoint"),s=e.pstyle("target-endpoint"),l=o.units!=null&&s.units!=null,u=function(w,T,S,C){var M=C-T,N=S-w,L=Math.sqrt(N*N+M*M);return{x:-M/L,y:N/L}},f=e.pstyle("edge-distances").value;switch(f){case"node-position":i=r;break;case"intersection":i=n;break;case"endpoints":{if(l){var h=this.manualEndptToPx(e.source()[0],o),d=ii(h,2),p=d[0],m=d[1],g=this.manualEndptToPx(e.target()[0],s),v=ii(g,2),y=v[0],b=v[1],_={x1:p,y1:m,x2:y,y2:b};a=u(p,m,y,b),i=_}else An("Edge ".concat(e.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),i=n;break}}return{midptPts:i,vectorNormInverse:a}};Ao.findHaystackPoints=function(e){for(var t=0;t<e.length;t++){var r=e[t],n=r._private,a=n.rscratch;if(!a.haystack){var i=Math.random()*2*Math.PI;a.source={x:Math.cos(i),y:Math.sin(i)},i=Math.random()*2*Math.PI,a.target={x:Math.cos(i),y:Math.sin(i)}}var o=n.source,s=n.target,l=o.position(),u=s.position(),f=o.width(),h=s.width(),d=o.height(),p=s.height(),m=r.pstyle("haystack-radius").value,g=m/2;a.haystackPts=a.allpts=[a.source.x*f*g+l.x,a.source.y*d*g+l.y,a.target.x*h*g+u.x,a.target.y*p*g+u.y],a.midX=(a.allpts[0]+a.allpts[2])/2,a.midY=(a.allpts[1]+a.allpts[3])/2,a.edgeType="haystack",a.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}};Ao.findSegmentsPoints=function(e,t){var r=e._private.rscratch,n=e.pstyle("segment-weights"),a=e.pstyle("segment-distances"),i=e.pstyle("segment-radii"),o=e.pstyle("radius-type"),s=Math.min(n.pfValue.length,a.pfValue.length),l=i.pfValue[i.pfValue.length-1],u=o.pfValue[o.pfValue.length-1];r.edgeType="segments",r.segpts=[],r.radii=[],r.isArcRadius=[];for(var f=0;f<s;f++){var h=n.pfValue[f],d=a.pfValue[f],p=1-h,m=h,g=this.findMidptPtsEtc(e,t),v=g.midptPts,y=g.vectorNormInverse,b={x:v.x1*p+v.x2*m,y:v.y1*p+v.y2*m};r.segpts.push(b.x+y.x*d,b.y+y.y*d),r.radii.push(i.pfValue[f]!==void 0?i.pfValue[f]:l),r.isArcRadius.push((o.pfValue[f]!==void 0?o.pfValue[f]:u)==="arc-radius")}};Ao.findLoopPoints=function(e,t,r,n){var a=e._private.rscratch,i=t.dirCounts,o=t.srcPos,s=e.pstyle("control-point-distances"),l=s?s.pfValue[0]:void 0,u=e.pstyle("loop-direction").pfValue,f=e.pstyle("loop-sweep").pfValue,h=e.pstyle("control-point-step-size").pfValue;a.edgeType="self";var d=r,p=h;n&&(d=0,p=l);var m=u-Math.PI/2,g=m-f/2,v=m+f/2,y=u+"_"+f;d=i[y]===void 0?i[y]=0:++i[y],a.ctrlpts=[o.x+Math.cos(g)*1.4*p*(d/3+1),o.y+Math.sin(g)*1.4*p*(d/3+1),o.x+Math.cos(v)*1.4*p*(d/3+1),o.y+Math.sin(v)*1.4*p*(d/3+1)]};Ao.findCompoundLoopPoints=function(e,t,r,n){var a=e._private.rscratch;a.edgeType="compound";var i=t.srcPos,o=t.tgtPos,s=t.srcW,l=t.srcH,u=t.tgtW,f=t.tgtH,h=e.pstyle("control-point-step-size").pfValue,d=e.pstyle("control-point-distances"),p=d?d.pfValue[0]:void 0,m=r,g=h;n&&(m=0,g=p);var v=50,y={x:i.x-s/2,y:i.y-l/2},b={x:o.x-u/2,y:o.y-f/2},_={x:Math.min(y.x,b.x),y:Math.min(y.y,b.y)},k=.5,w=Math.max(k,Math.log(s*w_)),T=Math.max(k,Math.log(u*w_));a.ctrlpts=[_.x,_.y-(1+Math.pow(v,1.12)/100)*g*(m/3+1)*w,_.x-(1+Math.pow(v,1.12)/100)*g*(m/3+1)*T,_.y]};Ao.findStraightEdgePoints=function(e){e._private.rscratch.edgeType="straight"};Ao.findBezierPoints=function(e,t,r,n,a){var i=e._private.rscratch,o=e.pstyle("control-point-step-size").pfValue,s=e.pstyle("control-point-distances"),l=e.pstyle("control-point-weights"),u=s&&l?Math.min(s.value.length,l.value.length):1,f=s?s.pfValue[0]:void 0,h=l.value[0],d=n;i.edgeType=d?"multibezier":"bezier",i.ctrlpts=[];for(var p=0;p<u;p++){var m=(.5-t.eles.length/2+r)*o*(a?-1:1),g=void 0,v=vF(m);d&&(f=s?s.pfValue[p]:o,h=l.value[p]),n?g=f:g=f!==void 0?v*f:void 0;var y=g!==void 0?g:m,b=1-h,_=h,k=this.findMidptPtsEtc(e,t),w=k.midptPts,T=k.vectorNormInverse,S={x:w.x1*b+w.x2*_,y:w.y1*b+w.y2*_};i.ctrlpts.push(S.x+T.x*y,S.y+T.y*y)}};Ao.findTaxiPoints=function(e,t){var r=e._private.rscratch;r.edgeType="segments";var n="vertical",a="horizontal",i="leftward",o="rightward",s="downward",l="upward",u="auto",f=t.posPts,h=t.srcW,d=t.srcH,p=t.tgtW,m=t.tgtH,g=e.pstyle("edge-distances").value,v=g!=="node-position",y=e.pstyle("taxi-direction").value,b=y,_=e.pstyle("taxi-turn"),k=_.units==="%",w=_.pfValue,T=w<0,S=e.pstyle("taxi-turn-min-distance").pfValue,C=v?(h+p)/2:0,M=v?(d+m)/2:0,N=f.x2-f.x1,L=f.y2-f.y1,E=function(z,st){return z>0?Math.max(z-st,0):Math.min(z+st,0)},A=E(N,C),D=E(L,M),R=!1;b===u?y=Math.abs(A)>Math.abs(D)?a:n:b===l||b===s?(y=n,R=!0):(b===i||b===o)&&(y=a,R=!0);var I=y===n,O=I?D:A,F=I?L:N,P=vF(F),q=!1;!(R&&(k||T))&&(b===s&&F<0||b===l&&F>0||b===i&&F>0||b===o&&F<0)&&(P*=-1,O=P*Math.abs(O),q=!0);var $;if(k){var W=w<0?1+w:w;$=W*O}else{var X=w<0?O:0;$=X+w*P}var tt=function(z){return Math.abs(z)<S||Math.abs(z)>=Math.abs(O)},Y=tt($),ot=tt(Math.abs(O)-Math.abs($)),Z=Y||ot;if(Z&&!q)if(I){var ct=Math.abs(F)<=d/2,rt=Math.abs(N)<=p/2;if(ct){var et=(f.x1+f.x2)/2,Q=f.y1,j=f.y2;r.segpts=[et,Q,et,j]}else if(rt){var it=(f.y1+f.y2)/2,K=f.x1,dt=f.x2;r.segpts=[K,it,dt,it]}else r.segpts=[f.x1,f.y2]}else{var nt=Math.abs(F)<=h/2,_t=Math.abs(L)<=m/2;if(nt){var V=(f.y1+f.y2)/2,Ut=f.x1,pt=f.x2;r.segpts=[Ut,V,pt,V]}else if(_t){var Ft=(f.x1+f.x2)/2,Yt=f.y1,Ht=f.y2;r.segpts=[Ft,Yt,Ft,Ht]}else r.segpts=[f.x2,f.y1]}else if(I){var Lt=f.y1+$+(v?d/2*P:0),Nt=f.x1,It=f.x2;r.segpts=[Nt,Lt,It,Lt]}else{var kt=f.x1+$+(v?h/2*P:0),Pt=f.y1,ht=f.y2;r.segpts=[kt,Pt,kt,ht]}if(r.isRound){var yt=e.pstyle("taxi-radius").value,H=e.pstyle("radius-type").value[0]==="arc-radius";r.radii=new Array(r.segpts.length/2).fill(yt),r.isArcRadius=new Array(r.segpts.length/2).fill(H)}};Ao.tryToCorrectInvalidPoints=function(e,t){var r=e._private.rscratch;if(r.edgeType==="bezier"){var n=t.srcPos,a=t.tgtPos,i=t.srcW,o=t.srcH,s=t.tgtW,l=t.tgtH,u=t.srcShape,f=t.tgtShape,h=t.srcCornerRadius,d=t.tgtCornerRadius,p=t.srcRs,m=t.tgtRs,g=!be(r.startX)||!be(r.startY),v=!be(r.arrowStartX)||!be(r.arrowStartY),y=!be(r.endX)||!be(r.endY),b=!be(r.arrowEndX)||!be(r.arrowEndY),_=3,k=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth,w=_*k,T=Z0({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),S=T<w,C=Z0({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),M=C<w,N=!1;if(g||v||S){N=!0;var L={x:r.ctrlpts[0]-n.x,y:r.ctrlpts[1]-n.y},E=Math.sqrt(L.x*L.x+L.y*L.y),A={x:L.x/E,y:L.y/E},D=Math.max(i,o),R={x:r.ctrlpts[0]+A.x*2*D,y:r.ctrlpts[1]+A.y*2*D},I=u.intersectLine(n.x,n.y,i,o,R.x,R.y,0,h,p);S?(r.ctrlpts[0]=r.ctrlpts[0]+A.x*(w-T),r.ctrlpts[1]=r.ctrlpts[1]+A.y*(w-T)):(r.ctrlpts[0]=I[0]+A.x*w,r.ctrlpts[1]=I[1]+A.y*w)}if(y||b||M){N=!0;var O={x:r.ctrlpts[0]-a.x,y:r.ctrlpts[1]-a.y},F=Math.sqrt(O.x*O.x+O.y*O.y),P={x:O.x/F,y:O.y/F},q=Math.max(i,o),$={x:r.ctrlpts[0]+P.x*2*q,y:r.ctrlpts[1]+P.y*2*q},W=f.intersectLine(a.x,a.y,s,l,$.x,$.y,0,d,m);M?(r.ctrlpts[0]=r.ctrlpts[0]+P.x*(w-C),r.ctrlpts[1]=r.ctrlpts[1]+P.y*(w-C)):(r.ctrlpts[0]=W[0]+P.x*w,r.ctrlpts[1]=W[1]+P.y*w)}N&&this.findEndpoints(e)}};Ao.storeAllpts=function(e){var t=e._private.rscratch;if(t.edgeType==="multibezier"||t.edgeType==="bezier"||t.edgeType==="self"||t.edgeType==="compound"){t.allpts=[],t.allpts.push(t.startX,t.startY);for(var r=0;r+1<t.ctrlpts.length;r+=2)t.allpts.push(t.ctrlpts[r],t.ctrlpts[r+1]),r+3<t.ctrlpts.length&&t.allpts.push((t.ctrlpts[r]+t.ctrlpts[r+2])/2,(t.ctrlpts[r+1]+t.ctrlpts[r+3])/2);t.allpts.push(t.endX,t.endY);var n,a;t.ctrlpts.length/2%2===0?(n=t.allpts.length/2-1,t.midX=t.allpts[n],t.midY=t.allpts[n+1]):(n=t.allpts.length/2-3,a=.5,t.midX=Oi(t.allpts[n],t.allpts[n+2],t.allpts[n+4],a),t.midY=Oi(t.allpts[n+1],t.allpts[n+3],t.allpts[n+5],a))}else if(t.edgeType==="straight")t.allpts=[t.startX,t.startY,t.endX,t.endY],t.midX=(t.startX+t.endX+t.arrowStartX+t.arrowEndX)/4,t.midY=(t.startY+t.endY+t.arrowStartY+t.arrowEndY)/4;else if(t.edgeType==="segments"){if(t.allpts=[],t.allpts.push(t.startX,t.startY),t.allpts.push.apply(t.allpts,t.segpts),t.allpts.push(t.endX,t.endY),t.isRound){t.roundCorners=[];for(var i=2;i+3<t.allpts.length;i+=2){var o=t.radii[i/2-1],s=t.isArcRadius[i/2-1];t.roundCorners.push(LF({x:t.allpts[i-2],y:t.allpts[i-1]},{x:t.allpts[i],y:t.allpts[i+1],radius:o},{x:t.allpts[i+2],y:t.allpts[i+3]},o,s))}}if(t.segpts.length%4===0){var l=t.segpts.length/2,u=l-2;t.midX=(t.segpts[u]+t.segpts[l])/2,t.midY=(t.segpts[u+1]+t.segpts[l+1])/2}else{var f=t.segpts.length/2-1;if(!t.isRound)t.midX=t.segpts[f],t.midY=t.segpts[f+1];else{var h={x:t.segpts[f],y:t.segpts[f+1]},d=t.roundCorners[f/2];if(d.radius===0){var p={x:t.segpts[f+2],y:t.segpts[f+3]};t.midX=h.x,t.midY=h.y,t.midVector=[h.y-p.y,p.x-h.x]}else{var m=[h.x-d.cx,h.y-d.cy],g=d.radius/Math.sqrt(Math.pow(m[0],2)+Math.pow(m[1],2));m=m.map(function(v){return v*g}),t.midX=d.cx+m[0],t.midY=d.cy+m[1],t.midVector=m}}}}};Ao.checkForInvalidEdgeWarning=function(e){var t=e[0]._private.rscratch;t.nodesOverlap||be(t.startX)&&be(t.startY)&&be(t.endX)&&be(t.endY)?t.loggedErr=!1:t.loggedErr||(t.loggedErr=!0,An("Edge `"+e.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};Ao.findEdgeControlPoints=function(e){var t=this;if(!(!e||e.length===0)){for(var r=this,n=r.cy,a=n.hasCompoundNodes(),i=new eh,o=function(M,N){return[].concat(SC(M),[N?1:0]).join("-")},s=[],l=[],u=0;u<e.length;u++){var f=e[u],h=f._private,d=f.pstyle("curve-style").value;if(!(f.removed()||!f.takesUpSpace())){if(d==="haystack"){l.push(f);continue}var p=d==="unbundled-bezier"||Bd(d,"segments")||d==="straight"||d==="straight-triangle"||Bd(d,"taxi"),m=d==="unbundled-bezier"||d==="bezier",g=h.source,v=h.target,y=g.poolIndex(),b=v.poolIndex(),_=[y,b].sort(),k=o(_,p),w=i.get(k);w==null&&(w={eles:[]},s.push({pairId:_,edgeIsUnbundled:p}),i.set(k,w)),w.eles.push(f),p&&(w.hasUnbundled=!0),m&&(w.hasBezier=!0)}}for(var T=function(){var M=s[S],N=M.pairId,L=M.edgeIsUnbundled,E=o(N,L),A=i.get(E),D;if(!A.hasUnbundled){var R=A.eles[0].parallelEdges().filter(function(H){return H.isBundledBezier()});mF(A.eles),R.forEach(function(H){return A.eles.push(H)}),A.eles.sort(function(H,ft){return H.poolIndex()-ft.poolIndex()})}var I=A.eles[0],O=I.source(),F=I.target();if(O.poolIndex()>F.poolIndex()){var P=O;O=F,F=P}var q=A.srcPos=O.position(),$=A.tgtPos=F.position(),W=A.srcW=O.outerWidth(),X=A.srcH=O.outerHeight(),tt=A.tgtW=F.outerWidth(),Y=A.tgtH=F.outerHeight(),ot=A.srcShape=r.nodeShapes[t.getNodeShape(O)],Z=A.tgtShape=r.nodeShapes[t.getNodeShape(F)],ct=A.srcCornerRadius=O.pstyle("corner-radius").value==="auto"?"auto":O.pstyle("corner-radius").pfValue,rt=A.tgtCornerRadius=F.pstyle("corner-radius").value==="auto"?"auto":F.pstyle("corner-radius").pfValue,et=A.tgtRs=F._private.rscratch,Q=A.srcRs=O._private.rscratch;A.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var j=0;j<A.eles.length;j++){var it=A.eles[j],K=it[0]._private.rscratch,dt=it.pstyle("curve-style").value,nt=dt==="unbundled-bezier"||Bd(dt,"segments")||Bd(dt,"taxi"),_t=!O.same(it.source());if(!A.calculatedIntersection&&O!==F&&(A.hasBezier||A.hasUnbundled)){A.calculatedIntersection=!0;var V=ot.intersectLine(q.x,q.y,W,X,$.x,$.y,0,ct,Q),Ut=A.srcIntn=V,pt=Z.intersectLine($.x,$.y,tt,Y,q.x,q.y,0,rt,et),Ft=A.tgtIntn=pt,Yt=A.intersectionPts={x1:V[0],x2:pt[0],y1:V[1],y2:pt[1]},Ht=A.posPts={x1:q.x,x2:$.x,y1:q.y,y2:$.y},Lt=pt[1]-V[1],Nt=pt[0]-V[0],It=Math.sqrt(Nt*Nt+Lt*Lt);be(It)&&It>=ZYt||(It=Math.sqrt(Math.max(Nt*Nt,w_)+Math.max(Lt*Lt,w_)));var kt=A.vector={x:Nt,y:Lt},Pt=A.vectorNorm={x:kt.x/It,y:kt.y/It},ht={x:-Pt.y,y:Pt.x};A.nodesOverlap=!be(It)||Z.checkPoint(V[0],V[1],0,tt,Y,$.x,$.y,rt,et)||ot.checkPoint(pt[0],pt[1],0,W,X,q.x,q.y,ct,Q),A.vectorNormInverse=ht,D={nodesOverlap:A.nodesOverlap,dirCounts:A.dirCounts,calculatedIntersection:!0,hasBezier:A.hasBezier,hasUnbundled:A.hasUnbundled,eles:A.eles,srcPos:$,srcRs:et,tgtPos:q,tgtRs:Q,srcW:tt,srcH:Y,tgtW:W,tgtH:X,srcIntn:Ft,tgtIntn:Ut,srcShape:Z,tgtShape:ot,posPts:{x1:Ht.x2,y1:Ht.y2,x2:Ht.x1,y2:Ht.y1},intersectionPts:{x1:Yt.x2,y1:Yt.y2,x2:Yt.x1,y2:Yt.y1},vector:{x:-kt.x,y:-kt.y},vectorNorm:{x:-Pt.x,y:-Pt.y},vectorNormInverse:{x:-ht.x,y:-ht.y}}}var yt=_t?D:A;K.nodesOverlap=yt.nodesOverlap,K.srcIntn=yt.srcIntn,K.tgtIntn=yt.tgtIntn,K.isRound=dt.startsWith("round"),a&&(O.isParent()||O.isChild()||F.isParent()||F.isChild())&&(O.parents().anySame(F)||F.parents().anySame(O)||O.same(F)&&O.isParent())?t.findCompoundLoopPoints(it,yt,j,nt):O===F?t.findLoopPoints(it,yt,j,nt):dt.endsWith("segments")?t.findSegmentsPoints(it,yt):dt.endsWith("taxi")?t.findTaxiPoints(it,yt):dt==="straight"||!nt&&A.eles.length%2===1&&j===Math.floor(A.eles.length/2)?t.findStraightEdgePoints(it):t.findBezierPoints(it,yt,j,nt,_t),t.findEndpoints(it),t.tryToCorrectInvalidPoints(it,yt),t.checkForInvalidEdgeWarning(it),t.storeAllpts(it),t.storeEdgeProjections(it),t.calculateArrowAngles(it),t.recalculateEdgeLabelProjections(it),t.calculateLabelAngles(it)}},S=0;S<s.length;S++)T();this.findHaystackPoints(l)}};Ao.getSegmentPoints=function(e){var t=e[0]._private.rscratch;this.recalculateRenderedStyle(e);var r=t.edgeType;if(r==="segments")return G0t(t.segpts)};Ao.getControlPoints=function(e){var t=e[0]._private.rscratch;this.recalculateRenderedStyle(e);var r=t.edgeType;if(r==="bezier"||r==="multibezier"||r==="self"||r==="compound")return G0t(t.ctrlpts)};Ao.getEdgeMidpoint=function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),{x:t.midX,y:t.midY}};I_={};I_.manualEndptToPx=function(e,t){var r=this,n=e.position(),a=e.outerWidth(),i=e.outerHeight(),o=e._private.rscratch;if(t.value.length===2){var s=[t.pfValue[0],t.pfValue[1]];return t.units[0]==="%"&&(s[0]=s[0]*a),t.units[1]==="%"&&(s[1]=s[1]*i),s[0]+=n.x,s[1]+=n.y,s}else{var l=t.pfValue[0];l=-Math.PI/2+l;var u=2*Math.max(a,i),f=[n.x+Math.cos(l)*u,n.y+Math.sin(l)*u];return r.nodeShapes[this.getNodeShape(e)].intersectLine(n.x,n.y,a,i,f[0],f[1],0,e.pstyle("corner-radius").value==="auto"?"auto":e.pstyle("corner-radius").pfValue,o)}};I_.findEndpoints=function(e){var t,r,n,a,i=this,o,s=e.source()[0],l=e.target()[0],u=s.position(),f=l.position(),h=e.pstyle("target-arrow-shape").value,d=e.pstyle("source-arrow-shape").value,p=e.pstyle("target-distance-from-node").pfValue,m=e.pstyle("source-distance-from-node").pfValue,g=s._private.rscratch,v=l._private.rscratch,y=e.pstyle("curve-style").value,b=e._private.rscratch,_=b.edgeType,k=Bd(y,"taxi"),w=_==="self"||_==="compound",T=_==="bezier"||_==="multibezier"||w,S=_!=="bezier",C=_==="straight"||_==="segments",M=_==="segments",N=T||S||C,L=w||k,E=e.pstyle("source-endpoint"),A=L?"outside-to-node":E.value,D=s.pstyle("corner-radius").value==="auto"?"auto":s.pstyle("corner-radius").pfValue,R=e.pstyle("target-endpoint"),I=L?"outside-to-node":R.value,O=l.pstyle("corner-radius").value==="auto"?"auto":l.pstyle("corner-radius").pfValue;b.srcManEndpt=E,b.tgtManEndpt=R;var F,P,q,$,W=(t=(R==null||(r=R.pfValue)===null||r===void 0?void 0:r.length)===2?R.pfValue:null)!==null&&t!==void 0?t:[0,0],X=(n=(E==null||(a=E.pfValue)===null||a===void 0?void 0:a.length)===2?E.pfValue:null)!==null&&n!==void 0?n:[0,0];if(T){var tt=[b.ctrlpts[0],b.ctrlpts[1]],Y=S?[b.ctrlpts[b.ctrlpts.length-2],b.ctrlpts[b.ctrlpts.length-1]]:tt;F=Y,P=tt}else if(C){var ot=M?b.segpts.slice(0,2):[f.x+W[0],f.y+W[1]],Z=M?b.segpts.slice(b.segpts.length-2):[u.x+X[0],u.y+X[1]];F=Z,P=ot}if(I==="inside-to-node")o=[f.x,f.y];else if(R.units)o=this.manualEndptToPx(l,R);else if(I==="outside-to-line")o=b.tgtIntn;else if(I==="outside-to-node"||I==="outside-to-node-or-label"?q=F:(I==="outside-to-line"||I==="outside-to-line-or-label")&&(q=[u.x,u.y]),o=i.nodeShapes[this.getNodeShape(l)].intersectLine(f.x,f.y,l.outerWidth(),l.outerHeight(),q[0],q[1],0,O,v),I==="outside-to-node-or-label"||I==="outside-to-line-or-label"){var ct=l._private.rscratch,rt=ct.labelWidth,et=ct.labelHeight,Q=ct.labelX,j=ct.labelY,it=rt/2,K=et/2,dt=l.pstyle("text-valign").value;dt==="top"?j-=K:dt==="bottom"&&(j+=K);var nt=l.pstyle("text-halign").value;nt==="left"?Q-=it:nt==="right"&&(Q+=it);var _t=v_(q[0],q[1],[Q-it,j-K,Q+it,j-K,Q+it,j+K,Q-it,j+K],f.x,f.y);if(_t.length>0){var V=u,Ut=H0(V,H1(o)),pt=H0(V,H1(_t)),Ft=Ut;if(pt<Ut&&(o=_t,Ft=pt),_t.length>2){var Yt=H0(V,{x:_t[2],y:_t[3]});Yt<Ft&&(o=[_t[2],_t[3]])}}}var Ht=oC(o,F,i.arrowShapes[h].spacing(e)+p),Lt=oC(o,F,i.arrowShapes[h].gap(e)+p);if(b.endX=Lt[0],b.endY=Lt[1],b.arrowEndX=Ht[0],b.arrowEndY=Ht[1],A==="inside-to-node")o=[u.x,u.y];else if(E.units)o=this.manualEndptToPx(s,E);else if(A==="outside-to-line")o=b.srcIntn;else if(A==="outside-to-node"||A==="outside-to-node-or-label"?$=P:(A==="outside-to-line"||A==="outside-to-line-or-label")&&($=[f.x,f.y]),o=i.nodeShapes[this.getNodeShape(s)].intersectLine(u.x,u.y,s.outerWidth(),s.outerHeight(),$[0],$[1],0,D,g),A==="outside-to-node-or-label"||A==="outside-to-line-or-label"){var Nt=s._private.rscratch,It=Nt.labelWidth,kt=Nt.labelHeight,Pt=Nt.labelX,ht=Nt.labelY,yt=It/2,H=kt/2,ft=s.pstyle("text-valign").value;ft==="top"?ht-=H:ft==="bottom"&&(ht+=H);var z=s.pstyle("text-halign").value;z==="left"?Pt-=yt:z==="right"&&(Pt+=yt);var st=v_($[0],$[1],[Pt-yt,ht-H,Pt+yt,ht-H,Pt+yt,ht+H,Pt-yt,ht+H],u.x,u.y);if(st.length>0){var lt=f,wt=H0(lt,H1(o)),vt=H0(lt,H1(st)),gt=wt;if(vt<wt&&(o=[st[0],st[1]],gt=vt),st.length>2){var Mt=H0(lt,{x:st[2],y:st[3]});Mt<gt&&(o=[st[2],st[3]])}}}var St=oC(o,P,i.arrowShapes[d].spacing(e)+m),Bt=oC(o,P,i.arrowShapes[d].gap(e)+m);b.startX=Bt[0],b.startY=Bt[1],b.arrowStartX=St[0],b.arrowStartY=St[1],N&&(!be(b.startX)||!be(b.startY)||!be(b.endX)||!be(b.endY)?b.badLine=!0:b.badLine=!1)};I_.getSourceEndpoint=function(e){var t=e[0]._private.rscratch;switch(this.recalculateRenderedStyle(e),t.edgeType){case"haystack":return{x:t.haystackPts[0],y:t.haystackPts[1]};default:return{x:t.arrowStartX,y:t.arrowStartY}}};I_.getTargetEndpoint=function(e){var t=e[0]._private.rscratch;switch(this.recalculateRenderedStyle(e),t.edgeType){case"haystack":return{x:t.haystackPts[2],y:t.haystackPts[3]};default:return{x:t.arrowEndX,y:t.arrowEndY}}};MF={};MF.storeEdgeProjections=function(e){var t=e._private,r=t.rscratch,n=r.edgeType;if(t.rstyle.bezierPts=null,t.rstyle.linePts=null,t.rstyle.haystackPts=null,n==="multibezier"||n==="bezier"||n==="self"||n==="compound"){t.rstyle.bezierPts=[];for(var a=0;a+5<r.allpts.length;a+=4)JYt(this,e,r.allpts.slice(a,a+6))}else if(n==="segments")for(var i=t.rstyle.linePts=[],a=0;a+1<r.allpts.length;a+=2)i.push({x:r.allpts[a],y:r.allpts[a+1]});else if(n==="haystack"){var o=r.haystackPts;t.rstyle.haystackPts=[{x:o[0],y:o[1]},{x:o[2],y:o[3]}]}t.rstyle.arrowWidth=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth};MF.recalculateEdgeProjections=function(e){this.findEdgeControlPoints(e)};Yc={};Yc.recalculateNodeLabelProjection=function(e){var t=e.pstyle("label").strValue;if(!Wd(t)){var r,n,a=e._private,i=e.width(),o=e.height(),s=e.padding(),l=e.position(),u=e.pstyle("text-halign").strValue,f=e.pstyle("text-valign").strValue,h=a.rscratch,d=a.rstyle;switch(u){case"left":r=l.x-i/2-s;break;case"right":r=l.x+i/2+s;break;default:r=l.x}switch(f){case"top":n=l.y-o/2-s;break;case"bottom":n=l.y+o/2+s;break;default:n=l.y}h.labelX=r,h.labelY=n,d.labelX=r,d.labelY=n,this.calculateLabelAngles(e),this.applyLabelDimensions(e)}};V0t=function(t,r){var n=Math.atan(r/t);return t===0&&n<0&&(n=n*-1),n},H0t=function(t,r){var n=r.x-t.x,a=r.y-t.y;return V0t(n,a)},tXt=function(t,r,n,a){var i=g_(0,a-.001,1),o=g_(0,a+.001,1),s=j1(t,r,n,i),l=j1(t,r,n,o);return H0t(s,l)};Yc.recalculateEdgeLabelProjections=function(e){var t,r=e._private,n=r.rscratch,a=this,i={mid:e.pstyle("label").strValue,source:e.pstyle("source-label").strValue,target:e.pstyle("target-label").strValue};if(i.mid||i.source||i.target){t={x:n.midX,y:n.midY};var o=function(h,d,p){th(r.rscratch,h,d,p),th(r.rstyle,h,d,p)};o("labelX",null,t.x),o("labelY",null,t.y);var s=V0t(n.midDispX,n.midDispY);o("labelAutoAngle",null,s);var l=function(){if(l.cache)return l.cache;for(var h=[],d=0;d+5<n.allpts.length;d+=4){var p={x:n.allpts[d],y:n.allpts[d+1]},m={x:n.allpts[d+2],y:n.allpts[d+3]},g={x:n.allpts[d+4],y:n.allpts[d+5]};h.push({p0:p,p1:m,p2:g,startDist:0,length:0,segments:[]})}var v=r.rstyle.bezierPts,y=a.bezierProjPcts.length;function b(S,C,M,N,L){var E=Z0(C,M),A=S.segments[S.segments.length-1],D={p0:C,p1:M,t0:N,t1:L,startDist:A?A.startDist+A.length:0,length:E};S.segments.push(D),S.length+=E}for(var _=0;_<h.length;_++){var k=h[_],w=h[_-1];w&&(k.startDist=w.startDist+w.length),b(k,k.p0,v[_*y],0,a.bezierProjPcts[0]);for(var T=0;T<y-1;T++)b(k,v[_*y+T],v[_*y+T+1],a.bezierProjPcts[T],a.bezierProjPcts[T+1]);b(k,v[_*y+y-1],k.p2,a.bezierProjPcts[y-1],1)}return l.cache=h},u=function(h){var d,p=h==="source";if(i[h]){var m=e.pstyle(h+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var g=l(),v,y=0,b=0,_=0;_<g.length;_++){for(var k=g[p?_:g.length-1-_],w=0;w<k.segments.length;w++){var T=k.segments[p?w:k.segments.length-1-w],S=_===g.length-1&&w===k.segments.length-1;if(y=b,b+=T.length,b>=m||S){v={cp:k,segment:T};break}}if(v)break}var C=v.cp,M=v.segment,N=(m-y)/M.length,L=M.t1-M.t0,E=p?M.t0+L*N:M.t1-L*N;E=g_(0,E,1),t=j1(C.p0,C.p1,C.p2,E),d=tXt(C.p0,C.p1,C.p2,E);break}case"straight":case"segments":case"haystack":{for(var A=0,D,R,I,O,F=n.allpts.length,P=0;P+3<F&&(p?(I={x:n.allpts[P],y:n.allpts[P+1]},O={x:n.allpts[P+2],y:n.allpts[P+3]}):(I={x:n.allpts[F-2-P],y:n.allpts[F-1-P]},O={x:n.allpts[F-4-P],y:n.allpts[F-3-P]}),D=Z0(I,O),R=A,A+=D,!(A>=m));P+=2);var q=m-R,$=q/D;$=g_(0,$,1),t=wGt(I,O,$),d=H0t(I,O);break}}o("labelX",h,t.x),o("labelY",h,t.y),o("labelAutoAngle",h,d)}};u("source"),u("target"),this.applyLabelDimensions(e)}};Yc.applyLabelDimensions=function(e){this.applyPrefixedLabelDimensions(e),e.isEdge()&&(this.applyPrefixedLabelDimensions(e,"source"),this.applyPrefixedLabelDimensions(e,"target"))};Yc.applyPrefixedLabelDimensions=function(e,t){var r=e._private,n=this.getLabelText(e,t),a=Q0(n,e._private.labelDimsKey);if($s(r.rscratch,"prefixedLabelDimsKey",t)!==a){th(r.rscratch,"prefixedLabelDimsKey",t,a);var i=this.calculateLabelDimensions(e,n),o=e.pstyle("line-height").pfValue,s=e.pstyle("text-wrap").strValue,l=$s(r.rscratch,"labelWrapCachedLines",t)||[],u=s!=="wrap"?1:Math.max(l.length,1),f=i.height/u,h=f*o,d=i.width,p=i.height+(u-1)*(o-1)*f;th(r.rstyle,"labelWidth",t,d),th(r.rscratch,"labelWidth",t,d),th(r.rstyle,"labelHeight",t,p),th(r.rscratch,"labelHeight",t,p),th(r.rscratch,"labelLineHeight",t,h)}};Yc.getLabelText=function(e,t){var r=e._private,n=t?t+"-":"",a=e.pstyle(n+"label").strValue,i=e.pstyle("text-transform").value,o=function(X,tt){return tt?(th(r.rscratch,X,t,tt),tt):$s(r.rscratch,X,t)};if(!a)return"";i=="none"||(i=="uppercase"?a=a.toUpperCase():i=="lowercase"&&(a=a.toLowerCase()));var s=e.pstyle("text-wrap").value;if(s==="wrap"){var l=o("labelKey");if(l!=null&&o("labelWrapKey")===l)return o("labelWrapCachedText");for(var u="\u200B",f=a.split(`
`),h=e.pstyle("text-max-width").pfValue,d=e.pstyle("text-overflow-wrap").value,p=d==="anywhere",m=[],g=/[\s\u200b]+|$/g,v=0;v<f.length;v++){var y=f[v],b=this.calculateLabelDimensions(e,y),_=b.width;if(p){var k=y.split("").join(u);y=k}if(_>h){var w=y.matchAll(g),T="",S=0,C=qs(w),M;try{for(C.s();!(M=C.n()).done;){var N=M.value,L=N[0],E=y.substring(S,N.index);S=N.index+L.length;var A=T.length===0?E:T+E+L,D=this.calculateLabelDimensions(e,A),R=D.width;R<=h?T+=E+L:(T&&m.push(T),T=E+L)}}catch(W){C.e(W)}finally{C.f()}T.match(/^[\s\u200b]+$/)||m.push(T)}else m.push(y)}o("labelWrapCachedLines",m),a=o("labelWrapCachedText",m.join(`
`)),o("labelWrapKey",l)}else if(s==="ellipsis"){var I=e.pstyle("text-max-width").pfValue,O="",F="\u2026",P=!1;if(this.calculateLabelDimensions(e,a).width<I)return a;for(var q=0;q<a.length;q++){var $=this.calculateLabelDimensions(e,O+a[q]+F).width;if($>I)break;O+=a[q],q===a.length-1&&(P=!0)}return P||(O+=F),O}return a};Yc.getLabelJustification=function(e){var t=e.pstyle("text-justification").strValue,r=e.pstyle("text-halign").strValue;if(t==="auto")if(e.isNode())switch(r){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return t};Yc.calculateLabelDimensions=function(e,t){var r=this,n=r.cy.window(),a=n.document,i=0,o=e.pstyle("font-style").strValue,s=e.pstyle("font-size").pfValue,l=e.pstyle("font-family").strValue,u=e.pstyle("font-weight").strValue,f=this.labelCalcCanvas,h=this.labelCalcCanvasContext;if(!f){f=this.labelCalcCanvas=a.createElement("canvas"),h=this.labelCalcCanvasContext=f.getContext("2d");var d=f.style;d.position="absolute",d.left="-9999px",d.top="-9999px",d.zIndex="-1",d.visibility="hidden",d.pointerEvents="none"}h.font="".concat(o," ").concat(u," ").concat(s,"px ").concat(l);for(var p=0,m=0,g=t.split(`
`),v=0;v<g.length;v++){var y=g[v],b=h.measureText(y),_=Math.ceil(b.width),k=s;p=Math.max(_,p),m+=k}return p+=i,m+=i,{width:p,height:m}};Yc.calculateLabelAngle=function(e,t){var r=e._private,n=r.rscratch,a=e.isEdge(),i=t?t+"-":"",o=e.pstyle(i+"text-rotation"),s=o.strValue;return s==="none"?0:a&&s==="autorotate"?n.labelAutoAngle:s==="autorotate"?0:o.pfValue};Yc.calculateLabelAngles=function(e){var t=this,r=e.isEdge(),n=e._private,a=n.rscratch;a.labelAngle=t.calculateLabelAngle(e),r&&(a.sourceLabelAngle=t.calculateLabelAngle(e,"source"),a.targetLabelAngle=t.calculateLabelAngle(e,"target"))};Y0t={},spt=28,lpt=!1;Y0t.getNodeShape=function(e){var t=this,r=e.pstyle("shape").value;if(r==="cutrectangle"&&(e.width()<spt||e.height()<spt))return lpt||(An("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),lpt=!0),"rectangle";if(e.isParent())return r==="rectangle"||r==="roundrectangle"||r==="round-rectangle"||r==="cutrectangle"||r==="cut-rectangle"||r==="barrel"?r:"rectangle";if(r==="polygon"){var n=e.pstyle("shape-polygon-points").value;return t.nodeShapes.makePolygon(n).name}return r};nS={};nS.registerCalculationListeners=function(){var e=this.cy,t=e.collection(),r=this,n=function(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(t.merge(o),s)for(var l=0;l<o.length;l++){var u=o[l],f=u._private,h=f.rstyle;h.clean=!1,h.cleanConnected=!1}};r.binder(e).on("bounds.* dirty.*",function(o){var s=o.target;n(s)}).on("style.* background.*",function(o){var s=o.target;n(s,!1)});var a=function(o){if(o){var s=r.onUpdateEleCalcsFns;t.cleanStyle();for(var l=0;l<t.length;l++){var u=t[l],f=u._private.rstyle;u.isNode()&&!f.cleanConnected&&(n(u.connectedEdges()),f.cleanConnected=!0)}if(s)for(var h=0;h<s.length;h++){var d=s[h];d(o,t)}r.recalculateRenderedStyle(t),t=e.collection()}};r.flushRenderedStyleQueue=function(){a(!0)},r.beforeRender(a,r.beforeRenderPriorities.eleCalcs)};nS.onUpdateEleCalcs=function(e){var t=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];t.push(e)};nS.recalculateRenderedStyle=function(e,t){var r=function(k){return k._private.rstyle.cleanConnected};if(e.length!==0){var n=[],a=[];if(!this.destroyed){t===void 0&&(t=!0);for(var i=0;i<e.length;i++){var o=e[i],s=o._private,l=s.rstyle;o.isEdge()&&(!r(o.source())||!r(o.target()))&&(l.clean=!1),o.isEdge()&&o.isBundledBezier()&&o.parallelEdges().some(function(_){return!_._private.rstyle.clean&&_.isBundledBezier()})&&(l.clean=!1),!(t&&l.clean||o.removed())&&o.pstyle("display").value!=="none"&&(s.group==="nodes"?a.push(o):n.push(o),l.clean=!0)}for(var u=0;u<a.length;u++){var f=a[u],h=f._private,d=h.rstyle,p=f.position();this.recalculateNodeLabelProjection(f),d.nodeX=p.x,d.nodeY=p.y,d.nodeW=f.pstyle("width").pfValue,d.nodeH=f.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var m=0;m<n.length;m++){var g=n[m],v=g._private,y=v.rstyle,b=v.rscratch;y.srcX=b.arrowStartX,y.srcY=b.arrowStartY,y.tgtX=b.arrowEndX,y.tgtY=b.arrowEndY,y.midX=b.midX,y.midY=b.midY,y.labelAngle=b.labelAngle,y.sourceLabelAngle=b.sourceLabelAngle,y.targetLabelAngle=b.targetLabelAngle}}}};aS={};aS.updateCachedGrabbedEles=function(){var e=this.cachedZSortedEles;if(e){e.drag=[],e.nondrag=[];for(var t=[],r=0;r<e.length;r++){var n=e[r],a=n._private.rscratch;n.grabbed()&&!n.isParent()?t.push(n):a.inDragLayer?e.drag.push(n):e.nondrag.push(n)}for(var r=0;r<t.length;r++){var n=t[r];e.drag.push(n)}}};aS.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};aS.getCachedZSortedEles=function(e){if(e||!this.cachedZSortedEles){var t=this.cy.mutableElements().toArray();t.sort(D0t),t.interactive=t.filter(function(r){return r.interactive()}),this.cachedZSortedEles=t,this.updateCachedGrabbedEles()}else t=this.cachedZSortedEles;return t};X0t={};[rm,PC,Ao,I_,MF,Yc,Y0t,nS,aS].forEach(function(e){Ze(X0t,e)});j0t={};j0t.getCachedImage=function(e,t,r){var n=this,a=n.imageCache=n.imageCache||{},i=a[e];if(i)return i.image.complete||i.image.addEventListener("load",r),i.image;i=a[e]=a[e]||{};var o=i.image=new Image;o.addEventListener("load",r),o.addEventListener("error",function(){o.error=!0});var s="data:",l=e.substring(0,s.length).toLowerCase()===s;return l||(t=t==="null"?null:t,o.crossOrigin=t),o.src=e,o};ov={};ov.registerBinding=function(e,t,r,n){var a=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(e)){for(var i=[],o=0;o<e.length;o++){var s=e[o];if(s!==void 0){var l=this.binder(s);i.push(l.on.apply(l,a))}}return i}var l=this.binder(e);return l.on.apply(l,a)};ov.binder=function(e){var t=this,r=t.cy.window(),n=e===r||e===r.document||e===r.document.body||hWt(e);if(t.supportsPassiveEvents==null){var a=!1;try{var i=Object.defineProperty({},"passive",{get:function(){return a=!0,!0}});r.addEventListener("test",null,i)}catch{}t.supportsPassiveEvents=a}var o=function(l,u,f){var h=Array.prototype.slice.call(arguments);return n&&t.supportsPassiveEvents&&(h[2]={capture:f??!1,passive:!1,once:!1}),t.bindings.push({target:e,args:h}),(e.addEventListener||e.on).apply(e,h),this};return{on:o,addEventListener:o,addListener:o,bind:o}};ov.nodeIsDraggable=function(e){return e&&e.isNode()&&!e.locked()&&e.grabbable()};ov.nodeIsGrabbable=function(e){return this.nodeIsDraggable(e)&&e.interactive()};ov.load=function(){var e=this,t=e.cy.window(),r=function(z){return z.selected()},n=function(z){var st=z.getRootNode();if(st&&st.nodeType===11&&st.host!==void 0)return st},a=function(z,st,lt,wt){z==null&&(z=e.cy);for(var vt=0;vt<st.length;vt++){var gt=st[vt];z.emit({originalEvent:lt,type:gt,position:wt})}},i=function(z){return z.shiftKey||z.metaKey||z.ctrlKey},o=function(z,st){var lt=!0;if(e.cy.hasCompoundNodes()&&z&&z.pannable())for(var wt=0;st&&wt<st.length;wt++){var z=st[wt];if(z.isNode()&&z.isParent()&&!z.pannable()){lt=!1;break}}else lt=!0;return lt},s=function(z){z[0]._private.grabbed=!0},l=function(z){z[0]._private.grabbed=!1},u=function(z){z[0]._private.rscratch.inDragLayer=!0},f=function(z){z[0]._private.rscratch.inDragLayer=!1},h=function(z){z[0]._private.rscratch.isGrabTarget=!0},d=function(z){z[0]._private.rscratch.isGrabTarget=!1},p=function(z,st){var lt=st.addToList,wt=lt.has(z);!wt&&z.grabbable()&&!z.locked()&&(lt.merge(z),s(z))},m=function(z,st){if(z.cy().hasCompoundNodes()&&!(st.inDragLayer==null&&st.addToList==null)){var lt=z.descendants();st.inDragLayer&&(lt.forEach(u),lt.connectedEdges().forEach(u)),st.addToList&&p(lt,st)}},g=function(z,st){st=st||{};var lt=z.cy().hasCompoundNodes();st.inDragLayer&&(z.forEach(u),z.neighborhood().stdFilter(function(wt){return!lt||wt.isEdge()}).forEach(u)),st.addToList&&z.forEach(function(wt){p(wt,st)}),m(z,st),b(z,{inDragLayer:st.inDragLayer}),e.updateCachedGrabbedEles()},v=g,y=function(z){z&&(e.getCachedZSortedEles().forEach(function(st){l(st),f(st),d(st)}),e.updateCachedGrabbedEles())},b=function(z,st){if(!(st.inDragLayer==null&&st.addToList==null)&&z.cy().hasCompoundNodes()){var lt=z.ancestors().orphans();if(!lt.same(z)){var wt=lt.descendants().spawnSelf().merge(lt).unmerge(z).unmerge(z.descendants()),vt=wt.connectedEdges();st.inDragLayer&&(vt.forEach(u),wt.forEach(u)),st.addToList&&wt.forEach(function(gt){p(gt,st)})}}},_=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},k=typeof MutationObserver<"u",w=typeof ResizeObserver<"u";k?(e.removeObserver=new MutationObserver(function(ft){for(var z=0;z<ft.length;z++){var st=ft[z],lt=st.removedNodes;if(lt)for(var wt=0;wt<lt.length;wt++){var vt=lt[wt];if(vt===e.container){e.destroy();break}}}}),e.container.parentNode&&e.removeObserver.observe(e.container.parentNode,{childList:!0})):e.registerBinding(e.container,"DOMNodeRemoved",function(ft){e.destroy()});var T=D_(function(){e.cy.resize()},100);k&&(e.styleObserver=new MutationObserver(T),e.styleObserver.observe(e.container,{attributes:!0})),e.registerBinding(t,"resize",T),w&&(e.resizeObserver=new ResizeObserver(T),e.resizeObserver.observe(e.container));var S=function(z,st){for(;z!=null;)st(z),z=z.parentNode},C=function(){e.invalidateContainerClientCoordsCache()};S(e.container,function(ft){e.registerBinding(ft,"transitionend",C),e.registerBinding(ft,"animationend",C),e.registerBinding(ft,"scroll",C)}),e.registerBinding(e.container,"contextmenu",function(ft){ft.preventDefault()});var M=function(){return e.selection[4]!==0},N=function(z){for(var st=e.findContainerClientCoords(),lt=st[0],wt=st[1],vt=st[2],gt=st[3],Mt=z.touches?z.touches:[z],St=!1,Bt=0;Bt<Mt.length;Bt++){var jt=Mt[Bt];if(lt<=jt.clientX&&jt.clientX<=lt+vt&&wt<=jt.clientY&&jt.clientY<=wt+gt){St=!0;break}}if(!St)return!1;for(var ue=e.container,Gt=z.target,$t=Gt.parentNode,Xt=!1;$t;){if($t===ue){Xt=!0;break}$t=$t.parentNode}return!!Xt};e.registerBinding(e.container,"mousedown",function(z){if(N(z)&&!(e.hoverData.which===1&&z.which!==1)){z.preventDefault(),_(),e.hoverData.capture=!0,e.hoverData.which=z.which;var st=e.cy,lt=[z.clientX,z.clientY],wt=e.projectIntoViewport(lt[0],lt[1]),vt=e.selection,gt=e.findNearestElements(wt[0],wt[1],!0,!1),Mt=gt[0],St=e.dragData.possibleDragElements;e.hoverData.mdownPos=wt,e.hoverData.mdownGPos=lt;var Bt=function(Wt){return{originalEvent:z,type:Wt,position:{x:wt[0],y:wt[1]}}},jt=function(){e.hoverData.tapholdCancelled=!1,clearTimeout(e.hoverData.tapholdTimeout),e.hoverData.tapholdTimeout=setTimeout(function(){if(!e.hoverData.tapholdCancelled){var Wt=e.hoverData.down;Wt?Wt.emit(Bt("taphold")):st.emit(Bt("taphold"))}},e.tapholdDuration)};if(z.which==3){e.hoverData.cxtStarted=!0;var ue={originalEvent:z,type:"cxttapstart",position:{x:wt[0],y:wt[1]}};Mt?(Mt.activate(),Mt.emit(ue),e.hoverData.down=Mt):st.emit(ue),e.hoverData.downTime=new Date().getTime(),e.hoverData.cxtDragged=!1}else if(z.which==1){Mt&&Mt.activate();{if(Mt!=null&&e.nodeIsGrabbable(Mt)){var Gt=function(Wt){Wt.emit(Bt("grab"))};if(h(Mt),!Mt.selected())St=e.dragData.possibleDragElements=st.collection(),v(Mt,{addToList:St}),Mt.emit(Bt("grabon")).emit(Bt("grab"));else{St=e.dragData.possibleDragElements=st.collection();var $t=st.$(function(Xt){return Xt.isNode()&&Xt.selected()&&e.nodeIsGrabbable(Xt)});g($t,{addToList:St}),Mt.emit(Bt("grabon")),$t.forEach(Gt)}e.redrawHint("eles",!0),e.redrawHint("drag",!0)}e.hoverData.down=Mt,e.hoverData.downs=gt,e.hoverData.downTime=new Date().getTime()}a(Mt,["mousedown","tapstart","vmousedown"],z,{x:wt[0],y:wt[1]}),Mt==null?(vt[4]=1,e.data.bgActivePosistion={x:wt[0],y:wt[1]},e.redrawHint("select",!0),e.redraw()):Mt.pannable()&&(vt[4]=1),jt()}vt[0]=vt[2]=wt[0],vt[1]=vt[3]=wt[1]}},!1);var L=n(e.container);e.registerBinding([t,L],"mousemove",function(z){var st=e.hoverData.capture;if(!(!st&&!N(z))){var lt=!1,wt=e.cy,vt=wt.zoom(),gt=[z.clientX,z.clientY],Mt=e.projectIntoViewport(gt[0],gt[1]),St=e.hoverData.mdownPos,Bt=e.hoverData.mdownGPos,jt=e.selection,ue=null;!e.hoverData.draggingEles&&!e.hoverData.dragging&&!e.hoverData.selecting&&(ue=e.findNearestElement(Mt[0],Mt[1],!0,!1));var Gt=e.hoverData.last,$t=e.hoverData.down,Xt=[Mt[0]-jt[2],Mt[1]-jt[3]],Wt=e.dragData.possibleDragElements,ne;if(Bt){var Fe=gt[0]-Bt[0],de=Fe*Fe,we=gt[1]-Bt[1],oe=we*we,ie=de+oe;e.hoverData.isOverThresholdDrag=ne=ie>=e.desktopTapThreshold2}var fe=i(z);ne&&(e.hoverData.tapholdCancelled=!0);var pe=function(){var ce=e.hoverData.dragDelta=e.hoverData.dragDelta||[];ce.length===0?(ce.push(Xt[0]),ce.push(Xt[1])):(ce[0]+=Xt[0],ce[1]+=Xt[1])};lt=!0,a(ue,["mousemove","vmousemove","tapdrag"],z,{x:Mt[0],y:Mt[1]});var me=function(ce){return{originalEvent:z,type:ce,position:{x:Mt[0],y:Mt[1]}}},se=function(){e.data.bgActivePosistion=void 0,e.hoverData.selecting||wt.emit(me("boxstart")),jt[4]=1,e.hoverData.selecting=!0,e.redrawHint("select",!0),e.redraw()};if(e.hoverData.which===3){if(ne){var Zr=me("cxtdrag");$t?$t.emit(Zr):wt.emit(Zr),e.hoverData.cxtDragged=!0,(!e.hoverData.cxtOver||ue!==e.hoverData.cxtOver)&&(e.hoverData.cxtOver&&e.hoverData.cxtOver.emit(me("cxtdragout")),e.hoverData.cxtOver=ue,ue&&ue.emit(me("cxtdragover")))}}else if(e.hoverData.dragging){if(lt=!0,wt.panningEnabled()&&wt.userPanningEnabled()){var Se;if(e.hoverData.justStartedPan){var Jr=e.hoverData.mdownPos;Se={x:(Mt[0]-Jr[0])*vt,y:(Mt[1]-Jr[1])*vt},e.hoverData.justStartedPan=!1}else Se={x:Xt[0]*vt,y:Xt[1]*vt};wt.panBy(Se),wt.emit(me("dragpan")),e.hoverData.dragged=!0}Mt=e.projectIntoViewport(z.clientX,z.clientY)}else if(jt[4]==1&&($t==null||$t.pannable())){if(ne){if(!e.hoverData.dragging&&wt.boxSelectionEnabled()&&(fe||!wt.panningEnabled()||!wt.userPanningEnabled()))se();else if(!e.hoverData.selecting&&wt.panningEnabled()&&wt.userPanningEnabled()){var Ur=o($t,e.hoverData.downs);Ur&&(e.hoverData.dragging=!0,e.hoverData.justStartedPan=!0,jt[4]=0,e.data.bgActivePosistion=H1(St),e.redrawHint("select",!0),e.redraw())}$t&&$t.pannable()&&$t.active()&&$t.unactivate()}}else{if($t&&$t.pannable()&&$t.active()&&$t.unactivate(),(!$t||!$t.grabbed())&&ue!=Gt&&(Gt&&a(Gt,["mouseout","tapdragout"],z,{x:Mt[0],y:Mt[1]}),ue&&a(ue,["mouseover","tapdragover"],z,{x:Mt[0],y:Mt[1]}),e.hoverData.last=ue),$t)if(ne){if(wt.boxSelectionEnabled()&&fe)$t&&$t.grabbed()&&(y(Wt),$t.emit(me("freeon")),Wt.emit(me("free")),e.dragData.didDrag&&($t.emit(me("dragfreeon")),Wt.emit(me("dragfree")))),se();else if($t&&$t.grabbed()&&e.nodeIsDraggable($t)){var rr=!e.dragData.didDrag;rr&&e.redrawHint("eles",!0),e.dragData.didDrag=!0,e.hoverData.draggingEles||g(Wt,{inDragLayer:!0});var Je={x:0,y:0};if(be(Xt[0])&&be(Xt[1])&&(Je.x+=Xt[0],Je.y+=Xt[1],rr)){var _r=e.hoverData.dragDelta;_r&&be(_r[0])&&be(_r[1])&&(Je.x+=_r[0],Je.y+=_r[1])}e.hoverData.draggingEles=!0,Wt.silentShift(Je).emit(me("position")).emit(me("drag")),e.redrawHint("drag",!0),e.redraw()}}else pe();lt=!0}if(jt[2]=Mt[0],jt[3]=Mt[1],lt)return z.stopPropagation&&z.stopPropagation(),z.preventDefault&&z.preventDefault(),!1}},!1);var E,A,D;e.registerBinding(t,"mouseup",function(z){if(!(e.hoverData.which===1&&z.which!==1&&e.hoverData.capture)){var st=e.hoverData.capture;if(st){e.hoverData.capture=!1;var lt=e.cy,wt=e.projectIntoViewport(z.clientX,z.clientY),vt=e.selection,gt=e.findNearestElement(wt[0],wt[1],!0,!1),Mt=e.dragData.possibleDragElements,St=e.hoverData.down,Bt=i(z);e.data.bgActivePosistion&&(e.redrawHint("select",!0),e.redraw()),e.hoverData.tapholdCancelled=!0,e.data.bgActivePosistion=void 0,St&&St.unactivate();var jt=function(Fe){return{originalEvent:z,type:Fe,position:{x:wt[0],y:wt[1]}}};if(e.hoverData.which===3){var ue=jt("cxttapend");if(St?St.emit(ue):lt.emit(ue),!e.hoverData.cxtDragged){var Gt=jt("cxttap");St?St.emit(Gt):lt.emit(Gt)}e.hoverData.cxtDragged=!1,e.hoverData.which=null}else if(e.hoverData.which===1){if(a(gt,["mouseup","tapend","vmouseup"],z,{x:wt[0],y:wt[1]}),!e.dragData.didDrag&&!e.hoverData.dragged&&!e.hoverData.selecting&&!e.hoverData.isOverThresholdDrag&&(a(St,["click","tap","vclick"],z,{x:wt[0],y:wt[1]}),A=!1,z.timeStamp-D<=lt.multiClickDebounceTime()?(E&&clearTimeout(E),A=!0,D=null,a(St,["dblclick","dbltap","vdblclick"],z,{x:wt[0],y:wt[1]})):(E=setTimeout(function(){A||a(St,["oneclick","onetap","voneclick"],z,{x:wt[0],y:wt[1]})},lt.multiClickDebounceTime()),D=z.timeStamp)),St==null&&!e.dragData.didDrag&&!e.hoverData.selecting&&!e.hoverData.dragged&&!i(z)&&(lt.$(r).unselect(["tapunselect"]),Mt.length>0&&e.redrawHint("eles",!0),e.dragData.possibleDragElements=Mt=lt.collection()),gt==St&&!e.dragData.didDrag&&!e.hoverData.selecting&&gt!=null&&gt._private.selectable&&(e.hoverData.dragging||(lt.selectionType()==="additive"||Bt?gt.selected()?gt.unselect(["tapunselect"]):gt.select(["tapselect"]):Bt||(lt.$(r).unmerge(gt).unselect(["tapunselect"]),gt.select(["tapselect"]))),e.redrawHint("eles",!0)),e.hoverData.selecting){var $t=lt.collection(e.getAllInBox(vt[0],vt[1],vt[2],vt[3]));e.redrawHint("select",!0),$t.length>0&&e.redrawHint("eles",!0),lt.emit(jt("boxend"));var Xt=function(Fe){return Fe.selectable()&&!Fe.selected()};lt.selectionType()==="additive"||Bt||lt.$(r).unmerge($t).unselect(),$t.emit(jt("box")).stdFilter(Xt).select().emit(jt("boxselect")),e.redraw()}if(e.hoverData.dragging&&(e.hoverData.dragging=!1,e.redrawHint("select",!0),e.redrawHint("eles",!0),e.redraw()),!vt[4]){e.redrawHint("drag",!0),e.redrawHint("eles",!0);var Wt=St&&St.grabbed();y(Mt),Wt&&(St.emit(jt("freeon")),Mt.emit(jt("free")),e.dragData.didDrag&&(St.emit(jt("dragfreeon")),Mt.emit(jt("dragfree"))))}}vt[4]=0,e.hoverData.down=null,e.hoverData.cxtStarted=!1,e.hoverData.draggingEles=!1,e.hoverData.selecting=!1,e.hoverData.isOverThresholdDrag=!1,e.dragData.didDrag=!1,e.hoverData.dragged=!1,e.hoverData.dragDelta=[],e.hoverData.mdownPos=null,e.hoverData.mdownGPos=null,e.hoverData.which=null}}},!1);var R=[],I=4,O,F=1e5,P=function(z,st){for(var lt=0;lt<z.length;lt++)if(z[lt]%st!==0)return!1;return!0},q=function(z){for(var st=Math.abs(z[0]),lt=1;lt<z.length;lt++)if(Math.abs(z[lt])!==st)return!1;return!0},$=function(z){var st=!1,lt=z.deltaY;if(lt==null&&(z.wheelDeltaY!=null?lt=z.wheelDeltaY/4:z.wheelDelta!=null&&(lt=z.wheelDelta/4)),lt!==0){if(O==null)if(R.length>=I){var wt=R;if(O=P(wt,5),!O){var vt=Math.abs(wt[0]);O=q(wt)&&vt>5}if(O)for(var gt=0;gt<wt.length;gt++)F=Math.min(Math.abs(wt[gt]),F)}else R.push(lt),st=!0;else O&&(F=Math.min(Math.abs(lt),F));if(!e.scrollingPage){var Mt=e.cy,St=Mt.zoom(),Bt=Mt.pan(),jt=e.projectIntoViewport(z.clientX,z.clientY),ue=[jt[0]*St+Bt.x,jt[1]*St+Bt.y];if(e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.cxtStarted||M()){z.preventDefault();return}if(Mt.panningEnabled()&&Mt.userPanningEnabled()&&Mt.zoomingEnabled()&&Mt.userZoomingEnabled()){z.preventDefault(),e.data.wheelZooming=!0,clearTimeout(e.data.wheelTimeout),e.data.wheelTimeout=setTimeout(function(){e.data.wheelZooming=!1,e.redrawHint("eles",!0),e.redraw()},150);var Gt;st&&Math.abs(lt)>5&&(lt=vF(lt)*5),Gt=lt/-250,O&&(Gt/=F,Gt*=3),Gt=Gt*e.wheelSensitivity;var $t=z.deltaMode===1;$t&&(Gt*=33);var Xt=Mt.zoom()*Math.pow(10,Gt);z.type==="gesturechange"&&(Xt=e.gestureStartZoom*z.scale),Mt.zoom({level:Xt,renderedPosition:{x:ue[0],y:ue[1]}}),Mt.emit({type:z.type==="gesturechange"?"pinchzoom":"scrollzoom",originalEvent:z,position:{x:jt[0],y:jt[1]}})}}}};e.registerBinding(e.container,"wheel",$,!0),e.registerBinding(t,"scroll",function(z){e.scrollingPage=!0,clearTimeout(e.scrollingPageTimeout),e.scrollingPageTimeout=setTimeout(function(){e.scrollingPage=!1},250)},!0),e.registerBinding(e.container,"gesturestart",function(z){e.gestureStartZoom=e.cy.zoom(),e.hasTouchStarted||z.preventDefault()},!0),e.registerBinding(e.container,"gesturechange",function(ft){e.hasTouchStarted||$(ft)},!0),e.registerBinding(e.container,"mouseout",function(z){var st=e.projectIntoViewport(z.clientX,z.clientY);e.cy.emit({originalEvent:z,type:"mouseout",position:{x:st[0],y:st[1]}})},!1),e.registerBinding(e.container,"mouseover",function(z){var st=e.projectIntoViewport(z.clientX,z.clientY);e.cy.emit({originalEvent:z,type:"mouseover",position:{x:st[0],y:st[1]}})},!1);var W,X,tt,Y,ot,Z,ct,rt,et,Q,j,it,K,dt=function(z,st,lt,wt){return Math.sqrt((lt-z)*(lt-z)+(wt-st)*(wt-st))},nt=function(z,st,lt,wt){return(lt-z)*(lt-z)+(wt-st)*(wt-st)},_t;e.registerBinding(e.container,"touchstart",_t=function(z){if(e.hasTouchStarted=!0,!!N(z)){_(),e.touchData.capture=!0,e.data.bgActivePosistion=void 0;var st=e.cy,lt=e.touchData.now,wt=e.touchData.earlier;if(z.touches[0]){var vt=e.projectIntoViewport(z.touches[0].clientX,z.touches[0].clientY);lt[0]=vt[0],lt[1]=vt[1]}if(z.touches[1]){var vt=e.projectIntoViewport(z.touches[1].clientX,z.touches[1].clientY);lt[2]=vt[0],lt[3]=vt[1]}if(z.touches[2]){var vt=e.projectIntoViewport(z.touches[2].clientX,z.touches[2].clientY);lt[4]=vt[0],lt[5]=vt[1]}var gt=function(fe){return{originalEvent:z,type:fe,position:{x:lt[0],y:lt[1]}}};if(z.touches[1]){e.touchData.singleTouchMoved=!0,y(e.dragData.touchDragEles);var Mt=e.findContainerClientCoords();et=Mt[0],Q=Mt[1],j=Mt[2],it=Mt[3],W=z.touches[0].clientX-et,X=z.touches[0].clientY-Q,tt=z.touches[1].clientX-et,Y=z.touches[1].clientY-Q,K=0<=W&&W<=j&&0<=tt&&tt<=j&&0<=X&&X<=it&&0<=Y&&Y<=it;var St=st.pan(),Bt=st.zoom();ot=dt(W,X,tt,Y),Z=nt(W,X,tt,Y),ct=[(W+tt)/2,(X+Y)/2],rt=[(ct[0]-St.x)/Bt,(ct[1]-St.y)/Bt];var jt=200,ue=jt*jt;if(Z<ue&&!z.touches[2]){var Gt=e.findNearestElement(lt[0],lt[1],!0,!0),$t=e.findNearestElement(lt[2],lt[3],!0,!0);Gt&&Gt.isNode()?(Gt.activate().emit(gt("cxttapstart")),e.touchData.start=Gt):$t&&$t.isNode()?($t.activate().emit(gt("cxttapstart")),e.touchData.start=$t):st.emit(gt("cxttapstart")),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!0,e.touchData.cxtDragged=!1,e.data.bgActivePosistion=void 0,e.redraw();return}}if(z.touches[2])st.boxSelectionEnabled()&&z.preventDefault();else if(!z.touches[1]){if(z.touches[0]){var Xt=e.findNearestElements(lt[0],lt[1],!0,!0),Wt=Xt[0];if(Wt!=null&&(Wt.activate(),e.touchData.start=Wt,e.touchData.starts=Xt,e.nodeIsGrabbable(Wt))){var ne=e.dragData.touchDragEles=st.collection(),Fe=null;e.redrawHint("eles",!0),e.redrawHint("drag",!0),Wt.selected()?(Fe=st.$(function(ie){return ie.selected()&&e.nodeIsGrabbable(ie)}),g(Fe,{addToList:ne})):v(Wt,{addToList:ne}),h(Wt),Wt.emit(gt("grabon")),Fe?Fe.forEach(function(ie){ie.emit(gt("grab"))}):Wt.emit(gt("grab"))}a(Wt,["touchstart","tapstart","vmousedown"],z,{x:lt[0],y:lt[1]}),Wt==null&&(e.data.bgActivePosistion={x:vt[0],y:vt[1]},e.redrawHint("select",!0),e.redraw()),e.touchData.singleTouchMoved=!1,e.touchData.singleTouchStartTime=+new Date,clearTimeout(e.touchData.tapholdTimeout),e.touchData.tapholdTimeout=setTimeout(function(){e.touchData.singleTouchMoved===!1&&!e.pinching&&!e.touchData.selecting&&a(e.touchData.start,["taphold"],z,{x:lt[0],y:lt[1]})},e.tapholdDuration)}}if(z.touches.length>=1){for(var de=e.touchData.startPosition=[null,null,null,null,null,null],we=0;we<lt.length;we++)de[we]=wt[we]=lt[we];var oe=z.touches[0];e.touchData.startGPosition=[oe.clientX,oe.clientY]}}},!1);var V;e.registerBinding(t,"touchmove",V=function(z){var st=e.touchData.capture;if(!(!st&&!N(z))){var lt=e.selection,wt=e.cy,vt=e.touchData.now,gt=e.touchData.earlier,Mt=wt.zoom();if(z.touches[0]){var St=e.projectIntoViewport(z.touches[0].clientX,z.touches[0].clientY);vt[0]=St[0],vt[1]=St[1]}if(z.touches[1]){var St=e.projectIntoViewport(z.touches[1].clientX,z.touches[1].clientY);vt[2]=St[0],vt[3]=St[1]}if(z.touches[2]){var St=e.projectIntoViewport(z.touches[2].clientX,z.touches[2].clientY);vt[4]=St[0],vt[5]=St[1]}var Bt=function(k7){return{originalEvent:z,type:k7,position:{x:vt[0],y:vt[1]}}},jt=e.touchData.startGPosition,ue;if(st&&z.touches[0]&&jt){for(var Gt=[],$t=0;$t<vt.length;$t++)Gt[$t]=vt[$t]-gt[$t];var Xt=z.touches[0].clientX-jt[0],Wt=Xt*Xt,ne=z.touches[0].clientY-jt[1],Fe=ne*ne,de=Wt+Fe;ue=de>=e.touchTapThreshold2}if(st&&e.touchData.cxt){z.preventDefault();var we=z.touches[0].clientX-et,oe=z.touches[0].clientY-Q,ie=z.touches[1].clientX-et,fe=z.touches[1].clientY-Q,pe=nt(we,oe,ie,fe),me=pe/Z,se=150,Zr=se*se,Se=1.5,Jr=Se*Se;if(me>=Jr||pe>=Zr){e.touchData.cxt=!1,e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var Ur=Bt("cxttapend");e.touchData.start?(e.touchData.start.unactivate().emit(Ur),e.touchData.start=null):wt.emit(Ur)}}if(st&&e.touchData.cxt){var Ur=Bt("cxtdrag");e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.touchData.start?e.touchData.start.emit(Ur):wt.emit(Ur),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxtDragged=!0;var rr=e.findNearestElement(vt[0],vt[1],!0,!0);(!e.touchData.cxtOver||rr!==e.touchData.cxtOver)&&(e.touchData.cxtOver&&e.touchData.cxtOver.emit(Bt("cxtdragout")),e.touchData.cxtOver=rr,rr&&rr.emit(Bt("cxtdragover")))}else if(st&&z.touches[2]&&wt.boxSelectionEnabled())z.preventDefault(),e.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,e.touchData.selecting||wt.emit(Bt("boxstart")),e.touchData.selecting=!0,e.touchData.didSelect=!0,lt[4]=1,!lt||lt.length===0||lt[0]===void 0?(lt[0]=(vt[0]+vt[2]+vt[4])/3,lt[1]=(vt[1]+vt[3]+vt[5])/3,lt[2]=(vt[0]+vt[2]+vt[4])/3+1,lt[3]=(vt[1]+vt[3]+vt[5])/3+1):(lt[2]=(vt[0]+vt[2]+vt[4])/3,lt[3]=(vt[1]+vt[3]+vt[5])/3),e.redrawHint("select",!0),e.redraw();else if(st&&z.touches[1]&&!e.touchData.didSelect&&wt.zoomingEnabled()&&wt.panningEnabled()&&wt.userZoomingEnabled()&&wt.userPanningEnabled()){z.preventDefault(),e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var Je=e.dragData.touchDragEles;if(Je){e.redrawHint("drag",!0);for(var _r=0;_r<Je.length;_r++){var zn=Je[_r]._private;zn.grabbed=!1,zn.rscratch.inDragLayer=!1}}var ce=e.touchData.start,we=z.touches[0].clientX-et,oe=z.touches[0].clientY-Q,ie=z.touches[1].clientX-et,fe=z.touches[1].clientY-Q,Dt=dt(we,oe,ie,fe),te=Dt/ot;if(K){var Te=we-W,Hr=oe-X,la=ie-tt,Wr=fe-Y,Aa=(Te+la)/2,Wi=(Hr+Wr)/2,ei=wt.zoom(),tn=ei*te,Qt=wt.pan(),ve=rt[0]*ei+Qt.x,qe=rt[1]*ei+Qt.y,ae={x:-tn/ei*(ve-Qt.x-Aa)+ve,y:-tn/ei*(qe-Qt.y-Wi)+qe};if(ce&&ce.active()){var Je=e.dragData.touchDragEles;y(Je),e.redrawHint("drag",!0),e.redrawHint("eles",!0),ce.unactivate().emit(Bt("freeon")),Je.emit(Bt("free")),e.dragData.didDrag&&(ce.emit(Bt("dragfreeon")),Je.emit(Bt("dragfree")))}wt.viewport({zoom:tn,pan:ae,cancelOnFailedZoom:!0}),wt.emit(Bt("pinchzoom")),ot=Dt,W=we,X=oe,tt=ie,Y=fe,e.pinching=!0}if(z.touches[0]){var St=e.projectIntoViewport(z.touches[0].clientX,z.touches[0].clientY);vt[0]=St[0],vt[1]=St[1]}if(z.touches[1]){var St=e.projectIntoViewport(z.touches[1].clientX,z.touches[1].clientY);vt[2]=St[0],vt[3]=St[1]}if(z.touches[2]){var St=e.projectIntoViewport(z.touches[2].clientX,z.touches[2].clientY);vt[4]=St[0],vt[5]=St[1]}}else if(z.touches[0]&&!e.touchData.didSelect){var Ar=e.touchData.start,mt=e.touchData.last,rr;if(!e.hoverData.draggingEles&&!e.swipePanning&&(rr=e.findNearestElement(vt[0],vt[1],!0,!0)),st&&Ar!=null&&z.preventDefault(),st&&Ar!=null&&e.nodeIsDraggable(Ar))if(ue){var Je=e.dragData.touchDragEles,ec=!e.dragData.didDrag;ec&&g(Je,{inDragLayer:!0}),e.dragData.didDrag=!0;var xt={x:0,y:0};if(be(Gt[0])&&be(Gt[1])&&(xt.x+=Gt[0],xt.y+=Gt[1],ec)){e.redrawHint("eles",!0);var dn=e.touchData.dragDelta;dn&&be(dn[0])&&be(dn[1])&&(xt.x+=dn[0],xt.y+=dn[1])}e.hoverData.draggingEles=!0,Je.silentShift(xt).emit(Bt("position")).emit(Bt("drag")),e.redrawHint("drag",!0),e.touchData.startPosition[0]==gt[0]&&e.touchData.startPosition[1]==gt[1]&&e.redrawHint("eles",!0),e.redraw()}else{var dn=e.touchData.dragDelta=e.touchData.dragDelta||[];dn.length===0?(dn.push(Gt[0]),dn.push(Gt[1])):(dn[0]+=Gt[0],dn[1]+=Gt[1])}if(a(Ar||rr,["touchmove","tapdrag","vmousemove"],z,{x:vt[0],y:vt[1]}),(!Ar||!Ar.grabbed())&&rr!=mt&&(mt&&mt.emit(Bt("tapdragout")),rr&&rr.emit(Bt("tapdragover"))),e.touchData.last=rr,st)for(var _r=0;_r<vt.length;_r++)vt[_r]&&e.touchData.startPosition[_r]&&ue&&(e.touchData.singleTouchMoved=!0);if(st&&(Ar==null||Ar.pannable())&&wt.panningEnabled()&&wt.userPanningEnabled()){var O3=o(Ar,e.touchData.starts);O3&&(z.preventDefault(),e.data.bgActivePosistion||(e.data.bgActivePosistion=H1(e.touchData.startPosition)),e.swipePanning?(wt.panBy({x:Gt[0]*Mt,y:Gt[1]*Mt}),wt.emit(Bt("dragpan"))):ue&&(e.swipePanning=!0,wt.panBy({x:Xt*Mt,y:ne*Mt}),wt.emit(Bt("dragpan")),Ar&&(Ar.unactivate(),e.redrawHint("select",!0),e.touchData.start=null)));var St=e.projectIntoViewport(z.touches[0].clientX,z.touches[0].clientY);vt[0]=St[0],vt[1]=St[1]}}for(var $t=0;$t<vt.length;$t++)gt[$t]=vt[$t];st&&z.touches.length>0&&!e.hoverData.draggingEles&&!e.swipePanning&&e.data.bgActivePosistion!=null&&(e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.redraw())}},!1);var Ut;e.registerBinding(t,"touchcancel",Ut=function(z){var st=e.touchData.start;e.touchData.capture=!1,st&&st.unactivate()});var pt,Ft,Yt,Ht;if(e.registerBinding(t,"touchend",pt=function(z){var st=e.touchData.start,lt=e.touchData.capture;if(lt)z.touches.length===0&&(e.touchData.capture=!1),z.preventDefault();else return;var wt=e.selection;e.swipePanning=!1,e.hoverData.draggingEles=!1;var vt=e.cy,gt=vt.zoom(),Mt=e.touchData.now,St=e.touchData.earlier;if(z.touches[0]){var Bt=e.projectIntoViewport(z.touches[0].clientX,z.touches[0].clientY);Mt[0]=Bt[0],Mt[1]=Bt[1]}if(z.touches[1]){var Bt=e.projectIntoViewport(z.touches[1].clientX,z.touches[1].clientY);Mt[2]=Bt[0],Mt[3]=Bt[1]}if(z.touches[2]){var Bt=e.projectIntoViewport(z.touches[2].clientX,z.touches[2].clientY);Mt[4]=Bt[0],Mt[5]=Bt[1]}var jt=function(Zr){return{originalEvent:z,type:Zr,position:{x:Mt[0],y:Mt[1]}}};st&&st.unactivate();var ue;if(e.touchData.cxt){if(ue=jt("cxttapend"),st?st.emit(ue):vt.emit(ue),!e.touchData.cxtDragged){var Gt=jt("cxttap");st?st.emit(Gt):vt.emit(Gt)}e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!1,e.touchData.start=null,e.redraw();return}if(!z.touches[2]&&vt.boxSelectionEnabled()&&e.touchData.selecting){e.touchData.selecting=!1;var $t=vt.collection(e.getAllInBox(wt[0],wt[1],wt[2],wt[3]));wt[0]=void 0,wt[1]=void 0,wt[2]=void 0,wt[3]=void 0,wt[4]=0,e.redrawHint("select",!0),vt.emit(jt("boxend"));var Xt=function(Zr){return Zr.selectable()&&!Zr.selected()};$t.emit(jt("box")).stdFilter(Xt).select().emit(jt("boxselect")),$t.nonempty()&&e.redrawHint("eles",!0),e.redraw()}if(st?.unactivate(),z.touches[2])e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);else if(!z.touches[1]){if(!z.touches[0]){if(!z.touches[0]){e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var Wt=e.dragData.touchDragEles;if(st!=null){var ne=st._private.grabbed;y(Wt),e.redrawHint("drag",!0),e.redrawHint("eles",!0),ne&&(st.emit(jt("freeon")),Wt.emit(jt("free")),e.dragData.didDrag&&(st.emit(jt("dragfreeon")),Wt.emit(jt("dragfree")))),a(st,["touchend","tapend","vmouseup","tapdragout"],z,{x:Mt[0],y:Mt[1]}),st.unactivate(),e.touchData.start=null}else{var Fe=e.findNearestElement(Mt[0],Mt[1],!0,!0);a(Fe,["touchend","tapend","vmouseup","tapdragout"],z,{x:Mt[0],y:Mt[1]})}var de=e.touchData.startPosition[0]-Mt[0],we=de*de,oe=e.touchData.startPosition[1]-Mt[1],ie=oe*oe,fe=we+ie,pe=fe*gt*gt;e.touchData.singleTouchMoved||(st||vt.$(":selected").unselect(["tapunselect"]),a(st,["tap","vclick"],z,{x:Mt[0],y:Mt[1]}),Ft=!1,z.timeStamp-Ht<=vt.multiClickDebounceTime()?(Yt&&clearTimeout(Yt),Ft=!0,Ht=null,a(st,["dbltap","vdblclick"],z,{x:Mt[0],y:Mt[1]})):(Yt=setTimeout(function(){Ft||a(st,["onetap","voneclick"],z,{x:Mt[0],y:Mt[1]})},vt.multiClickDebounceTime()),Ht=z.timeStamp)),st!=null&&!e.dragData.didDrag&&st._private.selectable&&pe<e.touchTapThreshold2&&!e.pinching&&(vt.selectionType()==="single"?(vt.$(r).unmerge(st).unselect(["tapunselect"]),st.select(["tapselect"])):st.selected()?st.unselect(["tapunselect"]):st.select(["tapselect"]),e.redrawHint("eles",!0)),e.touchData.singleTouchMoved=!0}}}for(var me=0;me<Mt.length;me++)St[me]=Mt[me];e.dragData.didDrag=!1,z.touches.length===0&&(e.touchData.dragDelta=[],e.touchData.startPosition=[null,null,null,null,null,null],e.touchData.startGPosition=null,e.touchData.didSelect=!1),z.touches.length<2&&(z.touches.length===1&&(e.touchData.startGPosition=[z.touches[0].clientX,z.touches[0].clientY]),e.pinching=!1,e.redrawHint("eles",!0),e.redraw())},!1),typeof TouchEvent>"u"){var Lt=[],Nt=function(z){return{clientX:z.clientX,clientY:z.clientY,force:1,identifier:z.pointerId,pageX:z.pageX,pageY:z.pageY,radiusX:z.width/2,radiusY:z.height/2,screenX:z.screenX,screenY:z.screenY,target:z.target}},It=function(z){return{event:z,touch:Nt(z)}},kt=function(z){Lt.push(It(z))},Pt=function(z){for(var st=0;st<Lt.length;st++){var lt=Lt[st];if(lt.event.pointerId===z.pointerId){Lt.splice(st,1);return}}},ht=function(z){var st=Lt.filter(function(lt){return lt.event.pointerId===z.pointerId})[0];st.event=z,st.touch=Nt(z)},yt=function(z){z.touches=Lt.map(function(st){return st.touch})},H=function(z){return z.pointerType==="mouse"||z.pointerType===4};e.registerBinding(e.container,"pointerdown",function(ft){H(ft)||(ft.preventDefault(),kt(ft),yt(ft),_t(ft))}),e.registerBinding(e.container,"pointerup",function(ft){H(ft)||(Pt(ft),yt(ft),pt(ft))}),e.registerBinding(e.container,"pointercancel",function(ft){H(ft)||(Pt(ft),yt(ft),Ut(ft))}),e.registerBinding(e.container,"pointermove",function(ft){H(ft)||(ft.preventDefault(),ht(ft),yt(ft),V(ft))})}};ah={};ah.generatePolygon=function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,draw:function(n,a,i,o,s,l){this.renderer.nodeShapeImpl("polygon",n,a,i,o,s,this.points)},intersectLine:function(n,a,i,o,s,l,u,f){return v_(s,l,this.points,n,a,i/2,o/2,u)},checkPoint:function(n,a,i,o,s,l,u,f){return nh(n,a,this.points,l,u,o,s,[0,-1],i)},hasMiterBounds:e!=="rectangle",miterBounds:function(n,a,i,o,s,l){return DGt(this.points,n,a,i,o,s)}}};ah.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(t,r,n,a,i,o){this.renderer.nodeShapeImpl(this.name,t,r,n,a,i)},intersectLine:function(t,r,n,a,i,o,s,l){return FGt(i,o,t,r,n/2+s,a/2+s)},checkPoint:function(t,r,n,a,i,o,s,l){return K0(t,r,a,i,o,s,n)}}};ah.generateRoundPolygon=function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,getOrCreateCorners:function(n,a,i,o,s,l,u){if(l[u]!==void 0&&l[u+"-cx"]===n&&l[u+"-cy"]===a)return l[u];l[u]=new Array(t.length/2),l[u+"-cx"]=n,l[u+"-cy"]=a;var f=i/2,h=o/2;s=s==="auto"?Kpt(i,o):s;for(var d=new Array(t.length/2),p=0;p<t.length/2;p++)d[p]={x:n+f*t[p*2],y:a+h*t[p*2+1]};var m,g,v,y,b=d.length;for(g=d[b-1],m=0;m<b;m++)v=d[m%b],y=d[(m+1)%b],l[u][m]=LF(g,v,y,s),g=v,v=y;return l[u]},draw:function(n,a,i,o,s,l,u){this.renderer.nodeShapeImpl("round-polygon",n,a,i,o,s,this.points,this.getOrCreateCorners(a,i,o,s,l,u,"drawCorners"))},intersectLine:function(n,a,i,o,s,l,u,f,h){return BGt(s,l,this.points,n,a,i,o,u,this.getOrCreateCorners(n,a,i,o,f,h,"corners"))},checkPoint:function(n,a,i,o,s,l,u,f,h){return OGt(n,a,this.points,l,u,o,s,this.getOrCreateCorners(l,u,o,s,f,h,"corners"))}}};ah.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:ns(4,0),draw:function(t,r,n,a,i,o){this.renderer.nodeShapeImpl(this.name,t,r,n,a,i,this.points,o)},intersectLine:function(t,r,n,a,i,o,s,l){return Xpt(i,o,t,r,n,a,s,l)},checkPoint:function(t,r,n,a,i,o,s,l){var u=a/2,f=i/2;l=l==="auto"?Vd(a,i):l,l=Math.min(u,f,l);var h=l*2;return!!(nh(t,r,this.points,o,s,a,i-h,[0,-1],n)||nh(t,r,this.points,o,s,a-h,i,[0,-1],n)||K0(t,r,h,h,o-u+l,s-f+l,n)||K0(t,r,h,h,o+u-l,s-f+l,n)||K0(t,r,h,h,o+u-l,s+f-l,n)||K0(t,r,h,h,o-u+l,s+f-l,n))}}};ah.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:xF(),points:ns(4,0),draw:function(t,r,n,a,i,o){this.renderer.nodeShapeImpl(this.name,t,r,n,a,i,null,o)},generateCutTrianglePts:function(t,r,n,a,i){var o=i==="auto"?this.cornerLength:i,s=r/2,l=t/2,u=n-l,f=n+l,h=a-s,d=a+s;return{topLeft:[u,h+o,u+o,h,u+o,h+o],topRight:[f-o,h,f,h+o,f-o,h+o],bottomRight:[f,d-o,f-o,d,f-o,d-o],bottomLeft:[u+o,d,u,d-o,u+o,d-o]}},intersectLine:function(t,r,n,a,i,o,s,l){var u=this.generateCutTrianglePts(n+2*s,a+2*s,t,r,l),f=[].concat.apply([],[u.topLeft.splice(0,4),u.topRight.splice(0,4),u.bottomRight.splice(0,4),u.bottomLeft.splice(0,4)]);return v_(i,o,f,t,r)},checkPoint:function(t,r,n,a,i,o,s,l){var u=l==="auto"?this.cornerLength:l;if(nh(t,r,this.points,o,s,a,i-2*u,[0,-1],n)||nh(t,r,this.points,o,s,a-2*u,i,[0,-1],n))return!0;var f=this.generateCutTrianglePts(a,i,o,s);return zs(t,r,f.topLeft)||zs(t,r,f.topRight)||zs(t,r,f.bottomRight)||zs(t,r,f.bottomLeft)}}};ah.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:ns(4,0),draw:function(t,r,n,a,i,o){this.renderer.nodeShapeImpl(this.name,t,r,n,a,i)},intersectLine:function(t,r,n,a,i,o,s,l){var u=.15,f=.5,h=.85,d=this.generateBarrelBezierPts(n+2*s,a+2*s,t,r),p=function(v){var y=j1({x:v[0],y:v[1]},{x:v[2],y:v[3]},{x:v[4],y:v[5]},u),b=j1({x:v[0],y:v[1]},{x:v[2],y:v[3]},{x:v[4],y:v[5]},f),_=j1({x:v[0],y:v[1]},{x:v[2],y:v[3]},{x:v[4],y:v[5]},h);return[v[0],v[1],y.x,y.y,b.x,b.y,_.x,_.y,v[4],v[5]]},m=[].concat(p(d.topLeft),p(d.topRight),p(d.bottomRight),p(d.bottomLeft));return v_(i,o,m,t,r)},generateBarrelBezierPts:function(t,r,n,a){var i=r/2,o=t/2,s=n-o,l=n+o,u=a-i,f=a+i,h=VO(t,r),d=h.heightOffset,p=h.widthOffset,m=h.ctrlPtOffsetPct*t,g={topLeft:[s,u+d,s+m,u,s+p,u],topRight:[l-p,u,l-m,u,l,u+d],bottomRight:[l,f-d,l-m,f,l-p,f],bottomLeft:[s+p,f,s+m,f,s,f-d]};return g.topLeft.isTop=!0,g.topRight.isTop=!0,g.bottomLeft.isBottom=!0,g.bottomRight.isBottom=!0,g},checkPoint:function(t,r,n,a,i,o,s,l){var u=VO(a,i),f=u.heightOffset,h=u.widthOffset;if(nh(t,r,this.points,o,s,a,i-2*f,[0,-1],n)||nh(t,r,this.points,o,s,a-2*h,i,[0,-1],n))return!0;for(var d=this.generateBarrelBezierPts(a,i,o,s),p=function(C,M,N){var L=N[4],E=N[2],A=N[0],D=N[5],R=N[1],I=Math.min(L,A),O=Math.max(L,A),F=Math.min(D,R),P=Math.max(D,R);if(I<=C&&C<=O&&F<=M&&M<=P){var q=$Gt(L,E,A),$=MGt(q[0],q[1],q[2],C),W=$.filter(function(X){return 0<=X&&X<=1});if(W.length>0)return W[0]}return null},m=Object.keys(d),g=0;g<m.length;g++){var v=m[g],y=d[v],b=p(t,r,y);if(b!=null){var _=y[5],k=y[3],w=y[1],T=Oi(_,k,w,b);if(y.isTop&&T<=r||y.isBottom&&r<=T)return!0}}return!1}}};ah.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:ns(4,0),draw:function(t,r,n,a,i,o){this.renderer.nodeShapeImpl(this.name,t,r,n,a,i,this.points,o)},intersectLine:function(t,r,n,a,i,o,s,l){var u=t-(n/2+s),f=r-(a/2+s),h=f,d=t+(n/2+s),p=zd(i,o,t,r,u,f,d,h,!1);return p.length>0?p:Xpt(i,o,t,r,n,a,s,l)},checkPoint:function(t,r,n,a,i,o,s,l){l=l==="auto"?Vd(a,i):l;var u=2*l;if(nh(t,r,this.points,o,s,a,i-u,[0,-1],n)||nh(t,r,this.points,o,s,a-u,i,[0,-1],n))return!0;var f=a/2+2*n,h=i/2+2*n,d=[o-f,s-h,o-f,s,o+f,s,o+f,s-h];return!!(zs(t,r,d)||K0(t,r,u,u,o+a/2-l,s+i/2-l,n)||K0(t,r,u,u,o-a/2+l,s+i/2-l,n))}}};ah.registerNodeShapes=function(){var e=this.nodeShapes={},t=this;this.generateEllipse(),this.generatePolygon("triangle",ns(3,0)),this.generateRoundPolygon("round-triangle",ns(3,0)),this.generatePolygon("rectangle",ns(4,0)),e.square=e.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r)}this.generatePolygon("pentagon",ns(5,0)),this.generateRoundPolygon("round-pentagon",ns(5,0)),this.generatePolygon("hexagon",ns(6,0)),this.generateRoundPolygon("round-hexagon",ns(6,0)),this.generatePolygon("heptagon",ns(7,0)),this.generateRoundPolygon("round-heptagon",ns(7,0)),this.generatePolygon("octagon",ns(8,0)),this.generateRoundPolygon("round-octagon",ns(8,0));var n=new Array(20);{var a=GO(5,0),i=GO(5,Math.PI/5),o=.5*(3-Math.sqrt(5));o*=1.57;for(var s=0;s<i.length/2;s++)i[s*2]*=o,i[s*2+1]*=o;for(var s=0;s<20/4;s++)n[s*4]=a[s*2],n[s*4+1]=a[s*2+1],n[s*4+2]=i[s*2],n[s*4+3]=i[s*2+1]}n=jpt(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var l=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",l),this.generateRoundPolygon("round-tag",l)}e.makePolygon=function(u){var f=u.join("$"),h="polygon-"+f,d;return(d=this[h])?d:t.generatePolygon(h,u)}};R_={};R_.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};R_.redraw=function(e){e=e||Gpt();var t=this;t.averageRedrawTime===void 0&&(t.averageRedrawTime=0),t.lastRedrawTime===void 0&&(t.lastRedrawTime=0),t.lastDrawTime===void 0&&(t.lastDrawTime=0),t.requestedFrame=!0,t.renderOptions=e};R_.beforeRender=function(e,t){if(!this.destroyed){t==null&&_a("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:e,priority:t}),r.sort(function(n,a){return a.priority-n.priority})}};upt=function(t,r,n){for(var a=t.beforeRenderCallbacks,i=0;i<a.length;i++)a[i].fn(r,n)};R_.startRenderLoop=function(){var e=this,t=e.cy;if(!e.renderLoopStarted){e.renderLoopStarted=!0;var r=function(a){if(!e.destroyed){if(!t.batching())if(e.requestedFrame&&!e.skipFrame){upt(e,!0,a);var i=rh();e.render(e.renderOptions);var o=e.lastDrawTime=rh();e.averageRedrawTime===void 0&&(e.averageRedrawTime=o-i),e.redrawCount===void 0&&(e.redrawCount=0),e.redrawCount++,e.redrawTotalTime===void 0&&(e.redrawTotalTime=0);var s=o-i;e.redrawTotalTime+=s,e.lastRedrawTime=s,e.averageRedrawTime=e.averageRedrawTime/2+s/2,e.requestedFrame=!1}else upt(e,!1,a);e.skipFrame=!1,AC(r)}};AC(r)}};eXt=function(t){this.init(t)},K0t=eXt,sv=K0t.prototype;sv.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];sv.init=function(e){var t=this;t.options=e,t.cy=e.cy;var r=t.container=e.cy.container(),n=t.cy.window();if(n){var a=n.document,i=a.head,o="__________cytoscape_stylesheet",s="__________cytoscape_container",l=a.getElementById(o)!=null;if(r.className.indexOf(s)<0&&(r.className=(r.className||"")+" "+s),!l){var u=a.createElement("style");u.id=o,u.textContent="."+s+" { position: relative; }",i.insertBefore(u,i.children[0])}var f=n.getComputedStyle(r),h=f.getPropertyValue("position");h==="static"&&An("A Cytoscape container has style position:static and so can not use UI extensions properly")}t.selection=[void 0,void 0,void 0,void 0,0],t.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],t.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},t.dragData={possibleDragElements:[]},t.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},t.redraws=0,t.showFps=e.showFps,t.debug=e.debug,t.webgl=e.webgl,t.hideEdgesOnViewport=e.hideEdgesOnViewport,t.textureOnViewport=e.textureOnViewport,t.wheelSensitivity=e.wheelSensitivity,t.motionBlurEnabled=e.motionBlur,t.forcedPixelRatio=be(e.pixelRatio)?e.pixelRatio:null,t.motionBlur=e.motionBlur,t.motionBlurOpacity=e.motionBlurOpacity,t.motionBlurTransparency=1-t.motionBlurOpacity,t.motionBlurPxRatio=1,t.mbPxRBlurry=1,t.minMbLowQualFrames=4,t.fullQualityMb=!1,t.clearedForMotionBlur=[],t.desktopTapThreshold=e.desktopTapThreshold,t.desktopTapThreshold2=e.desktopTapThreshold*e.desktopTapThreshold,t.touchTapThreshold=e.touchTapThreshold,t.touchTapThreshold2=e.touchTapThreshold*e.touchTapThreshold,t.tapholdDuration=500,t.bindings=[],t.beforeRenderCallbacks=[],t.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},t.registerNodeShapes(),t.registerArrowShapes(),t.registerCalculationListeners()};sv.notify=function(e,t){var r=this,n=r.cy;if(!this.destroyed){if(e==="init"){r.load();return}if(e==="destroy"){r.destroy();return}(e==="add"||e==="remove"||e==="move"&&n.hasCompoundNodes()||e==="load"||e==="zorder"||e==="mount")&&r.invalidateCachedZSortedEles(),e==="viewport"&&r.redrawHint("select",!0),e==="gc"&&r.redrawHint("gc",!0),(e==="load"||e==="resize"||e==="mount")&&(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};sv.destroy=function(){var e=this;e.destroyed=!0,e.cy.stopAnimationLoop();for(var t=0;t<e.bindings.length;t++){var r=e.bindings[t],n=r,a=n.target;(a.off||a.removeEventListener).apply(a,n.args)}if(e.bindings=[],e.beforeRenderCallbacks=[],e.onUpdateEleCalcsFns=[],e.removeObserver&&e.removeObserver.disconnect(),e.styleObserver&&e.styleObserver.disconnect(),e.resizeObserver&&e.resizeObserver.disconnect(),e.labelCalcDiv)try{document.body.removeChild(e.labelCalcDiv)}catch{}};sv.isHeadless=function(){return!1};[AF,X0t,j0t,ov,ah,R_].forEach(function(e){Ze(sv,e)});OO=1e3/60,Q0t={setupDequeueing:function(t){return function(){var n=this,a=this.renderer;if(!n.dequeueingSetup){n.dequeueingSetup=!0;var i=D_(function(){a.redrawHint("eles",!0),a.redrawHint("drag",!0),a.redraw()},t.deqRedrawThreshold),o=function(u,f){var h=rh(),d=a.averageRedrawTime,p=a.lastRedrawTime,m=[],g=a.cy.extent(),v=a.getPixelRatio();for(u||a.flushRenderedStyleQueue();;){var y=rh(),b=y-h,_=y-f;if(p<OO){var k=OO-(u?d:0);if(_>=t.deqFastCost*k)break}else if(u){if(b>=t.deqCost*p||b>=t.deqAvgCost*d)break}else if(_>=t.deqNoDrawCost*OO)break;var w=t.deq(n,v,g);if(w.length>0)for(var T=0;T<w.length;T++)m.push(w[T]);else break}m.length>0&&(t.onDeqd(n,m),!u&&t.shouldRedraw(n,m,v,g)&&i())},s=t.priority||pF;a.beforeRender(o,s(n))}}}},rXt=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:LC;jd(this,e),this.idsByKey=new eh,this.keyForId=new eh,this.cachesByLvl=new eh,this.lvls=[],this.getKey=t,this.doesEleInvalidateKey=r}return Kd(e,[{key:"getIdsFor",value:function(r){r==null&&_a("Can not get id list for null key");var n=this.idsByKey,a=this.idsByKey.get(r);return a||(a=new rv,n.set(r,a)),a}},{key:"addIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).add(n)}},{key:"deleteIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).delete(n)}},{key:"getNumberOfIdsForKey",value:function(r){return r==null?0:this.getIdsFor(r).size}},{key:"updateKeyMappingFor",value:function(r){var n=r.id(),a=this.keyForId.get(n),i=this.getKey(r);this.deleteIdForKey(a,n),this.addIdForKey(i,n),this.keyForId.set(n,i)}},{key:"deleteKeyMappingFor",value:function(r){var n=r.id(),a=this.keyForId.get(n);this.deleteIdForKey(a,n),this.keyForId.delete(n)}},{key:"keyHasChangedFor",value:function(r){var n=r.id(),a=this.keyForId.get(n),i=this.getKey(r);return a!==i}},{key:"isInvalid",value:function(r){return this.keyHasChangedFor(r)||this.doesEleInvalidateKey(r)}},{key:"getCachesAt",value:function(r){var n=this.cachesByLvl,a=this.lvls,i=n.get(r);return i||(i=new eh,n.set(r,i),a.push(r)),i}},{key:"getCache",value:function(r,n){return this.getCachesAt(n).get(r)}},{key:"get",value:function(r,n){var a=this.getKey(r),i=this.getCache(a,n);return i!=null&&this.updateKeyMappingFor(r),i}},{key:"getForCachedKey",value:function(r,n){var a=this.keyForId.get(r.id()),i=this.getCache(a,n);return i}},{key:"hasCache",value:function(r,n){return this.getCachesAt(n).has(r)}},{key:"has",value:function(r,n){var a=this.getKey(r);return this.hasCache(a,n)}},{key:"setCache",value:function(r,n,a){a.key=r,this.getCachesAt(n).set(r,a)}},{key:"set",value:function(r,n,a){var i=this.getKey(r);this.setCache(i,n,a),this.updateKeyMappingFor(r)}},{key:"deleteCache",value:function(r,n){this.getCachesAt(n).delete(r)}},{key:"delete",value:function(r,n){var a=this.getKey(r);this.deleteCache(a,n)}},{key:"invalidateKey",value:function(r){var n=this;this.lvls.forEach(function(a){return n.deleteCache(r,a)})}},{key:"invalidate",value:function(r){var n=r.id(),a=this.keyForId.get(n);this.deleteKeyMappingFor(r);var i=this.doesEleInvalidateKey(r);return i&&this.invalidateKey(a),i||this.getNumberOfIdsForKey(a)===0}}])}(),cpt=25,pC=50,kC=-4,aF=3,Z0t=7.99,nXt=8,aXt=1024,iXt=1024,oXt=1024,sXt=.2,lXt=.8,uXt=10,cXt=.15,fXt=.1,hXt=.9,dXt=.9,pXt=100,mXt=1,X1={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},gXt=lo({getKey:null,doesEleInvalidateKey:LC,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:qpt,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),u_=function(t,r){var n=this;n.renderer=t,n.onDequeues=[];var a=gXt(r);Ze(n,a),n.lookup=new rXt(a.getKey,a.doesEleInvalidateKey),n.setupDequeueing()},bi=u_.prototype;bi.reasons=X1;bi.getTextureQueue=function(e){var t=this;return t.eleImgCaches=t.eleImgCaches||{},t.eleImgCaches[e]=t.eleImgCaches[e]||[]};bi.getRetiredTextureQueue=function(e){var t=this,r=t.eleImgCaches.retired=t.eleImgCaches.retired||{},n=r[e]=r[e]||[];return n};bi.getElementQueue=function(){var e=this,t=e.eleCacheQueue=e.eleCacheQueue||new A_(function(r,n){return n.reqs-r.reqs});return t};bi.getElementKeyToQueue=function(){var e=this,t=e.eleKeyToCacheQueue=e.eleKeyToCacheQueue||{};return t};bi.getElement=function(e,t,r,n,a){var i=this,o=this.renderer,s=o.cy.zoom(),l=this.lookup;if(!t||t.w===0||t.h===0||isNaN(t.w)||isNaN(t.h)||!e.visible()||e.removed()||!i.allowEdgeTxrCaching&&e.isEdge()||!i.allowParentTxrCaching&&e.isParent())return null;if(n==null&&(n=Math.ceil(gF(s*r))),n<kC)n=kC;else if(s>=Z0t||n>aF)return null;var u=Math.pow(2,n),f=t.h*u,h=t.w*u,d=o.eleTextBiggerThanMin(e,u);if(!this.isVisible(e,d))return null;var p=l.get(e,n);if(p&&p.invalidated&&(p.invalidated=!1,p.texture.invalidatedWidth-=p.width),p)return p;var m;if(f<=cpt?m=cpt:f<=pC?m=pC:m=Math.ceil(f/pC)*pC,f>oXt||h>iXt)return null;var g=i.getTextureQueue(m),v=g[g.length-2],y=function(){return i.recycleTexture(m,h)||i.addTexture(m,h)};v||(v=g[g.length-1]),v||(v=y()),v.width-v.usedWidth<h&&(v=y());for(var b=function(I){return I&&I.scaledLabelShown===d},_=a&&a===X1.dequeue,k=a&&a===X1.highQuality,w=a&&a===X1.downscale,T,S=n+1;S<=aF;S++){var C=l.get(e,S);if(C){T=C;break}}var M=T&&T.level===n+1?T:null,N=function(){v.context.drawImage(M.texture.canvas,M.x,0,M.width,M.height,v.usedWidth,0,h,f)};if(v.context.setTransform(1,0,0,1,0,0),v.context.clearRect(v.usedWidth,0,h,m),b(M))N();else if(b(T))if(k){for(var L=T.level;L>n;L--)M=i.getElement(e,t,r,L,X1.downscale);N()}else return i.queueElement(e,T.level-1),T;else{var E;if(!_&&!k&&!w)for(var A=n-1;A>=kC;A--){var D=l.get(e,A);if(D){E=D;break}}if(b(E))return i.queueElement(e,n),E;v.context.translate(v.usedWidth,0),v.context.scale(u,u),this.drawElement(v.context,e,t,d,!1),v.context.scale(1/u,1/u),v.context.translate(-v.usedWidth,0)}return p={x:v.usedWidth,texture:v,level:n,scale:u,width:h,height:f,scaledLabelShown:d},v.usedWidth+=Math.ceil(h+nXt),v.eleCaches.push(p),l.set(e,n,p),i.checkTextureFullness(v),p};bi.invalidateElements=function(e){for(var t=0;t<e.length;t++)this.invalidateElement(e[t])};bi.invalidateElement=function(e){var t=this,r=t.lookup,n=[],a=r.isInvalid(e);if(a){for(var i=kC;i<=aF;i++){var o=r.getForCachedKey(e,i);o&&n.push(o)}var s=r.invalidate(e);if(s)for(var l=0;l<n.length;l++){var u=n[l],f=u.texture;f.invalidatedWidth+=u.width,u.invalidated=!0,t.checkTextureUtility(f)}t.removeFromQueue(e)}};bi.checkTextureUtility=function(e){e.invalidatedWidth>=sXt*e.width&&this.retireTexture(e)};bi.checkTextureFullness=function(e){var t=this,r=t.getTextureQueue(e.height);e.usedWidth/e.width>lXt&&e.fullnessChecks>=uXt?Gd(r,e):e.fullnessChecks++};bi.retireTexture=function(e){var t=this,r=e.height,n=t.getTextureQueue(r),a=this.lookup;Gd(n,e),e.retired=!0;for(var i=e.eleCaches,o=0;o<i.length;o++){var s=i[o];a.deleteCache(s.key,s.level)}mF(i);var l=t.getRetiredTextureQueue(r);l.push(e)};bi.addTexture=function(e,t){var r=this,n=r.getTextureQueue(e),a={};return n.push(a),a.eleCaches=[],a.height=e,a.width=Math.max(aXt,t),a.usedWidth=0,a.invalidatedWidth=0,a.fullnessChecks=0,a.canvas=r.renderer.makeOffscreenCanvas(a.width,a.height),a.context=a.canvas.getContext("2d"),a};bi.recycleTexture=function(e,t){for(var r=this,n=r.getTextureQueue(e),a=r.getRetiredTextureQueue(e),i=0;i<a.length;i++){var o=a[i];if(o.width>=t)return o.retired=!1,o.usedWidth=0,o.invalidatedWidth=0,o.fullnessChecks=0,mF(o.eleCaches),o.context.setTransform(1,0,0,1,0,0),o.context.clearRect(0,0,o.width,o.height),Gd(a,o),n.push(o),o}};bi.queueElement=function(e,t){var r=this,n=r.getElementQueue(),a=r.getElementKeyToQueue(),i=this.getKey(e),o=a[i];if(o)o.level=Math.max(o.level,t),o.eles.merge(e),o.reqs++,n.updateItem(o);else{var s={eles:e.spawn().merge(e),level:t,reqs:1,key:i};n.push(s),a[i]=s}};bi.dequeue=function(e){for(var t=this,r=t.getElementQueue(),n=t.getElementKeyToQueue(),a=[],i=t.lookup,o=0;o<mXt&&r.size()>0;o++){var s=r.pop(),l=s.key,u=s.eles[0],f=i.hasCache(u,s.level);if(n[l]=null,f)continue;a.push(s);var h=t.getBoundingBox(u);t.getElement(u,h,e,s.level,X1.dequeue)}return a};bi.removeFromQueue=function(e){var t=this,r=t.getElementQueue(),n=t.getElementKeyToQueue(),a=this.getKey(e),i=n[a];i!=null&&(i.eles.length===1?(i.reqs=dF,r.updateItem(i),r.pop(),n[a]=null):i.eles.unmerge(e))};bi.onDequeue=function(e){this.onDequeues.push(e)};bi.offDequeue=function(e){Gd(this.onDequeues,e)};bi.setupDequeueing=Q0t.setupDequeueing({deqRedrawThreshold:pXt,deqCost:cXt,deqAvgCost:fXt,deqNoDrawCost:hXt,deqFastCost:dXt,deq:function(t,r,n){return t.dequeue(r,n)},onDeqd:function(t,r){for(var n=0;n<t.onDequeues.length;n++){var a=t.onDequeues[n];a(r)}},shouldRedraw:function(t,r,n,a){for(var i=0;i<r.length;i++)for(var o=r[i].eles,s=0;s<o.length;s++){var l=o[s].boundingBox();if(yF(l,a))return!0}return!1},priority:function(t){return t.renderer.beforeRenderPriorities.eleTxrDeq}});vXt=1,f_=-4,BC=2,yXt=3.99,xXt=50,bXt=50,_Xt=.15,wXt=.1,TXt=.9,EXt=.9,kXt=1,fpt=250,CXt=4e3*4e3,hpt=32767,SXt=!0,J0t=function(t){var r=this,n=r.renderer=t,a=n.cy;r.layersByLevel={},r.firstGet=!0,r.lastInvalidationTime=rh()-2*fpt,r.skipping=!1,r.eleTxrDeqs=a.collection(),r.scheduleElementRefinement=D_(function(){r.refineElementTextures(r.eleTxrDeqs),r.eleTxrDeqs.unmerge(r.eleTxrDeqs)},bXt),n.beforeRender(function(o,s){s-r.lastInvalidationTime<=fpt?r.skipping=!0:r.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);var i=function(s,l){return l.reqs-s.reqs};r.layersQueue=new A_(i),r.setupDequeueing()},uo=J0t.prototype,dpt=0,DXt=Math.pow(2,53)-1;uo.makeLayer=function(e,t){var r=Math.pow(2,t),n=Math.ceil(e.w*r),a=Math.ceil(e.h*r),i=this.renderer.makeOffscreenCanvas(n,a),o={id:dpt=++dpt%DXt,bb:e,level:t,width:n,height:a,canvas:i,context:i.getContext("2d"),eles:[],elesQueue:[],reqs:0},s=o.context,l=-o.bb.x1,u=-o.bb.y1;return s.scale(r,r),s.translate(l,u),o};uo.getLayers=function(e,t,r){var n=this,a=n.renderer,i=a.cy,o=i.zoom(),s=n.firstGet;if(n.firstGet=!1,r==null){if(r=Math.ceil(gF(o*t)),r<f_)r=f_;else if(o>=yXt||r>BC)return null}n.validateLayersElesOrdering(r,e);var l=n.layersByLevel,u=Math.pow(2,r),f=l[r]=l[r]||[],h,d=n.levelIsComplete(r,e),p,m=function(){var N=function(R){if(n.validateLayersElesOrdering(R,e),n.levelIsComplete(R,e))return p=l[R],!0},L=function(R){if(!p)for(var I=r+R;f_<=I&&I<=BC&&!N(I);I+=R);};L(1),L(-1);for(var E=f.length-1;E>=0;E--){var A=f[E];A.invalid&&Gd(f,A)}};if(!d)m();else return f;var g=function(){if(!h){h=as();for(var N=0;N<e.length;N++)kGt(h,e[N].boundingBox())}return h},v=function(N){N=N||{};var L=N.after;g();var E=Math.ceil(h.w*u),A=Math.ceil(h.h*u);if(E>hpt||A>hpt)return null;var D=E*A;if(D>CXt)return null;var R=n.makeLayer(h,r);if(L!=null){var I=f.indexOf(L)+1;f.splice(I,0,R)}else(N.insert===void 0||N.insert)&&f.unshift(R);return R};if(n.skipping&&!s)return null;for(var y=null,b=e.length/vXt,_=!s,k=0;k<e.length;k++){var w=e[k],T=w._private.rscratch,S=T.imgLayerCaches=T.imgLayerCaches||{},C=S[r];if(C){y=C;continue}if((!y||y.eles.length>=b||!Ypt(y.bb,w.boundingBox()))&&(y=v({insert:!0,after:y}),!y))return null;p||_?n.queueLayer(y,w):n.drawEleInLayer(y,w,r,t),y.eles.push(w),S[r]=y}return p||(_?null:f)};uo.getEleLevelForLayerLevel=function(e,t){return e};uo.drawEleInLayer=function(e,t,r,n){var a=this,i=this.renderer,o=e.context,s=t.boundingBox();s.w===0||s.h===0||!t.visible()||(r=a.getEleLevelForLayerLevel(r,n),i.setImgSmoothing(o,!1),i.drawCachedElement(o,t,null,null,r,SXt),i.setImgSmoothing(o,!0))};uo.levelIsComplete=function(e,t){var r=this,n=r.layersByLevel[e];if(!n||n.length===0)return!1;for(var a=0,i=0;i<n.length;i++){var o=n[i];if(o.reqs>0||o.invalid)return!1;a+=o.eles.length}return a===t.length};uo.validateLayersElesOrdering=function(e,t){var r=this.layersByLevel[e];if(r)for(var n=0;n<r.length;n++){for(var a=r[n],i=-1,o=0;o<t.length;o++)if(a.eles[0]===t[o]){i=o;break}if(i<0){this.invalidateLayer(a);continue}for(var s=i,o=0;o<a.eles.length;o++)if(a.eles[o]!==t[s+o]){this.invalidateLayer(a);break}}};uo.updateElementsInLayers=function(e,t){for(var r=this,n=E_(e[0]),a=0;a<e.length;a++)for(var i=n?null:e[a],o=n?e[a]:e[a].ele,s=o._private.rscratch,l=s.imgLayerCaches=s.imgLayerCaches||{},u=f_;u<=BC;u++){var f=l[u];f&&(i&&r.getEleLevelForLayerLevel(f.level)!==i.level||t(f,o,i))}};uo.haveLayers=function(){for(var e=this,t=!1,r=f_;r<=BC;r++){var n=e.layersByLevel[r];if(n&&n.length>0){t=!0;break}}return t};uo.invalidateElements=function(e){var t=this;e.length!==0&&(t.lastInvalidationTime=rh(),!(e.length===0||!t.haveLayers())&&t.updateElementsInLayers(e,function(n,a,i){t.invalidateLayer(n)}))};uo.invalidateLayer=function(e){if(this.lastInvalidationTime=rh(),!e.invalid){var t=e.level,r=e.eles,n=this.layersByLevel[t];Gd(n,e),e.elesQueue=[],e.invalid=!0,e.replacement&&(e.replacement.invalid=!0);for(var a=0;a<r.length;a++){var i=r[a]._private.rscratch.imgLayerCaches;i&&(i[t]=null)}}};uo.refineElementTextures=function(e){var t=this;t.updateElementsInLayers(e,function(n,a,i){var o=n.replacement;if(o||(o=n.replacement=t.makeLayer(n.bb,n.level),o.replaces=n,o.eles=n.eles),!o.reqs)for(var s=0;s<o.eles.length;s++)t.queueLayer(o,o.eles[s])})};uo.enqueueElementRefinement=function(e){this.eleTxrDeqs.merge(e),this.scheduleElementRefinement()};uo.queueLayer=function(e,t){var r=this,n=r.layersQueue,a=e.elesQueue,i=a.hasId=a.hasId||{};if(!e.replacement){if(t){if(i[t.id()])return;a.push(t),i[t.id()]=!0}e.reqs?(e.reqs++,n.updateItem(e)):(e.reqs=1,n.push(e))}};uo.dequeue=function(e){for(var t=this,r=t.layersQueue,n=[],a=0;a<kXt&&r.size()!==0;){var i=r.peek();if(i.replacement){r.pop();continue}if(i.replaces&&i!==i.replaces.replacement){r.pop();continue}if(i.invalid){r.pop();continue}var o=i.elesQueue.shift();o&&(t.drawEleInLayer(i,o,i.level,e),a++),n.length===0&&n.push(!0),i.elesQueue.length===0&&(r.pop(),i.reqs=0,i.replaces&&t.applyLayerReplacement(i),t.requestRedraw())}return n};uo.applyLayerReplacement=function(e){var t=this,r=t.layersByLevel[e.level],n=e.replaces,a=r.indexOf(n);if(!(a<0||n.invalid)){r[a]=e;for(var i=0;i<e.eles.length;i++){var o=e.eles[i]._private,s=o.imgLayerCaches=o.imgLayerCaches||{};s&&(s[e.level]=e)}t.requestRedraw()}};uo.requestRedraw=D_(function(){var e=this.renderer;e.redrawHint("eles",!0),e.redrawHint("drag",!0),e.redraw()},100);uo.setupDequeueing=Q0t.setupDequeueing({deqRedrawThreshold:xXt,deqCost:_Xt,deqAvgCost:wXt,deqNoDrawCost:TXt,deqFastCost:EXt,deq:function(t,r){return t.dequeue(r)},onDeqd:pF,shouldRedraw:qpt,priority:function(t){return t.renderer.beforeRenderPriorities.lyrTxrDeq}});tmt={};tmt.arrowShapeImpl=function(e){return(ppt||(ppt={polygon:AXt,"triangle-backcurve":LXt,"triangle-tee":mpt,"circle-triangle":MXt,"triangle-cross":mpt,circle:IXt}))[e]};Xc={};Xc.drawElement=function(e,t,r,n,a,i){var o=this;t.isNode()?o.drawNode(e,t,r,n,a,i):o.drawEdge(e,t,r,n,a,i)};Xc.drawElementOverlay=function(e,t){var r=this;t.isNode()?r.drawNodeOverlay(e,t):r.drawEdgeOverlay(e,t)};Xc.drawElementUnderlay=function(e,t){var r=this;t.isNode()?r.drawNodeUnderlay(e,t):r.drawEdgeUnderlay(e,t)};Xc.drawCachedElementPortion=function(e,t,r,n,a,i,o,s){var l=this,u=r.getBoundingBox(t);if(!(u.w===0||u.h===0)){var f=r.getElement(t,u,n,a,i);if(f!=null){var h=s(l,t);if(h===0)return;var d=o(l,t),p=u.x1,m=u.y1,g=u.w,v=u.h,y,b,_,k,w;if(d!==0){var T=r.getRotationPoint(t);_=T.x,k=T.y,e.translate(_,k),e.rotate(d),w=l.getImgSmoothing(e),w||l.setImgSmoothing(e,!0);var S=r.getRotationOffset(t);y=S.x,b=S.y}else y=p,b=m;var C;h!==1&&(C=e.globalAlpha,e.globalAlpha=C*h),e.drawImage(f.texture.canvas,f.x,0,f.width,f.height,y,b,g,v),h!==1&&(e.globalAlpha=C),d!==0&&(e.rotate(-d),e.translate(-_,-k),w||l.setImgSmoothing(e,!1))}else r.drawElement(e,t)}};RXt=function(){return 0},NXt=function(t,r){return t.getTextAngle(r,null)},OXt=function(t,r){return t.getTextAngle(r,"source")},FXt=function(t,r){return t.getTextAngle(r,"target")},PXt=function(t,r){return r.effectiveOpacity()},FO=function(t,r){return r.pstyle("text-opacity").pfValue*r.effectiveOpacity()};Xc.drawCachedElement=function(e,t,r,n,a,i){var o=this,s=o.data,l=s.eleTxrCache,u=s.lblTxrCache,f=s.slbTxrCache,h=s.tlbTxrCache,d=t.boundingBox(),p=i===!0?l.reasons.highQuality:null;if(!(d.w===0||d.h===0||!t.visible())&&(!n||yF(d,n))){var m=t.isEdge(),g=t.element()._private.rscratch.badLine;o.drawElementUnderlay(e,t),o.drawCachedElementPortion(e,t,l,r,a,p,RXt,PXt),(!m||!g)&&o.drawCachedElementPortion(e,t,u,r,a,p,NXt,FO),m&&!g&&(o.drawCachedElementPortion(e,t,f,r,a,p,OXt,FO),o.drawCachedElementPortion(e,t,h,r,a,p,FXt,FO)),o.drawElementOverlay(e,t)}};Xc.drawElements=function(e,t){for(var r=this,n=0;n<t.length;n++){var a=t[n];r.drawElement(e,a)}};Xc.drawCachedElements=function(e,t,r,n){for(var a=this,i=0;i<t.length;i++){var o=t[i];a.drawCachedElement(e,o,r,n)}};Xc.drawCachedNodes=function(e,t,r,n){for(var a=this,i=0;i<t.length;i++){var o=t[i];o.isNode()&&a.drawCachedElement(e,o,r,n)}};Xc.drawLayeredElements=function(e,t,r,n){var a=this,i=a.data.lyrTxrCache.getLayers(t,r);if(i)for(var o=0;o<i.length;o++){var s=i[o],l=s.bb;l.w===0||l.h===0||e.drawImage(s.canvas,l.x1,l.y1,l.w,l.h)}else a.drawCachedElements(e,t,r,n)};ih={};ih.drawEdge=function(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this,s=t._private.rscratch;if(!(i&&!t.visible())&&!(s.badLine||s.allpts==null||isNaN(s.allpts[0]))){var l;r&&(l=r,e.translate(-l.x1,-l.y1));var u=i?t.pstyle("opacity").value:1,f=i?t.pstyle("line-opacity").value:1,h=t.pstyle("curve-style").value,d=t.pstyle("line-style").value,p=t.pstyle("width").pfValue,m=t.pstyle("line-cap").value,g=t.pstyle("line-outline-width").value,v=t.pstyle("line-outline-color").value,y=u*f,b=u*f,_=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y;h==="straight-triangle"?(o.eleStrokeStyle(e,t,R),o.drawEdgeTrianglePath(t,e,s.allpts)):(e.lineWidth=p,e.lineCap=m,o.eleStrokeStyle(e,t,R),o.drawEdgePath(t,e,s.allpts,d),e.lineCap="butt")},k=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y;if(e.lineWidth=p+g,e.lineCap=m,g>0)o.colorStrokeStyle(e,v[0],v[1],v[2],R);else{e.lineCap="butt";return}h==="straight-triangle"?o.drawEdgeTrianglePath(t,e,s.allpts):(o.drawEdgePath(t,e,s.allpts,d),e.lineCap="butt")},w=function(){a&&o.drawEdgeOverlay(e,t)},T=function(){a&&o.drawEdgeUnderlay(e,t)},S=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b;o.drawArrowheads(e,t,R)},C=function(){o.drawElementText(e,t,null,n)};e.lineJoin="round";var M=t.pstyle("ghost").value==="yes";if(M){var N=t.pstyle("ghost-offset-x").pfValue,L=t.pstyle("ghost-offset-y").pfValue,E=t.pstyle("ghost-opacity").value,A=y*E;e.translate(N,L),_(A),S(A),e.translate(-N,-L)}else k();T(),_(),S(),w(),C(),r&&e.translate(l.x1,l.y1)}};emt=function(t){if(!["overlay","underlay"].includes(t))throw new Error("Invalid state");return function(r,n){if(n.visible()){var a=n.pstyle("".concat(t,"-opacity")).value;if(a!==0){var i=this,o=i.usePaths(),s=n._private.rscratch,l=n.pstyle("".concat(t,"-padding")).pfValue,u=2*l,f=n.pstyle("".concat(t,"-color")).value;r.lineWidth=u,s.edgeType==="self"&&!o?r.lineCap="butt":r.lineCap="round",i.colorStrokeStyle(r,f[0],f[1],f[2],a),i.drawEdgePath(n,r,s.allpts,"solid")}}}};ih.drawEdgeOverlay=emt("overlay");ih.drawEdgeUnderlay=emt("underlay");ih.drawEdgePath=function(e,t,r,n){var a=e._private.rscratch,i=t,o,s=!1,l=this.usePaths(),u=e.pstyle("line-dash-pattern").pfValue,f=e.pstyle("line-dash-offset").pfValue;if(l){var h=r.join("$"),d=a.pathCacheKey&&a.pathCacheKey===h;d?(o=t=a.pathCache,s=!0):(o=t=new Path2D,a.pathCacheKey=h,a.pathCache=o)}if(i.setLineDash)switch(n){case"dotted":i.setLineDash([1,1]);break;case"dashed":i.setLineDash(u),i.lineDashOffset=f;break;case"solid":i.setLineDash([]);break}if(!s&&!a.badLine)switch(t.beginPath&&t.beginPath(),t.moveTo(r[0],r[1]),a.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var p=2;p+3<r.length;p+=4)t.quadraticCurveTo(r[p],r[p+1],r[p+2],r[p+3]);break;case"straight":case"haystack":for(var m=2;m+1<r.length;m+=2)t.lineTo(r[m],r[m+1]);break;case"segments":if(a.isRound){var g=qs(a.roundCorners),v;try{for(g.s();!(v=g.n()).done;){var y=v.value;W0t(t,y)}}catch(_){g.e(_)}finally{g.f()}t.lineTo(r[r.length-2],r[r.length-1])}else for(var b=2;b+1<r.length;b+=2)t.lineTo(r[b],r[b+1]);break}t=i,l?t.stroke(o):t.stroke(),t.setLineDash&&t.setLineDash([])};ih.drawEdgeTrianglePath=function(e,t,r){t.fillStyle=t.strokeStyle;for(var n=e.pstyle("width").pfValue,a=0;a+1<r.length;a+=2){var i=[r[a+2]-r[a],r[a+3]-r[a+1]],o=Math.sqrt(i[0]*i[0]+i[1]*i[1]),s=[i[1]/o,-i[0]/o],l=[s[0]*n/2,s[1]*n/2];t.beginPath(),t.moveTo(r[a]-l[0],r[a+1]-l[1]),t.lineTo(r[a]+l[0],r[a+1]+l[1]),t.lineTo(r[a+2],r[a+3]),t.closePath(),t.fill()}};ih.drawArrowheads=function(e,t,r){var n=t._private.rscratch,a=n.edgeType==="haystack";a||this.drawArrowhead(e,t,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,r),this.drawArrowhead(e,t,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,r),this.drawArrowhead(e,t,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,r),a||this.drawArrowhead(e,t,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,r)};ih.drawArrowhead=function(e,t,r,n,a,i,o){if(!(isNaN(n)||n==null||isNaN(a)||a==null||isNaN(i)||i==null)){var s=this,l=t.pstyle(r+"-arrow-shape").value;if(l!=="none"){var u=t.pstyle(r+"-arrow-fill").value==="hollow"?"both":"filled",f=t.pstyle(r+"-arrow-fill").value,h=t.pstyle("width").pfValue,d=t.pstyle(r+"-arrow-width"),p=d.value==="match-line"?h:d.pfValue;d.units==="%"&&(p*=h);var m=t.pstyle("opacity").value;o===void 0&&(o=m);var g=e.globalCompositeOperation;(o!==1||f==="hollow")&&(e.globalCompositeOperation="destination-out",s.colorFillStyle(e,255,255,255,1),s.colorStrokeStyle(e,255,255,255,1),s.drawArrowShape(t,e,u,h,l,p,n,a,i),e.globalCompositeOperation=g);var v=t.pstyle(r+"-arrow-color").value;s.colorFillStyle(e,v[0],v[1],v[2],o),s.colorStrokeStyle(e,v[0],v[1],v[2],o),s.drawArrowShape(t,e,f,h,l,p,n,a,i)}}};ih.drawArrowShape=function(e,t,r,n,a,i,o,s,l){var u=this,f=this.usePaths()&&a!=="triangle-cross",h=!1,d,p=t,m={x:o,y:s},g=e.pstyle("arrow-scale").value,v=this.getArrowWidth(n,g),y=u.arrowShapes[a];if(f){var b=u.arrowPathCache=u.arrowPathCache||[],_=Q0(a),k=b[_];k!=null?(d=t=k,h=!0):(d=t=new Path2D,b[_]=d)}h||(t.beginPath&&t.beginPath(),f?y.draw(t,1,0,{x:0,y:0},1):y.draw(t,v,l,m,n),t.closePath&&t.closePath()),t=p,f&&(t.translate(o,s),t.rotate(l),t.scale(v,v)),(r==="filled"||r==="both")&&(f?t.fill(d):t.fill()),(r==="hollow"||r==="both")&&(t.lineWidth=i/(f?v:1),t.lineJoin="miter",f?t.stroke(d):t.stroke()),f&&(t.scale(1/v,1/v),t.rotate(-l),t.translate(-o,-s))};IF={};IF.safeDrawImage=function(e,t,r,n,a,i,o,s,l,u){if(!(a<=0||i<=0||l<=0||u<=0))try{e.drawImage(t,r,n,a,i,o,s,l,u)}catch(f){An(f)}};IF.drawInscribedImage=function(e,t,r,n,a){var i=this,o=r.position(),s=o.x,l=o.y,u=r.cy().style(),f=u.getIndexedStyle.bind(u),h=f(r,"background-fit","value",n),d=f(r,"background-repeat","value",n),p=r.width(),m=r.height(),g=r.padding()*2,v=p+(f(r,"background-width-relative-to","value",n)==="inner"?0:g),y=m+(f(r,"background-height-relative-to","value",n)==="inner"?0:g),b=r._private.rscratch,_=f(r,"background-clip","value",n),k=_==="node",w=f(r,"background-image-opacity","value",n)*a,T=f(r,"background-image-smoothing","value",n),S=r.pstyle("corner-radius").value;S!=="auto"&&(S=r.pstyle("corner-radius").pfValue);var C=t.width||t.cachedW,M=t.height||t.cachedH;(C==null||M==null)&&(document.body.appendChild(t),C=t.cachedW=t.width||t.offsetWidth,M=t.cachedH=t.height||t.offsetHeight,document.body.removeChild(t));var N=C,L=M;if(f(r,"background-width","value",n)!=="auto"&&(f(r,"background-width","units",n)==="%"?N=f(r,"background-width","pfValue",n)*v:N=f(r,"background-width","pfValue",n)),f(r,"background-height","value",n)!=="auto"&&(f(r,"background-height","units",n)==="%"?L=f(r,"background-height","pfValue",n)*y:L=f(r,"background-height","pfValue",n)),!(N===0||L===0)){if(h==="contain"){var E=Math.min(v/N,y/L);N*=E,L*=E}else if(h==="cover"){var E=Math.max(v/N,y/L);N*=E,L*=E}var A=s-v/2,D=f(r,"background-position-x","units",n),R=f(r,"background-position-x","pfValue",n);D==="%"?A+=(v-N)*R:A+=R;var I=f(r,"background-offset-x","units",n),O=f(r,"background-offset-x","pfValue",n);I==="%"?A+=(v-N)*O:A+=O;var F=l-y/2,P=f(r,"background-position-y","units",n),q=f(r,"background-position-y","pfValue",n);P==="%"?F+=(y-L)*q:F+=q;var $=f(r,"background-offset-y","units",n),W=f(r,"background-offset-y","pfValue",n);$==="%"?F+=(y-L)*W:F+=W,b.pathCache&&(A-=s,F-=l,s=0,l=0);var X=e.globalAlpha;e.globalAlpha=w;var tt=i.getImgSmoothing(e),Y=!1;if(T==="no"&&tt?(i.setImgSmoothing(e,!1),Y=!0):T==="yes"&&!tt&&(i.setImgSmoothing(e,!0),Y=!0),d==="no-repeat")k&&(e.save(),b.pathCache?e.clip(b.pathCache):(i.nodeShapes[i.getNodeShape(r)].draw(e,s,l,v,y,S,b),e.clip())),i.safeDrawImage(e,t,0,0,C,M,A,F,N,L),k&&e.restore();else{var ot=e.createPattern(t,d);e.fillStyle=ot,i.nodeShapes[i.getNodeShape(r)].draw(e,s,l,v,y,S,b),e.translate(A,F),e.fill(),e.translate(-A,-F)}e.globalAlpha=X,Y&&i.setImgSmoothing(e,tt)}};nm={};nm.eleTextBiggerThanMin=function(e,t){if(!t){var r=e.cy().zoom(),n=this.getPixelRatio(),a=Math.ceil(gF(r*n));t=Math.pow(2,a)}var i=e.pstyle("font-size").pfValue*t,o=e.pstyle("min-zoomed-font-size").pfValue;return!(i<o)};nm.drawElementText=function(e,t,r,n,a){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this;if(n==null){if(i&&!o.eleTextBiggerThanMin(t))return}else if(n===!1)return;if(t.isNode()){var s=t.pstyle("label");if(!s||!s.value)return;var l=o.getLabelJustification(t);e.textAlign=l,e.textBaseline="bottom"}else{var u=t.element()._private.rscratch.badLine,f=t.pstyle("label"),h=t.pstyle("source-label"),d=t.pstyle("target-label");if(u||(!f||!f.value)&&(!h||!h.value)&&(!d||!d.value))return;e.textAlign="center",e.textBaseline="bottom"}var p=!r,m;r&&(m=r,e.translate(-m.x1,-m.y1)),a==null?(o.drawText(e,t,null,p,i),t.isEdge()&&(o.drawText(e,t,"source",p,i),o.drawText(e,t,"target",p,i))):o.drawText(e,t,a,p,i),r&&e.translate(m.x1,m.y1)};nm.getFontCache=function(e){var t;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if(t=this.fontCaches[r],t.context===e)return t;return t={context:e},this.fontCaches.push(t),t};nm.setupTextStyle=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=t.pstyle("font-style").strValue,a=t.pstyle("font-size").pfValue+"px",i=t.pstyle("font-family").strValue,o=t.pstyle("font-weight").strValue,s=r?t.effectiveOpacity()*t.pstyle("text-opacity").value:1,l=t.pstyle("text-outline-opacity").value*s,u=t.pstyle("color").value,f=t.pstyle("text-outline-color").value;e.font=n+" "+o+" "+a+" "+i,e.lineJoin="round",this.colorFillStyle(e,u[0],u[1],u[2],s),this.colorStrokeStyle(e,f[0],f[1],f[2],l)};nm.getTextAngle=function(e,t){var r,n=e._private,a=n.rscratch,i=t?t+"-":"",o=e.pstyle(i+"text-rotation");if(o.strValue==="autorotate"){var s=$s(a,"labelAngle",t);r=e.isEdge()?s:0}else o.strValue==="none"?r=0:r=o.pfValue;return r};nm.drawText=function(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=t._private,o=i.rscratch,s=a?t.effectiveOpacity():1;if(!(a&&(s===0||t.pstyle("text-opacity").value===0))){r==="main"&&(r=null);var l=$s(o,"labelX",r),u=$s(o,"labelY",r),f,h,d=this.getLabelText(t,r);if(d!=null&&d!==""&&!isNaN(l)&&!isNaN(u)){this.setupTextStyle(e,t,a);var p=r?r+"-":"",m=$s(o,"labelWidth",r),g=$s(o,"labelHeight",r),v=t.pstyle(p+"text-margin-x").pfValue,y=t.pstyle(p+"text-margin-y").pfValue,b=t.isEdge(),_=t.pstyle("text-halign").value,k=t.pstyle("text-valign").value;b&&(_="center",k="center"),l+=v,u+=y;var w;switch(n?w=this.getTextAngle(t,r):w=0,w!==0&&(f=l,h=u,e.translate(f,h),e.rotate(w),l=0,u=0),k){case"top":break;case"center":u+=g/2;break;case"bottom":u+=g;break}var T=t.pstyle("text-background-opacity").value,S=t.pstyle("text-border-opacity").value,C=t.pstyle("text-border-width").pfValue,M=t.pstyle("text-background-padding").pfValue,N=t.pstyle("text-background-shape").strValue,L=N==="round-rectangle"||N==="roundrectangle",E=N==="circle",A=2;if(T>0||C>0&&S>0){var D=e.fillStyle,R=e.strokeStyle,I=e.lineWidth,O=t.pstyle("text-background-color").value,F=t.pstyle("text-border-color").value,P=t.pstyle("text-border-style").value,q=T>0,$=C>0&&S>0,W=l-M;switch(_){case"left":W-=m;break;case"center":W-=m/2;break}var X=u-g-M,tt=m+2*M,Y=g+2*M;if(q&&(e.fillStyle="rgba(".concat(O[0],",").concat(O[1],",").concat(O[2],",").concat(T*s,")")),$&&(e.strokeStyle="rgba(".concat(F[0],",").concat(F[1],",").concat(F[2],",").concat(S*s,")"),e.lineWidth=C,e.setLineDash))switch(P){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"double":e.lineWidth=C/4,e.setLineDash([]);break;case"solid":default:e.setLineDash([]);break}if(L?(e.beginPath(),gpt(e,W,X,tt,Y,A)):E?(e.beginPath(),BXt(e,W,X,tt,Y)):(e.beginPath(),e.rect(W,X,tt,Y)),q&&e.fill(),$&&e.stroke(),$&&P==="double"){var ot=C/2;e.beginPath(),L?gpt(e,W+ot,X+ot,tt-2*ot,Y-2*ot,A):e.rect(W+ot,X+ot,tt-2*ot,Y-2*ot),e.stroke()}e.fillStyle=D,e.strokeStyle=R,e.lineWidth=I,e.setLineDash&&e.setLineDash([])}var Z=2*t.pstyle("text-outline-width").pfValue;if(Z>0&&(e.lineWidth=Z),t.pstyle("text-wrap").value==="wrap"){var ct=$s(o,"labelWrapCachedLines",r),rt=$s(o,"labelLineHeight",r),et=m/2,Q=this.getLabelJustification(t);switch(Q==="auto"||(_==="left"?Q==="left"?l+=-m:Q==="center"&&(l+=-et):_==="center"?Q==="left"?l+=-et:Q==="right"&&(l+=et):_==="right"&&(Q==="center"?l+=et:Q==="right"&&(l+=m))),k){case"top":u-=(ct.length-1)*rt;break;case"center":case"bottom":u-=(ct.length-1)*rt;break}for(var j=0;j<ct.length;j++)Z>0&&e.strokeText(ct[j],l,u),e.fillText(ct[j],l,u),u+=rt}else Z>0&&e.strokeText(d,l,u),e.fillText(d,l,u);w!==0&&(e.rotate(-w),e.translate(-f,-h))}}};Zd={};Zd.drawNode=function(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this,s,l,u=t._private,f=u.rscratch,h=t.position();if(!(!be(h.x)||!be(h.y))&&!(i&&!t.visible())){var d=i?t.effectiveOpacity():1,p=o.usePaths(),m,g=!1,v=t.padding();s=t.width()+2*v,l=t.height()+2*v;var y;r&&(y=r,e.translate(-y.x1,-y.y1));for(var b=t.pstyle("background-image"),_=b.value,k=new Array(_.length),w=new Array(_.length),T=0,S=0;S<_.length;S++){var C=_[S],M=k[S]=C!=null&&C!=="none";if(M){var N=t.cy().style().getIndexedStyle(t,"background-image-crossorigin","value",S);T++,w[S]=o.getCachedImage(C,N,function(){u.backgroundTimestamp=Date.now(),t.emitAndNotify("background")})}}var L=t.pstyle("background-blacken").value,E=t.pstyle("border-width").pfValue,A=t.pstyle("background-opacity").value*d,D=t.pstyle("border-color").value,R=t.pstyle("border-style").value,I=t.pstyle("border-join").value,O=t.pstyle("border-cap").value,F=t.pstyle("border-position").value,P=t.pstyle("border-dash-pattern").pfValue,q=t.pstyle("border-dash-offset").pfValue,$=t.pstyle("border-opacity").value*d,W=t.pstyle("outline-width").pfValue,X=t.pstyle("outline-color").value,tt=t.pstyle("outline-style").value,Y=t.pstyle("outline-opacity").value*d,ot=t.pstyle("outline-offset").value,Z=t.pstyle("corner-radius").value;Z!=="auto"&&(Z=t.pstyle("corner-radius").pfValue);var ct=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:A;o.eleFillStyle(e,t,H)},rt=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$;o.colorStrokeStyle(e,D[0],D[1],D[2],H)},et=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Y;o.colorStrokeStyle(e,X[0],X[1],X[2],H)},Q=function(H,ft,z,st){var lt=o.nodePathCache=o.nodePathCache||[],wt=zpt(z==="polygon"?z+","+st.join(","):z,""+ft,""+H,""+Z),vt=lt[wt],gt,Mt=!1;return vt!=null?(gt=vt,Mt=!0,f.pathCache=gt):(gt=new Path2D,lt[wt]=f.pathCache=gt),{path:gt,cacheHit:Mt}},j=t.pstyle("shape").strValue,it=t.pstyle("shape-polygon-points").pfValue;if(p){e.translate(h.x,h.y);var K=Q(s,l,j,it);m=K.path,g=K.cacheHit}var dt=function(){if(!g){var H=h;p&&(H={x:0,y:0}),o.nodeShapes[o.getNodeShape(t)].draw(m||e,H.x,H.y,s,l,Z,f)}p?e.fill(m):e.fill()},nt=function(){for(var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d,ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,z=u.backgrounding,st=0,lt=0;lt<w.length;lt++){var wt=t.cy().style().getIndexedStyle(t,"background-image-containment","value",lt);if(ft&&wt==="over"||!ft&&wt==="inside"){st++;continue}k[lt]&&w[lt].complete&&!w[lt].error&&(st++,o.drawInscribedImage(e,w[lt],t,lt,H))}u.backgrounding=st!==T,z!==u.backgrounding&&t.updateStyle(!1)},_t=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d;o.hasPie(t)&&(o.drawPie(e,t,ft),H&&(p||o.nodeShapes[o.getNodeShape(t)].draw(e,h.x,h.y,s,l,Z,f)))},V=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d;o.hasStripe(t)&&(e.save(),p?e.clip(f.pathCache):(o.nodeShapes[o.getNodeShape(t)].draw(e,h.x,h.y,s,l,Z,f),e.clip()),o.drawStripe(e,t,ft),e.restore(),H&&(p||o.nodeShapes[o.getNodeShape(t)].draw(e,h.x,h.y,s,l,Z,f)))},Ut=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d,ft=(L>0?L:-L)*H,z=L>0?0:255;L!==0&&(o.colorFillStyle(e,z,z,z,ft),p?e.fill(m):e.fill())},pt=function(){if(E>0){if(e.lineWidth=E,e.lineCap=O,e.lineJoin=I,e.setLineDash)switch(R){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash(P),e.lineDashOffset=q;break;case"solid":case"double":e.setLineDash([]);break}if(F!=="center"){if(e.save(),e.lineWidth*=2,F==="inside")p?e.clip(m):e.clip();else{var H=new Path2D;H.rect(-s/2-E,-l/2-E,s+2*E,l+2*E),H.addPath(m),e.clip(H,"evenodd")}p?e.stroke(m):e.stroke(),e.restore()}else p?e.stroke(m):e.stroke();if(R==="double"){e.lineWidth=E/3;var ft=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",p?e.stroke(m):e.stroke(),e.globalCompositeOperation=ft}e.setLineDash&&e.setLineDash([])}},Ft=function(){if(W>0){if(e.lineWidth=W,e.lineCap="butt",e.setLineDash)switch(tt){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"solid":case"double":e.setLineDash([]);break}var H=h;p&&(H={x:0,y:0});var ft=o.getNodeShape(t),z=E;F==="inside"&&(z=0),F==="outside"&&(z*=2);var st=(s+z+(W+ot))/s,lt=(l+z+(W+ot))/l,wt=s*st,vt=l*lt,gt=o.nodeShapes[ft].points,Mt;if(p){var St=Q(wt,vt,ft,gt);Mt=St.path}if(ft==="ellipse")o.drawEllipsePath(Mt||e,H.x,H.y,wt,vt);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(ft)){var Bt=0,jt=0,ue=0;ft==="round-diamond"?Bt=(z+ot+W)*1.4:ft==="round-heptagon"?(Bt=(z+ot+W)*1.075,ue=-(z/2+ot+W)/35):ft==="round-hexagon"?Bt=(z+ot+W)*1.12:ft==="round-pentagon"?(Bt=(z+ot+W)*1.13,ue=-(z/2+ot+W)/15):ft==="round-tag"?(Bt=(z+ot+W)*1.12,jt=(z/2+W+ot)*.07):ft==="round-triangle"&&(Bt=(z+ot+W)*(Math.PI/2),ue=-(z+ot/2+W)/Math.PI),Bt!==0&&(st=(s+Bt)/s,wt=s*st,["round-hexagon","round-tag"].includes(ft)||(lt=(l+Bt)/l,vt=l*lt)),Z=Z==="auto"?Kpt(wt,vt):Z;for(var Gt=wt/2,$t=vt/2,Xt=Z+(z+W+ot)/2,Wt=new Array(gt.length/2),ne=new Array(gt.length/2),Fe=0;Fe<gt.length/2;Fe++)Wt[Fe]={x:H.x+jt+Gt*gt[Fe*2],y:H.y+ue+$t*gt[Fe*2+1]};var de,we,oe,ie,fe=Wt.length;for(we=Wt[fe-1],de=0;de<fe;de++)oe=Wt[de%fe],ie=Wt[(de+1)%fe],ne[de]=LF(we,oe,ie,Xt),we=oe,oe=ie;o.drawRoundPolygonPath(Mt||e,H.x+jt,H.y+ue,s*st,l*lt,gt,ne)}else if(["roundrectangle","round-rectangle"].includes(ft))Z=Z==="auto"?Vd(wt,vt):Z,o.drawRoundRectanglePath(Mt||e,H.x,H.y,wt,vt,Z+(z+W+ot)/2);else if(["cutrectangle","cut-rectangle"].includes(ft))Z=Z==="auto"?xF():Z,o.drawCutRectanglePath(Mt||e,H.x,H.y,wt,vt,null,Z+(z+W+ot)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(ft))Z=Z==="auto"?Vd(wt,vt):Z,o.drawBottomRoundRectanglePath(Mt||e,H.x,H.y,wt,vt,Z+(z+W+ot)/2);else if(ft==="barrel")o.drawBarrelPath(Mt||e,H.x,H.y,wt,vt);else if(ft.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(ft)){var pe=(z+W+ot)/s;gt=MC(IC(gt,pe)),o.drawPolygonPath(Mt||e,H.x,H.y,s,l,gt)}else{var me=(z+W+ot)/s;gt=MC(IC(gt,-me)),o.drawPolygonPath(Mt||e,H.x,H.y,s,l,gt)}if(p?e.stroke(Mt):e.stroke(),tt==="double"){e.lineWidth=z/3;var se=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",p?e.stroke(Mt):e.stroke(),e.globalCompositeOperation=se}e.setLineDash&&e.setLineDash([])}},Yt=function(){a&&o.drawNodeOverlay(e,t,h,s,l)},Ht=function(){a&&o.drawNodeUnderlay(e,t,h,s,l)},Lt=function(){o.drawElementText(e,t,null,n)},Nt=t.pstyle("ghost").value==="yes";if(Nt){var It=t.pstyle("ghost-offset-x").pfValue,kt=t.pstyle("ghost-offset-y").pfValue,Pt=t.pstyle("ghost-opacity").value,ht=Pt*d;e.translate(It,kt),et(),Ft(),ct(Pt*A),dt(),nt(ht,!0),rt(Pt*$),pt(),_t(L!==0||E!==0),V(L!==0||E!==0),nt(ht,!1),Ut(ht),e.translate(-It,-kt)}p&&e.translate(-h.x,-h.y),Ht(),p&&e.translate(h.x,h.y),et(),Ft(),ct(),dt(),nt(d,!0),rt(),pt(),_t(L!==0||E!==0),V(L!==0||E!==0),nt(d,!1),Ut(),p&&e.translate(-h.x,-h.y),Lt(),Yt(),r&&e.translate(y.x1,y.y1)}};rmt=function(t){if(!["overlay","underlay"].includes(t))throw new Error("Invalid state");return function(r,n,a,i,o){var s=this;if(n.visible()){var l=n.pstyle("".concat(t,"-padding")).pfValue,u=n.pstyle("".concat(t,"-opacity")).value,f=n.pstyle("".concat(t,"-color")).value,h=n.pstyle("".concat(t,"-shape")).value,d=n.pstyle("".concat(t,"-corner-radius")).value;if(u>0){if(a=a||n.position(),i==null||o==null){var p=n.padding();i=n.width()+2*p,o=n.height()+2*p}s.colorFillStyle(r,f[0],f[1],f[2],u),s.nodeShapes[h].draw(r,a.x,a.y,i+l*2,o+l*2,d),r.fill()}}}};Zd.drawNodeOverlay=rmt("overlay");Zd.drawNodeUnderlay=rmt("underlay");Zd.hasPie=function(e){return e=e[0],e._private.hasPie};Zd.hasStripe=function(e){return e=e[0],e._private.hasStripe};Zd.drawPie=function(e,t,r,n){t=t[0],n=n||t.position();var a=t.cy().style(),i=t.pstyle("pie-size"),o=t.pstyle("pie-hole"),s=t.pstyle("pie-start-angle").pfValue,l=n.x,u=n.y,f=t.width(),h=t.height(),d=Math.min(f,h)/2,p,m=0,g=this.usePaths();if(g&&(l=0,u=0),i.units==="%"?d=d*i.pfValue:i.pfValue!==void 0&&(d=i.pfValue/2),o.units==="%"?p=d*o.pfValue:o.pfValue!==void 0&&(p=o.pfValue/2),!(p>=d))for(var v=1;v<=a.pieBackgroundN;v++){var y=t.pstyle("pie-"+v+"-background-size").value,b=t.pstyle("pie-"+v+"-background-color").value,_=t.pstyle("pie-"+v+"-background-opacity").value*r,k=y/100;k+m>1&&(k=1-m);var w=1.5*Math.PI+2*Math.PI*m;w+=s;var T=2*Math.PI*k,S=w+T;y===0||m>=1||m+k>1||(p===0?(e.beginPath(),e.moveTo(l,u),e.arc(l,u,d,w,S),e.closePath()):(e.beginPath(),e.arc(l,u,d,w,S),e.arc(l,u,p,S,w,!0),e.closePath()),this.colorFillStyle(e,b[0],b[1],b[2],_),e.fill(),m+=k)}};Zd.drawStripe=function(e,t,r,n){t=t[0],n=n||t.position();var a=t.cy().style(),i=n.x,o=n.y,s=t.width(),l=t.height(),u=0,f=this.usePaths();e.save();var h=t.pstyle("stripe-direction").value,d=t.pstyle("stripe-size");switch(h){case"vertical":break;case"righward":e.rotate(-Math.PI/2);break}var p=s,m=l;d.units==="%"?(p=p*d.pfValue,m=m*d.pfValue):d.pfValue!==void 0&&(p=d.pfValue,m=d.pfValue),f&&(i=0,o=0),o-=p/2,i-=m/2;for(var g=1;g<=a.stripeBackgroundN;g++){var v=t.pstyle("stripe-"+g+"-background-size").value,y=t.pstyle("stripe-"+g+"-background-color").value,b=t.pstyle("stripe-"+g+"-background-opacity").value*r,_=v/100;_+u>1&&(_=1-u),!(v===0||u>=1||u+_>1)&&(e.beginPath(),e.rect(i,o+m*u,p,m*_),e.closePath(),this.colorFillStyle(e,y[0],y[1],y[2],b),e.fill(),u+=_)}e.restore()};is={},$Xt=100;is.getPixelRatio=function(){var e=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var t=this.cy.window(),r=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(t.devicePixelRatio||1)/r};is.paintCache=function(e){for(var t=this.paintCaches=this.paintCaches||[],r=!0,n,a=0;a<t.length;a++)if(n=t[a],n.context===e){r=!1;break}return r&&(n={context:e},t.push(n)),n};is.createGradientStyleFor=function(e,t,r,n,a){var i,o=this.usePaths(),s=r.pstyle(t+"-gradient-stop-colors").value,l=r.pstyle(t+"-gradient-stop-positions").pfValue;if(n==="radial-gradient")if(r.isEdge()){var u=r.sourceEndpoint(),f=r.targetEndpoint(),h=r.midpoint(),d=Z0(u,h),p=Z0(f,h);i=e.createRadialGradient(h.x,h.y,0,h.x,h.y,Math.max(d,p))}else{var m=o?{x:0,y:0}:r.position(),g=r.paddedWidth(),v=r.paddedHeight();i=e.createRadialGradient(m.x,m.y,0,m.x,m.y,Math.max(g,v))}else if(r.isEdge()){var y=r.sourceEndpoint(),b=r.targetEndpoint();i=e.createLinearGradient(y.x,y.y,b.x,b.y)}else{var _=o?{x:0,y:0}:r.position(),k=r.paddedWidth(),w=r.paddedHeight(),T=k/2,S=w/2,C=r.pstyle("background-gradient-direction").value;switch(C){case"to-bottom":i=e.createLinearGradient(_.x,_.y-S,_.x,_.y+S);break;case"to-top":i=e.createLinearGradient(_.x,_.y+S,_.x,_.y-S);break;case"to-left":i=e.createLinearGradient(_.x+T,_.y,_.x-T,_.y);break;case"to-right":i=e.createLinearGradient(_.x-T,_.y,_.x+T,_.y);break;case"to-bottom-right":case"to-right-bottom":i=e.createLinearGradient(_.x-T,_.y-S,_.x+T,_.y+S);break;case"to-top-right":case"to-right-top":i=e.createLinearGradient(_.x-T,_.y+S,_.x+T,_.y-S);break;case"to-bottom-left":case"to-left-bottom":i=e.createLinearGradient(_.x+T,_.y-S,_.x-T,_.y+S);break;case"to-top-left":case"to-left-top":i=e.createLinearGradient(_.x+T,_.y+S,_.x-T,_.y-S);break}}if(!i)return null;for(var M=l.length===s.length,N=s.length,L=0;L<N;L++)i.addColorStop(M?l[L]:L/(N-1),"rgba("+s[L][0]+","+s[L][1]+","+s[L][2]+","+a+")");return i};is.gradientFillStyle=function(e,t,r,n){var a=this.createGradientStyleFor(e,"background",t,r,n);if(!a)return null;e.fillStyle=a};is.colorFillStyle=function(e,t,r,n,a){e.fillStyle="rgba("+t+","+r+","+n+","+a+")"};is.eleFillStyle=function(e,t,r){var n=t.pstyle("background-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientFillStyle(e,t,n,r);else{var a=t.pstyle("background-color").value;this.colorFillStyle(e,a[0],a[1],a[2],r)}};is.gradientStrokeStyle=function(e,t,r,n){var a=this.createGradientStyleFor(e,"line",t,r,n);if(!a)return null;e.strokeStyle=a};is.colorStrokeStyle=function(e,t,r,n,a){e.strokeStyle="rgba("+t+","+r+","+n+","+a+")"};is.eleStrokeStyle=function(e,t,r){var n=t.pstyle("line-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientStrokeStyle(e,t,n,r);else{var a=t.pstyle("line-color").value;this.colorStrokeStyle(e,a[0],a[1],a[2],r)}};is.matchCanvasSize=function(e){var t=this,r=t.data,n=t.findContainerClientCoords(),a=n[2],i=n[3],o=t.getPixelRatio(),s=t.motionBlurPxRatio;(e===t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE]||e===t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG])&&(o=s);var l=a*o,u=i*o,f;if(!(l===t.canvasWidth&&u===t.canvasHeight)){t.fontCaches=null;var h=r.canvasContainer;h.style.width=a+"px",h.style.height=i+"px";for(var d=0;d<t.CANVAS_LAYERS;d++)f=r.canvases[d],f.width=l,f.height=u,f.style.width=a+"px",f.style.height=i+"px";for(var d=0;d<t.BUFFER_COUNT;d++)f=r.bufferCanvases[d],f.width=l,f.height=u,f.style.width=a+"px",f.style.height=i+"px";t.textureMult=1,o<=1&&(f=r.bufferCanvases[t.TEXTURE_BUFFER],t.textureMult=2,f.width=l*t.textureMult,f.height=u*t.textureMult),t.canvasWidth=l,t.canvasHeight=u,t.pixelRatio=o}};is.renderTo=function(e,t,r,n){this.render({forcedContext:e,forcedZoom:t,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})};is.clearCanvas=function(){var e=this,t=e.data;function r(n){n.clearRect(0,0,e.canvasWidth,e.canvasHeight)}r(t.contexts[e.NODE]),r(t.contexts[e.DRAG])};is.render=function(e){var t=this;e=e||Gpt();var r=t.cy,n=e.forcedContext,a=e.drawAllLayers,i=e.drawOnlyNodeLayer,o=e.forcedZoom,s=e.forcedPan,l=e.forcedPxRatio===void 0?this.getPixelRatio():e.forcedPxRatio,u=t.data,f=u.canvasNeedsRedraw,h=t.textureOnViewport&&!n&&(t.pinching||t.hoverData.dragging||t.swipePanning||t.data.wheelZooming),d=e.motionBlur!==void 0?e.motionBlur:t.motionBlur,p=t.motionBlurPxRatio,m=r.hasCompoundNodes(),g=t.hoverData.draggingEles,v=!!(t.hoverData.selecting||t.touchData.selecting);d=d&&!n&&t.motionBlurEnabled&&!v;var y=d;n||(t.prevPxRatio!==l&&(t.invalidateContainerClientCoordsCache(),t.matchCanvasSize(t.container),t.redrawHint("eles",!0),t.redrawHint("drag",!0)),t.prevPxRatio=l),!n&&t.motionBlurTimeout&&clearTimeout(t.motionBlurTimeout),d&&(t.mbFrames==null&&(t.mbFrames=0),t.mbFrames++,t.mbFrames<3&&(y=!1),t.mbFrames>t.minMbLowQualFrames&&(t.motionBlurPxRatio=t.mbPxRBlurry)),t.clearingMotionBlur&&(t.motionBlurPxRatio=1),t.textureDrawLastFrame&&!h&&(f[t.NODE]=!0,f[t.SELECT_BOX]=!0);var b=r.style(),_=r.zoom(),k=o!==void 0?o:_,w=r.pan(),T={x:w.x,y:w.y},S={zoom:_,pan:{x:w.x,y:w.y}},C=t.prevViewport,M=C===void 0||S.zoom!==C.zoom||S.pan.x!==C.pan.x||S.pan.y!==C.pan.y;!M&&!(g&&!m)&&(t.motionBlurPxRatio=1),s&&(T=s),k*=l,T.x*=l,T.y*=l;var N=t.getCachedZSortedEles();function L(rt,et,Q,j,it){var K=rt.globalCompositeOperation;rt.globalCompositeOperation="destination-out",t.colorFillStyle(rt,255,255,255,t.motionBlurTransparency),rt.fillRect(et,Q,j,it),rt.globalCompositeOperation=K}function E(rt,et){var Q,j,it,K;!t.clearingMotionBlur&&(rt===u.bufferContexts[t.MOTIONBLUR_BUFFER_NODE]||rt===u.bufferContexts[t.MOTIONBLUR_BUFFER_DRAG])?(Q={x:w.x*p,y:w.y*p},j=_*p,it=t.canvasWidth*p,K=t.canvasHeight*p):(Q=T,j=k,it=t.canvasWidth,K=t.canvasHeight),rt.setTransform(1,0,0,1,0,0),et==="motionBlur"?L(rt,0,0,it,K):!n&&(et===void 0||et)&&rt.clearRect(0,0,it,K),a||(rt.translate(Q.x,Q.y),rt.scale(j,j)),s&&rt.translate(s.x,s.y),o&&rt.scale(o,o)}if(h||(t.textureDrawLastFrame=!1),h){if(t.textureDrawLastFrame=!0,!t.textureCache){t.textureCache={},t.textureCache.bb=r.mutableElements().boundingBox(),t.textureCache.texture=t.data.bufferCanvases[t.TEXTURE_BUFFER];var A=t.data.bufferContexts[t.TEXTURE_BUFFER];A.setTransform(1,0,0,1,0,0),A.clearRect(0,0,t.canvasWidth*t.textureMult,t.canvasHeight*t.textureMult),t.render({forcedContext:A,drawOnlyNodeLayer:!0,forcedPxRatio:l*t.textureMult});var S=t.textureCache.viewport={zoom:r.zoom(),pan:r.pan(),width:t.canvasWidth,height:t.canvasHeight};S.mpan={x:(0-S.pan.x)/S.zoom,y:(0-S.pan.y)/S.zoom}}f[t.DRAG]=!1,f[t.NODE]=!1;var D=u.contexts[t.NODE],R=t.textureCache.texture,S=t.textureCache.viewport;D.setTransform(1,0,0,1,0,0),d?L(D,0,0,S.width,S.height):D.clearRect(0,0,S.width,S.height);var I=b.core("outside-texture-bg-color").value,O=b.core("outside-texture-bg-opacity").value;t.colorFillStyle(D,I[0],I[1],I[2],O),D.fillRect(0,0,S.width,S.height);var _=r.zoom();E(D,!1),D.clearRect(S.mpan.x,S.mpan.y,S.width/S.zoom/l,S.height/S.zoom/l),D.drawImage(R,S.mpan.x,S.mpan.y,S.width/S.zoom/l,S.height/S.zoom/l)}else t.textureOnViewport&&!n&&(t.textureCache=null);var F=r.extent(),P=t.pinching||t.hoverData.dragging||t.swipePanning||t.data.wheelZooming||t.hoverData.draggingEles||t.cy.animated(),q=t.hideEdgesOnViewport&&P,$=[];if($[t.NODE]=!f[t.NODE]&&d&&!t.clearedForMotionBlur[t.NODE]||t.clearingMotionBlur,$[t.NODE]&&(t.clearedForMotionBlur[t.NODE]=!0),$[t.DRAG]=!f[t.DRAG]&&d&&!t.clearedForMotionBlur[t.DRAG]||t.clearingMotionBlur,$[t.DRAG]&&(t.clearedForMotionBlur[t.DRAG]=!0),f[t.NODE]||a||i||$[t.NODE]){var W=d&&!$[t.NODE]&&p!==1,D=n||(W?t.data.bufferContexts[t.MOTIONBLUR_BUFFER_NODE]:u.contexts[t.NODE]),X=d&&!W?"motionBlur":void 0;E(D,X),q?t.drawCachedNodes(D,N.nondrag,l,F):t.drawLayeredElements(D,N.nondrag,l,F),t.debug&&t.drawDebugPoints(D,N.nondrag),!a&&!d&&(f[t.NODE]=!1)}if(!i&&(f[t.DRAG]||a||$[t.DRAG])){var W=d&&!$[t.DRAG]&&p!==1,D=n||(W?t.data.bufferContexts[t.MOTIONBLUR_BUFFER_DRAG]:u.contexts[t.DRAG]);E(D,d&&!W?"motionBlur":void 0),q?t.drawCachedNodes(D,N.drag,l,F):t.drawCachedElements(D,N.drag,l,F),t.debug&&t.drawDebugPoints(D,N.drag),!a&&!d&&(f[t.DRAG]=!1)}if(this.drawSelectionRectangle(e,E),d&&p!==1){var tt=u.contexts[t.NODE],Y=t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE],ot=u.contexts[t.DRAG],Z=t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG],ct=function(et,Q,j){et.setTransform(1,0,0,1,0,0),j||!y?et.clearRect(0,0,t.canvasWidth,t.canvasHeight):L(et,0,0,t.canvasWidth,t.canvasHeight);var it=p;et.drawImage(Q,0,0,t.canvasWidth*it,t.canvasHeight*it,0,0,t.canvasWidth,t.canvasHeight)};(f[t.NODE]||$[t.NODE])&&(ct(tt,Y,$[t.NODE]),f[t.NODE]=!1),(f[t.DRAG]||$[t.DRAG])&&(ct(ot,Z,$[t.DRAG]),f[t.DRAG]=!1)}t.prevViewport=S,t.clearingMotionBlur&&(t.clearingMotionBlur=!1,t.motionBlurCleared=!0,t.motionBlur=!0),d&&(t.motionBlurTimeout=setTimeout(function(){t.motionBlurTimeout=null,t.clearedForMotionBlur[t.NODE]=!1,t.clearedForMotionBlur[t.DRAG]=!1,t.motionBlur=!1,t.clearingMotionBlur=!h,t.mbFrames=0,f[t.NODE]=!0,f[t.DRAG]=!0,t.redraw()},$Xt)),n||r.emit("render")};is.drawSelectionRectangle=function(e,t){var r=this,n=r.cy,a=r.data,i=n.style(),o=e.drawOnlyNodeLayer,s=e.drawAllLayers,l=a.canvasNeedsRedraw,u=e.forcedContext;if(r.showFps||!o&&l[r.SELECT_BOX]&&!s){var f=u||a.contexts[r.SELECT_BOX];if(t(f),r.selection[4]==1&&(r.hoverData.selecting||r.touchData.selecting)){var h=r.cy.zoom(),d=i.core("selection-box-border-width").value/h;f.lineWidth=d,f.fillStyle="rgba("+i.core("selection-box-color").value[0]+","+i.core("selection-box-color").value[1]+","+i.core("selection-box-color").value[2]+","+i.core("selection-box-opacity").value+")",f.fillRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]),d>0&&(f.strokeStyle="rgba("+i.core("selection-box-border-color").value[0]+","+i.core("selection-box-border-color").value[1]+","+i.core("selection-box-border-color").value[2]+","+i.core("selection-box-opacity").value+")",f.strokeRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]))}if(a.bgActivePosistion&&!r.hoverData.selecting){var h=r.cy.zoom(),p=a.bgActivePosistion;f.fillStyle="rgba("+i.core("active-bg-color").value[0]+","+i.core("active-bg-color").value[1]+","+i.core("active-bg-color").value[2]+","+i.core("active-bg-opacity").value+")",f.beginPath(),f.arc(p.x,p.y,i.core("active-bg-size").pfValue/h,0,2*Math.PI),f.fill()}var m=r.lastRedrawTime;if(r.showFps&&m){m=Math.round(m);var g=Math.round(1e3/m),v="1 frame = "+m+" ms = "+g+" fps";if(f.setTransform(1,0,0,1,0,0),f.fillStyle="rgba(255, 0, 0, 0.75)",f.strokeStyle="rgba(255, 0, 0, 0.75)",f.font="30px Arial",!a_){var y=f.measureText(v);a_=y.actualBoundingBoxAscent}f.fillText(v,0,a_);var b=60;f.strokeRect(0,a_+10,250,20),f.fillRect(0,a_+10,250*Math.min(g/b,1),20)}s||(l[r.SELECT_BOX]=!1)}};ypt=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});tjt=function(){function e(t,r,n,a){jd(this,e),this.debugID=Math.floor(Math.random()*1e4),this.r=t,this.texSize=r,this.texRows=n,this.texHeight=Math.floor(r/n),this.enableWrapping=!0,this.locked=!1,this.texture=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=a(t,r,r),this.scratch=a(t,r,this.texHeight,"scratch")}return Kd(e,[{key:"lock",value:function(){this.locked=!0}},{key:"getKeys",value:function(){return new Set(this.keyToLocation.keys())}},{key:"getScale",value:function(r){var n=r.w,a=r.h,i=this.texHeight,o=this.texSize,s=i/a,l=n*s,u=a*s;return l>o&&(s=o/n,l=n*s,u=a*s),{scale:s,texW:l,texH:u}}},{key:"draw",value:function(r,n,a){var i=this;if(this.locked)throw new Error("can't draw, atlas is locked");var o=this.texSize,s=this.texRows,l=this.texHeight,u=this.getScale(n),f=u.scale,h=u.texW,d=u.texH,p=function(_,k){if(a&&k){var w=k.context,T=_.x,S=_.row,C=T,M=l*S;w.save(),w.translate(C,M),w.scale(f,f),a(w,n),w.restore()}},m=[null,null],g=function(){p(i.freePointer,i.canvas),m[0]={x:i.freePointer.x,y:i.freePointer.row*l,w:h,h:d},m[1]={x:i.freePointer.x+h,y:i.freePointer.row*l,w:0,h:d},i.freePointer.x+=h,i.freePointer.x==o&&(i.freePointer.x=0,i.freePointer.row++)},v=function(){var _=i.scratch,k=i.canvas;_.clear(),p({x:0,row:0},_);var w=o-i.freePointer.x,T=h-w,S=l;{var C=i.freePointer.x,M=i.freePointer.row*l,N=w;k.context.drawImage(_,0,0,N,S,C,M,N,S),m[0]={x:C,y:M,w:N,h:d}}{var L=w,E=(i.freePointer.row+1)*l,A=T;k&&k.context.drawImage(_,L,0,A,S,0,E,A,S),m[1]={x:0,y:E,w:A,h:d}}i.freePointer.x=T,i.freePointer.row++},y=function(){i.freePointer.x=0,i.freePointer.row++};if(this.freePointer.x+h<=o)g();else{if(this.freePointer.row>=s-1)return!1;this.freePointer.x===o?(y(),g()):this.enableWrapping?v():(y(),g())}return this.keyToLocation.set(r,m),this.needsBuffer=!0,m}},{key:"getOffsets",value:function(r){return this.keyToLocation.get(r)}},{key:"isEmpty",value:function(){return this.freePointer.x===0&&this.freePointer.row===0}},{key:"canFit",value:function(r){if(this.locked)return!1;var n=this.texSize,a=this.texRows,i=this.getScale(r),o=i.texW;return this.freePointer.x+o>n?this.freePointer.row<a-1:!0}},{key:"bufferIfNeeded",value:function(r){this.texture||(this.texture=YXt(r,this.debugID)),this.needsBuffer&&(this.texture.buffer(this.canvas),this.needsBuffer=!1,this.locked&&(this.canvas=null,this.scratch=null))}},{key:"dispose",value:function(){this.texture&&(this.texture.deleteTexture(),this.texture=null),this.canvas=null,this.scratch=null,this.locked=!0}}])}(),ejt=function(){function e(t,r,n,a){jd(this,e),this.r=t,this.texSize=r,this.texRows=n,this.createTextureCanvas=a,this.atlases=[],this.styleKeyToAtlas=new Map,this.markedKeys=new Set}return Kd(e,[{key:"getKeys",value:function(){return new Set(this.styleKeyToAtlas.keys())}},{key:"_createAtlas",value:function(){var r=this.r,n=this.texSize,a=this.texRows,i=this.createTextureCanvas;return new tjt(r,n,a,i)}},{key:"_getScratchCanvas",value:function(){if(!this.scratch){var r=this.r,n=this.texSize,a=this.texRows,i=this.createTextureCanvas,o=Math.floor(n/a);this.scratch=i(r,n,o,"scratch")}return this.scratch}},{key:"draw",value:function(r,n,a){var i=this.styleKeyToAtlas.get(r);return i||(i=this.atlases[this.atlases.length-1],(!i||!i.canFit(n))&&(i&&i.lock(),i=this._createAtlas(),this.atlases.push(i)),i.draw(r,n,a),this.styleKeyToAtlas.set(r,i)),i}},{key:"getAtlas",value:function(r){return this.styleKeyToAtlas.get(r)}},{key:"hasAtlas",value:function(r){return this.styleKeyToAtlas.has(r)}},{key:"markKeyForGC",value:function(r){this.markedKeys.add(r)}},{key:"gc",value:function(){var r=this,n=this.markedKeys;if(n.size===0){console.log("nothing to garbage collect");return}var a=[],i=new Map,o=null,s=qs(this.atlases),l;try{var u=function(){var h=l.value,d=h.getKeys(),p=rjt(n,d);if(p.size===0)return a.push(h),d.forEach(function(w){return i.set(w,h)}),1;o||(o=r._createAtlas(),a.push(o));var m=qs(d),g;try{for(m.s();!(g=m.n()).done;){var v=g.value;if(!p.has(v)){var y=h.getOffsets(v),b=ii(y,2),_=b[0],k=b[1];o.canFit({w:_.w+k.w,h:_.h})||(o.lock(),o=r._createAtlas(),a.push(o)),h.canvas&&(r._copyTextureToNewAtlas(v,h,o),i.set(v,o))}}}catch(w){m.e(w)}finally{m.f()}h.dispose()};for(s.s();!(l=s.n()).done;)u()}catch(f){s.e(f)}finally{s.f()}this.atlases=a,this.styleKeyToAtlas=i,this.markedKeys=new Set}},{key:"_copyTextureToNewAtlas",value:function(r,n,a){var i=n.getOffsets(r),o=ii(i,2),s=o[0],l=o[1];if(l.w===0)a.draw(r,s,function(d){d.drawImage(n.canvas,s.x,s.y,s.w,s.h,0,0,s.w,s.h)});else{var u=this._getScratchCanvas();u.clear(),u.context.drawImage(n.canvas,s.x,s.y,s.w,s.h,0,0,s.w,s.h),u.context.drawImage(n.canvas,l.x,l.y,l.w,l.h,s.w,0,l.w,l.h);var f=s.w+l.w,h=s.h;a.draw(r,{w:f,h},function(d){d.drawImage(u,0,0,f,h,0,0,f,h)})}}},{key:"getCounts",value:function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}}}])}();njt=function(){function e(t,r){jd(this,e),this.r=t,this.globalOptions=r,this.atlasSize=r.webglTexSize,this.maxAtlasesPerBatch=r.webglTexPerBatch,this.renderTypes=new Map,this.collections=new Map,this.typeAndIdToKey=new Map}return Kd(e,[{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"addAtlasCollection",value:function(r,n){var a=this.globalOptions,i=a.webglTexSize,o=a.createTextureCanvas,s=n.texRows,l=this._cacheScratchCanvas(o),u=new ejt(this.r,i,s,l);this.collections.set(r,u)}},{key:"addRenderType",value:function(r,n){var a=n.collection;if(!this.collections.has(a))throw new Error("invalid atlas collection name '".concat(a,"'"));var i=this.collections.get(a),o=Ze({type:r,atlasCollection:i},n);this.renderTypes.set(r,o)}},{key:"getRenderTypeOpts",value:function(r){return this.renderTypes.get(r)}},{key:"getAtlasCollection",value:function(r){return this.collections.get(r)}},{key:"_cacheScratchCanvas",value:function(r){var n=-1,a=-1,i=null;return function(o,s,l,u){return u?((!i||s!=n||l!=a)&&(n=s,a=l,i=r(o,s,l)),i):r(o,s,l)}}},{key:"_key",value:function(r,n){return"".concat(r,"-").concat(n)}},{key:"invalidate",value:function(r){var n=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=a.forceRedraw,o=i===void 0?!1:i,s=a.filterEle,l=s===void 0?function(){return!0}:s,u=a.filterType,f=u===void 0?function(){return!0}:u,h=!1,d=!1,p=qs(r),m;try{for(p.s();!(m=p.n()).done;){var g=m.value;if(l(g)){var v=qs(this.renderTypes.values()),y;try{var b=function(){var k=y.value,w=k.type;if(f(w)){var T=n.collections.get(k.collection),S=k.getKey(g),C=Array.isArray(S)?S:[S];if(o)C.forEach(function(E){return T.markKeyForGC(E)}),d=!0;else{var M=k.getID?k.getID(g):g.id(),N=n._key(w,M),L=n.typeAndIdToKey.get(N);L!==void 0&&!VXt(C,L)&&(h=!0,n.typeAndIdToKey.delete(N),L.forEach(function(E){return T.markKeyForGC(E)}))}}};for(v.s();!(y=v.n()).done;)b()}catch(_){v.e(_)}finally{v.f()}}}}catch(_){p.e(_)}finally{p.f()}return d&&(this.gc(),h=!1),h}},{key:"gc",value:function(){var r=qs(this.collections.values()),n;try{for(r.s();!(n=r.n()).done;){var a=n.value;a.gc()}}catch(i){r.e(i)}finally{r.f()}}},{key:"getOrCreateAtlas",value:function(r,n,a,i){var o=this.renderTypes.get(n),s=this.collections.get(o.collection),l=!1,u=s.draw(i,a,function(d){o.drawClipped?(d.save(),d.beginPath(),d.rect(0,0,a.w,a.h),d.clip(),o.drawElement(d,r,a,!0,!0),d.restore()):o.drawElement(d,r,a,!0,!0),l=!0});if(l){var f=o.getID?o.getID(r):r.id(),h=this._key(n,f);this.typeAndIdToKey.has(h)?this.typeAndIdToKey.get(h).push(i):this.typeAndIdToKey.set(h,[i])}return u}},{key:"getAtlasInfo",value:function(r,n){var a=this,i=this.renderTypes.get(n),o=i.getKey(r),s=Array.isArray(o)?o:[o];return s.map(function(l){var u=i.getBoundingBox(r,l),f=a.getOrCreateAtlas(r,n,u,l),h=f.getOffsets(l),d=ii(h,2),p=d[0],m=d[1];return{atlas:f,tex:p,tex1:p,tex2:m,bb:u}})}},{key:"getDebugInfo",value:function(){var r=[],n=qs(this.collections),a;try{for(n.s();!(a=n.n()).done;){var i=ii(a.value,2),o=i[0],s=i[1],l=s.getCounts(),u=l.keyCount,f=l.atlasCount;r.push({type:o,keyCount:u,atlasCount:f})}}catch(h){n.e(h)}finally{n.f()}return r}}])}(),ajt=function(){function e(t){jd(this,e),this.globalOptions=t,this.atlasSize=t.webglTexSize,this.maxAtlasesPerBatch=t.webglTexPerBatch,this.batchAtlases=[]}return Kd(e,[{key:"getMaxAtlasesPerBatch",value:function(){return this.maxAtlasesPerBatch}},{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"getIndexArray",value:function(){return Array.from({length:this.maxAtlasesPerBatch},function(r,n){return n})}},{key:"startBatch",value:function(){this.batchAtlases=[]}},{key:"getAtlasCount",value:function(){return this.batchAtlases.length}},{key:"getAtlases",value:function(){return this.batchAtlases}},{key:"canAddToCurrentBatch",value:function(r){return this.batchAtlases.length===this.maxAtlasesPerBatch?this.batchAtlases.includes(r):!0}},{key:"getAtlasIndexForBatch",value:function(r){var n=this.batchAtlases.indexOf(r);if(n<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)throw new Error("cannot add more atlases to batch");this.batchAtlases.push(r),n=this.batchAtlases.length-1}return n}}])}(),ijt=`
  float circleSD(vec2 p, float r) {
    return distance(vec2(0), p) - r; // signed distance
  }
`,ojt=`
  float rectangleSD(vec2 p, vec2 b) {
    vec2 d = abs(p)-b;
    return distance(vec2(0),max(d,0.0)) + min(max(d.x,d.y),0.0);
  }
`,sjt=`
  float roundRectangleSD(vec2 p, vec2 b, vec4 cr) {
    cr.xy = (p.x > 0.0) ? cr.xy : cr.zw;
    cr.x  = (p.y > 0.0) ? cr.x  : cr.y;
    vec2 q = abs(p) - b + cr.x;
    return min(max(q.x, q.y), 0.0) + distance(vec2(0), max(q, 0.0)) - cr.x;
  }
`,ljt=`
  float ellipseSD(vec2 p, vec2 ab) {
    p = abs( p ); // symmetry

    // find root with Newton solver
    vec2 q = ab*(p-ab);
    float w = (q.x<q.y)? 1.570796327 : 0.0;
    for( int i=0; i<5; i++ ) {
      vec2 cs = vec2(cos(w),sin(w));
      vec2 u = ab*vec2( cs.x,cs.y);
      vec2 v = ab*vec2(-cs.y,cs.x);
      w = w + dot(p-u,v)/(dot(p-u,u)+dot(v,v));
    }
    
    // compute final point and distance
    float d = length(p-ab*vec2(cos(w),sin(w)));
    
    // return signed distance
    return (dot(p/ab,p/ab)>1.0) ? d : -d;
  }
`,h_={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},$C={IGNORE:1,USE_BB:2},BO=0,_pt=1,wpt=2,$O=3,G1=4,mC=5,i_=6,o_=7,ujt=function(){function e(t,r,n){jd(this,e),this.r=t,this.gl=r,this.maxInstances=n.webglBatchSize,this.atlasSize=n.webglTexSize,this.bgColor=n.bgColor,this.debug=n.webglDebug,this.batchDebugInfo=[],n.enableWrapping=!0,n.createTextureCanvas=qXt,this.atlasManager=new njt(t,n),this.batchManager=new ajt(n),this.simpleShapeOptions=new Map,this.program=this._createShaderProgram(h_.SCREEN),this.pickingProgram=this._createShaderProgram(h_.PICKING),this.vao=this._createVAO()}return Kd(e,[{key:"addAtlasCollection",value:function(r,n){this.atlasManager.addAtlasCollection(r,n)}},{key:"addTextureAtlasRenderType",value:function(r,n){this.atlasManager.addRenderType(r,n)}},{key:"addSimpleShapeRenderType",value:function(r,n){this.simpleShapeOptions.set(r,n)}},{key:"invalidate",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.type,i=this.atlasManager;return a?i.invalidate(r,{filterType:function(s){return s===a},forceRedraw:!0}):i.invalidate(r)}},{key:"gc",value:function(){this.atlasManager.gc()}},{key:"_createShaderProgram",value:function(r){var n=this.gl,a=`#version 300 es
      precision highp float;

      uniform mat3 uPanZoomMatrix;
      uniform int  uAtlasSize;
      
      // instanced
      in vec2 aPosition; // a vertex from the unit square
      
      in mat3 aTransform; // used to transform verticies, eg into a bounding box
      in int aVertType; // the type of thing we are rendering

      // the z-index that is output when using picking mode
      in vec4 aIndex;
      
      // For textures
      in int aAtlasId; // which shader unit/atlas to use
      in vec4 aTex; // x/y/w/h of texture in atlas

      // for edges
      in vec4 aPointAPointB;
      in vec4 aPointCPointD;
      in vec2 aLineWidth; // also used for node border width

      // simple shapes
      in vec4 aCornerRadius; // for round-rectangle [top-right, bottom-right, top-left, bottom-left]
      in vec4 aColor; // also used for edges
      in vec4 aBorderColor; // aLineWidth is used for border width

      // output values passed to the fragment shader
      out vec2 vTexCoord;
      out vec4 vColor;
      out vec2 vPosition;
      // flat values are not interpolated
      flat out int vAtlasId; 
      flat out int vVertType;
      flat out vec2 vTopRight;
      flat out vec2 vBotLeft;
      flat out vec4 vCornerRadius;
      flat out vec4 vBorderColor;
      flat out vec2 vBorderWidth;
      flat out vec4 vIndex;
      
      void main(void) {
        int vid = gl_VertexID;
        vec2 position = aPosition; // TODO make this a vec3, simplifies some code below

        if(aVertType == `.concat(BO,`) {
          float texX = aTex.x; // texture coordinates
          float texY = aTex.y;
          float texW = aTex.z;
          float texH = aTex.w;

          if(vid == 1 || vid == 2 || vid == 4) {
            texX += texW;
          }
          if(vid == 2 || vid == 4 || vid == 5) {
            texY += texH;
          }

          float d = float(uAtlasSize);
          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(G1," || aVertType == ").concat(o_,` 
             || aVertType == `).concat(mC," || aVertType == ").concat(i_,`) { // simple shapes

          // the bounding box is needed by the fragment shader
          vBotLeft  = (aTransform * vec3(0, 0, 1)).xy; // flat
          vTopRight = (aTransform * vec3(1, 1, 1)).xy; // flat
          vPosition = (aTransform * vec3(position, 1)).xy; // will be interpolated

          // calculations are done in the fragment shader, just pass these along
          vColor = aColor;
          vCornerRadius = aCornerRadius;
          vBorderColor = aBorderColor;
          vBorderWidth = aLineWidth;

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(_pt,`) {
          vec2 source = aPointAPointB.xy;
          vec2 target = aPointAPointB.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          // stretch the unit square into a long skinny rectangle
          vec2 xBasis = target - source;
          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));
          vec2 point = source + xBasis * position.x + yBasis * aLineWidth[0] * position.y;

          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);
          vColor = aColor;
        } 
        else if(aVertType == `).concat(wpt,`) {
          vec2 pointA = aPointAPointB.xy;
          vec2 pointB = aPointAPointB.zw;
          vec2 pointC = aPointCPointD.xy;
          vec2 pointD = aPointCPointD.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 p0, p1, p2, pos;
          if(position.x == 0.0) { // The left side of the unit square
            p0 = pointA;
            p1 = pointB;
            p2 = pointC;
            pos = position;
          } else { // The right side of the unit square, use same approach but flip the geometry upside down
            p0 = pointD;
            p1 = pointC;
            p2 = pointB;
            pos = vec2(0.0, -position.y);
          }

          vec2 p01 = p1 - p0;
          vec2 p12 = p2 - p1;
          vec2 p21 = p1 - p2;

          // Find the normal vector.
          vec2 tangent = normalize(normalize(p12) + normalize(p01));
          vec2 normal = vec2(-tangent.y, tangent.x);

          // Find the vector perpendicular to p0 -> p1.
          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));

          // Determine the bend direction.
          float sigma = sign(dot(p01 + p21, normal));
          float width = aLineWidth[0];

          if(sign(pos.y) == -sigma) {
            // This is an intersecting vertex. Adjust the position so that there's no overlap.
            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          } else {
            // This is a non-intersecting vertex. Treat it like a mitre join.
            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          }

          vColor = aColor;
        } 
        else if(aVertType == `).concat($O,` && vid < 3) {
          // massage the first triangle into an edge arrow
          if(vid == 0)
            position = vec2(-0.15, -0.3);
          if(vid == 1)
            position = vec2(  0.0,  0.0);
          if(vid == 2)
            position = vec2( 0.15, -0.3);

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
          vColor = aColor;
        }
        else {
          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space
        }

        vAtlasId = aAtlasId;
        vVertType = aVertType;
        vIndex = aIndex;
      }
    `),i=this.batchManager.getIndexArray(),o=`#version 300 es
      precision highp float;

      // declare texture unit for each texture atlas in the batch
      `.concat(i.map(function(u){return"uniform sampler2D uTexture".concat(u,";")}).join(`
	`),`

      uniform vec4 uBGColor;
      uniform float uZoom;

      in vec2 vTexCoord;
      in vec4 vColor;
      in vec2 vPosition; // model coordinates

      flat in int vAtlasId;
      flat in vec4 vIndex;
      flat in int vVertType;
      flat in vec2 vTopRight;
      flat in vec2 vBotLeft;
      flat in vec4 vCornerRadius;
      flat in vec4 vBorderColor;
      flat in vec2 vBorderWidth;

      out vec4 outColor;

      `).concat(ijt,`
      `).concat(ojt,`
      `).concat(sjt,`
      `).concat(ljt,`

      vec4 blend(vec4 top, vec4 bot) { // blend colors with premultiplied alpha
        return vec4( 
          top.rgb + (bot.rgb * (1.0 - top.a)),
          top.a   + (bot.a   * (1.0 - top.a)) 
        );
      }

      vec4 distInterp(vec4 cA, vec4 cB, float d) { // interpolate color using Signed Distance
        // scale to the zoom level so that borders don't look blurry when zoomed in
        // note 1.5 is an aribitrary value chosen because it looks good
        return mix(cA, cB, 1.0 - smoothstep(0.0, 1.5 / uZoom, abs(d))); 
      }

      void main(void) {
        if(vVertType == `).concat(BO,`) {
          // look up the texel from the texture unit
          `).concat(i.map(function(u){return"if(vAtlasId == ".concat(u,") outColor = texture(uTexture").concat(u,", vTexCoord);")}).join(`
	else `),`
        } 
        else if(vVertType == `).concat($O,`) {
          // mimics how canvas renderer uses context.globalCompositeOperation = 'destination-out';
          outColor = blend(vColor, uBGColor);
          outColor.a = 1.0; // make opaque, masks out line under arrow
        }
        else if(vVertType == `).concat(G1,` && vBorderWidth == vec2(0.0)) { // simple rectangle with no border
          outColor = vColor; // unit square is already transformed to the rectangle, nothing else needs to be done
        }
        else if(vVertType == `).concat(G1," || vVertType == ").concat(o_,` 
          || vVertType == `).concat(mC," || vVertType == ").concat(i_,`) { // use SDF

          float outerBorder = vBorderWidth[0];
          float innerBorder = vBorderWidth[1];
          float borderPadding = outerBorder * 2.0;
          float w = vTopRight.x - vBotLeft.x - borderPadding;
          float h = vTopRight.y - vBotLeft.y - borderPadding;
          vec2 b = vec2(w/2.0, h/2.0); // half width, half height
          vec2 p = vPosition - vec2(vTopRight.x - b[0] - outerBorder, vTopRight.y - b[1] - outerBorder); // translate to center

          float d; // signed distance
          if(vVertType == `).concat(G1,`) {
            d = rectangleSD(p, b);
          } else if(vVertType == `).concat(o_,` && w == h) {
            d = circleSD(p, b.x); // faster than ellipse
          } else if(vVertType == `).concat(o_,`) {
            d = ellipseSD(p, b);
          } else {
            d = roundRectangleSD(p, b, vCornerRadius.wzyx);
          }

          // use the distance to interpolate a color to smooth the edges of the shape, doesn't need multisampling
          // we must smooth colors inwards, because we can't change pixels outside the shape's bounding box
          if(d > 0.0) {
            if(d > outerBorder) {
              discard;
            } else {
              outColor = distInterp(vBorderColor, vec4(0), d - outerBorder);
            }
          } else {
            if(d > innerBorder) {
              vec4 outerColor = outerBorder == 0.0 ? vec4(0) : vBorderColor;
              vec4 innerBorderColor = blend(vBorderColor, vColor);
              outColor = distInterp(innerBorderColor, outerColor, d);
            } 
            else {
              vec4 outerColor;
              if(innerBorder == 0.0 && outerBorder == 0.0) {
                outerColor = vec4(0);
              } else if(innerBorder == 0.0) {
                outerColor = vBorderColor;
              } else {
                outerColor = blend(vBorderColor, vColor);
              }
              outColor = distInterp(vColor, outerColor, d - innerBorder);
            }
          }
        }
        else {
          outColor = vColor;
        }

        `).concat(r.picking?`if(outColor.a == 0.0) discard;
             else outColor = vIndex;`:"",`
      }
    `),s=zXt(n,a,o);s.aPosition=n.getAttribLocation(s,"aPosition"),s.aIndex=n.getAttribLocation(s,"aIndex"),s.aVertType=n.getAttribLocation(s,"aVertType"),s.aTransform=n.getAttribLocation(s,"aTransform"),s.aAtlasId=n.getAttribLocation(s,"aAtlasId"),s.aTex=n.getAttribLocation(s,"aTex"),s.aPointAPointB=n.getAttribLocation(s,"aPointAPointB"),s.aPointCPointD=n.getAttribLocation(s,"aPointCPointD"),s.aLineWidth=n.getAttribLocation(s,"aLineWidth"),s.aColor=n.getAttribLocation(s,"aColor"),s.aCornerRadius=n.getAttribLocation(s,"aCornerRadius"),s.aBorderColor=n.getAttribLocation(s,"aBorderColor"),s.uPanZoomMatrix=n.getUniformLocation(s,"uPanZoomMatrix"),s.uAtlasSize=n.getUniformLocation(s,"uAtlasSize"),s.uBGColor=n.getUniformLocation(s,"uBGColor"),s.uZoom=n.getUniformLocation(s,"uZoom"),s.uTextures=[];for(var l=0;l<this.batchManager.getMaxAtlasesPerBatch();l++)s.uTextures.push(n.getUniformLocation(s,"uTexture".concat(l)));return s}},{key:"_createVAO",value:function(){var r=[0,0,1,0,1,1,0,0,1,1,0,1];this.vertexCount=r.length/2;var n=this.maxInstances,a=this.gl,i=this.program,o=a.createVertexArray();return a.bindVertexArray(o),jXt(a,"vec2",i.aPosition,r),this.transformBuffer=KXt(a,n,i.aTransform),this.indexBuffer=Wc(a,n,"vec4",i.aIndex),this.vertTypeBuffer=Wc(a,n,"int",i.aVertType),this.atlasIdBuffer=Wc(a,n,"int",i.aAtlasId),this.texBuffer=Wc(a,n,"vec4",i.aTex),this.pointAPointBBuffer=Wc(a,n,"vec4",i.aPointAPointB),this.pointCPointDBuffer=Wc(a,n,"vec4",i.aPointCPointD),this.lineWidthBuffer=Wc(a,n,"vec2",i.aLineWidth),this.colorBuffer=Wc(a,n,"vec4",i.aColor),this.cornerRadiusBuffer=Wc(a,n,"vec4",i.aCornerRadius),this.borderColorBuffer=Wc(a,n,"vec4",i.aBorderColor),a.bindVertexArray(null),o}},{key:"buffers",get:function(){var r=this;return this._buffers||(this._buffers=Object.keys(this).filter(function(n){return Bd(n,"Buffer")}).map(function(n){return r[n]})),this._buffers}},{key:"startFrame",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h_.SCREEN;this.panZoomMatrix=r,this.renderTarget=n,this.batchDebugInfo=[],this.wrappedCount=0,this.simpleCount=0,this.startBatch()}},{key:"startBatch",value:function(){this.instanceCount=0,this.batchManager.startBatch()}},{key:"endFrame",value:function(){this.endBatch()}},{key:"_isVisible",value:function(r,n){return r.visible()?n&&n.isVisible?n.isVisible(r):!0:!1}},{key:"drawTexture",value:function(r,n,a){var i=this.atlasManager,o=this.batchManager,s=i.getRenderTypeOpts(a);if(this._isVisible(r,s)&&!(r.isEdge()&&!this._isValidEdge(r))){if(this.renderTarget.picking&&s.getTexPickingMode){var l=s.getTexPickingMode(r);if(l===$C.IGNORE)return;if(l==$C.USE_BB){this.drawPickingRectangle(r,n,a);return}}var u=i.getAtlasInfo(r,a),f=qs(u),h;try{for(f.s();!(h=f.n()).done;){var d=h.value,p=d.atlas,m=d.tex1,g=d.tex2;o.canAddToCurrentBatch(p)||this.endBatch();for(var v=o.getAtlasIndexForBatch(p),y=0,b=[[m,!0],[g,!1]];y<b.length;y++){var _=ii(b[y],2),k=_[0],w=_[1];if(k.w!=0){var T=this.instanceCount;this.vertTypeBuffer.getView(T)[0]=BO;var S=this.indexBuffer.getView(T);W1(n,S);var C=this.atlasIdBuffer.getView(T);C[0]=v;var M=this.texBuffer.getView(T);M[0]=k.x,M[1]=k.y,M[2]=k.w,M[3]=k.h;var N=this.transformBuffer.getMatrixView(T);this.setTransformMatrix(r,N,s,d,w),this.instanceCount++,w||this.wrappedCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}catch(L){f.e(L)}finally{f.f()}}}},{key:"setTransformMatrix",value:function(r,n,a,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=0;if(a.shapeProps&&a.shapeProps.padding&&(s=r.pstyle(a.shapeProps.padding).pfValue),i){var l=i.bb,u=i.tex1,f=i.tex2,h=u.w/(u.w+f.w);o||(h=1-h);var d=this._getAdjustedBB(l,s,o,h);this._applyTransformMatrix(n,d,a,r)}else{var p=a.getBoundingBox(r),m=this._getAdjustedBB(p,s,!0,1);this._applyTransformMatrix(n,m,a,r)}}},{key:"_applyTransformMatrix",value:function(r,n,a,i){var o,s;xpt(r);var l=a.getRotation?a.getRotation(i):0;if(l!==0){var u=a.getRotationPoint(i),f=u.x,h=u.y;CC(r,r,[f,h]),bpt(r,r,l);var d=a.getRotationOffset(i);o=d.x+(n.xOffset||0),s=d.y+(n.yOffset||0)}else o=n.x1,s=n.y1;CC(r,r,[o,s]),iF(r,r,[n.w,n.h])}},{key:"_getAdjustedBB",value:function(r,n,a,i){var o=r.x1,s=r.y1,l=r.w,u=r.h,f=r.yOffset;n&&(o-=n,s-=n,l+=2*n,u+=2*n);var h=0,d=l*i;return a&&i<1?l=d:!a&&i<1&&(h=l-d,o+=h,l=d),{x1:o,y1:s,w:l,h:u,xOffset:h,yOffset:f}}},{key:"drawPickingRectangle",value:function(r,n,a){var i=this.atlasManager.getRenderTypeOpts(a),o=this.instanceCount;this.vertTypeBuffer.getView(o)[0]=G1;var s=this.indexBuffer.getView(o);W1(n,s);var l=this.colorBuffer.getView(o);G0([0,0,0],1,l);var u=this.transformBuffer.getMatrixView(o);this.setTransformMatrix(r,u,i),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}},{key:"drawNode",value:function(r,n,a){var i=this.simpleShapeOptions.get(a);if(this._isVisible(r,i)){var o=i.shapeProps,s=this._getVertTypeForShape(r,o.shape);if(s===void 0||i.isSimple&&!i.isSimple(r)){this.drawTexture(r,n,a);return}var l=this.instanceCount;if(this.vertTypeBuffer.getView(l)[0]=s,s===mC||s===i_){var u=i.getBoundingBox(r),f=this._getCornerRadius(r,o.radius,u),h=this.cornerRadiusBuffer.getView(l);h[0]=f,h[1]=f,h[2]=f,h[3]=f,s===i_&&(h[0]=0,h[2]=0)}var d=this.indexBuffer.getView(l);W1(n,d);var p=r.pstyle(o.color).value,m=r.pstyle(o.opacity).value,g=this.colorBuffer.getView(l);G0(p,m,g);var v=this.lineWidthBuffer.getView(l);if(v[0]=0,v[1]=0,o.border){var y=r.pstyle("border-width").value;if(y>0){var b=r.pstyle("border-color").value,_=r.pstyle("border-opacity").value,k=this.borderColorBuffer.getView(l);G0(b,_,k);var w=r.pstyle("border-position").value;if(w==="inside")v[0]=0,v[1]=-y;else if(w==="outside")v[0]=y,v[1]=0;else{var T=y/2;v[0]=T,v[1]=-T}}}var S=this.transformBuffer.getMatrixView(l);this.setTransformMatrix(r,S,i),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"_getVertTypeForShape",value:function(r,n){var a=r.pstyle(n).value;switch(a){case"rectangle":return G1;case"ellipse":return o_;case"roundrectangle":case"round-rectangle":return mC;case"bottom-round-rectangle":return i_;default:return}}},{key:"_getCornerRadius",value:function(r,n,a){var i=a.w,o=a.h;if(r.pstyle(n).value==="auto")return Vd(i,o);var s=r.pstyle(n).pfValue,l=i/2,u=o/2;return Math.min(s,u,l)}},{key:"drawEdgeArrow",value:function(r,n,a){if(r.visible()){var i=r._private.rscratch,o,s,l;if(a==="source"?(o=i.arrowStartX,s=i.arrowStartY,l=i.srcArrowAngle):(o=i.arrowEndX,s=i.arrowEndY,l=i.tgtArrowAngle),!(isNaN(o)||o==null||isNaN(s)||s==null||isNaN(l)||l==null)){var u=r.pstyle(a+"-arrow-shape").value;if(u!=="none"){var f=r.pstyle(a+"-arrow-color").value,h=r.pstyle("opacity").value,d=r.pstyle("line-opacity").value,p=h*d,m=r.pstyle("width").pfValue,g=r.pstyle("arrow-scale").value,v=this.r.getArrowWidth(m,g),y=this.instanceCount,b=this.transformBuffer.getMatrixView(y);xpt(b),CC(b,b,[o,s]),iF(b,b,[v,v]),bpt(b,b,l),this.vertTypeBuffer.getView(y)[0]=$O;var _=this.indexBuffer.getView(y);W1(n,_);var k=this.colorBuffer.getView(y);G0(f,p,k),this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"drawEdgeLine",value:function(r,n){if(r.visible()){var a=this._getEdgePoints(r);if(a){var i=r.pstyle("opacity").value,o=r.pstyle("line-opacity").value,s=r.pstyle("width").pfValue,l=r.pstyle("line-color").value,u=i*o;if(a.length/2+this.instanceCount>this.maxInstances&&this.endBatch(),a.length==4){var f=this.instanceCount;this.vertTypeBuffer.getView(f)[0]=_pt;var h=this.indexBuffer.getView(f);W1(n,h);var d=this.colorBuffer.getView(f);G0(l,u,d);var p=this.lineWidthBuffer.getView(f);p[0]=s;var m=this.pointAPointBBuffer.getView(f);m[0]=a[0],m[1]=a[1],m[2]=a[2],m[3]=a[3],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}else for(var g=0;g<a.length-2;g+=2){var v=this.instanceCount;this.vertTypeBuffer.getView(v)[0]=wpt;var y=this.indexBuffer.getView(v);W1(n,y);var b=this.colorBuffer.getView(v);G0(l,u,b);var _=this.lineWidthBuffer.getView(v);_[0]=s;var k=a[g-2],w=a[g-1],T=a[g],S=a[g+1],C=a[g+2],M=a[g+3],N=a[g+4],L=a[g+5];g==0&&(k=2*T-C+.001,w=2*S-M+.001),g==a.length-4&&(N=2*C-T+.001,L=2*M-S+.001);var E=this.pointAPointBBuffer.getView(v);E[0]=k,E[1]=w,E[2]=T,E[3]=S;var A=this.pointCPointDBuffer.getView(v);A[0]=C,A[1]=M,A[2]=N,A[3]=L,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"_isValidEdge",value:function(r){var n=r._private.rscratch;return!(n.badLine||n.allpts==null||isNaN(n.allpts[0]))}},{key:"_getEdgePoints",value:function(r){var n=r._private.rscratch;if(this._isValidEdge(r)){var a=n.allpts;if(a.length==4)return a;var i=this._getNumSegments(r);return this._getCurveSegmentPoints(a,i)}}},{key:"_getNumSegments",value:function(r){var n=15;return Math.min(Math.max(n,5),this.maxInstances)}},{key:"_getCurveSegmentPoints",value:function(r,n){if(r.length==4)return r;for(var a=Array((n+1)*2),i=0;i<=n;i++)if(i==0)a[0]=r[0],a[1]=r[1];else if(i==n)a[i*2]=r[r.length-2],a[i*2+1]=r[r.length-1];else{var o=i/n;this._setCurvePoint(r,o,a,i*2)}return a}},{key:"_setCurvePoint",value:function(r,n,a,i){if(r.length<=2)a[i]=r[0],a[i+1]=r[1];else{for(var o=Array(r.length-2),s=0;s<o.length;s+=2){var l=(1-n)*r[s]+n*r[s+2],u=(1-n)*r[s+1]+n*r[s+3];o[s]=l,o[s+1]=u}return this._setCurvePoint(o,n,a,i)}}},{key:"endBatch",value:function(){var r=this.gl,n=this.vao,a=this.vertexCount,i=this.instanceCount;if(i!==0){var o=this.renderTarget.picking?this.pickingProgram:this.program;r.useProgram(o),r.bindVertexArray(n);var s=qs(this.buffers),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;u.bufferSubData(i)}}catch(m){s.e(m)}finally{s.f()}for(var f=this.batchManager.getAtlases(),h=0;h<f.length;h++)f[h].bufferIfNeeded(r);for(var d=0;d<f.length;d++)r.activeTexture(r.TEXTURE0+d),r.bindTexture(r.TEXTURE_2D,f[d].texture),r.uniform1i(o.uTextures[d],d);r.uniform1f(o.uZoom,UXt(this.r)),r.uniformMatrix3fv(o.uPanZoomMatrix,!1,this.panZoomMatrix),r.uniform1i(o.uAtlasSize,this.batchManager.getAtlasSize());var p=G0(this.bgColor,1);r.uniform4fv(o.uBGColor,p),r.drawArraysInstanced(r.TRIANGLES,0,a,i),r.bindVertexArray(null),r.bindTexture(r.TEXTURE_2D,null),this.debug&&this.batchDebugInfo.push({count:i,atlasCount:f.length}),this.startBatch()}}},{key:"getDebugInfo",value:function(){var r=this.atlasManager.getDebugInfo(),n=r.reduce(function(o,s){return o+s.atlasCount},0),a=this.batchDebugInfo,i=a.reduce(function(o,s){return o+s.count},0);return{atlasInfo:r,totalAtlases:n,wrappedCount:this.wrappedCount,simpleCount:this.simpleCount,batchCount:a.length,batchInfo:a,totalInstances:i}}}])}(),imt={};imt.initWebgl=function(e,t){var r=this,n=r.data.contexts[r.WEBGL];e.bgColor=cjt(r),e.webglTexSize=Math.min(e.webglTexSize,n.getParameter(n.MAX_TEXTURE_SIZE)),e.webglTexRows=Math.min(e.webglTexRows,54),e.webglTexRowsNodes=Math.min(e.webglTexRowsNodes,54),e.webglBatchSize=Math.min(e.webglBatchSize,16384),e.webglTexPerBatch=Math.min(e.webglTexPerBatch,n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS)),r.webglDebug=e.webglDebug,r.webglDebugShowAtlases=e.webglDebugShowAtlases,r.pickingFrameBuffer=QXt(n),r.pickingFrameBuffer.needsDraw=!0,r.drawing=new ujt(r,n,e);var a=function(h){return function(d){return r.getTextAngle(d,h)}},i=function(h){return function(d){var p=d.pstyle(h);return p&&p.value}},o=function(h){return function(d){return d.pstyle("".concat(h,"-opacity")).value>0}},s=function(h){var d=h.pstyle("text-events").strValue==="yes";return d?$C.USE_BB:$C.IGNORE},l=function(h){var d=h.position(),p=d.x,m=d.y,g=h.outerWidth(),v=h.outerHeight();return{w:g,h:v,x1:p-g/2,y1:m-v/2}};r.drawing.addAtlasCollection("node",{texRows:e.webglTexRowsNodes}),r.drawing.addAtlasCollection("label",{texRows:e.webglTexRows}),r.drawing.addTextureAtlasRenderType("node-body",{collection:"node",getKey:t.getStyleKey,getBoundingBox:t.getElementBox,drawElement:t.drawElement}),r.drawing.addSimpleShapeRenderType("node-body",{getBoundingBox:l,isSimple:GXt,shapeProps:{shape:"shape",color:"background-color",opacity:"background-opacity",radius:"corner-radius",border:!0}}),r.drawing.addSimpleShapeRenderType("node-overlay",{getBoundingBox:l,isVisible:o("overlay"),shapeProps:{shape:"overlay-shape",color:"overlay-color",opacity:"overlay-opacity",padding:"overlay-padding",radius:"overlay-corner-radius"}}),r.drawing.addSimpleShapeRenderType("node-underlay",{getBoundingBox:l,isVisible:o("underlay"),shapeProps:{shape:"underlay-shape",color:"underlay-color",opacity:"underlay-opacity",padding:"underlay-padding",radius:"underlay-corner-radius"}}),r.drawing.addTextureAtlasRenderType("label",{collection:"label",getTexPickingMode:s,getKey:zO(t.getLabelKey,null),getBoundingBox:qO(t.getLabelBox,null),drawClipped:!0,drawElement:t.drawLabel,getRotation:a(null),getRotationPoint:t.getLabelRotationPoint,getRotationOffset:t.getLabelRotationOffset,isVisible:i("label")}),r.drawing.addTextureAtlasRenderType("edge-source-label",{collection:"label",getTexPickingMode:s,getKey:zO(t.getSourceLabelKey,"source"),getBoundingBox:qO(t.getSourceLabelBox,"source"),drawClipped:!0,drawElement:t.drawSourceLabel,getRotation:a("source"),getRotationPoint:t.getSourceLabelRotationPoint,getRotationOffset:t.getSourceLabelRotationOffset,isVisible:i("source-label")}),r.drawing.addTextureAtlasRenderType("edge-target-label",{collection:"label",getTexPickingMode:s,getKey:zO(t.getTargetLabelKey,"target"),getBoundingBox:qO(t.getTargetLabelBox,"target"),drawClipped:!0,drawElement:t.drawTargetLabel,getRotation:a("target"),getRotationPoint:t.getTargetLabelRotationPoint,getRotationOffset:t.getTargetLabelRotationOffset,isVisible:i("target-label")});var u=D_(function(){console.log("garbage collect flag set"),r.data.gc=!0},1e4);r.onUpdateEleCalcs(function(f,h){var d=!1;h&&h.length>0&&(d|=r.drawing.invalidate(h)),d&&u()}),fjt(r)};zO=function(t,r){return function(n){var a=t(n),i=omt(n,r);return i.length>1?i.map(function(o,s){return"".concat(a,"_").concat(s)}):a}},qO=function(t,r){return function(n,a){var i=t(n);if(typeof a=="string"){var o=a.indexOf("_");if(o>0){var s=Number(a.substring(o+1)),l=omt(n,r),u=i.h/l.length,f=u*s,h=i.y1+f;return{x1:i.x1,w:i.w,y1:h,h:u,yOffset:f}}}return i}};Jd={};Jd.drawPolygonPath=function(e,t,r,n,a,i){var o=n/2,s=a/2;e.beginPath&&e.beginPath(),e.moveTo(t+o*i[0],r+s*i[1]);for(var l=1;l<i.length/2;l++)e.lineTo(t+o*i[l*2],r+s*i[l*2+1]);e.closePath()};Jd.drawRoundPolygonPath=function(e,t,r,n,a,i,o){o.forEach(function(s){return W0t(e,s)}),e.closePath()};Jd.drawRoundRectanglePath=function(e,t,r,n,a,i){var o=n/2,s=a/2,l=i==="auto"?Vd(n,a):Math.min(i,s,o);e.beginPath&&e.beginPath(),e.moveTo(t,r-s),e.arcTo(t+o,r-s,t+o,r,l),e.arcTo(t+o,r+s,t,r+s,l),e.arcTo(t-o,r+s,t-o,r,l),e.arcTo(t-o,r-s,t,r-s,l),e.lineTo(t,r-s),e.closePath()};Jd.drawBottomRoundRectanglePath=function(e,t,r,n,a,i){var o=n/2,s=a/2,l=i==="auto"?Vd(n,a):i;e.beginPath&&e.beginPath(),e.moveTo(t,r-s),e.lineTo(t+o,r-s),e.lineTo(t+o,r),e.arcTo(t+o,r+s,t,r+s,l),e.arcTo(t-o,r+s,t-o,r,l),e.lineTo(t-o,r-s),e.lineTo(t,r-s),e.closePath()};Jd.drawCutRectanglePath=function(e,t,r,n,a,i,o){var s=n/2,l=a/2,u=o==="auto"?xF():o;e.beginPath&&e.beginPath(),e.moveTo(t-s+u,r-l),e.lineTo(t+s-u,r-l),e.lineTo(t+s,r-l+u),e.lineTo(t+s,r+l-u),e.lineTo(t+s-u,r+l),e.lineTo(t-s+u,r+l),e.lineTo(t-s,r+l-u),e.lineTo(t-s,r-l+u),e.closePath()};Jd.drawBarrelPath=function(e,t,r,n,a){var i=n/2,o=a/2,s=t-i,l=t+i,u=r-o,f=r+o,h=VO(n,a),d=h.widthOffset,p=h.heightOffset,m=h.ctrlPtOffsetPct*d;e.beginPath&&e.beginPath(),e.moveTo(s,u+p),e.lineTo(s,f-p),e.quadraticCurveTo(s+m,f,s+d,f),e.lineTo(l-d,f),e.quadraticCurveTo(l-m,f,l,f-p),e.lineTo(l,u+p),e.quadraticCurveTo(l-m,u,l-d,u),e.lineTo(s+d,u),e.quadraticCurveTo(s+m,u,s,u+p),e.closePath()};Tpt=Math.sin(0),Ept=Math.cos(0),oF={},sF={},umt=Math.PI/40;for(V0=0*Math.PI;V0<2*Math.PI;V0+=umt)oF[V0]=Math.sin(V0),sF[V0]=Math.cos(V0);Jd.drawEllipsePath=function(e,t,r,n,a){if(e.beginPath&&e.beginPath(),e.ellipse)e.ellipse(t,r,n/2,a/2,0,0,2*Math.PI);else for(var i,o,s=n/2,l=a/2,u=0*Math.PI;u<2*Math.PI;u+=umt)i=t-s*oF[u]*Tpt+s*sF[u]*Ept,o=r+l*sF[u]*Tpt+l*oF[u]*Ept,u===0?e.moveTo(i,o):e.lineTo(i,o);e.closePath()};N_={};N_.createBuffer=function(e,t){var r=document.createElement("canvas");return r.width=e,r.height=t,[r,r.getContext("2d")]};N_.bufferCanvasImage=function(e){var t=this.cy,r=t.mutableElements(),n=r.boundingBox(),a=this.findContainerClientCoords(),i=e.full?Math.ceil(n.w):a[2],o=e.full?Math.ceil(n.h):a[3],s=be(e.maxWidth)||be(e.maxHeight),l=this.getPixelRatio(),u=1;if(e.scale!==void 0)i*=e.scale,o*=e.scale,u=e.scale;else if(s){var f=1/0,h=1/0;be(e.maxWidth)&&(f=u*e.maxWidth/i),be(e.maxHeight)&&(h=u*e.maxHeight/o),u=Math.min(f,h),i*=u,o*=u}s||(i*=l,o*=l,u*=l);var d=document.createElement("canvas");d.width=i,d.height=o,d.style.width=i+"px",d.style.height=o+"px";var p=d.getContext("2d");if(i>0&&o>0){p.clearRect(0,0,i,o),p.globalCompositeOperation="source-over";var m=this.getCachedZSortedEles();if(e.full)p.translate(-n.x1*u,-n.y1*u),p.scale(u,u),this.drawElements(p,m),p.scale(1/u,1/u),p.translate(n.x1*u,n.y1*u);else{var g=t.pan(),v={x:g.x*u,y:g.y*u};u*=t.zoom(),p.translate(v.x,v.y),p.scale(u,u),this.drawElements(p,m),p.scale(1/u,1/u),p.translate(-v.x,-v.y)}e.bg&&(p.globalCompositeOperation="destination-over",p.fillStyle=e.bg,p.rect(0,0,i,o),p.fill())}return d};N_.png=function(e){return cmt(e,this.bufferCanvasImage(e),"image/png")};N_.jpg=function(e){return cmt(e,this.bufferCanvasImage(e),"image/jpeg")};fmt={};fmt.nodeShapeImpl=function(e,t,r,n,a,i,o,s){switch(e){case"ellipse":return this.drawEllipsePath(t,r,n,a,i);case"polygon":return this.drawPolygonPath(t,r,n,a,i,o);case"round-polygon":return this.drawRoundPolygonPath(t,r,n,a,i,o,s);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(t,r,n,a,i,s);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(t,r,n,a,i,o,s);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(t,r,n,a,i,s);case"barrel":return this.drawBarrelPath(t,r,n,a,i)}};_jt=hmt,kr=hmt.prototype;kr.CANVAS_LAYERS=3;kr.SELECT_BOX=0;kr.DRAG=1;kr.NODE=2;kr.WEBGL=3;kr.CANVAS_TYPES=["2d","2d","2d","webgl2"];kr.BUFFER_COUNT=3;kr.TEXTURE_BUFFER=0;kr.MOTIONBLUR_BUFFER_NODE=1;kr.MOTIONBLUR_BUFFER_DRAG=2;kr.redrawHint=function(e,t){var r=this;switch(e){case"eles":r.data.canvasNeedsRedraw[kr.NODE]=t;break;case"drag":r.data.canvasNeedsRedraw[kr.DRAG]=t;break;case"select":r.data.canvasNeedsRedraw[kr.SELECT_BOX]=t;break;case"gc":r.data.gc=!0;break}};wjt=typeof Path2D<"u";kr.path2dEnabled=function(e){if(e===void 0)return this.pathsEnabled;this.pathsEnabled=!!e};kr.usePaths=function(){return wjt&&this.pathsEnabled};kr.setImgSmoothing=function(e,t){e.imageSmoothingEnabled!=null?e.imageSmoothingEnabled=t:(e.webkitImageSmoothingEnabled=t,e.mozImageSmoothingEnabled=t,e.msImageSmoothingEnabled=t)};kr.getImgSmoothing=function(e){return e.imageSmoothingEnabled!=null?e.imageSmoothingEnabled:e.webkitImageSmoothingEnabled||e.mozImageSmoothingEnabled||e.msImageSmoothingEnabled};kr.makeOffscreenCanvas=function(e,t){var r;if((typeof OffscreenCanvas>"u"?"undefined":xi(OffscreenCanvas))!=="undefined")r=new OffscreenCanvas(e,t);else{var n=this.cy.window(),a=n.document;r=a.createElement("canvas"),r.width=e,r.height=t}return r};[tmt,Xc,ih,IF,nm,Zd,is,imt,Jd,N_,fmt].forEach(function(e){Ze(kr,e)});Tjt=[{name:"null",impl:z0t},{name:"base",impl:K0t},{name:"canvas",impl:_jt}],Ejt=[{type:"layout",extensions:jYt},{type:"renderer",extensions:Tjt}],dmt={},pmt={};lF=function(){if(arguments.length===2)return gmt.apply(null,arguments);if(arguments.length===3)return mmt.apply(null,arguments);if(arguments.length===4)return Cjt.apply(null,arguments);if(arguments.length===5)return kjt.apply(null,arguments);_a("Invalid extension access syntax")};__.prototype.extension=lF;Ejt.forEach(function(e){e.extensions.forEach(function(t){mmt(e.type,t.name,t.impl)})});zC=function(){if(!(this instanceof zC))return new zC;this.length=0},em=zC.prototype;em.instanceString=function(){return"stylesheet"};em.selector=function(e){var t=this.length++;return this[t]={selector:e,properties:[]},this};em.css=function(e,t){var r=this.length-1;if(Ye(e))this[r].properties.push({name:e,value:t});else if(un(e))for(var n=e,a=Object.keys(n),i=0;i<a.length;i++){var o=a[i],s=n[o];if(s!=null){var l=Fi.properties[o]||Fi.properties[qC(o)];if(l!=null){var u=l.name,f=s;this[r].properties.push({name:u,value:f})}}}return this};em.style=em.css;em.generateStyle=function(e){var t=new Fi(e);return this.appendToStyle(t)};em.appendToStyle=function(e){for(var t=0;t<this.length;t++){var r=this[t],n=r.selector,a=r.properties;e.selector(n);for(var i=0;i<a.length;i++){var o=a[i];e.css(o.name,o.value)}}return e};Sjt="3.33.1",Yl=function(t){if(t===void 0&&(t={}),un(t))return new __(t);if(Ye(t))return lF.apply(lF,arguments)};Yl.use=function(e){var t=Array.prototype.slice.call(arguments,1);return t.unshift(Yl),e.apply(null,t),this};Yl.warnings=function(e){return Upt(e)};Yl.version=Sjt;Yl.stylesheet=Yl.Stylesheet=zC});var FF=_o((O_,OF)=>{(function(t,r){typeof O_=="object"&&typeof OF=="object"?OF.exports=r():typeof define=="function"&&define.amd?define([],r):typeof O_=="object"?O_.layoutBase=r():t.layoutBase=r()})(O_,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.i=function(n){return n},r.d=function(n,a,i){r.o(n,a)||Object.defineProperty(n,a,{configurable:!1,enumerable:!0,get:i})},r.n=function(n){var a=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(a,"a",a),a},r.o=function(n,a){return Object.prototype.hasOwnProperty.call(n,a)},r.p="",r(r.s=26)}([function(e,t,r){"use strict";function n(){}n.QUALITY=1,n.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,n.DEFAULT_INCREMENTAL=!1,n.DEFAULT_ANIMATION_ON_LAYOUT=!0,n.DEFAULT_ANIMATION_DURING_LAYOUT=!1,n.DEFAULT_ANIMATION_PERIOD=50,n.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,n.DEFAULT_GRAPH_MARGIN=15,n.NODE_DIMENSIONS_INCLUDE_LABELS=!1,n.SIMPLE_NODE_SIZE=40,n.SIMPLE_NODE_HALF_SIZE=n.SIMPLE_NODE_SIZE/2,n.EMPTY_COMPOUND_NODE_SIZE=40,n.MIN_EDGE_LENGTH=1,n.WORLD_BOUNDARY=1e6,n.INITIAL_WORLD_BOUNDARY=n.WORLD_BOUNDARY/1e3,n.WORLD_CENTER_X=1200,n.WORLD_CENTER_Y=900,e.exports=n},function(e,t,r){"use strict";var n=r(2),a=r(8),i=r(9);function o(l,u,f){n.call(this,f),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=f,this.bendpoints=[],this.source=l,this.target=u}o.prototype=Object.create(n.prototype);for(var s in n)o[s]=n[s];o.prototype.getSource=function(){return this.source},o.prototype.getTarget=function(){return this.target},o.prototype.isInterGraph=function(){return this.isInterGraph},o.prototype.getLength=function(){return this.length},o.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},o.prototype.getBendpoints=function(){return this.bendpoints},o.prototype.getLca=function(){return this.lca},o.prototype.getSourceInLca=function(){return this.sourceInLca},o.prototype.getTargetInLca=function(){return this.targetInLca},o.prototype.getOtherEnd=function(l){if(this.source===l)return this.target;if(this.target===l)return this.source;throw"Node is not incident with this edge"},o.prototype.getOtherEndInGraph=function(l,u){for(var f=this.getOtherEnd(l),h=u.getGraphManager().getRoot();;){if(f.getOwner()==u)return f;if(f.getOwner()==h)break;f=f.getOwner().getParent()}return null},o.prototype.updateLength=function(){var l=new Array(4);this.isOverlapingSourceAndTarget=a.getIntersection(this.target.getRect(),this.source.getRect(),l),this.isOverlapingSourceAndTarget||(this.lengthX=l[0]-l[2],this.lengthY=l[1]-l[3],Math.abs(this.lengthX)<1&&(this.lengthX=i.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=i.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},o.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=i.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=i.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},e.exports=o},function(e,t,r){"use strict";function n(a){this.vGraphObject=a}e.exports=n},function(e,t,r){"use strict";var n=r(2),a=r(10),i=r(13),o=r(0),s=r(16),l=r(4);function u(h,d,p,m){p==null&&m==null&&(m=d),n.call(this,m),h.graphManager!=null&&(h=h.graphManager),this.estimatedSize=a.MIN_VALUE,this.inclusionTreeDepth=a.MAX_VALUE,this.vGraphObject=m,this.edges=[],this.graphManager=h,p!=null&&d!=null?this.rect=new i(d.x,d.y,p.width,p.height):this.rect=new i}u.prototype=Object.create(n.prototype);for(var f in n)u[f]=n[f];u.prototype.getEdges=function(){return this.edges},u.prototype.getChild=function(){return this.child},u.prototype.getOwner=function(){return this.owner},u.prototype.getWidth=function(){return this.rect.width},u.prototype.setWidth=function(h){this.rect.width=h},u.prototype.getHeight=function(){return this.rect.height},u.prototype.setHeight=function(h){this.rect.height=h},u.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},u.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},u.prototype.getCenter=function(){return new l(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},u.prototype.getLocation=function(){return new l(this.rect.x,this.rect.y)},u.prototype.getRect=function(){return this.rect},u.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},u.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},u.prototype.setRect=function(h,d){this.rect.x=h.x,this.rect.y=h.y,this.rect.width=d.width,this.rect.height=d.height},u.prototype.setCenter=function(h,d){this.rect.x=h-this.rect.width/2,this.rect.y=d-this.rect.height/2},u.prototype.setLocation=function(h,d){this.rect.x=h,this.rect.y=d},u.prototype.moveBy=function(h,d){this.rect.x+=h,this.rect.y+=d},u.prototype.getEdgeListToNode=function(h){var d=[],p,m=this;return m.edges.forEach(function(g){if(g.target==h){if(g.source!=m)throw"Incorrect edge source!";d.push(g)}}),d},u.prototype.getEdgesBetween=function(h){var d=[],p,m=this;return m.edges.forEach(function(g){if(!(g.source==m||g.target==m))throw"Incorrect edge source and/or target";(g.target==h||g.source==h)&&d.push(g)}),d},u.prototype.getNeighborsList=function(){var h=new Set,d=this;return d.edges.forEach(function(p){if(p.source==d)h.add(p.target);else{if(p.target!=d)throw"Incorrect incidency!";h.add(p.source)}}),h},u.prototype.withChildren=function(){var h=new Set,d,p;if(h.add(this),this.child!=null)for(var m=this.child.getNodes(),g=0;g<m.length;g++)d=m[g],p=d.withChildren(),p.forEach(function(v){h.add(v)});return h},u.prototype.getNoOfChildren=function(){var h=0,d;if(this.child==null)h=1;else for(var p=this.child.getNodes(),m=0;m<p.length;m++)d=p[m],h+=d.getNoOfChildren();return h==0&&(h=1),h},u.prototype.getEstimatedSize=function(){if(this.estimatedSize==a.MIN_VALUE)throw"assert failed";return this.estimatedSize},u.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},u.prototype.scatter=function(){var h,d,p=-o.INITIAL_WORLD_BOUNDARY,m=o.INITIAL_WORLD_BOUNDARY;h=o.WORLD_CENTER_X+s.nextDouble()*(m-p)+p;var g=-o.INITIAL_WORLD_BOUNDARY,v=o.INITIAL_WORLD_BOUNDARY;d=o.WORLD_CENTER_Y+s.nextDouble()*(v-g)+g,this.rect.x=h,this.rect.y=d},u.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var h=this.getChild();if(h.updateBounds(!0),this.rect.x=h.getLeft(),this.rect.y=h.getTop(),this.setWidth(h.getRight()-h.getLeft()),this.setHeight(h.getBottom()-h.getTop()),o.NODE_DIMENSIONS_INCLUDE_LABELS){var d=h.getRight()-h.getLeft(),p=h.getBottom()-h.getTop();this.labelWidth>d&&(this.rect.x-=(this.labelWidth-d)/2,this.setWidth(this.labelWidth)),this.labelHeight>p&&(this.labelPos=="center"?this.rect.y-=(this.labelHeight-p)/2:this.labelPos=="top"&&(this.rect.y-=this.labelHeight-p),this.setHeight(this.labelHeight))}}},u.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==a.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},u.prototype.transform=function(h){var d=this.rect.x;d>o.WORLD_BOUNDARY?d=o.WORLD_BOUNDARY:d<-o.WORLD_BOUNDARY&&(d=-o.WORLD_BOUNDARY);var p=this.rect.y;p>o.WORLD_BOUNDARY?p=o.WORLD_BOUNDARY:p<-o.WORLD_BOUNDARY&&(p=-o.WORLD_BOUNDARY);var m=new l(d,p),g=h.inverseTransformPoint(m);this.setLocation(g.x,g.y)},u.prototype.getLeft=function(){return this.rect.x},u.prototype.getRight=function(){return this.rect.x+this.rect.width},u.prototype.getTop=function(){return this.rect.y},u.prototype.getBottom=function(){return this.rect.y+this.rect.height},u.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},e.exports=u},function(e,t,r){"use strict";function n(a,i){a==null&&i==null?(this.x=0,this.y=0):(this.x=a,this.y=i)}n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n.prototype.setX=function(a){this.x=a},n.prototype.setY=function(a){this.y=a},n.prototype.getDifference=function(a){return new DimensionD(this.x-a.x,this.y-a.y)},n.prototype.getCopy=function(){return new n(this.x,this.y)},n.prototype.translate=function(a){return this.x+=a.width,this.y+=a.height,this},e.exports=n},function(e,t,r){"use strict";var n=r(2),a=r(10),i=r(0),o=r(6),s=r(3),l=r(1),u=r(13),f=r(12),h=r(11);function d(m,g,v){n.call(this,v),this.estimatedSize=a.MIN_VALUE,this.margin=i.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=m,g!=null&&g instanceof o?this.graphManager=g:g!=null&&g instanceof Layout&&(this.graphManager=g.graphManager)}d.prototype=Object.create(n.prototype);for(var p in n)d[p]=n[p];d.prototype.getNodes=function(){return this.nodes},d.prototype.getEdges=function(){return this.edges},d.prototype.getGraphManager=function(){return this.graphManager},d.prototype.getParent=function(){return this.parent},d.prototype.getLeft=function(){return this.left},d.prototype.getRight=function(){return this.right},d.prototype.getTop=function(){return this.top},d.prototype.getBottom=function(){return this.bottom},d.prototype.isConnected=function(){return this.isConnected},d.prototype.add=function(m,g,v){if(g==null&&v==null){var y=m;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(y)>-1)throw"Node already in graph!";return y.owner=this,this.getNodes().push(y),y}else{var b=m;if(!(this.getNodes().indexOf(g)>-1&&this.getNodes().indexOf(v)>-1))throw"Source or target not in graph!";if(!(g.owner==v.owner&&g.owner==this))throw"Both owners must be this graph!";return g.owner!=v.owner?null:(b.source=g,b.target=v,b.isInterGraph=!1,this.getEdges().push(b),g.edges.push(b),v!=g&&v.edges.push(b),b)}},d.prototype.remove=function(m){var g=m;if(m instanceof s){if(g==null)throw"Node is null!";if(!(g.owner!=null&&g.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var v=g.edges.slice(),y,b=v.length,_=0;_<b;_++)y=v[_],y.isInterGraph?this.graphManager.remove(y):y.source.owner.remove(y);var k=this.nodes.indexOf(g);if(k==-1)throw"Node not in owner node list!";this.nodes.splice(k,1)}else if(m instanceof l){var y=m;if(y==null)throw"Edge is null!";if(!(y.source!=null&&y.target!=null))throw"Source and/or target is null!";if(!(y.source.owner!=null&&y.target.owner!=null&&y.source.owner==this&&y.target.owner==this))throw"Source and/or target owner is invalid!";var w=y.source.edges.indexOf(y),T=y.target.edges.indexOf(y);if(!(w>-1&&T>-1))throw"Source and/or target doesn't know this edge!";y.source.edges.splice(w,1),y.target!=y.source&&y.target.edges.splice(T,1);var k=y.source.owner.getEdges().indexOf(y);if(k==-1)throw"Not in owner's edge list!";y.source.owner.getEdges().splice(k,1)}},d.prototype.updateLeftTop=function(){for(var m=a.MAX_VALUE,g=a.MAX_VALUE,v,y,b,_=this.getNodes(),k=_.length,w=0;w<k;w++){var T=_[w];v=T.getTop(),y=T.getLeft(),m>v&&(m=v),g>y&&(g=y)}return m==a.MAX_VALUE?null:(_[0].getParent().paddingLeft!=null?b=_[0].getParent().paddingLeft:b=this.margin,this.left=g-b,this.top=m-b,new f(this.left,this.top))},d.prototype.updateBounds=function(m){for(var g=a.MAX_VALUE,v=-a.MAX_VALUE,y=a.MAX_VALUE,b=-a.MAX_VALUE,_,k,w,T,S,C=this.nodes,M=C.length,N=0;N<M;N++){var L=C[N];m&&L.child!=null&&L.updateBounds(),_=L.getLeft(),k=L.getRight(),w=L.getTop(),T=L.getBottom(),g>_&&(g=_),v<k&&(v=k),y>w&&(y=w),b<T&&(b=T)}var E=new u(g,y,v-g,b-y);g==a.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),C[0].getParent().paddingLeft!=null?S=C[0].getParent().paddingLeft:S=this.margin,this.left=E.x-S,this.right=E.x+E.width+S,this.top=E.y-S,this.bottom=E.y+E.height+S},d.calculateBounds=function(m){for(var g=a.MAX_VALUE,v=-a.MAX_VALUE,y=a.MAX_VALUE,b=-a.MAX_VALUE,_,k,w,T,S=m.length,C=0;C<S;C++){var M=m[C];_=M.getLeft(),k=M.getRight(),w=M.getTop(),T=M.getBottom(),g>_&&(g=_),v<k&&(v=k),y>w&&(y=w),b<T&&(b=T)}var N=new u(g,y,v-g,b-y);return N},d.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},d.prototype.getEstimatedSize=function(){if(this.estimatedSize==a.MIN_VALUE)throw"assert failed";return this.estimatedSize},d.prototype.calcEstimatedSize=function(){for(var m=0,g=this.nodes,v=g.length,y=0;y<v;y++){var b=g[y];m+=b.calcEstimatedSize()}return m==0?this.estimatedSize=i.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=m/Math.sqrt(this.nodes.length),this.estimatedSize},d.prototype.updateConnected=function(){var m=this;if(this.nodes.length==0){this.isConnected=!0;return}var g=new h,v=new Set,y=this.nodes[0],b,_,k=y.withChildren();for(k.forEach(function(N){g.push(N),v.add(N)});g.length!==0;){y=g.shift(),b=y.getEdges();for(var w=b.length,T=0;T<w;T++){var S=b[T];if(_=S.getOtherEndInGraph(y,this),_!=null&&!v.has(_)){var C=_.withChildren();C.forEach(function(N){g.push(N),v.add(N)})}}}if(this.isConnected=!1,v.size>=this.nodes.length){var M=0;v.forEach(function(N){N.owner==m&&M++}),M==this.nodes.length&&(this.isConnected=!0)}},e.exports=d},function(e,t,r){"use strict";var n,a=r(1);function i(o){n=r(5),this.layout=o,this.graphs=[],this.edges=[]}i.prototype.addRoot=function(){var o=this.layout.newGraph(),s=this.layout.newNode(null),l=this.add(o,s);return this.setRootGraph(l),this.rootGraph},i.prototype.add=function(o,s,l,u,f){if(l==null&&u==null&&f==null){if(o==null)throw"Graph is null!";if(s==null)throw"Parent node is null!";if(this.graphs.indexOf(o)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(o),o.parent!=null)throw"Already has a parent!";if(s.child!=null)throw"Already has a child!";return o.parent=s,s.child=o,o}else{f=l,u=s,l=o;var h=u.getOwner(),d=f.getOwner();if(!(h!=null&&h.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(d!=null&&d.getGraphManager()==this))throw"Target not in this graph mgr!";if(h==d)return l.isInterGraph=!1,h.add(l,u,f);if(l.isInterGraph=!0,l.source=u,l.target=f,this.edges.indexOf(l)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(l),!(l.source!=null&&l.target!=null))throw"Edge source and/or target is null!";if(!(l.source.edges.indexOf(l)==-1&&l.target.edges.indexOf(l)==-1))throw"Edge already in source and/or target incidency list!";return l.source.edges.push(l),l.target.edges.push(l),l}},i.prototype.remove=function(o){if(o instanceof n){var s=o;if(s.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(s==this.rootGraph||s.parent!=null&&s.parent.graphManager==this))throw"Invalid parent node!";var l=[];l=l.concat(s.getEdges());for(var u,f=l.length,h=0;h<f;h++)u=l[h],s.remove(u);var d=[];d=d.concat(s.getNodes());var p;f=d.length;for(var h=0;h<f;h++)p=d[h],s.remove(p);s==this.rootGraph&&this.setRootGraph(null);var m=this.graphs.indexOf(s);this.graphs.splice(m,1),s.parent=null}else if(o instanceof a){if(u=o,u==null)throw"Edge is null!";if(!u.isInterGraph)throw"Not an inter-graph edge!";if(!(u.source!=null&&u.target!=null))throw"Source and/or target is null!";if(!(u.source.edges.indexOf(u)!=-1&&u.target.edges.indexOf(u)!=-1))throw"Source and/or target doesn't know this edge!";var m=u.source.edges.indexOf(u);if(u.source.edges.splice(m,1),m=u.target.edges.indexOf(u),u.target.edges.splice(m,1),!(u.source.owner!=null&&u.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(u.source.owner.getGraphManager().edges.indexOf(u)==-1)throw"Not in owner graph manager's edge list!";var m=u.source.owner.getGraphManager().edges.indexOf(u);u.source.owner.getGraphManager().edges.splice(m,1)}},i.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},i.prototype.getGraphs=function(){return this.graphs},i.prototype.getAllNodes=function(){if(this.allNodes==null){for(var o=[],s=this.getGraphs(),l=s.length,u=0;u<l;u++)o=o.concat(s[u].getNodes());this.allNodes=o}return this.allNodes},i.prototype.resetAllNodes=function(){this.allNodes=null},i.prototype.resetAllEdges=function(){this.allEdges=null},i.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},i.prototype.getAllEdges=function(){if(this.allEdges==null){for(var o=[],s=this.getGraphs(),l=s.length,u=0;u<s.length;u++)o=o.concat(s[u].getEdges());o=o.concat(this.edges),this.allEdges=o}return this.allEdges},i.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},i.prototype.setAllNodesToApplyGravitation=function(o){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=o},i.prototype.getRoot=function(){return this.rootGraph},i.prototype.setRootGraph=function(o){if(o.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=o,o.parent==null&&(o.parent=this.layout.newNode("Root node"))},i.prototype.getLayout=function(){return this.layout},i.prototype.isOneAncestorOfOther=function(o,s){if(!(o!=null&&s!=null))throw"assert failed";if(o==s)return!0;var l=o.getOwner(),u;do{if(u=l.getParent(),u==null)break;if(u==s)return!0;if(l=u.getOwner(),l==null)break}while(!0);l=s.getOwner();do{if(u=l.getParent(),u==null)break;if(u==o)return!0;if(l=u.getOwner(),l==null)break}while(!0);return!1},i.prototype.calcLowestCommonAncestors=function(){for(var o,s,l,u,f,h=this.getAllEdges(),d=h.length,p=0;p<d;p++){if(o=h[p],s=o.source,l=o.target,o.lca=null,o.sourceInLca=s,o.targetInLca=l,s==l){o.lca=s.getOwner();continue}for(u=s.getOwner();o.lca==null;){for(o.targetInLca=l,f=l.getOwner();o.lca==null;){if(f==u){o.lca=f;break}if(f==this.rootGraph)break;if(o.lca!=null)throw"assert failed";o.targetInLca=f.getParent(),f=o.targetInLca.getOwner()}if(u==this.rootGraph)break;o.lca==null&&(o.sourceInLca=u.getParent(),u=o.sourceInLca.getOwner())}if(o.lca==null)throw"assert failed"}},i.prototype.calcLowestCommonAncestor=function(o,s){if(o==s)return o.getOwner();var l=o.getOwner();do{if(l==null)break;var u=s.getOwner();do{if(u==null)break;if(u==l)return u;u=u.getParent().getOwner()}while(!0);l=l.getParent().getOwner()}while(!0);return l},i.prototype.calcInclusionTreeDepths=function(o,s){o==null&&s==null&&(o=this.rootGraph,s=1);for(var l,u=o.getNodes(),f=u.length,h=0;h<f;h++)l=u[h],l.inclusionTreeDepth=s,l.child!=null&&this.calcInclusionTreeDepths(l.child,s+1)},i.prototype.includesInvalidEdge=function(){for(var o,s=this.edges.length,l=0;l<s;l++)if(o=this.edges[l],this.isOneAncestorOfOther(o.source,o.target))return!0;return!1},e.exports=i},function(e,t,r){"use strict";var n=r(0);function a(){}for(var i in n)a[i]=n[i];a.MAX_ITERATIONS=2500,a.DEFAULT_EDGE_LENGTH=50,a.DEFAULT_SPRING_STRENGTH=.45,a.DEFAULT_REPULSION_STRENGTH=4500,a.DEFAULT_GRAVITY_STRENGTH=.4,a.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,a.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,a.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,a.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,a.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,a.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,a.COOLING_ADAPTATION_FACTOR=.33,a.ADAPTATION_LOWER_NODE_LIMIT=1e3,a.ADAPTATION_UPPER_NODE_LIMIT=5e3,a.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,a.MAX_NODE_DISPLACEMENT=a.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,a.MIN_REPULSION_DIST=a.DEFAULT_EDGE_LENGTH/10,a.CONVERGENCE_CHECK_PERIOD=100,a.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,a.MIN_EDGE_LENGTH=1,a.GRID_CALCULATION_CHECK_PERIOD=10,e.exports=a},function(e,t,r){"use strict";var n=r(12);function a(){}a.calcSeparationAmount=function(i,o,s,l){if(!i.intersects(o))throw"assert failed";var u=new Array(2);this.decideDirectionsForOverlappingNodes(i,o,u),s[0]=Math.min(i.getRight(),o.getRight())-Math.max(i.x,o.x),s[1]=Math.min(i.getBottom(),o.getBottom())-Math.max(i.y,o.y),i.getX()<=o.getX()&&i.getRight()>=o.getRight()?s[0]+=Math.min(o.getX()-i.getX(),i.getRight()-o.getRight()):o.getX()<=i.getX()&&o.getRight()>=i.getRight()&&(s[0]+=Math.min(i.getX()-o.getX(),o.getRight()-i.getRight())),i.getY()<=o.getY()&&i.getBottom()>=o.getBottom()?s[1]+=Math.min(o.getY()-i.getY(),i.getBottom()-o.getBottom()):o.getY()<=i.getY()&&o.getBottom()>=i.getBottom()&&(s[1]+=Math.min(i.getY()-o.getY(),o.getBottom()-i.getBottom()));var f=Math.abs((o.getCenterY()-i.getCenterY())/(o.getCenterX()-i.getCenterX()));o.getCenterY()===i.getCenterY()&&o.getCenterX()===i.getCenterX()&&(f=1);var h=f*s[0],d=s[1]/f;s[0]<d?d=s[0]:h=s[1],s[0]=-1*u[0]*(d/2+l),s[1]=-1*u[1]*(h/2+l)},a.decideDirectionsForOverlappingNodes=function(i,o,s){i.getCenterX()<o.getCenterX()?s[0]=-1:s[0]=1,i.getCenterY()<o.getCenterY()?s[1]=-1:s[1]=1},a.getIntersection2=function(i,o,s){var l=i.getCenterX(),u=i.getCenterY(),f=o.getCenterX(),h=o.getCenterY();if(i.intersects(o))return s[0]=l,s[1]=u,s[2]=f,s[3]=h,!0;var d=i.getX(),p=i.getY(),m=i.getRight(),g=i.getX(),v=i.getBottom(),y=i.getRight(),b=i.getWidthHalf(),_=i.getHeightHalf(),k=o.getX(),w=o.getY(),T=o.getRight(),S=o.getX(),C=o.getBottom(),M=o.getRight(),N=o.getWidthHalf(),L=o.getHeightHalf(),E=!1,A=!1;if(l===f){if(u>h)return s[0]=l,s[1]=p,s[2]=f,s[3]=C,!1;if(u<h)return s[0]=l,s[1]=v,s[2]=f,s[3]=w,!1}else if(u===h){if(l>f)return s[0]=d,s[1]=u,s[2]=T,s[3]=h,!1;if(l<f)return s[0]=m,s[1]=u,s[2]=k,s[3]=h,!1}else{var D=i.height/i.width,R=o.height/o.width,I=(h-u)/(f-l),O=void 0,F=void 0,P=void 0,q=void 0,$=void 0,W=void 0;if(-D===I?l>f?(s[0]=g,s[1]=v,E=!0):(s[0]=m,s[1]=p,E=!0):D===I&&(l>f?(s[0]=d,s[1]=p,E=!0):(s[0]=y,s[1]=v,E=!0)),-R===I?f>l?(s[2]=S,s[3]=C,A=!0):(s[2]=T,s[3]=w,A=!0):R===I&&(f>l?(s[2]=k,s[3]=w,A=!0):(s[2]=M,s[3]=C,A=!0)),E&&A)return!1;if(l>f?u>h?(O=this.getCardinalDirection(D,I,4),F=this.getCardinalDirection(R,I,2)):(O=this.getCardinalDirection(-D,I,3),F=this.getCardinalDirection(-R,I,1)):u>h?(O=this.getCardinalDirection(-D,I,1),F=this.getCardinalDirection(-R,I,3)):(O=this.getCardinalDirection(D,I,2),F=this.getCardinalDirection(R,I,4)),!E)switch(O){case 1:q=p,P=l+-_/I,s[0]=P,s[1]=q;break;case 2:P=y,q=u+b*I,s[0]=P,s[1]=q;break;case 3:q=v,P=l+_/I,s[0]=P,s[1]=q;break;case 4:P=g,q=u+-b*I,s[0]=P,s[1]=q;break}if(!A)switch(F){case 1:W=w,$=f+-L/I,s[2]=$,s[3]=W;break;case 2:$=M,W=h+N*I,s[2]=$,s[3]=W;break;case 3:W=C,$=f+L/I,s[2]=$,s[3]=W;break;case 4:$=S,W=h+-N*I,s[2]=$,s[3]=W;break}}return!1},a.getCardinalDirection=function(i,o,s){return i>o?s:1+s%4},a.getIntersection=function(i,o,s,l){if(l==null)return this.getIntersection2(i,o,s);var u=i.x,f=i.y,h=o.x,d=o.y,p=s.x,m=s.y,g=l.x,v=l.y,y=void 0,b=void 0,_=void 0,k=void 0,w=void 0,T=void 0,S=void 0,C=void 0,M=void 0;return _=d-f,w=u-h,S=h*f-u*d,k=v-m,T=p-g,C=g*m-p*v,M=_*T-k*w,M===0?null:(y=(w*C-T*S)/M,b=(k*S-_*C)/M,new n(y,b))},a.angleOfVector=function(i,o,s,l){var u=void 0;return i!==s?(u=Math.atan((l-o)/(s-i)),s<i?u+=Math.PI:l<o&&(u+=this.TWO_PI)):l<o?u=this.ONE_AND_HALF_PI:u=this.HALF_PI,u},a.doIntersect=function(i,o,s,l){var u=i.x,f=i.y,h=o.x,d=o.y,p=s.x,m=s.y,g=l.x,v=l.y,y=(h-u)*(v-m)-(g-p)*(d-f);if(y===0)return!1;var b=((v-m)*(g-u)+(p-g)*(v-f))/y,_=((f-d)*(g-u)+(h-u)*(v-f))/y;return 0<b&&b<1&&0<_&&_<1},a.HALF_PI=.5*Math.PI,a.ONE_AND_HALF_PI=1.5*Math.PI,a.TWO_PI=2*Math.PI,a.THREE_PI=3*Math.PI,e.exports=a},function(e,t,r){"use strict";function n(){}n.sign=function(a){return a>0?1:a<0?-1:0},n.floor=function(a){return a<0?Math.ceil(a):Math.floor(a)},n.ceil=function(a){return a<0?Math.floor(a):Math.ceil(a)},e.exports=n},function(e,t,r){"use strict";function n(){}n.MAX_VALUE=2147483647,n.MIN_VALUE=-2147483648,e.exports=n},function(e,t,r){"use strict";var n=function(){function u(f,h){for(var d=0;d<h.length;d++){var p=h[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(f,p.key,p)}}return function(f,h,d){return h&&u(f.prototype,h),d&&u(f,d),f}}();function a(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")}var i=function(f){return{value:f,next:null,prev:null}},o=function(f,h,d,p){return f!==null?f.next=h:p.head=h,d!==null?d.prev=h:p.tail=h,h.prev=f,h.next=d,p.length++,h},s=function(f,h){var d=f.prev,p=f.next;return d!==null?d.next=p:h.head=p,p!==null?p.prev=d:h.tail=d,f.prev=f.next=null,h.length--,f},l=function(){function u(f){var h=this;a(this,u),this.length=0,this.head=null,this.tail=null,f?.forEach(function(d){return h.push(d)})}return n(u,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(h,d){return o(d.prev,i(h),d,this)}},{key:"insertAfter",value:function(h,d){return o(d,i(h),d.next,this)}},{key:"insertNodeBefore",value:function(h,d){return o(d.prev,h,d,this)}},{key:"insertNodeAfter",value:function(h,d){return o(d,h,d.next,this)}},{key:"push",value:function(h){return o(this.tail,i(h),null,this)}},{key:"unshift",value:function(h){return o(null,i(h),this.head,this)}},{key:"remove",value:function(h){return s(h,this)}},{key:"pop",value:function(){return s(this.tail,this).value}},{key:"popNode",value:function(){return s(this.tail,this)}},{key:"shift",value:function(){return s(this.head,this).value}},{key:"shiftNode",value:function(){return s(this.head,this)}},{key:"get_object_at",value:function(h){if(h<=this.length()){for(var d=1,p=this.head;d<h;)p=p.next,d++;return p.value}}},{key:"set_object_at",value:function(h,d){if(h<=this.length()){for(var p=1,m=this.head;p<h;)m=m.next,p++;m.value=d}}}]),u}();e.exports=l},function(e,t,r){"use strict";function n(a,i,o){this.x=null,this.y=null,a==null&&i==null&&o==null?(this.x=0,this.y=0):typeof a=="number"&&typeof i=="number"&&o==null?(this.x=a,this.y=i):a.constructor.name=="Point"&&i==null&&o==null&&(o=a,this.x=o.x,this.y=o.y)}n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n.prototype.getLocation=function(){return new n(this.x,this.y)},n.prototype.setLocation=function(a,i,o){a.constructor.name=="Point"&&i==null&&o==null?(o=a,this.setLocation(o.x,o.y)):typeof a=="number"&&typeof i=="number"&&o==null&&(parseInt(a)==a&&parseInt(i)==i?this.move(a,i):(this.x=Math.floor(a+.5),this.y=Math.floor(i+.5)))},n.prototype.move=function(a,i){this.x=a,this.y=i},n.prototype.translate=function(a,i){this.x+=a,this.y+=i},n.prototype.equals=function(a){if(a.constructor.name=="Point"){var i=a;return this.x==i.x&&this.y==i.y}return this==a},n.prototype.toString=function(){return new n().constructor.name+"[x="+this.x+",y="+this.y+"]"},e.exports=n},function(e,t,r){"use strict";function n(a,i,o,s){this.x=0,this.y=0,this.width=0,this.height=0,a!=null&&i!=null&&o!=null&&s!=null&&(this.x=a,this.y=i,this.width=o,this.height=s)}n.prototype.getX=function(){return this.x},n.prototype.setX=function(a){this.x=a},n.prototype.getY=function(){return this.y},n.prototype.setY=function(a){this.y=a},n.prototype.getWidth=function(){return this.width},n.prototype.setWidth=function(a){this.width=a},n.prototype.getHeight=function(){return this.height},n.prototype.setHeight=function(a){this.height=a},n.prototype.getRight=function(){return this.x+this.width},n.prototype.getBottom=function(){return this.y+this.height},n.prototype.intersects=function(a){return!(this.getRight()<a.x||this.getBottom()<a.y||a.getRight()<this.x||a.getBottom()<this.y)},n.prototype.getCenterX=function(){return this.x+this.width/2},n.prototype.getMinX=function(){return this.getX()},n.prototype.getMaxX=function(){return this.getX()+this.width},n.prototype.getCenterY=function(){return this.y+this.height/2},n.prototype.getMinY=function(){return this.getY()},n.prototype.getMaxY=function(){return this.getY()+this.height},n.prototype.getWidthHalf=function(){return this.width/2},n.prototype.getHeightHalf=function(){return this.height/2},e.exports=n},function(e,t,r){"use strict";var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i};function a(){}a.lastID=0,a.createID=function(i){return a.isPrimitive(i)?i:(i.uniqueID!=null||(i.uniqueID=a.getString(),a.lastID++),i.uniqueID)},a.getString=function(i){return i==null&&(i=a.lastID),"Object#"+i},a.isPrimitive=function(i){var o=typeof i>"u"?"undefined":n(i);return i==null||o!="object"&&o!="function"},e.exports=a},function(e,t,r){"use strict";function n(p){if(Array.isArray(p)){for(var m=0,g=Array(p.length);m<p.length;m++)g[m]=p[m];return g}else return Array.from(p)}var a=r(0),i=r(6),o=r(3),s=r(1),l=r(5),u=r(4),f=r(17),h=r(27);function d(p){h.call(this),this.layoutQuality=a.QUALITY,this.createBendsAsNeeded=a.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=a.DEFAULT_INCREMENTAL,this.animationOnLayout=a.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=a.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=a.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=a.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new i(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,p!=null&&(this.isRemoteUse=p)}d.RANDOM_SEED=1,d.prototype=Object.create(h.prototype),d.prototype.getGraphManager=function(){return this.graphManager},d.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},d.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},d.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},d.prototype.newGraphManager=function(){var p=new i(this);return this.graphManager=p,p},d.prototype.newGraph=function(p){return new l(null,this.graphManager,p)},d.prototype.newNode=function(p){return new o(this.graphManager,p)},d.prototype.newEdge=function(p){return new s(null,null,p)},d.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},d.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var p;return this.checkLayoutSuccess()?p=!1:p=this.layout(),a.ANIMATE==="during"?!1:(p&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,p)},d.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},d.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var p,m=this.graphManager.getAllEdges(),g=0;g<m.length;g++)p=m[g];for(var v,y=this.graphManager.getRoot().getNodes(),g=0;g<y.length;g++)v=y[g];this.update(this.graphManager.getRoot())}},d.prototype.update=function(p){if(p==null)this.update2();else if(p instanceof o){var m=p;if(m.getChild()!=null)for(var g=m.getChild().getNodes(),v=0;v<g.length;v++)update(g[v]);if(m.vGraphObject!=null){var y=m.vGraphObject;y.update(m)}}else if(p instanceof s){var b=p;if(b.vGraphObject!=null){var _=b.vGraphObject;_.update(b)}}else if(p instanceof l){var k=p;if(k.vGraphObject!=null){var w=k.vGraphObject;w.update(k)}}},d.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=a.QUALITY,this.animationDuringLayout=a.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=a.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=a.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=a.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=a.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=a.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},d.prototype.transform=function(p){if(p==null)this.transform(new u(0,0));else{var m=new f,g=this.graphManager.getRoot().updateLeftTop();if(g!=null){m.setWorldOrgX(p.x),m.setWorldOrgY(p.y),m.setDeviceOrgX(g.x),m.setDeviceOrgY(g.y);for(var v=this.getAllNodes(),y,b=0;b<v.length;b++)y=v[b],y.transform(m)}}},d.prototype.positionNodesRandomly=function(p){if(p==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var m,g,v=p.getNodes(),y=0;y<v.length;y++)m=v[y],g=m.getChild(),g==null||g.getNodes().length==0?m.scatter():(this.positionNodesRandomly(g),m.updateBounds())},d.prototype.getFlatForest=function(){for(var p=[],m=!0,g=this.graphManager.getRoot().getNodes(),v=!0,y=0;y<g.length;y++)g[y].getChild()!=null&&(v=!1);if(!v)return p;var b=new Set,_=[],k=new Map,w=[];for(w=w.concat(g);w.length>0&&m;){for(_.push(w[0]);_.length>0&&m;){var T=_[0];_.splice(0,1),b.add(T);for(var S=T.getEdges(),y=0;y<S.length;y++){var C=S[y].getOtherEnd(T);if(k.get(T)!=C)if(!b.has(C))_.push(C),k.set(C,T);else{m=!1;break}}}if(!m)p=[];else{var M=[].concat(n(b));p.push(M);for(var y=0;y<M.length;y++){var N=M[y],L=w.indexOf(N);L>-1&&w.splice(L,1)}b=new Set,k=new Map}}return p},d.prototype.createDummyNodesForBendpoints=function(p){for(var m=[],g=p.source,v=this.graphManager.calcLowestCommonAncestor(p.source,p.target),y=0;y<p.bendpoints.length;y++){var b=this.newNode(null);b.setRect(new Point(0,0),new Dimension(1,1)),v.add(b);var _=this.newEdge(null);this.graphManager.add(_,g,b),m.add(b),g=b}var _=this.newEdge(null);return this.graphManager.add(_,g,p.target),this.edgeToDummyNodes.set(p,m),p.isInterGraph()?this.graphManager.remove(p):v.remove(p),m},d.prototype.createBendpointsFromDummyNodes=function(){var p=[];p=p.concat(this.graphManager.getAllEdges()),p=[].concat(n(this.edgeToDummyNodes.keys())).concat(p);for(var m=0;m<p.length;m++){var g=p[m];if(g.bendpoints.length>0){for(var v=this.edgeToDummyNodes.get(g),y=0;y<v.length;y++){var b=v[y],_=new u(b.getCenterX(),b.getCenterY()),k=g.bendpoints.get(y);k.x=_.x,k.y=_.y,b.getOwner().remove(b)}this.graphManager.add(g,g.source,g.target)}}},d.transform=function(p,m,g,v){if(g!=null&&v!=null){var y=m;if(p<=50){var b=m/g;y-=(m-b)/50*(50-p)}else{var _=m*v;y+=(_-m)/50*(p-50)}return y}else{var k,w;return p<=50?(k=9*m/500,w=m/10):(k=9*m/50,w=-8*m),k*p+w}},d.findCenterOfTree=function(p){var m=[];m=m.concat(p);var g=[],v=new Map,y=!1,b=null;(m.length==1||m.length==2)&&(y=!0,b=m[0]);for(var _=0;_<m.length;_++){var k=m[_],w=k.getNeighborsList().size;v.set(k,k.getNeighborsList().size),w==1&&g.push(k)}var T=[];for(T=T.concat(g);!y;){var S=[];S=S.concat(T),T=[];for(var _=0;_<m.length;_++){var k=m[_],C=m.indexOf(k);C>=0&&m.splice(C,1);var M=k.getNeighborsList();M.forEach(function(E){if(g.indexOf(E)<0){var A=v.get(E),D=A-1;D==1&&T.push(E),v.set(E,D)}})}g=g.concat(T),(m.length==1||m.length==2)&&(y=!0,b=m[0])}return b},d.prototype.setGraphManager=function(p){this.graphManager=p},e.exports=d},function(e,t,r){"use strict";function n(){}n.seed=1,n.x=0,n.nextDouble=function(){return n.x=Math.sin(n.seed++)*1e4,n.x-Math.floor(n.x)},e.exports=n},function(e,t,r){"use strict";var n=r(4);function a(i,o){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}a.prototype.getWorldOrgX=function(){return this.lworldOrgX},a.prototype.setWorldOrgX=function(i){this.lworldOrgX=i},a.prototype.getWorldOrgY=function(){return this.lworldOrgY},a.prototype.setWorldOrgY=function(i){this.lworldOrgY=i},a.prototype.getWorldExtX=function(){return this.lworldExtX},a.prototype.setWorldExtX=function(i){this.lworldExtX=i},a.prototype.getWorldExtY=function(){return this.lworldExtY},a.prototype.setWorldExtY=function(i){this.lworldExtY=i},a.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},a.prototype.setDeviceOrgX=function(i){this.ldeviceOrgX=i},a.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},a.prototype.setDeviceOrgY=function(i){this.ldeviceOrgY=i},a.prototype.getDeviceExtX=function(){return this.ldeviceExtX},a.prototype.setDeviceExtX=function(i){this.ldeviceExtX=i},a.prototype.getDeviceExtY=function(){return this.ldeviceExtY},a.prototype.setDeviceExtY=function(i){this.ldeviceExtY=i},a.prototype.transformX=function(i){var o=0,s=this.lworldExtX;return s!=0&&(o=this.ldeviceOrgX+(i-this.lworldOrgX)*this.ldeviceExtX/s),o},a.prototype.transformY=function(i){var o=0,s=this.lworldExtY;return s!=0&&(o=this.ldeviceOrgY+(i-this.lworldOrgY)*this.ldeviceExtY/s),o},a.prototype.inverseTransformX=function(i){var o=0,s=this.ldeviceExtX;return s!=0&&(o=this.lworldOrgX+(i-this.ldeviceOrgX)*this.lworldExtX/s),o},a.prototype.inverseTransformY=function(i){var o=0,s=this.ldeviceExtY;return s!=0&&(o=this.lworldOrgY+(i-this.ldeviceOrgY)*this.lworldExtY/s),o},a.prototype.inverseTransformPoint=function(i){var o=new n(this.inverseTransformX(i.x),this.inverseTransformY(i.y));return o},e.exports=a},function(e,t,r){"use strict";function n(h){if(Array.isArray(h)){for(var d=0,p=Array(h.length);d<h.length;d++)p[d]=h[d];return p}else return Array.from(h)}var a=r(15),i=r(7),o=r(0),s=r(8),l=r(9);function u(){a.call(this),this.useSmartIdealEdgeLengthCalculation=i.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=i.DEFAULT_EDGE_LENGTH,this.springConstant=i.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=i.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=i.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=i.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=i.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=i.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*i.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=i.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=i.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=i.MAX_ITERATIONS}u.prototype=Object.create(a.prototype);for(var f in a)u[f]=a[f];u.prototype.initParameters=function(){a.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=i.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},u.prototype.calcIdealEdgeLengths=function(){for(var h,d,p,m,g,v,y=this.getGraphManager().getAllEdges(),b=0;b<y.length;b++)h=y[b],h.idealLength=this.idealEdgeLength,h.isInterGraph&&(p=h.getSource(),m=h.getTarget(),g=h.getSourceInLca().getEstimatedSize(),v=h.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(h.idealLength+=g+v-2*o.SIMPLE_NODE_SIZE),d=h.getLca().getInclusionTreeDepth(),h.idealLength+=i.DEFAULT_EDGE_LENGTH*i.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(p.getInclusionTreeDepth()+m.getInclusionTreeDepth()-2*d))},u.prototype.initSpringEmbedder=function(){var h=this.getAllNodes().length;this.incremental?(h>i.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*i.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(h-i.ADAPTATION_LOWER_NODE_LIMIT)/(i.ADAPTATION_UPPER_NODE_LIMIT-i.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-i.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=i.MAX_NODE_DISPLACEMENT_INCREMENTAL):(h>i.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(i.COOLING_ADAPTATION_FACTOR,1-(h-i.ADAPTATION_LOWER_NODE_LIMIT)/(i.ADAPTATION_UPPER_NODE_LIMIT-i.ADAPTATION_LOWER_NODE_LIMIT)*(1-i.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=i.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},u.prototype.calcSpringForces=function(){for(var h=this.getAllEdges(),d,p=0;p<h.length;p++)d=h[p],this.calcSpringForce(d,d.idealLength)},u.prototype.calcRepulsionForces=function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,p,m,g,v,y=this.getAllNodes(),b;if(this.useFRGridVariant)for(this.totalIterations%i.GRID_CALCULATION_CHECK_PERIOD==1&&h&&this.updateGrid(),b=new Set,p=0;p<y.length;p++)g=y[p],this.calculateRepulsionForceOfANode(g,b,h,d),b.add(g);else for(p=0;p<y.length;p++)for(g=y[p],m=p+1;m<y.length;m++)v=y[m],g.getOwner()==v.getOwner()&&this.calcRepulsionForce(g,v)},u.prototype.calcGravitationalForces=function(){for(var h,d=this.getAllNodesToApplyGravitation(),p=0;p<d.length;p++)h=d[p],this.calcGravitationalForce(h)},u.prototype.moveNodes=function(){for(var h=this.getAllNodes(),d,p=0;p<h.length;p++)d=h[p],d.move()},u.prototype.calcSpringForce=function(h,d){var p=h.getSource(),m=h.getTarget(),g,v,y,b;if(this.uniformLeafNodeSizes&&p.getChild()==null&&m.getChild()==null)h.updateLengthSimple();else if(h.updateLength(),h.isOverlapingSourceAndTarget)return;g=h.getLength(),g!=0&&(v=this.springConstant*(g-d),y=v*(h.lengthX/g),b=v*(h.lengthY/g),p.springForceX+=y,p.springForceY+=b,m.springForceX-=y,m.springForceY-=b)},u.prototype.calcRepulsionForce=function(h,d){var p=h.getRect(),m=d.getRect(),g=new Array(2),v=new Array(4),y,b,_,k,w,T,S;if(p.intersects(m)){s.calcSeparationAmount(p,m,g,i.DEFAULT_EDGE_LENGTH/2),T=2*g[0],S=2*g[1];var C=h.noOfChildren*d.noOfChildren/(h.noOfChildren+d.noOfChildren);h.repulsionForceX-=C*T,h.repulsionForceY-=C*S,d.repulsionForceX+=C*T,d.repulsionForceY+=C*S}else this.uniformLeafNodeSizes&&h.getChild()==null&&d.getChild()==null?(y=m.getCenterX()-p.getCenterX(),b=m.getCenterY()-p.getCenterY()):(s.getIntersection(p,m,v),y=v[2]-v[0],b=v[3]-v[1]),Math.abs(y)<i.MIN_REPULSION_DIST&&(y=l.sign(y)*i.MIN_REPULSION_DIST),Math.abs(b)<i.MIN_REPULSION_DIST&&(b=l.sign(b)*i.MIN_REPULSION_DIST),_=y*y+b*b,k=Math.sqrt(_),w=this.repulsionConstant*h.noOfChildren*d.noOfChildren/_,T=w*y/k,S=w*b/k,h.repulsionForceX-=T,h.repulsionForceY-=S,d.repulsionForceX+=T,d.repulsionForceY+=S},u.prototype.calcGravitationalForce=function(h){var d,p,m,g,v,y,b,_;d=h.getOwner(),p=(d.getRight()+d.getLeft())/2,m=(d.getTop()+d.getBottom())/2,g=h.getCenterX()-p,v=h.getCenterY()-m,y=Math.abs(g)+h.getWidth()/2,b=Math.abs(v)+h.getHeight()/2,h.getOwner()==this.graphManager.getRoot()?(_=d.getEstimatedSize()*this.gravityRangeFactor,(y>_||b>_)&&(h.gravitationForceX=-this.gravityConstant*g,h.gravitationForceY=-this.gravityConstant*v)):(_=d.getEstimatedSize()*this.compoundGravityRangeFactor,(y>_||b>_)&&(h.gravitationForceX=-this.gravityConstant*g*this.compoundGravityConstant,h.gravitationForceY=-this.gravityConstant*v*this.compoundGravityConstant))},u.prototype.isConverged=function(){var h,d=!1;return this.totalIterations>this.maxIterations/3&&(d=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),h=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,h||d},u.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},u.prototype.calcNoOfChildrenForAllNodes=function(){for(var h,d=this.graphManager.getAllNodes(),p=0;p<d.length;p++)h=d[p],h.noOfChildren=h.getNoOfChildren()},u.prototype.calcGrid=function(h){var d=0,p=0;d=parseInt(Math.ceil((h.getRight()-h.getLeft())/this.repulsionRange)),p=parseInt(Math.ceil((h.getBottom()-h.getTop())/this.repulsionRange));for(var m=new Array(d),g=0;g<d;g++)m[g]=new Array(p);for(var g=0;g<d;g++)for(var v=0;v<p;v++)m[g][v]=new Array;return m},u.prototype.addNodeToGrid=function(h,d,p){var m=0,g=0,v=0,y=0;m=parseInt(Math.floor((h.getRect().x-d)/this.repulsionRange)),g=parseInt(Math.floor((h.getRect().width+h.getRect().x-d)/this.repulsionRange)),v=parseInt(Math.floor((h.getRect().y-p)/this.repulsionRange)),y=parseInt(Math.floor((h.getRect().height+h.getRect().y-p)/this.repulsionRange));for(var b=m;b<=g;b++)for(var _=v;_<=y;_++)this.grid[b][_].push(h),h.setGridCoordinates(m,g,v,y)},u.prototype.updateGrid=function(){var h,d,p=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),h=0;h<p.length;h++)d=p[h],this.addNodeToGrid(d,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},u.prototype.calculateRepulsionForceOfANode=function(h,d,p,m){if(this.totalIterations%i.GRID_CALCULATION_CHECK_PERIOD==1&&p||m){var g=new Set;h.surrounding=new Array;for(var v,y=this.grid,b=h.startX-1;b<h.finishX+2;b++)for(var _=h.startY-1;_<h.finishY+2;_++)if(!(b<0||_<0||b>=y.length||_>=y[0].length)){for(var k=0;k<y[b][_].length;k++)if(v=y[b][_][k],!(h.getOwner()!=v.getOwner()||h==v)&&!d.has(v)&&!g.has(v)){var w=Math.abs(h.getCenterX()-v.getCenterX())-(h.getWidth()/2+v.getWidth()/2),T=Math.abs(h.getCenterY()-v.getCenterY())-(h.getHeight()/2+v.getHeight()/2);w<=this.repulsionRange&&T<=this.repulsionRange&&g.add(v)}}h.surrounding=[].concat(n(g))}for(b=0;b<h.surrounding.length;b++)this.calcRepulsionForce(h,h.surrounding[b])},u.prototype.calcRepulsionRange=function(){return 0},e.exports=u},function(e,t,r){"use strict";var n=r(1),a=r(7);function i(s,l,u){n.call(this,s,l,u),this.idealLength=a.DEFAULT_EDGE_LENGTH}i.prototype=Object.create(n.prototype);for(var o in n)i[o]=n[o];e.exports=i},function(e,t,r){"use strict";var n=r(3);function a(o,s,l,u){n.call(this,o,s,l,u),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}a.prototype=Object.create(n.prototype);for(var i in n)a[i]=n[i];a.prototype.setGridCoordinates=function(o,s,l,u){this.startX=o,this.finishX=s,this.startY=l,this.finishY=u},e.exports=a},function(e,t,r){"use strict";function n(a,i){this.width=0,this.height=0,a!==null&&i!==null&&(this.height=i,this.width=a)}n.prototype.getWidth=function(){return this.width},n.prototype.setWidth=function(a){this.width=a},n.prototype.getHeight=function(){return this.height},n.prototype.setHeight=function(a){this.height=a},e.exports=n},function(e,t,r){"use strict";var n=r(14);function a(){this.map={},this.keys=[]}a.prototype.put=function(i,o){var s=n.createID(i);this.contains(s)||(this.map[s]=o,this.keys.push(i))},a.prototype.contains=function(i){var o=n.createID(i);return this.map[i]!=null},a.prototype.get=function(i){var o=n.createID(i);return this.map[o]},a.prototype.keySet=function(){return this.keys},e.exports=a},function(e,t,r){"use strict";var n=r(14);function a(){this.set={}}a.prototype.add=function(i){var o=n.createID(i);this.contains(o)||(this.set[o]=i)},a.prototype.remove=function(i){delete this.set[n.createID(i)]},a.prototype.clear=function(){this.set={}},a.prototype.contains=function(i){return this.set[n.createID(i)]==i},a.prototype.isEmpty=function(){return this.size()===0},a.prototype.size=function(){return Object.keys(this.set).length},a.prototype.addAllTo=function(i){for(var o=Object.keys(this.set),s=o.length,l=0;l<s;l++)i.push(this.set[o[l]])},a.prototype.size=function(){return Object.keys(this.set).length},a.prototype.addAll=function(i){for(var o=i.length,s=0;s<o;s++){var l=i[s];this.add(l)}},e.exports=a},function(e,t,r){"use strict";var n=function(){function s(l,u){for(var f=0;f<u.length;f++){var h=u[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}return function(l,u,f){return u&&s(l.prototype,u),f&&s(l,f),l}}();function a(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}var i=r(11),o=function(){function s(l,u){a(this,s),(u!==null||u!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var f=void 0;l instanceof i?f=l.size():f=l.length,this._quicksort(l,0,f-1)}return n(s,[{key:"_quicksort",value:function(u,f,h){if(f<h){var d=this._partition(u,f,h);this._quicksort(u,f,d),this._quicksort(u,d+1,h)}}},{key:"_partition",value:function(u,f,h){for(var d=this._get(u,f),p=f,m=h;;){for(;this.compareFunction(d,this._get(u,m));)m--;for(;this.compareFunction(this._get(u,p),d);)p++;if(p<m)this._swap(u,p,m),p++,m--;else return m}}},{key:"_get",value:function(u,f){return u instanceof i?u.get_object_at(f):u[f]}},{key:"_set",value:function(u,f,h){u instanceof i?u.set_object_at(f,h):u[f]=h}},{key:"_swap",value:function(u,f,h){var d=this._get(u,f);this._set(u,f,this._get(u,h)),this._set(u,h,d)}},{key:"_defaultCompareFunction",value:function(u,f){return f>u}}]),s}();e.exports=o},function(e,t,r){"use strict";var n=function(){function o(s,l){for(var u=0;u<l.length;u++){var f=l[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(s,f.key,f)}}return function(s,l,u){return l&&o(s.prototype,l),u&&o(s,u),s}}();function a(o,s){if(!(o instanceof s))throw new TypeError("Cannot call a class as a function")}var i=function(){function o(s,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;a(this,o),this.sequence1=s,this.sequence2=l,this.match_score=u,this.mismatch_penalty=f,this.gap_penalty=h,this.iMax=s.length+1,this.jMax=l.length+1,this.grid=new Array(this.iMax);for(var d=0;d<this.iMax;d++){this.grid[d]=new Array(this.jMax);for(var p=0;p<this.jMax;p++)this.grid[d][p]=0}this.tracebackGrid=new Array(this.iMax);for(var m=0;m<this.iMax;m++){this.tracebackGrid[m]=new Array(this.jMax);for(var g=0;g<this.jMax;g++)this.tracebackGrid[m][g]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return n(o,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var l=1;l<this.jMax;l++)this.grid[0][l]=this.grid[0][l-1]+this.gap_penalty,this.tracebackGrid[0][l]=[!1,!1,!0];for(var u=1;u<this.iMax;u++)this.grid[u][0]=this.grid[u-1][0]+this.gap_penalty,this.tracebackGrid[u][0]=[!1,!0,!1];for(var f=1;f<this.iMax;f++)for(var h=1;h<this.jMax;h++){var d=void 0;this.sequence1[f-1]===this.sequence2[h-1]?d=this.grid[f-1][h-1]+this.match_score:d=this.grid[f-1][h-1]+this.mismatch_penalty;var p=this.grid[f-1][h]+this.gap_penalty,m=this.grid[f][h-1]+this.gap_penalty,g=[d,p,m],v=this.arrayAllMaxIndexes(g);this.grid[f][h]=g[v[0]],this.tracebackGrid[f][h]=[v.includes(0),v.includes(1),v.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var l=[];for(l.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});l[0];){var u=l[0],f=this.tracebackGrid[u.pos[0]][u.pos[1]];f[0]&&l.push({pos:[u.pos[0]-1,u.pos[1]-1],seq1:this.sequence1[u.pos[0]-1]+u.seq1,seq2:this.sequence2[u.pos[1]-1]+u.seq2}),f[1]&&l.push({pos:[u.pos[0]-1,u.pos[1]],seq1:this.sequence1[u.pos[0]-1]+u.seq1,seq2:"-"+u.seq2}),f[2]&&l.push({pos:[u.pos[0],u.pos[1]-1],seq1:"-"+u.seq1,seq2:this.sequence2[u.pos[1]-1]+u.seq2}),u.pos[0]===0&&u.pos[1]===0&&this.alignments.push({sequence1:u.seq1,sequence2:u.seq2}),l.shift()}return this.alignments}},{key:"getAllIndexes",value:function(l,u){for(var f=[],h=-1;(h=l.indexOf(u,h+1))!==-1;)f.push(h);return f}},{key:"arrayAllMaxIndexes",value:function(l){return this.getAllIndexes(l,Math.max.apply(null,l))}}]),o}();e.exports=i},function(e,t,r){"use strict";var n=function(){};n.FDLayout=r(18),n.FDLayoutConstants=r(7),n.FDLayoutEdge=r(19),n.FDLayoutNode=r(20),n.DimensionD=r(21),n.HashMap=r(22),n.HashSet=r(23),n.IGeometry=r(8),n.IMath=r(9),n.Integer=r(10),n.Point=r(12),n.PointD=r(4),n.RandomSeed=r(16),n.RectangleD=r(13),n.Transform=r(17),n.UniqueIDGeneretor=r(14),n.Quicksort=r(24),n.LinkedList=r(11),n.LGraphObject=r(2),n.LGraph=r(5),n.LEdge=r(1),n.LGraphManager=r(6),n.LNode=r(3),n.Layout=r(15),n.LayoutConstants=r(0),n.NeedlemanWunsch=r(25),e.exports=n},function(e,t,r){"use strict";function n(){this.listeners=[]}var a=n.prototype;a.addListener=function(i,o){this.listeners.push({event:i,callback:o})},a.removeListener=function(i,o){for(var s=this.listeners.length;s>=0;s--){var l=this.listeners[s];l.event===i&&l.callback===o&&this.listeners.splice(s,1)}},a.emit=function(i,o){for(var s=0;s<this.listeners.length;s++){var l=this.listeners[s];i===l.event&&l.callback(o)}},e.exports=n}])})});var BF=_o((F_,PF)=>{(function(t,r){typeof F_=="object"&&typeof PF=="object"?PF.exports=r(FF()):typeof define=="function"&&define.amd?define(["layout-base"],r):typeof F_=="object"?F_.coseBase=r(FF()):t.coseBase=r(t.layoutBase)})(F_,function(e){return function(t){var r={};function n(a){if(r[a])return r[a].exports;var i=r[a]={i:a,l:!1,exports:{}};return t[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=r,n.i=function(a){return a},n.d=function(a,i,o){n.o(a,i)||Object.defineProperty(a,i,{configurable:!1,enumerable:!0,get:o})},n.n=function(a){var i=a&&a.__esModule?function(){return a.default}:function(){return a};return n.d(i,"a",i),i},n.o=function(a,i){return Object.prototype.hasOwnProperty.call(a,i)},n.p="",n(n.s=7)}([function(t,r){t.exports=e},function(t,r,n){"use strict";var a=n(0).FDLayoutConstants;function i(){}for(var o in a)i[o]=a[o];i.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,i.DEFAULT_RADIAL_SEPARATION=a.DEFAULT_EDGE_LENGTH,i.DEFAULT_COMPONENT_SEPERATION=60,i.TILE=!0,i.TILING_PADDING_VERTICAL=10,i.TILING_PADDING_HORIZONTAL=10,i.TREE_REDUCTION_ON_INCREMENTAL=!1,t.exports=i},function(t,r,n){"use strict";var a=n(0).FDLayoutEdge;function i(s,l,u){a.call(this,s,l,u)}i.prototype=Object.create(a.prototype);for(var o in a)i[o]=a[o];t.exports=i},function(t,r,n){"use strict";var a=n(0).LGraph;function i(s,l,u){a.call(this,s,l,u)}i.prototype=Object.create(a.prototype);for(var o in a)i[o]=a[o];t.exports=i},function(t,r,n){"use strict";var a=n(0).LGraphManager;function i(s){a.call(this,s)}i.prototype=Object.create(a.prototype);for(var o in a)i[o]=a[o];t.exports=i},function(t,r,n){"use strict";var a=n(0).FDLayoutNode,i=n(0).IMath;function o(l,u,f,h){a.call(this,l,u,f,h)}o.prototype=Object.create(a.prototype);for(var s in a)o[s]=a[s];o.prototype.move=function(){var l=this.graphManager.getLayout();this.displacementX=l.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=l.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>l.coolingFactor*l.maxNodeDisplacement&&(this.displacementX=l.coolingFactor*l.maxNodeDisplacement*i.sign(this.displacementX)),Math.abs(this.displacementY)>l.coolingFactor*l.maxNodeDisplacement&&(this.displacementY=l.coolingFactor*l.maxNodeDisplacement*i.sign(this.displacementY)),this.child==null?this.moveBy(this.displacementX,this.displacementY):this.child.getNodes().length==0?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),l.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},o.prototype.propogateDisplacementToChildren=function(l,u){for(var f=this.getChild().getNodes(),h,d=0;d<f.length;d++)h=f[d],h.getChild()==null?(h.moveBy(l,u),h.displacementX+=l,h.displacementY+=u):h.propogateDisplacementToChildren(l,u)},o.prototype.setPred1=function(l){this.pred1=l},o.prototype.getPred1=function(){return pred1},o.prototype.getPred2=function(){return pred2},o.prototype.setNext=function(l){this.next=l},o.prototype.getNext=function(){return next},o.prototype.setProcessed=function(l){this.processed=l},o.prototype.isProcessed=function(){return processed},t.exports=o},function(t,r,n){"use strict";var a=n(0).FDLayout,i=n(4),o=n(3),s=n(5),l=n(2),u=n(1),f=n(0).FDLayoutConstants,h=n(0).LayoutConstants,d=n(0).Point,p=n(0).PointD,m=n(0).Layout,g=n(0).Integer,v=n(0).IGeometry,y=n(0).LGraph,b=n(0).Transform;function _(){a.call(this),this.toBeTiled={}}_.prototype=Object.create(a.prototype);for(var k in a)_[k]=a[k];_.prototype.newGraphManager=function(){var w=new i(this);return this.graphManager=w,w},_.prototype.newGraph=function(w){return new o(null,this.graphManager,w)},_.prototype.newNode=function(w){return new s(this.graphManager,w)},_.prototype.newEdge=function(w){return new l(null,null,w)},_.prototype.initParameters=function(){a.prototype.initParameters.call(this,arguments),this.isSubLayout||(u.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=u.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=u.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=f.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=f.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=f.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=f.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=f.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=f.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/f.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=f.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},_.prototype.layout=function(){var w=h.DEFAULT_CREATE_BENDS_AS_NEEDED;return w&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},_.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(u.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var T=new Set(this.getAllNodes()),S=this.nodesWithGravity.filter(function(N){return T.has(N)});this.graphManager.setAllNodesToApplyGravitation(S)}}else{var w=this.getFlatForest();if(w.length>0)this.positionNodesRadially(w);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var T=new Set(this.getAllNodes()),S=this.nodesWithGravity.filter(function(C){return T.has(C)});this.graphManager.setAllNodesToApplyGravitation(S),this.positionNodesRandomly()}}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},_.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%f.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var w=new Set(this.getAllNodes()),T=this.nodesWithGravity.filter(function(M){return w.has(M)});this.graphManager.setAllNodesToApplyGravitation(T),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=f.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=f.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var S=!this.isTreeGrowing&&!this.isGrowthFinished,C=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(S,C),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},_.prototype.getPositionsData=function(){for(var w=this.graphManager.getAllNodes(),T={},S=0;S<w.length;S++){var C=w[S].rect,M=w[S].id;T[M]={id:M,x:C.getCenterX(),y:C.getCenterY(),w:C.width,h:C.height}}return T},_.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var w=!1;if(f.ANIMATE==="during")this.emit("layoutstarted");else{for(;!w;)w=this.tick();this.graphManager.updateBounds()}},_.prototype.calculateNodesToApplyGravitationTo=function(){var w=[],T,S=this.graphManager.getGraphs(),C=S.length,M;for(M=0;M<C;M++)T=S[M],T.updateConnected(),T.isConnected||(w=w.concat(T.getNodes()));return w},_.prototype.createBendpoints=function(){var w=[];w=w.concat(this.graphManager.getAllEdges());var T=new Set,S;for(S=0;S<w.length;S++){var C=w[S];if(!T.has(C)){var M=C.getSource(),N=C.getTarget();if(M==N)C.getBendpoints().push(new p),C.getBendpoints().push(new p),this.createDummyNodesForBendpoints(C),T.add(C);else{var L=[];if(L=L.concat(M.getEdgeListToNode(N)),L=L.concat(N.getEdgeListToNode(M)),!T.has(L[0])){if(L.length>1){var E;for(E=0;E<L.length;E++){var A=L[E];A.getBendpoints().push(new p),this.createDummyNodesForBendpoints(A)}}L.forEach(function(D){T.add(D)})}}}if(T.size==w.length)break}},_.prototype.positionNodesRadially=function(w){for(var T=new d(0,0),S=Math.ceil(Math.sqrt(w.length)),C=0,M=0,N=0,L=new p(0,0),E=0;E<w.length;E++){E%S==0&&(N=0,M=C,E!=0&&(M+=u.DEFAULT_COMPONENT_SEPERATION),C=0);var A=w[E],D=m.findCenterOfTree(A);T.x=N,T.y=M,L=_.radialLayout(A,D,T),L.y>C&&(C=Math.floor(L.y)),N=Math.floor(L.x+u.DEFAULT_COMPONENT_SEPERATION)}this.transform(new p(h.WORLD_CENTER_X-L.x/2,h.WORLD_CENTER_Y-L.y/2))},_.radialLayout=function(w,T,S){var C=Math.max(this.maxDiagonalInTree(w),u.DEFAULT_RADIAL_SEPARATION);_.branchRadialLayout(T,null,0,359,0,C);var M=y.calculateBounds(w),N=new b;N.setDeviceOrgX(M.getMinX()),N.setDeviceOrgY(M.getMinY()),N.setWorldOrgX(S.x),N.setWorldOrgY(S.y);for(var L=0;L<w.length;L++){var E=w[L];E.transform(N)}var A=new p(M.getMaxX(),M.getMaxY());return N.inverseTransformPoint(A)},_.branchRadialLayout=function(w,T,S,C,M,N){var L=(C-S+1)/2;L<0&&(L+=180);var E=(L+S)%360,A=E*v.TWO_PI/360,D=Math.cos(A),R=M*Math.cos(A),I=M*Math.sin(A);w.setCenter(R,I);var O=[];O=O.concat(w.getEdges());var F=O.length;T!=null&&F--;for(var P=0,q=O.length,$,W=w.getEdgesBetween(T);W.length>1;){var X=W[0];W.splice(0,1);var tt=O.indexOf(X);tt>=0&&O.splice(tt,1),q--,F--}T!=null?$=(O.indexOf(W[0])+1)%q:$=0;for(var Y=Math.abs(C-S)/F,ot=$;P!=F;ot=++ot%q){var Z=O[ot].getOtherEnd(w);if(Z!=T){var ct=(S+P*Y)%360,rt=(ct+Y)%360;_.branchRadialLayout(Z,w,ct,rt,M+N,N),P++}}},_.maxDiagonalInTree=function(w){for(var T=g.MIN_VALUE,S=0;S<w.length;S++){var C=w[S],M=C.getDiagonal();M>T&&(T=M)}return T},_.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},_.prototype.groupZeroDegreeMembers=function(){var w=this,T={};this.memberGroups={},this.idToDummyNode={};for(var S=[],C=this.graphManager.getAllNodes(),M=0;M<C.length;M++){var N=C[M],L=N.getParent();this.getNodeDegreeWithChildren(N)===0&&(L.id==null||!this.getToBeTiled(L))&&S.push(N)}for(var M=0;M<S.length;M++){var N=S[M],E=N.getParent().id;typeof T[E]>"u"&&(T[E]=[]),T[E]=T[E].concat(N)}Object.keys(T).forEach(function(A){if(T[A].length>1){var D="DummyCompound_"+A;w.memberGroups[D]=T[A];var R=T[A][0].getParent(),I=new s(w.graphManager);I.id=D,I.paddingLeft=R.paddingLeft||0,I.paddingRight=R.paddingRight||0,I.paddingBottom=R.paddingBottom||0,I.paddingTop=R.paddingTop||0,w.idToDummyNode[D]=I;var O=w.getGraphManager().add(w.newGraph(),I),F=R.getChild();F.add(I);for(var P=0;P<T[A].length;P++){var q=T[A][P];F.remove(q),O.add(q)}}})},_.prototype.clearCompounds=function(){var w={},T={};this.performDFSOnCompounds();for(var S=0;S<this.compoundOrder.length;S++)T[this.compoundOrder[S].id]=this.compoundOrder[S],w[this.compoundOrder[S].id]=[].concat(this.compoundOrder[S].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[S].getChild()),this.compoundOrder[S].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(w,T)},_.prototype.clearZeroDegreeMembers=function(){var w=this,T=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(S){var C=w.idToDummyNode[S];T[S]=w.tileNodes(w.memberGroups[S],C.paddingLeft+C.paddingRight),C.rect.width=T[S].width,C.rect.height=T[S].height})},_.prototype.repopulateCompounds=function(){for(var w=this.compoundOrder.length-1;w>=0;w--){var T=this.compoundOrder[w],S=T.id,C=T.paddingLeft,M=T.paddingTop;this.adjustLocations(this.tiledMemberPack[S],T.rect.x,T.rect.y,C,M)}},_.prototype.repopulateZeroDegreeMembers=function(){var w=this,T=this.tiledZeroDegreePack;Object.keys(T).forEach(function(S){var C=w.idToDummyNode[S],M=C.paddingLeft,N=C.paddingTop;w.adjustLocations(T[S],C.rect.x,C.rect.y,M,N)})},_.prototype.getToBeTiled=function(w){var T=w.id;if(this.toBeTiled[T]!=null)return this.toBeTiled[T];var S=w.getChild();if(S==null)return this.toBeTiled[T]=!1,!1;for(var C=S.getNodes(),M=0;M<C.length;M++){var N=C[M];if(this.getNodeDegree(N)>0)return this.toBeTiled[T]=!1,!1;if(N.getChild()==null){this.toBeTiled[N.id]=!1;continue}if(!this.getToBeTiled(N))return this.toBeTiled[T]=!1,!1}return this.toBeTiled[T]=!0,!0},_.prototype.getNodeDegree=function(w){for(var T=w.id,S=w.getEdges(),C=0,M=0;M<S.length;M++){var N=S[M];N.getSource().id!==N.getTarget().id&&(C=C+1)}return C},_.prototype.getNodeDegreeWithChildren=function(w){var T=this.getNodeDegree(w);if(w.getChild()==null)return T;for(var S=w.getChild().getNodes(),C=0;C<S.length;C++){var M=S[C];T+=this.getNodeDegreeWithChildren(M)}return T},_.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},_.prototype.fillCompexOrderByDFS=function(w){for(var T=0;T<w.length;T++){var S=w[T];S.getChild()!=null&&this.fillCompexOrderByDFS(S.getChild().getNodes()),this.getToBeTiled(S)&&this.compoundOrder.push(S)}},_.prototype.adjustLocations=function(w,T,S,C,M){T+=C,S+=M;for(var N=T,L=0;L<w.rows.length;L++){var E=w.rows[L];T=N;for(var A=0,D=0;D<E.length;D++){var R=E[D];R.rect.x=T,R.rect.y=S,T+=R.rect.width+w.horizontalPadding,R.rect.height>A&&(A=R.rect.height)}S+=A+w.verticalPadding}},_.prototype.tileCompoundMembers=function(w,T){var S=this;this.tiledMemberPack=[],Object.keys(w).forEach(function(C){var M=T[C];S.tiledMemberPack[C]=S.tileNodes(w[C],M.paddingLeft+M.paddingRight),M.rect.width=S.tiledMemberPack[C].width,M.rect.height=S.tiledMemberPack[C].height})},_.prototype.tileNodes=function(w,T){var S=u.TILING_PADDING_VERTICAL,C=u.TILING_PADDING_HORIZONTAL,M={rows:[],rowWidth:[],rowHeight:[],width:0,height:T,verticalPadding:S,horizontalPadding:C};w.sort(function(E,A){return E.rect.width*E.rect.height>A.rect.width*A.rect.height?-1:E.rect.width*E.rect.height<A.rect.width*A.rect.height?1:0});for(var N=0;N<w.length;N++){var L=w[N];M.rows.length==0?this.insertNodeToRow(M,L,0,T):this.canAddHorizontal(M,L.rect.width,L.rect.height)?this.insertNodeToRow(M,L,this.getShortestRowIndex(M),T):this.insertNodeToRow(M,L,M.rows.length,T),this.shiftToLastRow(M)}return M},_.prototype.insertNodeToRow=function(w,T,S,C){var M=C;if(S==w.rows.length){var N=[];w.rows.push(N),w.rowWidth.push(M),w.rowHeight.push(0)}var L=w.rowWidth[S]+T.rect.width;w.rows[S].length>0&&(L+=w.horizontalPadding),w.rowWidth[S]=L,w.width<L&&(w.width=L);var E=T.rect.height;S>0&&(E+=w.verticalPadding);var A=0;E>w.rowHeight[S]&&(A=w.rowHeight[S],w.rowHeight[S]=E,A=w.rowHeight[S]-A),w.height+=A,w.rows[S].push(T)},_.prototype.getShortestRowIndex=function(w){for(var T=-1,S=Number.MAX_VALUE,C=0;C<w.rows.length;C++)w.rowWidth[C]<S&&(T=C,S=w.rowWidth[C]);return T},_.prototype.getLongestRowIndex=function(w){for(var T=-1,S=Number.MIN_VALUE,C=0;C<w.rows.length;C++)w.rowWidth[C]>S&&(T=C,S=w.rowWidth[C]);return T},_.prototype.canAddHorizontal=function(w,T,S){var C=this.getShortestRowIndex(w);if(C<0)return!0;var M=w.rowWidth[C];if(M+w.horizontalPadding+T<=w.width)return!0;var N=0;w.rowHeight[C]<S&&C>0&&(N=S+w.verticalPadding-w.rowHeight[C]);var L;w.width-M>=T+w.horizontalPadding?L=(w.height+N)/(M+T+w.horizontalPadding):L=(w.height+N)/w.width,N=S+w.verticalPadding;var E;return w.width<T?E=(w.height+N)/T:E=(w.height+N)/w.width,E<1&&(E=1/E),L<1&&(L=1/L),L<E},_.prototype.shiftToLastRow=function(w){var T=this.getLongestRowIndex(w),S=w.rowWidth.length-1,C=w.rows[T],M=C[C.length-1],N=M.width+w.horizontalPadding;if(w.width-w.rowWidth[S]>N&&T!=S){C.splice(-1,1),w.rows[S].push(M),w.rowWidth[T]=w.rowWidth[T]-N,w.rowWidth[S]=w.rowWidth[S]+N,w.width=w.rowWidth[instance.getLongestRowIndex(w)];for(var L=Number.MIN_VALUE,E=0;E<C.length;E++)C[E].height>L&&(L=C[E].height);T>0&&(L+=w.verticalPadding);var A=w.rowHeight[T]+w.rowHeight[S];w.rowHeight[T]=L,w.rowHeight[S]<M.height+w.verticalPadding&&(w.rowHeight[S]=M.height+w.verticalPadding);var D=w.rowHeight[T]+w.rowHeight[S];w.height+=D-A,this.shiftToLastRow(w)}},_.prototype.tilingPreLayout=function(){u.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},_.prototype.tilingPostLayout=function(){u.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},_.prototype.reduceTrees=function(){for(var w=[],T=!0,S;T;){var C=this.graphManager.getAllNodes(),M=[];T=!1;for(var N=0;N<C.length;N++)S=C[N],S.getEdges().length==1&&!S.getEdges()[0].isInterGraph&&S.getChild()==null&&(M.push([S,S.getEdges()[0],S.getOwner()]),T=!0);if(T==!0){for(var L=[],E=0;E<M.length;E++)M[E][0].getEdges().length==1&&(L.push(M[E]),M[E][0].getOwner().remove(M[E][0]));w.push(L),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=w},_.prototype.growTree=function(w){for(var T=w.length,S=w[T-1],C,M=0;M<S.length;M++)C=S[M],this.findPlaceforPrunedNode(C),C[2].add(C[0]),C[2].add(C[1],C[1].source,C[1].target);w.splice(w.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},_.prototype.findPlaceforPrunedNode=function(w){var T,S,C=w[0];C==w[1].source?S=w[1].target:S=w[1].source;var M=S.startX,N=S.finishX,L=S.startY,E=S.finishY,A=0,D=0,R=0,I=0,O=[A,R,D,I];if(L>0)for(var F=M;F<=N;F++)O[0]+=this.grid[F][L-1].length+this.grid[F][L].length-1;if(N<this.grid.length-1)for(var F=L;F<=E;F++)O[1]+=this.grid[N+1][F].length+this.grid[N][F].length-1;if(E<this.grid[0].length-1)for(var F=M;F<=N;F++)O[2]+=this.grid[F][E+1].length+this.grid[F][E].length-1;if(M>0)for(var F=L;F<=E;F++)O[3]+=this.grid[M-1][F].length+this.grid[M][F].length-1;for(var P=g.MAX_VALUE,q,$,W=0;W<O.length;W++)O[W]<P?(P=O[W],q=1,$=W):O[W]==P&&q++;if(q==3&&P==0)O[0]==0&&O[1]==0&&O[2]==0?T=1:O[0]==0&&O[1]==0&&O[3]==0?T=0:O[0]==0&&O[2]==0&&O[3]==0?T=3:O[1]==0&&O[2]==0&&O[3]==0&&(T=2);else if(q==2&&P==0){var X=Math.floor(Math.random()*2);O[0]==0&&O[1]==0?X==0?T=0:T=1:O[0]==0&&O[2]==0?X==0?T=0:T=2:O[0]==0&&O[3]==0?X==0?T=0:T=3:O[1]==0&&O[2]==0?X==0?T=1:T=2:O[1]==0&&O[3]==0?X==0?T=1:T=3:X==0?T=2:T=3}else if(q==4&&P==0){var X=Math.floor(Math.random()*4);T=X}else T=$;T==0?C.setCenter(S.getCenterX(),S.getCenterY()-S.getHeight()/2-f.DEFAULT_EDGE_LENGTH-C.getHeight()/2):T==1?C.setCenter(S.getCenterX()+S.getWidth()/2+f.DEFAULT_EDGE_LENGTH+C.getWidth()/2,S.getCenterY()):T==2?C.setCenter(S.getCenterX(),S.getCenterY()+S.getHeight()/2+f.DEFAULT_EDGE_LENGTH+C.getHeight()/2):C.setCenter(S.getCenterX()-S.getWidth()/2-f.DEFAULT_EDGE_LENGTH-C.getWidth()/2,S.getCenterY())},t.exports=_},function(t,r,n){"use strict";var a={};a.layoutBase=n(0),a.CoSEConstants=n(1),a.CoSEEdge=n(2),a.CoSEGraph=n(3),a.CoSEGraphManager=n(4),a.CoSELayout=n(6),a.CoSENode=n(5),t.exports=a}])})});var vmt=_o((P_,$F)=>{(function(t,r){typeof P_=="object"&&typeof $F=="object"?$F.exports=r(BF()):typeof define=="function"&&define.amd?define(["cose-base"],r):typeof P_=="object"?P_.cytoscapeCoseBilkent=r(BF()):t.cytoscapeCoseBilkent=r(t.coseBase)})(P_,function(e){return function(t){var r={};function n(a){if(r[a])return r[a].exports;var i=r[a]={i:a,l:!1,exports:{}};return t[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=r,n.i=function(a){return a},n.d=function(a,i,o){n.o(a,i)||Object.defineProperty(a,i,{configurable:!1,enumerable:!0,get:o})},n.n=function(a){var i=a&&a.__esModule?function(){return a.default}:function(){return a};return n.d(i,"a",i),i},n.o=function(a,i){return Object.prototype.hasOwnProperty.call(a,i)},n.p="",n(n.s=1)}([function(t,r){t.exports=e},function(t,r,n){"use strict";var a=n(0).layoutBase.LayoutConstants,i=n(0).layoutBase.FDLayoutConstants,o=n(0).CoSEConstants,s=n(0).CoSELayout,l=n(0).CoSENode,u=n(0).layoutBase.PointD,f=n(0).layoutBase.DimensionD,h={ready:function(){},stop:function(){},quality:"default",nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:10,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.5};function d(v,y){var b={};for(var _ in v)b[_]=v[_];for(var _ in y)b[_]=y[_];return b}function p(v){this.options=d(h,v),m(this.options)}var m=function(y){y.nodeRepulsion!=null&&(o.DEFAULT_REPULSION_STRENGTH=i.DEFAULT_REPULSION_STRENGTH=y.nodeRepulsion),y.idealEdgeLength!=null&&(o.DEFAULT_EDGE_LENGTH=i.DEFAULT_EDGE_LENGTH=y.idealEdgeLength),y.edgeElasticity!=null&&(o.DEFAULT_SPRING_STRENGTH=i.DEFAULT_SPRING_STRENGTH=y.edgeElasticity),y.nestingFactor!=null&&(o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=i.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=y.nestingFactor),y.gravity!=null&&(o.DEFAULT_GRAVITY_STRENGTH=i.DEFAULT_GRAVITY_STRENGTH=y.gravity),y.numIter!=null&&(o.MAX_ITERATIONS=i.MAX_ITERATIONS=y.numIter),y.gravityRange!=null&&(o.DEFAULT_GRAVITY_RANGE_FACTOR=i.DEFAULT_GRAVITY_RANGE_FACTOR=y.gravityRange),y.gravityCompound!=null&&(o.DEFAULT_COMPOUND_GRAVITY_STRENGTH=i.DEFAULT_COMPOUND_GRAVITY_STRENGTH=y.gravityCompound),y.gravityRangeCompound!=null&&(o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=i.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=y.gravityRangeCompound),y.initialEnergyOnIncremental!=null&&(o.DEFAULT_COOLING_FACTOR_INCREMENTAL=i.DEFAULT_COOLING_FACTOR_INCREMENTAL=y.initialEnergyOnIncremental),y.quality=="draft"?a.QUALITY=0:y.quality=="proof"?a.QUALITY=2:a.QUALITY=1,o.NODE_DIMENSIONS_INCLUDE_LABELS=i.NODE_DIMENSIONS_INCLUDE_LABELS=a.NODE_DIMENSIONS_INCLUDE_LABELS=y.nodeDimensionsIncludeLabels,o.DEFAULT_INCREMENTAL=i.DEFAULT_INCREMENTAL=a.DEFAULT_INCREMENTAL=!y.randomize,o.ANIMATE=i.ANIMATE=a.ANIMATE=y.animate,o.TILE=y.tile,o.TILING_PADDING_VERTICAL=typeof y.tilingPaddingVertical=="function"?y.tilingPaddingVertical.call():y.tilingPaddingVertical,o.TILING_PADDING_HORIZONTAL=typeof y.tilingPaddingHorizontal=="function"?y.tilingPaddingHorizontal.call():y.tilingPaddingHorizontal};p.prototype.run=function(){var v,y,b=this.options,_=this.idToLNode={},k=this.layout=new s,w=this;w.stopped=!1,this.cy=this.options.cy,this.cy.trigger({type:"layoutstart",layout:this});var T=k.newGraphManager();this.gm=T;var S=this.options.eles.nodes(),C=this.options.eles.edges();this.root=T.addRoot(),this.processChildrenList(this.root,this.getTopMostNodes(S),k);for(var M=0;M<C.length;M++){var N=C[M],L=this.idToLNode[N.data("source")],E=this.idToLNode[N.data("target")];if(L!==E&&L.getEdgesBetween(E).length==0){var A=T.add(k.newEdge(),L,E);A.id=N.id()}}var D=function(O,F){typeof O=="number"&&(O=F);var P=O.data("id"),q=w.idToLNode[P];return{x:q.getRect().getCenterX(),y:q.getRect().getCenterY()}},R=function I(){for(var O=function(){b.fit&&b.cy.fit(b.eles,b.padding),v||(v=!0,w.cy.one("layoutready",b.ready),w.cy.trigger({type:"layoutready",layout:w}))},F=w.options.refresh,P,q=0;q<F&&!P;q++)P=w.stopped||w.layout.tick();if(P){k.checkLayoutSuccess()&&!k.isSubLayout&&k.doPostLayout(),k.tilingPostLayout&&k.tilingPostLayout(),k.isLayoutFinished=!0,w.options.eles.nodes().positions(D),O(),w.cy.one("layoutstop",w.options.stop),w.cy.trigger({type:"layoutstop",layout:w}),y&&cancelAnimationFrame(y),v=!1;return}var $=w.layout.getPositionsData();b.eles.nodes().positions(function(W,X){if(typeof W=="number"&&(W=X),!W.isParent()){for(var tt=W.id(),Y=$[tt],ot=W;Y==null&&(Y=$[ot.data("parent")]||$["DummyCompound_"+ot.data("parent")],$[tt]=Y,ot=ot.parent()[0],ot!=null););return Y!=null?{x:Y.x,y:Y.y}:{x:W.position("x"),y:W.position("y")}}}),O(),y=requestAnimationFrame(I)};return k.addListener("layoutstarted",function(){w.options.animate==="during"&&(y=requestAnimationFrame(R))}),k.runLayout(),this.options.animate!=="during"&&(w.options.eles.nodes().not(":parent").layoutPositions(w,w.options,D),v=!1),this},p.prototype.getTopMostNodes=function(v){for(var y={},b=0;b<v.length;b++)y[v[b].id()]=!0;var _=v.filter(function(k,w){typeof k=="number"&&(k=w);for(var T=k.parent()[0];T!=null;){if(y[T.id()])return!1;T=T.parent()[0]}return!0});return _},p.prototype.processChildrenList=function(v,y,b){for(var _=y.length,k=0;k<_;k++){var w=y[k],T=w.children(),S,C=w.layoutDimensions({nodeDimensionsIncludeLabels:this.options.nodeDimensionsIncludeLabels});if(w.outerWidth()!=null&&w.outerHeight()!=null?S=v.add(new l(b.graphManager,new u(w.position("x")-C.w/2,w.position("y")-C.h/2),new f(parseFloat(C.w),parseFloat(C.h)))):S=v.add(new l(this.graphManager)),S.id=w.data("id"),S.paddingLeft=parseInt(w.css("padding")),S.paddingTop=parseInt(w.css("padding")),S.paddingRight=parseInt(w.css("padding")),S.paddingBottom=parseInt(w.css("padding")),this.options.nodeDimensionsIncludeLabels&&w.isParent()){var M=w.boundingBox({includeLabels:!0,includeNodes:!1}).w,N=w.boundingBox({includeLabels:!0,includeNodes:!1}).h,L=w.css("text-halign");S.labelWidth=M,S.labelHeight=N,S.labelPos=L}if(this.idToLNode[w.data("id")]=S,isNaN(S.rect.x)&&(S.rect.x=0),isNaN(S.rect.y)&&(S.rect.y=0),T!=null&&T.length>0){var E;E=b.getGraphManager().add(b.newGraph(),S),this.processChildrenList(E,T,b)}}},p.prototype.stop=function(){return this.stopped=!0,this};var g=function(y){y("layout","cose-bilkent",p)};typeof cytoscape<"u"&&g(cytoscape),t.exports=g}])})});var Cmt={};pr(Cmt,{render:()=>Ajt});function xmt(e,t){e.forEach(r=>{let n={id:r.id,labelText:r.label,height:r.height,width:r.width,padding:r.padding??0};Object.keys(r).forEach(a=>{["id","label","height","width","padding","x","y"].includes(a)||(n[a]=r[a])}),t.add({group:"nodes",data:n,position:{x:r.x??0,y:r.y??0}})})}function bmt(e,t){e.forEach(r=>{let n={id:r.id,source:r.start,target:r.end};Object.keys(r).forEach(a=>{["id","start","end"].includes(a)||(n[a]=r[a])}),t.add({group:"edges",data:n})})}function _mt(e){return new Promise(t=>{let r=Vt("body").append("div").attr("id","cy").attr("style","display:none"),n=Yl({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"bezier"}}]});r.remove(),xmt(e.nodes,n),bmt(e.edges,n),n.nodes().forEach(function(i){i.layoutDimensions=()=>{let o=i.data();return{w:o.width,h:o.height}}});let a={name:"cose-bilkent",quality:"proof",styleEnabled:!1,animate:!1};n.layout(a).run(),n.ready(i=>{J.info("Cytoscape ready",i),t(n)})})}function wmt(e){return e.nodes().map(t=>{let r=t.data(),n=t.position(),a={id:r.id,x:n.x,y:n.y};return Object.keys(r).forEach(i=>{i!=="id"&&(a[i]=r[i])}),a})}function Tmt(e){return e.edges().map(t=>{let r=t.data(),n=t._private.rscratch,a={id:r.id,source:r.source,target:r.target,startX:n.startX,startY:n.startY,midX:n.midX,midY:n.midY,endX:n.endX,endY:n.endY};return Object.keys(r).forEach(i=>{["id","source","target"].includes(i)||(a[i]=r[i])}),a})}async function Emt(e,t){J.debug("Starting cose-bilkent layout algorithm");try{kmt(e);let r=await _mt(e),n=wmt(r),a=Tmt(r);return J.debug(`Layout completed: ${n.length} nodes, ${a.length} edges`),{nodes:n,edges:a}}catch(r){throw J.error("Error in cose-bilkent layout algorithm:",r),r}}function kmt(e){if(!e)throw new Error("Layout data is required");if(!e.config)throw new Error("Configuration is required in layout data");if(!e.rootNode)throw new Error("Root node is required");if(!e.nodes||!Array.isArray(e.nodes))throw new Error("No nodes found in layout data");if(!Array.isArray(e.edges))throw new Error("Edges array is required in layout data");return!0}var ymt,Djt,Ajt,Smt=B(()=>{nr();NF();ymt=qo(vmt(),1);hr();Yl.use(ymt.default);x(xmt,"addNodes");x(bmt,"addEdges");x(_mt,"createCytoscapeInstance");x(wmt,"extractPositionedNodes");x(Tmt,"extractPositionedEdges");x(Emt,"executeCoseBilkentLayout");x(kmt,"validateLayoutData");Djt=x(async(e,t,{insertCluster:r,insertEdge:n,insertEdgeLabel:a,insertMarkers:i,insertNode:o,log:s,positionEdgeLabel:l},{algorithm:u})=>{let f={},h={},d=t.select("g");i(d,e.markers,e.type,e.diagramId);let p=d.insert("g").attr("class","subgraphs"),m=d.insert("g").attr("class","edgePaths"),g=d.insert("g").attr("class","edgeLabels"),v=d.insert("g").attr("class","nodes");s.debug("Inserting nodes into DOM for dimension calculation"),await Promise.all(e.nodes.map(async _=>{if(_.isGroup){let k={..._};h[_.id]=k,f[_.id]=k,await r(p,_)}else{let k={..._};f[_.id]=k;let w=await o(v,_,{config:e.config,dir:e.direction||"TB"}),T=w.node().getBBox();k.width=T.width,k.height=T.height,k.domId=w,s.debug(`Node ${_.id} dimensions: ${T.width}x${T.height}`)}})),s.debug("Running cose-bilkent layout algorithm");let y={...e,nodes:e.nodes.map(_=>{let k=f[_.id];return{..._,width:k.width,height:k.height}})},b=await Emt(y,e.config);s.debug("Positioning nodes based on layout results"),b.nodes.forEach(_=>{let k=f[_.id];k?.domId&&(k.domId.attr("transform",`translate(${_.x}, ${_.y})`),k.x=_.x,k.y=_.y,s.debug(`Positioned node ${k.id} at center (${_.x}, ${_.y})`))}),b.edges.forEach(_=>{let k=e.edges.find(w=>w.id===_.id);k&&(k.points=[{x:_.startX,y:_.startY},{x:_.midX,y:_.midY},{x:_.endX,y:_.endY}])}),s.debug("Inserting and positioning edges"),await Promise.all(e.edges.map(async _=>{let k=await a(g,_),w=f[_.start??""],T=f[_.end??""];if(w&&T){let S=b.edges.find(C=>C.id===_.id);if(S){s.debug("APA01 positionedEdge",S);let C={..._},M=n(m,C,h,e.type,w,T,e.diagramId);l(C,M)}else{let C={..._,points:[{x:w.x||0,y:w.y||0},{x:T.x||0,y:T.y||0}]},M=n(m,C,h,e.type,w,T,e.diagramId);l(C,M)}}})),s.debug("Cose-bilkent rendering completed")},"render"),Ajt=Djt});var Ljt,B_,zF,Mjt,Xl,jc,jl=B(()=>{$l();Ns();On();Tr();nr();Ljt={common:Jt,getConfig:ur,insertCluster:y1,insertEdge:ZE,insertEdgeLabel:KE,insertMarkers:JE,insertNode:M0,interpolateToCurve:bE,labelHelper:Qe,log:J,positionEdgeLabel:QE},B_={},zF=x(e=>{for(let t of e)B_[t.name]=t},"registerLayoutLoaders"),Mjt=x(()=>{zF([{name:"dagre",loader:x(async()=>await Promise.resolve().then(()=>(Qft(),Kft)),"loader")},{name:"cose-bilkent",loader:x(async()=>await Promise.resolve().then(()=>(Smt(),Cmt)),"loader")}])},"registerDefaultLayoutLoaders");Mjt();Xl=x(async(e,t)=>{if(!(e.layoutAlgorithm in B_))throw new Error(`Unknown layout algorithm: ${e.layoutAlgorithm}`);let r=B_[e.layoutAlgorithm];return(await r.loader()).render(e,t,Ljt,{algorithm:r.algorithm})},"render"),jc=x((e="",{fallback:t="dagre"}={})=>{if(e in B_)return e;if(t in B_)return J.warn(`Layout algorithm ${e} is not registered. Using ${t} as fallback.`),t;throw new Error(`Both layout algorithms ${e} and ${t} are not registered.`)},"getRegisteredLayoutAlgorithm")});var WF,am,mS,Ymt,gS,vS,Lo,yS,xS=B(()=>{Tr();nr();WF=qo(jg(),1),am=x((e,t)=>{let r=e.append("rect");if(r.attr("x",t.x),r.attr("y",t.y),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("width",t.width),r.attr("height",t.height),t.name&&r.attr("name",t.name),t.rx&&r.attr("rx",t.rx),t.ry&&r.attr("ry",t.ry),t.attrs!==void 0)for(let n in t.attrs)r.attr(n,t.attrs[n]);return t.class&&r.attr("class",t.class),r},"drawRect"),mS=x((e,t)=>{let r={x:t.startx,y:t.starty,width:t.stopx-t.startx,height:t.stopy-t.starty,fill:t.fill,stroke:t.stroke,class:"rect"};am(e,r).lower()},"drawBackgroundRect"),Ymt=x((e,t)=>{let r=t.text.replace(Xp," "),n=e.append("text");n.attr("x",t.x),n.attr("y",t.y),n.attr("class","legend"),n.style("text-anchor",t.anchor),t.class&&n.attr("class",t.class);let a=n.append("tspan");return a.attr("x",t.x+t.textMargin*2),a.text(r),n},"drawText"),gS=x((e,t,r,n)=>{let a=e.append("image");a.attr("x",t),a.attr("y",r);let i=(0,WF.sanitizeUrl)(n);a.attr("xlink:href",i)},"drawImage"),vS=x((e,t,r,n)=>{let a=e.append("use");a.attr("x",t),a.attr("y",r);let i=(0,WF.sanitizeUrl)(n);a.attr("xlink:href",`#${i}`)},"drawEmbeddedImage"),Lo=x(()=>({x:0,y:0,width:100,height:100,fill:"#EDF2AE",stroke:"#666",anchor:"start",rx:0,ry:0}),"getNoteRect"),yS=x(()=>({x:0,y:0,width:100,height:100,"text-anchor":"start",style:"#666",textMargin:0,rx:0,ry:0,tspan:!0}),"getTextObj")});var igt={};pr(igt,{diagram:()=>CKt});function Jl(e,t,r,n,a){if(!t[e].width)if(r)t[e].text=J9(t[e].text,a,n),t[e].textLines=t[e].text.split(Jt.lineBreakRegex).length,t[e].width=a,t[e].height=Lb(t[e].text,n);else{let i=t[e].text.split(Jt.lineBreakRegex);t[e].textLines=i.length;let o=0;t[e].height=0,t[e].width=0;for(let s of i)t[e].width=Math.max(Qi(s,n),t[e].width),o=Lb(s,n),t[e].height=t[e].height+o}}function KF(e,t,r,n,a){let i=new rgt(a);i.data.widthLimit=r.data.widthLimit/Math.min(VF,n.length);for(let[o,s]of n.entries()){let l=0;s.image={width:0,height:0,Y:0},s.sprite&&(s.image.width=48,s.image.height=48,s.image.Y=l,l=s.image.Y+s.image.height);let u=s.wrap&&Ue.wrap,f=bS(Ue);if(f.fontSize=f.fontSize+2,f.fontWeight="bold",Jl("label",s,u,f,i.data.widthLimit),s.label.Y=l+8,l=s.label.Y+s.label.height,s.type&&s.type.text!==""){s.type.text="["+s.type.text+"]";let m=bS(Ue);Jl("type",s,u,m,i.data.widthLimit),s.type.Y=l+5,l=s.type.Y+s.type.height}if(s.descr&&s.descr.text!==""){let m=bS(Ue);m.fontSize=m.fontSize-2,Jl("descr",s,u,m,i.data.widthLimit),s.descr.Y=l+20,l=s.descr.Y+s.descr.height}if(o==0||o%VF===0){let m=r.data.startx+Ue.diagramMarginX,g=r.data.stopy+Ue.diagramMarginY+l;i.setData(m,m,g,g)}else{let m=i.data.stopx!==i.data.startx?i.data.stopx+Ue.diagramMarginX:i.data.startx,g=i.data.starty;i.setData(m,m,g,g)}i.name=s.alias;let h=a.db.getC4ShapeArray(s.alias),d=a.db.getC4ShapeKeys(s.alias);d.length>0&&agt(i,e,h,d),t=s.alias;let p=a.db.getBoundaries(t);p.length>0&&KF(e,t,i,p,a),s.alias!=="global"&&ngt(e,s,i),r.data.stopy=Math.max(i.data.stopy+Ue.c4ShapeMargin,r.data.stopy),r.data.stopx=Math.max(i.data.stopx+Ue.c4ShapeMargin,r.data.stopx),ES=Math.max(ES,r.data.stopx),kS=Math.max(kS,r.data.stopy)}}var Jmt,_S,Rjt,Pu,rp,os,Fu,Qc,W_,YF,XF,wS,TS,Kmt,Njt,Ojt,Fjt,Pjt,Bjt,$jt,zjt,qjt,Ujt,Wjt,Gjt,Vjt,Hjt,Yjt,Xjt,jjt,Kjt,Qmt,Qjt,Zjt,Zmt,Jjt,tKt,eKt,rKt,np,nKt,aKt,iKt,oKt,sKt,GF,jF,tgt,lKt,uKt,cKt,fKt,hKt,dKt,pKt,mKt,gKt,vKt,yKt,xKt,sh,Kc,ES,kS,egt,VF,Ue,rgt,HF,U_,bS,bKt,ngt,agt,Zl,Xmt,_Kt,wKt,TKt,jmt,EKt,kKt,CKt,ogt=B(()=>{xS();On();Tr();nr();hr();Jmt=qo(jg(),1),_S=function(){var e=x(function(Ht,Lt,Nt,It){for(Nt=Nt||{},It=Ht.length;It--;Nt[Ht[It]]=Lt);return Nt},"o"),t=[1,24],r=[1,25],n=[1,26],a=[1,27],i=[1,28],o=[1,63],s=[1,64],l=[1,65],u=[1,66],f=[1,67],h=[1,68],d=[1,69],p=[1,29],m=[1,30],g=[1,31],v=[1,32],y=[1,33],b=[1,34],_=[1,35],k=[1,36],w=[1,37],T=[1,38],S=[1,39],C=[1,40],M=[1,41],N=[1,42],L=[1,43],E=[1,44],A=[1,45],D=[1,46],R=[1,47],I=[1,48],O=[1,50],F=[1,51],P=[1,52],q=[1,53],$=[1,54],W=[1,55],X=[1,56],tt=[1,57],Y=[1,58],ot=[1,59],Z=[1,60],ct=[14,42],rt=[14,34,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],et=[12,14,34,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],Q=[1,82],j=[1,83],it=[1,84],K=[1,85],dt=[12,14,42],nt=[12,14,33,42],_t=[12,14,33,42,76,77,79,80],V=[12,33],Ut=[34,36,37,38,39,40,41,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],pt={trace:x(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,direction:5,direction_tb:6,direction_bt:7,direction_rl:8,direction_lr:9,graphConfig:10,C4_CONTEXT:11,NEWLINE:12,statements:13,EOF:14,C4_CONTAINER:15,C4_COMPONENT:16,C4_DYNAMIC:17,C4_DEPLOYMENT:18,otherStatements:19,diagramStatements:20,otherStatement:21,title:22,accDescription:23,acc_title:24,acc_title_value:25,acc_descr:26,acc_descr_value:27,acc_descr_multiline_value:28,boundaryStatement:29,boundaryStartStatement:30,boundaryStopStatement:31,boundaryStart:32,LBRACE:33,ENTERPRISE_BOUNDARY:34,attributes:35,SYSTEM_BOUNDARY:36,BOUNDARY:37,CONTAINER_BOUNDARY:38,NODE:39,NODE_L:40,NODE_R:41,RBRACE:42,diagramStatement:43,PERSON:44,PERSON_EXT:45,SYSTEM:46,SYSTEM_DB:47,SYSTEM_QUEUE:48,SYSTEM_EXT:49,SYSTEM_EXT_DB:50,SYSTEM_EXT_QUEUE:51,CONTAINER:52,CONTAINER_DB:53,CONTAINER_QUEUE:54,CONTAINER_EXT:55,CONTAINER_EXT_DB:56,CONTAINER_EXT_QUEUE:57,COMPONENT:58,COMPONENT_DB:59,COMPONENT_QUEUE:60,COMPONENT_EXT:61,COMPONENT_EXT_DB:62,COMPONENT_EXT_QUEUE:63,REL:64,BIREL:65,REL_U:66,REL_D:67,REL_L:68,REL_R:69,REL_B:70,REL_INDEX:71,UPDATE_EL_STYLE:72,UPDATE_REL_STYLE:73,UPDATE_LAYOUT_CONFIG:74,attribute:75,STR:76,STR_KEY:77,STR_VALUE:78,ATTRIBUTE:79,ATTRIBUTE_EMPTY:80,$accept:0,$end:1},terminals_:{2:"error",6:"direction_tb",7:"direction_bt",8:"direction_rl",9:"direction_lr",11:"C4_CONTEXT",12:"NEWLINE",14:"EOF",15:"C4_CONTAINER",16:"C4_COMPONENT",17:"C4_DYNAMIC",18:"C4_DEPLOYMENT",22:"title",23:"accDescription",24:"acc_title",25:"acc_title_value",26:"acc_descr",27:"acc_descr_value",28:"acc_descr_multiline_value",33:"LBRACE",34:"ENTERPRISE_BOUNDARY",36:"SYSTEM_BOUNDARY",37:"BOUNDARY",38:"CONTAINER_BOUNDARY",39:"NODE",40:"NODE_L",41:"NODE_R",42:"RBRACE",44:"PERSON",45:"PERSON_EXT",46:"SYSTEM",47:"SYSTEM_DB",48:"SYSTEM_QUEUE",49:"SYSTEM_EXT",50:"SYSTEM_EXT_DB",51:"SYSTEM_EXT_QUEUE",52:"CONTAINER",53:"CONTAINER_DB",54:"CONTAINER_QUEUE",55:"CONTAINER_EXT",56:"CONTAINER_EXT_DB",57:"CONTAINER_EXT_QUEUE",58:"COMPONENT",59:"COMPONENT_DB",60:"COMPONENT_QUEUE",61:"COMPONENT_EXT",62:"COMPONENT_EXT_DB",63:"COMPONENT_EXT_QUEUE",64:"REL",65:"BIREL",66:"REL_U",67:"REL_D",68:"REL_L",69:"REL_R",70:"REL_B",71:"REL_INDEX",72:"UPDATE_EL_STYLE",73:"UPDATE_REL_STYLE",74:"UPDATE_LAYOUT_CONFIG",76:"STR",77:"STR_KEY",78:"STR_VALUE",79:"ATTRIBUTE",80:"ATTRIBUTE_EMPTY"},productions_:[0,[3,1],[3,1],[5,1],[5,1],[5,1],[5,1],[4,1],[10,4],[10,4],[10,4],[10,4],[10,4],[13,1],[13,1],[13,2],[19,1],[19,2],[19,3],[21,1],[21,1],[21,2],[21,2],[21,1],[29,3],[30,3],[30,3],[30,4],[32,2],[32,2],[32,2],[32,2],[32,2],[32,2],[32,2],[31,1],[20,1],[20,2],[20,3],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,1],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[35,1],[35,2],[75,1],[75,2],[75,1],[75,1]],performAction:x(function(Lt,Nt,It,kt,Pt,ht,yt){var H=ht.length-1;switch(Pt){case 3:kt.setDirection("TB");break;case 4:kt.setDirection("BT");break;case 5:kt.setDirection("RL");break;case 6:kt.setDirection("LR");break;case 8:case 9:case 10:case 11:case 12:kt.setC4Type(ht[H-3]);break;case 19:kt.setTitle(ht[H].substring(6)),this.$=ht[H].substring(6);break;case 20:kt.setAccDescription(ht[H].substring(15)),this.$=ht[H].substring(15);break;case 21:this.$=ht[H].trim(),kt.setTitle(this.$);break;case 22:case 23:this.$=ht[H].trim(),kt.setAccDescription(this.$);break;case 28:ht[H].splice(2,0,"ENTERPRISE"),kt.addPersonOrSystemBoundary(...ht[H]),this.$=ht[H];break;case 29:ht[H].splice(2,0,"SYSTEM"),kt.addPersonOrSystemBoundary(...ht[H]),this.$=ht[H];break;case 30:kt.addPersonOrSystemBoundary(...ht[H]),this.$=ht[H];break;case 31:ht[H].splice(2,0,"CONTAINER"),kt.addContainerBoundary(...ht[H]),this.$=ht[H];break;case 32:kt.addDeploymentNode("node",...ht[H]),this.$=ht[H];break;case 33:kt.addDeploymentNode("nodeL",...ht[H]),this.$=ht[H];break;case 34:kt.addDeploymentNode("nodeR",...ht[H]),this.$=ht[H];break;case 35:kt.popBoundaryParseStack();break;case 39:kt.addPersonOrSystem("person",...ht[H]),this.$=ht[H];break;case 40:kt.addPersonOrSystem("external_person",...ht[H]),this.$=ht[H];break;case 41:kt.addPersonOrSystem("system",...ht[H]),this.$=ht[H];break;case 42:kt.addPersonOrSystem("system_db",...ht[H]),this.$=ht[H];break;case 43:kt.addPersonOrSystem("system_queue",...ht[H]),this.$=ht[H];break;case 44:kt.addPersonOrSystem("external_system",...ht[H]),this.$=ht[H];break;case 45:kt.addPersonOrSystem("external_system_db",...ht[H]),this.$=ht[H];break;case 46:kt.addPersonOrSystem("external_system_queue",...ht[H]),this.$=ht[H];break;case 47:kt.addContainer("container",...ht[H]),this.$=ht[H];break;case 48:kt.addContainer("container_db",...ht[H]),this.$=ht[H];break;case 49:kt.addContainer("container_queue",...ht[H]),this.$=ht[H];break;case 50:kt.addContainer("external_container",...ht[H]),this.$=ht[H];break;case 51:kt.addContainer("external_container_db",...ht[H]),this.$=ht[H];break;case 52:kt.addContainer("external_container_queue",...ht[H]),this.$=ht[H];break;case 53:kt.addComponent("component",...ht[H]),this.$=ht[H];break;case 54:kt.addComponent("component_db",...ht[H]),this.$=ht[H];break;case 55:kt.addComponent("component_queue",...ht[H]),this.$=ht[H];break;case 56:kt.addComponent("external_component",...ht[H]),this.$=ht[H];break;case 57:kt.addComponent("external_component_db",...ht[H]),this.$=ht[H];break;case 58:kt.addComponent("external_component_queue",...ht[H]),this.$=ht[H];break;case 60:kt.addRel("rel",...ht[H]),this.$=ht[H];break;case 61:kt.addRel("birel",...ht[H]),this.$=ht[H];break;case 62:kt.addRel("rel_u",...ht[H]),this.$=ht[H];break;case 63:kt.addRel("rel_d",...ht[H]),this.$=ht[H];break;case 64:kt.addRel("rel_l",...ht[H]),this.$=ht[H];break;case 65:kt.addRel("rel_r",...ht[H]),this.$=ht[H];break;case 66:kt.addRel("rel_b",...ht[H]),this.$=ht[H];break;case 67:ht[H].splice(0,1),kt.addRel("rel",...ht[H]),this.$=ht[H];break;case 68:kt.updateElStyle("update_el_style",...ht[H]),this.$=ht[H];break;case 69:kt.updateRelStyle("update_rel_style",...ht[H]),this.$=ht[H];break;case 70:kt.updateLayoutConfig("update_layout_config",...ht[H]),this.$=ht[H];break;case 71:this.$=[ht[H]];break;case 72:ht[H].unshift(ht[H-1]),this.$=ht[H];break;case 73:case 75:this.$=ht[H].trim();break;case 74:let ft={};ft[ht[H-1].trim()]=ht[H].trim(),this.$=ft;break;case 76:this.$="";break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],7:[1,6],8:[1,7],9:[1,8],10:4,11:[1,9],15:[1,10],16:[1,11],17:[1,12],18:[1,13]},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,7]},{1:[2,3]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{12:[1,14]},{12:[1,15]},{12:[1,16]},{12:[1,17]},{12:[1,18]},{13:19,19:20,20:21,21:22,22:t,23:r,24:n,26:a,28:i,29:49,30:61,32:62,34:o,36:s,37:l,38:u,39:f,40:h,41:d,43:23,44:p,45:m,46:g,47:v,48:y,49:b,50:_,51:k,52:w,53:T,54:S,55:C,56:M,57:N,58:L,59:E,60:A,61:D,62:R,63:I,64:O,65:F,66:P,67:q,68:$,69:W,70:X,71:tt,72:Y,73:ot,74:Z},{13:70,19:20,20:21,21:22,22:t,23:r,24:n,26:a,28:i,29:49,30:61,32:62,34:o,36:s,37:l,38:u,39:f,40:h,41:d,43:23,44:p,45:m,46:g,47:v,48:y,49:b,50:_,51:k,52:w,53:T,54:S,55:C,56:M,57:N,58:L,59:E,60:A,61:D,62:R,63:I,64:O,65:F,66:P,67:q,68:$,69:W,70:X,71:tt,72:Y,73:ot,74:Z},{13:71,19:20,20:21,21:22,22:t,23:r,24:n,26:a,28:i,29:49,30:61,32:62,34:o,36:s,37:l,38:u,39:f,40:h,41:d,43:23,44:p,45:m,46:g,47:v,48:y,49:b,50:_,51:k,52:w,53:T,54:S,55:C,56:M,57:N,58:L,59:E,60:A,61:D,62:R,63:I,64:O,65:F,66:P,67:q,68:$,69:W,70:X,71:tt,72:Y,73:ot,74:Z},{13:72,19:20,20:21,21:22,22:t,23:r,24:n,26:a,28:i,29:49,30:61,32:62,34:o,36:s,37:l,38:u,39:f,40:h,41:d,43:23,44:p,45:m,46:g,47:v,48:y,49:b,50:_,51:k,52:w,53:T,54:S,55:C,56:M,57:N,58:L,59:E,60:A,61:D,62:R,63:I,64:O,65:F,66:P,67:q,68:$,69:W,70:X,71:tt,72:Y,73:ot,74:Z},{13:73,19:20,20:21,21:22,22:t,23:r,24:n,26:a,28:i,29:49,30:61,32:62,34:o,36:s,37:l,38:u,39:f,40:h,41:d,43:23,44:p,45:m,46:g,47:v,48:y,49:b,50:_,51:k,52:w,53:T,54:S,55:C,56:M,57:N,58:L,59:E,60:A,61:D,62:R,63:I,64:O,65:F,66:P,67:q,68:$,69:W,70:X,71:tt,72:Y,73:ot,74:Z},{14:[1,74]},e(ct,[2,13],{43:23,29:49,30:61,32:62,20:75,34:o,36:s,37:l,38:u,39:f,40:h,41:d,44:p,45:m,46:g,47:v,48:y,49:b,50:_,51:k,52:w,53:T,54:S,55:C,56:M,57:N,58:L,59:E,60:A,61:D,62:R,63:I,64:O,65:F,66:P,67:q,68:$,69:W,70:X,71:tt,72:Y,73:ot,74:Z}),e(ct,[2,14]),e(rt,[2,16],{12:[1,76]}),e(ct,[2,36],{12:[1,77]}),e(et,[2,19]),e(et,[2,20]),{25:[1,78]},{27:[1,79]},e(et,[2,23]),{35:80,75:81,76:Q,77:j,79:it,80:K},{35:86,75:81,76:Q,77:j,79:it,80:K},{35:87,75:81,76:Q,77:j,79:it,80:K},{35:88,75:81,76:Q,77:j,79:it,80:K},{35:89,75:81,76:Q,77:j,79:it,80:K},{35:90,75:81,76:Q,77:j,79:it,80:K},{35:91,75:81,76:Q,77:j,79:it,80:K},{35:92,75:81,76:Q,77:j,79:it,80:K},{35:93,75:81,76:Q,77:j,79:it,80:K},{35:94,75:81,76:Q,77:j,79:it,80:K},{35:95,75:81,76:Q,77:j,79:it,80:K},{35:96,75:81,76:Q,77:j,79:it,80:K},{35:97,75:81,76:Q,77:j,79:it,80:K},{35:98,75:81,76:Q,77:j,79:it,80:K},{35:99,75:81,76:Q,77:j,79:it,80:K},{35:100,75:81,76:Q,77:j,79:it,80:K},{35:101,75:81,76:Q,77:j,79:it,80:K},{35:102,75:81,76:Q,77:j,79:it,80:K},{35:103,75:81,76:Q,77:j,79:it,80:K},{35:104,75:81,76:Q,77:j,79:it,80:K},e(dt,[2,59]),{35:105,75:81,76:Q,77:j,79:it,80:K},{35:106,75:81,76:Q,77:j,79:it,80:K},{35:107,75:81,76:Q,77:j,79:it,80:K},{35:108,75:81,76:Q,77:j,79:it,80:K},{35:109,75:81,76:Q,77:j,79:it,80:K},{35:110,75:81,76:Q,77:j,79:it,80:K},{35:111,75:81,76:Q,77:j,79:it,80:K},{35:112,75:81,76:Q,77:j,79:it,80:K},{35:113,75:81,76:Q,77:j,79:it,80:K},{35:114,75:81,76:Q,77:j,79:it,80:K},{35:115,75:81,76:Q,77:j,79:it,80:K},{20:116,29:49,30:61,32:62,34:o,36:s,37:l,38:u,39:f,40:h,41:d,43:23,44:p,45:m,46:g,47:v,48:y,49:b,50:_,51:k,52:w,53:T,54:S,55:C,56:M,57:N,58:L,59:E,60:A,61:D,62:R,63:I,64:O,65:F,66:P,67:q,68:$,69:W,70:X,71:tt,72:Y,73:ot,74:Z},{12:[1,118],33:[1,117]},{35:119,75:81,76:Q,77:j,79:it,80:K},{35:120,75:81,76:Q,77:j,79:it,80:K},{35:121,75:81,76:Q,77:j,79:it,80:K},{35:122,75:81,76:Q,77:j,79:it,80:K},{35:123,75:81,76:Q,77:j,79:it,80:K},{35:124,75:81,76:Q,77:j,79:it,80:K},{35:125,75:81,76:Q,77:j,79:it,80:K},{14:[1,126]},{14:[1,127]},{14:[1,128]},{14:[1,129]},{1:[2,8]},e(ct,[2,15]),e(rt,[2,17],{21:22,19:130,22:t,23:r,24:n,26:a,28:i}),e(ct,[2,37],{19:20,20:21,21:22,43:23,29:49,30:61,32:62,13:131,22:t,23:r,24:n,26:a,28:i,34:o,36:s,37:l,38:u,39:f,40:h,41:d,44:p,45:m,46:g,47:v,48:y,49:b,50:_,51:k,52:w,53:T,54:S,55:C,56:M,57:N,58:L,59:E,60:A,61:D,62:R,63:I,64:O,65:F,66:P,67:q,68:$,69:W,70:X,71:tt,72:Y,73:ot,74:Z}),e(et,[2,21]),e(et,[2,22]),e(dt,[2,39]),e(nt,[2,71],{75:81,35:132,76:Q,77:j,79:it,80:K}),e(_t,[2,73]),{78:[1,133]},e(_t,[2,75]),e(_t,[2,76]),e(dt,[2,40]),e(dt,[2,41]),e(dt,[2,42]),e(dt,[2,43]),e(dt,[2,44]),e(dt,[2,45]),e(dt,[2,46]),e(dt,[2,47]),e(dt,[2,48]),e(dt,[2,49]),e(dt,[2,50]),e(dt,[2,51]),e(dt,[2,52]),e(dt,[2,53]),e(dt,[2,54]),e(dt,[2,55]),e(dt,[2,56]),e(dt,[2,57]),e(dt,[2,58]),e(dt,[2,60]),e(dt,[2,61]),e(dt,[2,62]),e(dt,[2,63]),e(dt,[2,64]),e(dt,[2,65]),e(dt,[2,66]),e(dt,[2,67]),e(dt,[2,68]),e(dt,[2,69]),e(dt,[2,70]),{31:134,42:[1,135]},{12:[1,136]},{33:[1,137]},e(V,[2,28]),e(V,[2,29]),e(V,[2,30]),e(V,[2,31]),e(V,[2,32]),e(V,[2,33]),e(V,[2,34]),{1:[2,9]},{1:[2,10]},{1:[2,11]},{1:[2,12]},e(rt,[2,18]),e(ct,[2,38]),e(nt,[2,72]),e(_t,[2,74]),e(dt,[2,24]),e(dt,[2,35]),e(Ut,[2,25]),e(Ut,[2,26],{12:[1,138]}),e(Ut,[2,27])],defaultActions:{2:[2,1],3:[2,2],4:[2,7],5:[2,3],6:[2,4],7:[2,5],8:[2,6],74:[2,8],126:[2,9],127:[2,10],128:[2,11],129:[2,12]},parseError:x(function(Lt,Nt){if(Nt.recoverable)this.trace(Lt);else{var It=new Error(Lt);throw It.hash=Nt,It}},"parseError"),parse:x(function(Lt){var Nt=this,It=[0],kt=[],Pt=[null],ht=[],yt=this.table,H="",ft=0,z=0,st=0,lt=2,wt=1,vt=ht.slice.call(arguments,1),gt=Object.create(this.lexer),Mt={yy:{}};for(var St in this.yy)Object.prototype.hasOwnProperty.call(this.yy,St)&&(Mt.yy[St]=this.yy[St]);gt.setInput(Lt,Mt.yy),Mt.yy.lexer=gt,Mt.yy.parser=this,typeof gt.yylloc>"u"&&(gt.yylloc={});var Bt=gt.yylloc;ht.push(Bt);var jt=gt.options&&gt.options.ranges;typeof Mt.yy.parseError=="function"?this.parseError=Mt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ue(se){It.length=It.length-2*se,Pt.length=Pt.length-se,ht.length=ht.length-se}x(ue,"popStack");function Gt(){var se;return se=kt.pop()||gt.lex()||wt,typeof se!="number"&&(se instanceof Array&&(kt=se,se=kt.pop()),se=Nt.symbols_[se]||se),se}x(Gt,"lex");for(var $t,Xt,Wt,ne,Fe,de,we={},oe,ie,fe,pe;;){if(Wt=It[It.length-1],this.defaultActions[Wt]?ne=this.defaultActions[Wt]:(($t===null||typeof $t>"u")&&($t=Gt()),ne=yt[Wt]&&yt[Wt][$t]),typeof ne>"u"||!ne.length||!ne[0]){var me="";pe=[];for(oe in yt[Wt])this.terminals_[oe]&&oe>lt&&pe.push("'"+this.terminals_[oe]+"'");gt.showPosition?me="Parse error on line "+(ft+1)+`:
`+gt.showPosition()+`
Expecting `+pe.join(", ")+", got '"+(this.terminals_[$t]||$t)+"'":me="Parse error on line "+(ft+1)+": Unexpected "+($t==wt?"end of input":"'"+(this.terminals_[$t]||$t)+"'"),this.parseError(me,{text:gt.match,token:this.terminals_[$t]||$t,line:gt.yylineno,loc:Bt,expected:pe})}if(ne[0]instanceof Array&&ne.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Wt+", token: "+$t);switch(ne[0]){case 1:It.push($t),Pt.push(gt.yytext),ht.push(gt.yylloc),It.push(ne[1]),$t=null,Xt?($t=Xt,Xt=null):(z=gt.yyleng,H=gt.yytext,ft=gt.yylineno,Bt=gt.yylloc,st>0&&st--);break;case 2:if(ie=this.productions_[ne[1]][1],we.$=Pt[Pt.length-ie],we._$={first_line:ht[ht.length-(ie||1)].first_line,last_line:ht[ht.length-1].last_line,first_column:ht[ht.length-(ie||1)].first_column,last_column:ht[ht.length-1].last_column},jt&&(we._$.range=[ht[ht.length-(ie||1)].range[0],ht[ht.length-1].range[1]]),de=this.performAction.apply(we,[H,z,ft,Mt.yy,ne[1],Pt,ht].concat(vt)),typeof de<"u")return de;ie&&(It=It.slice(0,-1*ie*2),Pt=Pt.slice(0,-1*ie),ht=ht.slice(0,-1*ie)),It.push(this.productions_[ne[1]][0]),Pt.push(we.$),ht.push(we._$),fe=yt[It[It.length-2]][It[It.length-1]],It.push(fe);break;case 3:return!0}}return!0},"parse")},Ft=function(){var Ht={EOF:1,parseError:x(function(Nt,It){if(this.yy.parser)this.yy.parser.parseError(Nt,It);else throw new Error(Nt)},"parseError"),setInput:x(function(Lt,Nt){return this.yy=Nt||this.yy||{},this._input=Lt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:x(function(){var Lt=this._input[0];this.yytext+=Lt,this.yyleng++,this.offset++,this.match+=Lt,this.matched+=Lt;var Nt=Lt.match(/(?:\r\n?|\n).*/g);return Nt?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Lt},"input"),unput:x(function(Lt){var Nt=Lt.length,It=Lt.split(/(?:\r\n?|\n)/g);this._input=Lt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Nt),this.offset-=Nt;var kt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),It.length-1&&(this.yylineno-=It.length-1);var Pt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:It?(It.length===kt.length?this.yylloc.first_column:0)+kt[kt.length-It.length].length-It[0].length:this.yylloc.first_column-Nt},this.options.ranges&&(this.yylloc.range=[Pt[0],Pt[0]+this.yyleng-Nt]),this.yyleng=this.yytext.length,this},"unput"),more:x(function(){return this._more=!0,this},"more"),reject:x(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:x(function(Lt){this.unput(this.match.slice(Lt))},"less"),pastInput:x(function(){var Lt=this.matched.substr(0,this.matched.length-this.match.length);return(Lt.length>20?"...":"")+Lt.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:x(function(){var Lt=this.match;return Lt.length<20&&(Lt+=this._input.substr(0,20-Lt.length)),(Lt.substr(0,20)+(Lt.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:x(function(){var Lt=this.pastInput(),Nt=new Array(Lt.length+1).join("-");return Lt+this.upcomingInput()+`
`+Nt+"^"},"showPosition"),test_match:x(function(Lt,Nt){var It,kt,Pt;if(this.options.backtrack_lexer&&(Pt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Pt.yylloc.range=this.yylloc.range.slice(0))),kt=Lt[0].match(/(?:\r\n?|\n).*/g),kt&&(this.yylineno+=kt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:kt?kt[kt.length-1].length-kt[kt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Lt[0].length},this.yytext+=Lt[0],this.match+=Lt[0],this.matches=Lt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Lt[0].length),this.matched+=Lt[0],It=this.performAction.call(this,this.yy,this,Nt,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),It)return It;if(this._backtrack){for(var ht in Pt)this[ht]=Pt[ht];return!1}return!1},"test_match"),next:x(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Lt,Nt,It,kt;this._more||(this.yytext="",this.match="");for(var Pt=this._currentRules(),ht=0;ht<Pt.length;ht++)if(It=this._input.match(this.rules[Pt[ht]]),It&&(!Nt||It[0].length>Nt[0].length)){if(Nt=It,kt=ht,this.options.backtrack_lexer){if(Lt=this.test_match(It,Pt[ht]),Lt!==!1)return Lt;if(this._backtrack){Nt=!1;continue}else return!1}else if(!this.options.flex)break}return Nt?(Lt=this.test_match(Nt,Pt[kt]),Lt!==!1?Lt:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:x(function(){var Nt=this.next();return Nt||this.lex()},"lex"),begin:x(function(Nt){this.conditionStack.push(Nt)},"begin"),popState:x(function(){var Nt=this.conditionStack.length-1;return Nt>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:x(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:x(function(Nt){return Nt=this.conditionStack.length-1-Math.abs(Nt||0),Nt>=0?this.conditionStack[Nt]:"INITIAL"},"topState"),pushState:x(function(Nt){this.begin(Nt)},"pushState"),stateStackSize:x(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:x(function(Nt,It,kt,Pt){var ht=Pt;switch(kt){case 0:return 6;case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 22;case 5:return 23;case 6:return this.begin("acc_title"),24;break;case 7:return this.popState(),"acc_title_value";break;case 8:return this.begin("acc_descr"),26;break;case 9:return this.popState(),"acc_descr_value";break;case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:break;case 14:c;break;case 15:return 12;case 16:break;case 17:return 11;case 18:return 15;case 19:return 16;case 20:return 17;case 21:return 18;case 22:return this.begin("person_ext"),45;break;case 23:return this.begin("person"),44;break;case 24:return this.begin("system_ext_queue"),51;break;case 25:return this.begin("system_ext_db"),50;break;case 26:return this.begin("system_ext"),49;break;case 27:return this.begin("system_queue"),48;break;case 28:return this.begin("system_db"),47;break;case 29:return this.begin("system"),46;break;case 30:return this.begin("boundary"),37;break;case 31:return this.begin("enterprise_boundary"),34;break;case 32:return this.begin("system_boundary"),36;break;case 33:return this.begin("container_ext_queue"),57;break;case 34:return this.begin("container_ext_db"),56;break;case 35:return this.begin("container_ext"),55;break;case 36:return this.begin("container_queue"),54;break;case 37:return this.begin("container_db"),53;break;case 38:return this.begin("container"),52;break;case 39:return this.begin("container_boundary"),38;break;case 40:return this.begin("component_ext_queue"),63;break;case 41:return this.begin("component_ext_db"),62;break;case 42:return this.begin("component_ext"),61;break;case 43:return this.begin("component_queue"),60;break;case 44:return this.begin("component_db"),59;break;case 45:return this.begin("component"),58;break;case 46:return this.begin("node"),39;break;case 47:return this.begin("node"),39;break;case 48:return this.begin("node_l"),40;break;case 49:return this.begin("node_r"),41;break;case 50:return this.begin("rel"),64;break;case 51:return this.begin("birel"),65;break;case 52:return this.begin("rel_u"),66;break;case 53:return this.begin("rel_u"),66;break;case 54:return this.begin("rel_d"),67;break;case 55:return this.begin("rel_d"),67;break;case 56:return this.begin("rel_l"),68;break;case 57:return this.begin("rel_l"),68;break;case 58:return this.begin("rel_r"),69;break;case 59:return this.begin("rel_r"),69;break;case 60:return this.begin("rel_b"),70;break;case 61:return this.begin("rel_index"),71;break;case 62:return this.begin("update_el_style"),72;break;case 63:return this.begin("update_rel_style"),73;break;case 64:return this.begin("update_layout_config"),74;break;case 65:return"EOF_IN_STRUCT";case 66:return this.begin("attribute"),"ATTRIBUTE_EMPTY";break;case 67:this.begin("attribute");break;case 68:this.popState(),this.popState();break;case 69:return 80;case 70:break;case 71:return 80;case 72:this.begin("string");break;case 73:this.popState();break;case 74:return"STR";case 75:this.begin("string_kv");break;case 76:return this.begin("string_kv_key"),"STR_KEY";break;case 77:this.popState(),this.begin("string_kv_value");break;case 78:return"STR_VALUE";case 79:this.popState(),this.popState();break;case 80:return"STR";case 81:return"LBRACE";case 82:return"RBRACE";case 83:return"SPACE";case 84:return"EOL";case 85:return 14}},"anonymous"),rules:[/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:title\s[^#\n;]+)/,/^(?:accDescription\s[^#\n;]+)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:C4Context\b)/,/^(?:C4Container\b)/,/^(?:C4Component\b)/,/^(?:C4Dynamic\b)/,/^(?:C4Deployment\b)/,/^(?:Person_Ext\b)/,/^(?:Person\b)/,/^(?:SystemQueue_Ext\b)/,/^(?:SystemDb_Ext\b)/,/^(?:System_Ext\b)/,/^(?:SystemQueue\b)/,/^(?:SystemDb\b)/,/^(?:System\b)/,/^(?:Boundary\b)/,/^(?:Enterprise_Boundary\b)/,/^(?:System_Boundary\b)/,/^(?:ContainerQueue_Ext\b)/,/^(?:ContainerDb_Ext\b)/,/^(?:Container_Ext\b)/,/^(?:ContainerQueue\b)/,/^(?:ContainerDb\b)/,/^(?:Container\b)/,/^(?:Container_Boundary\b)/,/^(?:ComponentQueue_Ext\b)/,/^(?:ComponentDb_Ext\b)/,/^(?:Component_Ext\b)/,/^(?:ComponentQueue\b)/,/^(?:ComponentDb\b)/,/^(?:Component\b)/,/^(?:Deployment_Node\b)/,/^(?:Node\b)/,/^(?:Node_L\b)/,/^(?:Node_R\b)/,/^(?:Rel\b)/,/^(?:BiRel\b)/,/^(?:Rel_Up\b)/,/^(?:Rel_U\b)/,/^(?:Rel_Down\b)/,/^(?:Rel_D\b)/,/^(?:Rel_Left\b)/,/^(?:Rel_L\b)/,/^(?:Rel_Right\b)/,/^(?:Rel_R\b)/,/^(?:Rel_Back\b)/,/^(?:RelIndex\b)/,/^(?:UpdateElementStyle\b)/,/^(?:UpdateRelStyle\b)/,/^(?:UpdateLayoutConfig\b)/,/^(?:$)/,/^(?:[(][ ]*[,])/,/^(?:[(])/,/^(?:[)])/,/^(?:,,)/,/^(?:,)/,/^(?:[ ]*["]["])/,/^(?:[ ]*["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[ ]*[\$])/,/^(?:[^=]*)/,/^(?:[=][ ]*["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:[^,]+)/,/^(?:\{)/,/^(?:\})/,/^(?:[\s]+)/,/^(?:[\n\r]+)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},string_kv_value:{rules:[78,79],inclusive:!1},string_kv_key:{rules:[77],inclusive:!1},string_kv:{rules:[76],inclusive:!1},string:{rules:[73,74],inclusive:!1},attribute:{rules:[68,69,70,71,72,75,80],inclusive:!1},update_layout_config:{rules:[65,66,67,68],inclusive:!1},update_rel_style:{rules:[65,66,67,68],inclusive:!1},update_el_style:{rules:[65,66,67,68],inclusive:!1},rel_b:{rules:[65,66,67,68],inclusive:!1},rel_r:{rules:[65,66,67,68],inclusive:!1},rel_l:{rules:[65,66,67,68],inclusive:!1},rel_d:{rules:[65,66,67,68],inclusive:!1},rel_u:{rules:[65,66,67,68],inclusive:!1},rel_bi:{rules:[],inclusive:!1},rel:{rules:[65,66,67,68],inclusive:!1},node_r:{rules:[65,66,67,68],inclusive:!1},node_l:{rules:[65,66,67,68],inclusive:!1},node:{rules:[65,66,67,68],inclusive:!1},index:{rules:[],inclusive:!1},rel_index:{rules:[65,66,67,68],inclusive:!1},component_ext_queue:{rules:[],inclusive:!1},component_ext_db:{rules:[65,66,67,68],inclusive:!1},component_ext:{rules:[65,66,67,68],inclusive:!1},component_queue:{rules:[65,66,67,68],inclusive:!1},component_db:{rules:[65,66,67,68],inclusive:!1},component:{rules:[65,66,67,68],inclusive:!1},container_boundary:{rules:[65,66,67,68],inclusive:!1},container_ext_queue:{rules:[65,66,67,68],inclusive:!1},container_ext_db:{rules:[65,66,67,68],inclusive:!1},container_ext:{rules:[65,66,67,68],inclusive:!1},container_queue:{rules:[65,66,67,68],inclusive:!1},container_db:{rules:[65,66,67,68],inclusive:!1},container:{rules:[65,66,67,68],inclusive:!1},birel:{rules:[65,66,67,68],inclusive:!1},system_boundary:{rules:[65,66,67,68],inclusive:!1},enterprise_boundary:{rules:[65,66,67,68],inclusive:!1},boundary:{rules:[65,66,67,68],inclusive:!1},system_ext_queue:{rules:[65,66,67,68],inclusive:!1},system_ext_db:{rules:[65,66,67,68],inclusive:!1},system_ext:{rules:[65,66,67,68],inclusive:!1},system_queue:{rules:[65,66,67,68],inclusive:!1},system_db:{rules:[65,66,67,68],inclusive:!1},system:{rules:[65,66,67,68],inclusive:!1},person_ext:{rules:[65,66,67,68],inclusive:!1},person:{rules:[65,66,67,68],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,8,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,81,82,83,84,85],inclusive:!0}}};return Ht}();pt.lexer=Ft;function Yt(){this.yy={}}return x(Yt,"Parser"),Yt.prototype=pt,pt.Parser=Yt,new Yt}();_S.parser=_S;Rjt=_S,Pu=[],rp=[""],os="global",Fu="",Qc=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],W_=[],YF="",XF=!1,wS=4,TS=2,Njt=x(function(){return Kmt},"getC4Type"),Ojt=x(function(e){Kmt=sr(e,bt())},"setC4Type"),Fjt=x(function(e,t,r,n,a,i,o,s,l){if(e==null||t===void 0||t===null||r===void 0||r===null||n===void 0||n===null)return;let u={},f=W_.find(h=>h.from===t&&h.to===r);if(f?u=f:W_.push(u),u.type=e,u.from=t,u.to=r,u.label={text:n},a==null)u.techn={text:""};else if(typeof a=="object"){let[h,d]=Object.entries(a)[0];u[h]={text:d}}else u.techn={text:a};if(i==null)u.descr={text:""};else if(typeof i=="object"){let[h,d]=Object.entries(i)[0];u[h]={text:d}}else u.descr={text:i};if(typeof o=="object"){let[h,d]=Object.entries(o)[0];u[h]=d}else u.sprite=o;if(typeof s=="object"){let[h,d]=Object.entries(s)[0];u[h]=d}else u.tags=s;if(typeof l=="object"){let[h,d]=Object.entries(l)[0];u[h]=d}else u.link=l;u.wrap=np()},"addRel"),Pjt=x(function(e,t,r,n,a,i,o){if(t===null||r===null)return;let s={},l=Pu.find(u=>u.alias===t);if(l&&t===l.alias?s=l:(s.alias=t,Pu.push(s)),r==null?s.label={text:""}:s.label={text:r},n==null)s.descr={text:""};else if(typeof n=="object"){let[u,f]=Object.entries(n)[0];s[u]={text:f}}else s.descr={text:n};if(typeof a=="object"){let[u,f]=Object.entries(a)[0];s[u]=f}else s.sprite=a;if(typeof i=="object"){let[u,f]=Object.entries(i)[0];s[u]=f}else s.tags=i;if(typeof o=="object"){let[u,f]=Object.entries(o)[0];s[u]=f}else s.link=o;s.typeC4Shape={text:e},s.parentBoundary=os,s.wrap=np()},"addPersonOrSystem"),Bjt=x(function(e,t,r,n,a,i,o,s){if(t===null||r===null)return;let l={},u=Pu.find(f=>f.alias===t);if(u&&t===u.alias?l=u:(l.alias=t,Pu.push(l)),r==null?l.label={text:""}:l.label={text:r},n==null)l.techn={text:""};else if(typeof n=="object"){let[f,h]=Object.entries(n)[0];l[f]={text:h}}else l.techn={text:n};if(a==null)l.descr={text:""};else if(typeof a=="object"){let[f,h]=Object.entries(a)[0];l[f]={text:h}}else l.descr={text:a};if(typeof i=="object"){let[f,h]=Object.entries(i)[0];l[f]=h}else l.sprite=i;if(typeof o=="object"){let[f,h]=Object.entries(o)[0];l[f]=h}else l.tags=o;if(typeof s=="object"){let[f,h]=Object.entries(s)[0];l[f]=h}else l.link=s;l.wrap=np(),l.typeC4Shape={text:e},l.parentBoundary=os},"addContainer"),$jt=x(function(e,t,r,n,a,i,o,s){if(t===null||r===null)return;let l={},u=Pu.find(f=>f.alias===t);if(u&&t===u.alias?l=u:(l.alias=t,Pu.push(l)),r==null?l.label={text:""}:l.label={text:r},n==null)l.techn={text:""};else if(typeof n=="object"){let[f,h]=Object.entries(n)[0];l[f]={text:h}}else l.techn={text:n};if(a==null)l.descr={text:""};else if(typeof a=="object"){let[f,h]=Object.entries(a)[0];l[f]={text:h}}else l.descr={text:a};if(typeof i=="object"){let[f,h]=Object.entries(i)[0];l[f]=h}else l.sprite=i;if(typeof o=="object"){let[f,h]=Object.entries(o)[0];l[f]=h}else l.tags=o;if(typeof s=="object"){let[f,h]=Object.entries(s)[0];l[f]=h}else l.link=s;l.wrap=np(),l.typeC4Shape={text:e},l.parentBoundary=os},"addComponent"),zjt=x(function(e,t,r,n,a){if(e===null||t===null)return;let i={},o=Qc.find(s=>s.alias===e);if(o&&e===o.alias?i=o:(i.alias=e,Qc.push(i)),t==null?i.label={text:""}:i.label={text:t},r==null)i.type={text:"system"};else if(typeof r=="object"){let[s,l]=Object.entries(r)[0];i[s]={text:l}}else i.type={text:r};if(typeof n=="object"){let[s,l]=Object.entries(n)[0];i[s]=l}else i.tags=n;if(typeof a=="object"){let[s,l]=Object.entries(a)[0];i[s]=l}else i.link=a;i.parentBoundary=os,i.wrap=np(),Fu=os,os=e,rp.push(Fu)},"addPersonOrSystemBoundary"),qjt=x(function(e,t,r,n,a){if(e===null||t===null)return;let i={},o=Qc.find(s=>s.alias===e);if(o&&e===o.alias?i=o:(i.alias=e,Qc.push(i)),t==null?i.label={text:""}:i.label={text:t},r==null)i.type={text:"container"};else if(typeof r=="object"){let[s,l]=Object.entries(r)[0];i[s]={text:l}}else i.type={text:r};if(typeof n=="object"){let[s,l]=Object.entries(n)[0];i[s]=l}else i.tags=n;if(typeof a=="object"){let[s,l]=Object.entries(a)[0];i[s]=l}else i.link=a;i.parentBoundary=os,i.wrap=np(),Fu=os,os=e,rp.push(Fu)},"addContainerBoundary"),Ujt=x(function(e,t,r,n,a,i,o,s){if(t===null||r===null)return;let l={},u=Qc.find(f=>f.alias===t);if(u&&t===u.alias?l=u:(l.alias=t,Qc.push(l)),r==null?l.label={text:""}:l.label={text:r},n==null)l.type={text:"node"};else if(typeof n=="object"){let[f,h]=Object.entries(n)[0];l[f]={text:h}}else l.type={text:n};if(a==null)l.descr={text:""};else if(typeof a=="object"){let[f,h]=Object.entries(a)[0];l[f]={text:h}}else l.descr={text:a};if(typeof o=="object"){let[f,h]=Object.entries(o)[0];l[f]=h}else l.tags=o;if(typeof s=="object"){let[f,h]=Object.entries(s)[0];l[f]=h}else l.link=s;l.nodeType=e,l.parentBoundary=os,l.wrap=np(),Fu=os,os=t,rp.push(Fu)},"addDeploymentNode"),Wjt=x(function(){os=Fu,rp.pop(),Fu=rp.pop(),rp.push(Fu)},"popBoundaryParseStack"),Gjt=x(function(e,t,r,n,a,i,o,s,l,u,f){let h=Pu.find(d=>d.alias===t);if(!(h===void 0&&(h=Qc.find(d=>d.alias===t),h===void 0))){if(r!=null)if(typeof r=="object"){let[d,p]=Object.entries(r)[0];h[d]=p}else h.bgColor=r;if(n!=null)if(typeof n=="object"){let[d,p]=Object.entries(n)[0];h[d]=p}else h.fontColor=n;if(a!=null)if(typeof a=="object"){let[d,p]=Object.entries(a)[0];h[d]=p}else h.borderColor=a;if(i!=null)if(typeof i=="object"){let[d,p]=Object.entries(i)[0];h[d]=p}else h.shadowing=i;if(o!=null)if(typeof o=="object"){let[d,p]=Object.entries(o)[0];h[d]=p}else h.shape=o;if(s!=null)if(typeof s=="object"){let[d,p]=Object.entries(s)[0];h[d]=p}else h.sprite=s;if(l!=null)if(typeof l=="object"){let[d,p]=Object.entries(l)[0];h[d]=p}else h.techn=l;if(u!=null)if(typeof u=="object"){let[d,p]=Object.entries(u)[0];h[d]=p}else h.legendText=u;if(f!=null)if(typeof f=="object"){let[d,p]=Object.entries(f)[0];h[d]=p}else h.legendSprite=f}},"updateElStyle"),Vjt=x(function(e,t,r,n,a,i,o){let s=W_.find(l=>l.from===t&&l.to===r);if(s!==void 0){if(n!=null)if(typeof n=="object"){let[l,u]=Object.entries(n)[0];s[l]=u}else s.textColor=n;if(a!=null)if(typeof a=="object"){let[l,u]=Object.entries(a)[0];s[l]=u}else s.lineColor=a;if(i!=null)if(typeof i=="object"){let[l,u]=Object.entries(i)[0];s[l]=parseInt(u)}else s.offsetX=parseInt(i);if(o!=null)if(typeof o=="object"){let[l,u]=Object.entries(o)[0];s[l]=parseInt(u)}else s.offsetY=parseInt(o)}},"updateRelStyle"),Hjt=x(function(e,t,r){let n=wS,a=TS;if(typeof t=="object"){let i=Object.values(t)[0];n=parseInt(i)}else n=parseInt(t);if(typeof r=="object"){let i=Object.values(r)[0];a=parseInt(i)}else a=parseInt(r);n>=1&&(wS=n),a>=1&&(TS=a)},"updateLayoutConfig"),Yjt=x(function(){return wS},"getC4ShapeInRow"),Xjt=x(function(){return TS},"getC4BoundaryInRow"),jjt=x(function(){return os},"getCurrentBoundaryParse"),Kjt=x(function(){return Fu},"getParentBoundaryParse"),Qmt=x(function(e){return e==null?Pu:Pu.filter(t=>t.parentBoundary===e)},"getC4ShapeArray"),Qjt=x(function(e){return Pu.find(t=>t.alias===e)},"getC4Shape"),Zjt=x(function(e){return Object.keys(Qmt(e))},"getC4ShapeKeys"),Zmt=x(function(e){return e==null?Qc:Qc.filter(t=>t.parentBoundary===e)},"getBoundaries"),Jjt=Zmt,tKt=x(function(){return W_},"getRels"),eKt=x(function(){return YF},"getTitle"),rKt=x(function(e){XF=e},"setWrap"),np=x(function(){return XF},"autoWrap"),nKt=x(function(){Pu=[],Qc=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],Fu="",os="global",rp=[""],W_=[],rp=[""],YF="",XF=!1,wS=4,TS=2},"clear"),aKt={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25},iKt={FILLED:0,OPEN:1},oKt={LEFTOF:0,RIGHTOF:1,OVER:2},sKt=x(function(e){YF=sr(e,bt())},"setTitle"),GF={addPersonOrSystem:Pjt,addPersonOrSystemBoundary:zjt,addContainer:Bjt,addContainerBoundary:qjt,addComponent:$jt,addDeploymentNode:Ujt,popBoundaryParseStack:Wjt,addRel:Fjt,updateElStyle:Gjt,updateRelStyle:Vjt,updateLayoutConfig:Hjt,autoWrap:np,setWrap:rKt,getC4ShapeArray:Qmt,getC4Shape:Qjt,getC4ShapeKeys:Zjt,getBoundaries:Zmt,getBoundarys:Jjt,getCurrentBoundaryParse:jjt,getParentBoundaryParse:Kjt,getRels:tKt,getTitle:eKt,getC4Type:Njt,getC4ShapeInRow:Yjt,getC4BoundaryInRow:Xjt,setAccTitle:Mr,getAccTitle:Fr,getAccDescription:Br,setAccDescription:Pr,getConfig:x(()=>bt().c4,"getConfig"),clear:nKt,LINETYPE:aKt,ARROWTYPE:iKt,PLACEMENT:oKt,setTitle:sKt,setC4Type:Ojt},jF=x(function(e,t){return am(e,t)},"drawRect"),tgt=x(function(e,t,r,n,a,i){let o=e.append("image");o.attr("width",t),o.attr("height",r),o.attr("x",n),o.attr("y",a);let s=i.startsWith("data:image/png;base64")?i:(0,Jmt.sanitizeUrl)(i);o.attr("xlink:href",s)},"drawImage"),lKt=x((e,t,r)=>{let n=e.append("g"),a=0;for(let i of t){let o=i.textColor?i.textColor:"#444444",s=i.lineColor?i.lineColor:"#444444",l=i.offsetX?parseInt(i.offsetX):0,u=i.offsetY?parseInt(i.offsetY):0,f="";if(a===0){let d=n.append("line");d.attr("x1",i.startPoint.x),d.attr("y1",i.startPoint.y),d.attr("x2",i.endPoint.x),d.attr("y2",i.endPoint.y),d.attr("stroke-width","1"),d.attr("stroke",s),d.style("fill","none"),i.type!=="rel_b"&&d.attr("marker-end","url("+f+"#arrowhead)"),(i.type==="birel"||i.type==="rel_b")&&d.attr("marker-start","url("+f+"#arrowend)"),a=-1}else{let d=n.append("path");d.attr("fill","none").attr("stroke-width","1").attr("stroke",s).attr("d","Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx",i.startPoint.x).replaceAll("starty",i.startPoint.y).replaceAll("controlx",i.startPoint.x+(i.endPoint.x-i.startPoint.x)/2-(i.endPoint.x-i.startPoint.x)/4).replaceAll("controly",i.startPoint.y+(i.endPoint.y-i.startPoint.y)/2).replaceAll("stopx",i.endPoint.x).replaceAll("stopy",i.endPoint.y)),i.type!=="rel_b"&&d.attr("marker-end","url("+f+"#arrowhead)"),(i.type==="birel"||i.type==="rel_b")&&d.attr("marker-start","url("+f+"#arrowend)")}let h=r.messageFont();sh(r)(i.label.text,n,Math.min(i.startPoint.x,i.endPoint.x)+Math.abs(i.endPoint.x-i.startPoint.x)/2+l,Math.min(i.startPoint.y,i.endPoint.y)+Math.abs(i.endPoint.y-i.startPoint.y)/2+u,i.label.width,i.label.height,{fill:o},h),i.techn&&i.techn.text!==""&&(h=r.messageFont(),sh(r)("["+i.techn.text+"]",n,Math.min(i.startPoint.x,i.endPoint.x)+Math.abs(i.endPoint.x-i.startPoint.x)/2+l,Math.min(i.startPoint.y,i.endPoint.y)+Math.abs(i.endPoint.y-i.startPoint.y)/2+r.messageFontSize+5+u,Math.max(i.label.width,i.techn.width),i.techn.height,{fill:o,"font-style":"italic"},h))}},"drawRels"),uKt=x(function(e,t,r){let n=e.append("g"),a=t.bgColor?t.bgColor:"none",i=t.borderColor?t.borderColor:"#444444",o=t.fontColor?t.fontColor:"black",s={"stroke-width":1,"stroke-dasharray":"7.0,7.0"};t.nodeType&&(s={"stroke-width":1});let l={x:t.x,y:t.y,fill:a,stroke:i,width:t.width,height:t.height,rx:2.5,ry:2.5,attrs:s};jF(n,l);let u=r.boundaryFont();u.fontWeight="bold",u.fontSize=u.fontSize+2,u.fontColor=o,sh(r)(t.label.text,n,t.x,t.y+t.label.Y,t.width,t.height,{fill:"#444444"},u),t.type&&t.type.text!==""&&(u=r.boundaryFont(),u.fontColor=o,sh(r)(t.type.text,n,t.x,t.y+t.type.Y,t.width,t.height,{fill:"#444444"},u)),t.descr&&t.descr.text!==""&&(u=r.boundaryFont(),u.fontSize=u.fontSize-2,u.fontColor=o,sh(r)(t.descr.text,n,t.x,t.y+t.descr.Y,t.width,t.height,{fill:"#444444"},u))},"drawBoundary"),cKt=x(function(e,t,r){let n=t.bgColor?t.bgColor:r[t.typeC4Shape.text+"_bg_color"],a=t.borderColor?t.borderColor:r[t.typeC4Shape.text+"_border_color"],i=t.fontColor?t.fontColor:"#FFFFFF",o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";switch(t.typeC4Shape.text){case"person":o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";break;case"external_person":o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII=";break}let s=e.append("g");s.attr("class","person-man");let l=Lo();switch(t.typeC4Shape.text){case"person":case"external_person":case"system":case"external_system":case"container":case"external_container":case"component":case"external_component":l.x=t.x,l.y=t.y,l.fill=n,l.width=t.width,l.height=t.height,l.stroke=a,l.rx=2.5,l.ry=2.5,l.attrs={"stroke-width":.5},jF(s,l);break;case"system_db":case"external_system_db":case"container_db":case"external_container_db":case"component_db":case"external_component_db":s.append("path").attr("fill",n).attr("stroke-width","0.5").attr("stroke",a).attr("d","Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("half",t.width/2).replaceAll("height",t.height)),s.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",a).attr("d","Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("half",t.width/2));break;case"system_queue":case"external_system_queue":case"container_queue":case"external_container_queue":case"component_queue":case"external_component_queue":s.append("path").attr("fill",n).attr("stroke-width","0.5").attr("stroke",a).attr("d","Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("width",t.width).replaceAll("half",t.height/2)),s.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",a).attr("d","Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx",t.x+t.width).replaceAll("starty",t.y).replaceAll("half",t.height/2));break}let u=xKt(r,t.typeC4Shape.text);switch(s.append("text").attr("fill",i).attr("font-family",u.fontFamily).attr("font-size",u.fontSize-2).attr("font-style","italic").attr("lengthAdjust","spacing").attr("textLength",t.typeC4Shape.width).attr("x",t.x+t.width/2-t.typeC4Shape.width/2).attr("y",t.y+t.typeC4Shape.Y).text("<<"+t.typeC4Shape.text+">>"),t.typeC4Shape.text){case"person":case"external_person":tgt(s,48,48,t.x+t.width/2-24,t.y+t.image.Y,o);break}let f=r[t.typeC4Shape.text+"Font"]();return f.fontWeight="bold",f.fontSize=f.fontSize+2,f.fontColor=i,sh(r)(t.label.text,s,t.x,t.y+t.label.Y,t.width,t.height,{fill:i},f),f=r[t.typeC4Shape.text+"Font"](),f.fontColor=i,t.techn&&t.techn?.text!==""?sh(r)(t.techn.text,s,t.x,t.y+t.techn.Y,t.width,t.height,{fill:i,"font-style":"italic"},f):t.type&&t.type.text!==""&&sh(r)(t.type.text,s,t.x,t.y+t.type.Y,t.width,t.height,{fill:i,"font-style":"italic"},f),t.descr&&t.descr.text!==""&&(f=r.personFont(),f.fontColor=i,sh(r)(t.descr.text,s,t.x,t.y+t.descr.Y,t.width,t.height,{fill:i},f)),t.height},"drawC4Shape"),fKt=x(function(e){e.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},"insertDatabaseIcon"),hKt=x(function(e){e.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},"insertComputerIcon"),dKt=x(function(e){e.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},"insertClockIcon"),pKt=x(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},"insertArrowHead"),mKt=x(function(e){e.append("defs").append("marker").attr("id","arrowend").attr("refX",1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 10 0 L 0 5 L 10 10 z")},"insertArrowEnd"),gKt=x(function(e){e.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertArrowFilledHead"),vKt=x(function(e){e.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},"insertDynamicNumber"),yKt=x(function(e){let r=e.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);r.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),r.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},"insertArrowCrossHead"),xKt=x((e,t)=>({fontFamily:e[t+"FontFamily"],fontSize:e[t+"FontSize"],fontWeight:e[t+"FontWeight"]}),"getC4ShapeFont"),sh=function(){function e(a,i,o,s,l,u,f){let h=i.append("text").attr("x",o+l/2).attr("y",s+u/2+5).style("text-anchor","middle").text(a);n(h,f)}x(e,"byText");function t(a,i,o,s,l,u,f,h){let{fontSize:d,fontFamily:p,fontWeight:m}=h,g=a.split(Jt.lineBreakRegex);for(let v=0;v<g.length;v++){let y=v*d-d*(g.length-1)/2,b=i.append("text").attr("x",o+l/2).attr("y",s).style("text-anchor","middle").attr("dominant-baseline","middle").style("font-size",d).style("font-weight",m).style("font-family",p);b.append("tspan").attr("dy",y).text(g[v]).attr("alignment-baseline","mathematical"),n(b,f)}}x(t,"byTspan");function r(a,i,o,s,l,u,f,h){let d=i.append("switch"),m=d.append("foreignObject").attr("x",o).attr("y",s).attr("width",l).attr("height",u).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");m.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(a),t(a,d,o,s,l,u,f,h),n(m,f)}x(r,"byFo");function n(a,i){for(let o in i)i.hasOwnProperty(o)&&a.attr(o,i[o])}return x(n,"_setTextAttrs"),function(a){return a.textPlacement==="fo"?r:a.textPlacement==="old"?e:t}}(),Kc={drawRect:jF,drawBoundary:uKt,drawC4Shape:cKt,drawRels:lKt,drawImage:tgt,insertArrowHead:pKt,insertArrowEnd:mKt,insertArrowFilledHead:gKt,insertDynamicNumber:vKt,insertArrowCrossHead:yKt,insertDatabaseIcon:fKt,insertComputerIcon:hKt,insertClockIcon:dKt},ES=0,kS=0,egt=4,VF=2;_S.yy=GF;Ue={},rgt=class{static{x(this,"Bounds")}constructor(e){this.name="",this.data={},this.data.startx=void 0,this.data.stopx=void 0,this.data.starty=void 0,this.data.stopy=void 0,this.data.widthLimit=void 0,this.nextData={},this.nextData.startx=void 0,this.nextData.stopx=void 0,this.nextData.starty=void 0,this.nextData.stopy=void 0,this.nextData.cnt=0,HF(e.db.getConfig())}setData(e,t,r,n){this.nextData.startx=this.data.startx=e,this.nextData.stopx=this.data.stopx=t,this.nextData.starty=this.data.starty=r,this.nextData.stopy=this.data.stopy=n}updateVal(e,t,r,n){e[t]===void 0?e[t]=r:e[t]=n(r,e[t])}insert(e){this.nextData.cnt=this.nextData.cnt+1;let t=this.nextData.startx===this.nextData.stopx?this.nextData.stopx+e.margin:this.nextData.stopx+e.margin*2,r=t+e.width,n=this.nextData.starty+e.margin*2,a=n+e.height;(t>=this.data.widthLimit||r>=this.data.widthLimit||this.nextData.cnt>egt)&&(t=this.nextData.startx+e.margin+Ue.nextLinePaddingX,n=this.nextData.stopy+e.margin*2,this.nextData.stopx=r=t+e.width,this.nextData.starty=this.nextData.stopy,this.nextData.stopy=a=n+e.height,this.nextData.cnt=1),e.x=t,e.y=n,this.updateVal(this.data,"startx",t,Math.min),this.updateVal(this.data,"starty",n,Math.min),this.updateVal(this.data,"stopx",r,Math.max),this.updateVal(this.data,"stopy",a,Math.max),this.updateVal(this.nextData,"startx",t,Math.min),this.updateVal(this.nextData,"starty",n,Math.min),this.updateVal(this.nextData,"stopx",r,Math.max),this.updateVal(this.nextData,"stopy",a,Math.max)}init(e){this.name="",this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,widthLimit:void 0},this.nextData={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,cnt:0},HF(e.db.getConfig())}bumpLastMargin(e){this.data.stopx+=e,this.data.stopy+=e}},HF=x(function(e){ua(Ue,e),e.fontFamily&&(Ue.personFontFamily=Ue.systemFontFamily=Ue.messageFontFamily=e.fontFamily),e.fontSize&&(Ue.personFontSize=Ue.systemFontSize=Ue.messageFontSize=e.fontSize),e.fontWeight&&(Ue.personFontWeight=Ue.systemFontWeight=Ue.messageFontWeight=e.fontWeight)},"setConf"),U_=x((e,t)=>({fontFamily:e[t+"FontFamily"],fontSize:e[t+"FontSize"],fontWeight:e[t+"FontWeight"]}),"c4ShapeFont"),bS=x(e=>({fontFamily:e.boundaryFontFamily,fontSize:e.boundaryFontSize,fontWeight:e.boundaryFontWeight}),"boundaryFont"),bKt=x(e=>({fontFamily:e.messageFontFamily,fontSize:e.messageFontSize,fontWeight:e.messageFontWeight}),"messageFont");x(Jl,"calcC4ShapeTextWH");ngt=x(function(e,t,r){t.x=r.data.startx,t.y=r.data.starty,t.width=r.data.stopx-r.data.startx,t.height=r.data.stopy-r.data.starty,t.label.y=Ue.c4ShapeMargin-35;let n=t.wrap&&Ue.wrap,a=bS(Ue);a.fontSize=a.fontSize+2,a.fontWeight="bold";let i=Qi(t.label.text,a);Jl("label",t,n,a,i),Kc.drawBoundary(e,t,Ue)},"drawBoundary"),agt=x(function(e,t,r,n){let a=0;for(let i of n){a=0;let o=r[i],s=U_(Ue,o.typeC4Shape.text);switch(s.fontSize=s.fontSize-2,o.typeC4Shape.width=Qi("\xAB"+o.typeC4Shape.text+"\xBB",s),o.typeC4Shape.height=s.fontSize+2,o.typeC4Shape.Y=Ue.c4ShapePadding,a=o.typeC4Shape.Y+o.typeC4Shape.height-4,o.image={width:0,height:0,Y:0},o.typeC4Shape.text){case"person":case"external_person":o.image.width=48,o.image.height=48,o.image.Y=a,a=o.image.Y+o.image.height;break}o.sprite&&(o.image.width=48,o.image.height=48,o.image.Y=a,a=o.image.Y+o.image.height);let l=o.wrap&&Ue.wrap,u=Ue.width-Ue.c4ShapePadding*2,f=U_(Ue,o.typeC4Shape.text);if(f.fontSize=f.fontSize+2,f.fontWeight="bold",Jl("label",o,l,f,u),o.label.Y=a+8,a=o.label.Y+o.label.height,o.type&&o.type.text!==""){o.type.text="["+o.type.text+"]";let p=U_(Ue,o.typeC4Shape.text);Jl("type",o,l,p,u),o.type.Y=a+5,a=o.type.Y+o.type.height}else if(o.techn&&o.techn.text!==""){o.techn.text="["+o.techn.text+"]";let p=U_(Ue,o.techn.text);Jl("techn",o,l,p,u),o.techn.Y=a+5,a=o.techn.Y+o.techn.height}let h=a,d=o.label.width;if(o.descr&&o.descr.text!==""){let p=U_(Ue,o.typeC4Shape.text);Jl("descr",o,l,p,u),o.descr.Y=a+20,a=o.descr.Y+o.descr.height,d=Math.max(o.label.width,o.descr.width),h=a-o.descr.textLines*5}d=d+Ue.c4ShapePadding,o.width=Math.max(o.width||Ue.width,d,Ue.width),o.height=Math.max(o.height||Ue.height,h,Ue.height),o.margin=o.margin||Ue.c4ShapeMargin,e.insert(o),Kc.drawC4Shape(t,o,Ue)}e.bumpLastMargin(Ue.c4ShapeMargin)},"drawC4ShapeArray"),Zl=class{static{x(this,"Point")}constructor(e,t){this.x=e,this.y=t}},Xmt=x(function(e,t){let r=e.x,n=e.y,a=t.x,i=t.y,o=r+e.width/2,s=n+e.height/2,l=Math.abs(r-a),u=Math.abs(n-i),f=u/l,h=e.height/e.width,d=null;return n==i&&r<a?d=new Zl(r+e.width,s):n==i&&r>a?d=new Zl(r,s):r==a&&n<i?d=new Zl(o,n+e.height):r==a&&n>i&&(d=new Zl(o,n)),r>a&&n<i?h>=f?d=new Zl(r,s+f*e.width/2):d=new Zl(o-l/u*e.height/2,n+e.height):r<a&&n<i?h>=f?d=new Zl(r+e.width,s+f*e.width/2):d=new Zl(o+l/u*e.height/2,n+e.height):r<a&&n>i?h>=f?d=new Zl(r+e.width,s-f*e.width/2):d=new Zl(o+e.height/2*l/u,n):r>a&&n>i&&(h>=f?d=new Zl(r,s-e.width/2*f):d=new Zl(o-e.height/2*l/u,n)),d},"getIntersectPoint"),_Kt=x(function(e,t){let r={x:0,y:0};r.x=t.x+t.width/2,r.y=t.y+t.height/2;let n=Xmt(e,r);r.x=e.x+e.width/2,r.y=e.y+e.height/2;let a=Xmt(t,r);return{startPoint:n,endPoint:a}},"getIntersectPoints"),wKt=x(function(e,t,r,n){let a=0;for(let i of t){a=a+1;let o=i.wrap&&Ue.wrap,s=bKt(Ue);n.db.getC4Type()==="C4Dynamic"&&(i.label.text=a+": "+i.label.text);let u=Qi(i.label.text,s);Jl("label",i,o,s,u),i.techn&&i.techn.text!==""&&(u=Qi(i.techn.text,s),Jl("techn",i,o,s,u)),i.descr&&i.descr.text!==""&&(u=Qi(i.descr.text,s),Jl("descr",i,o,s,u));let f=r(i.from),h=r(i.to),d=_Kt(f,h);i.startPoint=d.startPoint,i.endPoint=d.endPoint}Kc.drawRels(e,t,Ue)},"drawRels");x(KF,"drawInsideBoundary");TKt=x(function(e,t,r,n){Ue=bt().c4;let a=bt().securityLevel,i;a==="sandbox"&&(i=Vt("#i"+t));let o=a==="sandbox"?Vt(i.nodes()[0].contentDocument.body):Vt("body"),s=n.db;n.db.setWrap(Ue.wrap),egt=s.getC4ShapeInRow(),VF=s.getC4BoundaryInRow(),J.debug(`C:${JSON.stringify(Ue,null,2)}`);let l=a==="sandbox"?o.select(`[id="${t}"]`):Vt(`[id="${t}"]`);Kc.insertComputerIcon(l),Kc.insertDatabaseIcon(l),Kc.insertClockIcon(l);let u=new rgt(n);u.setData(Ue.diagramMarginX,Ue.diagramMarginX,Ue.diagramMarginY,Ue.diagramMarginY),u.data.widthLimit=screen.availWidth,ES=Ue.diagramMarginX,kS=Ue.diagramMarginY;let f=n.db.getTitle(),h=n.db.getBoundaries("");KF(l,"",u,h,n),Kc.insertArrowHead(l),Kc.insertArrowEnd(l),Kc.insertArrowCrossHead(l),Kc.insertArrowFilledHead(l),wKt(l,n.db.getRels(),n.db.getC4Shape,n),u.data.stopx=ES,u.data.stopy=kS;let d=u.data,m=d.stopy-d.starty+2*Ue.diagramMarginY,v=d.stopx-d.startx+2*Ue.diagramMarginX;f&&l.append("text").text(f).attr("x",(d.stopx-d.startx)/2-4*Ue.diagramMarginX).attr("y",d.starty+Ue.diagramMarginY),Nn(l,m,v,Ue.useMaxWidth);let y=f?60:0;l.attr("viewBox",d.startx-Ue.diagramMarginX+" -"+(Ue.diagramMarginY+y)+" "+v+" "+(m+y)),J.debug("models:",d)},"draw"),jmt={drawPersonOrSystemArray:agt,drawBoundary:ngt,setConf:HF,draw:TKt},EKt=x(e=>`.person {
    stroke: ${e.personBorder};
    fill: ${e.personBkg};
  }
`,"getStyles"),kKt=EKt,CKt={parser:Rjt,db:GF,renderer:jmt,styles:kKt,init:x(({c4:e,wrap:t})=>{jmt.setConf(e),GF.setWrap(t)},"init")}});var Zc,ap=B(()=>{nr();Zc=x(()=>`
  /* Font Awesome icon styling - consolidated */
  .label-icon {
    display: inline-block;
    height: 1em;
    overflow: visible;
    vertical-align: -0.125em;
  }
  
  .node .label-icon path {
    fill: currentColor;
    stroke: revert;
    stroke-width: revert;
  }
`,"getIconStyles")});var tu,Bu=B(()=>{nr();hr();tu=x((e,t)=>{let r;return t==="sandbox"&&(r=Vt("#i"+e)),(t==="sandbox"?Vt(r.nodes()[0].contentDocument.body):Vt("body")).select(`[id="${e}"]`)},"getDiagramElement")});var Us,SKt,DKt,eu=B(()=>{Tr();nr();Us=x((e,t,r,n)=>{e.attr("class",r);let{width:a,height:i,x:o,y:s}=SKt(e,t);Nn(e,i,a,n);let l=DKt(o,s,a,i,t);e.attr("viewBox",l),J.debug(`viewBox configured: ${l} with padding: ${t}`)},"setupViewPortForSVG"),SKt=x((e,t)=>{let r=e.node()?.getBBox()||{width:0,height:0,x:0,y:0};return{width:r.width+t*2,height:r.height+t*2,x:r.x,y:r.y}},"calculateDimensionsWithPadding"),DKt=x((e,t,r,n,a)=>`${e-a} ${t-a} ${r} ${n}`,"createViewBox")});var CS={};pr(CS,{diagram:()=>BKt});var AKt,LKt,MKt,IKt,RKt,QF,sgt,lgt,NKt,OKt,FKt,PKt,BKt,SS=B(()=>{ap();pb();Bu();eu();jl();$l();al();Ns();Zo();Jo();to();On();Tr();nr();hr();hr();Zs();AKt="flowchart-",LKt=class{constructor(){this.vertexCounter=0,this.config=bt(),this.vertices=new Map,this.edges=[],this.classes=new Map,this.subGraphs=[],this.subGraphLookup=new Map,this.tooltips=new Map,this.subCount=0,this.firstGraphFlag=!0,this.secCount=-1,this.posCrossRef=[],this.funs=[],this.setAccTitle=Mr,this.setAccDescription=Pr,this.setDiagramTitle=Yr,this.getAccTitle=Fr,this.getAccDescription=Br,this.getDiagramTitle=$r,this.funs.push(this.setupToolTips.bind(this)),this.addVertex=this.addVertex.bind(this),this.firstGraph=this.firstGraph.bind(this),this.setDirection=this.setDirection.bind(this),this.addSubGraph=this.addSubGraph.bind(this),this.addLink=this.addLink.bind(this),this.setLink=this.setLink.bind(this),this.updateLink=this.updateLink.bind(this),this.addClass=this.addClass.bind(this),this.setClass=this.setClass.bind(this),this.destructLink=this.destructLink.bind(this),this.setClickEvent=this.setClickEvent.bind(this),this.setTooltip=this.setTooltip.bind(this),this.updateLinkInterpolate=this.updateLinkInterpolate.bind(this),this.setClickFun=this.setClickFun.bind(this),this.bindFunctions=this.bindFunctions.bind(this),this.lex={firstGraph:this.firstGraph.bind(this)},this.clear(),this.setGen("gen-2")}static{x(this,"FlowDB")}sanitizeText(e){return Jt.sanitizeText(e,this.config)}lookUpDomId(e){for(let t of this.vertices.values())if(t.id===e)return t.domId;return e}addVertex(e,t,r,n,a,i,o={},s){if(!e||e.trim().length===0)return;let l;if(s!==void 0){let d;s.includes(`
`)?d=s+`
`:d=`{
`+s+`
}`,l=cd(d,{schema:ud})}let u=this.edges.find(d=>d.id===e);if(u){let d=l;d?.animate!==void 0&&(u.animate=d.animate),d?.animation!==void 0&&(u.animation=d.animation),d?.curve!==void 0&&(u.interpolate=d.curve);return}let f,h=this.vertices.get(e);if(h===void 0&&(h={id:e,labelType:"text",domId:AKt+e+"-"+this.vertexCounter,styles:[],classes:[]},this.vertices.set(e,h)),this.vertexCounter++,t!==void 0?(this.config=bt(),f=this.sanitizeText(t.text.trim()),h.labelType=t.type,f.startsWith('"')&&f.endsWith('"')&&(f=f.substring(1,f.length-1)),h.text=f):h.text===void 0&&(h.text=e),r!==void 0&&(h.type=r),n?.forEach(d=>{h.styles.push(d)}),a?.forEach(d=>{h.classes.push(d)}),i!==void 0&&(h.dir=i),h.props===void 0?h.props=o:o!==void 0&&Object.assign(h.props,o),l!==void 0){if(l.shape){if(l.shape!==l.shape.toLowerCase()||l.shape.includes("_"))throw new Error(`No such shape: ${l.shape}. Shape names should be lowercase.`);if(!jI(l.shape))throw new Error(`No such shape: ${l.shape}.`);h.type=l?.shape}l?.label&&(h.text=l?.label),l?.icon&&(h.icon=l?.icon,!l.label?.trim()&&h.text===e&&(h.text="")),l?.form&&(h.form=l?.form),l?.pos&&(h.pos=l?.pos),l?.img&&(h.img=l?.img,!l.label?.trim()&&h.text===e&&(h.text="")),l?.constraint&&(h.constraint=l.constraint),l.w&&(h.assetWidth=Number(l.w)),l.h&&(h.assetHeight=Number(l.h))}}addSingleLink(e,t,r,n){let o={start:e,end:t,type:void 0,text:"",labelType:"text",classes:[],isUserDefinedId:!1,interpolate:this.edges.defaultInterpolate};J.info("abc78 Got edge...",o);let s=r.text;if(s!==void 0&&(o.text=this.sanitizeText(s.text.trim()),o.text.startsWith('"')&&o.text.endsWith('"')&&(o.text=o.text.substring(1,o.text.length-1)),o.labelType=s.type),r!==void 0&&(o.type=r.type,o.stroke=r.stroke,o.length=r.length>10?10:r.length),n&&!this.edges.some(l=>l.id===n))o.id=n,o.isUserDefinedId=!0;else{let l=this.edges.filter(u=>u.start===o.start&&u.end===o.end);l.length===0?o.id=Lc(o.start,o.end,{counter:0,prefix:"L"}):o.id=Lc(o.start,o.end,{counter:l.length+1,prefix:"L"})}if(this.edges.length<(this.config.maxEdges??500))J.info("Pushing edge..."),this.edges.push(o);else throw new Error(`Edge limit exceeded. ${this.edges.length} edges found, but the limit is ${this.config.maxEdges}.

Initialize mermaid with maxEdges set to a higher number to allow more edges.
You cannot set this config via configuration inside the diagram as it is a secure config.
You have to call mermaid.initialize.`)}isLinkData(e){return e!==null&&typeof e=="object"&&"id"in e&&typeof e.id=="string"}addLink(e,t,r){let n=this.isLinkData(r)?r.id.replace("@",""):void 0;J.info("addLink",e,t,n);for(let a of e)for(let i of t){let o=a===e[e.length-1],s=i===t[0];o&&s?this.addSingleLink(a,i,r,n):this.addSingleLink(a,i,r,void 0)}}updateLinkInterpolate(e,t){e.forEach(r=>{r==="default"?this.edges.defaultInterpolate=t:this.edges[r].interpolate=t})}updateLink(e,t){e.forEach(r=>{if(typeof r=="number"&&r>=this.edges.length)throw new Error(`The index ${r} for linkStyle is out of bounds. Valid indices for linkStyle are between 0 and ${this.edges.length-1}. (Help: Ensure that the index is within the range of existing edges.)`);r==="default"?this.edges.defaultStyle=t:(this.edges[r].style=t,(this.edges[r]?.style?.length??0)>0&&!this.edges[r]?.style?.some(n=>n?.startsWith("fill"))&&this.edges[r]?.style?.push("fill:none"))})}addClass(e,t){let r=t.join().replace(/\\,/g,"\xA7\xA7\xA7").replace(/,/g,";").replace(//g,",").split(";");e.split(",").forEach(n=>{let a=this.classes.get(n);a===void 0&&(a={id:n,styles:[],textStyles:[]},this.classes.set(n,a)),r?.forEach(i=>{if(/color/.exec(i)){let o=i.replace("fill","bgFill");a.textStyles.push(o)}a.styles.push(i)})})}setDirection(e){this.direction=e.trim(),/.*</.exec(this.direction)&&(this.direction="RL"),/.*\^/.exec(this.direction)&&(this.direction="BT"),/.*>/.exec(this.direction)&&(this.direction="LR"),/.*v/.exec(this.direction)&&(this.direction="TB"),this.direction==="TD"&&(this.direction="TB")}setClass(e,t){for(let r of e.split(",")){let n=this.vertices.get(r);n&&n.classes.push(t);let a=this.edges.find(o=>o.id===r);a&&a.classes.push(t);let i=this.subGraphLookup.get(r);i&&i.classes.push(t)}}setTooltip(e,t){if(t!==void 0){t=this.sanitizeText(t);for(let r of e.split(","))this.tooltips.set(this.version==="gen-1"?this.lookUpDomId(r):r,t)}}setClickFun(e,t,r){let n=this.lookUpDomId(e);if(bt().securityLevel!=="loose"||t===void 0)return;let a=[];if(typeof r=="string"){a=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let o=0;o<a.length;o++){let s=a[o].trim();s.startsWith('"')&&s.endsWith('"')&&(s=s.substr(1,s.length-2)),a[o]=s}}a.length===0&&a.push(e);let i=this.vertices.get(e);i&&(i.haveCallback=!0,this.funs.push(()=>{let o=document.querySelector(`[id="${n}"]`);o!==null&&o.addEventListener("click",()=>{Ge.runFunc(t,...a)},!1)}))}setLink(e,t,r){e.split(",").forEach(n=>{let a=this.vertices.get(n);a!==void 0&&(a.link=Ge.formatUrl(t,this.config),a.linkTarget=r)}),this.setClass(e,"clickable")}getTooltip(e){return this.tooltips.get(e)}setClickEvent(e,t,r){e.split(",").forEach(n=>{this.setClickFun(n,t,r)}),this.setClass(e,"clickable")}bindFunctions(e){this.funs.forEach(t=>{t(e)})}getDirection(){return this.direction?.trim()}getVertices(){return this.vertices}getEdges(){return this.edges}getClasses(){return this.classes}setupToolTips(e){let t=Vt(".mermaidTooltip");(t._groups||t)[0][0]===null&&(t=Vt("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),Vt(e).select("svg").selectAll("g.node").on("mouseover",a=>{let i=Vt(a.currentTarget);if(i.attr("title")===null)return;let s=a.currentTarget?.getBoundingClientRect();t.transition().duration(200).style("opacity",".9"),t.text(i.attr("title")).style("left",window.scrollX+s.left+(s.right-s.left)/2+"px").style("top",window.scrollY+s.bottom+"px"),t.html(t.html().replace(/&lt;br\/&gt;/g,"<br/>")),i.classed("hover",!0)}).on("mouseout",a=>{t.transition().duration(500).style("opacity",0),Vt(a.currentTarget).classed("hover",!1)})}clear(e="gen-2"){this.vertices=new Map,this.classes=new Map,this.edges=[],this.funs=[this.setupToolTips.bind(this)],this.subGraphs=[],this.subGraphLookup=new Map,this.subCount=0,this.tooltips=new Map,this.firstGraphFlag=!0,this.version=e,this.config=bt(),wr()}setGen(e){this.version=e||"gen-2"}defaultStyle(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"}addSubGraph(e,t,r){let n=e.text.trim(),a=r.text;e===r&&/\s/.exec(r.text)&&(n=void 0);let o=x(h=>{let d={boolean:{},number:{},string:{}},p=[],m;return{nodeList:h.filter(function(v){let y=typeof v;return v.stmt&&v.stmt==="dir"?(m=v.value,!1):v.trim()===""?!1:y in d?d[y].hasOwnProperty(v)?!1:d[y][v]=!0:p.includes(v)?!1:p.push(v)}),dir:m}},"uniq")(t.flat()),s=o.nodeList,l=o.dir,u=bt().flowchart??{};if(l=l??(u.inheritDir?this.getDirection()??bt().direction??void 0:void 0),this.version==="gen-1")for(let h=0;h<s.length;h++)s[h]=this.lookUpDomId(s[h]);n=n??"subGraph"+this.subCount,a=a||"",a=this.sanitizeText(a),this.subCount=this.subCount+1;let f={id:n,nodes:s,title:a.trim(),classes:[],dir:l,labelType:r.type};return J.info("Adding",f.id,f.nodes,f.dir),f.nodes=this.makeUniq(f,this.subGraphs).nodes,this.subGraphs.push(f),this.subGraphLookup.set(n,f),n}getPosForId(e){for(let[t,r]of this.subGraphs.entries())if(r.id===e)return t;return-1}indexNodes2(e,t){let r=this.subGraphs[t].nodes;if(this.secCount=this.secCount+1,this.secCount>2e3)return{result:!1,count:0};if(this.posCrossRef[this.secCount]=t,this.subGraphs[t].id===e)return{result:!0,count:0};let n=0,a=1;for(;n<r.length;){let i=this.getPosForId(r[n]);if(i>=0){let o=this.indexNodes2(e,i);if(o.result)return{result:!0,count:a+o.count};a=a+o.count}n=n+1}return{result:!1,count:a}}getDepthFirstPos(e){return this.posCrossRef[e]}indexNodes(){this.secCount=-1,this.subGraphs.length>0&&this.indexNodes2("none",this.subGraphs.length-1)}getSubGraphs(){return this.subGraphs}firstGraph(){return this.firstGraphFlag?(this.firstGraphFlag=!1,!0):!1}destructStartLink(e){let t=e.trim(),r="arrow_open";switch(t[0]){case"<":r="arrow_point",t=t.slice(1);break;case"x":r="arrow_cross",t=t.slice(1);break;case"o":r="arrow_circle",t=t.slice(1);break}let n="normal";return t.includes("=")&&(n="thick"),t.includes(".")&&(n="dotted"),{type:r,stroke:n}}countChar(e,t){let r=t.length,n=0;for(let a=0;a<r;++a)t[a]===e&&++n;return n}destructEndLink(e){let t=e.trim(),r=t.slice(0,-1),n="arrow_open";switch(t.slice(-1)){case"x":n="arrow_cross",t.startsWith("x")&&(n="double_"+n,r=r.slice(1));break;case">":n="arrow_point",t.startsWith("<")&&(n="double_"+n,r=r.slice(1));break;case"o":n="arrow_circle",t.startsWith("o")&&(n="double_"+n,r=r.slice(1));break}let a="normal",i=r.length-1;r.startsWith("=")&&(a="thick"),r.startsWith("~")&&(a="invisible");let o=this.countChar(".",r);return o&&(a="dotted",i=o),{type:n,stroke:a,length:i}}destructLink(e,t){let r=this.destructEndLink(e),n;if(t){if(n=this.destructStartLink(t),n.stroke!==r.stroke)return{type:"INVALID",stroke:"INVALID"};if(n.type==="arrow_open")n.type=r.type;else{if(n.type!==r.type)return{type:"INVALID",stroke:"INVALID"};n.type="double_"+n.type}return n.type==="double_arrow"&&(n.type="double_arrow_point"),n.length=r.length,n}return r}exists(e,t){for(let r of e)if(r.nodes.includes(t))return!0;return!1}makeUniq(e,t){let r=[];return e.nodes.forEach((n,a)=>{this.exists(t,n)||r.push(e.nodes[a])}),{nodes:r}}getTypeFromVertex(e){if(e.img)return"imageSquare";if(e.icon)return e.form==="circle"?"iconCircle":e.form==="square"?"iconSquare":e.form==="rounded"?"iconRounded":"icon";switch(e.type){case"square":case void 0:return"squareRect";case"round":return"roundedRect";case"ellipse":return"ellipse";default:return e.type}}findNode(e,t){return e.find(r=>r.id===t)}destructEdgeType(e){let t="none",r="arrow_point";switch(e){case"arrow_point":case"arrow_circle":case"arrow_cross":r=e;break;case"double_arrow_point":case"double_arrow_circle":case"double_arrow_cross":t=e.replace("double_",""),r=t;break}return{arrowTypeStart:t,arrowTypeEnd:r}}addNodeFromVertex(e,t,r,n,a,i){let o=r.get(e.id),s=n.get(e.id)??!1,l=this.findNode(t,e.id);if(l)l.cssStyles=e.styles,l.cssCompiledStyles=this.getCompiledStyles(e.classes),l.cssClasses=e.classes.join(" ");else{let u={id:e.id,label:e.text,labelStyle:"",parentId:o,padding:a.flowchart?.padding||8,cssStyles:e.styles,cssCompiledStyles:this.getCompiledStyles(["default","node",...e.classes]),cssClasses:"default "+e.classes.join(" "),dir:e.dir,domId:e.domId,look:i,link:e.link,linkTarget:e.linkTarget,tooltip:this.getTooltip(e.id),icon:e.icon,pos:e.pos,img:e.img,assetWidth:e.assetWidth,assetHeight:e.assetHeight,constraint:e.constraint};s?t.push({...u,isGroup:!0,shape:"rect"}):t.push({...u,isGroup:!1,shape:this.getTypeFromVertex(e)})}}getCompiledStyles(e){let t=[];for(let r of e){let n=this.classes.get(r);n?.styles&&(t=[...t,...n.styles??[]].map(a=>a.trim())),n?.textStyles&&(t=[...t,...n.textStyles??[]].map(a=>a.trim()))}return t}getData(){let e=bt(),t=[],r=[],n=this.getSubGraphs(),a=new Map,i=new Map;for(let l=n.length-1;l>=0;l--){let u=n[l];u.nodes.length>0&&i.set(u.id,!0);for(let f of u.nodes)a.set(f,u.id)}for(let l=n.length-1;l>=0;l--){let u=n[l];t.push({id:u.id,label:u.title,labelStyle:"",parentId:a.get(u.id),padding:8,cssCompiledStyles:this.getCompiledStyles(u.classes),cssClasses:u.classes.join(" "),shape:"rect",dir:u.dir,isGroup:!0,look:e.look})}this.getVertices().forEach(l=>{this.addNodeFromVertex(l,t,a,i,e,e.look||"classic")});let s=this.getEdges();return s.forEach((l,u)=>{let{arrowTypeStart:f,arrowTypeEnd:h}=this.destructEdgeType(l.type),d=[...s.defaultStyle??[]];l.style&&d.push(...l.style);let p={id:Lc(l.start,l.end,{counter:u,prefix:"L"},l.id),isUserDefinedId:l.isUserDefinedId,start:l.start,end:l.end,type:l.type??"normal",label:l.text,labelpos:"c",thickness:l.stroke,minlen:l.length,classes:l?.stroke==="invisible"?"":"edge-thickness-normal edge-pattern-solid flowchart-link",arrowTypeStart:l?.stroke==="invisible"||l?.type==="arrow_open"?"none":f,arrowTypeEnd:l?.stroke==="invisible"||l?.type==="arrow_open"?"none":h,arrowheadStyle:"fill: #333",cssCompiledStyles:this.getCompiledStyles(l.classes),labelStyle:d,style:d,pattern:l.stroke,look:e.look,animate:l.animate,animation:l.animation,curve:l.interpolate||this.edges.defaultInterpolate||e.flowchart?.curve};r.push(p)}),{nodes:t,edges:r,other:{},config:e}}defaultConfig(){return A5.flowchart}},MKt=x(function(e,t){return t.db.getClasses()},"getClasses"),IKt=x(async function(e,t,r,n){J.info("REF0:"),J.info("Drawing state diagram (v2)",t);let{securityLevel:a,flowchart:i,layout:o}=bt(),s;a==="sandbox"&&(s=Vt("#i"+t));let l=a==="sandbox"?s.nodes()[0].contentDocument:document;J.debug("Before getData: ");let u=n.db.getData();J.debug("Data: ",u);let f=tu(t,a),h=n.db.getDirection();u.type=n.type,u.layoutAlgorithm=jc(o),u.layoutAlgorithm==="dagre"&&o==="elk"&&J.warn("flowchart-elk was moved to an external package in Mermaid v11. Please refer [release notes](https://github.com/mermaid-js/mermaid/releases/tag/v11.0.0) for more details. This diagram will be rendered using `dagre` layout as a fallback."),u.direction=h,u.nodeSpacing=i?.nodeSpacing||50,u.rankSpacing=i?.rankSpacing||50,u.markers=["point","circle","cross"],u.diagramId=t,J.debug("REF1:",u),await Xl(u,f);let d=u.config.flowchart?.diagramPadding??8;Ge.insertTitle(f,"flowchartTitleText",i?.titleTopMargin||0,n.db.getDiagramTitle()),Us(f,d,"flowchart",i?.useMaxWidth||!1);for(let p of u.nodes){let m=Vt(`#${t} [id="${p.id}"]`);if(!m||!p.link)continue;let g=l.createElementNS("http://www.w3.org/2000/svg","a");g.setAttributeNS("http://www.w3.org/2000/svg","class",p.cssClasses),g.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),a==="sandbox"?g.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):p.linkTarget&&g.setAttributeNS("http://www.w3.org/2000/svg","target",p.linkTarget);let v=m.insert(function(){return g},":first-child"),y=m.select(".label-container");y&&v.append(function(){return y.node()});let b=m.select(".label");b&&v.append(function(){return b.node()})}},"draw"),RKt={getClasses:MKt,draw:IKt},QF=function(){var e=x(function(tn,Qt,ve,qe){for(ve=ve||{},qe=tn.length;qe--;ve[tn[qe]]=Qt);return ve},"o"),t=[1,4],r=[1,3],n=[1,5],a=[1,8,9,10,11,27,34,36,38,44,60,84,85,86,87,88,89,102,105,106,109,111,114,115,116,121,122,123,124],i=[2,2],o=[1,13],s=[1,14],l=[1,15],u=[1,16],f=[1,23],h=[1,25],d=[1,26],p=[1,27],m=[1,49],g=[1,48],v=[1,29],y=[1,30],b=[1,31],_=[1,32],k=[1,33],w=[1,44],T=[1,46],S=[1,42],C=[1,47],M=[1,43],N=[1,50],L=[1,45],E=[1,51],A=[1,52],D=[1,34],R=[1,35],I=[1,36],O=[1,37],F=[1,57],P=[1,8,9,10,11,27,32,34,36,38,44,60,84,85,86,87,88,89,102,105,106,109,111,114,115,116,121,122,123,124],q=[1,61],$=[1,60],W=[1,62],X=[8,9,11,75,77,78],tt=[1,78],Y=[1,91],ot=[1,96],Z=[1,95],ct=[1,92],rt=[1,88],et=[1,94],Q=[1,90],j=[1,97],it=[1,93],K=[1,98],dt=[1,89],nt=[8,9,10,11,40,75,77,78],_t=[8,9,10,11,40,46,75,77,78],V=[8,9,10,11,29,40,44,46,48,50,52,54,56,58,60,63,65,67,68,70,75,77,78,89,102,105,106,109,111,114,115,116],Ut=[8,9,11,44,60,75,77,78,89,102,105,106,109,111,114,115,116],pt=[44,60,89,102,105,106,109,111,114,115,116],Ft=[1,121],Yt=[1,122],Ht=[1,124],Lt=[1,123],Nt=[44,60,62,74,89,102,105,106,109,111,114,115,116],It=[1,133],kt=[1,147],Pt=[1,148],ht=[1,149],yt=[1,150],H=[1,135],ft=[1,137],z=[1,141],st=[1,142],lt=[1,143],wt=[1,144],vt=[1,145],gt=[1,146],Mt=[1,151],St=[1,152],Bt=[1,131],jt=[1,132],ue=[1,139],Gt=[1,134],$t=[1,138],Xt=[1,136],Wt=[8,9,10,11,27,32,34,36,38,44,60,84,85,86,87,88,89,102,105,106,109,111,114,115,116,121,122,123,124],ne=[1,154],Fe=[1,156],de=[8,9,11],we=[8,9,10,11,14,44,60,89,105,106,109,111,114,115,116],oe=[1,176],ie=[1,172],fe=[1,173],pe=[1,177],me=[1,174],se=[1,175],Zr=[77,116,119],Se=[8,9,10,11,12,14,27,29,32,44,60,75,84,85,86,87,88,89,90,105,109,111,114,115,116],Jr=[10,106],Ur=[31,49,51,53,55,57,62,64,66,67,69,71,116,117,118],rr=[1,247],Je=[1,245],_r=[1,249],zn=[1,243],ce=[1,244],Dt=[1,246],te=[1,248],Te=[1,250],Hr=[1,268],la=[8,9,11,106],Wr=[8,9,10,11,60,84,105,106,109,110,111,112],Aa={trace:x(function(){},"trace"),yy:{},symbols_:{error:2,start:3,graphConfig:4,document:5,line:6,statement:7,SEMI:8,NEWLINE:9,SPACE:10,EOF:11,GRAPH:12,NODIR:13,DIR:14,FirstStmtSeparator:15,ending:16,endToken:17,spaceList:18,spaceListNewline:19,vertexStatement:20,separator:21,styleStatement:22,linkStyleStatement:23,classDefStatement:24,classStatement:25,clickStatement:26,subgraph:27,textNoTags:28,SQS:29,text:30,SQE:31,end:32,direction:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,shapeData:39,SHAPE_DATA:40,link:41,node:42,styledVertex:43,AMP:44,vertex:45,STYLE_SEPARATOR:46,idString:47,DOUBLECIRCLESTART:48,DOUBLECIRCLEEND:49,PS:50,PE:51,"(-":52,"-)":53,STADIUMSTART:54,STADIUMEND:55,SUBROUTINESTART:56,SUBROUTINEEND:57,VERTEX_WITH_PROPS_START:58,"NODE_STRING[field]":59,COLON:60,"NODE_STRING[value]":61,PIPE:62,CYLINDERSTART:63,CYLINDEREND:64,DIAMOND_START:65,DIAMOND_STOP:66,TAGEND:67,TRAPSTART:68,TRAPEND:69,INVTRAPSTART:70,INVTRAPEND:71,linkStatement:72,arrowText:73,TESTSTR:74,START_LINK:75,edgeText:76,LINK:77,LINK_ID:78,edgeTextToken:79,STR:80,MD_STR:81,textToken:82,keywords:83,STYLE:84,LINKSTYLE:85,CLASSDEF:86,CLASS:87,CLICK:88,DOWN:89,UP:90,textNoTagsToken:91,stylesOpt:92,"idString[vertex]":93,"idString[class]":94,CALLBACKNAME:95,CALLBACKARGS:96,HREF:97,LINK_TARGET:98,"STR[link]":99,"STR[tooltip]":100,alphaNum:101,DEFAULT:102,numList:103,INTERPOLATE:104,NUM:105,COMMA:106,style:107,styleComponent:108,NODE_STRING:109,UNIT:110,BRKT:111,PCT:112,idStringToken:113,MINUS:114,MULT:115,UNICODE_TEXT:116,TEXT:117,TAGSTART:118,EDGE_TEXT:119,alphaNumToken:120,direction_tb:121,direction_bt:122,direction_rl:123,direction_lr:124,$accept:0,$end:1},terminals_:{2:"error",8:"SEMI",9:"NEWLINE",10:"SPACE",11:"EOF",12:"GRAPH",13:"NODIR",14:"DIR",27:"subgraph",29:"SQS",31:"SQE",32:"end",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",40:"SHAPE_DATA",44:"AMP",46:"STYLE_SEPARATOR",48:"DOUBLECIRCLESTART",49:"DOUBLECIRCLEEND",50:"PS",51:"PE",52:"(-",53:"-)",54:"STADIUMSTART",55:"STADIUMEND",56:"SUBROUTINESTART",57:"SUBROUTINEEND",58:"VERTEX_WITH_PROPS_START",59:"NODE_STRING[field]",60:"COLON",61:"NODE_STRING[value]",62:"PIPE",63:"CYLINDERSTART",64:"CYLINDEREND",65:"DIAMOND_START",66:"DIAMOND_STOP",67:"TAGEND",68:"TRAPSTART",69:"TRAPEND",70:"INVTRAPSTART",71:"INVTRAPEND",74:"TESTSTR",75:"START_LINK",77:"LINK",78:"LINK_ID",80:"STR",81:"MD_STR",84:"STYLE",85:"LINKSTYLE",86:"CLASSDEF",87:"CLASS",88:"CLICK",89:"DOWN",90:"UP",93:"idString[vertex]",94:"idString[class]",95:"CALLBACKNAME",96:"CALLBACKARGS",97:"HREF",98:"LINK_TARGET",99:"STR[link]",100:"STR[tooltip]",102:"DEFAULT",104:"INTERPOLATE",105:"NUM",106:"COMMA",109:"NODE_STRING",110:"UNIT",111:"BRKT",112:"PCT",114:"MINUS",115:"MULT",116:"UNICODE_TEXT",117:"TEXT",118:"TAGSTART",119:"EDGE_TEXT",121:"direction_tb",122:"direction_bt",123:"direction_rl",124:"direction_lr"},productions_:[0,[3,2],[5,0],[5,2],[6,1],[6,1],[6,1],[6,1],[6,1],[4,2],[4,2],[4,2],[4,3],[16,2],[16,1],[17,1],[17,1],[17,1],[15,1],[15,1],[15,2],[19,2],[19,2],[19,1],[19,1],[18,2],[18,1],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,9],[7,6],[7,4],[7,1],[7,2],[7,2],[7,1],[21,1],[21,1],[21,1],[39,2],[39,1],[20,4],[20,3],[20,4],[20,2],[20,2],[20,1],[42,1],[42,6],[42,5],[43,1],[43,3],[45,4],[45,4],[45,6],[45,4],[45,4],[45,4],[45,8],[45,4],[45,4],[45,4],[45,6],[45,4],[45,4],[45,4],[45,4],[45,4],[45,1],[41,2],[41,3],[41,3],[41,1],[41,3],[41,4],[76,1],[76,2],[76,1],[76,1],[72,1],[72,2],[73,3],[30,1],[30,2],[30,1],[30,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[28,1],[28,2],[28,1],[28,1],[24,5],[25,5],[26,2],[26,4],[26,3],[26,5],[26,3],[26,5],[26,5],[26,7],[26,2],[26,4],[26,2],[26,4],[26,4],[26,6],[22,5],[23,5],[23,5],[23,9],[23,9],[23,7],[23,7],[103,1],[103,3],[92,1],[92,3],[107,1],[107,2],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[82,1],[82,1],[82,1],[82,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[79,1],[79,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[47,1],[47,2],[101,1],[101,2],[33,1],[33,1],[33,1],[33,1]],performAction:x(function(Qt,ve,qe,ae,Ar,mt,ec){var xt=mt.length-1;switch(Ar){case 2:this.$=[];break;case 3:(!Array.isArray(mt[xt])||mt[xt].length>0)&&mt[xt-1].push(mt[xt]),this.$=mt[xt-1];break;case 4:case 183:this.$=mt[xt];break;case 11:ae.setDirection("TB"),this.$="TB";break;case 12:ae.setDirection(mt[xt-1]),this.$=mt[xt-1];break;case 27:this.$=mt[xt-1].nodes;break;case 28:case 29:case 30:case 31:case 32:this.$=[];break;case 33:this.$=ae.addSubGraph(mt[xt-6],mt[xt-1],mt[xt-4]);break;case 34:this.$=ae.addSubGraph(mt[xt-3],mt[xt-1],mt[xt-3]);break;case 35:this.$=ae.addSubGraph(void 0,mt[xt-1],void 0);break;case 37:this.$=mt[xt].trim(),ae.setAccTitle(this.$);break;case 38:case 39:this.$=mt[xt].trim(),ae.setAccDescription(this.$);break;case 43:this.$=mt[xt-1]+mt[xt];break;case 44:this.$=mt[xt];break;case 45:ae.addVertex(mt[xt-1][mt[xt-1].length-1],void 0,void 0,void 0,void 0,void 0,void 0,mt[xt]),ae.addLink(mt[xt-3].stmt,mt[xt-1],mt[xt-2]),this.$={stmt:mt[xt-1],nodes:mt[xt-1].concat(mt[xt-3].nodes)};break;case 46:ae.addLink(mt[xt-2].stmt,mt[xt],mt[xt-1]),this.$={stmt:mt[xt],nodes:mt[xt].concat(mt[xt-2].nodes)};break;case 47:ae.addLink(mt[xt-3].stmt,mt[xt-1],mt[xt-2]),this.$={stmt:mt[xt-1],nodes:mt[xt-1].concat(mt[xt-3].nodes)};break;case 48:this.$={stmt:mt[xt-1],nodes:mt[xt-1]};break;case 49:ae.addVertex(mt[xt-1][mt[xt-1].length-1],void 0,void 0,void 0,void 0,void 0,void 0,mt[xt]),this.$={stmt:mt[xt-1],nodes:mt[xt-1],shapeData:mt[xt]};break;case 50:this.$={stmt:mt[xt],nodes:mt[xt]};break;case 51:this.$=[mt[xt]];break;case 52:ae.addVertex(mt[xt-5][mt[xt-5].length-1],void 0,void 0,void 0,void 0,void 0,void 0,mt[xt-4]),this.$=mt[xt-5].concat(mt[xt]);break;case 53:this.$=mt[xt-4].concat(mt[xt]);break;case 54:this.$=mt[xt];break;case 55:this.$=mt[xt-2],ae.setClass(mt[xt-2],mt[xt]);break;case 56:this.$=mt[xt-3],ae.addVertex(mt[xt-3],mt[xt-1],"square");break;case 57:this.$=mt[xt-3],ae.addVertex(mt[xt-3],mt[xt-1],"doublecircle");break;case 58:this.$=mt[xt-5],ae.addVertex(mt[xt-5],mt[xt-2],"circle");break;case 59:this.$=mt[xt-3],ae.addVertex(mt[xt-3],mt[xt-1],"ellipse");break;case 60:this.$=mt[xt-3],ae.addVertex(mt[xt-3],mt[xt-1],"stadium");break;case 61:this.$=mt[xt-3],ae.addVertex(mt[xt-3],mt[xt-1],"subroutine");break;case 62:this.$=mt[xt-7],ae.addVertex(mt[xt-7],mt[xt-1],"rect",void 0,void 0,void 0,Object.fromEntries([[mt[xt-5],mt[xt-3]]]));break;case 63:this.$=mt[xt-3],ae.addVertex(mt[xt-3],mt[xt-1],"cylinder");break;case 64:this.$=mt[xt-3],ae.addVertex(mt[xt-3],mt[xt-1],"round");break;case 65:this.$=mt[xt-3],ae.addVertex(mt[xt-3],mt[xt-1],"diamond");break;case 66:this.$=mt[xt-5],ae.addVertex(mt[xt-5],mt[xt-2],"hexagon");break;case 67:this.$=mt[xt-3],ae.addVertex(mt[xt-3],mt[xt-1],"odd");break;case 68:this.$=mt[xt-3],ae.addVertex(mt[xt-3],mt[xt-1],"trapezoid");break;case 69:this.$=mt[xt-3],ae.addVertex(mt[xt-3],mt[xt-1],"inv_trapezoid");break;case 70:this.$=mt[xt-3],ae.addVertex(mt[xt-3],mt[xt-1],"lean_right");break;case 71:this.$=mt[xt-3],ae.addVertex(mt[xt-3],mt[xt-1],"lean_left");break;case 72:this.$=mt[xt],ae.addVertex(mt[xt]);break;case 73:mt[xt-1].text=mt[xt],this.$=mt[xt-1];break;case 74:case 75:mt[xt-2].text=mt[xt-1],this.$=mt[xt-2];break;case 76:this.$=mt[xt];break;case 77:var dn=ae.destructLink(mt[xt],mt[xt-2]);this.$={type:dn.type,stroke:dn.stroke,length:dn.length,text:mt[xt-1]};break;case 78:var dn=ae.destructLink(mt[xt],mt[xt-2]);this.$={type:dn.type,stroke:dn.stroke,length:dn.length,text:mt[xt-1],id:mt[xt-3]};break;case 79:this.$={text:mt[xt],type:"text"};break;case 80:this.$={text:mt[xt-1].text+""+mt[xt],type:mt[xt-1].type};break;case 81:this.$={text:mt[xt],type:"string"};break;case 82:this.$={text:mt[xt],type:"markdown"};break;case 83:var dn=ae.destructLink(mt[xt]);this.$={type:dn.type,stroke:dn.stroke,length:dn.length};break;case 84:var dn=ae.destructLink(mt[xt]);this.$={type:dn.type,stroke:dn.stroke,length:dn.length,id:mt[xt-1]};break;case 85:this.$=mt[xt-1];break;case 86:this.$={text:mt[xt],type:"text"};break;case 87:this.$={text:mt[xt-1].text+""+mt[xt],type:mt[xt-1].type};break;case 88:this.$={text:mt[xt],type:"string"};break;case 89:case 104:this.$={text:mt[xt],type:"markdown"};break;case 101:this.$={text:mt[xt],type:"text"};break;case 102:this.$={text:mt[xt-1].text+""+mt[xt],type:mt[xt-1].type};break;case 103:this.$={text:mt[xt],type:"text"};break;case 105:this.$=mt[xt-4],ae.addClass(mt[xt-2],mt[xt]);break;case 106:this.$=mt[xt-4],ae.setClass(mt[xt-2],mt[xt]);break;case 107:case 115:this.$=mt[xt-1],ae.setClickEvent(mt[xt-1],mt[xt]);break;case 108:case 116:this.$=mt[xt-3],ae.setClickEvent(mt[xt-3],mt[xt-2]),ae.setTooltip(mt[xt-3],mt[xt]);break;case 109:this.$=mt[xt-2],ae.setClickEvent(mt[xt-2],mt[xt-1],mt[xt]);break;case 110:this.$=mt[xt-4],ae.setClickEvent(mt[xt-4],mt[xt-3],mt[xt-2]),ae.setTooltip(mt[xt-4],mt[xt]);break;case 111:this.$=mt[xt-2],ae.setLink(mt[xt-2],mt[xt]);break;case 112:this.$=mt[xt-4],ae.setLink(mt[xt-4],mt[xt-2]),ae.setTooltip(mt[xt-4],mt[xt]);break;case 113:this.$=mt[xt-4],ae.setLink(mt[xt-4],mt[xt-2],mt[xt]);break;case 114:this.$=mt[xt-6],ae.setLink(mt[xt-6],mt[xt-4],mt[xt]),ae.setTooltip(mt[xt-6],mt[xt-2]);break;case 117:this.$=mt[xt-1],ae.setLink(mt[xt-1],mt[xt]);break;case 118:this.$=mt[xt-3],ae.setLink(mt[xt-3],mt[xt-2]),ae.setTooltip(mt[xt-3],mt[xt]);break;case 119:this.$=mt[xt-3],ae.setLink(mt[xt-3],mt[xt-2],mt[xt]);break;case 120:this.$=mt[xt-5],ae.setLink(mt[xt-5],mt[xt-4],mt[xt]),ae.setTooltip(mt[xt-5],mt[xt-2]);break;case 121:this.$=mt[xt-4],ae.addVertex(mt[xt-2],void 0,void 0,mt[xt]);break;case 122:this.$=mt[xt-4],ae.updateLink([mt[xt-2]],mt[xt]);break;case 123:this.$=mt[xt-4],ae.updateLink(mt[xt-2],mt[xt]);break;case 124:this.$=mt[xt-8],ae.updateLinkInterpolate([mt[xt-6]],mt[xt-2]),ae.updateLink([mt[xt-6]],mt[xt]);break;case 125:this.$=mt[xt-8],ae.updateLinkInterpolate(mt[xt-6],mt[xt-2]),ae.updateLink(mt[xt-6],mt[xt]);break;case 126:this.$=mt[xt-6],ae.updateLinkInterpolate([mt[xt-4]],mt[xt]);break;case 127:this.$=mt[xt-6],ae.updateLinkInterpolate(mt[xt-4],mt[xt]);break;case 128:case 130:this.$=[mt[xt]];break;case 129:case 131:mt[xt-2].push(mt[xt]),this.$=mt[xt-2];break;case 133:this.$=mt[xt-1]+mt[xt];break;case 181:this.$=mt[xt];break;case 182:this.$=mt[xt-1]+""+mt[xt];break;case 184:this.$=mt[xt-1]+""+mt[xt];break;case 185:this.$={stmt:"dir",value:"TB"};break;case 186:this.$={stmt:"dir",value:"BT"};break;case 187:this.$={stmt:"dir",value:"RL"};break;case 188:this.$={stmt:"dir",value:"LR"};break}},"anonymous"),table:[{3:1,4:2,9:t,10:r,12:n},{1:[3]},e(a,i,{5:6}),{4:7,9:t,10:r,12:n},{4:8,9:t,10:r,12:n},{13:[1,9],14:[1,10]},{1:[2,1],6:11,7:12,8:o,9:s,10:l,11:u,20:17,22:18,23:19,24:20,25:21,26:22,27:f,33:24,34:h,36:d,38:p,42:28,43:38,44:m,45:39,47:40,60:g,84:v,85:y,86:b,87:_,88:k,89:w,102:T,105:S,106:C,109:M,111:N,113:41,114:L,115:E,116:A,121:D,122:R,123:I,124:O},e(a,[2,9]),e(a,[2,10]),e(a,[2,11]),{8:[1,54],9:[1,55],10:F,15:53,18:56},e(P,[2,3]),e(P,[2,4]),e(P,[2,5]),e(P,[2,6]),e(P,[2,7]),e(P,[2,8]),{8:q,9:$,11:W,21:58,41:59,72:63,75:[1,64],77:[1,66],78:[1,65]},{8:q,9:$,11:W,21:67},{8:q,9:$,11:W,21:68},{8:q,9:$,11:W,21:69},{8:q,9:$,11:W,21:70},{8:q,9:$,11:W,21:71},{8:q,9:$,10:[1,72],11:W,21:73},e(P,[2,36]),{35:[1,74]},{37:[1,75]},e(P,[2,39]),e(X,[2,50],{18:76,39:77,10:F,40:tt}),{10:[1,79]},{10:[1,80]},{10:[1,81]},{10:[1,82]},{14:Y,44:ot,60:Z,80:[1,86],89:ct,95:[1,83],97:[1,84],101:85,105:rt,106:et,109:Q,111:j,114:it,115:K,116:dt,120:87},e(P,[2,185]),e(P,[2,186]),e(P,[2,187]),e(P,[2,188]),e(nt,[2,51]),e(nt,[2,54],{46:[1,99]}),e(_t,[2,72],{113:112,29:[1,100],44:m,48:[1,101],50:[1,102],52:[1,103],54:[1,104],56:[1,105],58:[1,106],60:g,63:[1,107],65:[1,108],67:[1,109],68:[1,110],70:[1,111],89:w,102:T,105:S,106:C,109:M,111:N,114:L,115:E,116:A}),e(V,[2,181]),e(V,[2,142]),e(V,[2,143]),e(V,[2,144]),e(V,[2,145]),e(V,[2,146]),e(V,[2,147]),e(V,[2,148]),e(V,[2,149]),e(V,[2,150]),e(V,[2,151]),e(V,[2,152]),e(a,[2,12]),e(a,[2,18]),e(a,[2,19]),{9:[1,113]},e(Ut,[2,26],{18:114,10:F}),e(P,[2,27]),{42:115,43:38,44:m,45:39,47:40,60:g,89:w,102:T,105:S,106:C,109:M,111:N,113:41,114:L,115:E,116:A},e(P,[2,40]),e(P,[2,41]),e(P,[2,42]),e(pt,[2,76],{73:116,62:[1,118],74:[1,117]}),{76:119,79:120,80:Ft,81:Yt,116:Ht,119:Lt},{75:[1,125],77:[1,126]},e(Nt,[2,83]),e(P,[2,28]),e(P,[2,29]),e(P,[2,30]),e(P,[2,31]),e(P,[2,32]),{10:It,12:kt,14:Pt,27:ht,28:127,32:yt,44:H,60:ft,75:z,80:[1,129],81:[1,130],83:140,84:st,85:lt,86:wt,87:vt,88:gt,89:Mt,90:St,91:128,105:Bt,109:jt,111:ue,114:Gt,115:$t,116:Xt},e(Wt,i,{5:153}),e(P,[2,37]),e(P,[2,38]),e(X,[2,48],{44:ne}),e(X,[2,49],{18:155,10:F,40:Fe}),e(nt,[2,44]),{44:m,47:157,60:g,89:w,102:T,105:S,106:C,109:M,111:N,113:41,114:L,115:E,116:A},{102:[1,158],103:159,105:[1,160]},{44:m,47:161,60:g,89:w,102:T,105:S,106:C,109:M,111:N,113:41,114:L,115:E,116:A},{44:m,47:162,60:g,89:w,102:T,105:S,106:C,109:M,111:N,113:41,114:L,115:E,116:A},e(de,[2,107],{10:[1,163],96:[1,164]}),{80:[1,165]},e(de,[2,115],{120:167,10:[1,166],14:Y,44:ot,60:Z,89:ct,105:rt,106:et,109:Q,111:j,114:it,115:K,116:dt}),e(de,[2,117],{10:[1,168]}),e(we,[2,183]),e(we,[2,170]),e(we,[2,171]),e(we,[2,172]),e(we,[2,173]),e(we,[2,174]),e(we,[2,175]),e(we,[2,176]),e(we,[2,177]),e(we,[2,178]),e(we,[2,179]),e(we,[2,180]),{44:m,47:169,60:g,89:w,102:T,105:S,106:C,109:M,111:N,113:41,114:L,115:E,116:A},{30:170,67:oe,80:ie,81:fe,82:171,116:pe,117:me,118:se},{30:178,67:oe,80:ie,81:fe,82:171,116:pe,117:me,118:se},{30:180,50:[1,179],67:oe,80:ie,81:fe,82:171,116:pe,117:me,118:se},{30:181,67:oe,80:ie,81:fe,82:171,116:pe,117:me,118:se},{30:182,67:oe,80:ie,81:fe,82:171,116:pe,117:me,118:se},{30:183,67:oe,80:ie,81:fe,82:171,116:pe,117:me,118:se},{109:[1,184]},{30:185,67:oe,80:ie,81:fe,82:171,116:pe,117:me,118:se},{30:186,65:[1,187],67:oe,80:ie,81:fe,82:171,116:pe,117:me,118:se},{30:188,67:oe,80:ie,81:fe,82:171,116:pe,117:me,118:se},{30:189,67:oe,80:ie,81:fe,82:171,116:pe,117:me,118:se},{30:190,67:oe,80:ie,81:fe,82:171,116:pe,117:me,118:se},e(V,[2,182]),e(a,[2,20]),e(Ut,[2,25]),e(X,[2,46],{39:191,18:192,10:F,40:tt}),e(pt,[2,73],{10:[1,193]}),{10:[1,194]},{30:195,67:oe,80:ie,81:fe,82:171,116:pe,117:me,118:se},{77:[1,196],79:197,116:Ht,119:Lt},e(Zr,[2,79]),e(Zr,[2,81]),e(Zr,[2,82]),e(Zr,[2,168]),e(Zr,[2,169]),{76:198,79:120,80:Ft,81:Yt,116:Ht,119:Lt},e(Nt,[2,84]),{8:q,9:$,10:It,11:W,12:kt,14:Pt,21:200,27:ht,29:[1,199],32:yt,44:H,60:ft,75:z,83:140,84:st,85:lt,86:wt,87:vt,88:gt,89:Mt,90:St,91:201,105:Bt,109:jt,111:ue,114:Gt,115:$t,116:Xt},e(Se,[2,101]),e(Se,[2,103]),e(Se,[2,104]),e(Se,[2,157]),e(Se,[2,158]),e(Se,[2,159]),e(Se,[2,160]),e(Se,[2,161]),e(Se,[2,162]),e(Se,[2,163]),e(Se,[2,164]),e(Se,[2,165]),e(Se,[2,166]),e(Se,[2,167]),e(Se,[2,90]),e(Se,[2,91]),e(Se,[2,92]),e(Se,[2,93]),e(Se,[2,94]),e(Se,[2,95]),e(Se,[2,96]),e(Se,[2,97]),e(Se,[2,98]),e(Se,[2,99]),e(Se,[2,100]),{6:11,7:12,8:o,9:s,10:l,11:u,20:17,22:18,23:19,24:20,25:21,26:22,27:f,32:[1,202],33:24,34:h,36:d,38:p,42:28,43:38,44:m,45:39,47:40,60:g,84:v,85:y,86:b,87:_,88:k,89:w,102:T,105:S,106:C,109:M,111:N,113:41,114:L,115:E,116:A,121:D,122:R,123:I,124:O},{10:F,18:203},{44:[1,204]},e(nt,[2,43]),{10:[1,205],44:m,60:g,89:w,102:T,105:S,106:C,109:M,111:N,113:112,114:L,115:E,116:A},{10:[1,206]},{10:[1,207],106:[1,208]},e(Jr,[2,128]),{10:[1,209],44:m,60:g,89:w,102:T,105:S,106:C,109:M,111:N,113:112,114:L,115:E,116:A},{10:[1,210],44:m,60:g,89:w,102:T,105:S,106:C,109:M,111:N,113:112,114:L,115:E,116:A},{80:[1,211]},e(de,[2,109],{10:[1,212]}),e(de,[2,111],{10:[1,213]}),{80:[1,214]},e(we,[2,184]),{80:[1,215],98:[1,216]},e(nt,[2,55],{113:112,44:m,60:g,89:w,102:T,105:S,106:C,109:M,111:N,114:L,115:E,116:A}),{31:[1,217],67:oe,82:218,116:pe,117:me,118:se},e(Ur,[2,86]),e(Ur,[2,88]),e(Ur,[2,89]),e(Ur,[2,153]),e(Ur,[2,154]),e(Ur,[2,155]),e(Ur,[2,156]),{49:[1,219],67:oe,82:218,116:pe,117:me,118:se},{30:220,67:oe,80:ie,81:fe,82:171,116:pe,117:me,118:se},{51:[1,221],67:oe,82:218,116:pe,117:me,118:se},{53:[1,222],67:oe,82:218,116:pe,117:me,118:se},{55:[1,223],67:oe,82:218,116:pe,117:me,118:se},{57:[1,224],67:oe,82:218,116:pe,117:me,118:se},{60:[1,225]},{64:[1,226],67:oe,82:218,116:pe,117:me,118:se},{66:[1,227],67:oe,82:218,116:pe,117:me,118:se},{30:228,67:oe,80:ie,81:fe,82:171,116:pe,117:me,118:se},{31:[1,229],67:oe,82:218,116:pe,117:me,118:se},{67:oe,69:[1,230],71:[1,231],82:218,116:pe,117:me,118:se},{67:oe,69:[1,233],71:[1,232],82:218,116:pe,117:me,118:se},e(X,[2,45],{18:155,10:F,40:Fe}),e(X,[2,47],{44:ne}),e(pt,[2,75]),e(pt,[2,74]),{62:[1,234],67:oe,82:218,116:pe,117:me,118:se},e(pt,[2,77]),e(Zr,[2,80]),{77:[1,235],79:197,116:Ht,119:Lt},{30:236,67:oe,80:ie,81:fe,82:171,116:pe,117:me,118:se},e(Wt,i,{5:237}),e(Se,[2,102]),e(P,[2,35]),{43:238,44:m,45:39,47:40,60:g,89:w,102:T,105:S,106:C,109:M,111:N,113:41,114:L,115:E,116:A},{10:F,18:239},{10:rr,60:Je,84:_r,92:240,105:zn,107:241,108:242,109:ce,110:Dt,111:te,112:Te},{10:rr,60:Je,84:_r,92:251,104:[1,252],105:zn,107:241,108:242,109:ce,110:Dt,111:te,112:Te},{10:rr,60:Je,84:_r,92:253,104:[1,254],105:zn,107:241,108:242,109:ce,110:Dt,111:te,112:Te},{105:[1,255]},{10:rr,60:Je,84:_r,92:256,105:zn,107:241,108:242,109:ce,110:Dt,111:te,112:Te},{44:m,47:257,60:g,89:w,102:T,105:S,106:C,109:M,111:N,113:41,114:L,115:E,116:A},e(de,[2,108]),{80:[1,258]},{80:[1,259],98:[1,260]},e(de,[2,116]),e(de,[2,118],{10:[1,261]}),e(de,[2,119]),e(_t,[2,56]),e(Ur,[2,87]),e(_t,[2,57]),{51:[1,262],67:oe,82:218,116:pe,117:me,118:se},e(_t,[2,64]),e(_t,[2,59]),e(_t,[2,60]),e(_t,[2,61]),{109:[1,263]},e(_t,[2,63]),e(_t,[2,65]),{66:[1,264],67:oe,82:218,116:pe,117:me,118:se},e(_t,[2,67]),e(_t,[2,68]),e(_t,[2,70]),e(_t,[2,69]),e(_t,[2,71]),e([10,44,60,89,102,105,106,109,111,114,115,116],[2,85]),e(pt,[2,78]),{31:[1,265],67:oe,82:218,116:pe,117:me,118:se},{6:11,7:12,8:o,9:s,10:l,11:u,20:17,22:18,23:19,24:20,25:21,26:22,27:f,32:[1,266],33:24,34:h,36:d,38:p,42:28,43:38,44:m,45:39,47:40,60:g,84:v,85:y,86:b,87:_,88:k,89:w,102:T,105:S,106:C,109:M,111:N,113:41,114:L,115:E,116:A,121:D,122:R,123:I,124:O},e(nt,[2,53]),{43:267,44:m,45:39,47:40,60:g,89:w,102:T,105:S,106:C,109:M,111:N,113:41,114:L,115:E,116:A},e(de,[2,121],{106:Hr}),e(la,[2,130],{108:269,10:rr,60:Je,84:_r,105:zn,109:ce,110:Dt,111:te,112:Te}),e(Wr,[2,132]),e(Wr,[2,134]),e(Wr,[2,135]),e(Wr,[2,136]),e(Wr,[2,137]),e(Wr,[2,138]),e(Wr,[2,139]),e(Wr,[2,140]),e(Wr,[2,141]),e(de,[2,122],{106:Hr}),{10:[1,270]},e(de,[2,123],{106:Hr}),{10:[1,271]},e(Jr,[2,129]),e(de,[2,105],{106:Hr}),e(de,[2,106],{113:112,44:m,60:g,89:w,102:T,105:S,106:C,109:M,111:N,114:L,115:E,116:A}),e(de,[2,110]),e(de,[2,112],{10:[1,272]}),e(de,[2,113]),{98:[1,273]},{51:[1,274]},{62:[1,275]},{66:[1,276]},{8:q,9:$,11:W,21:277},e(P,[2,34]),e(nt,[2,52]),{10:rr,60:Je,84:_r,105:zn,107:278,108:242,109:ce,110:Dt,111:te,112:Te},e(Wr,[2,133]),{14:Y,44:ot,60:Z,89:ct,101:279,105:rt,106:et,109:Q,111:j,114:it,115:K,116:dt,120:87},{14:Y,44:ot,60:Z,89:ct,101:280,105:rt,106:et,109:Q,111:j,114:it,115:K,116:dt,120:87},{98:[1,281]},e(de,[2,120]),e(_t,[2,58]),{30:282,67:oe,80:ie,81:fe,82:171,116:pe,117:me,118:se},e(_t,[2,66]),e(Wt,i,{5:283}),e(la,[2,131],{108:269,10:rr,60:Je,84:_r,105:zn,109:ce,110:Dt,111:te,112:Te}),e(de,[2,126],{120:167,10:[1,284],14:Y,44:ot,60:Z,89:ct,105:rt,106:et,109:Q,111:j,114:it,115:K,116:dt}),e(de,[2,127],{120:167,10:[1,285],14:Y,44:ot,60:Z,89:ct,105:rt,106:et,109:Q,111:j,114:it,115:K,116:dt}),e(de,[2,114]),{31:[1,286],67:oe,82:218,116:pe,117:me,118:se},{6:11,7:12,8:o,9:s,10:l,11:u,20:17,22:18,23:19,24:20,25:21,26:22,27:f,32:[1,287],33:24,34:h,36:d,38:p,42:28,43:38,44:m,45:39,47:40,60:g,84:v,85:y,86:b,87:_,88:k,89:w,102:T,105:S,106:C,109:M,111:N,113:41,114:L,115:E,116:A,121:D,122:R,123:I,124:O},{10:rr,60:Je,84:_r,92:288,105:zn,107:241,108:242,109:ce,110:Dt,111:te,112:Te},{10:rr,60:Je,84:_r,92:289,105:zn,107:241,108:242,109:ce,110:Dt,111:te,112:Te},e(_t,[2,62]),e(P,[2,33]),e(de,[2,124],{106:Hr}),e(de,[2,125],{106:Hr})],defaultActions:{},parseError:x(function(Qt,ve){if(ve.recoverable)this.trace(Qt);else{var qe=new Error(Qt);throw qe.hash=ve,qe}},"parseError"),parse:x(function(Qt){var ve=this,qe=[0],ae=[],Ar=[null],mt=[],ec=this.table,xt="",dn=0,O3=0,E7=0,k7=2,hG=1,$kt=mt.slice.call(arguments,1),Si=Object.create(this.lexer),Pp={yy:{}};for(var C7 in this.yy)Object.prototype.hasOwnProperty.call(this.yy,C7)&&(Pp.yy[C7]=this.yy[C7]);Si.setInput(Qt,Pp.yy),Pp.yy.lexer=Si,Pp.yy.parser=this,typeof Si.yylloc>"u"&&(Si.yylloc={});var S7=Si.yylloc;mt.push(S7);var zkt=Si.options&&Si.options.ranges;typeof Pp.yy.parseError=="function"?this.parseError=Pp.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function qkt(Qs){qe.length=qe.length-2*Qs,Ar.length=Ar.length-Qs,mt.length=mt.length-Qs}x(qkt,"popStack");function dG(){var Qs;return Qs=ae.pop()||Si.lex()||hG,typeof Qs!="number"&&(Qs instanceof Array&&(ae=Qs,Qs=ae.pop()),Qs=ve.symbols_[Qs]||Qs),Qs}x(dG,"lex");for(var zo,D7,Bp,El,h1e,A7,mg={},F3,wf,pG,P3;;){if(Bp=qe[qe.length-1],this.defaultActions[Bp]?El=this.defaultActions[Bp]:((zo===null||typeof zo>"u")&&(zo=dG()),El=ec[Bp]&&ec[Bp][zo]),typeof El>"u"||!El.length||!El[0]){var L7="";P3=[];for(F3 in ec[Bp])this.terminals_[F3]&&F3>k7&&P3.push("'"+this.terminals_[F3]+"'");Si.showPosition?L7="Parse error on line "+(dn+1)+`:
`+Si.showPosition()+`
Expecting `+P3.join(", ")+", got '"+(this.terminals_[zo]||zo)+"'":L7="Parse error on line "+(dn+1)+": Unexpected "+(zo==hG?"end of input":"'"+(this.terminals_[zo]||zo)+"'"),this.parseError(L7,{text:Si.match,token:this.terminals_[zo]||zo,line:Si.yylineno,loc:S7,expected:P3})}if(El[0]instanceof Array&&El.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Bp+", token: "+zo);switch(El[0]){case 1:qe.push(zo),Ar.push(Si.yytext),mt.push(Si.yylloc),qe.push(El[1]),zo=null,D7?(zo=D7,D7=null):(O3=Si.yyleng,xt=Si.yytext,dn=Si.yylineno,S7=Si.yylloc,E7>0&&E7--);break;case 2:if(wf=this.productions_[El[1]][1],mg.$=Ar[Ar.length-wf],mg._$={first_line:mt[mt.length-(wf||1)].first_line,last_line:mt[mt.length-1].last_line,first_column:mt[mt.length-(wf||1)].first_column,last_column:mt[mt.length-1].last_column},zkt&&(mg._$.range=[mt[mt.length-(wf||1)].range[0],mt[mt.length-1].range[1]]),A7=this.performAction.apply(mg,[xt,O3,dn,Pp.yy,El[1],Ar,mt].concat($kt)),typeof A7<"u")return A7;wf&&(qe=qe.slice(0,-1*wf*2),Ar=Ar.slice(0,-1*wf),mt=mt.slice(0,-1*wf)),qe.push(this.productions_[El[1]][0]),Ar.push(mg.$),mt.push(mg._$),pG=ec[qe[qe.length-2]][qe[qe.length-1]],qe.push(pG);break;case 3:return!0}}return!0},"parse")},Wi=function(){var tn={EOF:1,parseError:x(function(ve,qe){if(this.yy.parser)this.yy.parser.parseError(ve,qe);else throw new Error(ve)},"parseError"),setInput:x(function(Qt,ve){return this.yy=ve||this.yy||{},this._input=Qt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:x(function(){var Qt=this._input[0];this.yytext+=Qt,this.yyleng++,this.offset++,this.match+=Qt,this.matched+=Qt;var ve=Qt.match(/(?:\r\n?|\n).*/g);return ve?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Qt},"input"),unput:x(function(Qt){var ve=Qt.length,qe=Qt.split(/(?:\r\n?|\n)/g);this._input=Qt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-ve),this.offset-=ve;var ae=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),qe.length-1&&(this.yylineno-=qe.length-1);var Ar=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:qe?(qe.length===ae.length?this.yylloc.first_column:0)+ae[ae.length-qe.length].length-qe[0].length:this.yylloc.first_column-ve},this.options.ranges&&(this.yylloc.range=[Ar[0],Ar[0]+this.yyleng-ve]),this.yyleng=this.yytext.length,this},"unput"),more:x(function(){return this._more=!0,this},"more"),reject:x(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:x(function(Qt){this.unput(this.match.slice(Qt))},"less"),pastInput:x(function(){var Qt=this.matched.substr(0,this.matched.length-this.match.length);return(Qt.length>20?"...":"")+Qt.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:x(function(){var Qt=this.match;return Qt.length<20&&(Qt+=this._input.substr(0,20-Qt.length)),(Qt.substr(0,20)+(Qt.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:x(function(){var Qt=this.pastInput(),ve=new Array(Qt.length+1).join("-");return Qt+this.upcomingInput()+`
`+ve+"^"},"showPosition"),test_match:x(function(Qt,ve){var qe,ae,Ar;if(this.options.backtrack_lexer&&(Ar={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Ar.yylloc.range=this.yylloc.range.slice(0))),ae=Qt[0].match(/(?:\r\n?|\n).*/g),ae&&(this.yylineno+=ae.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:ae?ae[ae.length-1].length-ae[ae.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Qt[0].length},this.yytext+=Qt[0],this.match+=Qt[0],this.matches=Qt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Qt[0].length),this.matched+=Qt[0],qe=this.performAction.call(this,this.yy,this,ve,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),qe)return qe;if(this._backtrack){for(var mt in Ar)this[mt]=Ar[mt];return!1}return!1},"test_match"),next:x(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Qt,ve,qe,ae;this._more||(this.yytext="",this.match="");for(var Ar=this._currentRules(),mt=0;mt<Ar.length;mt++)if(qe=this._input.match(this.rules[Ar[mt]]),qe&&(!ve||qe[0].length>ve[0].length)){if(ve=qe,ae=mt,this.options.backtrack_lexer){if(Qt=this.test_match(qe,Ar[mt]),Qt!==!1)return Qt;if(this._backtrack){ve=!1;continue}else return!1}else if(!this.options.flex)break}return ve?(Qt=this.test_match(ve,Ar[ae]),Qt!==!1?Qt:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:x(function(){var ve=this.next();return ve||this.lex()},"lex"),begin:x(function(ve){this.conditionStack.push(ve)},"begin"),popState:x(function(){var ve=this.conditionStack.length-1;return ve>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:x(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:x(function(ve){return ve=this.conditionStack.length-1-Math.abs(ve||0),ve>=0?this.conditionStack[ve]:"INITIAL"},"topState"),pushState:x(function(ve){this.begin(ve)},"pushState"),stateStackSize:x(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:x(function(ve,qe,ae,Ar){var mt=Ar;switch(ae){case 0:return this.begin("acc_title"),34;break;case 1:return this.popState(),"acc_title_value";break;case 2:return this.begin("acc_descr"),36;break;case 3:return this.popState(),"acc_descr_value";break;case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return this.pushState("shapeData"),qe.yytext="",40;break;case 8:return this.pushState("shapeDataStr"),40;break;case 9:return this.popState(),40;break;case 10:let ec=/\n\s*/g;return qe.yytext=qe.yytext.replace(ec,"<br/>"),40;break;case 11:return 40;case 12:this.popState();break;case 13:this.begin("callbackname");break;case 14:this.popState();break;case 15:this.popState(),this.begin("callbackargs");break;case 16:return 95;case 17:this.popState();break;case 18:return 96;case 19:return"MD_STR";case 20:this.popState();break;case 21:this.begin("md_string");break;case 22:return"STR";case 23:this.popState();break;case 24:this.pushState("string");break;case 25:return 84;case 26:return 102;case 27:return 85;case 28:return 104;case 29:return 86;case 30:return 87;case 31:return 97;case 32:this.begin("click");break;case 33:this.popState();break;case 34:return 88;case 35:return ve.lex.firstGraph()&&this.begin("dir"),12;break;case 36:return ve.lex.firstGraph()&&this.begin("dir"),12;break;case 37:return ve.lex.firstGraph()&&this.begin("dir"),12;break;case 38:return 27;case 39:return 32;case 40:return 98;case 41:return 98;case 42:return 98;case 43:return 98;case 44:return this.popState(),13;break;case 45:return this.popState(),14;break;case 46:return this.popState(),14;break;case 47:return this.popState(),14;break;case 48:return this.popState(),14;break;case 49:return this.popState(),14;break;case 50:return this.popState(),14;break;case 51:return this.popState(),14;break;case 52:return this.popState(),14;break;case 53:return this.popState(),14;break;case 54:return this.popState(),14;break;case 55:return 121;case 56:return 122;case 57:return 123;case 58:return 124;case 59:return 78;case 60:return 105;case 61:return 111;case 62:return 46;case 63:return 60;case 64:return 44;case 65:return 8;case 66:return 106;case 67:return 115;case 68:return this.popState(),77;break;case 69:return this.pushState("edgeText"),75;break;case 70:return 119;case 71:return this.popState(),77;break;case 72:return this.pushState("thickEdgeText"),75;break;case 73:return 119;case 74:return this.popState(),77;break;case 75:return this.pushState("dottedEdgeText"),75;break;case 76:return 119;case 77:return 77;case 78:return this.popState(),53;break;case 79:return"TEXT";case 80:return this.pushState("ellipseText"),52;break;case 81:return this.popState(),55;break;case 82:return this.pushState("text"),54;break;case 83:return this.popState(),57;break;case 84:return this.pushState("text"),56;break;case 85:return 58;case 86:return this.pushState("text"),67;break;case 87:return this.popState(),64;break;case 88:return this.pushState("text"),63;break;case 89:return this.popState(),49;break;case 90:return this.pushState("text"),48;break;case 91:return this.popState(),69;break;case 92:return this.popState(),71;break;case 93:return 117;case 94:return this.pushState("trapText"),68;break;case 95:return this.pushState("trapText"),70;break;case 96:return 118;case 97:return 67;case 98:return 90;case 99:return"SEP";case 100:return 89;case 101:return 115;case 102:return 111;case 103:return 44;case 104:return 109;case 105:return 114;case 106:return 116;case 107:return this.popState(),62;break;case 108:return this.pushState("text"),62;break;case 109:return this.popState(),51;break;case 110:return this.pushState("text"),50;break;case 111:return this.popState(),31;break;case 112:return this.pushState("text"),29;break;case 113:return this.popState(),66;break;case 114:return this.pushState("text"),65;break;case 115:return"TEXT";case 116:return"QUOTE";case 117:return 9;case 118:return 10;case 119:return 11}},"anonymous"),rules:[/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:@\{)/,/^(?:["])/,/^(?:["])/,/^(?:[^\"]+)/,/^(?:[^}^"]+)/,/^(?:\})/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["][`])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:["])/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s])/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:flowchart-elk\b)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[^\s\"]+@(?=[^\{\"]))/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:[^-]|-(?!-)+)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:[^=]|=(?!))/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:[^\.]|\.(?!))/,/^(?:\s*~~[\~]+\s*)/,/^(?:[-/\)][\)])/,/^(?:[^\(\)\[\]\{\}]|!\)+)/,/^(?:\(-)/,/^(?:\]\))/,/^(?:\(\[)/,/^(?:\]\])/,/^(?:\[\[)/,/^(?:\[\|)/,/^(?:>)/,/^(?:\)\])/,/^(?:\[\()/,/^(?:\)\)\))/,/^(?:\(\(\()/,/^(?:[\\(?=\])][\]])/,/^(?:\/(?=\])\])/,/^(?:\/(?!\])|\\(?!\])|[^\\\[\]\(\)\{\}\/]+)/,/^(?:\[\/)/,/^(?:\[\\)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:\*)/,/^(?:#)/,/^(?:&)/,/^(?:([A-Za-z0-9!"\#$%&'*+\.`?\\_\/]|-(?=[^\>\-\.])|(?!))+)/,/^(?:-)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\|)/,/^(?:\))/,/^(?:\()/,/^(?:\])/,/^(?:\[)/,/^(?:(\}))/,/^(?:\{)/,/^(?:[^\[\]\(\)\{\}\|\"]+)/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{shapeDataEndBracket:{rules:[21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},shapeDataStr:{rules:[9,10,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},shapeData:{rules:[8,11,12,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},callbackargs:{rules:[17,18,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},callbackname:{rules:[14,15,16,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},href:{rules:[21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},click:{rules:[21,24,33,34,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},dottedEdgeText:{rules:[21,24,74,76,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},thickEdgeText:{rules:[21,24,71,73,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},edgeText:{rules:[21,24,68,70,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},trapText:{rules:[21,24,77,80,82,84,88,90,91,92,93,94,95,108,110,112,114],inclusive:!1},ellipseText:{rules:[21,24,77,78,79,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},text:{rules:[21,24,77,80,81,82,83,84,87,88,89,90,94,95,107,108,109,110,111,112,113,114,115],inclusive:!1},vertex:{rules:[21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},dir:{rules:[21,24,44,45,46,47,48,49,50,51,52,53,54,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},acc_descr_multiline:{rules:[5,6,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},acc_descr:{rules:[3,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},acc_title:{rules:[1,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},md_string:{rules:[19,20,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},string:{rules:[21,22,23,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},INITIAL:{rules:[0,2,4,7,13,21,24,25,26,27,28,29,30,31,32,35,36,37,38,39,40,41,42,43,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,71,72,74,75,77,80,82,84,85,86,88,90,94,95,96,97,98,99,100,101,102,103,104,105,106,108,110,112,114,116,117,118,119],inclusive:!0}}};return tn}();Aa.lexer=Wi;function ei(){this.yy={}}return x(ei,"Parser"),ei.prototype=Aa,Aa.Parser=ei,new ei}();QF.parser=QF;sgt=QF,lgt=Object.assign({},sgt);lgt.parse=e=>{let t=e.replace(/}\s*\n/g,`}
`);return sgt.parse(t)};NKt=lgt,OKt=x((e,t)=>{let r=zp,n=r(e,"r"),a=r(e,"g"),i=r(e,"b");return Uo(n,a,i,t)},"fade"),FKt=x(e=>`.label {
    font-family: ${e.fontFamily};
    color: ${e.nodeTextColor||e.textColor};
  }
  .cluster-label text {
    fill: ${e.titleColor};
  }
  .cluster-label span {
    color: ${e.titleColor};
  }
  .cluster-label span p {
    background-color: transparent;
  }

  .label text,span {
    fill: ${e.nodeTextColor||e.textColor};
    color: ${e.nodeTextColor||e.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }
  .rough-node .label text , .node .label text, .image-shape .label, .icon-shape .label {
    text-anchor: middle;
  }
  // .flowchart-label .text-outer-tspan {
  //   text-anchor: middle;
  // }
  // .flowchart-label .text-inner-tspan {
  //   text-anchor: start;
  // }

  .node .katex path {
    fill: #000;
    stroke: #000;
    stroke-width: 1px;
  }

  .rough-node .label,.node .label, .image-shape .label, .icon-shape .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }


  .root .anchor path {
    fill: ${e.lineColor} !important;
    stroke-width: 0;
    stroke: ${e.lineColor};
  }

  .arrowheadPath {
    fill: ${e.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${e.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${e.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${e.edgeLabelBackground};
    p {
      background-color: ${e.edgeLabelBackground};
    }
    rect {
      opacity: 0.5;
      background-color: ${e.edgeLabelBackground};
      fill: ${e.edgeLabelBackground};
    }
    text-align: center;
  }

  /* For html labels only */
  .labelBkg {
    background-color: ${OKt(e.edgeLabelBackground,.5)};
    // background-color:
  }

  .cluster rect {
    fill: ${e.clusterBkg};
    stroke: ${e.clusterBorder};
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${e.titleColor};
  }

  .cluster span {
    color: ${e.titleColor};
  }
  /* .cluster div {
    color: ${e.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${e.fontFamily};
    font-size: 12px;
    background: ${e.tertiaryColor};
    border: 1px solid ${e.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }

  rect.text {
    fill: none;
    stroke-width: 0;
  }

  .icon-shape, .image-shape {
    background-color: ${e.edgeLabelBackground};
    p {
      background-color: ${e.edgeLabelBackground};
      padding: 2px;
    }
    rect {
      opacity: 0.5;
      background-color: ${e.edgeLabelBackground};
      fill: ${e.edgeLabelBackground};
    }
    text-align: center;
  }
  ${Zc()}
`,"getStyles"),PKt=FKt,BKt={parser:NKt,get db(){return new LKt},renderer:RKt,styles:PKt,init:x(e=>{e.flowchart||(e.flowchart={}),e.layout&&gx({layout:e.layout}),e.flowchart.arrowMarkerAbsolute=e.arrowMarkerAbsolute,gx({flowchart:{arrowMarkerAbsolute:e.arrowMarkerAbsolute}})},"init")}});var cgt={};pr(cgt,{diagram:()=>VKt});var ZF,$Kt,zKt,ugt,qKt,UKt,WKt,GKt,VKt,fgt=B(()=>{Bu();eu();jl();$l();al();Ns();Zo();Jo();to();On();Tr();nr();hr();Zs();ZF=function(){var e=x(function(j,it,K,dt){for(K=K||{},dt=j.length;dt--;K[j[dt]]=it);return K},"o"),t=[6,8,10,22,24,26,28,33,34,35,36,37,40,43,44,50],r=[1,10],n=[1,11],a=[1,12],i=[1,13],o=[1,20],s=[1,21],l=[1,22],u=[1,23],f=[1,24],h=[1,19],d=[1,25],p=[1,26],m=[1,18],g=[1,33],v=[1,34],y=[1,35],b=[1,36],_=[1,37],k=[6,8,10,13,15,17,20,21,22,24,26,28,33,34,35,36,37,40,43,44,50,63,64,65,66,67],w=[1,42],T=[1,43],S=[1,52],C=[40,50,68,69],M=[1,63],N=[1,61],L=[1,58],E=[1,62],A=[1,64],D=[6,8,10,13,17,22,24,26,28,33,34,35,36,37,40,41,42,43,44,48,49,50,63,64,65,66,67],R=[63,64,65,66,67],I=[1,81],O=[1,80],F=[1,78],P=[1,79],q=[6,10,42,47],$=[6,10,13,41,42,47,48,49],W=[1,89],X=[1,88],tt=[1,87],Y=[19,56],ot=[1,98],Z=[1,97],ct=[19,56,58,60],rt={trace:x(function(){},"trace"),yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,entityName:11,relSpec:12,COLON:13,role:14,STYLE_SEPARATOR:15,idList:16,BLOCK_START:17,attributes:18,BLOCK_STOP:19,SQS:20,SQE:21,title:22,title_value:23,acc_title:24,acc_title_value:25,acc_descr:26,acc_descr_value:27,acc_descr_multiline_value:28,direction:29,classDefStatement:30,classStatement:31,styleStatement:32,direction_tb:33,direction_bt:34,direction_rl:35,direction_lr:36,CLASSDEF:37,stylesOpt:38,separator:39,UNICODE_TEXT:40,STYLE_TEXT:41,COMMA:42,CLASS:43,STYLE:44,style:45,styleComponent:46,SEMI:47,NUM:48,BRKT:49,ENTITY_NAME:50,attribute:51,attributeType:52,attributeName:53,attributeKeyTypeList:54,attributeComment:55,ATTRIBUTE_WORD:56,attributeKeyType:57,",":58,ATTRIBUTE_KEY:59,COMMENT:60,cardinality:61,relType:62,ZERO_OR_ONE:63,ZERO_OR_MORE:64,ONE_OR_MORE:65,ONLY_ONE:66,MD_PARENT:67,NON_IDENTIFYING:68,IDENTIFYING:69,WORD:70,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",8:"SPACE",10:"NEWLINE",13:"COLON",15:"STYLE_SEPARATOR",17:"BLOCK_START",19:"BLOCK_STOP",20:"SQS",21:"SQE",22:"title",23:"title_value",24:"acc_title",25:"acc_title_value",26:"acc_descr",27:"acc_descr_value",28:"acc_descr_multiline_value",33:"direction_tb",34:"direction_bt",35:"direction_rl",36:"direction_lr",37:"CLASSDEF",40:"UNICODE_TEXT",41:"STYLE_TEXT",42:"COMMA",43:"CLASS",44:"STYLE",47:"SEMI",48:"NUM",49:"BRKT",50:"ENTITY_NAME",56:"ATTRIBUTE_WORD",58:",",59:"ATTRIBUTE_KEY",60:"COMMENT",63:"ZERO_OR_ONE",64:"ZERO_OR_MORE",65:"ONE_OR_MORE",66:"ONLY_ONE",67:"MD_PARENT",68:"NON_IDENTIFYING",69:"IDENTIFYING",70:"WORD"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,5],[9,9],[9,7],[9,7],[9,4],[9,6],[9,3],[9,5],[9,1],[9,3],[9,7],[9,9],[9,6],[9,8],[9,4],[9,6],[9,2],[9,2],[9,2],[9,1],[9,1],[9,1],[9,1],[9,1],[29,1],[29,1],[29,1],[29,1],[30,4],[16,1],[16,1],[16,3],[16,3],[31,3],[32,4],[38,1],[38,3],[45,1],[45,2],[39,1],[39,1],[39,1],[46,1],[46,1],[46,1],[46,1],[11,1],[11,1],[18,1],[18,2],[51,2],[51,3],[51,3],[51,4],[52,1],[53,1],[54,1],[54,3],[57,1],[55,1],[12,3],[61,1],[61,1],[61,1],[61,1],[61,1],[62,1],[62,1],[14,1],[14,1],[14,1]],performAction:x(function(it,K,dt,nt,_t,V,Ut){var pt=V.length-1;switch(_t){case 1:break;case 2:this.$=[];break;case 3:V[pt-1].push(V[pt]),this.$=V[pt-1];break;case 4:case 5:this.$=V[pt];break;case 6:case 7:this.$=[];break;case 8:nt.addEntity(V[pt-4]),nt.addEntity(V[pt-2]),nt.addRelationship(V[pt-4],V[pt],V[pt-2],V[pt-3]);break;case 9:nt.addEntity(V[pt-8]),nt.addEntity(V[pt-4]),nt.addRelationship(V[pt-8],V[pt],V[pt-4],V[pt-5]),nt.setClass([V[pt-8]],V[pt-6]),nt.setClass([V[pt-4]],V[pt-2]);break;case 10:nt.addEntity(V[pt-6]),nt.addEntity(V[pt-2]),nt.addRelationship(V[pt-6],V[pt],V[pt-2],V[pt-3]),nt.setClass([V[pt-6]],V[pt-4]);break;case 11:nt.addEntity(V[pt-6]),nt.addEntity(V[pt-4]),nt.addRelationship(V[pt-6],V[pt],V[pt-4],V[pt-5]),nt.setClass([V[pt-4]],V[pt-2]);break;case 12:nt.addEntity(V[pt-3]),nt.addAttributes(V[pt-3],V[pt-1]);break;case 13:nt.addEntity(V[pt-5]),nt.addAttributes(V[pt-5],V[pt-1]),nt.setClass([V[pt-5]],V[pt-3]);break;case 14:nt.addEntity(V[pt-2]);break;case 15:nt.addEntity(V[pt-4]),nt.setClass([V[pt-4]],V[pt-2]);break;case 16:nt.addEntity(V[pt]);break;case 17:nt.addEntity(V[pt-2]),nt.setClass([V[pt-2]],V[pt]);break;case 18:nt.addEntity(V[pt-6],V[pt-4]),nt.addAttributes(V[pt-6],V[pt-1]);break;case 19:nt.addEntity(V[pt-8],V[pt-6]),nt.addAttributes(V[pt-8],V[pt-1]),nt.setClass([V[pt-8]],V[pt-3]);break;case 20:nt.addEntity(V[pt-5],V[pt-3]);break;case 21:nt.addEntity(V[pt-7],V[pt-5]),nt.setClass([V[pt-7]],V[pt-2]);break;case 22:nt.addEntity(V[pt-3],V[pt-1]);break;case 23:nt.addEntity(V[pt-5],V[pt-3]),nt.setClass([V[pt-5]],V[pt]);break;case 24:case 25:this.$=V[pt].trim(),nt.setAccTitle(this.$);break;case 26:case 27:this.$=V[pt].trim(),nt.setAccDescription(this.$);break;case 32:nt.setDirection("TB");break;case 33:nt.setDirection("BT");break;case 34:nt.setDirection("RL");break;case 35:nt.setDirection("LR");break;case 36:this.$=V[pt-3],nt.addClass(V[pt-2],V[pt-1]);break;case 37:case 38:case 56:case 64:this.$=[V[pt]];break;case 39:case 40:this.$=V[pt-2].concat([V[pt]]);break;case 41:this.$=V[pt-2],nt.setClass(V[pt-1],V[pt]);break;case 42:this.$=V[pt-3],nt.addCssStyles(V[pt-2],V[pt-1]);break;case 43:this.$=[V[pt]];break;case 44:V[pt-2].push(V[pt]),this.$=V[pt-2];break;case 46:this.$=V[pt-1]+V[pt];break;case 54:case 76:case 77:this.$=V[pt].replace(/"/g,"");break;case 55:case 78:this.$=V[pt];break;case 57:V[pt].push(V[pt-1]),this.$=V[pt];break;case 58:this.$={type:V[pt-1],name:V[pt]};break;case 59:this.$={type:V[pt-2],name:V[pt-1],keys:V[pt]};break;case 60:this.$={type:V[pt-2],name:V[pt-1],comment:V[pt]};break;case 61:this.$={type:V[pt-3],name:V[pt-2],keys:V[pt-1],comment:V[pt]};break;case 62:case 63:case 66:this.$=V[pt];break;case 65:V[pt-2].push(V[pt]),this.$=V[pt-2];break;case 67:this.$=V[pt].replace(/"/g,"");break;case 68:this.$={cardA:V[pt],relType:V[pt-1],cardB:V[pt-2]};break;case 69:this.$=nt.Cardinality.ZERO_OR_ONE;break;case 70:this.$=nt.Cardinality.ZERO_OR_MORE;break;case 71:this.$=nt.Cardinality.ONE_OR_MORE;break;case 72:this.$=nt.Cardinality.ONLY_ONE;break;case 73:this.$=nt.Cardinality.MD_PARENT;break;case 74:this.$=nt.Identification.NON_IDENTIFYING;break;case 75:this.$=nt.Identification.IDENTIFYING;break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:9,22:r,24:n,26:a,28:i,29:14,30:15,31:16,32:17,33:o,34:s,35:l,36:u,37:f,40:h,43:d,44:p,50:m},e(t,[2,7],{1:[2,1]}),e(t,[2,3]),{9:27,11:9,22:r,24:n,26:a,28:i,29:14,30:15,31:16,32:17,33:o,34:s,35:l,36:u,37:f,40:h,43:d,44:p,50:m},e(t,[2,5]),e(t,[2,6]),e(t,[2,16],{12:28,61:32,15:[1,29],17:[1,30],20:[1,31],63:g,64:v,65:y,66:b,67:_}),{23:[1,38]},{25:[1,39]},{27:[1,40]},e(t,[2,27]),e(t,[2,28]),e(t,[2,29]),e(t,[2,30]),e(t,[2,31]),e(k,[2,54]),e(k,[2,55]),e(t,[2,32]),e(t,[2,33]),e(t,[2,34]),e(t,[2,35]),{16:41,40:w,41:T},{16:44,40:w,41:T},{16:45,40:w,41:T},e(t,[2,4]),{11:46,40:h,50:m},{16:47,40:w,41:T},{18:48,19:[1,49],51:50,52:51,56:S},{11:53,40:h,50:m},{62:54,68:[1,55],69:[1,56]},e(C,[2,69]),e(C,[2,70]),e(C,[2,71]),e(C,[2,72]),e(C,[2,73]),e(t,[2,24]),e(t,[2,25]),e(t,[2,26]),{13:M,38:57,41:N,42:L,45:59,46:60,48:E,49:A},e(D,[2,37]),e(D,[2,38]),{16:65,40:w,41:T,42:L},{13:M,38:66,41:N,42:L,45:59,46:60,48:E,49:A},{13:[1,67],15:[1,68]},e(t,[2,17],{61:32,12:69,17:[1,70],42:L,63:g,64:v,65:y,66:b,67:_}),{19:[1,71]},e(t,[2,14]),{18:72,19:[2,56],51:50,52:51,56:S},{53:73,56:[1,74]},{56:[2,62]},{21:[1,75]},{61:76,63:g,64:v,65:y,66:b,67:_},e(R,[2,74]),e(R,[2,75]),{6:I,10:O,39:77,42:F,47:P},{40:[1,82],41:[1,83]},e(q,[2,43],{46:84,13:M,41:N,48:E,49:A}),e($,[2,45]),e($,[2,50]),e($,[2,51]),e($,[2,52]),e($,[2,53]),e(t,[2,41],{42:L}),{6:I,10:O,39:85,42:F,47:P},{14:86,40:W,50:X,70:tt},{16:90,40:w,41:T},{11:91,40:h,50:m},{18:92,19:[1,93],51:50,52:51,56:S},e(t,[2,12]),{19:[2,57]},e(Y,[2,58],{54:94,55:95,57:96,59:ot,60:Z}),e([19,56,59,60],[2,63]),e(t,[2,22],{15:[1,100],17:[1,99]}),e([40,50],[2,68]),e(t,[2,36]),{13:M,41:N,45:101,46:60,48:E,49:A},e(t,[2,47]),e(t,[2,48]),e(t,[2,49]),e(D,[2,39]),e(D,[2,40]),e($,[2,46]),e(t,[2,42]),e(t,[2,8]),e(t,[2,76]),e(t,[2,77]),e(t,[2,78]),{13:[1,102],42:L},{13:[1,104],15:[1,103]},{19:[1,105]},e(t,[2,15]),e(Y,[2,59],{55:106,58:[1,107],60:Z}),e(Y,[2,60]),e(ct,[2,64]),e(Y,[2,67]),e(ct,[2,66]),{18:108,19:[1,109],51:50,52:51,56:S},{16:110,40:w,41:T},e(q,[2,44],{46:84,13:M,41:N,48:E,49:A}),{14:111,40:W,50:X,70:tt},{16:112,40:w,41:T},{14:113,40:W,50:X,70:tt},e(t,[2,13]),e(Y,[2,61]),{57:114,59:ot},{19:[1,115]},e(t,[2,20]),e(t,[2,23],{17:[1,116],42:L}),e(t,[2,11]),{13:[1,117],42:L},e(t,[2,10]),e(ct,[2,65]),e(t,[2,18]),{18:118,19:[1,119],51:50,52:51,56:S},{14:120,40:W,50:X,70:tt},{19:[1,121]},e(t,[2,21]),e(t,[2,9]),e(t,[2,19])],defaultActions:{52:[2,62],72:[2,57]},parseError:x(function(it,K){if(K.recoverable)this.trace(it);else{var dt=new Error(it);throw dt.hash=K,dt}},"parseError"),parse:x(function(it){var K=this,dt=[0],nt=[],_t=[null],V=[],Ut=this.table,pt="",Ft=0,Yt=0,Ht=0,Lt=2,Nt=1,It=V.slice.call(arguments,1),kt=Object.create(this.lexer),Pt={yy:{}};for(var ht in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ht)&&(Pt.yy[ht]=this.yy[ht]);kt.setInput(it,Pt.yy),Pt.yy.lexer=kt,Pt.yy.parser=this,typeof kt.yylloc>"u"&&(kt.yylloc={});var yt=kt.yylloc;V.push(yt);var H=kt.options&&kt.options.ranges;typeof Pt.yy.parseError=="function"?this.parseError=Pt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ft(Xt){dt.length=dt.length-2*Xt,_t.length=_t.length-Xt,V.length=V.length-Xt}x(ft,"popStack");function z(){var Xt;return Xt=nt.pop()||kt.lex()||Nt,typeof Xt!="number"&&(Xt instanceof Array&&(nt=Xt,Xt=nt.pop()),Xt=K.symbols_[Xt]||Xt),Xt}x(z,"lex");for(var st,lt,wt,vt,gt,Mt,St={},Bt,jt,ue,Gt;;){if(wt=dt[dt.length-1],this.defaultActions[wt]?vt=this.defaultActions[wt]:((st===null||typeof st>"u")&&(st=z()),vt=Ut[wt]&&Ut[wt][st]),typeof vt>"u"||!vt.length||!vt[0]){var $t="";Gt=[];for(Bt in Ut[wt])this.terminals_[Bt]&&Bt>Lt&&Gt.push("'"+this.terminals_[Bt]+"'");kt.showPosition?$t="Parse error on line "+(Ft+1)+`:
`+kt.showPosition()+`
Expecting `+Gt.join(", ")+", got '"+(this.terminals_[st]||st)+"'":$t="Parse error on line "+(Ft+1)+": Unexpected "+(st==Nt?"end of input":"'"+(this.terminals_[st]||st)+"'"),this.parseError($t,{text:kt.match,token:this.terminals_[st]||st,line:kt.yylineno,loc:yt,expected:Gt})}if(vt[0]instanceof Array&&vt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+wt+", token: "+st);switch(vt[0]){case 1:dt.push(st),_t.push(kt.yytext),V.push(kt.yylloc),dt.push(vt[1]),st=null,lt?(st=lt,lt=null):(Yt=kt.yyleng,pt=kt.yytext,Ft=kt.yylineno,yt=kt.yylloc,Ht>0&&Ht--);break;case 2:if(jt=this.productions_[vt[1]][1],St.$=_t[_t.length-jt],St._$={first_line:V[V.length-(jt||1)].first_line,last_line:V[V.length-1].last_line,first_column:V[V.length-(jt||1)].first_column,last_column:V[V.length-1].last_column},H&&(St._$.range=[V[V.length-(jt||1)].range[0],V[V.length-1].range[1]]),Mt=this.performAction.apply(St,[pt,Yt,Ft,Pt.yy,vt[1],_t,V].concat(It)),typeof Mt<"u")return Mt;jt&&(dt=dt.slice(0,-1*jt*2),_t=_t.slice(0,-1*jt),V=V.slice(0,-1*jt)),dt.push(this.productions_[vt[1]][0]),_t.push(St.$),V.push(St._$),ue=Ut[dt[dt.length-2]][dt[dt.length-1]],dt.push(ue);break;case 3:return!0}}return!0},"parse")},et=function(){var j={EOF:1,parseError:x(function(K,dt){if(this.yy.parser)this.yy.parser.parseError(K,dt);else throw new Error(K)},"parseError"),setInput:x(function(it,K){return this.yy=K||this.yy||{},this._input=it,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:x(function(){var it=this._input[0];this.yytext+=it,this.yyleng++,this.offset++,this.match+=it,this.matched+=it;var K=it.match(/(?:\r\n?|\n).*/g);return K?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),it},"input"),unput:x(function(it){var K=it.length,dt=it.split(/(?:\r\n?|\n)/g);this._input=it+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-K),this.offset-=K;var nt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),dt.length-1&&(this.yylineno-=dt.length-1);var _t=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:dt?(dt.length===nt.length?this.yylloc.first_column:0)+nt[nt.length-dt.length].length-dt[0].length:this.yylloc.first_column-K},this.options.ranges&&(this.yylloc.range=[_t[0],_t[0]+this.yyleng-K]),this.yyleng=this.yytext.length,this},"unput"),more:x(function(){return this._more=!0,this},"more"),reject:x(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:x(function(it){this.unput(this.match.slice(it))},"less"),pastInput:x(function(){var it=this.matched.substr(0,this.matched.length-this.match.length);return(it.length>20?"...":"")+it.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:x(function(){var it=this.match;return it.length<20&&(it+=this._input.substr(0,20-it.length)),(it.substr(0,20)+(it.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:x(function(){var it=this.pastInput(),K=new Array(it.length+1).join("-");return it+this.upcomingInput()+`
`+K+"^"},"showPosition"),test_match:x(function(it,K){var dt,nt,_t;if(this.options.backtrack_lexer&&(_t={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(_t.yylloc.range=this.yylloc.range.slice(0))),nt=it[0].match(/(?:\r\n?|\n).*/g),nt&&(this.yylineno+=nt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:nt?nt[nt.length-1].length-nt[nt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+it[0].length},this.yytext+=it[0],this.match+=it[0],this.matches=it,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(it[0].length),this.matched+=it[0],dt=this.performAction.call(this,this.yy,this,K,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),dt)return dt;if(this._backtrack){for(var V in _t)this[V]=_t[V];return!1}return!1},"test_match"),next:x(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var it,K,dt,nt;this._more||(this.yytext="",this.match="");for(var _t=this._currentRules(),V=0;V<_t.length;V++)if(dt=this._input.match(this.rules[_t[V]]),dt&&(!K||dt[0].length>K[0].length)){if(K=dt,nt=V,this.options.backtrack_lexer){if(it=this.test_match(dt,_t[V]),it!==!1)return it;if(this._backtrack){K=!1;continue}else return!1}else if(!this.options.flex)break}return K?(it=this.test_match(K,_t[nt]),it!==!1?it:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:x(function(){var K=this.next();return K||this.lex()},"lex"),begin:x(function(K){this.conditionStack.push(K)},"begin"),popState:x(function(){var K=this.conditionStack.length-1;return K>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:x(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:x(function(K){return K=this.conditionStack.length-1-Math.abs(K||0),K>=0?this.conditionStack[K]:"INITIAL"},"topState"),pushState:x(function(K){this.begin(K)},"pushState"),stateStackSize:x(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:x(function(K,dt,nt,_t){var V=_t;switch(nt){case 0:return this.begin("acc_title"),24;break;case 1:return this.popState(),"acc_title_value";break;case 2:return this.begin("acc_descr"),26;break;case 3:return this.popState(),"acc_descr_value";break;case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return 33;case 8:return 34;case 9:return 35;case 10:return 36;case 11:return 10;case 12:break;case 13:return 8;case 14:return 50;case 15:return 70;case 16:return 4;case 17:return this.begin("block"),17;break;case 18:return 49;case 19:return 49;case 20:return 42;case 21:return 15;case 22:return 13;case 23:break;case 24:return 59;case 25:return 56;case 26:return 56;case 27:return 60;case 28:break;case 29:return this.popState(),19;break;case 30:return dt.yytext[0];case 31:return 20;case 32:return 21;case 33:return this.begin("style"),44;break;case 34:return this.popState(),10;break;case 35:break;case 36:return 13;case 37:return 42;case 38:return 49;case 39:return this.begin("style"),37;break;case 40:return 43;case 41:return 63;case 42:return 65;case 43:return 65;case 44:return 65;case 45:return 63;case 46:return 63;case 47:return 64;case 48:return 64;case 49:return 64;case 50:return 64;case 51:return 64;case 52:return 65;case 53:return 64;case 54:return 65;case 55:return 66;case 56:return 66;case 57:return 66;case 58:return 66;case 59:return 63;case 60:return 64;case 61:return 65;case 62:return 67;case 63:return 68;case 64:return 69;case 65:return 69;case 66:return 68;case 67:return 68;case 68:return 68;case 69:return 41;case 70:return 47;case 71:return 40;case 72:return 48;case 73:return dt.yytext[0];case 74:return 6}},"anonymous"),rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"%\r\n\v\b\\]+")/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:#)/i,/^(?:#)/i,/^(?:,)/i,/^(?::::)/i,/^(?::)/i,/^(?:\s+)/i,/^(?:\b((?:PK)|(?:FK)|(?:UK))\b)/i,/^(?:([^\s]*)[~].*[~]([^\s]*))/i,/^(?:([\*A-Za-z_\u00C0-\uFFFF][A-Za-z0-9\-\_\[\]\(\)\u00C0-\uFFFF\*]*))/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:style\b)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?::)/i,/^(?:,)/i,/^(?:#)/i,/^(?:classDef\b)/i,/^(?:class\b)/i,/^(?:one or zero\b)/i,/^(?:one or more\b)/i,/^(?:one or many\b)/i,/^(?:1\+)/i,/^(?:\|o\b)/i,/^(?:zero or one\b)/i,/^(?:zero or more\b)/i,/^(?:zero or many\b)/i,/^(?:0\+)/i,/^(?:\}o\b)/i,/^(?:many\(0\))/i,/^(?:many\(1\))/i,/^(?:many\b)/i,/^(?:\}\|)/i,/^(?:one\b)/i,/^(?:only one\b)/i,/^(?:1\b)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\s*u\b)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:to\b)/i,/^(?:optionally to\b)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:([^\x00-\x7F]|\w|-|\*)+)/i,/^(?:;)/i,/^(?:([^\x00-\x7F]|\w|-|\*)+)/i,/^(?:[0-9])/i,/^(?:.)/i,/^(?:$)/i],conditions:{style:{rules:[34,35,36,37,38,69,70],inclusive:!1},acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},block:{rules:[23,24,25,26,27,28,29,30],inclusive:!1},INITIAL:{rules:[0,2,4,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,31,32,33,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,71,72,73,74],inclusive:!0}}};return j}();rt.lexer=et;function Q(){this.yy={}}return x(Q,"Parser"),Q.prototype=rt,rt.Parser=Q,new Q}();ZF.parser=ZF;$Kt=ZF,zKt=class{constructor(){this.entities=new Map,this.relationships=[],this.classes=new Map,this.direction="TB",this.Cardinality={ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE",MD_PARENT:"MD_PARENT"},this.Identification={NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},this.setAccTitle=Mr,this.getAccTitle=Fr,this.setAccDescription=Pr,this.getAccDescription=Br,this.setDiagramTitle=Yr,this.getDiagramTitle=$r,this.getConfig=x(()=>bt().er,"getConfig"),this.clear(),this.addEntity=this.addEntity.bind(this),this.addAttributes=this.addAttributes.bind(this),this.addRelationship=this.addRelationship.bind(this),this.setDirection=this.setDirection.bind(this),this.addCssStyles=this.addCssStyles.bind(this),this.addClass=this.addClass.bind(this),this.setClass=this.setClass.bind(this),this.setAccTitle=this.setAccTitle.bind(this),this.setAccDescription=this.setAccDescription.bind(this)}static{x(this,"ErDB")}addEntity(e,t=""){return this.entities.has(e)?!this.entities.get(e)?.alias&&t&&(this.entities.get(e).alias=t,J.info(`Add alias '${t}' to entity '${e}'`)):(this.entities.set(e,{id:`entity-${e}-${this.entities.size}`,label:e,attributes:[],alias:t,shape:"erBox",look:bt().look??"default",cssClasses:"default",cssStyles:[]}),J.info("Added new entity :",e)),this.entities.get(e)}getEntity(e){return this.entities.get(e)}getEntities(){return this.entities}getClasses(){return this.classes}addAttributes(e,t){let r=this.addEntity(e),n;for(n=t.length-1;n>=0;n--)t[n].keys||(t[n].keys=[]),t[n].comment||(t[n].comment=""),r.attributes.push(t[n]),J.debug("Added attribute ",t[n].name)}addRelationship(e,t,r,n){let a=this.entities.get(e),i=this.entities.get(r);if(!a||!i)return;let o={entityA:a.id,roleA:t,entityB:i.id,relSpec:n};this.relationships.push(o),J.debug("Added new relationship :",o)}getRelationships(){return this.relationships}getDirection(){return this.direction}setDirection(e){this.direction=e}getCompiledStyles(e){let t=[];for(let r of e){let n=this.classes.get(r);n?.styles&&(t=[...t,...n.styles??[]].map(a=>a.trim())),n?.textStyles&&(t=[...t,...n.textStyles??[]].map(a=>a.trim()))}return t}addCssStyles(e,t){for(let r of e){let n=this.entities.get(r);if(!t||!n)return;for(let a of t)n.cssStyles.push(a)}}addClass(e,t){e.forEach(r=>{let n=this.classes.get(r);n===void 0&&(n={id:r,styles:[],textStyles:[]},this.classes.set(r,n)),t&&t.forEach(function(a){if(/color/.exec(a)){let i=a.replace("fill","bgFill");n.textStyles.push(i)}n.styles.push(a)})})}setClass(e,t){for(let r of e){let n=this.entities.get(r);if(n)for(let a of t)n.cssClasses+=" "+a}}clear(){this.entities=new Map,this.classes=new Map,this.relationships=[],wr()}getData(){let e=[],t=[],r=bt();for(let a of this.entities.keys()){let i=this.entities.get(a);i&&(i.cssCompiledStyles=this.getCompiledStyles(i.cssClasses.split(" ")),e.push(i))}let n=0;for(let a of this.relationships){let i={id:Lc(a.entityA,a.entityB,{prefix:"id",counter:n++}),type:"normal",curve:"basis",start:a.entityA,end:a.entityB,label:a.roleA,labelpos:"c",thickness:"normal",classes:"relationshipLine",arrowTypeStart:a.relSpec.cardB.toLowerCase(),arrowTypeEnd:a.relSpec.cardA.toLowerCase(),pattern:a.relSpec.relType=="IDENTIFYING"?"solid":"dashed",look:r.look};t.push(i)}return{nodes:e,edges:t,other:{},config:r,direction:"TB"}}},ugt={};zh(ugt,{draw:()=>qKt});qKt=x(async function(e,t,r,n){J.info("REF0:"),J.info("Drawing er diagram (unified)",t);let{securityLevel:a,er:i,layout:o}=bt(),s=n.db.getData(),l=tu(t,a);s.type=n.type,s.layoutAlgorithm=jc(o),s.config.flowchart.nodeSpacing=i?.nodeSpacing||140,s.config.flowchart.rankSpacing=i?.rankSpacing||80,s.direction=n.db.getDirection(),s.markers=["only_one","zero_or_one","one_or_more","zero_or_more"],s.diagramId=t,await Xl(s,l),s.layoutAlgorithm==="elk"&&l.select(".edges").lower();let u=l.selectAll('[id*="-background"]');Array.from(u).length>0&&u.each(function(){let h=Vt(this),p=h.attr("id").replace("-background",""),m=l.select(`#${CSS.escape(p)}`);if(!m.empty()){let g=m.attr("transform");h.attr("transform",g)}});let f=8;Ge.insertTitle(l,"erDiagramTitleText",i?.titleTopMargin??25,n.db.getDiagramTitle()),Us(l,f,"erDiagram",i?.useMaxWidth??!0)},"draw"),UKt=x((e,t)=>{let r=zp,n=r(e,"r"),a=r(e,"g"),i=r(e,"b");return Uo(n,a,i,t)},"fade"),WKt=x(e=>`
  .entityBox {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
  }

  .relationshipLabelBox {
    fill: ${e.tertiaryColor};
    opacity: 0.7;
    background-color: ${e.tertiaryColor};
      rect {
        opacity: 0.5;
      }
  }

  .labelBkg {
    background-color: ${UKt(e.tertiaryColor,.5)};
  }

  .edgeLabel .label {
    fill: ${e.nodeBorder};
    font-size: 14px;
  }

  .label {
    font-family: ${e.fontFamily};
    color: ${e.nodeTextColor||e.textColor};
  }

  .edge-pattern-dashed {
    stroke-dasharray: 8,8;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon
  {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }

  .relationshipLine {
    stroke: ${e.lineColor};
    stroke-width: 1;
    fill: none;
  }

  .marker {
    fill: none !important;
    stroke: ${e.lineColor} !important;
    stroke-width: 1;
  }
`,"getStyles"),GKt=WKt,VKt={parser:$Kt,get db(){return new zKt},renderer:ugt,styles:GKt}});function hl(e,t){e.accDescr&&t.setAccDescription?.(e.accDescr),e.accTitle&&t.setAccTitle?.(e.accTitle),e.title&&t.setDiagramTitle?.(e.title)}var im=B(()=>{nr();x(hl,"populateCommonDb")});var DS,JF=B(()=>{nr();DS=class{constructor(e){this.init=e,this.records=this.init()}static{x(this,"ImperativeState")}reset(){this.records=this.init()}}});function Pa(e){return typeof e=="object"&&e!==null&&typeof e.$type=="string"}function co(e){return typeof e=="object"&&e!==null&&typeof e.$refText=="string"}function tP(e){return typeof e=="object"&&e!==null&&typeof e.name=="string"&&typeof e.type=="string"&&typeof e.path=="string"}function sm(e){return typeof e=="object"&&e!==null&&Pa(e.container)&&co(e.reference)&&typeof e.message=="string"}function $u(e){return typeof e=="object"&&e!==null&&Array.isArray(e.content)}function ip(e){return typeof e=="object"&&e!==null&&typeof e.tokenType=="object"}function G_(e){return $u(e)&&typeof e.fullText=="string"}var om,zu=B(()=>{om=class{constructor(){this.subtypes={},this.allSubtypes={}}isInstance(t,r){return Pa(t)&&this.isSubtype(t.$type,r)}isSubtype(t,r){if(t===r)return!0;let n=this.subtypes[t];n||(n=this.subtypes[t]={});let a=n[r];if(a!==void 0)return a;{let i=this.computeIsSubtype(t,r);return n[r]=i,i}}getAllSubTypes(t){let r=this.allSubtypes[t];if(r)return r;{let n=this.getAllTypes(),a=[];for(let i of n)this.isSubtype(i,t)&&a.push(i);return this.allSubtypes[t]=a,a}}}});function HKt(e){return typeof e=="string"?e:typeof e>"u"?"undefined":typeof e.toString=="function"?e.toString():Object.prototype.toString.call(e)}function AS(e){return!!e&&typeof e[Symbol.iterator]=="function"}function Tn(...e){if(e.length===1){let t=e[0];if(t instanceof dl)return t;if(AS(t))return new dl(()=>t[Symbol.iterator](),r=>r.next());if(typeof t.length=="number")return new dl(()=>({index:0}),r=>r.index<t.length?{done:!1,value:t[r.index++]}:Mo)}return e.length>1?new dl(()=>({collIndex:0,arrIndex:0}),t=>{do{if(t.iterator){let r=t.iterator.next();if(!r.done)return r;t.iterator=void 0}if(t.array){if(t.arrIndex<t.array.length)return{done:!1,value:t.array[t.arrIndex++]};t.array=void 0,t.arrIndex=0}if(t.collIndex<e.length){let r=e[t.collIndex++];AS(r)?t.iterator=r[Symbol.iterator]():r&&typeof r.length=="number"&&(t.array=r)}}while(t.iterator||t.array||t.collIndex<e.length);return Mo}):V_}var dl,V_,Mo,Jc,hv,Ws=B(()=>{dl=class e{constructor(t,r){this.startFn=t,this.nextFn=r}iterator(){let t={state:this.startFn(),next:()=>this.nextFn(t.state),[Symbol.iterator]:()=>t};return t}[Symbol.iterator](){return this.iterator()}isEmpty(){return!!this.iterator().next().done}count(){let t=this.iterator(),r=0,n=t.next();for(;!n.done;)r++,n=t.next();return r}toArray(){let t=[],r=this.iterator(),n;do n=r.next(),n.value!==void 0&&t.push(n.value);while(!n.done);return t}toSet(){return new Set(this)}toMap(t,r){let n=this.map(a=>[t?t(a):a,r?r(a):a]);return new Map(n)}toString(){return this.join()}concat(t){return new e(()=>({first:this.startFn(),firstDone:!1,iterator:t[Symbol.iterator]()}),r=>{let n;if(!r.firstDone){do if(n=this.nextFn(r.first),!n.done)return n;while(!n.done);r.firstDone=!0}do if(n=r.iterator.next(),!n.done)return n;while(!n.done);return Mo})}join(t=","){let r=this.iterator(),n="",a,i=!1;do a=r.next(),a.done||(i&&(n+=t),n+=HKt(a.value)),i=!0;while(!a.done);return n}indexOf(t,r=0){let n=this.iterator(),a=0,i=n.next();for(;!i.done;){if(a>=r&&i.value===t)return a;i=n.next(),a++}return-1}every(t){let r=this.iterator(),n=r.next();for(;!n.done;){if(!t(n.value))return!1;n=r.next()}return!0}some(t){let r=this.iterator(),n=r.next();for(;!n.done;){if(t(n.value))return!0;n=r.next()}return!1}forEach(t){let r=this.iterator(),n=0,a=r.next();for(;!a.done;)t(a.value,n),a=r.next(),n++}map(t){return new e(this.startFn,r=>{let{done:n,value:a}=this.nextFn(r);return n?Mo:{done:!1,value:t(a)}})}filter(t){return new e(this.startFn,r=>{let n;do if(n=this.nextFn(r),!n.done&&t(n.value))return n;while(!n.done);return Mo})}nonNullable(){return this.filter(t=>t!=null)}reduce(t,r){let n=this.iterator(),a=r,i=n.next();for(;!i.done;)a===void 0?a=i.value:a=t(a,i.value),i=n.next();return a}reduceRight(t,r){return this.recursiveReduce(this.iterator(),t,r)}recursiveReduce(t,r,n){let a=t.next();if(a.done)return n;let i=this.recursiveReduce(t,r,n);return i===void 0?a.value:r(i,a.value)}find(t){let r=this.iterator(),n=r.next();for(;!n.done;){if(t(n.value))return n.value;n=r.next()}}findIndex(t){let r=this.iterator(),n=0,a=r.next();for(;!a.done;){if(t(a.value))return n;a=r.next(),n++}return-1}includes(t){let r=this.iterator(),n=r.next();for(;!n.done;){if(n.value===t)return!0;n=r.next()}return!1}flatMap(t){return new e(()=>({this:this.startFn()}),r=>{do{if(r.iterator){let i=r.iterator.next();if(i.done)r.iterator=void 0;else return i}let{done:n,value:a}=this.nextFn(r.this);if(!n){let i=t(a);if(AS(i))r.iterator=i[Symbol.iterator]();else return{done:!1,value:i}}}while(r.iterator);return Mo})}flat(t){if(t===void 0&&(t=1),t<=0)return this;let r=t>1?this.flat(t-1):this;return new e(()=>({this:r.startFn()}),n=>{do{if(n.iterator){let o=n.iterator.next();if(o.done)n.iterator=void 0;else return o}let{done:a,value:i}=r.nextFn(n.this);if(!a)if(AS(i))n.iterator=i[Symbol.iterator]();else return{done:!1,value:i}}while(n.iterator);return Mo})}head(){let r=this.iterator().next();if(!r.done)return r.value}tail(t=1){return new e(()=>{let r=this.startFn();for(let n=0;n<t;n++)if(this.nextFn(r).done)return r;return r},this.nextFn)}limit(t){return new e(()=>({size:0,state:this.startFn()}),r=>(r.size++,r.size>t?Mo:this.nextFn(r.state)))}distinct(t){return new e(()=>({set:new Set,internalState:this.startFn()}),r=>{let n;do if(n=this.nextFn(r.internalState),!n.done){let a=t?t(n.value):n.value;if(!r.set.has(a))return r.set.add(a),n}while(!n.done);return Mo})}exclude(t,r){let n=new Set;for(let a of t){let i=r?r(a):a;n.add(i)}return this.filter(a=>{let i=r?r(a):a;return!n.has(i)})}};V_=new dl(()=>{},()=>Mo),Mo=Object.freeze({done:!0,value:void 0});Jc=class extends dl{constructor(t,r,n){super(()=>({iterators:n?.includeRoot?[[t][Symbol.iterator]()]:[r(t)[Symbol.iterator]()],pruned:!1}),a=>{for(a.pruned&&(a.iterators.pop(),a.pruned=!1);a.iterators.length>0;){let o=a.iterators[a.iterators.length-1].next();if(o.done)a.iterators.pop();else return a.iterators.push(r(o.value)[Symbol.iterator]()),o}return Mo})}iterator(){let t={state:this.startFn(),next:()=>this.nextFn(t.state),prune:()=>{t.state.pruned=!0},[Symbol.iterator]:()=>t};return t}};(function(e){function t(i){return i.reduce((o,s)=>o+s,0)}e.sum=t;function r(i){return i.reduce((o,s)=>o*s,0)}e.product=r;function n(i){return i.reduce((o,s)=>Math.min(o,s))}e.min=n;function a(i){return i.reduce((o,s)=>Math.max(o,s))}e.max=a})(hv||(hv={}))});var MS={};pr(MS,{DefaultNameRegexp:()=>LS,RangeComparison:()=>tf,compareRange:()=>dgt,findCommentNode:()=>aP,findDeclarationNodeAtOffset:()=>XKt,findLeafNodeAtOffset:()=>iP,findLeafNodeBeforeOffset:()=>pgt,flattenCst:()=>YKt,getInteriorNodes:()=>QKt,getNextNode:()=>jKt,getPreviousNode:()=>ggt,getStartlineNode:()=>KKt,inRange:()=>nP,isChildNode:()=>rP,isCommentNode:()=>eP,streamCst:()=>lm,toDocumentSegment:()=>um,tokenToRange:()=>dv});function lm(e){return new Jc(e,t=>$u(t)?t.content:[],{includeRoot:!0})}function YKt(e){return lm(e).filter(ip)}function rP(e,t){for(;e.container;)if(e=e.container,e===t)return!0;return!1}function dv(e){return{start:{character:e.startColumn-1,line:e.startLine-1},end:{character:e.endColumn,line:e.endLine-1}}}function um(e){if(!e)return;let{offset:t,end:r,range:n}=e;return{range:n,offset:t,end:r,length:r-t}}function dgt(e,t){if(e.end.line<t.start.line||e.end.line===t.start.line&&e.end.character<=t.start.character)return tf.Before;if(e.start.line>t.end.line||e.start.line===t.end.line&&e.start.character>=t.end.character)return tf.After;let r=e.start.line>t.start.line||e.start.line===t.start.line&&e.start.character>=t.start.character,n=e.end.line<t.end.line||e.end.line===t.end.line&&e.end.character<=t.end.character;return r&&n?tf.Inside:r?tf.OverlapBack:n?tf.OverlapFront:tf.Outside}function nP(e,t){return dgt(e,t)>tf.After}function XKt(e,t,r=LS){if(e){if(t>0){let n=t-e.offset,a=e.text.charAt(n);r.test(a)||t--}return iP(e,t)}}function aP(e,t){if(e){let r=ggt(e,!0);if(r&&eP(r,t))return r;if(G_(e)){let n=e.content.findIndex(a=>!a.hidden);for(let a=n-1;a>=0;a--){let i=e.content[a];if(eP(i,t))return i}}}}function eP(e,t){return ip(e)&&t.includes(e.tokenType.name)}function iP(e,t){if(ip(e))return e;if($u(e)){let r=mgt(e,t,!1);if(r)return iP(r,t)}}function pgt(e,t){if(ip(e))return e;if($u(e)){let r=mgt(e,t,!0);if(r)return pgt(r,t)}}function mgt(e,t,r){let n=0,a=e.content.length-1,i;for(;n<=a;){let o=Math.floor((n+a)/2),s=e.content[o];if(s.offset<=t&&s.end>t)return s;s.end<=t?(i=r?s:void 0,n=o+1):a=o-1}return i}function ggt(e,t=!0){for(;e.container;){let r=e.container,n=r.content.indexOf(e);for(;n>0;){n--;let a=r.content[n];if(t||!a.hidden)return a}e=r}}function jKt(e,t=!0){for(;e.container;){let r=e.container,n=r.content.indexOf(e),a=r.content.length-1;for(;n<a;){n++;let i=r.content[n];if(t||!i.hidden)return i}e=r}}function KKt(e){if(e.range.start.character===0)return e;let t=e.range.start.line,r=e,n;for(;e.container;){let a=e.container,i=n??a.content.indexOf(e);if(i===0?(e=a,n=void 0):(n=i-1,e=a.content[n]),e.range.start.line!==t)break;r=e}return r}function QKt(e,t){let r=ZKt(e,t);return r?r.parent.content.slice(r.a+1,r.b):[]}function ZKt(e,t){let r=hgt(e),n=hgt(t),a;for(let i=0;i<r.length&&i<n.length;i++){let o=r[i],s=n[i];if(o.parent===s.parent)a={parent:o.parent,a:o.index,b:s.index};else break}return a}function hgt(e){let t=[];for(;e.container;){let r=e.container,n=r.content.indexOf(e);t.push({parent:r,index:n}),e=r}return t.reverse()}var tf,LS,qu=B(()=>{zu();Ws();(function(e){e[e.Before=0]="Before",e[e.After=1]="After",e[e.OverlapFront=2]="OverlapFront",e[e.OverlapBack=3]="OverlapBack",e[e.Inside=4]="Inside",e[e.Outside=5]="Outside"})(tf||(tf={}));LS=/^[\w\p{L}]$/u});function ef(e){throw new Error("Error! The input value was not handled.")}var cm,IS=B(()=>{cm=class extends Error{constructor(t,r){super(t?`${r} at ${t.range.start.line}:${t.range.start.character}`:r)}}});var t4={};pr(t4,{AbstractElement:()=>gv,AbstractRule:()=>pv,AbstractType:()=>mv,Action:()=>Ov,Alternatives:()=>Fv,ArrayLiteral:()=>vv,ArrayType:()=>yv,Assignment:()=>Pv,BooleanLiteral:()=>xv,CharacterRange:()=>Bv,Condition:()=>H_,Conjunction:()=>bv,CrossReference:()=>$v,Disjunction:()=>_v,EndOfFile:()=>zv,Grammar:()=>wv,GrammarImport:()=>X_,Group:()=>qv,InferredType:()=>Tv,Interface:()=>Ev,Keyword:()=>Uv,LangiumGrammarAstReflection:()=>Zv,LangiumGrammarTerminals:()=>JKt,NamedArgument:()=>j_,NegatedToken:()=>Wv,Negation:()=>kv,NumberLiteral:()=>Cv,Parameter:()=>Sv,ParameterReference:()=>Dv,ParserRule:()=>Av,ReferenceType:()=>Lv,RegexToken:()=>Gv,ReturnType:()=>K_,RuleCall:()=>Vv,SimpleType:()=>Mv,StringLiteral:()=>Iv,TerminalAlternatives:()=>Hv,TerminalGroup:()=>Yv,TerminalRule:()=>fm,TerminalRuleCall:()=>Xv,Type:()=>Rv,TypeAttribute:()=>Q_,TypeDefinition:()=>RS,UnionType:()=>Nv,UnorderedGroup:()=>jv,UntilToken:()=>Kv,ValueLiteral:()=>Y_,Wildcard:()=>Qv,isAbstractElement:()=>Z_,isAbstractRule:()=>tQt,isAbstractType:()=>eQt,isAction:()=>lh,isAlternatives:()=>PS,isArrayLiteral:()=>oQt,isArrayType:()=>oP,isAssignment:()=>Uu,isBooleanLiteral:()=>sP,isCharacterRange:()=>mP,isCondition:()=>rQt,isConjunction:()=>lP,isCrossReference:()=>hm,isDisjunction:()=>uP,isEndOfFile:()=>gP,isFeatureName:()=>nQt,isGrammar:()=>sQt,isGrammarImport:()=>lQt,isGroup:()=>op,isInferredType:()=>NS,isInterface:()=>OS,isKeyword:()=>ru,isNamedArgument:()=>uQt,isNegatedToken:()=>vP,isNegation:()=>cP,isNumberLiteral:()=>cQt,isParameter:()=>fQt,isParameterReference:()=>fP,isParserRule:()=>Io,isPrimitiveType:()=>vgt,isReferenceType:()=>hP,isRegexToken:()=>yP,isReturnType:()=>dP,isRuleCall:()=>Wu,isSimpleType:()=>FS,isStringLiteral:()=>hQt,isTerminalAlternatives:()=>xP,isTerminalGroup:()=>bP,isTerminalRule:()=>pl,isTerminalRuleCall:()=>BS,isType:()=>J_,isTypeAttribute:()=>dQt,isTypeDefinition:()=>aQt,isUnionType:()=>pP,isUnorderedGroup:()=>$S,isUntilToken:()=>_P,isValueLiteral:()=>iQt,isWildcard:()=>wP,reflection:()=>ir});function tQt(e){return ir.isInstance(e,pv)}function eQt(e){return ir.isInstance(e,mv)}function rQt(e){return ir.isInstance(e,H_)}function nQt(e){return vgt(e)||e==="current"||e==="entry"||e==="extends"||e==="false"||e==="fragment"||e==="grammar"||e==="hidden"||e==="import"||e==="interface"||e==="returns"||e==="terminal"||e==="true"||e==="type"||e==="infer"||e==="infers"||e==="with"||typeof e=="string"&&/\^?[_a-zA-Z][\w_]*/.test(e)}function vgt(e){return e==="string"||e==="number"||e==="boolean"||e==="Date"||e==="bigint"}function aQt(e){return ir.isInstance(e,RS)}function iQt(e){return ir.isInstance(e,Y_)}function Z_(e){return ir.isInstance(e,gv)}function oQt(e){return ir.isInstance(e,vv)}function oP(e){return ir.isInstance(e,yv)}function sP(e){return ir.isInstance(e,xv)}function lP(e){return ir.isInstance(e,bv)}function uP(e){return ir.isInstance(e,_v)}function sQt(e){return ir.isInstance(e,wv)}function lQt(e){return ir.isInstance(e,X_)}function NS(e){return ir.isInstance(e,Tv)}function OS(e){return ir.isInstance(e,Ev)}function uQt(e){return ir.isInstance(e,j_)}function cP(e){return ir.isInstance(e,kv)}function cQt(e){return ir.isInstance(e,Cv)}function fQt(e){return ir.isInstance(e,Sv)}function fP(e){return ir.isInstance(e,Dv)}function Io(e){return ir.isInstance(e,Av)}function hP(e){return ir.isInstance(e,Lv)}function dP(e){return ir.isInstance(e,K_)}function FS(e){return ir.isInstance(e,Mv)}function hQt(e){return ir.isInstance(e,Iv)}function pl(e){return ir.isInstance(e,fm)}function J_(e){return ir.isInstance(e,Rv)}function dQt(e){return ir.isInstance(e,Q_)}function pP(e){return ir.isInstance(e,Nv)}function lh(e){return ir.isInstance(e,Ov)}function PS(e){return ir.isInstance(e,Fv)}function Uu(e){return ir.isInstance(e,Pv)}function mP(e){return ir.isInstance(e,Bv)}function hm(e){return ir.isInstance(e,$v)}function gP(e){return ir.isInstance(e,zv)}function op(e){return ir.isInstance(e,qv)}function ru(e){return ir.isInstance(e,Uv)}function vP(e){return ir.isInstance(e,Wv)}function yP(e){return ir.isInstance(e,Gv)}function Wu(e){return ir.isInstance(e,Vv)}function xP(e){return ir.isInstance(e,Hv)}function bP(e){return ir.isInstance(e,Yv)}function BS(e){return ir.isInstance(e,Xv)}function $S(e){return ir.isInstance(e,jv)}function _P(e){return ir.isInstance(e,Kv)}function wP(e){return ir.isInstance(e,Qv)}var JKt,pv,mv,H_,RS,Y_,gv,vv,yv,xv,bv,_v,wv,X_,Tv,Ev,j_,kv,Cv,Sv,Dv,Av,Lv,K_,Mv,Iv,fm,Rv,Q_,Nv,Ov,Fv,Pv,Bv,$v,zv,qv,Uv,Wv,Gv,Vv,Hv,Yv,Xv,jv,Kv,Qv,Zv,ir,rf=B(()=>{zu();JKt={ID:/\^?[_a-zA-Z][\w_]*/,STRING:/"(\\.|[^"\\])*"|'(\\.|[^'\\])*'/,NUMBER:/NaN|-?((\d*\.\d+|\d+)([Ee][+-]?\d+)?|Infinity)/,RegexLiteral:/\/(?![*+?])(?:[^\r\n\[/\\]|\\.|\[(?:[^\r\n\]\\]|\\.)*\])+\/[a-z]*/,WS:/\s+/,ML_COMMENT:/\/\*[\s\S]*?\*\//,SL_COMMENT:/\/\/[^\n\r]*/},pv="AbstractRule";mv="AbstractType";H_="Condition";RS="TypeDefinition";Y_="ValueLiteral";gv="AbstractElement";vv="ArrayLiteral";yv="ArrayType";xv="BooleanLiteral";bv="Conjunction";_v="Disjunction";wv="Grammar";X_="GrammarImport";Tv="InferredType";Ev="Interface";j_="NamedArgument";kv="Negation";Cv="NumberLiteral";Sv="Parameter";Dv="ParameterReference";Av="ParserRule";Lv="ReferenceType";K_="ReturnType";Mv="SimpleType";Iv="StringLiteral";fm="TerminalRule";Rv="Type";Q_="TypeAttribute";Nv="UnionType";Ov="Action";Fv="Alternatives";Pv="Assignment";Bv="CharacterRange";$v="CrossReference";zv="EndOfFile";qv="Group";Uv="Keyword";Wv="NegatedToken";Gv="RegexToken";Vv="RuleCall";Hv="TerminalAlternatives";Yv="TerminalGroup";Xv="TerminalRuleCall";jv="UnorderedGroup";Kv="UntilToken";Qv="Wildcard";Zv=class extends om{getAllTypes(){return[gv,pv,mv,Ov,Fv,vv,yv,Pv,xv,Bv,H_,bv,$v,_v,zv,wv,X_,qv,Tv,Ev,Uv,j_,Wv,kv,Cv,Sv,Dv,Av,Lv,Gv,K_,Vv,Mv,Iv,Hv,Yv,fm,Xv,Rv,Q_,RS,Nv,jv,Kv,Y_,Qv]}computeIsSubtype(t,r){switch(t){case Ov:case Fv:case Pv:case Bv:case $v:case zv:case qv:case Uv:case Wv:case Gv:case Vv:case Hv:case Yv:case Xv:case jv:case Kv:case Qv:return this.isSubtype(gv,r);case vv:case Cv:case Iv:return this.isSubtype(Y_,r);case yv:case Lv:case Mv:case Nv:return this.isSubtype(RS,r);case xv:return this.isSubtype(H_,r)||this.isSubtype(Y_,r);case bv:case _v:case kv:case Dv:return this.isSubtype(H_,r);case Tv:case Ev:case Rv:return this.isSubtype(mv,r);case Av:return this.isSubtype(pv,r)||this.isSubtype(mv,r);case fm:return this.isSubtype(pv,r);default:return!1}}getReferenceType(t){let r=`${t.container.$type}:${t.property}`;switch(r){case"Action:type":case"CrossReference:type":case"Interface:superTypes":case"ParserRule:returnType":case"SimpleType:typeRef":return mv;case"Grammar:hiddenTokens":case"ParserRule:hiddenTokens":case"RuleCall:rule":return pv;case"Grammar:usedGrammars":return wv;case"NamedArgument:parameter":case"ParameterReference:parameter":return Sv;case"TerminalRuleCall:rule":return fm;default:throw new Error(`${r} is not a valid reference id.`)}}getTypeMetaData(t){switch(t){case gv:return{name:gv,properties:[{name:"cardinality"},{name:"lookahead"}]};case vv:return{name:vv,properties:[{name:"elements",defaultValue:[]}]};case yv:return{name:yv,properties:[{name:"elementType"}]};case xv:return{name:xv,properties:[{name:"true",defaultValue:!1}]};case bv:return{name:bv,properties:[{name:"left"},{name:"right"}]};case _v:return{name:_v,properties:[{name:"left"},{name:"right"}]};case wv:return{name:wv,properties:[{name:"definesHiddenTokens",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"imports",defaultValue:[]},{name:"interfaces",defaultValue:[]},{name:"isDeclared",defaultValue:!1},{name:"name"},{name:"rules",defaultValue:[]},{name:"types",defaultValue:[]},{name:"usedGrammars",defaultValue:[]}]};case X_:return{name:X_,properties:[{name:"path"}]};case Tv:return{name:Tv,properties:[{name:"name"}]};case Ev:return{name:Ev,properties:[{name:"attributes",defaultValue:[]},{name:"name"},{name:"superTypes",defaultValue:[]}]};case j_:return{name:j_,properties:[{name:"calledByName",defaultValue:!1},{name:"parameter"},{name:"value"}]};case kv:return{name:kv,properties:[{name:"value"}]};case Cv:return{name:Cv,properties:[{name:"value"}]};case Sv:return{name:Sv,properties:[{name:"name"}]};case Dv:return{name:Dv,properties:[{name:"parameter"}]};case Av:return{name:Av,properties:[{name:"dataType"},{name:"definesHiddenTokens",defaultValue:!1},{name:"definition"},{name:"entry",defaultValue:!1},{name:"fragment",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"inferredType"},{name:"name"},{name:"parameters",defaultValue:[]},{name:"returnType"},{name:"wildcard",defaultValue:!1}]};case Lv:return{name:Lv,properties:[{name:"referenceType"}]};case K_:return{name:K_,properties:[{name:"name"}]};case Mv:return{name:Mv,properties:[{name:"primitiveType"},{name:"stringType"},{name:"typeRef"}]};case Iv:return{name:Iv,properties:[{name:"value"}]};case fm:return{name:fm,properties:[{name:"definition"},{name:"fragment",defaultValue:!1},{name:"hidden",defaultValue:!1},{name:"name"},{name:"type"}]};case Rv:return{name:Rv,properties:[{name:"name"},{name:"type"}]};case Q_:return{name:Q_,properties:[{name:"defaultValue"},{name:"isOptional",defaultValue:!1},{name:"name"},{name:"type"}]};case Nv:return{name:Nv,properties:[{name:"types",defaultValue:[]}]};case Ov:return{name:Ov,properties:[{name:"cardinality"},{name:"feature"},{name:"inferredType"},{name:"lookahead"},{name:"operator"},{name:"type"}]};case Fv:return{name:Fv,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case Pv:return{name:Pv,properties:[{name:"cardinality"},{name:"feature"},{name:"lookahead"},{name:"operator"},{name:"terminal"}]};case Bv:return{name:Bv,properties:[{name:"cardinality"},{name:"left"},{name:"lookahead"},{name:"right"}]};case $v:return{name:$v,properties:[{name:"cardinality"},{name:"deprecatedSyntax",defaultValue:!1},{name:"lookahead"},{name:"terminal"},{name:"type"}]};case zv:return{name:zv,properties:[{name:"cardinality"},{name:"lookahead"}]};case qv:return{name:qv,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"guardCondition"},{name:"lookahead"}]};case Uv:return{name:Uv,properties:[{name:"cardinality"},{name:"lookahead"},{name:"value"}]};case Wv:return{name:Wv,properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case Gv:return{name:Gv,properties:[{name:"cardinality"},{name:"lookahead"},{name:"regex"}]};case Vv:return{name:Vv,properties:[{name:"arguments",defaultValue:[]},{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case Hv:return{name:Hv,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case Yv:return{name:Yv,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case Xv:return{name:Xv,properties:[{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case jv:return{name:jv,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case Kv:return{name:Kv,properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case Qv:return{name:Qv,properties:[{name:"cardinality"},{name:"lookahead"}]};default:return{name:t,properties:[]}}}},ir=new Zv});var qS={};pr(qS,{assignMandatoryProperties:()=>kP,copyAstNode:()=>EP,findLocalReferences:()=>mQt,findRootNode:()=>e4,getContainerOfType:()=>dm,getDocument:()=>Ro,hasContainerOfType:()=>pQt,linkContentToContainer:()=>zS,streamAllContents:()=>nf,streamAst:()=>nu,streamContents:()=>r4,streamReferences:()=>Jv});function zS(e){for(let[t,r]of Object.entries(e))t.startsWith("$")||(Array.isArray(r)?r.forEach((n,a)=>{Pa(n)&&(n.$container=e,n.$containerProperty=t,n.$containerIndex=a)}):Pa(r)&&(r.$container=e,r.$containerProperty=t))}function dm(e,t){let r=e;for(;r;){if(t(r))return r;r=r.$container}}function pQt(e,t){let r=e;for(;r;){if(t(r))return!0;r=r.$container}return!1}function Ro(e){let r=e4(e).$document;if(!r)throw new Error("AST node has no document.");return r}function e4(e){for(;e.$container;)e=e.$container;return e}function r4(e,t){if(!e)throw new Error("Node must be an AstNode.");let r=t?.range;return new dl(()=>({keys:Object.keys(e),keyIndex:0,arrayIndex:0}),n=>{for(;n.keyIndex<n.keys.length;){let a=n.keys[n.keyIndex];if(!a.startsWith("$")){let i=e[a];if(Pa(i)){if(n.keyIndex++,TP(i,r))return{done:!1,value:i}}else if(Array.isArray(i)){for(;n.arrayIndex<i.length;){let o=n.arrayIndex++,s=i[o];if(Pa(s)&&TP(s,r))return{done:!1,value:s}}n.arrayIndex=0}}n.keyIndex++}return Mo})}function nf(e,t){if(!e)throw new Error("Root node must be an AstNode.");return new Jc(e,r=>r4(r,t))}function nu(e,t){if(e){if(t?.range&&!TP(e,t.range))return new Jc(e,()=>[])}else throw new Error("Root node must be an AstNode.");return new Jc(e,r=>r4(r,t),{includeRoot:!0})}function TP(e,t){var r;if(!t)return!0;let n=(r=e.$cstNode)===null||r===void 0?void 0:r.range;return n?nP(n,t):!1}function Jv(e){return new dl(()=>({keys:Object.keys(e),keyIndex:0,arrayIndex:0}),t=>{for(;t.keyIndex<t.keys.length;){let r=t.keys[t.keyIndex];if(!r.startsWith("$")){let n=e[r];if(co(n))return t.keyIndex++,{done:!1,value:{reference:n,container:e,property:r}};if(Array.isArray(n)){for(;t.arrayIndex<n.length;){let a=t.arrayIndex++,i=n[a];if(co(i))return{done:!1,value:{reference:i,container:e,property:r,index:a}}}t.arrayIndex=0}}t.keyIndex++}return Mo})}function mQt(e,t=Ro(e).parseResult.value){let r=[];return nu(t).forEach(n=>{Jv(n).forEach(a=>{a.reference.ref===e&&r.push(a.reference)})}),Tn(r)}function kP(e,t){let r=e.getTypeMetaData(t.$type),n=t;for(let a of r.properties)a.defaultValue!==void 0&&n[a.name]===void 0&&(n[a.name]=ygt(a.defaultValue))}function ygt(e){return Array.isArray(e)?[...e.map(ygt)]:e}function EP(e,t){let r={$type:e.$type};for(let[n,a]of Object.entries(e))if(!n.startsWith("$"))if(Pa(a))r[n]=EP(a,t);else if(co(a))r[n]=t(r,n,a.$refNode,a.$refText);else if(Array.isArray(a)){let i=[];for(let o of a)Pa(o)?i.push(EP(o,t)):co(o)?i.push(t(r,n,o.$refNode,o.$refText)):i.push(o);r[n]=i}else r[n]=a;return zS(r),r}var ss=B(()=>{zu();Ws();qu()});function er(e){return e.charCodeAt(0)}function US(e,t){Array.isArray(e)?e.forEach(function(r){t.push(r)}):t.push(e)}function ty(e,t){if(e[t]===!0)throw"duplicate flag "+t;let r=e[t];e[t]=!0}function pm(e){if(e===void 0)throw Error("Internal Error - Should never get here!");return!0}function n4(){throw Error("Internal Error - Should never get here!")}function CP(e){return e.type==="Character"}var SP=B(()=>{});var a4,i4,DP,xgt=B(()=>{SP();a4=[];for(let e=er("0");e<=er("9");e++)a4.push(e);i4=[er("_")].concat(a4);for(let e=er("a");e<=er("z");e++)i4.push(e);for(let e=er("A");e<=er("Z");e++)i4.push(e);DP=[er(" "),er("\f"),er(`
`),er("\r"),er("	"),er("\v"),er("	"),er("\xA0"),er("\u1680"),er("\u2000"),er("\u2001"),er("\u2002"),er("\u2003"),er("\u2004"),er("\u2005"),er("\u2006"),er("\u2007"),er("\u2008"),er("\u2009"),er("\u200A"),er("\u2028"),er("\u2029"),er("\u202F"),er("\u205F"),er("\u3000"),er("\uFEFF")]});var gQt,WS,vQt,mm,bgt=B(()=>{SP();xgt();gQt=/[0-9a-fA-F]/,WS=/[0-9]/,vQt=/[1-9]/,mm=class{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(t){this.idx=t.idx,this.input=t.input,this.groupIdx=t.groupIdx}pattern(t){this.idx=0,this.input=t,this.groupIdx=0,this.consumeChar("/");let r=this.disjunction();this.consumeChar("/");let n={type:"Flags",loc:{begin:this.idx,end:t.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":ty(n,"global");break;case"i":ty(n,"ignoreCase");break;case"m":ty(n,"multiLine");break;case"u":ty(n,"unicode");break;case"y":ty(n,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:n,value:r,loc:this.loc(0)}}disjunction(){let t=[],r=this.idx;for(t.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),t.push(this.alternative());return{type:"Disjunction",value:t,loc:this.loc(r)}}alternative(){let t=[],r=this.idx;for(;this.isTerm();)t.push(this.term());return{type:"Alternative",value:t,loc:this.loc(r)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){let t=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(t)};case"$":return{type:"EndAnchor",loc:this.loc(t)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(t)};case"B":return{type:"NonWordBoundary",loc:this.loc(t)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");let r;switch(this.popChar()){case"=":r="Lookahead";break;case"!":r="NegativeLookahead";break}pm(r);let n=this.disjunction();return this.consumeChar(")"),{type:r,value:n,loc:this.loc(t)}}return n4()}quantifier(t=!1){let r,n=this.idx;switch(this.popChar()){case"*":r={atLeast:0,atMost:1/0};break;case"+":r={atLeast:1,atMost:1/0};break;case"?":r={atLeast:0,atMost:1};break;case"{":let a=this.integerIncludingZero();switch(this.popChar()){case"}":r={atLeast:a,atMost:a};break;case",":let i;this.isDigit()?(i=this.integerIncludingZero(),r={atLeast:a,atMost:i}):r={atLeast:a,atMost:1/0},this.consumeChar("}");break}if(t===!0&&r===void 0)return;pm(r);break}if(!(t===!0&&r===void 0)&&pm(r))return this.peekChar(0)==="?"?(this.consumeChar("?"),r.greedy=!1):r.greedy=!0,r.type="Quantifier",r.loc=this.loc(n),r}atom(){let t,r=this.idx;switch(this.peekChar()){case".":t=this.dotAll();break;case"\\":t=this.atomEscape();break;case"[":t=this.characterClass();break;case"(":t=this.group();break}return t===void 0&&this.isPatternCharacter()&&(t=this.patternCharacter()),pm(t)?(t.loc=this.loc(r),this.isQuantifier()&&(t.quantifier=this.quantifier()),t):n4()}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[er(`
`),er("\r"),er("\u2028"),er("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let t,r=!1;switch(this.popChar()){case"d":t=a4;break;case"D":t=a4,r=!0;break;case"s":t=DP;break;case"S":t=DP,r=!0;break;case"w":t=i4;break;case"W":t=i4,r=!0;break}return pm(t)?{type:"Set",value:t,complement:r}:n4()}controlEscapeAtom(){let t;switch(this.popChar()){case"f":t=er("\f");break;case"n":t=er(`
`);break;case"r":t=er("\r");break;case"t":t=er("	");break;case"v":t=er("\v");break}return pm(t)?{type:"Character",value:t}:n4()}controlLetterEscapeAtom(){this.consumeChar("c");let t=this.popChar();if(/[a-zA-Z]/.test(t)===!1)throw Error("Invalid ");return{type:"Character",value:t.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:er("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){let t=this.popChar();return{type:"Character",value:er(t)}}classPatternCharacterAtom(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:let t=this.popChar();return{type:"Character",value:er(t)}}}characterClass(){let t=[],r=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),r=!0);this.isClassAtom();){let n=this.classAtom(),a=n.type==="Character";if(CP(n)&&this.isRangeDash()){this.consumeChar("-");let i=this.classAtom(),o=i.type==="Character";if(CP(i)){if(i.value<n.value)throw Error("Range out of order in character class");t.push({from:n.value,to:i.value})}else US(n.value,t),t.push(er("-")),US(i.value,t)}else US(n.value,t)}return this.consumeChar("]"),{type:"Set",complement:r,value:t}}classAtom(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:er("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let t=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),t=!1;break;default:this.groupIdx++;break}let r=this.disjunction();this.consumeChar(")");let n={type:"Group",capturing:t,value:r};return t&&(n.idx=this.groupIdx),n}positiveInteger(){let t=this.popChar();if(vQt.test(t)===!1)throw Error("Expecting a positive integer");for(;WS.test(this.peekChar(0));)t+=this.popChar();return parseInt(t,10)}integerIncludingZero(){let t=this.popChar();if(WS.test(t)===!1)throw Error("Expecting an integer");for(;WS.test(this.peekChar(0));)t+=this.popChar();return parseInt(t,10)}patternCharacter(){let t=this.popChar();switch(t){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:er(t)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return this.peekChar()==="-"&&this.isClassAtom(1)}isDigit(){return WS.test(this.peekChar(0))}isClassAtom(t=0){switch(this.peekChar(t)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return!1}}isQuantifier(){let t=this.saveState();try{return this.quantifier(!0)!==void 0}catch{return!1}finally{this.restoreState(t)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(t){let r="";for(let a=0;a<t;a++){let i=this.popChar();if(gQt.test(i)===!1)throw Error("Expecting a HexDecimal digits");r+=i}return{type:"Character",value:parseInt(r,16)}}peekChar(t=0){return this.input[this.idx+t]}popChar(){let t=this.peekChar(0);return this.consumeChar(void 0),t}consumeChar(t){if(t!==void 0&&this.input[this.idx]!==t)throw Error("Expected: '"+t+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(t){return{begin:t,end:this.idx}}}});var af,_gt=B(()=>{af=class{visitChildren(t){for(let r in t){let n=t[r];t.hasOwnProperty(r)&&(n.type!==void 0?this.visit(n):Array.isArray(n)&&n.forEach(a=>{this.visit(a)},this))}}visit(t){switch(t.type){case"Pattern":this.visitPattern(t);break;case"Flags":this.visitFlags(t);break;case"Disjunction":this.visitDisjunction(t);break;case"Alternative":this.visitAlternative(t);break;case"StartAnchor":this.visitStartAnchor(t);break;case"EndAnchor":this.visitEndAnchor(t);break;case"WordBoundary":this.visitWordBoundary(t);break;case"NonWordBoundary":this.visitNonWordBoundary(t);break;case"Lookahead":this.visitLookahead(t);break;case"NegativeLookahead":this.visitNegativeLookahead(t);break;case"Character":this.visitCharacter(t);break;case"Set":this.visitSet(t);break;case"Group":this.visitGroup(t);break;case"GroupBackReference":this.visitGroupBackReference(t);break;case"Quantifier":this.visitQuantifier(t);break}this.visitChildren(t)}visitPattern(t){}visitFlags(t){}visitDisjunction(t){}visitAlternative(t){}visitStartAnchor(t){}visitEndAnchor(t){}visitWordBoundary(t){}visitNonWordBoundary(t){}visitLookahead(t){}visitNegativeLookahead(t){}visitCharacter(t){}visitSet(t){}visitGroup(t){}visitGroupBackReference(t){}visitQuantifier(t){}}});var o4=B(()=>{bgt();_gt()});var GS={};pr(GS,{NEWLINE_REGEXP:()=>LP,escapeRegExp:()=>vm,getCaseInsensitivePattern:()=>IP,getTerminalParts:()=>yQt,isMultilineComment:()=>MP,isWhitespace:()=>ey,partialMatches:()=>RP,partialRegExp:()=>Egt,whitespaceCharacters:()=>Tgt});function yQt(e){try{typeof e!="string"&&(e=e.source),e=`/${e}/`;let t=wgt.pattern(e),r=[];for(let n of t.value.value)gm.reset(e),gm.visit(n),r.push({start:gm.startRegexp,end:gm.endRegex});return r}catch{return[]}}function MP(e){try{return typeof e=="string"&&(e=new RegExp(e)),e=e.toString(),gm.reset(e),gm.visit(wgt.pattern(e)),gm.multiline}catch{return!1}}function ey(e){let t=typeof e=="string"?new RegExp(e):e;return Tgt.some(r=>t.test(r))}function vm(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function IP(e){return Array.prototype.map.call(e,t=>/\w/.test(t)?`[${t.toLowerCase()}${t.toUpperCase()}]`:vm(t)).join("")}function RP(e,t){let r=Egt(e),n=t.match(r);return!!n&&n[0].length>0}function Egt(e){typeof e=="string"&&(e=new RegExp(e));let t=e,r=e.source,n=0;function a(){let i="",o;function s(u){i+=r.substr(n,u),n+=u}function l(u){i+="(?:"+r.substr(n,u)+"|$)",n+=u}for(;n<r.length;)switch(r[n]){case"\\":switch(r[n+1]){case"c":l(3);break;case"x":l(4);break;case"u":t.unicode?r[n+2]==="{"?l(r.indexOf("}",n)-n+1):l(6):l(2);break;case"p":case"P":t.unicode?l(r.indexOf("}",n)-n+1):l(2);break;case"k":l(r.indexOf(">",n)-n+1);break;default:l(2);break}break;case"[":o=/\[(?:\\.|.)*?\]/g,o.lastIndex=n,o=o.exec(r)||[],l(o[0].length);break;case"|":case"^":case"$":case"*":case"+":case"?":s(1);break;case"{":o=/\{\d+,?\d*\}/g,o.lastIndex=n,o=o.exec(r),o?s(o[0].length):l(1);break;case"(":if(r[n+1]==="?")switch(r[n+2]){case":":i+="(?:",n+=3,i+=a()+"|$)";break;case"=":i+="(?=",n+=3,i+=a()+")";break;case"!":o=n,n+=3,a(),i+=r.substr(o,n-o);break;case"<":switch(r[n+3]){case"=":case"!":o=n,n+=4,a(),i+=r.substr(o,n-o);break;default:s(r.indexOf(">",n)-n+1),i+=a()+"|$)";break}break}else s(1),i+=a()+"|$)";break;case")":return++n,i;default:l(1);break}return i}return new RegExp(a(),e.flags)}var LP,wgt,AP,gm,Tgt,ry=B(()=>{o4();LP=/\r?\n/gm,wgt=new mm,AP=class extends af{constructor(){super(...arguments),this.isStarting=!0,this.endRegexpStack=[],this.multiline=!1}get endRegex(){return this.endRegexpStack.join("")}reset(t){this.multiline=!1,this.regex=t,this.startRegexp="",this.isStarting=!0,this.endRegexpStack=[]}visitGroup(t){t.quantifier&&(this.isStarting=!1,this.endRegexpStack=[])}visitCharacter(t){let r=String.fromCharCode(t.value);if(!this.multiline&&r===`
`&&(this.multiline=!0),t.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{let n=vm(r);this.endRegexpStack.push(n),this.isStarting&&(this.startRegexp+=n)}}visitSet(t){if(!this.multiline){let r=this.regex.substring(t.loc.begin,t.loc.end),n=new RegExp(r);this.multiline=!!`
`.match(n)}if(t.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{let r=this.regex.substring(t.loc.begin,t.loc.end);this.endRegexpStack.push(r),this.isStarting&&(this.startRegexp+=r)}}visitChildren(t){t.type==="Group"&&t.quantifier||super.visitChildren(t)}},gm=new AP;Tgt=`\f
\r	\v \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF`.split("")});var HS={};pr(HS,{findAssignment:()=>UP,findNameAssignment:()=>VS,findNodeForKeyword:()=>zP,findNodeForProperty:()=>l4,findNodesForKeyword:()=>xQt,findNodesForKeywordInternal:()=>qP,findNodesForProperty:()=>BP,getActionAtElement:()=>Agt,getActionType:()=>Mgt,getAllReachableRules:()=>s4,getCrossReferenceTerminal:()=>FP,getEntryRule:()=>kgt,getExplicitRuleType:()=>ny,getHiddenRules:()=>Cgt,getRuleType:()=>WP,getRuleTypeName:()=>EQt,getTypeName:()=>c4,isArrayCardinality:()=>_Qt,isArrayOperator:()=>wQt,isCommentTerminal:()=>PP,isDataType:()=>TQt,isDataTypeRule:()=>u4,isOptionalCardinality:()=>bQt,terminalRegex:()=>ay});function kgt(e){return e.rules.find(t=>Io(t)&&t.entry)}function Cgt(e){return e.rules.filter(t=>pl(t)&&t.hidden)}function s4(e,t){let r=new Set,n=kgt(e);if(!n)return new Set(e.rules);let a=[n].concat(Cgt(e));for(let o of a)Sgt(o,r,t);let i=new Set;for(let o of e.rules)(r.has(o.name)||pl(o)&&o.hidden)&&i.add(o);return i}function Sgt(e,t,r){t.add(e.name),nf(e).forEach(n=>{if(Wu(n)||r&&BS(n)){let a=n.rule.ref;a&&!t.has(a.name)&&Sgt(a,t,r)}})}function FP(e){if(e.terminal)return e.terminal;if(e.type.ref){let t=VS(e.type.ref);return t?.terminal}}function PP(e){return e.hidden&&!ey(ay(e))}function BP(e,t){return!e||!t?[]:$P(e,t,e.astNode,!0)}function l4(e,t,r){if(!e||!t)return;let n=$P(e,t,e.astNode,!0);if(n.length!==0)return r!==void 0?r=Math.max(0,Math.min(r,n.length-1)):r=0,n[r]}function $P(e,t,r,n){if(!n){let a=dm(e.grammarSource,Uu);if(a&&a.feature===t)return[e]}return $u(e)&&e.astNode===r?e.content.flatMap(a=>$P(a,t,r,!1)):[]}function xQt(e,t){return e?qP(e,t,e?.astNode):[]}function zP(e,t,r){if(!e)return;let n=qP(e,t,e?.astNode);if(n.length!==0)return r!==void 0?r=Math.max(0,Math.min(r,n.length-1)):r=0,n[r]}function qP(e,t,r){if(e.astNode!==r)return[];if(ru(e.grammarSource)&&e.grammarSource.value===t)return[e];let n=lm(e).iterator(),a,i=[];do if(a=n.next(),!a.done){let o=a.value;o.astNode===r?ru(o.grammarSource)&&o.grammarSource.value===t&&i.push(o):n.prune()}while(!a.done);return i}function UP(e){var t;let r=e.astNode;for(;r===((t=e.container)===null||t===void 0?void 0:t.astNode);){let n=dm(e.grammarSource,Uu);if(n)return n;e=e.container}}function VS(e){let t=e;return NS(t)&&(lh(t.$container)?t=t.$container.$container:Io(t.$container)?t=t.$container:ef(t.$container)),Dgt(e,t,new Map)}function Dgt(e,t,r){var n;function a(i,o){let s;return dm(i,Uu)||(s=Dgt(o,o,r)),r.set(e,s),s}if(r.has(e))return r.get(e);r.set(e,void 0);for(let i of nf(t)){if(Uu(i)&&i.feature.toLowerCase()==="name")return r.set(e,i),i;if(Wu(i)&&Io(i.rule.ref))return a(i,i.rule.ref);if(FS(i)&&(!((n=i.typeRef)===null||n===void 0)&&n.ref))return a(i,i.typeRef.ref)}}function Agt(e){let t=e.$container;if(op(t)){let r=t.elements,n=r.indexOf(e);for(let a=n-1;a>=0;a--){let i=r[a];if(lh(i))return i;{let o=nf(r[a]).find(lh);if(o)return o}}}if(Z_(t))return Agt(t)}function bQt(e,t){return e==="?"||e==="*"||op(t)&&!!t.guardCondition}function _Qt(e){return e==="*"||e==="+"}function wQt(e){return e==="+="}function u4(e){return Lgt(e,new Set)}function Lgt(e,t){if(t.has(e))return!0;t.add(e);for(let r of nf(e))if(Wu(r)){if(!r.rule.ref||Io(r.rule.ref)&&!Lgt(r.rule.ref,t))return!1}else{if(Uu(r))return!1;if(lh(r))return!1}return!!e.definition}function TQt(e){return OP(e.type,new Set)}function OP(e,t){if(t.has(e))return!0;if(t.add(e),oP(e))return!1;if(hP(e))return!1;if(pP(e))return e.types.every(r=>OP(r,t));if(FS(e)){if(e.primitiveType!==void 0)return!0;if(e.stringType!==void 0)return!0;if(e.typeRef!==void 0){let r=e.typeRef.ref;return J_(r)?OP(r.type,t):!1}else return!1}else return!1}function ny(e){if(e.inferredType)return e.inferredType.name;if(e.dataType)return e.dataType;if(e.returnType){let t=e.returnType.ref;if(t){if(Io(t))return t.name;if(OS(t)||J_(t))return t.name}}}function c4(e){var t;if(Io(e))return u4(e)?e.name:(t=ny(e))!==null&&t!==void 0?t:e.name;if(OS(e)||J_(e)||dP(e))return e.name;if(lh(e)){let r=Mgt(e);if(r)return r}else if(NS(e))return e.name;throw new Error("Cannot get name of Unknown Type")}function Mgt(e){var t;if(e.inferredType)return e.inferredType.name;if(!((t=e.type)===null||t===void 0)&&t.ref)return c4(e.type.ref)}function EQt(e){var t,r,n;return pl(e)?(r=(t=e.type)===null||t===void 0?void 0:t.name)!==null&&r!==void 0?r:"string":u4(e)?e.name:(n=ny(e))!==null&&n!==void 0?n:e.name}function WP(e){var t,r,n;return pl(e)?(r=(t=e.type)===null||t===void 0?void 0:t.name)!==null&&r!==void 0?r:"string":(n=ny(e))!==null&&n!==void 0?n:e.name}function ay(e){let t={s:!1,i:!1,u:!1},r=iy(e.definition,t),n=Object.entries(t).filter(([,a])=>a).map(([a])=>a).join("");return new RegExp(r,n)}function iy(e,t){if(xP(e))return kQt(e);if(bP(e))return CQt(e);if(mP(e))return AQt(e);if(BS(e)){let r=e.rule.ref;if(!r)throw new Error("Missing rule reference.");return uh(iy(r.definition),{cardinality:e.cardinality,lookahead:e.lookahead})}else{if(vP(e))return DQt(e);if(_P(e))return SQt(e);if(yP(e)){let r=e.regex.lastIndexOf("/"),n=e.regex.substring(1,r),a=e.regex.substring(r+1);return t&&(t.i=a.includes("i"),t.s=a.includes("s"),t.u=a.includes("u")),uh(n,{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1})}else{if(wP(e))return uh(GP,{cardinality:e.cardinality,lookahead:e.lookahead});throw new Error(`Invalid terminal element: ${e?.$type}`)}}}function kQt(e){return uh(e.elements.map(t=>iy(t)).join("|"),{cardinality:e.cardinality,lookahead:e.lookahead})}function CQt(e){return uh(e.elements.map(t=>iy(t)).join(""),{cardinality:e.cardinality,lookahead:e.lookahead})}function SQt(e){return uh(`${GP}*?${iy(e.terminal)}`,{cardinality:e.cardinality,lookahead:e.lookahead})}function DQt(e){return uh(`(?!${iy(e.terminal)})${GP}*?`,{cardinality:e.cardinality,lookahead:e.lookahead})}function AQt(e){return e.right?uh(`[${NP(e.left)}-${NP(e.right)}]`,{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1}):uh(NP(e.left),{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1})}function NP(e){return vm(e.value)}function uh(e,t){var r;return(t.wrap!==!1||t.lookahead)&&(e=`(${(r=t.lookahead)!==null&&r!==void 0?r:""}${e})`),t.cardinality?`${e}${t.cardinality}`:e}var GP,Gu=B(()=>{IS();rf();zu();ss();qu();ry();GP=/[\s\S]/.source});function VP(e){let t=[],r=e.Grammar;for(let n of r.rules)pl(n)&&PP(n)&&MP(ay(n))&&t.push(n.name);return{multilineCommentRules:t,nameRegexp:LS}}var HP=B(()=>{qu();Gu();ry();rf()});var YP=B(()=>{});function oy(e){console&&console.error&&console.error(`Error: ${e}`)}function f4(e){console&&console.warn&&console.warn(`Warning: ${e}`)}var Igt=B(()=>{});function h4(e){let t=new Date().getTime(),r=e();return{time:new Date().getTime()-t,value:r}}var Rgt=B(()=>{});function d4(e){function t(){}t.prototype=e;let r=new t;function n(){return typeof r.bar}return n(),n(),e;(0,eval)(e)}var Ngt=B(()=>{});var sy=B(()=>{Igt();Rgt();Ngt()});function LQt(e){return MQt(e)?e.LABEL:e.name}function MQt(e){return Qa(e.LABEL)&&e.LABEL!==""}function YS(e){return Zt(e,ly)}function ly(e){function t(r){return Zt(r,ly)}if(e instanceof Ln){let r={type:"NonTerminal",name:e.nonTerminalName,idx:e.idx};return Qa(e.label)&&(r.label=e.label),r}else{if(e instanceof ia)return{type:"Alternative",definition:t(e.definition)};if(e instanceof Mn)return{type:"Option",idx:e.idx,definition:t(e.definition)};if(e instanceof oa)return{type:"RepetitionMandatory",idx:e.idx,definition:t(e.definition)};if(e instanceof sa)return{type:"RepetitionMandatoryWithSeparator",idx:e.idx,separator:ly(new Cr({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof Xn)return{type:"RepetitionWithSeparator",idx:e.idx,separator:ly(new Cr({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof Xr)return{type:"Repetition",idx:e.idx,definition:t(e.definition)};if(e instanceof jn)return{type:"Alternation",idx:e.idx,definition:t(e.definition)};if(e instanceof Cr){let r={type:"Terminal",name:e.terminalType.name,label:LQt(e.terminalType),idx:e.idx};Qa(e.label)&&(r.terminalLabel=e.label);let n=e.terminalType.PATTERN;return e.terminalType.PATTERN&&(r.pattern=zl(n)?n.source:n),r}else{if(e instanceof ls)return{type:"Rule",name:e.name,orgText:e.orgText,definition:t(e.definition)};throw Error("non exhaustive match")}}}var ml,Ln,ls,ia,Mn,oa,sa,Xr,Xn,jn,Cr,XS=B(()=>{We();ml=class{get definition(){return this._definition}set definition(t){this._definition=t}constructor(t){this._definition=t}accept(t){t.visit(this),Ct(this.definition,r=>{r.accept(t)})}},Ln=class extends ml{constructor(t){super([]),this.idx=1,no(this,Bs(t,r=>r!==void 0))}set definition(t){}get definition(){return this.referencedRule!==void 0?this.referencedRule.definition:[]}accept(t){t.visit(this)}},ls=class extends ml{constructor(t){super(t.definition),this.orgText="",no(this,Bs(t,r=>r!==void 0))}},ia=class extends ml{constructor(t){super(t.definition),this.ignoreAmbiguities=!1,no(this,Bs(t,r=>r!==void 0))}},Mn=class extends ml{constructor(t){super(t.definition),this.idx=1,no(this,Bs(t,r=>r!==void 0))}},oa=class extends ml{constructor(t){super(t.definition),this.idx=1,no(this,Bs(t,r=>r!==void 0))}},sa=class extends ml{constructor(t){super(t.definition),this.idx=1,no(this,Bs(t,r=>r!==void 0))}},Xr=class extends ml{constructor(t){super(t.definition),this.idx=1,no(this,Bs(t,r=>r!==void 0))}},Xn=class extends ml{constructor(t){super(t.definition),this.idx=1,no(this,Bs(t,r=>r!==void 0))}},jn=class extends ml{get definition(){return this._definition}set definition(t){this._definition=t}constructor(t){super(t.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,no(this,Bs(t,r=>r!==void 0))}},Cr=class{constructor(t){this.idx=1,no(this,Bs(t,r=>r!==void 0))}accept(t){t.visit(this)}}});var us,Ogt=B(()=>{XS();us=class{visit(t){let r=t;switch(r.constructor){case Ln:return this.visitNonTerminal(r);case ia:return this.visitAlternative(r);case Mn:return this.visitOption(r);case oa:return this.visitRepetitionMandatory(r);case sa:return this.visitRepetitionMandatoryWithSeparator(r);case Xn:return this.visitRepetitionWithSeparator(r);case Xr:return this.visitRepetition(r);case jn:return this.visitAlternation(r);case Cr:return this.visitTerminal(r);case ls:return this.visitRule(r);default:throw Error("non exhaustive match")}}visitNonTerminal(t){}visitAlternative(t){}visitOption(t){}visitRepetition(t){}visitRepetitionMandatory(t){}visitRepetitionMandatoryWithSeparator(t){}visitRepetitionWithSeparator(t){}visitAlternation(t){}visitTerminal(t){}visitRule(t){}}});function XP(e){return e instanceof ia||e instanceof Mn||e instanceof Xr||e instanceof oa||e instanceof sa||e instanceof Xn||e instanceof Cr||e instanceof ls}function ym(e,t=[]){return e instanceof Mn||e instanceof Xr||e instanceof Xn?!0:e instanceof jn?Xb(e.definition,n=>ym(n,t)):e instanceof Ln&&ba(t,e)?!1:e instanceof ml?(e instanceof Ln&&t.push(e),Co(e.definition,n=>ym(n,t))):!1}function jP(e){return e instanceof jn}function Gs(e){if(e instanceof Ln)return"SUBRULE";if(e instanceof Mn)return"OPTION";if(e instanceof jn)return"OR";if(e instanceof oa)return"AT_LEAST_ONE";if(e instanceof sa)return"AT_LEAST_ONE_SEP";if(e instanceof Xn)return"MANY_SEP";if(e instanceof Xr)return"MANY";if(e instanceof Cr)return"CONSUME";throw Error("non exhaustive match")}var Fgt=B(()=>{We();XS()});var cs=B(()=>{XS();Ogt();Fgt()});function Pgt(e,t,r){return[new Mn({definition:[new Cr({terminalType:e.separator})].concat(e.definition)})].concat(t,r)}var ch,jS=B(()=>{We();cs();ch=class{walk(t,r=[]){Ct(t.definition,(n,a)=>{let i=Ka(t.definition,a+1);if(n instanceof Ln)this.walkProdRef(n,i,r);else if(n instanceof Cr)this.walkTerminal(n,i,r);else if(n instanceof ia)this.walkFlat(n,i,r);else if(n instanceof Mn)this.walkOption(n,i,r);else if(n instanceof oa)this.walkAtLeastOne(n,i,r);else if(n instanceof sa)this.walkAtLeastOneSep(n,i,r);else if(n instanceof Xn)this.walkManySep(n,i,r);else if(n instanceof Xr)this.walkMany(n,i,r);else if(n instanceof jn)this.walkOr(n,i,r);else throw Error("non exhaustive match")})}walkTerminal(t,r,n){}walkProdRef(t,r,n){}walkFlat(t,r,n){let a=r.concat(n);this.walk(t,a)}walkOption(t,r,n){let a=r.concat(n);this.walk(t,a)}walkAtLeastOne(t,r,n){let a=[new Mn({definition:t.definition})].concat(r,n);this.walk(t,a)}walkAtLeastOneSep(t,r,n){let a=Pgt(t,r,n);this.walk(t,a)}walkMany(t,r,n){let a=[new Mn({definition:t.definition})].concat(r,n);this.walk(t,a)}walkManySep(t,r,n){let a=Pgt(t,r,n);this.walk(t,a)}walkOr(t,r,n){let a=r.concat(n);Ct(t.definition,i=>{let o=new ia({definition:[i]});this.walk(o,a)})}}});function xm(e){if(e instanceof Ln)return xm(e.referencedRule);if(e instanceof Cr)return NQt(e);if(XP(e))return IQt(e);if(jP(e))return RQt(e);throw Error("non exhaustive match")}function IQt(e){let t=[],r=e.definition,n=0,a=r.length>n,i,o=!0;for(;a&&o;)i=r[n],o=ym(i),t=t.concat(xm(i)),n=n+1,a=r.length>n;return P1(t)}function RQt(e){let t=Zt(e.definition,r=>xm(r));return P1(vn(t))}function NQt(e){return[e.terminalType]}var KP=B(()=>{We();cs()});var KS,QP=B(()=>{KS="_~IN~_"});function Bgt(e){let t={};return Ct(e,r=>{let n=new ZP(r).startWalking();no(t,n)}),t}function OQt(e,t){return e.name+t+KS}var ZP,$gt=B(()=>{jS();KP();We();QP();cs();ZP=class extends ch{constructor(t){super(),this.topProd=t,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(t,r,n){}walkProdRef(t,r,n){let a=OQt(t.referencedRule,t.idx)+this.topProd.name,i=r.concat(n),o=new ia({definition:i}),s=xm(o);this.follows[a]=s}}});function uy(e){let t=e.toString();if(QS.hasOwnProperty(t))return QS[t];{let r=FQt.pattern(t);return QS[t]=r,r}}function zgt(){QS={}}var QS,FQt,ZS=B(()=>{o4();QS={},FQt=new mm});function Wgt(e,t=!1){try{let r=uy(e);return JP(r.value,{},r.flags.ignoreCase)}catch(r){if(r.message===Ugt)t&&f4(`${p4}	Unable to optimize: < ${e.toString()} >
	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let n="";t&&(n=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),oy(`${p4}
	Failed parsing: < ${e.toString()} >
	Using the @chevrotain/regexp-to-ast library
	Please open an issue at: https://github.com/chevrotain/chevrotain/issues`+n)}}return[]}function JP(e,t,r){switch(e.type){case"Disjunction":for(let a=0;a<e.value.length;a++)JP(e.value[a],t,r);break;case"Alternative":let n=e.value;for(let a=0;a<n.length;a++){let i=n[a];switch(i.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}let o=i;switch(o.type){case"Character":JS(o.value,t,r);break;case"Set":if(o.complement===!0)throw Error(Ugt);Ct(o.value,l=>{if(typeof l=="number")JS(l,t,r);else{let u=l;if(r===!0)for(let f=u.from;f<=u.to;f++)JS(f,t,r);else{for(let f=u.from;f<=u.to&&f<cy;f++)JS(f,t,r);if(u.to>=cy){let f=u.from>=cy?u.from:cy,h=u.to,d=of(f),p=of(h);for(let m=d;m<=p;m++)t[m]=m}}}});break;case"Group":JP(o.value,t,r);break;default:throw Error("Non Exhaustive Match")}let s=o.quantifier!==void 0&&o.quantifier.atLeast===0;if(o.type==="Group"&&tB(o)===!1||o.type!=="Group"&&s===!1)break}break;default:throw Error("non exhaustive match!")}return yr(t)}function JS(e,t,r){let n=of(e);t[n]=n,r===!0&&PQt(e,t)}function PQt(e,t){let r=String.fromCharCode(e),n=r.toUpperCase();if(n!==r){let a=of(n.charCodeAt(0));t[a]=a}else{let a=r.toLowerCase();if(a!==r){let i=of(a.charCodeAt(0));t[i]=i}}}function qgt(e,t){return rs(e.value,r=>{if(typeof r=="number")return ba(t,r);{let n=r;return rs(t,a=>n.from<=a&&a<=n.to)!==void 0}})}function tB(e){let t=e.quantifier;return t&&t.atLeast===0?!0:e.value?Ie(e.value)?Co(e.value,tB):tB(e.value):!1}function t6(e,t){if(t instanceof RegExp){let r=uy(t),n=new eB(e);return n.visit(r),n.found}else return rs(t,r=>ba(e,r.charCodeAt(0)))!==void 0}var Ugt,p4,eB,Ggt=B(()=>{o4();We();sy();ZS();rB();Ugt="Complement Sets are not supported for first char optimization",p4=`Unable to use "first char" lexer optimizations:
`;eB=class extends af{constructor(t){super(),this.targetCharCodes=t,this.found=!1}visitChildren(t){if(this.found!==!0){switch(t.type){case"Lookahead":this.visitLookahead(t);return;case"NegativeLookahead":this.visitNegativeLookahead(t);return}super.visitChildren(t)}}visitCharacter(t){ba(this.targetCharCodes,t.value)&&(this.found=!0)}visitSet(t){t.complement?qgt(t,this.targetCharCodes)===void 0&&(this.found=!0):qgt(t,this.targetCharCodes)!==void 0&&(this.found=!0)}}});function Ygt(e,t){t=Ad(t,{useSticky:aB,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:(b,_)=>_()});let r=t.tracer;r("initCharCodeToOptimizedIndexMap",()=>{eZt()});let n;r("Reject Lexer.NA",()=>{n=Md(e,b=>b[bm]===Ta.NA)});let a=!1,i;r("Transform Patterns",()=>{a=!1,i=Zt(n,b=>{let _=b[bm];if(zl(_)){let k=_.source;return k.length===1&&k!=="^"&&k!=="$"&&k!=="."&&!_.ignoreCase?k:k.length===2&&k[0]==="\\"&&!ba(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],k[1])?k[1]:t.useSticky?Hgt(_):Vgt(_)}else{if(ni(_))return a=!0,{exec:_};if(typeof _=="object")return a=!0,_;if(typeof _=="string"){if(_.length===1)return _;{let k=_.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),w=new RegExp(k);return t.useSticky?Hgt(w):Vgt(w)}}else throw Error("non exhaustive match")}})});let o,s,l,u,f;r("misc mapping",()=>{o=Zt(n,b=>b.tokenTypeIdx),s=Zt(n,b=>{let _=b.GROUP;if(_!==Ta.SKIPPED){if(Qa(_))return _;if(dr(_))return!1;throw Error("non exhaustive match")}}),l=Zt(n,b=>{let _=b.LONGER_ALT;if(_)return Ie(_)?Zt(_,w=>Uk(n,w)):[Uk(n,_)]}),u=Zt(n,b=>b.PUSH_MODE),f=Zt(n,b=>Re(b,"POP_MODE"))});let h;r("Line Terminator Handling",()=>{let b=e1t(t.lineTerminatorCharacters);h=Zt(n,_=>!1),t.positionTracking!=="onlyOffset"&&(h=Zt(n,_=>Re(_,"LINE_BREAKS")?!!_.LINE_BREAKS:t1t(_,b)===!1&&t6(b,_.PATTERN)))});let d,p,m,g;r("Misc Mapping #2",()=>{d=Zt(n,Zgt),p=Zt(i,JQt),m=xn(n,(b,_)=>{let k=_.GROUP;return Qa(k)&&k!==Ta.SKIPPED&&(b[k]=[]),b},{}),g=Zt(i,(b,_)=>({pattern:i[_],longerAlt:l[_],canLineTerminator:h[_],isCustom:d[_],short:p[_],group:s[_],push:u[_],pop:f[_],tokenTypeIdx:o[_],tokenType:n[_]}))});let v=!0,y=[];return t.safeMode||r("First Char Optimization",()=>{y=xn(n,(b,_,k)=>{if(typeof _.PATTERN=="string"){let w=_.PATTERN.charCodeAt(0),T=of(w);nB(b,T,g[k])}else if(Ie(_.START_CHARS_HINT)){let w;Ct(_.START_CHARS_HINT,T=>{let S=typeof T=="string"?T.charCodeAt(0):T,C=of(S);w!==C&&(w=C,nB(b,C,g[k]))})}else if(zl(_.PATTERN))if(_.PATTERN.unicode)v=!1,t.ensureOptimizations&&oy(`${p4}	Unable to analyze < ${_.PATTERN.toString()} > pattern.
	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{let w=Wgt(_.PATTERN,t.ensureOptimizations);cr(w)&&(v=!1),Ct(w,T=>{nB(b,T,g[k])})}else t.ensureOptimizations&&oy(`${p4}	TokenType: <${_.name}> is using a custom token pattern without providing <start_chars_hint> parameter.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),v=!1;return b},[])}),{emptyGroups:m,patternIdxToConfig:g,charCodeToPatternIdxToConfig:y,hasCustom:a,canBeOptimized:v}}function Xgt(e,t){let r=[],n=$Qt(e);r=r.concat(n.errors);let a=zQt(n.valid),i=a.valid;return r=r.concat(a.errors),r=r.concat(BQt(i)),r=r.concat(XQt(i)),r=r.concat(jQt(i,t)),r=r.concat(KQt(i)),r}function BQt(e){let t=[],r=yn(e,n=>zl(n[bm]));return t=t.concat(UQt(r)),t=t.concat(VQt(r)),t=t.concat(HQt(r)),t=t.concat(YQt(r)),t=t.concat(WQt(r)),t}function $Qt(e){let t=yn(e,a=>!Re(a,bm)),r=Zt(t,a=>({message:"Token Type: ->"+a.name+"<- missing static 'PATTERN' property",type:wa.MISSING_PATTERN,tokenTypes:[a]})),n=Ld(e,t);return{errors:r,valid:n}}function zQt(e){let t=yn(e,a=>{let i=a[bm];return!zl(i)&&!ni(i)&&!Re(i,"exec")&&!Qa(i)}),r=Zt(t,a=>({message:"Token Type: ->"+a.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:wa.INVALID_PATTERN,tokenTypes:[a]})),n=Ld(e,t);return{errors:r,valid:n}}function UQt(e){class t extends af{constructor(){super(...arguments),this.found=!1}visitEndAnchor(i){this.found=!0}}let r=yn(e,a=>{let i=a.PATTERN;try{let o=uy(i),s=new t;return s.visit(o),s.found}catch{return qQt.test(i.source)}});return Zt(r,a=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+a.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:wa.EOI_ANCHOR_FOUND,tokenTypes:[a]}))}function WQt(e){let t=yn(e,n=>n.PATTERN.test(""));return Zt(t,n=>({message:"Token Type: ->"+n.name+"<- static 'PATTERN' must not match an empty string",type:wa.EMPTY_MATCH_PATTERN,tokenTypes:[n]}))}function VQt(e){class t extends af{constructor(){super(...arguments),this.found=!1}visitStartAnchor(i){this.found=!0}}let r=yn(e,a=>{let i=a.PATTERN;try{let o=uy(i),s=new t;return s.visit(o),s.found}catch{return GQt.test(i.source)}});return Zt(r,a=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+a.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:wa.SOI_ANCHOR_FOUND,tokenTypes:[a]}))}function HQt(e){let t=yn(e,n=>{let a=n[bm];return a instanceof RegExp&&(a.multiline||a.global)});return Zt(t,n=>({message:"Token Type: ->"+n.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:wa.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[n]}))}function YQt(e){let t=[],r=Zt(e,i=>xn(e,(o,s)=>(i.PATTERN.source===s.PATTERN.source&&!ba(t,s)&&s.PATTERN!==Ta.NA&&(t.push(s),o.push(s)),o),[]));r=Bc(r);let n=yn(r,i=>i.length>1);return Zt(n,i=>{let o=Zt(i,l=>l.name);return{message:`The same RegExp pattern ->${Ni(i).PATTERN}<-has been used in all of the following Token Types: ${o.join(", ")} <-`,type:wa.DUPLICATE_PATTERNS_FOUND,tokenTypes:i}})}function XQt(e){let t=yn(e,n=>{if(!Re(n,"GROUP"))return!1;let a=n.GROUP;return a!==Ta.SKIPPED&&a!==Ta.NA&&!Qa(a)});return Zt(t,n=>({message:"Token Type: ->"+n.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:wa.INVALID_GROUP_TYPE_FOUND,tokenTypes:[n]}))}function jQt(e,t){let r=yn(e,a=>a.PUSH_MODE!==void 0&&!ba(t,a.PUSH_MODE));return Zt(r,a=>({message:`Token Type: ->${a.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${a.PUSH_MODE}<-which does not exist`,type:wa.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[a]}))}function KQt(e){let t=[],r=xn(e,(n,a,i)=>{let o=a.PATTERN;return o===Ta.NA||(Qa(o)?n.push({str:o,idx:i,tokenType:a}):zl(o)&&ZQt(o)&&n.push({str:o.source,idx:i,tokenType:a})),n},[]);return Ct(e,(n,a)=>{Ct(r,({str:i,idx:o,tokenType:s})=>{if(a<o&&QQt(i,n.PATTERN)){let l=`Token: ->${s.name}<- can never be matched.
Because it appears AFTER the Token Type ->${n.name}<-in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;t.push({message:l,type:wa.UNREACHABLE_PATTERN,tokenTypes:[n,s]})}})}),t}function QQt(e,t){if(zl(t)){let r=t.exec(e);return r!==null&&r.index===0}else{if(ni(t))return t(e,0,[],{});if(Re(t,"exec"))return t.exec(e,0,[],{});if(typeof t=="string")return t===e;throw Error("non exhaustive match")}}function ZQt(e){return rs([".","\\","[","]","|","^","$","(",")","?","*","+","{"],r=>e.source.indexOf(r)!==-1)===void 0}function Vgt(e){let t=e.ignoreCase?"i":"";return new RegExp(`^(?:${e.source})`,t)}function Hgt(e){let t=e.ignoreCase?"iy":"y";return new RegExp(`${e.source}`,t)}function jgt(e,t,r){let n=[];return Re(e,fy)||n.push({message:"A MultiMode Lexer cannot be initialized without a <"+fy+`> property in its definition
`,type:wa.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),Re(e,e6)||n.push({message:"A MultiMode Lexer cannot be initialized without a <"+e6+`> property in its definition
`,type:wa.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),Re(e,e6)&&Re(e,fy)&&!Re(e.modes,e.defaultMode)&&n.push({message:`A MultiMode Lexer cannot be initialized with a ${fy}: <${e.defaultMode}>which does not exist
`,type:wa.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),Re(e,e6)&&Ct(e.modes,(a,i)=>{Ct(a,(o,s)=>{if(dr(o))n.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${i}> at index: <${s}>
`,type:wa.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(Re(o,"LONGER_ALT")){let l=Ie(o.LONGER_ALT)?o.LONGER_ALT:[o.LONGER_ALT];Ct(l,u=>{!dr(u)&&!ba(a,u)&&n.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${u.name}> on token <${o.name}> outside of mode <${i}>
`,type:wa.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),n}function Kgt(e,t,r){let n=[],a=!1,i=Bc(vn(yr(e.modes))),o=Md(i,l=>l[bm]===Ta.NA),s=e1t(r);return t&&Ct(o,l=>{let u=t1t(l,s);if(u!==!1){let h={message:tZt(l,u),type:u.issue,tokenType:l};n.push(h)}else Re(l,"LINE_BREAKS")?l.LINE_BREAKS===!0&&(a=!0):t6(s,l.PATTERN)&&(a=!0)}),t&&!a&&n.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:wa.NO_LINE_BREAKS_FLAGS}),n}function Qgt(e){let t={},r=sn(e);return Ct(r,n=>{let a=e[n];if(Ie(a))t[n]=[];else throw Error("non exhaustive match")}),t}function Zgt(e){let t=e.PATTERN;if(zl(t))return!1;if(ni(t))return!0;if(Re(t,"exec"))return!0;if(Qa(t))return!1;throw Error("non exhaustive match")}function JQt(e){return Qa(e)&&e.length===1?e.charCodeAt(0):!1}function t1t(e,t){if(Re(e,"LINE_BREAKS"))return!1;if(zl(e.PATTERN)){try{t6(t,e.PATTERN)}catch(r){return{issue:wa.IDENTIFY_TERMINATOR,errMsg:r.message}}return!1}else{if(Qa(e.PATTERN))return!1;if(Zgt(e))return{issue:wa.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}}function tZt(e,t){if(t.issue===wa.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
	The problem is in the <${e.name}> Token Type
	 Root cause: ${t.errMsg}.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(t.issue===wa.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
	The problem is in the <${e.name}> Token Type
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}function e1t(e){return Zt(e,r=>Qa(r)?r.charCodeAt(0):r)}function nB(e,t,r){e[t]===void 0?e[t]=[r]:e[t].push(r)}function of(e){return e<cy?e:r6[e]}function eZt(){if(cr(r6)){r6=new Array(65536);for(let e=0;e<65536;e++)r6[e]=e>255?255+~~(e/255):e}}var bm,fy,e6,aB,qQt,GQt,Jgt,cy,r6,rB=B(()=>{o4();m4();We();sy();Ggt();ZS();bm="PATTERN",fy="defaultMode",e6="modes",aB=typeof new RegExp("(?:)").sticky=="boolean";qQt=/[^\\][$]/;GQt=/[^\\[][\^]|^\^/;Jgt={test:function(e){let t=e.length;for(let r=this.lastIndex;r<t;r++){let n=e.charCodeAt(r);if(n===10)return this.lastIndex=r+1,!0;if(n===13)return e.charCodeAt(r+1)===10?this.lastIndex=r+2:this.lastIndex=r+1,!0}return!1},lastIndex:0};cy=256,r6=[]});function fh(e,t){let r=e.tokenTypeIdx;return r===t.tokenTypeIdx?!0:t.isParent===!0&&t.categoryMatchesMap[r]===!0}function hy(e,t){return e.tokenTypeIdx===t.tokenTypeIdx}function hh(e){let t=rZt(e);nZt(t),iZt(t),aZt(t),Ct(t,r=>{r.isParent=r.categoryMatches.length>0})}function rZt(e){let t=Cn(e),r=e,n=!0;for(;n;){r=Bc(vn(Zt(r,i=>i.CATEGORIES)));let a=Ld(r,t);t=t.concat(a),cr(a)?n=!1:r=a}return t}function nZt(e){Ct(e,t=>{iB(t)||(a1t[r1t]=t,t.tokenTypeIdx=r1t++),n1t(t)&&!Ie(t.CATEGORIES)&&(t.CATEGORIES=[t.CATEGORIES]),n1t(t)||(t.CATEGORIES=[]),oZt(t)||(t.categoryMatches=[]),sZt(t)||(t.categoryMatchesMap={})})}function aZt(e){Ct(e,t=>{t.categoryMatches=[],Ct(t.categoryMatchesMap,(r,n)=>{t.categoryMatches.push(a1t[n].tokenTypeIdx)})})}function iZt(e){Ct(e,t=>{i1t([],t)})}function i1t(e,t){Ct(e,r=>{t.categoryMatchesMap[r.tokenTypeIdx]=!0}),Ct(t.CATEGORIES,r=>{let n=e.concat(t);ba(n,r)||i1t(n,r)})}function iB(e){return Re(e,"tokenTypeIdx")}function n1t(e){return Re(e,"CATEGORIES")}function oZt(e){return Re(e,"categoryMatches")}function sZt(e){return Re(e,"categoryMatchesMap")}function o1t(e){return Re(e,"tokenTypeIdx")}var r1t,a1t,_m=B(()=>{We();r1t=1,a1t={}});var dy,oB=B(()=>{dy={buildUnableToPopLexerModeMessage(e){return`Unable to pop Lexer Mode after encountering Token ->${e.image}<- The Mode Stack is empty`},buildUnexpectedCharactersMessage(e,t,r,n,a){return`unexpected character: ->${e.charAt(t)}<- at offset: ${t}, skipped ${r} characters.`}}});var wa,g4,Ta,m4=B(()=>{rB();We();sy();_m();oB();ZS();(function(e){e[e.MISSING_PATTERN=0]="MISSING_PATTERN",e[e.INVALID_PATTERN=1]="INVALID_PATTERN",e[e.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",e[e.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",e[e.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",e[e.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",e[e.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",e[e.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",e[e.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",e[e.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",e[e.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",e[e.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",e[e.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",e[e.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",e[e.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",e[e.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",e[e.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",e[e.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"})(wa||(wa={}));g4={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:dy,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(g4);Ta=class{constructor(t,r=g4){if(this.lexerDefinition=t,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(a,i)=>{if(this.traceInitPerf===!0){this.traceInitIndent++;let o=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${o}--> <${a}>`);let{time:s,value:l}=h4(i),u=s>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&u(`${o}<-- <${a}> time: ${s}ms`),this.traceInitIndent--,l}else return i()},typeof r=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=no({},g4,r);let n=this.config.traceInitPerf;n===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof n=="number"&&(this.traceInitMaxIdent=n,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let a,i=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===g4.lineTerminatorsPattern)this.config.lineTerminatorsPattern=Jgt;else if(this.config.lineTerminatorCharacters===g4.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(r.safeMode&&r.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),Ie(t)?a={modes:{defaultMode:Cn(t)},defaultMode:fy}:(i=!1,a=Cn(t))}),this.config.skipValidations===!1&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(jgt(a,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(Kgt(a,this.trackStartLines,this.config.lineTerminatorCharacters))})),a.modes=a.modes?a.modes:{},Ct(a.modes,(s,l)=>{a.modes[l]=Md(s,u=>dr(u))});let o=sn(a.modes);if(Ct(a.modes,(s,l)=>{this.TRACE_INIT(`Mode: <${l}> processing`,()=>{if(this.modes.push(l),this.config.skipValidations===!1&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(Xgt(s,o))}),cr(this.lexerDefinitionErrors)){hh(s);let u;this.TRACE_INIT("analyzeTokenTypes",()=>{u=Ygt(s,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:r.positionTracking,ensureOptimizations:r.ensureOptimizations,safeMode:r.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[l]=u.patternIdxToConfig,this.charCodeToPatternIdxToConfig[l]=u.charCodeToPatternIdxToConfig,this.emptyGroups=no({},this.emptyGroups,u.emptyGroups),this.hasCustom=u.hasCustom||this.hasCustom,this.canModeBeOptimized[l]=u.canBeOptimized}})}),this.defaultMode=a.defaultMode,!cr(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){let l=Zt(this.lexerDefinitionErrors,u=>u.message).join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+l)}Ct(this.lexerDefinitionWarning,s=>{f4(s.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(aB?(this.chopInput=Ri,this.match=this.matchWithTest):(this.updateLastIndex=Oa,this.match=this.matchWithExec),i&&(this.handleModes=Oa),this.trackStartLines===!1&&(this.computeNewColumn=Ri),this.trackEndLines===!1&&(this.updateTokenEndLineColumnLocation=Oa),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else if(/onlyOffset/i.test(this.config.positionTracking))this.createTokenInstance=this.createOffsetOnlyToken;else throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{let s=xn(this.canModeBeOptimized,(l,u,f)=>(u===!1&&l.push(f),l),[]);if(r.ensureOptimizations&&!cr(s))throw Error(`Lexer Modes: < ${s.join(", ")} > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{zgt()}),this.TRACE_INIT("toFastProperties",()=>{d4(this)})})}tokenize(t,r=this.defaultMode){if(!cr(this.lexerDefinitionErrors)){let a=Zt(this.lexerDefinitionErrors,i=>i.message).join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+a)}return this.tokenizeInternal(t,r)}tokenizeInternal(t,r){let n,a,i,o,s,l,u,f,h,d,p,m,g,v,y,b,_=t,k=_.length,w=0,T=0,S=this.hasCustom?0:Math.floor(t.length/10),C=new Array(S),M=[],N=this.trackStartLines?1:void 0,L=this.trackStartLines?1:void 0,E=Qgt(this.emptyGroups),A=this.trackStartLines,D=this.config.lineTerminatorsPattern,R=0,I=[],O=[],F=[],P=[];Object.freeze(P);let q;function $(){return I}function W(Z){let ct=of(Z),rt=O[ct];return rt===void 0?P:rt}let X=Z=>{if(F.length===1&&Z.tokenType.PUSH_MODE===void 0){let ct=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(Z);M.push({offset:Z.startOffset,line:Z.startLine,column:Z.startColumn,length:Z.image.length,message:ct})}else{F.pop();let ct=ao(F);I=this.patternIdxToConfig[ct],O=this.charCodeToPatternIdxToConfig[ct],R=I.length;let rt=this.canModeBeOptimized[ct]&&this.config.safeMode===!1;O&&rt?q=W:q=$}};function tt(Z){F.push(Z),O=this.charCodeToPatternIdxToConfig[Z],I=this.patternIdxToConfig[Z],R=I.length,R=I.length;let ct=this.canModeBeOptimized[Z]&&this.config.safeMode===!1;O&&ct?q=W:q=$}tt.call(this,r);let Y,ot=this.config.recoveryEnabled;for(;w<k;){l=null;let Z=_.charCodeAt(w),ct=q(Z),rt=ct.length;for(n=0;n<rt;n++){Y=ct[n];let et=Y.pattern;u=null;let Q=Y.short;if(Q!==!1?Z===Q&&(l=et):Y.isCustom===!0?(b=et.exec(_,w,C,E),b!==null?(l=b[0],b.payload!==void 0&&(u=b.payload)):l=null):(this.updateLastIndex(et,w),l=this.match(et,t,w)),l!==null){if(s=Y.longerAlt,s!==void 0){let j=s.length;for(i=0;i<j;i++){let it=I[s[i]],K=it.pattern;if(f=null,it.isCustom===!0?(b=K.exec(_,w,C,E),b!==null?(o=b[0],b.payload!==void 0&&(f=b.payload)):o=null):(this.updateLastIndex(K,w),o=this.match(K,t,w)),o&&o.length>l.length){l=o,u=f,Y=it;break}}}break}}if(l!==null){if(h=l.length,d=Y.group,d!==void 0&&(p=Y.tokenTypeIdx,m=this.createTokenInstance(l,w,p,Y.tokenType,N,L,h),this.handlePayload(m,u),d===!1?T=this.addToken(C,T,m):E[d].push(m)),t=this.chopInput(t,h),w=w+h,L=this.computeNewColumn(L,h),A===!0&&Y.canLineTerminator===!0){let et=0,Q,j;D.lastIndex=0;do Q=D.test(l),Q===!0&&(j=D.lastIndex-1,et++);while(Q===!0);et!==0&&(N=N+et,L=h-j,this.updateTokenEndLineColumnLocation(m,d,j,et,N,L,h))}this.handleModes(Y,X,tt,m)}else{let et=w,Q=N,j=L,it=ot===!1;for(;it===!1&&w<k;)for(t=this.chopInput(t,1),w++,a=0;a<R;a++){let K=I[a],dt=K.pattern,nt=K.short;if(nt!==!1?_.charCodeAt(w)===nt&&(it=!0):K.isCustom===!0?it=dt.exec(_,w,C,E)!==null:(this.updateLastIndex(dt,w),it=dt.exec(t)!==null),it===!0)break}if(g=w-et,L=this.computeNewColumn(L,g),y=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(_,et,g,Q,j),M.push({offset:et,line:Q,column:j,length:g,message:y}),ot===!1)break}}return this.hasCustom||(C.length=T),{tokens:C,groups:E,errors:M}}handleModes(t,r,n,a){if(t.pop===!0){let i=t.push;r(a),i!==void 0&&n.call(this,i)}else t.push!==void 0&&n.call(this,t.push)}chopInput(t,r){return t.substring(r)}updateLastIndex(t,r){t.lastIndex=r}updateTokenEndLineColumnLocation(t,r,n,a,i,o,s){let l,u;r!==void 0&&(l=n===s-1,u=l?-1:0,a===1&&l===!0||(t.endLine=i+u,t.endColumn=o-1+-u))}computeNewColumn(t,r){return t+r}createOffsetOnlyToken(t,r,n,a){return{image:t,startOffset:r,tokenTypeIdx:n,tokenType:a}}createStartOnlyToken(t,r,n,a,i,o){return{image:t,startOffset:r,startLine:i,startColumn:o,tokenTypeIdx:n,tokenType:a}}createFullToken(t,r,n,a,i,o,s){return{image:t,startOffset:r,endOffset:r+s-1,startLine:i,endLine:i,startColumn:o,endColumn:o+s-1,tokenTypeIdx:n,tokenType:a}}addTokenUsingPush(t,r,n){return t.push(n),r}addTokenUsingMemberAccess(t,r,n){return t[r]=n,r++,r}handlePayloadNoCustom(t,r){}handlePayloadWithCustom(t,r){r!==null&&(t.payload=r)}matchWithTest(t,r,n){return t.test(r)===!0?r.substring(n,t.lastIndex):null}matchWithExec(t,r){let n=t.exec(r);return n!==null?n[0]:null}};Ta.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.";Ta.NA=/NOT_APPLICABLE/});function dh(e){return sB(e)?e.LABEL:e.name}function sB(e){return Qa(e.LABEL)&&e.LABEL!==""}function sp(e){return uZt(e)}function uZt(e){let t=e.pattern,r={};if(r.name=e.name,dr(t)||(r.PATTERN=t),Re(e,lZt))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return Re(e,s1t)&&(r.CATEGORIES=e[s1t]),hh([r]),Re(e,l1t)&&(r.LABEL=e[l1t]),Re(e,u1t)&&(r.GROUP=e[u1t]),Re(e,f1t)&&(r.POP_MODE=e[f1t]),Re(e,c1t)&&(r.PUSH_MODE=e[c1t]),Re(e,h1t)&&(r.LONGER_ALT=e[h1t]),Re(e,d1t)&&(r.LINE_BREAKS=e[d1t]),Re(e,p1t)&&(r.START_CHARS_HINT=e[p1t]),r}function ph(e,t,r,n,a,i,o,s){return{image:t,startOffset:r,endOffset:n,startLine:a,endLine:i,startColumn:o,endColumn:s,tokenTypeIdx:e.tokenTypeIdx,tokenType:e}}function v4(e,t){return fh(e,t)}var lZt,s1t,l1t,u1t,c1t,f1t,h1t,d1t,p1t,gl,wm=B(()=>{We();m4();_m();lZt="parent",s1t="categories",l1t="label",u1t="group",c1t="push_mode",f1t="pop_mode",h1t="longer_alt",d1t="line_breaks",p1t="start_chars_hint";gl=sp({name:"EOF",pattern:Ta.NA});hh([gl])});var mh,m1t,Vu,py=B(()=>{wm();We();cs();mh={buildMismatchTokenMessage({expected:e,actual:t,previous:r,ruleName:n}){return`Expecting ${sB(e)?`--> ${dh(e)} <--`:`token of type --> ${e.name} <--`} but found --> '${t.image}' <--`},buildNotAllInputParsedMessage({firstRedundant:e,ruleName:t}){return"Redundant input, expecting EOF but found: "+e.image},buildNoViableAltMessage({expectedPathsPerAlt:e,actual:t,previous:r,customUserDescription:n,ruleName:a}){let i="Expecting: ",s=`
but found: '`+Ni(t).image+"'";if(n)return i+n+s;{let l=xn(e,(d,p)=>d.concat(p),[]),u=Zt(l,d=>`[${Zt(d,p=>dh(p)).join(", ")}]`),h=`one of these possible Token sequences:
${Zt(u,(d,p)=>`  ${p+1}. ${d}`).join(`
`)}`;return i+h+s}},buildEarlyExitMessage({expectedIterationPaths:e,actual:t,customUserDescription:r,ruleName:n}){let a="Expecting: ",o=`
but found: '`+Ni(t).image+"'";if(r)return a+r+o;{let l=`expecting at least one iteration which starts with one of these possible Token sequences::
  <${Zt(e,u=>`[${Zt(u,f=>dh(f)).join(",")}]`).join(" ,")}>`;return a+l+o}}};Object.freeze(mh);m1t={buildRuleNotFoundError(e,t){return"Invalid grammar, reference to a rule which is not defined: ->"+t.nonTerminalName+`<-
inside top level rule: ->`+e.name+"<-"}},Vu={buildDuplicateFoundError(e,t){function r(f){return f instanceof Cr?f.terminalType.name:f instanceof Ln?f.nonTerminalName:""}let n=e.name,a=Ni(t),i=a.idx,o=Gs(a),s=r(a),l=i>0,u=`->${o}${l?i:""}<- ${s?`with argument: ->${s}<-`:""}
                  appears more than once (${t.length} times) in the top level rule: ->${n}<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return u=u.replace(/[ \t]+/g," "),u=u.replace(/\s\s+/g,`
`),u},buildNamespaceConflictError(e){return`Namespace conflict found in grammar.
The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${e.name}>.
To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`},buildAlternationPrefixAmbiguityError(e){let t=Zt(e.prefixPath,a=>dh(a)).join(", "),r=e.alternation.idx===0?"":e.alternation.idx;return`Ambiguous alternatives: <${e.ambiguityIndices.join(" ,")}> due to common lookahead prefix
in <OR${r}> inside <${e.topLevelRule.name}> Rule,
<${t}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`},buildAlternationAmbiguityError(e){let t=Zt(e.prefixPath,a=>dh(a)).join(", "),r=e.alternation.idx===0?"":e.alternation.idx,n=`Ambiguous Alternatives Detected: <${e.ambiguityIndices.join(" ,")}> in <OR${r}> inside <${e.topLevelRule.name}> Rule,
<${t}> may appears as a prefix path in all these alternatives.
`;return n=n+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,n},buildEmptyRepetitionError(e){let t=Gs(e.repetition);return e.repetition.idx!==0&&(t+=e.repetition.idx),`The repetition <${t}> within Rule <${e.topLevelRule.name}> can never consume any tokens.
This could lead to an infinite loop.`},buildTokenNameError(e){return"deprecated"},buildEmptyAlternationError(e){return`Ambiguous empty alternative: <${e.emptyChoiceIdx+1}> in <OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.
Only the last alternative may be an empty alternative.`},buildTooManyAlternativesError(e){return`An Alternation cannot have more than 256 alternatives:
<OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.
 has ${e.alternation.definition.length+1} alternatives.`},buildLeftRecursionError(e){let t=e.topLevelRule.name,r=Zt(e.leftRecursionPath,i=>i.name),n=`${t} --> ${r.concat([t]).join(" --> ")}`;return`Left Recursion found in grammar.
rule: <${t}> can be invoked from itself (directly or indirectly)
without consuming any Tokens. The grammar path that causes this is: 
 ${n}
 To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError(e){return"deprecated"},buildDuplicateRuleNameError(e){let t;return e.topLevelRule instanceof ls?t=e.topLevelRule.name:t=e.topLevelRule,`Duplicate definition, rule: ->${t}<- is already defined in the grammar: ->${e.grammarName}<-`}}});function g1t(e,t){let r=new lB(e,t);return r.resolveRefs(),r.errors}var lB,v1t=B(()=>{Vs();We();cs();lB=class extends us{constructor(t,r){super(),this.nameToTopRule=t,this.errMsgProvider=r,this.errors=[]}resolveRefs(){Ct(yr(this.nameToTopRule),t=>{this.currTopLevel=t,t.accept(this)})}visitNonTerminal(t){let r=this.nameToTopRule[t.nonTerminalName];if(r)t.referencedRule=r;else{let n=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,t);this.errors.push({message:n,type:_i.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:t.nonTerminalName})}}}});function o6(e,t,r=[]){r=Cn(r);let n=[],a=0;function i(s){return s.concat(Ka(e,a+1))}function o(s){let l=o6(i(s),t,r);return n.concat(l)}for(;r.length<t&&a<e.length;){let s=e[a];if(s instanceof ia)return o(s.definition);if(s instanceof Ln)return o(s.definition);if(s instanceof Mn)n=o(s.definition);else if(s instanceof oa){let l=s.definition.concat([new Xr({definition:s.definition})]);return o(l)}else if(s instanceof sa){let l=[new ia({definition:s.definition}),new Xr({definition:[new Cr({terminalType:s.separator})].concat(s.definition)})];return o(l)}else if(s instanceof Xn){let l=s.definition.concat([new Xr({definition:[new Cr({terminalType:s.separator})].concat(s.definition)})]);n=o(l)}else if(s instanceof Xr){let l=s.definition.concat([new Xr({definition:s.definition})]);n=o(l)}else{if(s instanceof jn)return Ct(s.definition,l=>{cr(l.definition)===!1&&(n=o(l.definition))}),n;if(s instanceof Cr)r.push(s.terminalType);else throw Error("non exhaustive match")}a++}return n.push({partialPath:r,suffixDef:Ka(e,a)}),n}function s6(e,t,r,n){let a="EXIT_NONE_TERMINAL",i=[a],o="EXIT_ALTERNATIVE",s=!1,l=t.length,u=l-n-1,f=[],h=[];for(h.push({idx:-1,def:e,ruleStack:[],occurrenceStack:[]});!cr(h);){let d=h.pop();if(d===o){s&&ao(h).idx<=u&&h.pop();continue}let p=d.def,m=d.idx,g=d.ruleStack,v=d.occurrenceStack;if(cr(p))continue;let y=p[0];if(y===a){let b={idx:m,def:Ka(p),ruleStack:Zf(g),occurrenceStack:Zf(v)};h.push(b)}else if(y instanceof Cr)if(m<l-1){let b=m+1,_=t[b];if(r(_,y.terminalType)){let k={idx:b,def:Ka(p),ruleStack:g,occurrenceStack:v};h.push(k)}}else if(m===l-1)f.push({nextTokenType:y.terminalType,nextTokenOccurrence:y.idx,ruleStack:g,occurrenceStack:v}),s=!0;else throw Error("non exhaustive match");else if(y instanceof Ln){let b=Cn(g);b.push(y.nonTerminalName);let _=Cn(v);_.push(y.idx);let k={idx:m,def:y.definition.concat(i,Ka(p)),ruleStack:b,occurrenceStack:_};h.push(k)}else if(y instanceof Mn){let b={idx:m,def:Ka(p),ruleStack:g,occurrenceStack:v};h.push(b),h.push(o);let _={idx:m,def:y.definition.concat(Ka(p)),ruleStack:g,occurrenceStack:v};h.push(_)}else if(y instanceof oa){let b=new Xr({definition:y.definition,idx:y.idx}),_=y.definition.concat([b],Ka(p)),k={idx:m,def:_,ruleStack:g,occurrenceStack:v};h.push(k)}else if(y instanceof sa){let b=new Cr({terminalType:y.separator}),_=new Xr({definition:[b].concat(y.definition),idx:y.idx}),k=y.definition.concat([_],Ka(p)),w={idx:m,def:k,ruleStack:g,occurrenceStack:v};h.push(w)}else if(y instanceof Xn){let b={idx:m,def:Ka(p),ruleStack:g,occurrenceStack:v};h.push(b),h.push(o);let _=new Cr({terminalType:y.separator}),k=new Xr({definition:[_].concat(y.definition),idx:y.idx}),w=y.definition.concat([k],Ka(p)),T={idx:m,def:w,ruleStack:g,occurrenceStack:v};h.push(T)}else if(y instanceof Xr){let b={idx:m,def:Ka(p),ruleStack:g,occurrenceStack:v};h.push(b),h.push(o);let _=new Xr({definition:y.definition,idx:y.idx}),k=y.definition.concat([_],Ka(p)),w={idx:m,def:k,ruleStack:g,occurrenceStack:v};h.push(w)}else if(y instanceof jn)for(let b=y.definition.length-1;b>=0;b--){let _=y.definition[b],k={idx:m,def:_.definition.concat(Ka(p)),ruleStack:g,occurrenceStack:v};h.push(k),h.push(o)}else if(y instanceof ia)h.push({idx:m,def:y.definition.concat(Ka(p)),ruleStack:g,occurrenceStack:v});else if(y instanceof ls)h.push(cZt(y,m,g,v));else throw Error("non exhaustive match")}return f}function cZt(e,t,r,n){let a=Cn(r);a.push(e.name);let i=Cn(n);return i.push(1),{idx:t,def:e.definition,ruleStack:a,occurrenceStack:i}}var uB,n6,my,a6,y4,i6,x4,b4=B(()=>{We();KP();jS();cs();uB=class extends ch{constructor(t,r){super(),this.topProd=t,this.path=r,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=Cn(this.path.ruleStack).reverse(),this.occurrenceStack=Cn(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(t,r=[]){this.found||super.walk(t,r)}walkProdRef(t,r,n){if(t.referencedRule.name===this.nextProductionName&&t.idx===this.nextProductionOccurrence){let a=r.concat(n);this.updateExpectedNext(),this.walk(t.referencedRule,a)}}updateExpectedNext(){cr(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}},n6=class extends uB{constructor(t,r){super(t,r),this.path=r,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(t,r,n){if(this.isAtEndOfPath&&t.terminalType.name===this.nextTerminalName&&t.idx===this.nextTerminalOccurrence&&!this.found){let a=r.concat(n),i=new ia({definition:a});this.possibleTokTypes=xm(i),this.found=!0}}},my=class extends ch{constructor(t,r){super(),this.topRule=t,this.occurrence=r,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}},a6=class extends my{walkMany(t,r,n){if(t.idx===this.occurrence){let a=Ni(r.concat(n));this.result.isEndOfRule=a===void 0,a instanceof Cr&&(this.result.token=a.terminalType,this.result.occurrence=a.idx)}else super.walkMany(t,r,n)}},y4=class extends my{walkManySep(t,r,n){if(t.idx===this.occurrence){let a=Ni(r.concat(n));this.result.isEndOfRule=a===void 0,a instanceof Cr&&(this.result.token=a.terminalType,this.result.occurrence=a.idx)}else super.walkManySep(t,r,n)}},i6=class extends my{walkAtLeastOne(t,r,n){if(t.idx===this.occurrence){let a=Ni(r.concat(n));this.result.isEndOfRule=a===void 0,a instanceof Cr&&(this.result.token=a.terminalType,this.result.occurrence=a.idx)}else super.walkAtLeastOne(t,r,n)}},x4=class extends my{walkAtLeastOneSep(t,r,n){if(t.idx===this.occurrence){let a=Ni(r.concat(n));this.result.isEndOfRule=a===void 0,a instanceof Cr&&(this.result.token=a.terminalType,this.result.occurrence=a.idx)}else super.walkAtLeastOneSep(t,r,n)}}});function _4(e){if(e instanceof Mn||e==="Option")return Ea.OPTION;if(e instanceof Xr||e==="Repetition")return Ea.REPETITION;if(e instanceof oa||e==="RepetitionMandatory")return Ea.REPETITION_MANDATORY;if(e instanceof sa||e==="RepetitionMandatoryWithSeparator")return Ea.REPETITION_MANDATORY_WITH_SEPARATOR;if(e instanceof Xn||e==="RepetitionWithSeparator")return Ea.REPETITION_WITH_SEPARATOR;if(e instanceof jn||e==="Alternation")return Ea.ALTERNATION;throw Error("non exhaustive match")}function u6(e){let{occurrence:t,rule:r,prodType:n,maxLookahead:a}=e,i=_4(n);return i===Ea.ALTERNATION?gy(t,r,a):vy(t,r,i,a)}function x1t(e,t,r,n,a,i){let o=gy(e,t,r),s=k1t(o)?hy:fh;return i(o,n,s,a)}function b1t(e,t,r,n,a,i){let o=vy(e,t,a,r),s=k1t(o)?hy:fh;return i(o[0],s,n)}function _1t(e,t,r,n){let a=e.length,i=Co(e,o=>Co(o,s=>s.length===1));if(t)return function(o){let s=Zt(o,l=>l.GATE);for(let l=0;l<a;l++){let u=e[l],f=u.length,h=s[l];if(!(h!==void 0&&h.call(this)===!1))t:for(let d=0;d<f;d++){let p=u[d],m=p.length;for(let g=0;g<m;g++){let v=this.LA(g+1);if(r(v,p[g])===!1)continue t}return l}}};if(i&&!n){let o=Zt(e,l=>vn(l)),s=xn(o,(l,u,f)=>(Ct(u,h=>{Re(l,h.tokenTypeIdx)||(l[h.tokenTypeIdx]=f),Ct(h.categoryMatches,d=>{Re(l,d)||(l[d]=f)})}),l),{});return function(){let l=this.LA(1);return s[l.tokenTypeIdx]}}else return function(){for(let o=0;o<a;o++){let s=e[o],l=s.length;t:for(let u=0;u<l;u++){let f=s[u],h=f.length;for(let d=0;d<h;d++){let p=this.LA(d+1);if(r(p,f[d])===!1)continue t}return o}}}}function w1t(e,t,r){let n=Co(e,i=>i.length===1),a=e.length;if(n&&!r){let i=vn(e);if(i.length===1&&cr(i[0].categoryMatches)){let s=i[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===s}}else{let o=xn(i,(s,l,u)=>(s[l.tokenTypeIdx]=!0,Ct(l.categoryMatches,f=>{s[f]=!0}),s),[]);return function(){let s=this.LA(1);return o[s.tokenTypeIdx]===!0}}}else return function(){t:for(let i=0;i<a;i++){let o=e[i],s=o.length;for(let l=0;l<s;l++){let u=this.LA(l+1);if(t(u,o[l])===!1)continue t}return!0}return!1}}function y1t(e){let t=new Array(e);for(let r=0;r<e;r++)t[r]=[];return t}function cB(e){let t=[""];for(let r=0;r<e.length;r++){let n=e[r],a=[];for(let i=0;i<t.length;i++){let o=t[i];a.push(o+"_"+n.tokenTypeIdx);for(let s=0;s<n.categoryMatches.length;s++){let l="_"+n.categoryMatches[s];a.push(o+l)}}t=a}return t}function fZt(e,t,r){for(let n=0;n<e.length;n++){if(n===r)continue;let a=e[n];for(let i=0;i<t.length;i++){let o=t[i];if(a[o]===!0)return!1}}return!0}function T1t(e,t){let r=Zt(e,o=>o6([o],1)),n=y1t(r.length),a=Zt(r,o=>{let s={};return Ct(o,l=>{let u=cB(l.partialPath);Ct(u,f=>{s[f]=!0})}),s}),i=r;for(let o=1;o<=t;o++){let s=i;i=y1t(s.length);for(let l=0;l<s.length;l++){let u=s[l];for(let f=0;f<u.length;f++){let h=u[f].partialPath,d=u[f].suffixDef,p=cB(h);if(fZt(a,p,l)||cr(d)||h.length===t){let g=n[l];if(c6(g,h)===!1){g.push(h);for(let v=0;v<p.length;v++){let y=p[v];a[l][y]=!0}}}else{let g=o6(d,o+1,h);i[l]=i[l].concat(g),Ct(g,v=>{let y=cB(v.partialPath);Ct(y,b=>{a[l][b]=!0})})}}}}return n}function gy(e,t,r,n){let a=new l6(e,Ea.ALTERNATION,n);return t.accept(a),T1t(a.result,r)}function vy(e,t,r,n){let a=new l6(e,r);t.accept(a);let i=a.result,s=new fB(t,e,r).startWalking(),l=new ia({definition:i}),u=new ia({definition:s});return T1t([l,u],n)}function c6(e,t){t:for(let r=0;r<e.length;r++){let n=e[r];if(n.length===t.length){for(let a=0;a<n.length;a++){let i=t[a],o=n[a];if((i===o||o.categoryMatchesMap[i.tokenTypeIdx]!==void 0)===!1)continue t}return!0}}return!1}function E1t(e,t){return e.length<t.length&&Co(e,(r,n)=>{let a=t[n];return r===a||a.categoryMatchesMap[r.tokenTypeIdx]})}function k1t(e){return Co(e,t=>Co(t,r=>Co(r,n=>cr(n.categoryMatches))))}var Ea,fB,l6,yy=B(()=>{We();b4();jS();_m();cs();(function(e){e[e.OPTION=0]="OPTION",e[e.REPETITION=1]="REPETITION",e[e.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",e[e.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",e[e.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",e[e.ALTERNATION=5]="ALTERNATION"})(Ea||(Ea={}));fB=class extends ch{constructor(t,r,n){super(),this.topProd=t,this.targetOccurrence=r,this.targetProdType=n}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(t,r,n,a){return t.idx===this.targetOccurrence&&this.targetProdType===r?(this.restDef=n.concat(a),!0):!1}walkOption(t,r,n){this.checkIsTarget(t,Ea.OPTION,r,n)||super.walkOption(t,r,n)}walkAtLeastOne(t,r,n){this.checkIsTarget(t,Ea.REPETITION_MANDATORY,r,n)||super.walkOption(t,r,n)}walkAtLeastOneSep(t,r,n){this.checkIsTarget(t,Ea.REPETITION_MANDATORY_WITH_SEPARATOR,r,n)||super.walkOption(t,r,n)}walkMany(t,r,n){this.checkIsTarget(t,Ea.REPETITION,r,n)||super.walkOption(t,r,n)}walkManySep(t,r,n){this.checkIsTarget(t,Ea.REPETITION_WITH_SEPARATOR,r,n)||super.walkOption(t,r,n)}},l6=class extends us{constructor(t,r,n){super(),this.targetOccurrence=t,this.targetProdType=r,this.targetRef=n,this.result=[]}checkIsTarget(t,r){t.idx===this.targetOccurrence&&this.targetProdType===r&&(this.targetRef===void 0||t===this.targetRef)&&(this.result=t.definition)}visitOption(t){this.checkIsTarget(t,Ea.OPTION)}visitRepetition(t){this.checkIsTarget(t,Ea.REPETITION)}visitRepetitionMandatory(t){this.checkIsTarget(t,Ea.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(t){this.checkIsTarget(t,Ea.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(t){this.checkIsTarget(t,Ea.REPETITION_WITH_SEPARATOR)}visitAlternation(t){this.checkIsTarget(t,Ea.ALTERNATION)}}});function C1t(e){let t=e.lookaheadStrategy.validate({rules:e.rules,tokenTypes:e.tokenTypes,grammarName:e.grammarName});return Zt(t,r=>Object.assign({type:_i.CUSTOM_LOOKAHEAD_VALIDATION},r))}function S1t(e,t,r,n){let a=io(e,l=>hZt(l,r)),i=yZt(e,t,r),o=io(e,l=>mZt(l,r)),s=io(e,l=>pZt(l,e,n,r));return a.concat(i,o,s)}function hZt(e,t){let r=new hB;e.accept(r);let n=r.allProductions,a=AR(n,dZt),i=Bs(a,s=>s.length>1);return Zt(yr(i),s=>{let l=Ni(s),u=t.buildDuplicateFoundError(e,s),f=Gs(l),h={message:u,type:_i.DUPLICATE_PRODUCTIONS,ruleName:e.name,dslName:f,occurrence:l.idx},d=D1t(l);return d&&(h.parameter=d),h})}function dZt(e){return`${Gs(e)}_#_${e.idx}_#_${D1t(e)}`}function D1t(e){return e instanceof Cr?e.terminalType.name:e instanceof Ln?e.nonTerminalName:""}function pZt(e,t,r,n){let a=[];if(xn(t,(o,s)=>s.name===e.name?o+1:o,0)>1){let o=n.buildDuplicateRuleNameError({topLevelRule:e,grammarName:r});a.push({message:o,type:_i.DUPLICATE_RULE_NAME,ruleName:e.name})}return a}function A1t(e,t,r){let n=[],a;return ba(t,e)||(a=`Invalid rule override, rule: ->${e}<- cannot be overridden in the grammar: ->${r}<-as it is not defined in any of the super grammars `,n.push({message:a,type:_i.INVALID_RULE_OVERRIDE,ruleName:e})),n}function pB(e,t,r,n=[]){let a=[],i=f6(t.definition);if(cr(i))return[];{let o=e.name;ba(i,e)&&a.push({message:r.buildLeftRecursionError({topLevelRule:e,leftRecursionPath:n}),type:_i.LEFT_RECURSION,ruleName:o});let l=Ld(i,n.concat([e])),u=io(l,f=>{let h=Cn(n);return h.push(f),pB(e,f,r,h)});return a.concat(u)}}function f6(e){let t=[];if(cr(e))return t;let r=Ni(e);if(r instanceof Ln)t.push(r.referencedRule);else if(r instanceof ia||r instanceof Mn||r instanceof oa||r instanceof sa||r instanceof Xn||r instanceof Xr)t=t.concat(f6(r.definition));else if(r instanceof jn)t=vn(Zt(r.definition,i=>f6(i.definition)));else if(!(r instanceof Cr))throw Error("non exhaustive match");let n=ym(r),a=e.length>1;if(n&&a){let i=Ka(e);return t.concat(f6(i))}else return t}function L1t(e,t){let r=new w4;e.accept(r);let n=r.alternations;return io(n,i=>{let o=Zf(i.definition);return io(o,(s,l)=>{let u=s6([s],[],fh,1);return cr(u)?[{message:t.buildEmptyAlternationError({topLevelRule:e,alternation:i,emptyChoiceIdx:l}),type:_i.NONE_LAST_EMPTY_ALT,ruleName:e.name,occurrence:i.idx,alternative:l+1}]:[]})})}function M1t(e,t,r){let n=new w4;e.accept(n);let a=n.alternations;return a=Md(a,o=>o.ignoreAmbiguities===!0),io(a,o=>{let s=o.idx,l=o.maxLookahead||t,u=gy(s,e,l,o),f=gZt(u,o,e,r),h=vZt(u,o,e,r);return f.concat(h)})}function mZt(e,t){let r=new w4;e.accept(r);let n=r.alternations;return io(n,i=>i.definition.length>255?[{message:t.buildTooManyAlternativesError({topLevelRule:e,alternation:i}),type:_i.TOO_MANY_ALTS,ruleName:e.name,occurrence:i.idx}]:[])}function I1t(e,t,r){let n=[];return Ct(e,a=>{let i=new dB;a.accept(i);let o=i.allProductions;Ct(o,s=>{let l=_4(s),u=s.maxLookahead||t,f=s.idx,d=vy(f,a,l,u)[0];if(cr(vn(d))){let p=r.buildEmptyRepetitionError({topLevelRule:a,repetition:s});n.push({message:p,type:_i.NO_NON_EMPTY_LOOKAHEAD,ruleName:a.name})}})}),n}function gZt(e,t,r,n){let a=[],i=xn(e,(s,l,u)=>(t.definition[u].ignoreAmbiguities===!0||Ct(l,f=>{let h=[u];Ct(e,(d,p)=>{u!==p&&c6(d,f)&&t.definition[p].ignoreAmbiguities!==!0&&h.push(p)}),h.length>1&&!c6(a,f)&&(a.push(f),s.push({alts:h,path:f}))}),s),[]);return Zt(i,s=>{let l=Zt(s.alts,f=>f+1);return{message:n.buildAlternationAmbiguityError({topLevelRule:r,alternation:t,ambiguityIndices:l,prefixPath:s.path}),type:_i.AMBIGUOUS_ALTS,ruleName:r.name,occurrence:t.idx,alternatives:s.alts}})}function vZt(e,t,r,n){let a=xn(e,(o,s,l)=>{let u=Zt(s,f=>({idx:l,path:f}));return o.concat(u)},[]);return Bc(io(a,o=>{if(t.definition[o.idx].ignoreAmbiguities===!0)return[];let l=o.idx,u=o.path,f=yn(a,d=>t.definition[d.idx].ignoreAmbiguities!==!0&&d.idx<l&&E1t(d.path,u));return Zt(f,d=>{let p=[d.idx+1,l+1],m=t.idx===0?"":t.idx;return{message:n.buildAlternationPrefixAmbiguityError({topLevelRule:r,alternation:t,ambiguityIndices:p,prefixPath:d.path}),type:_i.AMBIGUOUS_PREFIX_ALTS,ruleName:r.name,occurrence:m,alternatives:p}})}))}function yZt(e,t,r){let n=[],a=Zt(t,i=>i.name);return Ct(e,i=>{let o=i.name;if(ba(a,o)){let s=r.buildNamespaceConflictError(i);n.push({message:s,type:_i.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:o})}}),n}var hB,w4,dB,T4=B(()=>{We();Vs();cs();yy();b4();_m();hB=class extends us{constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(t){this.allProductions.push(t)}visitOption(t){this.allProductions.push(t)}visitRepetitionWithSeparator(t){this.allProductions.push(t)}visitRepetitionMandatory(t){this.allProductions.push(t)}visitRepetitionMandatoryWithSeparator(t){this.allProductions.push(t)}visitRepetition(t){this.allProductions.push(t)}visitAlternation(t){this.allProductions.push(t)}visitTerminal(t){this.allProductions.push(t)}};w4=class extends us{constructor(){super(...arguments),this.alternations=[]}visitAlternation(t){this.alternations.push(t)}};dB=class extends us{constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(t){this.allProductions.push(t)}visitRepetitionMandatory(t){this.allProductions.push(t)}visitRepetitionMandatoryWithSeparator(t){this.allProductions.push(t)}visitRepetition(t){this.allProductions.push(t)}}});function R1t(e){let t=Ad(e,{errMsgProvider:m1t}),r={};return Ct(e.rules,n=>{r[n.name]=n}),g1t(r,t.errMsgProvider)}function N1t(e){return e=Ad(e,{errMsgProvider:Vu}),S1t(e.rules,e.tokenTypes,e.errMsgProvider,e.grammarName)}var O1t=B(()=>{We();v1t();T4();py()});function lp(e){return ba(z1t,e.name)}var F1t,P1t,B1t,$1t,z1t,xy,Tm,E4,k4,C4,by=B(()=>{We();F1t="MismatchedTokenException",P1t="NoViableAltException",B1t="EarlyExitException",$1t="NotAllInputParsedException",z1t=[F1t,P1t,B1t,$1t];Object.freeze(z1t);xy=class extends Error{constructor(t,r){super(t),this.token=r,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},Tm=class extends xy{constructor(t,r,n){super(t,r),this.previousToken=n,this.name=F1t}},E4=class extends xy{constructor(t,r,n){super(t,r),this.previousToken=n,this.name=P1t}},k4=class extends xy{constructor(t,r){super(t,r),this.name=$1t}},C4=class extends xy{constructor(t,r,n){super(t,r),this.previousToken=n,this.name=B1t}}});function xZt(e,t,r,n,a,i,o){let s=this.getKeyForAutomaticLookahead(n,a),l=this.firstAfterRepMap[s];if(l===void 0){let d=this.getCurrRuleFullName(),p=this.getGAstProductions()[d];l=new i(p,a).startWalking(),this.firstAfterRepMap[s]=l}let u=l.token,f=l.occurrence,h=l.isEndOfRule;this.RULE_STACK.length===1&&h&&u===void 0&&(u=gl,f=1),!(u===void 0||f===void 0)&&this.shouldInRepetitionRecoveryBeTried(u,f,o)&&this.tryInRepetitionRecovery(e,t,r,u)}var mB,vB,gB,h6,yB=B(()=>{wm();We();by();QP();Vs();mB={},vB="InRuleRecoveryException",gB=class extends Error{constructor(t){super(t),this.name=vB}},h6=class{initRecoverable(t){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=Re(t,"recoveryEnabled")?t.recoveryEnabled:fs.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=xZt)}getTokenToInsert(t){let r=ph(t,"",NaN,NaN,NaN,NaN,NaN,NaN);return r.isInsertedInRecovery=!0,r}canTokenTypeBeInsertedInRecovery(t){return!0}canTokenTypeBeDeletedInRecovery(t){return!0}tryInRepetitionRecovery(t,r,n,a){let i=this.findReSyncTokenType(),o=this.exportLexerState(),s=[],l=!1,u=this.LA(1),f=this.LA(1),h=()=>{let d=this.LA(0),p=this.errorMessageProvider.buildMismatchTokenMessage({expected:a,actual:u,previous:d,ruleName:this.getCurrRuleFullName()}),m=new Tm(p,u,this.LA(0));m.resyncedTokens=Zf(s),this.SAVE_ERROR(m)};for(;!l;)if(this.tokenMatcher(f,a)){h();return}else if(n.call(this)){h(),t.apply(this,r);return}else this.tokenMatcher(f,i)?l=!0:(f=this.SKIP_TOKEN(),this.addToResyncTokens(f,s));this.importLexerState(o)}shouldInRepetitionRecoveryBeTried(t,r,n){return!(n===!1||this.tokenMatcher(this.LA(1),t)||this.isBackTracking()||this.canPerformInRuleRecovery(t,this.getFollowsForInRuleRecovery(t,r)))}getFollowsForInRuleRecovery(t,r){let n=this.getCurrentGrammarPath(t,r);return this.getNextPossibleTokenTypes(n)}tryInRuleRecovery(t,r){if(this.canRecoverWithSingleTokenInsertion(t,r))return this.getTokenToInsert(t);if(this.canRecoverWithSingleTokenDeletion(t)){let n=this.SKIP_TOKEN();return this.consumeToken(),n}throw new gB("sad sad panda")}canPerformInRuleRecovery(t,r){return this.canRecoverWithSingleTokenInsertion(t,r)||this.canRecoverWithSingleTokenDeletion(t)}canRecoverWithSingleTokenInsertion(t,r){if(!this.canTokenTypeBeInsertedInRecovery(t)||cr(r))return!1;let n=this.LA(1);return rs(r,i=>this.tokenMatcher(n,i))!==void 0}canRecoverWithSingleTokenDeletion(t){return this.canTokenTypeBeDeletedInRecovery(t)?this.tokenMatcher(this.LA(2),t):!1}isInCurrentRuleReSyncSet(t){let r=this.getCurrFollowKey(),n=this.getFollowSetFromFollowKey(r);return ba(n,t)}findReSyncTokenType(){let t=this.flattenFollowSet(),r=this.LA(1),n=2;for(;;){let a=rs(t,i=>v4(r,i));if(a!==void 0)return a;r=this.LA(n),n++}}getCurrFollowKey(){if(this.RULE_STACK.length===1)return mB;let t=this.getLastExplicitRuleShortName(),r=this.getLastExplicitRuleOccurrenceIndex(),n=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(t),idxInCallingRule:r,inRule:this.shortRuleNameToFullName(n)}}buildFullFollowKeyStack(){let t=this.RULE_STACK,r=this.RULE_OCCURRENCE_STACK;return Zt(t,(n,a)=>a===0?mB:{ruleName:this.shortRuleNameToFullName(n),idxInCallingRule:r[a],inRule:this.shortRuleNameToFullName(t[a-1])})}flattenFollowSet(){let t=Zt(this.buildFullFollowKeyStack(),r=>this.getFollowSetFromFollowKey(r));return vn(t)}getFollowSetFromFollowKey(t){if(t===mB)return[gl];let r=t.ruleName+t.idxInCallingRule+KS+t.inRule;return this.resyncFollows[r]}addToResyncTokens(t,r){return this.tokenMatcher(t,gl)||r.push(t),r}reSyncTo(t){let r=[],n=this.LA(1);for(;this.tokenMatcher(n,t)===!1;)n=this.SKIP_TOKEN(),this.addToResyncTokens(n,r);return Zf(r)}attemptInRepetitionRecovery(t,r,n,a,i,o,s){}getCurrentGrammarPath(t,r){let n=this.getHumanReadableRuleStack(),a=Cn(this.RULE_OCCURRENCE_STACK);return{ruleStack:n,occurrenceStack:a,lastTok:t,lastTokOccurrence:r}}getHumanReadableRuleStack(){return Zt(this.RULE_STACK,t=>this.shortRuleNameToFullName(t))}}});function d6(e,t,r){return r|t|e}var p6=B(()=>{});var gh,xB=B(()=>{We();py();Vs();T4();yy();gh=class{constructor(t){var r;this.maxLookahead=(r=t?.maxLookahead)!==null&&r!==void 0?r:fs.maxLookahead}validate(t){let r=this.validateNoLeftRecursion(t.rules);if(cr(r)){let n=this.validateEmptyOrAlternatives(t.rules),a=this.validateAmbiguousAlternationAlternatives(t.rules,this.maxLookahead),i=this.validateSomeNonEmptyLookaheadPath(t.rules,this.maxLookahead);return[...r,...n,...a,...i]}return r}validateNoLeftRecursion(t){return io(t,r=>pB(r,r,Vu))}validateEmptyOrAlternatives(t){return io(t,r=>L1t(r,Vu))}validateAmbiguousAlternationAlternatives(t,r){return io(t,n=>M1t(n,r,Vu))}validateSomeNonEmptyLookaheadPath(t,r){return I1t(t,r,Vu)}buildLookaheadForAlternation(t){return x1t(t.prodOccurrence,t.rule,t.maxLookahead,t.hasPredicates,t.dynamicTokensEnabled,_1t)}buildLookaheadForOptional(t){return b1t(t.prodOccurrence,t.rule,t.maxLookahead,t.dynamicTokensEnabled,_4(t.prodType),w1t)}}});function bZt(e){m6.reset(),e.accept(m6);let t=m6.dslMethods;return m6.reset(),t}var g6,bB,m6,q1t=B(()=>{We();Vs();p6();cs();xB();g6=class{initLooksAhead(t){this.dynamicTokensEnabled=Re(t,"dynamicTokensEnabled")?t.dynamicTokensEnabled:fs.dynamicTokensEnabled,this.maxLookahead=Re(t,"maxLookahead")?t.maxLookahead:fs.maxLookahead,this.lookaheadStrategy=Re(t,"lookaheadStrategy")?t.lookaheadStrategy:new gh({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(t){Ct(t,r=>{this.TRACE_INIT(`${r.name} Rule Lookahead`,()=>{let{alternation:n,repetition:a,option:i,repetitionMandatory:o,repetitionMandatoryWithSeparator:s,repetitionWithSeparator:l}=bZt(r);Ct(n,u=>{let f=u.idx===0?"":u.idx;this.TRACE_INIT(`${Gs(u)}${f}`,()=>{let h=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:u.idx,rule:r,maxLookahead:u.maxLookahead||this.maxLookahead,hasPredicates:u.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),d=d6(this.fullRuleNameToShort[r.name],256,u.idx);this.setLaFuncCache(d,h)})}),Ct(a,u=>{this.computeLookaheadFunc(r,u.idx,768,"Repetition",u.maxLookahead,Gs(u))}),Ct(i,u=>{this.computeLookaheadFunc(r,u.idx,512,"Option",u.maxLookahead,Gs(u))}),Ct(o,u=>{this.computeLookaheadFunc(r,u.idx,1024,"RepetitionMandatory",u.maxLookahead,Gs(u))}),Ct(s,u=>{this.computeLookaheadFunc(r,u.idx,1536,"RepetitionMandatoryWithSeparator",u.maxLookahead,Gs(u))}),Ct(l,u=>{this.computeLookaheadFunc(r,u.idx,1280,"RepetitionWithSeparator",u.maxLookahead,Gs(u))})})})}computeLookaheadFunc(t,r,n,a,i,o){this.TRACE_INIT(`${o}${r===0?"":r}`,()=>{let s=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:r,rule:t,maxLookahead:i||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:a}),l=d6(this.fullRuleNameToShort[t.name],n,r);this.setLaFuncCache(l,s)})}getKeyForAutomaticLookahead(t,r){let n=this.getLastExplicitRuleShortName();return d6(n,t,r)}getLaFuncFromCache(t){return this.lookAheadFuncsCache.get(t)}setLaFuncCache(t,r){this.lookAheadFuncsCache.set(t,r)}},bB=class extends us{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(t){this.dslMethods.option.push(t)}visitRepetitionWithSeparator(t){this.dslMethods.repetitionWithSeparator.push(t)}visitRepetitionMandatory(t){this.dslMethods.repetitionMandatory.push(t)}visitRepetitionMandatoryWithSeparator(t){this.dslMethods.repetitionMandatoryWithSeparator.push(t)}visitRepetition(t){this.dslMethods.repetition.push(t)}visitAlternation(t){this.dslMethods.alternation.push(t)}},m6=new bB});function TB(e,t){isNaN(e.startOffset)===!0?(e.startOffset=t.startOffset,e.endOffset=t.endOffset):e.endOffset<t.endOffset&&(e.endOffset=t.endOffset)}function EB(e,t){isNaN(e.startOffset)===!0?(e.startOffset=t.startOffset,e.startColumn=t.startColumn,e.startLine=t.startLine,e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine):e.endOffset<t.endOffset&&(e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine)}function U1t(e,t,r){e.children[r]===void 0?e.children[r]=[t]:e.children[r].push(t)}function W1t(e,t,r){e.children[t]===void 0?e.children[t]=[r]:e.children[t].push(r)}var G1t=B(()=>{});function kB(e,t){Object.defineProperty(e,_Zt,{enumerable:!1,configurable:!0,writable:!1,value:t})}var _Zt,V1t=B(()=>{_Zt="name"});function wZt(e,t){let r=sn(e),n=r.length;for(let a=0;a<n;a++){let i=r[a],o=e[i],s=o.length;for(let l=0;l<s;l++){let u=o[l];u.tokenTypeIdx===void 0&&this[u.name](u.children,t)}}}function H1t(e,t){let r=function(){};kB(r,e+"BaseSemantics");let n={visit:function(a,i){if(Ie(a)&&(a=a[0]),!dr(a))return this[a.name](a.children,i)},validateVisitor:function(){let a=TZt(this,t);if(!cr(a)){let i=Zt(a,o=>o.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:
	${i.join(`

`).replace(/\n/g,`
	`)}`)}}};return r.prototype=n,r.prototype.constructor=r,r._RULE_NAMES=t,r}function Y1t(e,t,r){let n=function(){};kB(n,e+"BaseSemanticsWithDefaults");let a=Object.create(r.prototype);return Ct(t,i=>{a[i]=wZt}),n.prototype=a,n.prototype.constructor=n,n}function TZt(e,t){return EZt(e,t)}function EZt(e,t){let r=yn(t,a=>ni(e[a])===!1),n=Zt(r,a=>({msg:`Missing visitor method: <${a}> on ${e.constructor.name} CST Visitor.`,type:CB.MISSING_METHOD,methodName:a}));return Bc(n)}var CB,X1t=B(()=>{We();V1t();(function(e){e[e.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",e[e.MISSING_METHOD=1]="MISSING_METHOD"})(CB||(CB={}))});var b6,j1t=B(()=>{G1t();We();X1t();Vs();b6=class{initTreeBuilder(t){if(this.CST_STACK=[],this.outputCst=t.outputCst,this.nodeLocationTracking=Re(t,"nodeLocationTracking")?t.nodeLocationTracking:fs.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=Oa,this.cstFinallyStateUpdate=Oa,this.cstPostTerminal=Oa,this.cstPostNonTerminal=Oa,this.cstPostRule=Oa;else if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=EB,this.setNodeLocationFromNode=EB,this.cstPostRule=Oa,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=Oa,this.setNodeLocationFromNode=Oa,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=TB,this.setNodeLocationFromNode=TB,this.cstPostRule=Oa,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=Oa,this.setNodeLocationFromNode=Oa,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=Oa,this.setNodeLocationFromNode=Oa,this.cstPostRule=Oa,this.setInitialNodeLocation=Oa;else throw Error(`Invalid <nodeLocationTracking> config option: "${t.nodeLocationTracking}"`)}setInitialNodeLocationOnlyOffsetRecovery(t){t.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(t){t.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(t){t.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(t){let r=this.LA(1);t.location={startOffset:r.startOffset,startLine:r.startLine,startColumn:r.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(t){let r={name:t,children:Object.create(null)};this.setInitialNodeLocation(r),this.CST_STACK.push(r)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(t){let r=this.LA(0),n=t.location;n.startOffset<=r.startOffset?(n.endOffset=r.endOffset,n.endLine=r.endLine,n.endColumn=r.endColumn):(n.startOffset=NaN,n.startLine=NaN,n.startColumn=NaN)}cstPostRuleOnlyOffset(t){let r=this.LA(0),n=t.location;n.startOffset<=r.startOffset?n.endOffset=r.endOffset:n.startOffset=NaN}cstPostTerminal(t,r){let n=this.CST_STACK[this.CST_STACK.length-1];U1t(n,r,t),this.setNodeLocationFromToken(n.location,r)}cstPostNonTerminal(t,r){let n=this.CST_STACK[this.CST_STACK.length-1];W1t(n,r,t),this.setNodeLocationFromNode(n.location,t.location)}getBaseCstVisitorConstructor(){if(dr(this.baseCstVisitorConstructor)){let t=H1t(this.className,sn(this.gastProductionsCache));return this.baseCstVisitorConstructor=t,t}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(dr(this.baseCstVisitorWithDefaultsConstructor)){let t=Y1t(this.className,sn(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=t,t}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){let t=this.RULE_STACK;return t[t.length-1]}getPreviousExplicitRuleShortName(){let t=this.RULE_STACK;return t[t.length-2]}getLastExplicitRuleOccurrenceIndex(){let t=this.RULE_OCCURRENCE_STACK;return t[t.length-1]}}});var _6,K1t=B(()=>{Vs();_6=class{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(t){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=t,this.tokVectorLength=t.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):_y}LA(t){let r=this.currIdx+t;return r<0||this.tokVectorLength<=r?_y:this.tokVector[r]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(t){this.currIdx=t}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}}});var w6,Q1t=B(()=>{We();by();Vs();py();T4();cs();w6=class{ACTION(t){return t.call(this)}consume(t,r,n){return this.consumeInternal(r,t,n)}subrule(t,r,n){return this.subruleInternal(r,t,n)}option(t,r){return this.optionInternal(r,t)}or(t,r){return this.orInternal(r,t)}many(t,r){return this.manyInternal(t,r)}atLeastOne(t,r){return this.atLeastOneInternal(t,r)}CONSUME(t,r){return this.consumeInternal(t,0,r)}CONSUME1(t,r){return this.consumeInternal(t,1,r)}CONSUME2(t,r){return this.consumeInternal(t,2,r)}CONSUME3(t,r){return this.consumeInternal(t,3,r)}CONSUME4(t,r){return this.consumeInternal(t,4,r)}CONSUME5(t,r){return this.consumeInternal(t,5,r)}CONSUME6(t,r){return this.consumeInternal(t,6,r)}CONSUME7(t,r){return this.consumeInternal(t,7,r)}CONSUME8(t,r){return this.consumeInternal(t,8,r)}CONSUME9(t,r){return this.consumeInternal(t,9,r)}SUBRULE(t,r){return this.subruleInternal(t,0,r)}SUBRULE1(t,r){return this.subruleInternal(t,1,r)}SUBRULE2(t,r){return this.subruleInternal(t,2,r)}SUBRULE3(t,r){return this.subruleInternal(t,3,r)}SUBRULE4(t,r){return this.subruleInternal(t,4,r)}SUBRULE5(t,r){return this.subruleInternal(t,5,r)}SUBRULE6(t,r){return this.subruleInternal(t,6,r)}SUBRULE7(t,r){return this.subruleInternal(t,7,r)}SUBRULE8(t,r){return this.subruleInternal(t,8,r)}SUBRULE9(t,r){return this.subruleInternal(t,9,r)}OPTION(t){return this.optionInternal(t,0)}OPTION1(t){return this.optionInternal(t,1)}OPTION2(t){return this.optionInternal(t,2)}OPTION3(t){return this.optionInternal(t,3)}OPTION4(t){return this.optionInternal(t,4)}OPTION5(t){return this.optionInternal(t,5)}OPTION6(t){return this.optionInternal(t,6)}OPTION7(t){return this.optionInternal(t,7)}OPTION8(t){return this.optionInternal(t,8)}OPTION9(t){return this.optionInternal(t,9)}OR(t){return this.orInternal(t,0)}OR1(t){return this.orInternal(t,1)}OR2(t){return this.orInternal(t,2)}OR3(t){return this.orInternal(t,3)}OR4(t){return this.orInternal(t,4)}OR5(t){return this.orInternal(t,5)}OR6(t){return this.orInternal(t,6)}OR7(t){return this.orInternal(t,7)}OR8(t){return this.orInternal(t,8)}OR9(t){return this.orInternal(t,9)}MANY(t){this.manyInternal(0,t)}MANY1(t){this.manyInternal(1,t)}MANY2(t){this.manyInternal(2,t)}MANY3(t){this.manyInternal(3,t)}MANY4(t){this.manyInternal(4,t)}MANY5(t){this.manyInternal(5,t)}MANY6(t){this.manyInternal(6,t)}MANY7(t){this.manyInternal(7,t)}MANY8(t){this.manyInternal(8,t)}MANY9(t){this.manyInternal(9,t)}MANY_SEP(t){this.manySepFirstInternal(0,t)}MANY_SEP1(t){this.manySepFirstInternal(1,t)}MANY_SEP2(t){this.manySepFirstInternal(2,t)}MANY_SEP3(t){this.manySepFirstInternal(3,t)}MANY_SEP4(t){this.manySepFirstInternal(4,t)}MANY_SEP5(t){this.manySepFirstInternal(5,t)}MANY_SEP6(t){this.manySepFirstInternal(6,t)}MANY_SEP7(t){this.manySepFirstInternal(7,t)}MANY_SEP8(t){this.manySepFirstInternal(8,t)}MANY_SEP9(t){this.manySepFirstInternal(9,t)}AT_LEAST_ONE(t){this.atLeastOneInternal(0,t)}AT_LEAST_ONE1(t){return this.atLeastOneInternal(1,t)}AT_LEAST_ONE2(t){this.atLeastOneInternal(2,t)}AT_LEAST_ONE3(t){this.atLeastOneInternal(3,t)}AT_LEAST_ONE4(t){this.atLeastOneInternal(4,t)}AT_LEAST_ONE5(t){this.atLeastOneInternal(5,t)}AT_LEAST_ONE6(t){this.atLeastOneInternal(6,t)}AT_LEAST_ONE7(t){this.atLeastOneInternal(7,t)}AT_LEAST_ONE8(t){this.atLeastOneInternal(8,t)}AT_LEAST_ONE9(t){this.atLeastOneInternal(9,t)}AT_LEAST_ONE_SEP(t){this.atLeastOneSepFirstInternal(0,t)}AT_LEAST_ONE_SEP1(t){this.atLeastOneSepFirstInternal(1,t)}AT_LEAST_ONE_SEP2(t){this.atLeastOneSepFirstInternal(2,t)}AT_LEAST_ONE_SEP3(t){this.atLeastOneSepFirstInternal(3,t)}AT_LEAST_ONE_SEP4(t){this.atLeastOneSepFirstInternal(4,t)}AT_LEAST_ONE_SEP5(t){this.atLeastOneSepFirstInternal(5,t)}AT_LEAST_ONE_SEP6(t){this.atLeastOneSepFirstInternal(6,t)}AT_LEAST_ONE_SEP7(t){this.atLeastOneSepFirstInternal(7,t)}AT_LEAST_ONE_SEP8(t){this.atLeastOneSepFirstInternal(8,t)}AT_LEAST_ONE_SEP9(t){this.atLeastOneSepFirstInternal(9,t)}RULE(t,r,n=wy){if(ba(this.definedRulesNames,t)){let o={message:Vu.buildDuplicateRuleNameError({topLevelRule:t,grammarName:this.className}),type:_i.DUPLICATE_RULE_NAME,ruleName:t};this.definitionErrors.push(o)}this.definedRulesNames.push(t);let a=this.defineRule(t,r,n);return this[t]=a,a}OVERRIDE_RULE(t,r,n=wy){let a=A1t(t,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(a);let i=this.defineRule(t,r,n);return this[t]=i,i}BACKTRACK(t,r){return function(){this.isBackTrackingStack.push(1);let n=this.saveRecogState();try{return t.apply(this,r),!0}catch(a){if(lp(a))return!1;throw a}finally{this.reloadRecogState(n),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return YS(yr(this.gastProductionsCache))}}});var T6,Z1t=B(()=>{We();p6();by();yy();b4();Vs();yB();wm();_m();T6=class{initRecognizerEngine(t,r){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=hy,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},Re(r,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if(Ie(t)){if(cr(t))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof t[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if(Ie(t))this.tokensMap=xn(t,(i,o)=>(i[o.name]=o,i),{});else if(Re(t,"modes")&&Co(vn(yr(t.modes)),o1t)){let i=vn(yr(t.modes)),o=P1(i);this.tokensMap=xn(o,(s,l)=>(s[l.name]=l,s),{})}else if(Hn(t))this.tokensMap=Cn(t);else throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=gl;let n=Re(t,"modes")?vn(yr(t.modes)):yr(t),a=Co(n,i=>cr(i.categoryMatches));this.tokenMatcher=a?hy:fh,hh(yr(this.tokensMap))}defineRule(t,r,n){if(this.selfAnalysisDone)throw Error(`Grammar rule <${t}> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);let a=Re(n,"resyncEnabled")?n.resyncEnabled:wy.resyncEnabled,i=Re(n,"recoveryValueFunc")?n.recoveryValueFunc:wy.recoveryValueFunc,o=this.ruleShortNameIdx<<12;this.ruleShortNameIdx++,this.shortRuleNameToFull[o]=t,this.fullRuleNameToShort[t]=o;let s;return this.outputCst===!0?s=function(...f){try{this.ruleInvocationStateUpdate(o,t,this.subruleIdx),r.apply(this,f);let h=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(h),h}catch(h){return this.invokeRuleCatch(h,a,i)}finally{this.ruleFinallyStateUpdate()}}:s=function(...f){try{return this.ruleInvocationStateUpdate(o,t,this.subruleIdx),r.apply(this,f)}catch(h){return this.invokeRuleCatch(h,a,i)}finally{this.ruleFinallyStateUpdate()}},Object.assign(s,{ruleName:t,originalGrammarAction:r})}invokeRuleCatch(t,r,n){let a=this.RULE_STACK.length===1,i=r&&!this.isBackTracking()&&this.recoveryEnabled;if(lp(t)){let o=t;if(i){let s=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(s))if(o.resyncedTokens=this.reSyncTo(s),this.outputCst){let l=this.CST_STACK[this.CST_STACK.length-1];return l.recoveredNode=!0,l}else return n(t);else{if(this.outputCst){let l=this.CST_STACK[this.CST_STACK.length-1];l.recoveredNode=!0,o.partialCstResult=l}throw o}}else{if(a)return this.moveToTerminatedState(),n(t);throw o}}else throw t}optionInternal(t,r){let n=this.getKeyForAutomaticLookahead(512,r);return this.optionInternalLogic(t,r,n)}optionInternalLogic(t,r,n){let a=this.getLaFuncFromCache(n),i;if(typeof t!="function"){i=t.DEF;let o=t.GATE;if(o!==void 0){let s=a;a=()=>o.call(this)&&s.call(this)}}else i=t;if(a.call(this)===!0)return i.call(this)}atLeastOneInternal(t,r){let n=this.getKeyForAutomaticLookahead(1024,t);return this.atLeastOneInternalLogic(t,r,n)}atLeastOneInternalLogic(t,r,n){let a=this.getLaFuncFromCache(n),i;if(typeof r!="function"){i=r.DEF;let o=r.GATE;if(o!==void 0){let s=a;a=()=>o.call(this)&&s.call(this)}}else i=r;if(a.call(this)===!0){let o=this.doSingleRepetition(i);for(;a.call(this)===!0&&o===!0;)o=this.doSingleRepetition(i)}else throw this.raiseEarlyExitException(t,Ea.REPETITION_MANDATORY,r.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[t,r],a,1024,t,i6)}atLeastOneSepFirstInternal(t,r){let n=this.getKeyForAutomaticLookahead(1536,t);this.atLeastOneSepFirstInternalLogic(t,r,n)}atLeastOneSepFirstInternalLogic(t,r,n){let a=r.DEF,i=r.SEP;if(this.getLaFuncFromCache(n).call(this)===!0){a.call(this);let s=()=>this.tokenMatcher(this.LA(1),i);for(;this.tokenMatcher(this.LA(1),i)===!0;)this.CONSUME(i),a.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,i,s,a,x4],s,1536,t,x4)}else throw this.raiseEarlyExitException(t,Ea.REPETITION_MANDATORY_WITH_SEPARATOR,r.ERR_MSG)}manyInternal(t,r){let n=this.getKeyForAutomaticLookahead(768,t);return this.manyInternalLogic(t,r,n)}manyInternalLogic(t,r,n){let a=this.getLaFuncFromCache(n),i;if(typeof r!="function"){i=r.DEF;let s=r.GATE;if(s!==void 0){let l=a;a=()=>s.call(this)&&l.call(this)}}else i=r;let o=!0;for(;a.call(this)===!0&&o===!0;)o=this.doSingleRepetition(i);this.attemptInRepetitionRecovery(this.manyInternal,[t,r],a,768,t,a6,o)}manySepFirstInternal(t,r){let n=this.getKeyForAutomaticLookahead(1280,t);this.manySepFirstInternalLogic(t,r,n)}manySepFirstInternalLogic(t,r,n){let a=r.DEF,i=r.SEP;if(this.getLaFuncFromCache(n).call(this)===!0){a.call(this);let s=()=>this.tokenMatcher(this.LA(1),i);for(;this.tokenMatcher(this.LA(1),i)===!0;)this.CONSUME(i),a.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,i,s,a,y4],s,1280,t,y4)}}repetitionSepSecondInternal(t,r,n,a,i){for(;n();)this.CONSUME(r),a.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,r,n,a,i],n,1536,t,i)}doSingleRepetition(t){let r=this.getLexerPosition();return t.call(this),this.getLexerPosition()>r}orInternal(t,r){let n=this.getKeyForAutomaticLookahead(256,r),a=Ie(t)?t:t.DEF,o=this.getLaFuncFromCache(n).call(this,a);if(o!==void 0)return a[o].ALT.call(this);this.raiseNoAltException(r,t.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){let t=this.LA(1),r=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:t,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new k4(r,t))}}subruleInternal(t,r,n){let a;try{let i=n!==void 0?n.ARGS:void 0;return this.subruleIdx=r,a=t.apply(this,i),this.cstPostNonTerminal(a,n!==void 0&&n.LABEL!==void 0?n.LABEL:t.ruleName),a}catch(i){throw this.subruleInternalError(i,n,t.ruleName)}}subruleInternalError(t,r,n){throw lp(t)&&t.partialCstResult!==void 0&&(this.cstPostNonTerminal(t.partialCstResult,r!==void 0&&r.LABEL!==void 0?r.LABEL:n),delete t.partialCstResult),t}consumeInternal(t,r,n){let a;try{let i=this.LA(1);this.tokenMatcher(i,t)===!0?(this.consumeToken(),a=i):this.consumeInternalError(t,i,n)}catch(i){a=this.consumeInternalRecovery(t,r,i)}return this.cstPostTerminal(n!==void 0&&n.LABEL!==void 0?n.LABEL:t.name,a),a}consumeInternalError(t,r,n){let a,i=this.LA(0);throw n!==void 0&&n.ERR_MSG?a=n.ERR_MSG:a=this.errorMessageProvider.buildMismatchTokenMessage({expected:t,actual:r,previous:i,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new Tm(a,r,i))}consumeInternalRecovery(t,r,n){if(this.recoveryEnabled&&n.name==="MismatchedTokenException"&&!this.isBackTracking()){let a=this.getFollowsForInRuleRecovery(t,r);try{return this.tryInRuleRecovery(t,a)}catch(i){throw i.name===vB?n:i}}else throw n}saveRecogState(){let t=this.errors,r=Cn(this.RULE_STACK);return{errors:t,lexerState:this.exportLexerState(),RULE_STACK:r,CST_STACK:this.CST_STACK}}reloadRecogState(t){this.errors=t.errors,this.importLexerState(t.lexerState),this.RULE_STACK=t.RULE_STACK}ruleInvocationStateUpdate(t,r,n){this.RULE_OCCURRENCE_STACK.push(n),this.RULE_STACK.push(t),this.cstInvocationStateUpdate(r)}isBackTracking(){return this.isBackTrackingStack.length!==0}getCurrRuleFullName(){let t=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[t]}shortRuleNameToFullName(t){return this.shortRuleNameToFull[t]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),gl)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}}});var E6,J1t=B(()=>{by();We();yy();Vs();E6=class{initErrorHandler(t){this._errors=[],this.errorMessageProvider=Re(t,"errorMessageProvider")?t.errorMessageProvider:fs.errorMessageProvider}SAVE_ERROR(t){if(lp(t))return t.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:Cn(this.RULE_OCCURRENCE_STACK)},this._errors.push(t),t;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return Cn(this._errors)}set errors(t){this._errors=t}raiseEarlyExitException(t,r,n){let a=this.getCurrRuleFullName(),i=this.getGAstProductions()[a],s=vy(t,i,r,this.maxLookahead)[0],l=[];for(let f=1;f<=this.maxLookahead;f++)l.push(this.LA(f));let u=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:s,actual:l,previous:this.LA(0),customUserDescription:n,ruleName:a});throw this.SAVE_ERROR(new C4(u,this.LA(1),this.LA(0)))}raiseNoAltException(t,r){let n=this.getCurrRuleFullName(),a=this.getGAstProductions()[n],i=gy(t,a,this.maxLookahead),o=[];for(let u=1;u<=this.maxLookahead;u++)o.push(this.LA(u));let s=this.LA(0),l=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:i,actual:o,previous:s,customUserDescription:r,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new E4(l,this.LA(1),s))}}});var k6,tvt=B(()=>{b4();We();k6=class{initContentAssist(){}computeContentAssist(t,r){let n=this.gastProductionsCache[t];if(dr(n))throw Error(`Rule ->${t}<- does not exist in this grammar.`);return s6([n],r,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(t){let r=Ni(t.ruleStack),a=this.getGAstProductions()[r];return new n6(a,t).startWalking()}}});function D4(e,t,r,n=!1){S6(r);let a=ao(this.recordingProdStack),i=ni(t)?t:t.DEF,o=new e({definition:[],idx:r});return n&&(o.separator=t.SEP),Re(t,"MAX_LOOKAHEAD")&&(o.maxLookahead=t.MAX_LOOKAHEAD),this.recordingProdStack.push(o),i.call(this),a.definition.push(o),this.recordingProdStack.pop(),D6}function SZt(e,t){S6(t);let r=ao(this.recordingProdStack),n=Ie(e)===!1,a=n===!1?e:e.DEF,i=new jn({definition:[],idx:t,ignoreAmbiguities:n&&e.IGNORE_AMBIGUITIES===!0});Re(e,"MAX_LOOKAHEAD")&&(i.maxLookahead=e.MAX_LOOKAHEAD);let o=Xb(a,s=>ni(s.GATE));return i.hasPredicates=o,r.definition.push(i),Ct(a,s=>{let l=new ia({definition:[]});i.definition.push(l),Re(s,"IGNORE_AMBIGUITIES")?l.ignoreAmbiguities=s.IGNORE_AMBIGUITIES:Re(s,"GATE")&&(l.ignoreAmbiguities=!0),this.recordingProdStack.push(l),s.ALT.call(this),this.recordingProdStack.pop()}),D6}function nvt(e){return e===0?"":`${e}`}function S6(e){if(e<0||e>rvt){let t=new Error(`Invalid DSL Method idx value: <${e}>
	Idx value must be a none negative value smaller than ${rvt+1}`);throw t.KNOWN_RECORDER_ERROR=!0,t}}var D6,evt,rvt,avt,ivt,CZt,C6,ovt=B(()=>{We();cs();m4();_m();wm();Vs();p6();D6={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(D6);evt=!0,rvt=Math.pow(2,8)-1,avt=sp({name:"RECORDING_PHASE_TOKEN",pattern:Ta.NA});hh([avt]);ivt=ph(avt,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1);Object.freeze(ivt);CZt={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}},C6=class{initGastRecorder(t){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let t=0;t<10;t++){let r=t>0?t:"";this[`CONSUME${r}`]=function(n,a){return this.consumeInternalRecord(n,t,a)},this[`SUBRULE${r}`]=function(n,a){return this.subruleInternalRecord(n,t,a)},this[`OPTION${r}`]=function(n){return this.optionInternalRecord(n,t)},this[`OR${r}`]=function(n){return this.orInternalRecord(n,t)},this[`MANY${r}`]=function(n){this.manyInternalRecord(t,n)},this[`MANY_SEP${r}`]=function(n){this.manySepFirstInternalRecord(t,n)},this[`AT_LEAST_ONE${r}`]=function(n){this.atLeastOneInternalRecord(t,n)},this[`AT_LEAST_ONE_SEP${r}`]=function(n){this.atLeastOneSepFirstInternalRecord(t,n)}}this.consume=function(t,r,n){return this.consumeInternalRecord(r,t,n)},this.subrule=function(t,r,n){return this.subruleInternalRecord(r,t,n)},this.option=function(t,r){return this.optionInternalRecord(r,t)},this.or=function(t,r){return this.orInternalRecord(r,t)},this.many=function(t,r){this.manyInternalRecord(t,r)},this.atLeastOne=function(t,r){this.atLeastOneInternalRecord(t,r)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{let t=this;for(let r=0;r<10;r++){let n=r>0?r:"";delete t[`CONSUME${n}`],delete t[`SUBRULE${n}`],delete t[`OPTION${n}`],delete t[`OR${n}`],delete t[`MANY${n}`],delete t[`MANY_SEP${n}`],delete t[`AT_LEAST_ONE${n}`],delete t[`AT_LEAST_ONE_SEP${n}`]}delete t.consume,delete t.subrule,delete t.option,delete t.or,delete t.many,delete t.atLeastOne,delete t.ACTION,delete t.BACKTRACK,delete t.LA})}ACTION_RECORD(t){}BACKTRACK_RECORD(t,r){return()=>!0}LA_RECORD(t){return _y}topLevelRuleRecord(t,r){try{let n=new ls({definition:[],name:t});return n.name=t,this.recordingProdStack.push(n),r.call(this),this.recordingProdStack.pop(),n}catch(n){if(n.KNOWN_RECORDER_ERROR!==!0)try{n.message=n.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch{throw n}throw n}}optionInternalRecord(t,r){return D4.call(this,Mn,t,r)}atLeastOneInternalRecord(t,r){D4.call(this,oa,r,t)}atLeastOneSepFirstInternalRecord(t,r){D4.call(this,sa,r,t,evt)}manyInternalRecord(t,r){D4.call(this,Xr,r,t)}manySepFirstInternalRecord(t,r){D4.call(this,Xn,r,t,evt)}orInternalRecord(t,r){return SZt.call(this,t,r)}subruleInternalRecord(t,r,n){if(S6(r),!t||Re(t,"ruleName")===!1){let s=new Error(`<SUBRULE${nvt(r)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(t)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw s.KNOWN_RECORDER_ERROR=!0,s}let a=ao(this.recordingProdStack),i=t.ruleName,o=new Ln({idx:r,nonTerminalName:i,label:n?.LABEL,referencedRule:void 0});return a.definition.push(o),this.outputCst?CZt:D6}consumeInternalRecord(t,r,n){if(S6(r),!iB(t)){let o=new Error(`<CONSUME${nvt(r)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(t)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw o.KNOWN_RECORDER_ERROR=!0,o}let a=ao(this.recordingProdStack),i=new Cr({idx:r,terminalType:t,label:n?.LABEL});return a.definition.push(i),ivt}}});var A6,svt=B(()=>{We();sy();Vs();A6=class{initPerformanceTracer(t){if(Re(t,"traceInitPerf")){let r=t.traceInitPerf,n=typeof r=="number";this.traceInitMaxIdent=n?r:1/0,this.traceInitPerf=n?r>0:r}else this.traceInitMaxIdent=0,this.traceInitPerf=fs.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(t,r){if(this.traceInitPerf===!0){this.traceInitIndent++;let n=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${n}--> <${t}>`);let{time:a,value:i}=h4(r),o=a>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&o(`${n}<-- <${t}> time: ${a}ms`),this.traceInitIndent--,i}else return r()}}});function lvt(e,t){t.forEach(r=>{let n=r.prototype;Object.getOwnPropertyNames(n).forEach(a=>{if(a==="constructor")return;let i=Object.getOwnPropertyDescriptor(n,a);i&&(i.get||i.set)?Object.defineProperty(e.prototype,a,i):e.prototype[a]=r.prototype[a]})})}var uvt=B(()=>{});function L6(e=void 0){return function(){return e}}var _y,fs,wy,_i,A4,L4,Vs=B(()=>{We();sy();$gt();wm();py();O1t();yB();q1t();j1t();K1t();Q1t();Z1t();J1t();tvt();ovt();svt();uvt();T4();_y=ph(gl,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(_y);fs=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:mh,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),wy=Object.freeze({recoveryValueFunc:()=>{},resyncEnabled:!0});(function(e){e[e.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",e[e.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",e[e.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",e[e.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",e[e.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",e[e.LEFT_RECURSION=5]="LEFT_RECURSION",e[e.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",e[e.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",e[e.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",e[e.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",e[e.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",e[e.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",e[e.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",e[e.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"})(_i||(_i={}));A4=class e{static performSelfAnalysis(t){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let t;this.selfAnalysisDone=!0;let r=this.className;this.TRACE_INIT("toFastProps",()=>{d4(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),Ct(this.definedRulesNames,a=>{let o=this[a].originalGrammarAction,s;this.TRACE_INIT(`${a} Rule`,()=>{s=this.topLevelRuleRecord(a,o)}),this.gastProductionsCache[a]=s})}finally{this.disableRecording()}});let n=[];if(this.TRACE_INIT("Grammar Resolving",()=>{n=R1t({rules:yr(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(n)}),this.TRACE_INIT("Grammar Validations",()=>{if(cr(n)&&this.skipValidations===!1){let a=N1t({rules:yr(this.gastProductionsCache),tokenTypes:yr(this.tokensMap),errMsgProvider:Vu,grammarName:r}),i=C1t({lookaheadStrategy:this.lookaheadStrategy,rules:yr(this.gastProductionsCache),tokenTypes:yr(this.tokensMap),grammarName:r});this.definitionErrors=this.definitionErrors.concat(a,i)}}),cr(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{let a=Bgt(yr(this.gastProductionsCache));this.resyncFollows=a}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var a,i;(i=(a=this.lookaheadStrategy).initialize)===null||i===void 0||i.call(a,{rules:yr(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(yr(this.gastProductionsCache))})),!e.DEFER_DEFINITION_ERRORS_HANDLING&&!cr(this.definitionErrors))throw t=Zt(this.definitionErrors,a=>a.message),new Error(`Parser Definition Errors detected:
 ${t.join(`
-------------------------------
`)}`)})}constructor(t,r){this.definitionErrors=[],this.selfAnalysisDone=!1;let n=this;if(n.initErrorHandler(r),n.initLexerAdapter(),n.initLooksAhead(r),n.initRecognizerEngine(t,r),n.initRecoverable(r),n.initTreeBuilder(r),n.initContentAssist(),n.initGastRecorder(r),n.initPerformanceTracer(r),Re(r,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=Re(r,"skipValidations")?r.skipValidations:fs.skipValidations}};A4.DEFER_DEFINITION_ERRORS_HANDLING=!1;lvt(A4,[h6,g6,b6,_6,T6,w6,E6,k6,C6,A6]);L4=class extends A4{constructor(t,r=fs){let n=Cn(r);n.outputCst=!1,super(t,n)}}});var cvt=B(()=>{cs()});var fvt=B(()=>{});var hvt=B(()=>{cvt();fvt()});var dvt=B(()=>{YP()});var up=B(()=>{YP();Vs();m4();wm();yy();xB();py();by();oB();cs();cs();hvt();dvt()});function Em(e,t,r){return`${e.name}_${t}_${r}`}function vvt(e){let t={decisionMap:{},decisionStates:[],ruleToStartState:new Map,ruleToStopState:new Map,states:[]};NZt(t,e);let r=e.length;for(let n=0;n<r;n++){let a=e[n],i=km(t,a,a);i!==void 0&&VZt(t,a,i)}return t}function NZt(e,t){let r=t.length;for(let n=0;n<r;n++){let a=t[n],i=Bi(e,a,void 0,{type:AZt}),o=Bi(e,a,void 0,{type:ky});i.stop=o,e.ruleToStartState.set(a,i),e.ruleToStopState.set(a,o)}}function yvt(e,t,r){return r instanceof Cr?DB(e,t,r.terminalType,r):r instanceof Ln?GZt(e,t,r):r instanceof jn?$Zt(e,t,r):r instanceof Mn?zZt(e,t,r):r instanceof Xr?OZt(e,t,r):r instanceof Xn?FZt(e,t,r):r instanceof oa?PZt(e,t,r):r instanceof sa?BZt(e,t,r):km(e,t,r)}function OZt(e,t,r){let n=Bi(e,t,r,{type:mvt});fp(e,n);let a=Cy(e,t,n,r,km(e,t,r));return bvt(e,t,r,a)}function FZt(e,t,r){let n=Bi(e,t,r,{type:mvt});fp(e,n);let a=Cy(e,t,n,r,km(e,t,r)),i=DB(e,t,r.separator,r);return bvt(e,t,r,a,i)}function PZt(e,t,r){let n=Bi(e,t,r,{type:pvt});fp(e,n);let a=Cy(e,t,n,r,km(e,t,r));return xvt(e,t,r,a)}function BZt(e,t,r){let n=Bi(e,t,r,{type:pvt});fp(e,n);let a=Cy(e,t,n,r,km(e,t,r)),i=DB(e,t,r.separator,r);return xvt(e,t,r,a,i)}function $Zt(e,t,r){let n=Bi(e,t,r,{type:cp});fp(e,n);let a=Zt(r.definition,o=>yvt(e,t,o));return Cy(e,t,n,r,...a)}function zZt(e,t,r){let n=Bi(e,t,r,{type:cp});fp(e,n);let a=Cy(e,t,n,r,km(e,t,r));return qZt(e,t,r,a)}function km(e,t,r){let n=yn(Zt(r.definition,a=>yvt(e,t,a)),a=>a!==void 0);return n.length===1?n[0]:n.length===0?void 0:WZt(e,n)}function xvt(e,t,r,n,a){let i=n.left,o=n.right,s=Bi(e,t,r,{type:RZt});fp(e,s);let l=Bi(e,t,r,{type:gvt});return i.loopback=s,l.loopback=s,e.decisionMap[Em(t,a?"RepetitionMandatoryWithSeparator":"RepetitionMandatory",r.idx)]=s,si(o,s),a===void 0?(si(s,i),si(s,l)):(si(s,l),si(s,a.left),si(a.right,i)),{left:i,right:l}}function bvt(e,t,r,n,a){let i=n.left,o=n.right,s=Bi(e,t,r,{type:IZt});fp(e,s);let l=Bi(e,t,r,{type:gvt}),u=Bi(e,t,r,{type:MZt});return s.loopback=u,l.loopback=u,si(s,i),si(s,l),si(o,u),a!==void 0?(si(u,l),si(u,a.left),si(a.right,i)):si(u,s),e.decisionMap[Em(t,a?"RepetitionWithSeparator":"Repetition",r.idx)]=s,{left:s,right:l}}function qZt(e,t,r,n){let a=n.left,i=n.right;return si(a,i),e.decisionMap[Em(t,"Option",r.idx)]=a,n}function fp(e,t){return e.decisionStates.push(t),t.decision=e.decisionStates.length-1,t.decision}function Cy(e,t,r,n,...a){let i=Bi(e,t,n,{type:LZt,start:r});r.end=i;for(let s of a)s!==void 0?(si(r,s.left),si(s.right,i)):si(r,i);let o={left:r,right:i};return e.decisionMap[Em(t,UZt(n),n.idx)]=r,o}function UZt(e){if(e instanceof jn)return"Alternation";if(e instanceof Mn)return"Option";if(e instanceof Xr)return"Repetition";if(e instanceof Xn)return"RepetitionWithSeparator";if(e instanceof oa)return"RepetitionMandatory";if(e instanceof sa)return"RepetitionMandatoryWithSeparator";throw new Error("Invalid production type encountered")}function WZt(e,t){let r=t.length;for(let i=0;i<r-1;i++){let o=t[i],s;o.left.transitions.length===1&&(s=o.left.transitions[0]);let l=s instanceof Ey,u=s,f=t[i+1].left;o.left.type===cp&&o.right.type===cp&&s!==void 0&&(l&&u.followState===o.right||s.target===o.right)?(l?u.followState=f:s.target=f,HZt(e,o.right)):si(o.right,f)}let n=t[0],a=t[r-1];return{left:n.left,right:a.right}}function DB(e,t,r,n){let a=Bi(e,t,n,{type:cp}),i=Bi(e,t,n,{type:cp});return AB(a,new Ty(i,r)),{left:a,right:i}}function GZt(e,t,r){let n=r.referencedRule,a=e.ruleToStartState.get(n),i=Bi(e,t,r,{type:cp}),o=Bi(e,t,r,{type:cp}),s=new Ey(a,n,o);return AB(i,s),{left:i,right:o}}function VZt(e,t,r){let n=e.ruleToStartState.get(t);si(n,r.left);let a=e.ruleToStopState.get(t);return si(r.right,a),{left:n,right:a}}function si(e,t){let r=new I4(t);AB(e,r)}function Bi(e,t,r,n){let a=Object.assign({atn:e,production:r,epsilonOnlyTransitions:!1,rule:t,transitions:[],nextTokenWithinRule:[],stateNumber:e.states.length},n);return e.states.push(a),a}function AB(e,t){e.transitions.length===0&&(e.epsilonOnlyTransitions=t.isEpsilon()),e.transitions.push(t)}function HZt(e,t){e.states.splice(e.states.indexOf(t),1)}var cp,AZt,pvt,mvt,ky,LZt,MZt,IZt,RZt,gvt,M4,Ty,I4,Ey,_vt=B(()=>{N1();ER();up();cp=1,AZt=2,pvt=4,mvt=5,ky=7,LZt=8,MZt=9,IZt=10,RZt=11,gvt=12,M4=class{constructor(t){this.target=t}isEpsilon(){return!1}},Ty=class extends M4{constructor(t,r){super(t),this.tokenType=r}},I4=class extends M4{constructor(t){super(t)}isEpsilon(){return!0}},Ey=class extends M4{constructor(t,r,n){super(t),this.rule=r,this.followState=n}isEpsilon(){return!0}}});function LB(e,t=!0){return`${t?`a${e.alt}`:""}s${e.state.stateNumber}:${e.stack.map(r=>r.stateNumber.toString()).join("_")}`}var R4,Sy,wvt=B(()=>{N1();R4={},Sy=class{constructor(){this.map={},this.configs=[]}get size(){return this.configs.length}finalize(){this.map={}}add(t){let r=LB(t);r in this.map||(this.map[r]=this.configs.length,this.configs.push(t))}get elements(){return this.configs}get alts(){return Zt(this.configs,t=>t.alt)}get key(){let t="";for(let r in this.map)t+=r+":";return t}}});function YZt(e,t){let r={};return n=>{let a=n.toString(),i=r[a];return i!==void 0||(i={atnStartState:e,decision:t,states:{}},r[a]=i),i}}function Evt(e,t=!0){let r=new Set;for(let n of e){let a=new Set;for(let i of n){if(i===void 0){if(t)break;return!1}let o=[i.tokenTypeIdx].concat(i.categoryMatches);for(let s of o)if(r.has(s)){if(!a.has(s))return!1}else r.add(s),a.add(s)}}return!0}function XZt(e){let t=e.decisionStates.length,r=Array(t);for(let n=0;n<t;n++)r[n]=YZt(e.decisionStates[n],n);return r}function MB(e,t,r,n){let a=e[t](r),i=a.start;if(i===void 0){let s=iJt(a.atnStartState);i=Svt(a,Cvt(s)),a.start=i}return jZt.apply(this,[a,i,r,n])}function jZt(e,t,r,n){let a=t,i=1,o=[],s=this.LA(i++);for(;;){let l=eJt(a,s);if(l===void 0&&(l=KZt.apply(this,[e,a,s,i,r,n])),l===R4)return tJt(o,a,s);if(l.isAcceptState===!0)return l.prediction;a=l,o.push(s),s=this.LA(i++)}}function KZt(e,t,r,n,a,i){let o=rJt(t.configs,r,a);if(o.size===0)return kvt(e,t,r,R4),R4;let s=Cvt(o),l=aJt(o,a);if(l!==void 0)s.isAcceptState=!0,s.prediction=l,s.configs.uniqueAlt=l;else if(uJt(o)){let u=Iu(o.alts);s.isAcceptState=!0,s.prediction=u,s.configs.uniqueAlt=u,QZt.apply(this,[e,n,o.alts,i])}return s=kvt(e,t,r,s),s}function QZt(e,t,r,n){let a=[];for(let u=1;u<=t;u++)a.push(this.LA(u).tokenType);let i=e.atnStartState,o=i.rule,s=i.production,l=ZZt({topLevelRule:o,ambiguityIndices:r,production:s,prefixPath:a});n(l)}function ZZt(e){let t=Zt(e.prefixPath,a=>dh(a)).join(", "),r=e.production.idx===0?"":e.production.idx,n=`Ambiguous Alternatives Detected: <${e.ambiguityIndices.join(", ")}> in <${JZt(e.production)}${r}> inside <${e.topLevelRule.name}> Rule,
<${t}> may appears as a prefix path in all these alternatives.
`;return n=n+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,n}function JZt(e){if(e instanceof Ln)return"SUBRULE";if(e instanceof Mn)return"OPTION";if(e instanceof jn)return"OR";if(e instanceof oa)return"AT_LEAST_ONE";if(e instanceof sa)return"AT_LEAST_ONE_SEP";if(e instanceof Xn)return"MANY_SEP";if(e instanceof Xr)return"MANY";if(e instanceof Cr)return"CONSUME";throw Error("non exhaustive match")}function tJt(e,t,r){let n=io(t.configs.elements,i=>i.state.transitions),a=dct(n.filter(i=>i instanceof Ty).map(i=>i.tokenType),i=>i.tokenTypeIdx);return{actualToken:r,possibleTokenTypes:a,tokenPath:e}}function eJt(e,t){return e.edges[t.tokenTypeIdx]}function rJt(e,t,r){let n=new Sy,a=[];for(let o of e.elements){if(r.is(o.alt)===!1)continue;if(o.state.type===ky){a.push(o);continue}let s=o.state.transitions.length;for(let l=0;l<s;l++){let u=o.state.transitions[l],f=nJt(u,t);f!==void 0&&n.add({state:f,alt:o.alt,stack:o.stack})}}let i;if(a.length===0&&n.size===1&&(i=n),i===void 0){i=new Sy;for(let o of n.elements)I6(o,i)}if(a.length>0&&!sJt(i))for(let o of a)i.add(o);return i}function nJt(e,t){if(e instanceof Ty&&v4(t,e.tokenType))return e.target}function aJt(e,t){let r;for(let n of e.elements)if(t.is(n.alt)===!0){if(r===void 0)r=n.alt;else if(r!==n.alt)return}return r}function Cvt(e){return{configs:e,edges:{},isAcceptState:!1,prediction:-1}}function kvt(e,t,r,n){return n=Svt(e,n),t.edges[r.tokenTypeIdx]=n,n}function Svt(e,t){if(t===R4)return t;let r=t.configs.key,n=e.states[r];return n!==void 0?n:(t.configs.finalize(),e.states[r]=t,t)}function iJt(e){let t=new Sy,r=e.transitions.length;for(let n=0;n<r;n++){let i={state:e.transitions[n].target,alt:n,stack:[]};I6(i,t)}return t}function I6(e,t){let r=e.state;if(r.type===ky){if(e.stack.length>0){let a=[...e.stack],o={state:a.pop(),alt:e.alt,stack:a};I6(o,t)}else t.add(e);return}r.epsilonOnlyTransitions||t.add(e);let n=r.transitions.length;for(let a=0;a<n;a++){let i=r.transitions[a],o=oJt(e,i);o!==void 0&&I6(o,t)}}function oJt(e,t){if(t instanceof I4)return{state:t.target,alt:e.alt,stack:e.stack};if(t instanceof Ey){let r=[...e.stack,t.followState];return{state:t.target,alt:e.alt,stack:r}}}function sJt(e){for(let t of e.elements)if(t.state.type===ky)return!0;return!1}function lJt(e){for(let t of e.elements)if(t.state.type!==ky)return!1;return!0}function uJt(e){if(lJt(e))return!0;let t=cJt(e.elements);return fJt(t)&&!hJt(t)}function cJt(e){let t=new Map;for(let r of e){let n=LB(r,!1),a=t.get(n);a===void 0&&(a={},t.set(n,a)),a[r.alt]=!0}return t}function fJt(e){for(let t of Array.from(e.values()))if(Object.keys(t).length>1)return!0;return!1}function hJt(e){for(let t of Array.from(e.values()))if(Object.keys(t).length===1)return!0;return!1}var M6,Tvt,N4,Dvt=B(()=>{up();_vt();wvt();IR();CR();pct();N1();uk();Bk();Wk();FR();M6=class{constructor(){this.predicates=[]}is(t){return t>=this.predicates.length||this.predicates[t]}set(t,r){this.predicates[t]=r}toString(){let t="",r=this.predicates.length;for(let n=0;n<r;n++)t+=this.predicates[n]===!0?"1":"0";return t}},Tvt=new M6,N4=class extends gh{constructor(t){var r;super(),this.logging=(r=t?.logging)!==null&&r!==void 0?r:n=>console.log(n)}initialize(t){this.atn=vvt(t.rules),this.dfas=XZt(this.atn)}validateAmbiguousAlternationAlternatives(){return[]}validateEmptyOrAlternatives(){return[]}buildLookaheadForAlternation(t){let{prodOccurrence:r,rule:n,hasPredicates:a,dynamicTokensEnabled:i}=t,o=this.dfas,s=this.logging,l=Em(n,"Alternation",r),f=this.atn.decisionMap[l].decision,h=Zt(u6({maxLookahead:1,occurrence:r,prodType:"Alternation",rule:n}),d=>Zt(d,p=>p[0]));if(Evt(h,!1)&&!i){let d=xn(h,(p,m,g)=>(Ct(m,v=>{v&&(p[v.tokenTypeIdx]=g,Ct(v.categoryMatches,y=>{p[y]=g}))}),p),{});return a?function(p){var m;let g=this.LA(1),v=d[g.tokenTypeIdx];if(p!==void 0&&v!==void 0){let y=(m=p[v])===null||m===void 0?void 0:m.GATE;if(y!==void 0&&y.call(this)===!1)return}return v}:function(){let p=this.LA(1);return d[p.tokenTypeIdx]}}else return a?function(d){let p=new M6,m=d===void 0?0:d.length;for(let v=0;v<m;v++){let y=d?.[v].GATE;p.set(v,y===void 0||y.call(this))}let g=MB.call(this,o,f,p,s);return typeof g=="number"?g:void 0}:function(){let d=MB.call(this,o,f,Tvt,s);return typeof d=="number"?d:void 0}}buildLookaheadForOptional(t){let{prodOccurrence:r,rule:n,prodType:a,dynamicTokensEnabled:i}=t,o=this.dfas,s=this.logging,l=Em(n,a,r),f=this.atn.decisionMap[l].decision,h=Zt(u6({maxLookahead:1,occurrence:r,prodType:a,rule:n}),d=>Zt(d,p=>p[0]));if(Evt(h)&&h[0][0]&&!i){let d=h[0],p=vn(d);if(p.length===1&&cr(p[0].categoryMatches)){let g=p[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===g}}else{let m=xn(p,(g,v)=>(v!==void 0&&(g[v.tokenTypeIdx]=!0,Ct(v.categoryMatches,y=>{g[y]=!0})),g),{});return function(){let g=this.LA(1);return m[g.tokenTypeIdx]===!0}}}return function(){let d=MB.call(this,o,f,Tvt,s);return typeof d=="object"?!1:d===0}}}});var Avt=B(()=>{Dvt()});var Lvt,IB,Mvt,R6,_n,jr,N6,Ivt,RB,Rvt,Nvt,Ovt,Fvt,NB,Pvt,Bvt,$vt,O6,Dy,Ay,OB,Ly,zvt,FB,PB,BB,$B,zB,qvt,Uvt,qB,Wvt,UB,O4,Gvt,Vvt,Hvt,Yvt,Xvt,jvt,Kvt,Qvt,F6,Zvt,Jvt,tyt,eyt,ryt,nyt,ayt,iyt,oyt,syt,lyt,P6,uyt,cyt,fyt,hyt,dyt,pyt,myt,gyt,vyt,yyt,xyt,byt,_yt,WB,GB,wyt,Tyt,Eyt,kyt,Cyt,Syt,Dyt,Ayt,Lyt,VB,qt,HB=B(()=>{"use strict";(function(e){function t(r){return typeof r=="string"}e.is=t})(Lvt||(Lvt={}));(function(e){function t(r){return typeof r=="string"}e.is=t})(IB||(IB={}));(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}e.is=t})(Mvt||(Mvt={}));(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}e.is=t})(R6||(R6={}));(function(e){function t(n,a){return n===Number.MAX_VALUE&&(n=R6.MAX_VALUE),a===Number.MAX_VALUE&&(a=R6.MAX_VALUE),{line:n,character:a}}e.create=t;function r(n){let a=n;return qt.objectLiteral(a)&&qt.uinteger(a.line)&&qt.uinteger(a.character)}e.is=r})(_n||(_n={}));(function(e){function t(n,a,i,o){if(qt.uinteger(n)&&qt.uinteger(a)&&qt.uinteger(i)&&qt.uinteger(o))return{start:_n.create(n,a),end:_n.create(i,o)};if(_n.is(n)&&_n.is(a))return{start:n,end:a};throw new Error(`Range#create called with invalid arguments[${n}, ${a}, ${i}, ${o}]`)}e.create=t;function r(n){let a=n;return qt.objectLiteral(a)&&_n.is(a.start)&&_n.is(a.end)}e.is=r})(jr||(jr={}));(function(e){function t(n,a){return{uri:n,range:a}}e.create=t;function r(n){let a=n;return qt.objectLiteral(a)&&jr.is(a.range)&&(qt.string(a.uri)||qt.undefined(a.uri))}e.is=r})(N6||(N6={}));(function(e){function t(n,a,i,o){return{targetUri:n,targetRange:a,targetSelectionRange:i,originSelectionRange:o}}e.create=t;function r(n){let a=n;return qt.objectLiteral(a)&&jr.is(a.targetRange)&&qt.string(a.targetUri)&&jr.is(a.targetSelectionRange)&&(jr.is(a.originSelectionRange)||qt.undefined(a.originSelectionRange))}e.is=r})(Ivt||(Ivt={}));(function(e){function t(n,a,i,o){return{red:n,green:a,blue:i,alpha:o}}e.create=t;function r(n){let a=n;return qt.objectLiteral(a)&&qt.numberRange(a.red,0,1)&&qt.numberRange(a.green,0,1)&&qt.numberRange(a.blue,0,1)&&qt.numberRange(a.alpha,0,1)}e.is=r})(RB||(RB={}));(function(e){function t(n,a){return{range:n,color:a}}e.create=t;function r(n){let a=n;return qt.objectLiteral(a)&&jr.is(a.range)&&RB.is(a.color)}e.is=r})(Rvt||(Rvt={}));(function(e){function t(n,a,i){return{label:n,textEdit:a,additionalTextEdits:i}}e.create=t;function r(n){let a=n;return qt.objectLiteral(a)&&qt.string(a.label)&&(qt.undefined(a.textEdit)||Ay.is(a))&&(qt.undefined(a.additionalTextEdits)||qt.typedArray(a.additionalTextEdits,Ay.is))}e.is=r})(Nvt||(Nvt={}));(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(Ovt||(Ovt={}));(function(e){function t(n,a,i,o,s,l){let u={startLine:n,endLine:a};return qt.defined(i)&&(u.startCharacter=i),qt.defined(o)&&(u.endCharacter=o),qt.defined(s)&&(u.kind=s),qt.defined(l)&&(u.collapsedText=l),u}e.create=t;function r(n){let a=n;return qt.objectLiteral(a)&&qt.uinteger(a.startLine)&&qt.uinteger(a.startLine)&&(qt.undefined(a.startCharacter)||qt.uinteger(a.startCharacter))&&(qt.undefined(a.endCharacter)||qt.uinteger(a.endCharacter))&&(qt.undefined(a.kind)||qt.string(a.kind))}e.is=r})(Fvt||(Fvt={}));(function(e){function t(n,a){return{location:n,message:a}}e.create=t;function r(n){let a=n;return qt.defined(a)&&N6.is(a.location)&&qt.string(a.message)}e.is=r})(NB||(NB={}));(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(Pvt||(Pvt={}));(function(e){e.Unnecessary=1,e.Deprecated=2})(Bvt||(Bvt={}));(function(e){function t(r){let n=r;return qt.objectLiteral(n)&&qt.string(n.href)}e.is=t})($vt||($vt={}));(function(e){function t(n,a,i,o,s,l){let u={range:n,message:a};return qt.defined(i)&&(u.severity=i),qt.defined(o)&&(u.code=o),qt.defined(s)&&(u.source=s),qt.defined(l)&&(u.relatedInformation=l),u}e.create=t;function r(n){var a;let i=n;return qt.defined(i)&&jr.is(i.range)&&qt.string(i.message)&&(qt.number(i.severity)||qt.undefined(i.severity))&&(qt.integer(i.code)||qt.string(i.code)||qt.undefined(i.code))&&(qt.undefined(i.codeDescription)||qt.string((a=i.codeDescription)===null||a===void 0?void 0:a.href))&&(qt.string(i.source)||qt.undefined(i.source))&&(qt.undefined(i.relatedInformation)||qt.typedArray(i.relatedInformation,NB.is))}e.is=r})(O6||(O6={}));(function(e){function t(n,a,...i){let o={title:n,command:a};return qt.defined(i)&&i.length>0&&(o.arguments=i),o}e.create=t;function r(n){let a=n;return qt.defined(a)&&qt.string(a.title)&&qt.string(a.command)}e.is=r})(Dy||(Dy={}));(function(e){function t(i,o){return{range:i,newText:o}}e.replace=t;function r(i,o){return{range:{start:i,end:i},newText:o}}e.insert=r;function n(i){return{range:i,newText:""}}e.del=n;function a(i){let o=i;return qt.objectLiteral(o)&&qt.string(o.newText)&&jr.is(o.range)}e.is=a})(Ay||(Ay={}));(function(e){function t(n,a,i){let o={label:n};return a!==void 0&&(o.needsConfirmation=a),i!==void 0&&(o.description=i),o}e.create=t;function r(n){let a=n;return qt.objectLiteral(a)&&qt.string(a.label)&&(qt.boolean(a.needsConfirmation)||a.needsConfirmation===void 0)&&(qt.string(a.description)||a.description===void 0)}e.is=r})(OB||(OB={}));(function(e){function t(r){let n=r;return qt.string(n)}e.is=t})(Ly||(Ly={}));(function(e){function t(i,o,s){return{range:i,newText:o,annotationId:s}}e.replace=t;function r(i,o,s){return{range:{start:i,end:i},newText:o,annotationId:s}}e.insert=r;function n(i,o){return{range:i,newText:"",annotationId:o}}e.del=n;function a(i){let o=i;return Ay.is(o)&&(OB.is(o.annotationId)||Ly.is(o.annotationId))}e.is=a})(zvt||(zvt={}));(function(e){function t(n,a){return{textDocument:n,edits:a}}e.create=t;function r(n){let a=n;return qt.defined(a)&&qB.is(a.textDocument)&&Array.isArray(a.edits)}e.is=r})(FB||(FB={}));(function(e){function t(n,a,i){let o={kind:"create",uri:n};return a!==void 0&&(a.overwrite!==void 0||a.ignoreIfExists!==void 0)&&(o.options=a),i!==void 0&&(o.annotationId=i),o}e.create=t;function r(n){let a=n;return a&&a.kind==="create"&&qt.string(a.uri)&&(a.options===void 0||(a.options.overwrite===void 0||qt.boolean(a.options.overwrite))&&(a.options.ignoreIfExists===void 0||qt.boolean(a.options.ignoreIfExists)))&&(a.annotationId===void 0||Ly.is(a.annotationId))}e.is=r})(PB||(PB={}));(function(e){function t(n,a,i,o){let s={kind:"rename",oldUri:n,newUri:a};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(s.options=i),o!==void 0&&(s.annotationId=o),s}e.create=t;function r(n){let a=n;return a&&a.kind==="rename"&&qt.string(a.oldUri)&&qt.string(a.newUri)&&(a.options===void 0||(a.options.overwrite===void 0||qt.boolean(a.options.overwrite))&&(a.options.ignoreIfExists===void 0||qt.boolean(a.options.ignoreIfExists)))&&(a.annotationId===void 0||Ly.is(a.annotationId))}e.is=r})(BB||(BB={}));(function(e){function t(n,a,i){let o={kind:"delete",uri:n};return a!==void 0&&(a.recursive!==void 0||a.ignoreIfNotExists!==void 0)&&(o.options=a),i!==void 0&&(o.annotationId=i),o}e.create=t;function r(n){let a=n;return a&&a.kind==="delete"&&qt.string(a.uri)&&(a.options===void 0||(a.options.recursive===void 0||qt.boolean(a.options.recursive))&&(a.options.ignoreIfNotExists===void 0||qt.boolean(a.options.ignoreIfNotExists)))&&(a.annotationId===void 0||Ly.is(a.annotationId))}e.is=r})($B||($B={}));(function(e){function t(r){let n=r;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(a=>qt.string(a.kind)?PB.is(a)||BB.is(a)||$B.is(a):FB.is(a)))}e.is=t})(zB||(zB={}));(function(e){function t(n){return{uri:n}}e.create=t;function r(n){let a=n;return qt.defined(a)&&qt.string(a.uri)}e.is=r})(qvt||(qvt={}));(function(e){function t(n,a){return{uri:n,version:a}}e.create=t;function r(n){let a=n;return qt.defined(a)&&qt.string(a.uri)&&qt.integer(a.version)}e.is=r})(Uvt||(Uvt={}));(function(e){function t(n,a){return{uri:n,version:a}}e.create=t;function r(n){let a=n;return qt.defined(a)&&qt.string(a.uri)&&(a.version===null||qt.integer(a.version))}e.is=r})(qB||(qB={}));(function(e){function t(n,a,i,o){return{uri:n,languageId:a,version:i,text:o}}e.create=t;function r(n){let a=n;return qt.defined(a)&&qt.string(a.uri)&&qt.string(a.languageId)&&qt.integer(a.version)&&qt.string(a.text)}e.is=r})(Wvt||(Wvt={}));(function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(r){let n=r;return n===e.PlainText||n===e.Markdown}e.is=t})(UB||(UB={}));(function(e){function t(r){let n=r;return qt.objectLiteral(r)&&UB.is(n.kind)&&qt.string(n.value)}e.is=t})(O4||(O4={}));(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(Gvt||(Gvt={}));(function(e){e.PlainText=1,e.Snippet=2})(Vvt||(Vvt={}));(function(e){e.Deprecated=1})(Hvt||(Hvt={}));(function(e){function t(n,a,i){return{newText:n,insert:a,replace:i}}e.create=t;function r(n){let a=n;return a&&qt.string(a.newText)&&jr.is(a.insert)&&jr.is(a.replace)}e.is=r})(Yvt||(Yvt={}));(function(e){e.asIs=1,e.adjustIndentation=2})(Xvt||(Xvt={}));(function(e){function t(r){let n=r;return n&&(qt.string(n.detail)||n.detail===void 0)&&(qt.string(n.description)||n.description===void 0)}e.is=t})(jvt||(jvt={}));(function(e){function t(r){return{label:r}}e.create=t})(Kvt||(Kvt={}));(function(e){function t(r,n){return{items:r||[],isIncomplete:!!n}}e.create=t})(Qvt||(Qvt={}));(function(e){function t(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}e.fromPlainText=t;function r(n){let a=n;return qt.string(a)||qt.objectLiteral(a)&&qt.string(a.language)&&qt.string(a.value)}e.is=r})(F6||(F6={}));(function(e){function t(r){let n=r;return!!n&&qt.objectLiteral(n)&&(O4.is(n.contents)||F6.is(n.contents)||qt.typedArray(n.contents,F6.is))&&(r.range===void 0||jr.is(r.range))}e.is=t})(Zvt||(Zvt={}));(function(e){function t(r,n){return n?{label:r,documentation:n}:{label:r}}e.create=t})(Jvt||(Jvt={}));(function(e){function t(r,n,...a){let i={label:r};return qt.defined(n)&&(i.documentation=n),qt.defined(a)?i.parameters=a:i.parameters=[],i}e.create=t})(tyt||(tyt={}));(function(e){e.Text=1,e.Read=2,e.Write=3})(eyt||(eyt={}));(function(e){function t(r,n){let a={range:r};return qt.number(n)&&(a.kind=n),a}e.create=t})(ryt||(ryt={}));(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(nyt||(nyt={}));(function(e){e.Deprecated=1})(ayt||(ayt={}));(function(e){function t(r,n,a,i,o){let s={name:r,kind:n,location:{uri:i,range:a}};return o&&(s.containerName=o),s}e.create=t})(iyt||(iyt={}));(function(e){function t(r,n,a,i){return i!==void 0?{name:r,kind:n,location:{uri:a,range:i}}:{name:r,kind:n,location:{uri:a}}}e.create=t})(oyt||(oyt={}));(function(e){function t(n,a,i,o,s,l){let u={name:n,detail:a,kind:i,range:o,selectionRange:s};return l!==void 0&&(u.children=l),u}e.create=t;function r(n){let a=n;return a&&qt.string(a.name)&&qt.number(a.kind)&&jr.is(a.range)&&jr.is(a.selectionRange)&&(a.detail===void 0||qt.string(a.detail))&&(a.deprecated===void 0||qt.boolean(a.deprecated))&&(a.children===void 0||Array.isArray(a.children))&&(a.tags===void 0||Array.isArray(a.tags))}e.is=r})(syt||(syt={}));(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(lyt||(lyt={}));(function(e){e.Invoked=1,e.Automatic=2})(P6||(P6={}));(function(e){function t(n,a,i){let o={diagnostics:n};return a!=null&&(o.only=a),i!=null&&(o.triggerKind=i),o}e.create=t;function r(n){let a=n;return qt.defined(a)&&qt.typedArray(a.diagnostics,O6.is)&&(a.only===void 0||qt.typedArray(a.only,qt.string))&&(a.triggerKind===void 0||a.triggerKind===P6.Invoked||a.triggerKind===P6.Automatic)}e.is=r})(uyt||(uyt={}));(function(e){function t(n,a,i){let o={title:n},s=!0;return typeof a=="string"?(s=!1,o.kind=a):Dy.is(a)?o.command=a:o.edit=a,s&&i!==void 0&&(o.kind=i),o}e.create=t;function r(n){let a=n;return a&&qt.string(a.title)&&(a.diagnostics===void 0||qt.typedArray(a.diagnostics,O6.is))&&(a.kind===void 0||qt.string(a.kind))&&(a.edit!==void 0||a.command!==void 0)&&(a.command===void 0||Dy.is(a.command))&&(a.isPreferred===void 0||qt.boolean(a.isPreferred))&&(a.edit===void 0||zB.is(a.edit))}e.is=r})(cyt||(cyt={}));(function(e){function t(n,a){let i={range:n};return qt.defined(a)&&(i.data=a),i}e.create=t;function r(n){let a=n;return qt.defined(a)&&jr.is(a.range)&&(qt.undefined(a.command)||Dy.is(a.command))}e.is=r})(fyt||(fyt={}));(function(e){function t(n,a){return{tabSize:n,insertSpaces:a}}e.create=t;function r(n){let a=n;return qt.defined(a)&&qt.uinteger(a.tabSize)&&qt.boolean(a.insertSpaces)}e.is=r})(hyt||(hyt={}));(function(e){function t(n,a,i){return{range:n,target:a,data:i}}e.create=t;function r(n){let a=n;return qt.defined(a)&&jr.is(a.range)&&(qt.undefined(a.target)||qt.string(a.target))}e.is=r})(dyt||(dyt={}));(function(e){function t(n,a){return{range:n,parent:a}}e.create=t;function r(n){let a=n;return qt.objectLiteral(a)&&jr.is(a.range)&&(a.parent===void 0||e.is(a.parent))}e.is=r})(pyt||(pyt={}));(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"})(myt||(myt={}));(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(gyt||(gyt={}));(function(e){function t(r){let n=r;return qt.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}e.is=t})(vyt||(vyt={}));(function(e){function t(n,a){return{range:n,text:a}}e.create=t;function r(n){let a=n;return a!=null&&jr.is(a.range)&&qt.string(a.text)}e.is=r})(yyt||(yyt={}));(function(e){function t(n,a,i){return{range:n,variableName:a,caseSensitiveLookup:i}}e.create=t;function r(n){let a=n;return a!=null&&jr.is(a.range)&&qt.boolean(a.caseSensitiveLookup)&&(qt.string(a.variableName)||a.variableName===void 0)}e.is=r})(xyt||(xyt={}));(function(e){function t(n,a){return{range:n,expression:a}}e.create=t;function r(n){let a=n;return a!=null&&jr.is(a.range)&&(qt.string(a.expression)||a.expression===void 0)}e.is=r})(byt||(byt={}));(function(e){function t(n,a){return{frameId:n,stoppedLocation:a}}e.create=t;function r(n){let a=n;return qt.defined(a)&&jr.is(n.stoppedLocation)}e.is=r})(_yt||(_yt={}));(function(e){e.Type=1,e.Parameter=2;function t(r){return r===1||r===2}e.is=t})(WB||(WB={}));(function(e){function t(n){return{value:n}}e.create=t;function r(n){let a=n;return qt.objectLiteral(a)&&(a.tooltip===void 0||qt.string(a.tooltip)||O4.is(a.tooltip))&&(a.location===void 0||N6.is(a.location))&&(a.command===void 0||Dy.is(a.command))}e.is=r})(GB||(GB={}));(function(e){function t(n,a,i){let o={position:n,label:a};return i!==void 0&&(o.kind=i),o}e.create=t;function r(n){let a=n;return qt.objectLiteral(a)&&_n.is(a.position)&&(qt.string(a.label)||qt.typedArray(a.label,GB.is))&&(a.kind===void 0||WB.is(a.kind))&&a.textEdits===void 0||qt.typedArray(a.textEdits,Ay.is)&&(a.tooltip===void 0||qt.string(a.tooltip)||O4.is(a.tooltip))&&(a.paddingLeft===void 0||qt.boolean(a.paddingLeft))&&(a.paddingRight===void 0||qt.boolean(a.paddingRight))}e.is=r})(wyt||(wyt={}));(function(e){function t(r){return{kind:"snippet",value:r}}e.createSnippet=t})(Tyt||(Tyt={}));(function(e){function t(r,n,a,i){return{insertText:r,filterText:n,range:a,command:i}}e.create=t})(Eyt||(Eyt={}));(function(e){function t(r){return{items:r}}e.create=t})(kyt||(kyt={}));(function(e){e.Invoked=0,e.Automatic=1})(Cyt||(Cyt={}));(function(e){function t(r,n){return{range:r,text:n}}e.create=t})(Syt||(Syt={}));(function(e){function t(r,n){return{triggerKind:r,selectedCompletionInfo:n}}e.create=t})(Dyt||(Dyt={}));(function(e){function t(r){let n=r;return qt.objectLiteral(n)&&IB.is(n.uri)&&qt.string(n.name)}e.is=t})(Ayt||(Ayt={}));(function(e){function t(i,o,s,l){return new VB(i,o,s,l)}e.create=t;function r(i){let o=i;return!!(qt.defined(o)&&qt.string(o.uri)&&(qt.undefined(o.languageId)||qt.string(o.languageId))&&qt.uinteger(o.lineCount)&&qt.func(o.getText)&&qt.func(o.positionAt)&&qt.func(o.offsetAt))}e.is=r;function n(i,o){let s=i.getText(),l=a(o,(f,h)=>{let d=f.range.start.line-h.range.start.line;return d===0?f.range.start.character-h.range.start.character:d}),u=s.length;for(let f=l.length-1;f>=0;f--){let h=l[f],d=i.offsetAt(h.range.start),p=i.offsetAt(h.range.end);if(p<=u)s=s.substring(0,d)+h.newText+s.substring(p,s.length);else throw new Error("Overlapping edit");u=d}return s}e.applyEdits=n;function a(i,o){if(i.length<=1)return i;let s=i.length/2|0,l=i.slice(0,s),u=i.slice(s);a(l,o),a(u,o);let f=0,h=0,d=0;for(;f<l.length&&h<u.length;)o(l[f],u[h])<=0?i[d++]=l[f++]:i[d++]=u[h++];for(;f<l.length;)i[d++]=l[f++];for(;h<u.length;)i[d++]=u[h++];return i}})(Lyt||(Lyt={}));VB=class{constructor(t,r,n,a){this._uri=t,this._languageId=r,this._version=n,this._content=a,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){this._content=t.text,this._version=r,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let t=[],r=this._content,n=!0;for(let a=0;a<r.length;a++){n&&(t.push(a),n=!1);let i=r.charAt(a);n=i==="\r"||i===`
`,i==="\r"&&a+1<r.length&&r.charAt(a+1)===`
`&&a++}n&&r.length>0&&t.push(r.length),this._lineOffsets=t}return this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,a=r.length;if(a===0)return _n.create(0,t);for(;n<a;){let o=Math.floor((n+a)/2);r[o]>t?a=o:n=o+1}let i=n-1;return _n.create(i,t-r[i])}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line],a=t.line+1<r.length?r[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,a),n)}get lineCount(){return this.getLineOffsets().length}};(function(e){let t=Object.prototype.toString;function r(p){return typeof p<"u"}e.defined=r;function n(p){return typeof p>"u"}e.undefined=n;function a(p){return p===!0||p===!1}e.boolean=a;function i(p){return t.call(p)==="[object String]"}e.string=i;function o(p){return t.call(p)==="[object Number]"}e.number=o;function s(p,m,g){return t.call(p)==="[object Number]"&&m<=p&&p<=g}e.numberRange=s;function l(p){return t.call(p)==="[object Number]"&&-2147483648<=p&&p<=2147483647}e.integer=l;function u(p){return t.call(p)==="[object Number]"&&0<=p&&p<=2147483647}e.uinteger=u;function f(p){return t.call(p)==="[object Function]"}e.func=f;function h(p){return p!==null&&typeof p=="object"}e.objectLiteral=h;function d(p,m){return Array.isArray(p)&&p.every(m)}e.typedArray=d})(qt||(qt={}))});var F4,P4,Cm,Sm,YB,My,B6=B(()=>{HB();qu();F4=class{constructor(){this.nodeStack=[]}get current(){var t;return(t=this.nodeStack[this.nodeStack.length-1])!==null&&t!==void 0?t:this.rootNode}buildRootNode(t){return this.rootNode=new My(t),this.rootNode.root=this.rootNode,this.nodeStack=[this.rootNode],this.rootNode}buildCompositeNode(t){let r=new Sm;return r.grammarSource=t,r.root=this.rootNode,this.current.content.push(r),this.nodeStack.push(r),r}buildLeafNode(t,r){let n=new Cm(t.startOffset,t.image.length,dv(t),t.tokenType,!r);return n.grammarSource=r,n.root=this.rootNode,this.current.content.push(n),n}removeNode(t){let r=t.container;if(r){let n=r.content.indexOf(t);n>=0&&r.content.splice(n,1)}}addHiddenNodes(t){let r=[];for(let i of t){let o=new Cm(i.startOffset,i.image.length,dv(i),i.tokenType,!0);o.root=this.rootNode,r.push(o)}let n=this.current,a=!1;if(n.content.length>0){n.content.push(...r);return}for(;n.container;){let i=n.container.content.indexOf(n);if(i>0){n.container.content.splice(i,0,...r),a=!0;break}n=n.container}a||this.rootNode.content.unshift(...r)}construct(t){let r=this.current;typeof t.$type=="string"&&(this.current.astNode=t),t.$cstNode=r;let n=this.nodeStack.pop();n?.content.length===0&&this.removeNode(n)}},P4=class{get parent(){return this.container}get feature(){return this.grammarSource}get hidden(){return!1}get astNode(){var t,r;let n=typeof((t=this._astNode)===null||t===void 0?void 0:t.$type)=="string"?this._astNode:(r=this.container)===null||r===void 0?void 0:r.astNode;if(!n)throw new Error("This node has no associated AST element");return n}set astNode(t){this._astNode=t}get element(){return this.astNode}get text(){return this.root.fullText.substring(this.offset,this.end)}},Cm=class extends P4{get offset(){return this._offset}get length(){return this._length}get end(){return this._offset+this._length}get hidden(){return this._hidden}get tokenType(){return this._tokenType}get range(){return this._range}constructor(t,r,n,a,i=!1){super(),this._hidden=i,this._offset=t,this._tokenType=a,this._length=r,this._range=n}},Sm=class extends P4{constructor(){super(...arguments),this.content=new YB(this)}get children(){return this.content}get offset(){var t,r;return(r=(t=this.firstNonHiddenNode)===null||t===void 0?void 0:t.offset)!==null&&r!==void 0?r:0}get length(){return this.end-this.offset}get end(){var t,r;return(r=(t=this.lastNonHiddenNode)===null||t===void 0?void 0:t.end)!==null&&r!==void 0?r:0}get range(){let t=this.firstNonHiddenNode,r=this.lastNonHiddenNode;if(t&&r){if(this._rangeCache===void 0){let{range:n}=t,{range:a}=r;this._rangeCache={start:n.start,end:a.end.line<n.start.line?n.start:a.end}}return this._rangeCache}else return{start:_n.create(0,0),end:_n.create(0,0)}}get firstNonHiddenNode(){for(let t of this.content)if(!t.hidden)return t;return this.content[0]}get lastNonHiddenNode(){for(let t=this.content.length-1;t>=0;t--){let r=this.content[t];if(!r.hidden)return r}return this.content[this.content.length-1]}},YB=class e extends Array{constructor(t){super(),this.parent=t,Object.setPrototypeOf(this,e.prototype)}push(...t){return this.addParents(t),super.push(...t)}unshift(...t){return this.addParents(t),super.unshift(...t)}splice(t,r,...n){return this.addParents(n),super.splice(t,r,...n)}addParents(t){for(let r of t)r.container=this.parent}},My=class extends Sm{get text(){return this._text.substring(this.offset,this.end)}get fullText(){return this._text}constructor(t){super(),this._text="",this._text=t??""}}});function XB(e){return e.$type===$6}var $6,Myt,Iyt,B4,$4,z6,Iy,z4,dJt,jB,q4=B(()=>{up();Avt();rf();Gu();ss();B6();$6=Symbol("Datatype");Myt="\u200B",Iyt=e=>e.endsWith(Myt)?e:e+Myt,B4=class{constructor(t){this._unorderedGroups=new Map,this.allRules=new Map,this.lexer=t.parser.Lexer;let r=this.lexer.definition,n=t.LanguageMetaData.mode==="production";this.wrapper=new jB(r,Object.assign(Object.assign({},t.parser.ParserConfig),{skipValidations:n,errorMessageProvider:t.parser.ParserErrorMessageProvider}))}alternatives(t,r){this.wrapper.wrapOr(t,r)}optional(t,r){this.wrapper.wrapOption(t,r)}many(t,r){this.wrapper.wrapMany(t,r)}atLeastOne(t,r){this.wrapper.wrapAtLeastOne(t,r)}getRule(t){return this.allRules.get(t)}isRecording(){return this.wrapper.IS_RECORDING}get unorderedGroups(){return this._unorderedGroups}getRuleStack(){return this.wrapper.RULE_STACK}finalize(){this.wrapper.wrapSelfAnalysis()}},$4=class extends B4{get current(){return this.stack[this.stack.length-1]}constructor(t){super(t),this.nodeBuilder=new F4,this.stack=[],this.assignmentMap=new Map,this.linker=t.references.Linker,this.converter=t.parser.ValueConverter,this.astReflection=t.shared.AstReflection}rule(t,r){let n=this.computeRuleType(t),a=this.wrapper.DEFINE_RULE(Iyt(t.name),this.startImplementation(n,r).bind(this));return this.allRules.set(t.name,a),t.entry&&(this.mainRule=a),a}computeRuleType(t){if(!t.fragment){if(u4(t))return $6;{let r=ny(t);return r??t.name}}}parse(t,r={}){this.nodeBuilder.buildRootNode(t);let n=this.lexerResult=this.lexer.tokenize(t);this.wrapper.input=n.tokens;let a=r.rule?this.allRules.get(r.rule):this.mainRule;if(!a)throw new Error(r.rule?`No rule found with name '${r.rule}'`:"No main rule available.");let i=a.call(this.wrapper,{});return this.nodeBuilder.addHiddenNodes(n.hidden),this.unorderedGroups.clear(),this.lexerResult=void 0,{value:i,lexerErrors:n.errors,lexerReport:n.report,parserErrors:this.wrapper.errors}}startImplementation(t,r){return n=>{let a=!this.isRecording()&&t!==void 0;if(a){let o={$type:t};this.stack.push(o),t===$6&&(o.value="")}let i;try{i=r(n)}catch{i=void 0}return i===void 0&&a&&(i=this.construct()),i}}extractHiddenTokens(t){let r=this.lexerResult.hidden;if(!r.length)return[];let n=t.startOffset;for(let a=0;a<r.length;a++)if(r[a].startOffset>n)return r.splice(0,a);return r.splice(0,r.length)}consume(t,r,n){let a=this.wrapper.wrapConsume(t,r);if(!this.isRecording()&&this.isValidToken(a)){let i=this.extractHiddenTokens(a);this.nodeBuilder.addHiddenNodes(i);let o=this.nodeBuilder.buildLeafNode(a,n),{assignment:s,isCrossRef:l}=this.getAssignment(n),u=this.current;if(s){let f=ru(n)?a.image:this.converter.convert(a.image,o);this.assign(s.operator,s.feature,f,o,l)}else if(XB(u)){let f=a.image;ru(n)||(f=this.converter.convert(f,o).toString()),u.value+=f}}}isValidToken(t){return!t.isInsertedInRecovery&&!isNaN(t.startOffset)&&typeof t.endOffset=="number"&&!isNaN(t.endOffset)}subrule(t,r,n,a,i){let o;!this.isRecording()&&!n&&(o=this.nodeBuilder.buildCompositeNode(a));let s=this.wrapper.wrapSubrule(t,r,i);!this.isRecording()&&o&&o.length>0&&this.performSubruleAssignment(s,a,o)}performSubruleAssignment(t,r,n){let{assignment:a,isCrossRef:i}=this.getAssignment(r);if(a)this.assign(a.operator,a.feature,t,n,i);else if(!a){let o=this.current;if(XB(o))o.value+=t.toString();else if(typeof t=="object"&&t){let l=this.assignWithoutOverride(t,o);this.stack.pop(),this.stack.push(l)}}}action(t,r){if(!this.isRecording()){let n=this.current;if(r.feature&&r.operator){n=this.construct(),this.nodeBuilder.removeNode(n.$cstNode),this.nodeBuilder.buildCompositeNode(r).content.push(n.$cstNode);let i={$type:t};this.stack.push(i),this.assign(r.operator,r.feature,n,n.$cstNode,!1)}else n.$type=t}}construct(){if(this.isRecording())return;let t=this.current;return zS(t),this.nodeBuilder.construct(t),this.stack.pop(),XB(t)?this.converter.convert(t.value,t.$cstNode):(kP(this.astReflection,t),t)}getAssignment(t){if(!this.assignmentMap.has(t)){let r=dm(t,Uu);this.assignmentMap.set(t,{assignment:r,isCrossRef:r?hm(r.terminal):!1})}return this.assignmentMap.get(t)}assign(t,r,n,a,i){let o=this.current,s;switch(i&&typeof n=="string"?s=this.linker.buildReference(o,r,a,n):s=n,t){case"=":{o[r]=s;break}case"?=":{o[r]=!0;break}case"+=":Array.isArray(o[r])||(o[r]=[]),o[r].push(s)}}assignWithoutOverride(t,r){for(let[a,i]of Object.entries(r)){let o=t[a];o===void 0?t[a]=i:Array.isArray(o)&&Array.isArray(i)&&(i.push(...o),t[a]=i)}let n=t.$cstNode;return n&&(n.astNode=void 0,t.$cstNode=void 0),t}get definitionErrors(){return this.wrapper.definitionErrors}},z6=class{buildMismatchTokenMessage(t){return mh.buildMismatchTokenMessage(t)}buildNotAllInputParsedMessage(t){return mh.buildNotAllInputParsedMessage(t)}buildNoViableAltMessage(t){return mh.buildNoViableAltMessage(t)}buildEarlyExitMessage(t){return mh.buildEarlyExitMessage(t)}},Iy=class extends z6{buildMismatchTokenMessage({expected:t,actual:r}){return`Expecting ${t.LABEL?"`"+t.LABEL+"`":t.name.endsWith(":KW")?`keyword '${t.name.substring(0,t.name.length-3)}'`:`token of type '${t.name}'`} but found \`${r.image}\`.`}buildNotAllInputParsedMessage({firstRedundant:t}){return`Expecting end of file but found \`${t.image}\`.`}},z4=class extends B4{constructor(){super(...arguments),this.tokens=[],this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}action(){}construct(){}parse(t){this.resetState();let r=this.lexer.tokenize(t,{mode:"partial"});return this.tokens=r.tokens,this.wrapper.input=[...this.tokens],this.mainRule.call(this.wrapper,{}),this.unorderedGroups.clear(),{tokens:this.tokens,elementStack:[...this.lastElementStack],tokenIndex:this.nextTokenIndex}}rule(t,r){let n=this.wrapper.DEFINE_RULE(Iyt(t.name),this.startImplementation(r).bind(this));return this.allRules.set(t.name,n),t.entry&&(this.mainRule=n),n}resetState(){this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}startImplementation(t){return r=>{let n=this.keepStackSize();try{t(r)}finally{this.resetStackSize(n)}}}removeUnexpectedElements(){this.elementStack.splice(this.stackSize)}keepStackSize(){let t=this.elementStack.length;return this.stackSize=t,t}resetStackSize(t){this.removeUnexpectedElements(),this.stackSize=t}consume(t,r,n){this.wrapper.wrapConsume(t,r),this.isRecording()||(this.lastElementStack=[...this.elementStack,n],this.nextTokenIndex=this.currIdx+1)}subrule(t,r,n,a,i){this.before(a),this.wrapper.wrapSubrule(t,r,i),this.after(a)}before(t){this.isRecording()||this.elementStack.push(t)}after(t){if(!this.isRecording()){let r=this.elementStack.lastIndexOf(t);r>=0&&this.elementStack.splice(r)}}get currIdx(){return this.wrapper.currIdx}},dJt={recoveryEnabled:!0,nodeLocationTracking:"full",skipValidations:!0,errorMessageProvider:new Iy},jB=class extends L4{constructor(t,r){let n=r&&"maxLookahead"in r;super(t,Object.assign(Object.assign(Object.assign({},dJt),{lookaheadStrategy:n?new gh({maxLookahead:r.maxLookahead}):new N4({logging:r.skipValidations?()=>{}:void 0})}),r))}get IS_RECORDING(){return this.RECORDING_PHASE}DEFINE_RULE(t,r){return this.RULE(t,r)}wrapSelfAnalysis(){this.performSelfAnalysis()}wrapConsume(t,r){return this.consume(t,r)}wrapSubrule(t,r,n){return this.subrule(t,r,{ARGS:[n]})}wrapOr(t,r){this.or(t,r)}wrapOption(t,r){this.option(t,r)}wrapMany(t,r){this.many(t,r)}wrapAtLeastOne(t,r){this.atLeastOne(t,r)}}});function U4(e,t,r){return pJt({parser:t,tokens:r,ruleNames:new Map},e),t}function pJt(e,t){let r=s4(t,!1),n=Tn(t.rules).filter(Io).filter(a=>r.has(a));for(let a of n){let i=Object.assign(Object.assign({},e),{consume:1,optional:1,subrule:1,many:1,or:1});e.parser.rule(a,Dm(i,a.definition))}}function Dm(e,t,r=!1){let n;if(ru(t))n=_Jt(e,t);else if(lh(t))n=mJt(e,t);else if(Uu(t))n=Dm(e,t.terminal);else if(hm(t))n=Ryt(e,t);else if(Wu(t))n=gJt(e,t);else if(PS(t))n=yJt(e,t);else if($S(t))n=xJt(e,t);else if(op(t))n=bJt(e,t);else if(gP(t)){let a=e.consume++;n=()=>e.parser.consume(a,gl,t)}else throw new cm(t.$cstNode,`Unexpected element type: ${t.$type}`);return Nyt(e,r?void 0:q6(t),n,t.cardinality)}function mJt(e,t){let r=c4(t);return()=>e.parser.action(r,t)}function gJt(e,t){let r=t.rule.ref;if(Io(r)){let n=e.subrule++,a=r.fragment,i=t.arguments.length>0?vJt(r,t.arguments):()=>({});return o=>e.parser.subrule(n,Oyt(e,r),a,t,i(o))}else if(pl(r)){let n=e.consume++,a=KB(e,r.name);return()=>e.parser.consume(n,a,t)}else if(r)ef(r);else throw new cm(t.$cstNode,`Undefined rule: ${t.rule.$refText}`)}function vJt(e,t){let r=t.map(n=>vh(n.value));return n=>{let a={};for(let i=0;i<r.length;i++){let o=e.parameters[i],s=r[i];a[o.name]=s(n)}return a}}function vh(e){if(uP(e)){let t=vh(e.left),r=vh(e.right);return n=>t(n)||r(n)}else if(lP(e)){let t=vh(e.left),r=vh(e.right);return n=>t(n)&&r(n)}else if(cP(e)){let t=vh(e.value);return r=>!t(r)}else if(fP(e)){let t=e.parameter.ref.name;return r=>r!==void 0&&r[t]===!0}else if(sP(e)){let t=!!e.true;return()=>t}ef(e)}function yJt(e,t){if(t.elements.length===1)return Dm(e,t.elements[0]);{let r=[];for(let a of t.elements){let i={ALT:Dm(e,a,!0)},o=q6(a);o&&(i.GATE=vh(o)),r.push(i)}let n=e.or++;return a=>e.parser.alternatives(n,r.map(i=>{let o={ALT:()=>i.ALT(a)},s=i.GATE;return s&&(o.GATE=()=>s(a)),o}))}}function xJt(e,t){if(t.elements.length===1)return Dm(e,t.elements[0]);let r=[];for(let s of t.elements){let l={ALT:Dm(e,s,!0)},u=q6(s);u&&(l.GATE=vh(u)),r.push(l)}let n=e.or++,a=(s,l)=>{let u=l.getRuleStack().join("-");return`uGroup_${s}_${u}`},i=s=>e.parser.alternatives(n,r.map((l,u)=>{let f={ALT:()=>!0},h=e.parser;f.ALT=()=>{if(l.ALT(s),!h.isRecording()){let p=a(n,h);h.unorderedGroups.get(p)||h.unorderedGroups.set(p,[]);let m=h.unorderedGroups.get(p);typeof m?.[u]>"u"&&(m[u]=!0)}};let d=l.GATE;return d?f.GATE=()=>d(s):f.GATE=()=>{let p=h.unorderedGroups.get(a(n,h));return!p?.[u]},f})),o=Nyt(e,q6(t),i,"*");return s=>{o(s),e.parser.isRecording()||e.parser.unorderedGroups.delete(a(n,e.parser))}}function bJt(e,t){let r=t.elements.map(n=>Dm(e,n));return n=>r.forEach(a=>a(n))}function q6(e){if(op(e))return e.guardCondition}function Ryt(e,t,r=t.terminal){if(r)if(Wu(r)&&Io(r.rule.ref)){let n=r.rule.ref,a=e.subrule++;return i=>e.parser.subrule(a,Oyt(e,n),!1,t,i)}else if(Wu(r)&&pl(r.rule.ref)){let n=e.consume++,a=KB(e,r.rule.ref.name);return()=>e.parser.consume(n,a,t)}else if(ru(r)){let n=e.consume++,a=KB(e,r.value);return()=>e.parser.consume(n,a,t)}else throw new Error("Could not build cross reference parser");else{if(!t.type.ref)throw new Error("Could not resolve reference to type: "+t.type.$refText);let n=VS(t.type.ref),a=n?.terminal;if(!a)throw new Error("Could not find name assignment for type: "+c4(t.type.ref));return Ryt(e,t,a)}}function _Jt(e,t){let r=e.consume++,n=e.tokens[t.value];if(!n)throw new Error("Could not find token for keyword: "+t.value);return()=>e.parser.consume(r,n,t)}function Nyt(e,t,r,n){let a=t&&vh(t);if(!n)if(a){let i=e.or++;return o=>e.parser.alternatives(i,[{ALT:()=>r(o),GATE:()=>a(o)},{ALT:L6(),GATE:()=>!a(o)}])}else return r;if(n==="*"){let i=e.many++;return o=>e.parser.many(i,{DEF:()=>r(o),GATE:a?()=>a(o):void 0})}else if(n==="+"){let i=e.many++;if(a){let o=e.or++;return s=>e.parser.alternatives(o,[{ALT:()=>e.parser.atLeastOne(i,{DEF:()=>r(s)}),GATE:()=>a(s)},{ALT:L6(),GATE:()=>!a(s)}])}else return o=>e.parser.atLeastOne(i,{DEF:()=>r(o)})}else if(n==="?"){let i=e.optional++;return o=>e.parser.optional(i,{DEF:()=>r(o),GATE:a?()=>a(o):void 0})}else ef(n)}function Oyt(e,t){let r=wJt(e,t),n=e.parser.getRule(r);if(!n)throw new Error(`Rule "${r}" not found."`);return n}function wJt(e,t){if(Io(t))return t.name;if(e.ruleNames.has(t))return e.ruleNames.get(t);{let r=t,n=r.$container,a=t.$type;for(;!Io(n);)(op(n)||PS(n)||$S(n))&&(a=n.elements.indexOf(r).toString()+":"+a),r=n,n=n.$container;return a=n.name+":"+a,e.ruleNames.set(t,a),a}}function KB(e,t){let r=e.tokens[t];if(!r)throw new Error(`Token "${t}" not found."`);return r}var U6=B(()=>{up();rf();IS();Ws();Gu()});function QB(e){let t=e.Grammar,r=e.parser.Lexer,n=new z4(e);return U4(t,n,r.definition),n.finalize(),n}var ZB=B(()=>{q4();U6()});function JB(e){let t=Fyt(e);return t.finalize(),t}function Fyt(e){let t=e.Grammar,r=e.parser.Lexer,n=new $4(e);return U4(t,n,r.definition)}var t$=B(()=>{q4();U6()});var yh,W6=B(()=>{up();rf();ss();Gu();ry();Ws();yh=class{constructor(){this.diagnostics=[]}buildTokens(t,r){let n=Tn(s4(t,!1)),a=this.buildTerminalTokens(n),i=this.buildKeywordTokens(n,a,r);return a.forEach(o=>{let s=o.PATTERN;typeof s=="object"&&s&&"test"in s&&ey(s)?i.unshift(o):i.push(o)}),i}flushLexingReport(t){return{diagnostics:this.popDiagnostics()}}popDiagnostics(){let t=[...this.diagnostics];return this.diagnostics=[],t}buildTerminalTokens(t){return t.filter(pl).filter(r=>!r.fragment).map(r=>this.buildTerminalToken(r)).toArray()}buildTerminalToken(t){let r=ay(t),n=this.requiresCustomPattern(r)?this.regexPatternFunction(r):r,a={name:t.name,PATTERN:n};return typeof n=="function"&&(a.LINE_BREAKS=!0),t.hidden&&(a.GROUP=ey(r)?Ta.SKIPPED:"hidden"),a}requiresCustomPattern(t){return t.flags.includes("u")||t.flags.includes("s")?!0:!!(t.source.includes("?<=")||t.source.includes("?<!"))}regexPatternFunction(t){let r=new RegExp(t,t.flags+"y");return(n,a)=>(r.lastIndex=a,r.exec(n))}buildKeywordTokens(t,r,n){return t.filter(Io).flatMap(a=>nf(a).filter(ru)).distinct(a=>a.value).toArray().sort((a,i)=>i.value.length-a.value.length).map(a=>this.buildKeywordToken(a,r,!!n?.caseInsensitive))}buildKeywordToken(t,r,n){let a=this.buildKeywordPattern(t,n),i={name:t.value,PATTERN:a,LONGER_ALT:this.findLongerAlt(t,r)};return typeof a=="function"&&(i.LINE_BREAKS=!0),i}buildKeywordPattern(t,r){return r?new RegExp(IP(t.value)):t.value}findLongerAlt(t,r){return r.reduce((n,a)=>{let i=a?.PATTERN;return i?.source&&RP("^"+i.source+"$",t.value)&&n.push(a),n},[])}}});var Am,sf,e$=B(()=>{rf();Gu();Am=class{convert(t,r){let n=r.grammarSource;if(hm(n)&&(n=FP(n)),Wu(n)){let a=n.rule.ref;if(!a)throw new Error("This cst node was not parsed by a rule.");return this.runConverter(a,t,r)}return t}runConverter(t,r,n){var a;switch(t.name.toUpperCase()){case"INT":return sf.convertInt(r);case"STRING":return sf.convertString(r);case"ID":return sf.convertID(r)}switch((a=WP(t))===null||a===void 0?void 0:a.toLowerCase()){case"number":return sf.convertNumber(r);case"boolean":return sf.convertBoolean(r);case"bigint":return sf.convertBigint(r);case"date":return sf.convertDate(r);default:return r}}};(function(e){function t(u){let f="";for(let h=1;h<u.length-1;h++){let d=u.charAt(h);if(d==="\\"){let p=u.charAt(++h);f+=r(p)}else f+=d}return f}e.convertString=t;function r(u){switch(u){case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";case"v":return"\v";case"0":return"\0";default:return u}}function n(u){return u.charAt(0)==="^"?u.substring(1):u}e.convertID=n;function a(u){return parseInt(u)}e.convertInt=a;function i(u){return BigInt(u)}e.convertBigint=i;function o(u){return new Date(u)}e.convertDate=o;function s(u){return Number(u)}e.convertNumber=s;function l(u){return u.toLowerCase()==="true"}e.convertBoolean=l})(sf||(sf={}))});var i$=_o(a$=>{"use strict";Object.defineProperty(a$,"__esModule",{value:!0});var r$;function n$(){if(r$===void 0)throw new Error("No runtime abstraction layer installed");return r$}(function(e){function t(r){if(r===void 0)throw new Error("No runtime abstraction layer provided");r$=r}e.install=t})(n$||(n$={}));a$.default=n$});var $yt=_o(No=>{"use strict";Object.defineProperty(No,"__esModule",{value:!0});No.stringArray=No.array=No.func=No.error=No.number=No.string=No.boolean=void 0;function TJt(e){return e===!0||e===!1}No.boolean=TJt;function Pyt(e){return typeof e=="string"||e instanceof String}No.string=Pyt;function EJt(e){return typeof e=="number"||e instanceof Number}No.number=EJt;function kJt(e){return e instanceof Error}No.error=kJt;function CJt(e){return typeof e=="function"}No.func=CJt;function Byt(e){return Array.isArray(e)}No.array=Byt;function SJt(e){return Byt(e)&&e.every(t=>Pyt(t))}No.stringArray=SJt});var s$=_o(Ry=>{"use strict";Object.defineProperty(Ry,"__esModule",{value:!0});Ry.Emitter=Ry.Event=void 0;var DJt=i$(),zyt;(function(e){let t={dispose(){}};e.None=function(){return t}})(zyt||(Ry.Event=zyt={}));var o$=class{add(t,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:()=>this.remove(t,r)})}remove(t,r=null){if(!this._callbacks)return;let n=!1;for(let a=0,i=this._callbacks.length;a<i;a++)if(this._callbacks[a]===t)if(this._contexts[a]===r){this._callbacks.splice(a,1),this._contexts.splice(a,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...t){if(!this._callbacks)return[];let r=[],n=this._callbacks.slice(0),a=this._contexts.slice(0);for(let i=0,o=n.length;i<o;i++)try{r.push(n[i].apply(a[i],t))}catch(s){(0,DJt.default)().console.error(s)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},G6=class e{constructor(t){this._options=t}get event(){return this._event||(this._event=(t,r,n)=>{this._callbacks||(this._callbacks=new o$),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,r);let a={dispose:()=>{this._callbacks&&(this._callbacks.remove(t,r),a.dispose=e._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(a),a}),this._event}fire(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};Ry.Emitter=G6;G6._noop=function(){}});var qyt=_o(Ny=>{"use strict";Object.defineProperty(Ny,"__esModule",{value:!0});Ny.CancellationTokenSource=Ny.CancellationToken=void 0;var AJt=i$(),LJt=$yt(),l$=s$(),V6;(function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:l$.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:l$.Event.None});function t(r){let n=r;return n&&(n===e.None||n===e.Cancelled||LJt.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}e.is=t})(V6||(Ny.CancellationToken=V6={}));var MJt=Object.freeze(function(e,t){let r=(0,AJt.default)().timer.setTimeout(e.bind(t),0);return{dispose(){r.dispose()}}}),H6=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?MJt:(this._emitter||(this._emitter=new l$.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},u$=class{get token(){return this._token||(this._token=new H6),this._token}cancel(){this._token?this._token.cancel():this._token=V6.Cancelled}dispose(){this._token?this._token instanceof H6&&this._token.dispose():this._token=V6.None}};Ny.CancellationTokenSource=u$});var mr={};var au=B(()=>{Lr(mr,qo(qyt(),1))});function c$(){return new Promise(e=>{typeof setImmediate>"u"?setTimeout(e,0):setImmediate(e)})}function X6(){return Y6=performance.now(),new mr.CancellationTokenSource}function Wyt(e){Uyt=e}function uf(e){return e===lf}async function Za(e){if(e===mr.CancellationToken.None)return;let t=performance.now();if(t-Y6>=Uyt&&(Y6=t,await c$(),Y6=performance.now()),e.isCancellationRequested)throw lf}var Y6,Uyt,lf,hs,iu=B(()=>{au();Y6=0,Uyt=10;lf=Symbol("OperationCancelled");hs=class{constructor(){this.promise=new Promise((t,r)=>{this.resolve=n=>(t(n),this),this.reject=n=>(r(n),this)})}}});function f$(e,t){if(e.length<=1)return e;let r=e.length/2|0,n=e.slice(0,r),a=e.slice(r);f$(n,t),f$(a,t);let i=0,o=0,s=0;for(;i<n.length&&o<a.length;)t(n[i],a[o])<=0?e[s++]=n[i++]:e[s++]=a[o++];for(;i<n.length;)e[s++]=n[i++];for(;o<a.length;)e[s++]=a[o++];return e}function Gyt(e,t,r=0){let n=t?[r]:[];for(let a=0;a<e.length;a++){let i=e.charCodeAt(a);Vyt(i)&&(i===13&&a+1<e.length&&e.charCodeAt(a+1)===10&&a++,n.push(r+a+1))}return n}function Vyt(e){return e===13||e===10}function Hyt(e){let t=e.start,r=e.end;return t.line>r.line||t.line===r.line&&t.character>r.character?{start:r,end:t}:e}function IJt(e){let t=Hyt(e.range);return t!==e.range?{newText:e.newText,range:t}:e}var j6,Oy,Yyt=B(()=>{"use strict";j6=class e{constructor(t,r,n,a){this._uri=t,this._languageId=r,this._version=n,this._content=a,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){for(let n of t)if(e.isIncremental(n)){let a=Hyt(n.range),i=this.offsetAt(a.start),o=this.offsetAt(a.end);this._content=this._content.substring(0,i)+n.text+this._content.substring(o,this._content.length);let s=Math.max(a.start.line,0),l=Math.max(a.end.line,0),u=this._lineOffsets,f=Gyt(n.text,!1,i);if(l-s===f.length)for(let d=0,p=f.length;d<p;d++)u[d+s+1]=f[d];else f.length<1e4?u.splice(s+1,l-s,...f):this._lineOffsets=u=u.slice(0,s+1).concat(f,u.slice(l+1));let h=n.text.length-(o-i);if(h!==0)for(let d=s+1+f.length,p=u.length;d<p;d++)u[d]=u[d]+h}else if(e.isFull(n))this._content=n.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=r}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=Gyt(this._content,!0)),this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,a=r.length;if(a===0)return{line:0,character:t};for(;n<a;){let o=Math.floor((n+a)/2);r[o]>t?a=o:n=o+1}let i=n-1;return t=this.ensureBeforeEOL(t,r[i]),{line:i,character:t-r[i]}}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line];if(t.character<=0)return n;let a=t.line+1<r.length?r[t.line+1]:this._content.length,i=Math.min(n+t.character,a);return this.ensureBeforeEOL(i,n)}ensureBeforeEOL(t,r){for(;t>r&&Vyt(this._content.charCodeAt(t-1));)t--;return t}get lineCount(){return this.getLineOffsets().length}static isIncremental(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}static isFull(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}};(function(e){function t(a,i,o,s){return new j6(a,i,o,s)}e.create=t;function r(a,i,o){if(a instanceof j6)return a.update(i,o),a;throw new Error("TextDocument.update: document must be created by TextDocument.create")}e.update=r;function n(a,i){let o=a.getText(),s=f$(i.map(IJt),(f,h)=>{let d=f.range.start.line-h.range.start.line;return d===0?f.range.start.character-h.range.start.character:d}),l=0,u=[];for(let f of s){let h=a.offsetAt(f.range.start);if(h<l)throw new Error("Overlapping edit");h>l&&u.push(o.substring(l,h)),f.newText.length&&u.push(f.newText),l=a.offsetAt(f.range.end)}return u.push(o.substr(l)),u.join("")}e.applyEdits=n})(Oy||(Oy={}))});var Xyt,ds,Fy,h$=B(()=>{(()=>{"use strict";var e={470:a=>{function i(l){if(typeof l!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(l))}function o(l,u){for(var f,h="",d=0,p=-1,m=0,g=0;g<=l.length;++g){if(g<l.length)f=l.charCodeAt(g);else{if(f===47)break;f=47}if(f===47){if(!(p===g-1||m===1))if(p!==g-1&&m===2){if(h.length<2||d!==2||h.charCodeAt(h.length-1)!==46||h.charCodeAt(h.length-2)!==46){if(h.length>2){var v=h.lastIndexOf("/");if(v!==h.length-1){v===-1?(h="",d=0):d=(h=h.slice(0,v)).length-1-h.lastIndexOf("/"),p=g,m=0;continue}}else if(h.length===2||h.length===1){h="",d=0,p=g,m=0;continue}}u&&(h.length>0?h+="/..":h="..",d=2)}else h.length>0?h+="/"+l.slice(p+1,g):h=l.slice(p+1,g),d=g-p-1;p=g,m=0}else f===46&&m!==-1?++m:m=-1}return h}var s={resolve:function(){for(var l,u="",f=!1,h=arguments.length-1;h>=-1&&!f;h--){var d;h>=0?d=arguments[h]:(l===void 0&&(l=process.cwd()),d=l),i(d),d.length!==0&&(u=d+"/"+u,f=d.charCodeAt(0)===47)}return u=o(u,!f),f?u.length>0?"/"+u:"/":u.length>0?u:"."},normalize:function(l){if(i(l),l.length===0)return".";var u=l.charCodeAt(0)===47,f=l.charCodeAt(l.length-1)===47;return(l=o(l,!u)).length!==0||u||(l="."),l.length>0&&f&&(l+="/"),u?"/"+l:l},isAbsolute:function(l){return i(l),l.length>0&&l.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var l,u=0;u<arguments.length;++u){var f=arguments[u];i(f),f.length>0&&(l===void 0?l=f:l+="/"+f)}return l===void 0?".":s.normalize(l)},relative:function(l,u){if(i(l),i(u),l===u||(l=s.resolve(l))===(u=s.resolve(u)))return"";for(var f=1;f<l.length&&l.charCodeAt(f)===47;++f);for(var h=l.length,d=h-f,p=1;p<u.length&&u.charCodeAt(p)===47;++p);for(var m=u.length-p,g=d<m?d:m,v=-1,y=0;y<=g;++y){if(y===g){if(m>g){if(u.charCodeAt(p+y)===47)return u.slice(p+y+1);if(y===0)return u.slice(p+y)}else d>g&&(l.charCodeAt(f+y)===47?v=y:y===0&&(v=0));break}var b=l.charCodeAt(f+y);if(b!==u.charCodeAt(p+y))break;b===47&&(v=y)}var _="";for(y=f+v+1;y<=h;++y)y!==h&&l.charCodeAt(y)!==47||(_.length===0?_+="..":_+="/..");return _.length>0?_+u.slice(p+v):(p+=v,u.charCodeAt(p)===47&&++p,u.slice(p))},_makeLong:function(l){return l},dirname:function(l){if(i(l),l.length===0)return".";for(var u=l.charCodeAt(0),f=u===47,h=-1,d=!0,p=l.length-1;p>=1;--p)if((u=l.charCodeAt(p))===47){if(!d){h=p;break}}else d=!1;return h===-1?f?"/":".":f&&h===1?"//":l.slice(0,h)},basename:function(l,u){if(u!==void 0&&typeof u!="string")throw new TypeError('"ext" argument must be a string');i(l);var f,h=0,d=-1,p=!0;if(u!==void 0&&u.length>0&&u.length<=l.length){if(u.length===l.length&&u===l)return"";var m=u.length-1,g=-1;for(f=l.length-1;f>=0;--f){var v=l.charCodeAt(f);if(v===47){if(!p){h=f+1;break}}else g===-1&&(p=!1,g=f+1),m>=0&&(v===u.charCodeAt(m)?--m==-1&&(d=f):(m=-1,d=g))}return h===d?d=g:d===-1&&(d=l.length),l.slice(h,d)}for(f=l.length-1;f>=0;--f)if(l.charCodeAt(f)===47){if(!p){h=f+1;break}}else d===-1&&(p=!1,d=f+1);return d===-1?"":l.slice(h,d)},extname:function(l){i(l);for(var u=-1,f=0,h=-1,d=!0,p=0,m=l.length-1;m>=0;--m){var g=l.charCodeAt(m);if(g!==47)h===-1&&(d=!1,h=m+1),g===46?u===-1?u=m:p!==1&&(p=1):u!==-1&&(p=-1);else if(!d){f=m+1;break}}return u===-1||h===-1||p===0||p===1&&u===h-1&&u===f+1?"":l.slice(u,h)},format:function(l){if(l===null||typeof l!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof l);return function(u,f){var h=f.dir||f.root,d=f.base||(f.name||"")+(f.ext||"");return h?h===f.root?h+d:h+"/"+d:d}(0,l)},parse:function(l){i(l);var u={root:"",dir:"",base:"",ext:"",name:""};if(l.length===0)return u;var f,h=l.charCodeAt(0),d=h===47;d?(u.root="/",f=1):f=0;for(var p=-1,m=0,g=-1,v=!0,y=l.length-1,b=0;y>=f;--y)if((h=l.charCodeAt(y))!==47)g===-1&&(v=!1,g=y+1),h===46?p===-1?p=y:b!==1&&(b=1):p!==-1&&(b=-1);else if(!v){m=y+1;break}return p===-1||g===-1||b===0||b===1&&p===g-1&&p===m+1?g!==-1&&(u.base=u.name=m===0&&d?l.slice(1,g):l.slice(m,g)):(m===0&&d?(u.name=l.slice(1,p),u.base=l.slice(1,g)):(u.name=l.slice(m,p),u.base=l.slice(m,g)),u.ext=l.slice(p,g)),m>0?u.dir=l.slice(0,m-1):d&&(u.dir="/"),u},sep:"/",delimiter:":",win32:null,posix:null};s.posix=s,a.exports=s}},t={};function r(a){var i=t[a];if(i!==void 0)return i.exports;var o=t[a]={exports:{}};return e[a](o,o.exports,r),o.exports}r.d=(a,i)=>{for(var o in i)r.o(i,o)&&!r.o(a,o)&&Object.defineProperty(a,o,{enumerable:!0,get:i[o]})},r.o=(a,i)=>Object.prototype.hasOwnProperty.call(a,i),r.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var n={};(()=>{let a;r.r(n),r.d(n,{URI:()=>d,Utils:()=>N}),typeof process=="object"?a=process.platform==="win32":typeof navigator=="object"&&(a=navigator.userAgent.indexOf("Windows")>=0);let i=/^\w[\w\d+.-]*$/,o=/^\//,s=/^\/\//;function l(L,E){if(!L.scheme&&E)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${L.authority}", path: "${L.path}", query: "${L.query}", fragment: "${L.fragment}"}`);if(L.scheme&&!i.test(L.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(L.path){if(L.authority){if(!o.test(L.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(s.test(L.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}let u="",f="/",h=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class d{static isUri(E){return E instanceof d||!!E&&typeof E.authority=="string"&&typeof E.fragment=="string"&&typeof E.path=="string"&&typeof E.query=="string"&&typeof E.scheme=="string"&&typeof E.fsPath=="string"&&typeof E.with=="function"&&typeof E.toString=="function"}scheme;authority;path;query;fragment;constructor(E,A,D,R,I,O=!1){typeof E=="object"?(this.scheme=E.scheme||u,this.authority=E.authority||u,this.path=E.path||u,this.query=E.query||u,this.fragment=E.fragment||u):(this.scheme=function(F,P){return F||P?F:"file"}(E,O),this.authority=A||u,this.path=function(F,P){switch(F){case"https":case"http":case"file":P?P[0]!==f&&(P=f+P):P=f}return P}(this.scheme,D||u),this.query=R||u,this.fragment=I||u,l(this,O))}get fsPath(){return b(this,!1)}with(E){if(!E)return this;let{scheme:A,authority:D,path:R,query:I,fragment:O}=E;return A===void 0?A=this.scheme:A===null&&(A=u),D===void 0?D=this.authority:D===null&&(D=u),R===void 0?R=this.path:R===null&&(R=u),I===void 0?I=this.query:I===null&&(I=u),O===void 0?O=this.fragment:O===null&&(O=u),A===this.scheme&&D===this.authority&&R===this.path&&I===this.query&&O===this.fragment?this:new m(A,D,R,I,O)}static parse(E,A=!1){let D=h.exec(E);return D?new m(D[2]||u,T(D[4]||u),T(D[5]||u),T(D[7]||u),T(D[9]||u),A):new m(u,u,u,u,u)}static file(E){let A=u;if(a&&(E=E.replace(/\\/g,f)),E[0]===f&&E[1]===f){let D=E.indexOf(f,2);D===-1?(A=E.substring(2),E=f):(A=E.substring(2,D),E=E.substring(D)||f)}return new m("file",A,E,u,u)}static from(E){let A=new m(E.scheme,E.authority,E.path,E.query,E.fragment);return l(A,!0),A}toString(E=!1){return _(this,E)}toJSON(){return this}static revive(E){if(E){if(E instanceof d)return E;{let A=new m(E);return A._formatted=E.external,A._fsPath=E._sep===p?E.fsPath:null,A}}return E}}let p=a?1:void 0;class m extends d{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=b(this,!1)),this._fsPath}toString(E=!1){return E?_(this,!0):(this._formatted||(this._formatted=_(this,!1)),this._formatted)}toJSON(){let E={$mid:1};return this._fsPath&&(E.fsPath=this._fsPath,E._sep=p),this._formatted&&(E.external=this._formatted),this.path&&(E.path=this.path),this.scheme&&(E.scheme=this.scheme),this.authority&&(E.authority=this.authority),this.query&&(E.query=this.query),this.fragment&&(E.fragment=this.fragment),E}}let g={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function v(L,E,A){let D,R=-1;for(let I=0;I<L.length;I++){let O=L.charCodeAt(I);if(O>=97&&O<=122||O>=65&&O<=90||O>=48&&O<=57||O===45||O===46||O===95||O===126||E&&O===47||A&&O===91||A&&O===93||A&&O===58)R!==-1&&(D+=encodeURIComponent(L.substring(R,I)),R=-1),D!==void 0&&(D+=L.charAt(I));else{D===void 0&&(D=L.substr(0,I));let F=g[O];F!==void 0?(R!==-1&&(D+=encodeURIComponent(L.substring(R,I)),R=-1),D+=F):R===-1&&(R=I)}}return R!==-1&&(D+=encodeURIComponent(L.substring(R))),D!==void 0?D:L}function y(L){let E;for(let A=0;A<L.length;A++){let D=L.charCodeAt(A);D===35||D===63?(E===void 0&&(E=L.substr(0,A)),E+=g[D]):E!==void 0&&(E+=L[A])}return E!==void 0?E:L}function b(L,E){let A;return A=L.authority&&L.path.length>1&&L.scheme==="file"?`//${L.authority}${L.path}`:L.path.charCodeAt(0)===47&&(L.path.charCodeAt(1)>=65&&L.path.charCodeAt(1)<=90||L.path.charCodeAt(1)>=97&&L.path.charCodeAt(1)<=122)&&L.path.charCodeAt(2)===58?E?L.path.substr(1):L.path[1].toLowerCase()+L.path.substr(2):L.path,a&&(A=A.replace(/\//g,"\\")),A}function _(L,E){let A=E?y:v,D="",{scheme:R,authority:I,path:O,query:F,fragment:P}=L;if(R&&(D+=R,D+=":"),(I||R==="file")&&(D+=f,D+=f),I){let q=I.indexOf("@");if(q!==-1){let $=I.substr(0,q);I=I.substr(q+1),q=$.lastIndexOf(":"),q===-1?D+=A($,!1,!1):(D+=A($.substr(0,q),!1,!1),D+=":",D+=A($.substr(q+1),!1,!0)),D+="@"}I=I.toLowerCase(),q=I.lastIndexOf(":"),q===-1?D+=A(I,!1,!0):(D+=A(I.substr(0,q),!1,!0),D+=I.substr(q))}if(O){if(O.length>=3&&O.charCodeAt(0)===47&&O.charCodeAt(2)===58){let q=O.charCodeAt(1);q>=65&&q<=90&&(O=`/${String.fromCharCode(q+32)}:${O.substr(3)}`)}else if(O.length>=2&&O.charCodeAt(1)===58){let q=O.charCodeAt(0);q>=65&&q<=90&&(O=`${String.fromCharCode(q+32)}:${O.substr(2)}`)}D+=A(O,!0,!1)}return F&&(D+="?",D+=A(F,!1,!1)),P&&(D+="#",D+=E?P:v(P,!1,!1)),D}function k(L){try{return decodeURIComponent(L)}catch{return L.length>3?L.substr(0,3)+k(L.substr(3)):L}}let w=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function T(L){return L.match(w)?L.replace(w,E=>k(E)):L}var S=r(470);let C=S.posix||S,M="/";var N;(function(L){L.joinPath=function(E,...A){return E.with({path:C.join(E.path,...A)})},L.resolvePath=function(E,...A){let D=E.path,R=!1;D[0]!==M&&(D=M+D,R=!0);let I=C.resolve(D,...A);return R&&I[0]===M&&!E.authority&&(I=I.substring(1)),E.with({path:I})},L.dirname=function(E){if(E.path.length===0||E.path===M)return E;let A=C.dirname(E.path);return A.length===1&&A.charCodeAt(0)===46&&(A=""),E.with({path:A})},L.basename=function(E){return C.basename(E.path)},L.extname=function(E){return C.extname(E.path)}})(N||(N={}))})(),Xyt=n})();({URI:ds,Utils:Fy}=Xyt)});var ps,cf=B(()=>{h$();(function(e){e.basename=Fy.basename,e.dirname=Fy.dirname,e.extname=Fy.extname,e.joinPath=Fy.joinPath,e.resolvePath=Fy.resolvePath;function t(a,i){return a?.toString()===i?.toString()}e.equals=t;function r(a,i){let o=typeof a=="string"?a:a.path,s=typeof i=="string"?i:i.path,l=o.split("/").filter(p=>p.length>0),u=s.split("/").filter(p=>p.length>0),f=0;for(;f<l.length&&l[f]===u[f];f++);let h="../".repeat(l.length-f),d=u.slice(f).join("/");return h+d}e.relative=r;function n(a){return ds.parse(a.toString()).toString()}e.normalize=n})(ps||(ps={}))});var Kn,W4,G4,Py=B(()=>{Yyt();Py();au();Ws();cf();(function(e){e[e.Changed=0]="Changed",e[e.Parsed=1]="Parsed",e[e.IndexedContent=2]="IndexedContent",e[e.ComputedScopes=3]="ComputedScopes",e[e.Linked=4]="Linked",e[e.IndexedReferences=5]="IndexedReferences",e[e.Validated=6]="Validated"})(Kn||(Kn={}));W4=class{constructor(t){this.serviceRegistry=t.ServiceRegistry,this.textDocuments=t.workspace.TextDocuments,this.fileSystemProvider=t.workspace.FileSystemProvider}async fromUri(t,r=mr.CancellationToken.None){let n=await this.fileSystemProvider.readFile(t);return this.createAsync(t,n,r)}fromTextDocument(t,r,n){return r=r??ds.parse(t.uri),mr.CancellationToken.is(n)?this.createAsync(r,t,n):this.create(r,t,n)}fromString(t,r,n){return mr.CancellationToken.is(n)?this.createAsync(r,t,n):this.create(r,t,n)}fromModel(t,r){return this.create(r,{$model:t})}create(t,r,n){if(typeof r=="string"){let a=this.parse(t,r,n);return this.createLangiumDocument(a,t,void 0,r)}else if("$model"in r){let a={value:r.$model,parserErrors:[],lexerErrors:[]};return this.createLangiumDocument(a,t)}else{let a=this.parse(t,r.getText(),n);return this.createLangiumDocument(a,t,r)}}async createAsync(t,r,n){if(typeof r=="string"){let a=await this.parseAsync(t,r,n);return this.createLangiumDocument(a,t,void 0,r)}else{let a=await this.parseAsync(t,r.getText(),n);return this.createLangiumDocument(a,t,r)}}createLangiumDocument(t,r,n,a){let i;if(n)i={parseResult:t,uri:r,state:Kn.Parsed,references:[],textDocument:n};else{let o=this.createTextDocumentGetter(r,a);i={parseResult:t,uri:r,state:Kn.Parsed,references:[],get textDocument(){return o()}}}return t.value.$document=i,i}async update(t,r){var n,a;let i=(n=t.parseResult.value.$cstNode)===null||n===void 0?void 0:n.root.fullText,o=(a=this.textDocuments)===null||a===void 0?void 0:a.get(t.uri.toString()),s=o?o.getText():await this.fileSystemProvider.readFile(t.uri);if(o)Object.defineProperty(t,"textDocument",{value:o});else{let l=this.createTextDocumentGetter(t.uri,s);Object.defineProperty(t,"textDocument",{get:l})}return i!==s&&(t.parseResult=await this.parseAsync(t.uri,s,r),t.parseResult.value.$document=t),t.state=Kn.Parsed,t}parse(t,r,n){return this.serviceRegistry.getServices(t).parser.LangiumParser.parse(r,n)}parseAsync(t,r,n){return this.serviceRegistry.getServices(t).parser.AsyncParser.parse(r,n)}createTextDocumentGetter(t,r){let n=this.serviceRegistry,a;return()=>a??(a=Oy.create(t.toString(),n.getServices(t).LanguageMetaData.languageId,0,r??""))}},G4=class{constructor(t){this.documentMap=new Map,this.langiumDocumentFactory=t.workspace.LangiumDocumentFactory,this.serviceRegistry=t.ServiceRegistry}get all(){return Tn(this.documentMap.values())}addDocument(t){let r=t.uri.toString();if(this.documentMap.has(r))throw new Error(`A document with the URI '${r}' is already present.`);this.documentMap.set(r,t)}getDocument(t){let r=t.toString();return this.documentMap.get(r)}async getOrCreateDocument(t,r){let n=this.getDocument(t);return n||(n=await this.langiumDocumentFactory.fromUri(t,r),this.addDocument(n),n)}createDocument(t,r,n){if(n)return this.langiumDocumentFactory.fromString(r,t,n).then(a=>(this.addDocument(a),a));{let a=this.langiumDocumentFactory.fromString(r,t);return this.addDocument(a),a}}hasDocument(t){return this.documentMap.has(t.toString())}invalidateDocument(t){let r=t.toString(),n=this.documentMap.get(r);return n&&(this.serviceRegistry.getServices(t).references.Linker.unlink(n),n.state=Kn.Changed,n.precomputedScopes=void 0,n.diagnostics=void 0),n}deleteDocument(t){let r=t.toString(),n=this.documentMap.get(r);return n&&(n.state=Kn.Changed,this.documentMap.delete(r)),n}}});var d$,V4,p$=B(()=>{au();zu();ss();iu();Py();d$=Symbol("ref_resolving"),V4=class{constructor(t){this.reflection=t.shared.AstReflection,this.langiumDocuments=()=>t.shared.workspace.LangiumDocuments,this.scopeProvider=t.references.ScopeProvider,this.astNodeLocator=t.workspace.AstNodeLocator}async link(t,r=mr.CancellationToken.None){for(let n of nu(t.parseResult.value))await Za(r),Jv(n).forEach(a=>this.doLink(a,t))}doLink(t,r){var n;let a=t.reference;if(a._ref===void 0){a._ref=d$;try{let i=this.getCandidate(t);if(sm(i))a._ref=i;else if(a._nodeDescription=i,this.langiumDocuments().hasDocument(i.documentUri)){let o=this.loadAstNode(i);a._ref=o??this.createLinkingError(t,i)}else a._ref=void 0}catch(i){console.error(`An error occurred while resolving reference to '${a.$refText}':`,i);let o=(n=i.message)!==null&&n!==void 0?n:String(i);a._ref=Object.assign(Object.assign({},t),{message:`An error occurred while resolving reference to '${a.$refText}': ${o}`})}r.references.push(a)}}unlink(t){for(let r of t.references)delete r._ref,delete r._nodeDescription;t.references=[]}getCandidate(t){let n=this.scopeProvider.getScope(t).getElement(t.reference.$refText);return n??this.createLinkingError(t)}buildReference(t,r,n,a){let i=this,o={$refNode:n,$refText:a,get ref(){var s;if(Pa(this._ref))return this._ref;if(tP(this._nodeDescription)){let l=i.loadAstNode(this._nodeDescription);this._ref=l??i.createLinkingError({reference:o,container:t,property:r},this._nodeDescription)}else if(this._ref===void 0){this._ref=d$;let l=e4(t).$document,u=i.getLinkedNode({reference:o,container:t,property:r});if(u.error&&l&&l.state<Kn.ComputedScopes)return this._ref=void 0;this._ref=(s=u.node)!==null&&s!==void 0?s:u.error,this._nodeDescription=u.descr,l?.references.push(this)}else if(this._ref===d$)throw new Error(`Cyclic reference resolution detected: ${i.astNodeLocator.getAstNodePath(t)}/${r} (symbol '${a}')`);return Pa(this._ref)?this._ref:void 0},get $nodeDescription(){return this._nodeDescription},get error(){return sm(this._ref)?this._ref:void 0}};return o}getLinkedNode(t){var r;try{let n=this.getCandidate(t);if(sm(n))return{error:n};let a=this.loadAstNode(n);return a?{node:a,descr:n}:{descr:n,error:this.createLinkingError(t,n)}}catch(n){console.error(`An error occurred while resolving reference to '${t.reference.$refText}':`,n);let a=(r=n.message)!==null&&r!==void 0?r:String(n);return{error:Object.assign(Object.assign({},t),{message:`An error occurred while resolving reference to '${t.reference.$refText}': ${a}`})}}}loadAstNode(t){if(t.node)return t.node;let r=this.langiumDocuments().getDocument(t.documentUri);if(r)return this.astNodeLocator.getAstNode(r.parseResult.value,t.path)}createLinkingError(t,r){let n=e4(t.container).$document;n&&n.state<Kn.ComputedScopes&&console.warn(`Attempted reference resolution before document reached ComputedScopes state (${n.uri}).`);let a=this.reflection.getReferenceType(t);return Object.assign(Object.assign({},t),{message:`Could not resolve reference to ${a} named '${t.reference.$refText}'.`,targetDescription:r})}}});function jyt(e){return typeof e.name=="string"}var H4,m$=B(()=>{Gu();H4=class{getName(t){if(jyt(t))return t.name}getNameNode(t){return l4(t.$cstNode,"name")}}});var Y4,g$=B(()=>{Gu();zu();ss();qu();Ws();cf();Y4=class{constructor(t){this.nameProvider=t.references.NameProvider,this.index=t.shared.workspace.IndexManager,this.nodeLocator=t.workspace.AstNodeLocator}findDeclaration(t){if(t){let r=UP(t),n=t.astNode;if(r&&n){let a=n[r.feature];if(co(a))return a.ref;if(Array.isArray(a)){for(let i of a)if(co(i)&&i.$refNode&&i.$refNode.offset<=t.offset&&i.$refNode.end>=t.end)return i.ref}}if(n){let a=this.nameProvider.getNameNode(n);if(a&&(a===t||rP(t,a)))return n}}}findDeclarationNode(t){let r=this.findDeclaration(t);if(r?.$cstNode){let n=this.nameProvider.getNameNode(r);return n??r.$cstNode}}findReferences(t,r){let n=[];if(r.includeDeclaration){let i=this.getReferenceToSelf(t);i&&n.push(i)}let a=this.index.findAllReferences(t,this.nodeLocator.getAstNodePath(t));return r.documentUri&&(a=a.filter(i=>ps.equals(i.sourceUri,r.documentUri))),n.push(...a),Tn(n)}getReferenceToSelf(t){let r=this.nameProvider.getNameNode(t);if(r){let n=Ro(t),a=this.nodeLocator.getAstNodePath(t);return{sourceUri:n.uri,sourcePath:a,targetUri:n.uri,targetPath:a,segment:um(r),local:!0}}}}});var Hu,Lm,By=B(()=>{Ws();Hu=class{constructor(t){if(this.map=new Map,t)for(let[r,n]of t)this.add(r,n)}get size(){return hv.sum(Tn(this.map.values()).map(t=>t.length))}clear(){this.map.clear()}delete(t,r){if(r===void 0)return this.map.delete(t);{let n=this.map.get(t);if(n){let a=n.indexOf(r);if(a>=0)return n.length===1?this.map.delete(t):n.splice(a,1),!0}return!1}}get(t){var r;return(r=this.map.get(t))!==null&&r!==void 0?r:[]}has(t,r){if(r===void 0)return this.map.has(t);{let n=this.map.get(t);return n?n.indexOf(r)>=0:!1}}add(t,r){return this.map.has(t)?this.map.get(t).push(r):this.map.set(t,[r]),this}addAll(t,r){return this.map.has(t)?this.map.get(t).push(...r):this.map.set(t,Array.from(r)),this}forEach(t){this.map.forEach((r,n)=>r.forEach(a=>t(a,n,this)))}[Symbol.iterator](){return this.entries().iterator()}entries(){return Tn(this.map.entries()).flatMap(([t,r])=>r.map(n=>[t,n]))}keys(){return Tn(this.map.keys())}values(){return Tn(this.map.values()).flat()}entriesGroupedByKey(){return Tn(this.map.entries())}},Lm=class{get size(){return this.map.size}constructor(t){if(this.map=new Map,this.inverse=new Map,t)for(let[r,n]of t)this.set(r,n)}clear(){this.map.clear(),this.inverse.clear()}set(t,r){return this.map.set(t,r),this.inverse.set(r,t),this}get(t){return this.map.get(t)}getKey(t){return this.inverse.get(t)}delete(t){let r=this.map.get(t);return r!==void 0?(this.map.delete(t),this.inverse.delete(r),!0):!1}}});var X4,v$=B(()=>{au();ss();By();iu();X4=class{constructor(t){this.nameProvider=t.references.NameProvider,this.descriptions=t.workspace.AstNodeDescriptionProvider}async computeExports(t,r=mr.CancellationToken.None){return this.computeExportsForNode(t.parseResult.value,t,void 0,r)}async computeExportsForNode(t,r,n=r4,a=mr.CancellationToken.None){let i=[];this.exportNode(t,i,r);for(let o of n(t))await Za(a),this.exportNode(o,i,r);return i}exportNode(t,r,n){let a=this.nameProvider.getName(t);a&&r.push(this.descriptions.createDescription(t,a,n))}async computeLocalScopes(t,r=mr.CancellationToken.None){let n=t.parseResult.value,a=new Hu;for(let i of nf(n))await Za(r),this.processNode(i,t,a);return a}processNode(t,r,n){let a=t.$container;if(a){let i=this.nameProvider.getName(t);i&&n.add(a,this.descriptions.createDescription(t,i,r))}}}});var $y,j4,RJt,y$=B(()=>{Ws();$y=class{constructor(t,r,n){var a;this.elements=t,this.outerScope=r,this.caseInsensitive=(a=n?.caseInsensitive)!==null&&a!==void 0?a:!1}getAllElements(){return this.outerScope?this.elements.concat(this.outerScope.getAllElements()):this.elements}getElement(t){let r=this.caseInsensitive?this.elements.find(n=>n.name.toLowerCase()===t.toLowerCase()):this.elements.find(n=>n.name===t);if(r)return r;if(this.outerScope)return this.outerScope.getElement(t)}},j4=class{constructor(t,r,n){var a;this.elements=new Map,this.caseInsensitive=(a=n?.caseInsensitive)!==null&&a!==void 0?a:!1;for(let i of t){let o=this.caseInsensitive?i.name.toLowerCase():i.name;this.elements.set(o,i)}this.outerScope=r}getElement(t){let r=this.caseInsensitive?t.toLowerCase():t,n=this.elements.get(r);if(n)return n;if(this.outerScope)return this.outerScope.getElement(t)}getAllElements(){let t=Tn(this.elements.values());return this.outerScope&&(t=t.concat(this.outerScope.getAllElements())),t}},RJt={getElement(){},getAllElements(){return V_}}});var zy,K4,Mm,K6,qy,Q6=B(()=>{zy=class{constructor(){this.toDispose=[],this.isDisposed=!1}onDispose(t){this.toDispose.push(t)}dispose(){this.throwIfDisposed(),this.clear(),this.isDisposed=!0,this.toDispose.forEach(t=>t.dispose())}throwIfDisposed(){if(this.isDisposed)throw new Error("This cache has already been disposed")}},K4=class extends zy{constructor(){super(...arguments),this.cache=new Map}has(t){return this.throwIfDisposed(),this.cache.has(t)}set(t,r){this.throwIfDisposed(),this.cache.set(t,r)}get(t,r){if(this.throwIfDisposed(),this.cache.has(t))return this.cache.get(t);if(r){let n=r();return this.cache.set(t,n),n}else return}delete(t){return this.throwIfDisposed(),this.cache.delete(t)}clear(){this.throwIfDisposed(),this.cache.clear()}},Mm=class extends zy{constructor(t){super(),this.cache=new Map,this.converter=t??(r=>r)}has(t,r){return this.throwIfDisposed(),this.cacheForContext(t).has(r)}set(t,r,n){this.throwIfDisposed(),this.cacheForContext(t).set(r,n)}get(t,r,n){this.throwIfDisposed();let a=this.cacheForContext(t);if(a.has(r))return a.get(r);if(n){let i=n();return a.set(r,i),i}else return}delete(t,r){return this.throwIfDisposed(),this.cacheForContext(t).delete(r)}clear(t){if(this.throwIfDisposed(),t){let r=this.converter(t);this.cache.delete(r)}else this.cache.clear()}cacheForContext(t){let r=this.converter(t),n=this.cache.get(r);return n||(n=new Map,this.cache.set(r,n)),n}},K6=class extends Mm{constructor(t,r){super(n=>n.toString()),r?(this.toDispose.push(t.workspace.DocumentBuilder.onDocumentPhase(r,n=>{this.clear(n.uri.toString())})),this.toDispose.push(t.workspace.DocumentBuilder.onUpdate((n,a)=>{for(let i of a)this.clear(i)}))):this.toDispose.push(t.workspace.DocumentBuilder.onUpdate((n,a)=>{let i=n.concat(a);for(let o of i)this.clear(o)}))}},qy=class extends K4{constructor(t,r){super(),r?(this.toDispose.push(t.workspace.DocumentBuilder.onBuildPhase(r,()=>{this.clear()})),this.toDispose.push(t.workspace.DocumentBuilder.onUpdate((n,a)=>{a.length>0&&this.clear()}))):this.toDispose.push(t.workspace.DocumentBuilder.onUpdate(()=>{this.clear()}))}}});var Q4,x$=B(()=>{y$();ss();Ws();Q6();Q4=class{constructor(t){this.reflection=t.shared.AstReflection,this.nameProvider=t.references.NameProvider,this.descriptions=t.workspace.AstNodeDescriptionProvider,this.indexManager=t.shared.workspace.IndexManager,this.globalScopeCache=new qy(t.shared)}getScope(t){let r=[],n=this.reflection.getReferenceType(t),a=Ro(t.container).precomputedScopes;if(a){let o=t.container;do{let s=a.get(o);s.length>0&&r.push(Tn(s).filter(l=>this.reflection.isSubtype(l.type,n))),o=o.$container}while(o)}let i=this.getGlobalScope(n,t);for(let o=r.length-1;o>=0;o--)i=this.createScope(r[o],i);return i}createScope(t,r,n){return new $y(Tn(t),r,n)}createScopeForNodes(t,r,n){let a=Tn(t).map(i=>{let o=this.nameProvider.getName(i);if(o)return this.descriptions.createDescription(i,o)}).nonNullable();return new $y(a,r,n)}getGlobalScope(t,r){return this.globalScopeCache.get(t,()=>new j4(this.indexManager.allElements(t)))}}});function b$(e){return typeof e.$comment=="string"}function Kyt(e){return typeof e=="object"&&!!e&&("$ref"in e||"$error"in e)}var Z4,Z6=B(()=>{h$();zu();ss();Gu();Z4=class{constructor(t){this.ignoreProperties=new Set(["$container","$containerProperty","$containerIndex","$document","$cstNode"]),this.langiumDocuments=t.shared.workspace.LangiumDocuments,this.astNodeLocator=t.workspace.AstNodeLocator,this.nameProvider=t.references.NameProvider,this.commentProvider=t.documentation.CommentProvider}serialize(t,r){let n=r??{},a=r?.replacer,i=(s,l)=>this.replacer(s,l,n),o=a?(s,l)=>a(s,l,i):i;try{return this.currentDocument=Ro(t),JSON.stringify(t,o,r?.space)}finally{this.currentDocument=void 0}}deserialize(t,r){let n=r??{},a=JSON.parse(t);return this.linkNode(a,a,n),a}replacer(t,r,{refText:n,sourceText:a,textRegions:i,comments:o,uriConverter:s}){var l,u,f,h;if(!this.ignoreProperties.has(t))if(co(r)){let d=r.ref,p=n?r.$refText:void 0;if(d){let m=Ro(d),g="";this.currentDocument&&this.currentDocument!==m&&(s?g=s(m.uri,r):g=m.uri.toString());let v=this.astNodeLocator.getAstNodePath(d);return{$ref:`${g}#${v}`,$refText:p}}else return{$error:(u=(l=r.error)===null||l===void 0?void 0:l.message)!==null&&u!==void 0?u:"Could not resolve reference",$refText:p}}else if(Pa(r)){let d;if(i&&(d=this.addAstNodeRegionWithAssignmentsTo(Object.assign({},r)),(!t||r.$document)&&d?.$textRegion&&(d.$textRegion.documentURI=(f=this.currentDocument)===null||f===void 0?void 0:f.uri.toString())),a&&!t&&(d??(d=Object.assign({},r)),d.$sourceText=(h=r.$cstNode)===null||h===void 0?void 0:h.text),o){d??(d=Object.assign({},r));let p=this.commentProvider.getComment(r);p&&(d.$comment=p.replace(/\r/g,""))}return d??r}else return r}addAstNodeRegionWithAssignmentsTo(t){let r=n=>({offset:n.offset,end:n.end,length:n.length,range:n.range});if(t.$cstNode){let n=t.$textRegion=r(t.$cstNode),a=n.assignments={};return Object.keys(t).filter(i=>!i.startsWith("$")).forEach(i=>{let o=BP(t.$cstNode,i).map(r);o.length!==0&&(a[i]=o)}),t}}linkNode(t,r,n,a,i,o){for(let[l,u]of Object.entries(t))if(Array.isArray(u))for(let f=0;f<u.length;f++){let h=u[f];Kyt(h)?u[f]=this.reviveReference(t,l,r,h,n):Pa(h)&&this.linkNode(h,r,n,t,l,f)}else Kyt(u)?t[l]=this.reviveReference(t,l,r,u,n):Pa(u)&&this.linkNode(u,r,n,t,l);let s=t;s.$container=a,s.$containerProperty=i,s.$containerIndex=o}reviveReference(t,r,n,a,i){let o=a.$refText,s=a.$error;if(a.$ref){let l=this.getRefNode(n,a.$ref,i.uriConverter);if(Pa(l))return o||(o=this.nameProvider.getName(l)),{$refText:o??"",ref:l};s=l}if(s){let l={$refText:o??""};return l.error={container:t,property:r,message:s,reference:l},l}else return}getRefNode(t,r,n){try{let a=r.indexOf("#");if(a===0){let l=this.astNodeLocator.getAstNode(t,r.substring(1));return l||"Could not resolve path: "+r}if(a<0){let l=n?n(r):ds.parse(r),u=this.langiumDocuments.getDocument(l);return u?u.parseResult.value:"Could not find document for URI: "+r}let i=n?n(r.substring(0,a)):ds.parse(r.substring(0,a)),o=this.langiumDocuments.getDocument(i);if(!o)return"Could not find document for URI: "+r;if(a===r.length-1)return o.parseResult.value;let s=this.astNodeLocator.getAstNode(o.parseResult.value,r.substring(a+1));return s||"Could not resolve URI: "+r}catch(a){return String(a)}}}});var J4,_$=B(()=>{cf();J4=class{get map(){return this.fileExtensionMap}constructor(t){this.languageIdMap=new Map,this.fileExtensionMap=new Map,this.textDocuments=t?.workspace.TextDocuments}register(t){let r=t.LanguageMetaData;for(let n of r.fileExtensions)this.fileExtensionMap.has(n)&&console.warn(`The file extension ${n} is used by multiple languages. It is now assigned to '${r.languageId}'.`),this.fileExtensionMap.set(n,t);this.languageIdMap.set(r.languageId,t),this.languageIdMap.size===1?this.singleton=t:this.singleton=void 0}getServices(t){var r,n;if(this.singleton!==void 0)return this.singleton;if(this.languageIdMap.size===0)throw new Error("The service registry is empty. Use `register` to register the services of a language.");let a=(n=(r=this.textDocuments)===null||r===void 0?void 0:r.get(t))===null||n===void 0?void 0:n.languageId;if(a!==void 0){let s=this.languageIdMap.get(a);if(s)return s}let i=ps.extname(t),o=this.fileExtensionMap.get(i);if(!o)throw a?new Error(`The service registry contains no services for the extension '${i}' for language '${a}'.`):new Error(`The service registry contains no services for the extension '${i}'.`);return o}hasServices(t){try{return this.getServices(t),!0}catch{return!1}}get all(){return Array.from(this.languageIdMap.values())}}});function Im(e){return{code:e}}var Uy,tw,ew=B(()=>{vl();By();iu();Ws();(function(e){e.all=["fast","slow","built-in"]})(Uy||(Uy={}));tw=class{constructor(t){this.entries=new Hu,this.entriesBefore=[],this.entriesAfter=[],this.reflection=t.shared.AstReflection}register(t,r=this,n="fast"){if(n==="built-in")throw new Error("The 'built-in' category is reserved for lexer, parser, and linker errors.");for(let[a,i]of Object.entries(t)){let o=i;if(Array.isArray(o))for(let s of o){let l={check:this.wrapValidationException(s,r),category:n};this.addEntry(a,l)}else if(typeof o=="function"){let s={check:this.wrapValidationException(o,r),category:n};this.addEntry(a,s)}else ef(o)}}wrapValidationException(t,r){return async(n,a,i)=>{await this.handleException(()=>t.call(r,n,a,i),"An error occurred during validation",a,n)}}async handleException(t,r,n,a){try{await t()}catch(i){if(uf(i))throw i;console.error(`${r}:`,i),i instanceof Error&&i.stack&&console.error(i.stack);let o=i instanceof Error?i.message:String(i);n("error",`${r}: ${o}`,{node:a})}}addEntry(t,r){if(t==="AstNode"){this.entries.add("AstNode",r);return}for(let n of this.reflection.getAllSubTypes(t))this.entries.add(n,r)}getChecks(t,r){let n=Tn(this.entries.get(t)).concat(this.entries.get("AstNode"));return r&&(n=n.filter(a=>r.includes(a.category))),n.map(a=>a.check)}registerBeforeDocument(t,r=this){this.entriesBefore.push(this.wrapPreparationException(t,"An error occurred during set-up of the validation",r))}registerAfterDocument(t,r=this){this.entriesAfter.push(this.wrapPreparationException(t,"An error occurred during tear-down of the validation",r))}wrapPreparationException(t,r,n){return async(a,i,o,s)=>{await this.handleException(()=>t.call(n,a,i,o,s),r,i,a)}}get checksBefore(){return this.entriesBefore}get checksAfter(){return this.entriesAfter}}});function Qyt(e){if(e.range)return e.range;let t;return typeof e.property=="string"?t=l4(e.node.$cstNode,e.property,e.index):typeof e.keyword=="string"&&(t=zP(e.node.$cstNode,e.keyword,e.index)),t??(t=e.node.$cstNode),t?t.range:{start:{line:0,character:0},end:{line:0,character:0}}}function J6(e){switch(e){case"error":return 1;case"warning":return 2;case"info":return 3;case"hint":return 4;default:throw new Error("Invalid diagnostic severity: "+e)}}function Zyt(e){switch(e){case"error":return Im(ou.LexingError);case"warning":return Im(ou.LexingWarning);case"info":return Im(ou.LexingInfo);case"hint":return Im(ou.LexingHint);default:throw new Error("Invalid diagnostic severity: "+e)}}var rw,ou,w$=B(()=>{au();Gu();ss();qu();iu();ew();rw=class{constructor(t){this.validationRegistry=t.validation.ValidationRegistry,this.metadata=t.LanguageMetaData}async validateDocument(t,r={},n=mr.CancellationToken.None){let a=t.parseResult,i=[];if(await Za(n),(!r.categories||r.categories.includes("built-in"))&&(this.processLexingErrors(a,i,r),r.stopAfterLexingErrors&&i.some(o=>{var s;return((s=o.data)===null||s===void 0?void 0:s.code)===ou.LexingError})||(this.processParsingErrors(a,i,r),r.stopAfterParsingErrors&&i.some(o=>{var s;return((s=o.data)===null||s===void 0?void 0:s.code)===ou.ParsingError}))||(this.processLinkingErrors(t,i,r),r.stopAfterLinkingErrors&&i.some(o=>{var s;return((s=o.data)===null||s===void 0?void 0:s.code)===ou.LinkingError}))))return i;try{i.push(...await this.validateAst(a.value,r,n))}catch(o){if(uf(o))throw o;console.error("An error occurred during validation:",o)}return await Za(n),i}processLexingErrors(t,r,n){var a,i,o;let s=[...t.lexerErrors,...(i=(a=t.lexerReport)===null||a===void 0?void 0:a.diagnostics)!==null&&i!==void 0?i:[]];for(let l of s){let u=(o=l.severity)!==null&&o!==void 0?o:"error",f={severity:J6(u),range:{start:{line:l.line-1,character:l.column-1},end:{line:l.line-1,character:l.column+l.length-1}},message:l.message,data:Zyt(u),source:this.getSource()};r.push(f)}}processParsingErrors(t,r,n){for(let a of t.parserErrors){let i;if(isNaN(a.token.startOffset)){if("previousToken"in a){let o=a.previousToken;if(isNaN(o.startOffset)){let s={line:0,character:0};i={start:s,end:s}}else{let s={line:o.endLine-1,character:o.endColumn};i={start:s,end:s}}}}else i=dv(a.token);if(i){let o={severity:J6("error"),range:i,message:a.message,data:Im(ou.ParsingError),source:this.getSource()};r.push(o)}}}processLinkingErrors(t,r,n){for(let a of t.references){let i=a.error;if(i){let o={node:i.container,property:i.property,index:i.index,data:{code:ou.LinkingError,containerType:i.container.$type,property:i.property,refText:i.reference.$refText}};r.push(this.toDiagnostic("error",i.message,o))}}}async validateAst(t,r,n=mr.CancellationToken.None){let a=[],i=(o,s,l)=>{a.push(this.toDiagnostic(o,s,l))};return await this.validateAstBefore(t,r,i,n),await this.validateAstNodes(t,r,i,n),await this.validateAstAfter(t,r,i,n),a}async validateAstBefore(t,r,n,a=mr.CancellationToken.None){var i;let o=this.validationRegistry.checksBefore;for(let s of o)await Za(a),await s(t,n,(i=r.categories)!==null&&i!==void 0?i:[],a)}async validateAstNodes(t,r,n,a=mr.CancellationToken.None){await Promise.all(nu(t).map(async i=>{await Za(a);let o=this.validationRegistry.getChecks(i.$type,r.categories);for(let s of o)await s(i,n,a)}))}async validateAstAfter(t,r,n,a=mr.CancellationToken.None){var i;let o=this.validationRegistry.checksAfter;for(let s of o)await Za(a),await s(t,n,(i=r.categories)!==null&&i!==void 0?i:[],a)}toDiagnostic(t,r,n){return{message:r,range:Qyt(n),severity:J6(t),code:n.code,codeDescription:n.codeDescription,tags:n.tags,relatedInformation:n.relatedInformation,data:n.data,source:this.getSource()}}getSource(){return this.metadata.languageId}};(function(e){e.LexingError="lexing-error",e.LexingWarning="lexing-warning",e.LexingInfo="lexing-info",e.LexingHint="lexing-hint",e.ParsingError="parsing-error",e.LinkingError="linking-error"})(ou||(ou={}))});var nw,aw,T$=B(()=>{au();zu();ss();qu();iu();cf();nw=class{constructor(t){this.astNodeLocator=t.workspace.AstNodeLocator,this.nameProvider=t.references.NameProvider}createDescription(t,r,n){let a=n??Ro(t);r??(r=this.nameProvider.getName(t));let i=this.astNodeLocator.getAstNodePath(t);if(!r)throw new Error(`Node at path ${i} has no name.`);let o,s=()=>{var l;return o??(o=um((l=this.nameProvider.getNameNode(t))!==null&&l!==void 0?l:t.$cstNode))};return{node:t,name:r,get nameSegment(){return s()},selectionSegment:um(t.$cstNode),type:t.$type,documentUri:a.uri,path:i}}},aw=class{constructor(t){this.nodeLocator=t.workspace.AstNodeLocator}async createDescriptions(t,r=mr.CancellationToken.None){let n=[],a=t.parseResult.value;for(let i of nu(a))await Za(r),Jv(i).filter(o=>!sm(o)).forEach(o=>{let s=this.createDescription(o);s&&n.push(s)});return n}createDescription(t){let r=t.reference.$nodeDescription,n=t.reference.$refNode;if(!r||!n)return;let a=Ro(t.container).uri;return{sourceUri:a,sourcePath:this.nodeLocator.getAstNodePath(t.container),targetUri:r.documentUri,targetPath:r.path,segment:um(n),local:ps.equals(r.documentUri,a)}}}});var iw,E$=B(()=>{iw=class{constructor(){this.segmentSeparator="/",this.indexSeparator="@"}getAstNodePath(t){if(t.$container){let r=this.getAstNodePath(t.$container),n=this.getPathSegment(t);return r+this.segmentSeparator+n}return""}getPathSegment({$containerProperty:t,$containerIndex:r}){if(!t)throw new Error("Missing '$containerProperty' in AST node.");return r!==void 0?t+this.indexSeparator+r:t}getAstNode(t,r){return r.split(this.segmentSeparator).reduce((a,i)=>{if(!a||i.length===0)return a;let o=i.indexOf(this.indexSeparator);if(o>0){let s=i.substring(0,o),l=parseInt(i.substring(o+1)),u=a[s];return u?.[l]}return a[i]},t)}}});var ka={};var tD=B(()=>{Lr(ka,qo(s$(),1))});var ow,k$=B(()=>{tD();iu();ow=class{constructor(t){this._ready=new hs,this.settings={},this.workspaceConfig=!1,this.onConfigurationSectionUpdateEmitter=new ka.Emitter,this.serviceRegistry=t.ServiceRegistry}get ready(){return this._ready.promise}initialize(t){var r,n;this.workspaceConfig=(n=(r=t.capabilities.workspace)===null||r===void 0?void 0:r.configuration)!==null&&n!==void 0?n:!1}async initialized(t){if(this.workspaceConfig){if(t.register){let r=this.serviceRegistry.all;t.register({section:r.map(n=>this.toSectionName(n.LanguageMetaData.languageId))})}if(t.fetchConfiguration){let r=this.serviceRegistry.all.map(a=>({section:this.toSectionName(a.LanguageMetaData.languageId)})),n=await t.fetchConfiguration(r);r.forEach((a,i)=>{this.updateSectionConfiguration(a.section,n[i])})}}this._ready.resolve()}updateConfiguration(t){t.settings&&Object.keys(t.settings).forEach(r=>{let n=t.settings[r];this.updateSectionConfiguration(r,n),this.onConfigurationSectionUpdateEmitter.fire({section:r,configuration:n})})}updateSectionConfiguration(t,r){this.settings[t]=r}async getConfiguration(t,r){await this.ready;let n=this.toSectionName(t);if(this.settings[n])return this.settings[n][r]}toSectionName(t){return`${t}`}get onConfigurationSectionUpdate(){return this.onConfigurationSectionUpdateEmitter.event}}});var hp,C$=B(()=>{(function(e){function t(r){return{dispose:async()=>await r()}}e.create=t})(hp||(hp={}))});var sw,S$=B(()=>{au();C$();By();iu();Ws();ew();Py();sw=class{constructor(t){this.updateBuildOptions={validation:{categories:["built-in","fast"]}},this.updateListeners=[],this.buildPhaseListeners=new Hu,this.documentPhaseListeners=new Hu,this.buildState=new Map,this.documentBuildWaiters=new Map,this.currentState=Kn.Changed,this.langiumDocuments=t.workspace.LangiumDocuments,this.langiumDocumentFactory=t.workspace.LangiumDocumentFactory,this.textDocuments=t.workspace.TextDocuments,this.indexManager=t.workspace.IndexManager,this.serviceRegistry=t.ServiceRegistry}async build(t,r={},n=mr.CancellationToken.None){var a,i;for(let o of t){let s=o.uri.toString();if(o.state===Kn.Validated){if(typeof r.validation=="boolean"&&r.validation)o.state=Kn.IndexedReferences,o.diagnostics=void 0,this.buildState.delete(s);else if(typeof r.validation=="object"){let l=this.buildState.get(s),u=(a=l?.result)===null||a===void 0?void 0:a.validationChecks;if(u){let h=((i=r.validation.categories)!==null&&i!==void 0?i:Uy.all).filter(d=>!u.includes(d));h.length>0&&(this.buildState.set(s,{completed:!1,options:{validation:Object.assign(Object.assign({},r.validation),{categories:h})},result:l.result}),o.state=Kn.IndexedReferences)}}}else this.buildState.delete(s)}this.currentState=Kn.Changed,await this.emitUpdate(t.map(o=>o.uri),[]),await this.buildDocuments(t,r,n)}async update(t,r,n=mr.CancellationToken.None){this.currentState=Kn.Changed;for(let o of r)this.langiumDocuments.deleteDocument(o),this.buildState.delete(o.toString()),this.indexManager.remove(o);for(let o of t){if(!this.langiumDocuments.invalidateDocument(o)){let l=this.langiumDocumentFactory.fromModel({$type:"INVALID"},o);l.state=Kn.Changed,this.langiumDocuments.addDocument(l)}this.buildState.delete(o.toString())}let a=Tn(t).concat(r).map(o=>o.toString()).toSet();this.langiumDocuments.all.filter(o=>!a.has(o.uri.toString())&&this.shouldRelink(o,a)).forEach(o=>{this.serviceRegistry.getServices(o.uri).references.Linker.unlink(o),o.state=Math.min(o.state,Kn.ComputedScopes),o.diagnostics=void 0}),await this.emitUpdate(t,r),await Za(n);let i=this.sortDocuments(this.langiumDocuments.all.filter(o=>{var s;return o.state<Kn.Linked||!(!((s=this.buildState.get(o.uri.toString()))===null||s===void 0)&&s.completed)}).toArray());await this.buildDocuments(i,this.updateBuildOptions,n)}async emitUpdate(t,r){await Promise.all(this.updateListeners.map(n=>n(t,r)))}sortDocuments(t){let r=0,n=t.length-1;for(;r<n;){for(;r<t.length&&this.hasTextDocument(t[r]);)r++;for(;n>=0&&!this.hasTextDocument(t[n]);)n--;r<n&&([t[r],t[n]]=[t[n],t[r]])}return t}hasTextDocument(t){var r;return!!(!((r=this.textDocuments)===null||r===void 0)&&r.get(t.uri))}shouldRelink(t,r){return t.references.some(n=>n.error!==void 0)?!0:this.indexManager.isAffected(t,r)}onUpdate(t){return this.updateListeners.push(t),hp.create(()=>{let r=this.updateListeners.indexOf(t);r>=0&&this.updateListeners.splice(r,1)})}async buildDocuments(t,r,n){this.prepareBuild(t,r),await this.runCancelable(t,Kn.Parsed,n,i=>this.langiumDocumentFactory.update(i,n)),await this.runCancelable(t,Kn.IndexedContent,n,i=>this.indexManager.updateContent(i,n)),await this.runCancelable(t,Kn.ComputedScopes,n,async i=>{let o=this.serviceRegistry.getServices(i.uri).references.ScopeComputation;i.precomputedScopes=await o.computeLocalScopes(i,n)}),await this.runCancelable(t,Kn.Linked,n,i=>this.serviceRegistry.getServices(i.uri).references.Linker.link(i,n)),await this.runCancelable(t,Kn.IndexedReferences,n,i=>this.indexManager.updateReferences(i,n));let a=t.filter(i=>this.shouldValidate(i));await this.runCancelable(a,Kn.Validated,n,i=>this.validate(i,n));for(let i of t){let o=this.buildState.get(i.uri.toString());o&&(o.completed=!0)}}prepareBuild(t,r){for(let n of t){let a=n.uri.toString(),i=this.buildState.get(a);(!i||i.completed)&&this.buildState.set(a,{completed:!1,options:r,result:i?.result})}}async runCancelable(t,r,n,a){let i=t.filter(s=>s.state<r);for(let s of i)await Za(n),await a(s),s.state=r,await this.notifyDocumentPhase(s,r,n);let o=t.filter(s=>s.state===r);await this.notifyBuildPhase(o,r,n),this.currentState=r}onBuildPhase(t,r){return this.buildPhaseListeners.add(t,r),hp.create(()=>{this.buildPhaseListeners.delete(t,r)})}onDocumentPhase(t,r){return this.documentPhaseListeners.add(t,r),hp.create(()=>{this.documentPhaseListeners.delete(t,r)})}waitUntil(t,r,n){let a;if(r&&"path"in r?a=r:n=r,n??(n=mr.CancellationToken.None),a){let i=this.langiumDocuments.getDocument(a);if(i&&i.state>t)return Promise.resolve(a)}return this.currentState>=t?Promise.resolve(void 0):n.isCancellationRequested?Promise.reject(lf):new Promise((i,o)=>{let s=this.onBuildPhase(t,()=>{if(s.dispose(),l.dispose(),a){let u=this.langiumDocuments.getDocument(a);i(u?.uri)}else i(void 0)}),l=n.onCancellationRequested(()=>{s.dispose(),l.dispose(),o(lf)})})}async notifyDocumentPhase(t,r,n){let i=this.documentPhaseListeners.get(r).slice();for(let o of i)try{await o(t,n)}catch(s){if(!uf(s))throw s}}async notifyBuildPhase(t,r,n){if(t.length===0)return;let i=this.buildPhaseListeners.get(r).slice();for(let o of i)await Za(n),await o(t,n)}shouldValidate(t){return!!this.getBuildOptions(t).validation}async validate(t,r){var n,a;let i=this.serviceRegistry.getServices(t.uri).validation.DocumentValidator,o=this.getBuildOptions(t).validation,s=typeof o=="object"?o:void 0,l=await i.validateDocument(t,s,r);t.diagnostics?t.diagnostics.push(...l):t.diagnostics=l;let u=this.buildState.get(t.uri.toString());if(u){(n=u.result)!==null&&n!==void 0||(u.result={});let f=(a=s?.categories)!==null&&a!==void 0?a:Uy.all;u.result.validationChecks?u.result.validationChecks.push(...f):u.result.validationChecks=[...f]}}getBuildOptions(t){var r,n;return(n=(r=this.buildState.get(t.uri.toString()))===null||r===void 0?void 0:r.options)!==null&&n!==void 0?n:{}}}});var lw,D$=B(()=>{ss();Q6();au();Ws();cf();lw=class{constructor(t){this.symbolIndex=new Map,this.symbolByTypeIndex=new Mm,this.referenceIndex=new Map,this.documents=t.workspace.LangiumDocuments,this.serviceRegistry=t.ServiceRegistry,this.astReflection=t.AstReflection}findAllReferences(t,r){let n=Ro(t).uri,a=[];return this.referenceIndex.forEach(i=>{i.forEach(o=>{ps.equals(o.targetUri,n)&&o.targetPath===r&&a.push(o)})}),Tn(a)}allElements(t,r){let n=Tn(this.symbolIndex.keys());return r&&(n=n.filter(a=>!r||r.has(a))),n.map(a=>this.getFileDescriptions(a,t)).flat()}getFileDescriptions(t,r){var n;return r?this.symbolByTypeIndex.get(t,r,()=>{var i;return((i=this.symbolIndex.get(t))!==null&&i!==void 0?i:[]).filter(s=>this.astReflection.isSubtype(s.type,r))}):(n=this.symbolIndex.get(t))!==null&&n!==void 0?n:[]}remove(t){let r=t.toString();this.symbolIndex.delete(r),this.symbolByTypeIndex.clear(r),this.referenceIndex.delete(r)}async updateContent(t,r=mr.CancellationToken.None){let a=await this.serviceRegistry.getServices(t.uri).references.ScopeComputation.computeExports(t,r),i=t.uri.toString();this.symbolIndex.set(i,a),this.symbolByTypeIndex.clear(i)}async updateReferences(t,r=mr.CancellationToken.None){let a=await this.serviceRegistry.getServices(t.uri).workspace.ReferenceDescriptionProvider.createDescriptions(t,r);this.referenceIndex.set(t.uri.toString(),a)}isAffected(t,r){let n=this.referenceIndex.get(t.uri.toString());return n?n.some(a=>!a.local&&r.has(a.targetUri.toString())):!1}}});var uw,A$=B(()=>{au();iu();cf();uw=class{constructor(t){this.initialBuildOptions={},this._ready=new hs,this.serviceRegistry=t.ServiceRegistry,this.langiumDocuments=t.workspace.LangiumDocuments,this.documentBuilder=t.workspace.DocumentBuilder,this.fileSystemProvider=t.workspace.FileSystemProvider,this.mutex=t.workspace.WorkspaceLock}get ready(){return this._ready.promise}get workspaceFolders(){return this.folders}initialize(t){var r;this.folders=(r=t.workspaceFolders)!==null&&r!==void 0?r:void 0}initialized(t){return this.mutex.write(r=>{var n;return this.initializeWorkspace((n=this.folders)!==null&&n!==void 0?n:[],r)})}async initializeWorkspace(t,r=mr.CancellationToken.None){let n=await this.performStartup(t);await Za(r),await this.documentBuilder.build(n,this.initialBuildOptions,r)}async performStartup(t){let r=this.serviceRegistry.all.flatMap(i=>i.LanguageMetaData.fileExtensions),n=[],a=i=>{n.push(i),this.langiumDocuments.hasDocument(i.uri)||this.langiumDocuments.addDocument(i)};return await this.loadAdditionalDocuments(t,a),await Promise.all(t.map(i=>[i,this.getRootFolder(i)]).map(async i=>this.traverseFolder(...i,r,a))),this._ready.resolve(),n}loadAdditionalDocuments(t,r){return Promise.resolve()}getRootFolder(t){return ds.parse(t.uri)}async traverseFolder(t,r,n,a){let i=await this.fileSystemProvider.readDirectory(r);await Promise.all(i.map(async o=>{if(this.includeEntry(t,o,n)){if(o.isDirectory)await this.traverseFolder(t,o.uri,n,a);else if(o.isFile){let s=await this.langiumDocuments.getOrCreateDocument(o.uri);a(s)}}}))}includeEntry(t,r,n){let a=ps.basename(r.uri);if(a.startsWith("."))return!1;if(r.isDirectory)return a!=="node_modules"&&a!=="out";if(r.isFile){let i=ps.extname(r.uri);return n.includes(i)}return!1}}});function rD(e){return Array.isArray(e)&&(e.length===0||"name"in e[0])}function M$(e){return e&&"modes"in e&&"defaultMode"in e}function L$(e){return!rD(e)&&!M$(e)}var cw,eD,Rm,nD=B(()=>{up();cw=class{buildUnexpectedCharactersMessage(t,r,n,a,i){return dy.buildUnexpectedCharactersMessage(t,r,n,a,i)}buildUnableToPopLexerModeMessage(t){return dy.buildUnableToPopLexerModeMessage(t)}},eD={mode:"full"},Rm=class{constructor(t){this.errorMessageProvider=t.parser.LexerErrorMessageProvider,this.tokenBuilder=t.parser.TokenBuilder;let r=this.tokenBuilder.buildTokens(t.Grammar,{caseInsensitive:t.LanguageMetaData.caseInsensitive});this.tokenTypes=this.toTokenTypeDictionary(r);let n=L$(r)?Object.values(r):r,a=t.LanguageMetaData.mode==="production";this.chevrotainLexer=new Ta(n,{positionTracking:"full",skipValidations:a,errorMessageProvider:this.errorMessageProvider})}get definition(){return this.tokenTypes}tokenize(t,r=eD){var n,a,i;let o=this.chevrotainLexer.tokenize(t);return{tokens:o.tokens,errors:o.errors,hidden:(n=o.groups.hidden)!==null&&n!==void 0?n:[],report:(i=(a=this.tokenBuilder).flushLexingReport)===null||i===void 0?void 0:i.call(a,t)}}toTokenTypeDictionary(t){if(L$(t))return t;let r=M$(t)?Object.values(t.modes).flat():t,n={};return r.forEach(a=>n[a.name]=a),n}}});function N$(e,t,r){let n,a;typeof e=="string"?(a=t,n=r):(a=e.range.start,n=t),a||(a=_n.create(0,0));let i=e2t(e),o=F$(n),s=OJt({lines:i,position:a,options:o});return zJt({index:0,tokens:s,position:a})}function O$(e,t){let r=F$(t),n=e2t(e);if(n.length===0)return!1;let a=n[0],i=n[n.length-1],o=r.start,s=r.end;return!!o?.exec(a)&&!!s?.exec(i)}function e2t(e){let t="";return typeof e=="string"?t=e:t=e.text,t.split(LP)}function OJt(e){var t,r,n;let a=[],i=e.position.line,o=e.position.character;for(let s=0;s<e.lines.length;s++){let l=s===0,u=s===e.lines.length-1,f=e.lines[s],h=0;if(l&&e.options.start){let p=(t=e.options.start)===null||t===void 0?void 0:t.exec(f);p&&(h=p.index+p[0].length)}else{let p=(r=e.options.line)===null||r===void 0?void 0:r.exec(f);p&&(h=p.index+p[0].length)}if(u){let p=(n=e.options.end)===null||n===void 0?void 0:n.exec(f);p&&(f=f.substring(0,p.index))}if(f=f.substring(0,$Jt(f)),R$(f,h)>=f.length){if(a.length>0){let p=_n.create(i,o);a.push({type:"break",content:"",range:jr.create(p,p)})}}else{Jyt.lastIndex=h;let p=Jyt.exec(f);if(p){let m=p[0],g=p[1],v=_n.create(i,o+h),y=_n.create(i,o+h+m.length);a.push({type:"tag",content:g,range:jr.create(v,y)}),h+=m.length,h=R$(f,h)}if(h<f.length){let m=f.substring(h),g=Array.from(m.matchAll(NJt));a.push(...FJt(g,m,i,o+h))}}i++,o=0}return a.length>0&&a[a.length-1].type==="break"?a.slice(0,-1):a}function FJt(e,t,r,n){let a=[];if(e.length===0){let i=_n.create(r,n),o=_n.create(r,n+t.length);a.push({type:"text",content:t,range:jr.create(i,o)})}else{let i=0;for(let s of e){let l=s.index,u=t.substring(i,l);u.length>0&&a.push({type:"text",content:t.substring(i,l),range:jr.create(_n.create(r,i+n),_n.create(r,l+n))});let f=u.length+1,h=s[1];if(a.push({type:"inline-tag",content:h,range:jr.create(_n.create(r,i+f+n),_n.create(r,i+f+h.length+n))}),f+=h.length,s.length===4){f+=s[2].length;let d=s[3];a.push({type:"text",content:d,range:jr.create(_n.create(r,i+f+n),_n.create(r,i+f+d.length+n))})}else a.push({type:"text",content:"",range:jr.create(_n.create(r,i+f+n),_n.create(r,i+f+n))});i=l+s[0].length}let o=t.substring(i);o.length>0&&a.push({type:"text",content:o,range:jr.create(_n.create(r,i+n),_n.create(r,i+n+o.length))})}return a}function R$(e,t){let r=e.substring(t).match(PJt);return r?t+r.index:e.length}function $Jt(e){let t=e.match(BJt);if(t&&typeof t.index=="number")return t.index}function zJt(e){var t,r,n,a;let i=_n.create(e.position.line,e.position.character);if(e.tokens.length===0)return new aD([],jr.create(i,i));let o=[];for(;e.index<e.tokens.length;){let u=qJt(e,o[o.length-1]);u&&o.push(u)}let s=(r=(t=o[0])===null||t===void 0?void 0:t.range.start)!==null&&r!==void 0?r:i,l=(a=(n=o[o.length-1])===null||n===void 0?void 0:n.range.end)!==null&&a!==void 0?a:i;return new aD(o,jr.create(s,l))}function qJt(e,t){let r=e.tokens[e.index];if(r.type==="tag")return n2t(e,!1);if(r.type==="text"||r.type==="inline-tag")return r2t(e);UJt(r,t),e.index++}function UJt(e,t){if(t){let r=new iD("",e.range);"inlines"in t?t.inlines.push(r):t.content.inlines.push(r)}}function r2t(e){let t=e.tokens[e.index],r=t,n=t,a=[];for(;t&&t.type!=="break"&&t.type!=="tag";)a.push(WJt(e)),n=t,t=e.tokens[e.index];return new hw(a,jr.create(r.range.start,n.range.end))}function WJt(e){return e.tokens[e.index].type==="inline-tag"?n2t(e,!0):a2t(e)}function n2t(e,t){let r=e.tokens[e.index++],n=r.content.substring(1),a=e.tokens[e.index];if(a?.type==="text")if(t){let i=a2t(e);return new fw(n,new hw([i],i.range),t,jr.create(r.range.start,i.range.end))}else{let i=r2t(e);return new fw(n,i,t,jr.create(r.range.start,i.range.end))}else{let i=r.range;return new fw(n,new hw([],i),t,i)}}function a2t(e){let t=e.tokens[e.index++];return new iD(t.content,t.range)}function F$(e){if(!e)return F$({start:"/**",end:"*/",line:"*"});let{start:t,end:r,line:n}=e;return{start:I$(t,!0),end:I$(r,!1),line:I$(n,!0)}}function I$(e,t){if(typeof e=="string"||typeof e=="object"){let r=typeof e=="string"?vm(e):e.source;return t?new RegExp(`^\\s*${r}`):new RegExp(`\\s*${r}\\s*$`)}else return e}function GJt(e,t,r){var n,a;if(e==="linkplain"||e==="linkcode"||e==="link"){let i=t.indexOf(" "),o=t;if(i>0){let l=R$(t,i);o=t.substring(l),t=t.substring(0,i)}return(e==="linkcode"||e==="link"&&r.link==="code")&&(o=`\`${o}\``),(a=(n=r.renderLink)===null||n===void 0?void 0:n.call(r,t,o))!==null&&a!==void 0?a:VJt(t,o)}}function VJt(e,t){try{return ds.parse(e,!0),`[${t}](${e})`}catch{return e}}function t2t(e){return e.endsWith(`
`)?`
`:`

`}var Jyt,NJt,PJt,BJt,aD,fw,hw,iD,P$=B(()=>{HB();ry();cf();Jyt=/\s*(@([\p{L}][\p{L}\p{N}]*)?)/uy,NJt=/\{(@[\p{L}][\p{L}\p{N}]*)(\s*)([^\r\n}]+)?\}/gu;PJt=/\S/,BJt=/\s*$/;aD=class{constructor(t,r){this.elements=t,this.range=r}getTag(t){return this.getAllTags().find(r=>r.name===t)}getTags(t){return this.getAllTags().filter(r=>r.name===t)}getAllTags(){return this.elements.filter(t=>"name"in t)}toString(){let t="";for(let r of this.elements)if(t.length===0)t=r.toString();else{let n=r.toString();t+=t2t(t)+n}return t.trim()}toMarkdown(t){let r="";for(let n of this.elements)if(r.length===0)r=n.toMarkdown(t);else{let a=n.toMarkdown(t);r+=t2t(r)+a}return r.trim()}},fw=class{constructor(t,r,n,a){this.name=t,this.content=r,this.inline=n,this.range=a}toString(){let t=`@${this.name}`,r=this.content.toString();return this.content.inlines.length===1?t=`${t} ${r}`:this.content.inlines.length>1&&(t=`${t}
${r}`),this.inline?`{${t}}`:t}toMarkdown(t){var r,n;return(n=(r=t?.renderTag)===null||r===void 0?void 0:r.call(t,this))!==null&&n!==void 0?n:this.toMarkdownDefault(t)}toMarkdownDefault(t){let r=this.content.toMarkdown(t);if(this.inline){let i=GJt(this.name,r,t??{});if(typeof i=="string")return i}let n="";t?.tag==="italic"||t?.tag===void 0?n="*":t?.tag==="bold"?n="**":t?.tag==="bold-italic"&&(n="***");let a=`${n}@${this.name}${n}`;return this.content.inlines.length===1?a=`${a} \u2014 ${r}`:this.content.inlines.length>1&&(a=`${a}
${r}`),this.inline?`{${a}}`:a}};hw=class{constructor(t,r){this.inlines=t,this.range=r}toString(){let t="";for(let r=0;r<this.inlines.length;r++){let n=this.inlines[r],a=this.inlines[r+1];t+=n.toString(),a&&a.range.start.line>n.range.start.line&&(t+=`
`)}return t}toMarkdown(t){let r="";for(let n=0;n<this.inlines.length;n++){let a=this.inlines[n],i=this.inlines[n+1];r+=a.toMarkdown(t),i&&i.range.start.line>a.range.start.line&&(r+=`
`)}return r}},iD=class{constructor(t,r){this.text=t,this.range=r}toString(){return this.text}toMarkdown(){return this.text}}});var dw,B$=B(()=>{ss();P$();dw=class{constructor(t){this.indexManager=t.shared.workspace.IndexManager,this.commentProvider=t.documentation.CommentProvider}getDocumentation(t){let r=this.commentProvider.getComment(t);if(r&&O$(r))return N$(r).toMarkdown({renderLink:(a,i)=>this.documentationLinkRenderer(t,a,i),renderTag:a=>this.documentationTagRenderer(t,a)})}documentationLinkRenderer(t,r,n){var a;let i=(a=this.findNameInPrecomputedScopes(t,r))!==null&&a!==void 0?a:this.findNameInGlobalScope(t,r);if(i&&i.nameSegment){let o=i.nameSegment.range.start.line+1,s=i.nameSegment.range.start.character+1,l=i.documentUri.with({fragment:`L${o},${s}`});return`[${n}](${l.toString()})`}else return}documentationTagRenderer(t,r){}findNameInPrecomputedScopes(t,r){let a=Ro(t).precomputedScopes;if(!a)return;let i=t;do{let s=a.get(i).find(l=>l.name===r);if(s)return s;i=i.$container}while(i)}findNameInGlobalScope(t,r){return this.indexManager.allElements().find(a=>a.name===r)}}});var pw,$$=B(()=>{Z6();qu();pw=class{constructor(t){this.grammarConfig=()=>t.parser.GrammarConfig}getComment(t){var r;return b$(t)?t.$comment:(r=aP(t.$cstNode,this.grammarConfig().multilineCommentRules))===null||r===void 0?void 0:r.text}}});var mw,z$,q$,U$=B(()=>{iu();tD();mw=class{constructor(t){this.syncParser=t.parser.LangiumParser}parse(t,r){return Promise.resolve(this.syncParser.parse(t))}},z$=class{constructor(t){this.threadCount=8,this.terminationDelay=200,this.workerPool=[],this.queue=[],this.hydrator=t.serializer.Hydrator}initializeWorkers(){for(;this.workerPool.length<this.threadCount;){let t=this.createWorker();t.onReady(()=>{if(this.queue.length>0){let r=this.queue.shift();r&&(t.lock(),r.resolve(t))}}),this.workerPool.push(t)}}async parse(t,r){let n=await this.acquireParserWorker(r),a=new hs,i,o=r.onCancellationRequested(()=>{i=setTimeout(()=>{this.terminateWorker(n)},this.terminationDelay)});return n.parse(t).then(s=>{let l=this.hydrator.hydrate(s);a.resolve(l)}).catch(s=>{a.reject(s)}).finally(()=>{o.dispose(),clearTimeout(i)}),a.promise}terminateWorker(t){t.terminate();let r=this.workerPool.indexOf(t);r>=0&&this.workerPool.splice(r,1)}async acquireParserWorker(t){this.initializeWorkers();for(let n of this.workerPool)if(n.ready)return n.lock(),n;let r=new hs;return t.onCancellationRequested(()=>{let n=this.queue.indexOf(r);n>=0&&this.queue.splice(n,1),r.reject(lf)}),this.queue.push(r),r.promise}},q$=class{get ready(){return this._ready}get onReady(){return this.onReadyEmitter.event}constructor(t,r,n,a){this.onReadyEmitter=new ka.Emitter,this.deferred=new hs,this._ready=!0,this._parsing=!1,this.sendMessage=t,this._terminate=a,r(i=>{let o=i;this.deferred.resolve(o),this.unlock()}),n(i=>{this.deferred.reject(i),this.unlock()})}terminate(){this.deferred.reject(lf),this._terminate()}lock(){this._ready=!1}unlock(){this._parsing=!1,this._ready=!0,this.onReadyEmitter.fire()}parse(t){if(this._parsing)throw new Error("Parser worker is busy");return this._parsing=!0,this.deferred=new hs,this.sendMessage(t),this.deferred.promise}}});var gw,W$=B(()=>{au();iu();gw=class{constructor(){this.previousTokenSource=new mr.CancellationTokenSource,this.writeQueue=[],this.readQueue=[],this.done=!0}write(t){this.cancelWrite();let r=X6();return this.previousTokenSource=r,this.enqueue(this.writeQueue,t,r.token)}read(t){return this.enqueue(this.readQueue,t)}enqueue(t,r,n=mr.CancellationToken.None){let a=new hs,i={action:r,deferred:a,cancellationToken:n};return t.push(i),this.performNextOperation(),a.promise}async performNextOperation(){if(!this.done)return;let t=[];if(this.writeQueue.length>0)t.push(this.writeQueue.shift());else if(this.readQueue.length>0)t.push(...this.readQueue.splice(0,this.readQueue.length));else return;this.done=!1,await Promise.all(t.map(async({action:r,deferred:n,cancellationToken:a})=>{try{let i=await Promise.resolve().then(()=>r(a));n.resolve(i)}catch(i){uf(i)?n.resolve(void 0):n.reject(i)}})),this.done=!0,this.performNextOperation()}cancelWrite(){this.previousTokenSource.cancel()}}});var vw,G$=B(()=>{B6();rf();zu();ss();By();qu();vw=class{constructor(t){this.grammarElementIdMap=new Lm,this.tokenTypeIdMap=new Lm,this.grammar=t.Grammar,this.lexer=t.parser.Lexer,this.linker=t.references.Linker}dehydrate(t){return{lexerErrors:t.lexerErrors,lexerReport:t.lexerReport?this.dehydrateLexerReport(t.lexerReport):void 0,parserErrors:t.parserErrors.map(r=>Object.assign(Object.assign({},r),{message:r.message})),value:this.dehydrateAstNode(t.value,this.createDehyrationContext(t.value))}}dehydrateLexerReport(t){return t}createDehyrationContext(t){let r=new Map,n=new Map;for(let a of nu(t))r.set(a,{});if(t.$cstNode)for(let a of lm(t.$cstNode))n.set(a,{});return{astNodes:r,cstNodes:n}}dehydrateAstNode(t,r){let n=r.astNodes.get(t);n.$type=t.$type,n.$containerIndex=t.$containerIndex,n.$containerProperty=t.$containerProperty,t.$cstNode!==void 0&&(n.$cstNode=this.dehydrateCstNode(t.$cstNode,r));for(let[a,i]of Object.entries(t))if(!a.startsWith("$"))if(Array.isArray(i)){let o=[];n[a]=o;for(let s of i)Pa(s)?o.push(this.dehydrateAstNode(s,r)):co(s)?o.push(this.dehydrateReference(s,r)):o.push(s)}else Pa(i)?n[a]=this.dehydrateAstNode(i,r):co(i)?n[a]=this.dehydrateReference(i,r):i!==void 0&&(n[a]=i);return n}dehydrateReference(t,r){let n={};return n.$refText=t.$refText,t.$refNode&&(n.$refNode=r.cstNodes.get(t.$refNode)),n}dehydrateCstNode(t,r){let n=r.cstNodes.get(t);return G_(t)?n.fullText=t.fullText:n.grammarSource=this.getGrammarElementId(t.grammarSource),n.hidden=t.hidden,n.astNode=r.astNodes.get(t.astNode),$u(t)?n.content=t.content.map(a=>this.dehydrateCstNode(a,r)):ip(t)&&(n.tokenType=t.tokenType.name,n.offset=t.offset,n.length=t.length,n.startLine=t.range.start.line,n.startColumn=t.range.start.character,n.endLine=t.range.end.line,n.endColumn=t.range.end.character),n}hydrate(t){let r=t.value,n=this.createHydrationContext(r);return"$cstNode"in r&&this.hydrateCstNode(r.$cstNode,n),{lexerErrors:t.lexerErrors,lexerReport:t.lexerReport,parserErrors:t.parserErrors,value:this.hydrateAstNode(r,n)}}createHydrationContext(t){let r=new Map,n=new Map;for(let i of nu(t))r.set(i,{});let a;if(t.$cstNode)for(let i of lm(t.$cstNode)){let o;"fullText"in i?(o=new My(i.fullText),a=o):"content"in i?o=new Sm:"tokenType"in i&&(o=this.hydrateCstLeafNode(i)),o&&(n.set(i,o),o.root=a)}return{astNodes:r,cstNodes:n}}hydrateAstNode(t,r){let n=r.astNodes.get(t);n.$type=t.$type,n.$containerIndex=t.$containerIndex,n.$containerProperty=t.$containerProperty,t.$cstNode&&(n.$cstNode=r.cstNodes.get(t.$cstNode));for(let[a,i]of Object.entries(t))if(!a.startsWith("$"))if(Array.isArray(i)){let o=[];n[a]=o;for(let s of i)Pa(s)?o.push(this.setParent(this.hydrateAstNode(s,r),n)):co(s)?o.push(this.hydrateReference(s,n,a,r)):o.push(s)}else Pa(i)?n[a]=this.setParent(this.hydrateAstNode(i,r),n):co(i)?n[a]=this.hydrateReference(i,n,a,r):i!==void 0&&(n[a]=i);return n}setParent(t,r){return t.$container=r,t}hydrateReference(t,r,n,a){return this.linker.buildReference(r,n,a.cstNodes.get(t.$refNode),t.$refText)}hydrateCstNode(t,r,n=0){let a=r.cstNodes.get(t);if(typeof t.grammarSource=="number"&&(a.grammarSource=this.getGrammarElement(t.grammarSource)),a.astNode=r.astNodes.get(t.astNode),$u(a))for(let i of t.content){let o=this.hydrateCstNode(i,r,n++);a.content.push(o)}return a}hydrateCstLeafNode(t){let r=this.getTokenType(t.tokenType),n=t.offset,a=t.length,i=t.startLine,o=t.startColumn,s=t.endLine,l=t.endColumn,u=t.hidden;return new Cm(n,a,{start:{line:i,character:o},end:{line:s,character:l}},r,u)}getTokenType(t){return this.lexer.definition[t]}getGrammarElementId(t){if(t)return this.grammarElementIdMap.size===0&&this.createGrammarElementIdMap(),this.grammarElementIdMap.get(t)}getGrammarElement(t){return this.grammarElementIdMap.size===0&&this.createGrammarElementIdMap(),this.grammarElementIdMap.getKey(t)}createGrammarElementIdMap(){let t=0;for(let r of nu(this.grammar))Z_(r)&&this.grammarElementIdMap.set(r,t++)}}});function fo(e){return{documentation:{CommentProvider:t=>new pw(t),DocumentationProvider:t=>new dw(t)},parser:{AsyncParser:t=>new mw(t),GrammarConfig:t=>VP(t),LangiumParser:t=>JB(t),CompletionParser:t=>QB(t),ValueConverter:()=>new Am,TokenBuilder:()=>new yh,Lexer:t=>new Rm(t),ParserErrorMessageProvider:()=>new Iy,LexerErrorMessageProvider:()=>new cw},workspace:{AstNodeLocator:()=>new iw,AstNodeDescriptionProvider:t=>new nw(t),ReferenceDescriptionProvider:t=>new aw(t)},references:{Linker:t=>new V4(t),NameProvider:()=>new H4,ScopeProvider:t=>new Q4(t),ScopeComputation:t=>new X4(t),References:t=>new Y4(t)},serializer:{Hydrator:t=>new vw(t),JsonSerializer:t=>new Z4(t)},validation:{DocumentValidator:t=>new rw(t),ValidationRegistry:t=>new tw(t)},shared:()=>e.shared}}function ho(e){return{ServiceRegistry:t=>new J4(t),workspace:{LangiumDocuments:t=>new G4(t),LangiumDocumentFactory:t=>new W4(t),DocumentBuilder:t=>new sw(t),IndexManager:t=>new lw(t),WorkspaceManager:t=>new uw(t),FileSystemProvider:t=>e.fileSystemProvider(t),WorkspaceLock:()=>new gw,ConfigurationProvider:t=>new ow(t)}}}var V$=B(()=>{HP();ZB();t$();W6();e$();p$();m$();g$();v$();x$();Z6();_$();w$();ew();T$();E$();k$();S$();Py();D$();A$();nD();B$();$$();q4();U$();W$();G$()});function da(e,t,r,n,a,i,o,s,l){let u=[e,t,r,n,a,i,o,s,l].reduce(oD,{});return u2t(u)}function l2t(e){if(e&&e[s2t])for(let t of Object.values(e))l2t(t);return e}function u2t(e,t){let r=new Proxy({},{deleteProperty:()=>!1,set:()=>{throw new Error("Cannot set property on injected service container")},get:(n,a)=>a===s2t?!0:o2t(n,a,e,t||r),getOwnPropertyDescriptor:(n,a)=>(o2t(n,a,e,t||r),Object.getOwnPropertyDescriptor(n,a)),has:(n,a)=>a in e,ownKeys:()=>[...Object.getOwnPropertyNames(e)]});return r}function o2t(e,t,r,n){if(t in e){if(e[t]instanceof Error)throw new Error("Construction failure. Please make sure that your dependencies are constructable.",{cause:e[t]});if(e[t]===i2t)throw new Error('Cycle detected. Please make "'+String(t)+'" lazy. Visit https://langium.org/docs/reference/configuration-services/#resolving-cyclic-dependencies');return e[t]}else if(t in r){let a=r[t];e[t]=i2t;try{e[t]=typeof a=="function"?a(n):u2t(a,n)}catch(i){throw e[t]=i instanceof Error?i:void 0,i}return e[t]}else return}function oD(e,t){if(t){for(let[r,n]of Object.entries(t))if(n!==void 0){let a=e[r];a!==null&&n!==null&&typeof a=="object"&&typeof n=="object"?e[r]=oD(a,n):e[r]=n}}return e}var H$,s2t,i2t,Y$=B(()=>{(function(e){e.merge=(t,r)=>oD(oD({},t),r)})(H$||(H$={}));s2t=Symbol("isProxy");i2t=Symbol()});var c2t=B(()=>{});var f2t=B(()=>{$$();B$();P$()});var h2t=B(()=>{});var d2t=B(()=>{HP();h2t()});var X$,Nm,sD,j$,p2t=B(()=>{up();W6();nD();X$={indentTokenName:"INDENT",dedentTokenName:"DEDENT",whitespaceTokenName:"WS",ignoreIndentationDelimiters:[]};(function(e){e.REGULAR="indentation-sensitive",e.IGNORE_INDENTATION="ignore-indentation"})(Nm||(Nm={}));sD=class extends yh{constructor(t=X$){super(),this.indentationStack=[0],this.whitespaceRegExp=/[ \t]+/y,this.options=Object.assign(Object.assign({},X$),t),this.indentTokenType=sp({name:this.options.indentTokenName,pattern:this.indentMatcher.bind(this),line_breaks:!1}),this.dedentTokenType=sp({name:this.options.dedentTokenName,pattern:this.dedentMatcher.bind(this),line_breaks:!1})}buildTokens(t,r){let n=super.buildTokens(t,r);if(!rD(n))throw new Error("Invalid tokens built by default builder");let{indentTokenName:a,dedentTokenName:i,whitespaceTokenName:o,ignoreIndentationDelimiters:s}=this.options,l,u,f,h=[];for(let d of n){for(let[p,m]of s)d.name===p?d.PUSH_MODE=Nm.IGNORE_INDENTATION:d.name===m&&(d.POP_MODE=!0);d.name===i?l=d:d.name===a?u=d:d.name===o?f=d:h.push(d)}if(!l||!u||!f)throw new Error("Some indentation/whitespace tokens not found!");return s.length>0?{modes:{[Nm.REGULAR]:[l,u,...h,f],[Nm.IGNORE_INDENTATION]:[...h,f]},defaultMode:Nm.REGULAR}:[l,u,f,...h]}flushLexingReport(t){let r=super.flushLexingReport(t);return Object.assign(Object.assign({},r),{remainingDedents:this.flushRemainingDedents(t)})}isStartOfLine(t,r){return r===0||`\r
`.includes(t[r-1])}matchWhitespace(t,r,n,a){var i;this.whitespaceRegExp.lastIndex=r;let o=this.whitespaceRegExp.exec(t);return{currIndentLevel:(i=o?.[0].length)!==null&&i!==void 0?i:0,prevIndentLevel:this.indentationStack.at(-1),match:o}}createIndentationTokenInstance(t,r,n,a){let i=this.getLineNumber(r,a);return ph(t,n,a,a+n.length,i,i,1,n.length)}getLineNumber(t,r){return t.substring(0,r).split(/\r\n|\r|\n/).length}indentMatcher(t,r,n,a){if(!this.isStartOfLine(t,r))return null;let{currIndentLevel:i,prevIndentLevel:o,match:s}=this.matchWhitespace(t,r,n,a);return i<=o?null:(this.indentationStack.push(i),s)}dedentMatcher(t,r,n,a){var i,o,s,l;if(!this.isStartOfLine(t,r))return null;let{currIndentLevel:u,prevIndentLevel:f,match:h}=this.matchWhitespace(t,r,n,a);if(u>=f)return null;let d=this.indentationStack.lastIndexOf(u);if(d===-1)return this.diagnostics.push({severity:"error",message:`Invalid dedent level ${u} at offset: ${r}. Current indentation stack: ${this.indentationStack}`,offset:r,length:(o=(i=h?.[0])===null||i===void 0?void 0:i.length)!==null&&o!==void 0?o:0,line:this.getLineNumber(t,r),column:1}),null;let p=this.indentationStack.length-d-1,m=(l=(s=t.substring(0,r).match(/[\r\n]+$/))===null||s===void 0?void 0:s[0].length)!==null&&l!==void 0?l:1;for(let g=0;g<p;g++){let v=this.createIndentationTokenInstance(this.dedentTokenType,t,"",r-(m-1));n.push(v),this.indentationStack.pop()}return null}buildTerminalToken(t){let r=super.buildTerminalToken(t),{indentTokenName:n,dedentTokenName:a,whitespaceTokenName:i}=this.options;return r.name===n?this.indentTokenType:r.name===a?this.dedentTokenType:r.name===i?sp({name:i,pattern:this.whitespaceRegExp,group:Ta.SKIPPED}):r}flushRemainingDedents(t){let r=[];for(;this.indentationStack.length>1;)r.push(this.createIndentationTokenInstance(this.dedentTokenType,t,"",t.length)),this.indentationStack.pop();return this.indentationStack=[0],r}},j$=class extends Rm{constructor(t){if(super(t),t.parser.TokenBuilder instanceof sD)this.indentationTokenBuilder=t.parser.TokenBuilder;else throw new Error("IndentationAwareLexer requires an accompanying IndentationAwareTokenBuilder")}tokenize(t,r=eD){let n=super.tokenize(t),a=n.report;r?.mode==="full"&&n.tokens.push(...a.remainingDedents),a.remainingDedents=[];let{indentTokenType:i,dedentTokenType:o}=this.indentationTokenBuilder,s=i.tokenTypeIdx,l=o.tokenTypeIdx,u=[],f=n.tokens.length-1;for(let h=0;h<f;h++){let d=n.tokens[h],p=n.tokens[h+1];if(d.tokenTypeIdx===s&&p.tokenTypeIdx===l){h++;continue}u.push(d)}return f>=0&&u.push(n.tokens[f]),n.tokens=u,n}}});var m2t=B(()=>{});var g2t=B(()=>{U$();ZB();B6();p2t();t$();q4();nD();U6();m2t();W6();e$()});var v2t=B(()=>{p$();m$();g$();y$();v$();x$()});var y2t=B(()=>{G$();Z6()});var lD,po,K$=B(()=>{lD=class{readFile(){throw new Error("No file system is available.")}async readDirectory(){return[]}},po={fileSystemProvider:()=>new lD}});function XJt(){let e=da(ho(po),YJt),t=da(fo({shared:e}),HJt);return e.ServiceRegistry.register(t),t}function ff(e){var t;let r=XJt(),n=r.serializer.JsonSerializer.deserialize(e);return r.shared.workspace.LangiumDocumentFactory.fromModel(n,ds.parse(`memory://${(t=n.name)!==null&&t!==void 0?t:"grammar"}.langium`)),n}var HJt,YJt,x2t=B(()=>{V$();Y$();rf();K$();cf();HJt={Grammar:()=>{},LanguageMetaData:()=>({caseInsensitive:!1,fileExtensions:[".langium"],languageId:"langium"})},YJt={AstReflection:()=>new Zv}});var cn={};pr(cn,{AstUtils:()=>qS,BiMap:()=>Lm,Cancellation:()=>mr,ContextCache:()=>Mm,CstUtils:()=>MS,DONE_RESULT:()=>Mo,Deferred:()=>hs,Disposable:()=>hp,DisposableCache:()=>zy,DocumentCache:()=>K6,EMPTY_STREAM:()=>V_,ErrorWithLocation:()=>cm,GrammarUtils:()=>HS,MultiMap:()=>Hu,OperationCancelled:()=>lf,Reduction:()=>hv,RegExpUtils:()=>GS,SimpleCache:()=>K4,StreamImpl:()=>dl,TreeStreamImpl:()=>Jc,URI:()=>ds,UriUtils:()=>ps,WorkspaceCache:()=>qy,assertUnreachable:()=>ef,delayNextTick:()=>c$,interruptAndCheck:()=>Za,isOperationCancelled:()=>uf,loadGrammarFromJson:()=>ff,setInterruptionPeriod:()=>Wyt,startCancelableOperation:()=>X6,stream:()=>Tn});var b2t=B(()=>{Q6();tD();Lr(cn,ka);By();C$();IS();x2t();iu();Ws();cf();ss();au();qu();Gu();ry()});var _2t=B(()=>{w$();ew()});var w2t=B(()=>{T$();E$();k$();S$();Py();K$();D$();W$();A$()});var mo={};pr(mo,{AbstractAstReflection:()=>om,AbstractCstNode:()=>P4,AbstractLangiumParser:()=>B4,AbstractParserErrorMessageProvider:()=>z6,AbstractThreadedAsyncParser:()=>z$,AstUtils:()=>qS,BiMap:()=>Lm,Cancellation:()=>mr,CompositeCstNodeImpl:()=>Sm,ContextCache:()=>Mm,CstNodeBuilder:()=>F4,CstUtils:()=>MS,DEFAULT_TOKENIZE_OPTIONS:()=>eD,DONE_RESULT:()=>Mo,DatatypeSymbol:()=>$6,DefaultAstNodeDescriptionProvider:()=>nw,DefaultAstNodeLocator:()=>iw,DefaultAsyncParser:()=>mw,DefaultCommentProvider:()=>pw,DefaultConfigurationProvider:()=>ow,DefaultDocumentBuilder:()=>sw,DefaultDocumentValidator:()=>rw,DefaultHydrator:()=>vw,DefaultIndexManager:()=>lw,DefaultJsonSerializer:()=>Z4,DefaultLangiumDocumentFactory:()=>W4,DefaultLangiumDocuments:()=>G4,DefaultLexer:()=>Rm,DefaultLexerErrorMessageProvider:()=>cw,DefaultLinker:()=>V4,DefaultNameProvider:()=>H4,DefaultReferenceDescriptionProvider:()=>aw,DefaultReferences:()=>Y4,DefaultScopeComputation:()=>X4,DefaultScopeProvider:()=>Q4,DefaultServiceRegistry:()=>J4,DefaultTokenBuilder:()=>yh,DefaultValueConverter:()=>Am,DefaultWorkspaceLock:()=>gw,DefaultWorkspaceManager:()=>uw,Deferred:()=>hs,Disposable:()=>hp,DisposableCache:()=>zy,DocumentCache:()=>K6,DocumentState:()=>Kn,DocumentValidator:()=>ou,EMPTY_SCOPE:()=>RJt,EMPTY_STREAM:()=>V_,EmptyFileSystem:()=>po,EmptyFileSystemProvider:()=>lD,ErrorWithLocation:()=>cm,GrammarAST:()=>t4,GrammarUtils:()=>HS,IndentationAwareLexer:()=>j$,IndentationAwareTokenBuilder:()=>sD,JSDocDocumentationProvider:()=>dw,LangiumCompletionParser:()=>z4,LangiumParser:()=>$4,LangiumParserErrorMessageProvider:()=>Iy,LeafCstNodeImpl:()=>Cm,LexingMode:()=>Nm,MapScope:()=>j4,Module:()=>H$,MultiMap:()=>Hu,OperationCancelled:()=>lf,ParserWorker:()=>q$,Reduction:()=>hv,RegExpUtils:()=>GS,RootCstNodeImpl:()=>My,SimpleCache:()=>K4,StreamImpl:()=>dl,StreamScope:()=>$y,TextDocument:()=>Oy,TreeStreamImpl:()=>Jc,URI:()=>ds,UriUtils:()=>ps,ValidationCategory:()=>Uy,ValidationRegistry:()=>tw,ValueConverter:()=>sf,WorkspaceCache:()=>qy,assertUnreachable:()=>ef,createCompletionParser:()=>QB,createDefaultCoreModule:()=>fo,createDefaultSharedCoreModule:()=>ho,createGrammarConfig:()=>VP,createLangiumParser:()=>JB,createParser:()=>U4,delayNextTick:()=>c$,diagnosticData:()=>Im,eagerLoad:()=>l2t,getDiagnosticRange:()=>Qyt,indentationBuilderDefaultOptions:()=>X$,inject:()=>da,interruptAndCheck:()=>Za,isAstNode:()=>Pa,isAstNodeDescription:()=>tP,isAstNodeWithComment:()=>b$,isCompositeCstNode:()=>$u,isIMultiModeLexerDefinition:()=>M$,isJSDoc:()=>O$,isLeafCstNode:()=>ip,isLinkingError:()=>sm,isNamed:()=>jyt,isOperationCancelled:()=>uf,isReference:()=>co,isRootCstNode:()=>G_,isTokenTypeArray:()=>rD,isTokenTypeDictionary:()=>L$,loadGrammarFromJson:()=>ff,parseJSDoc:()=>N$,prepareLangiumParser:()=>Fyt,setInterruptionPeriod:()=>Wyt,startCancelableOperation:()=>X6,stream:()=>Tn,toDiagnosticData:()=>Zyt,toDiagnosticSeverity:()=>J6});var vl=B(()=>{V$();Y$();_$();c2t();zu();f2t();d2t();g2t();v2t();y2t();b2t();Lr(mo,cn);_2t();w2t();rf()});function L2t(e){return Yu.isInstance(e,yw)}function M2t(e){return Yu.isInstance(e,Wy)}function I2t(e){return Yu.isInstance(e,Gy)}function R2t(e){return Yu.isInstance(e,Vy)}function N2t(e){return Yu.isInstance(e,xw)}function O2t(e){return Yu.isInstance(e,Hy)}function F2t(e){return Yu.isInstance(e,bw)}function P2t(e){return Yu.isInstance(e,_w)}function B2t(e){return Yu.isInstance(e,ww)}function $2t(e){return Yu.isInstance(e,Tw)}function z2t(e){return Yu.isInstance(e,Ew)}var jJt,ge,oz,yw,uD,Wy,cD,fD,Q$,Gy,Z$,J$,tz,Vy,ez,xw,hD,rz,Hy,nz,bw,_w,ww,Tw,gD,az,Ew,iz,dD,pD,mD,q2t,Yu,T2t,KJt,E2t,QJt,k2t,ZJt,C2t,JJt,S2t,tte,D2t,ete,A2t,rte,nte,ate,ite,ote,ste,lte,ute,ms,sz,lz,uz,cz,fz,hz,dz,cte,fte,hte,dte,dp,xh,Oo,pte,Fo=B(()=>{vl();vl();vl();vl();jJt=Object.defineProperty,ge=(e,t)=>jJt(e,"name",{value:t,configurable:!0}),oz="Statement",yw="Architecture";ge(L2t,"isArchitecture");uD="Axis",Wy="Branch";ge(M2t,"isBranch");cD="Checkout",fD="CherryPicking",Q$="ClassDefStatement",Gy="Commit";ge(I2t,"isCommit");Z$="Curve",J$="Edge",tz="Entry",Vy="GitGraph";ge(R2t,"isGitGraph");ez="Group",xw="Info";ge(N2t,"isInfo");hD="Item",rz="Junction",Hy="Merge";ge(O2t,"isMerge");nz="Option",bw="Packet";ge(F2t,"isPacket");_w="PacketBlock";ge(P2t,"isPacketBlock");ww="Pie";ge(B2t,"isPie");Tw="PieSection";ge($2t,"isPieSection");gD="Radar",az="Service",Ew="Treemap";ge(z2t,"isTreemap");iz="TreemapRow",dD="Direction",pD="Leaf",mD="Section",q2t=class extends om{static{ge(this,"MermaidAstReflection")}getAllTypes(){return[yw,uD,Wy,cD,fD,Q$,Gy,Z$,dD,J$,tz,Vy,ez,xw,hD,rz,pD,Hy,nz,bw,_w,ww,Tw,gD,mD,az,oz,Ew,iz]}computeIsSubtype(e,t){switch(e){case Wy:case cD:case fD:case Gy:case Hy:return this.isSubtype(oz,t);case dD:return this.isSubtype(Vy,t);case pD:case mD:return this.isSubtype(hD,t);default:return!1}}getReferenceType(e){let t=`${e.container.$type}:${e.property}`;switch(t){case"Entry:axis":return uD;default:throw new Error(`${t} is not a valid reference id.`)}}getTypeMetaData(e){switch(e){case yw:return{name:yw,properties:[{name:"accDescr"},{name:"accTitle"},{name:"edges",defaultValue:[]},{name:"groups",defaultValue:[]},{name:"junctions",defaultValue:[]},{name:"services",defaultValue:[]},{name:"title"}]};case uD:return{name:uD,properties:[{name:"label"},{name:"name"}]};case Wy:return{name:Wy,properties:[{name:"name"},{name:"order"}]};case cD:return{name:cD,properties:[{name:"branch"}]};case fD:return{name:fD,properties:[{name:"id"},{name:"parent"},{name:"tags",defaultValue:[]}]};case Q$:return{name:Q$,properties:[{name:"className"},{name:"styleText"}]};case Gy:return{name:Gy,properties:[{name:"id"},{name:"message"},{name:"tags",defaultValue:[]},{name:"type"}]};case Z$:return{name:Z$,properties:[{name:"entries",defaultValue:[]},{name:"label"},{name:"name"}]};case J$:return{name:J$,properties:[{name:"lhsDir"},{name:"lhsGroup",defaultValue:!1},{name:"lhsId"},{name:"lhsInto",defaultValue:!1},{name:"rhsDir"},{name:"rhsGroup",defaultValue:!1},{name:"rhsId"},{name:"rhsInto",defaultValue:!1},{name:"title"}]};case tz:return{name:tz,properties:[{name:"axis"},{name:"value"}]};case Vy:return{name:Vy,properties:[{name:"accDescr"},{name:"accTitle"},{name:"statements",defaultValue:[]},{name:"title"}]};case ez:return{name:ez,properties:[{name:"icon"},{name:"id"},{name:"in"},{name:"title"}]};case xw:return{name:xw,properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"}]};case hD:return{name:hD,properties:[{name:"classSelector"},{name:"name"}]};case rz:return{name:rz,properties:[{name:"id"},{name:"in"}]};case Hy:return{name:Hy,properties:[{name:"branch"},{name:"id"},{name:"tags",defaultValue:[]},{name:"type"}]};case nz:return{name:nz,properties:[{name:"name"},{name:"value",defaultValue:!1}]};case bw:return{name:bw,properties:[{name:"accDescr"},{name:"accTitle"},{name:"blocks",defaultValue:[]},{name:"title"}]};case _w:return{name:_w,properties:[{name:"bits"},{name:"end"},{name:"label"},{name:"start"}]};case ww:return{name:ww,properties:[{name:"accDescr"},{name:"accTitle"},{name:"sections",defaultValue:[]},{name:"showData",defaultValue:!1},{name:"title"}]};case Tw:return{name:Tw,properties:[{name:"label"},{name:"value"}]};case gD:return{name:gD,properties:[{name:"accDescr"},{name:"accTitle"},{name:"axes",defaultValue:[]},{name:"curves",defaultValue:[]},{name:"options",defaultValue:[]},{name:"title"}]};case az:return{name:az,properties:[{name:"icon"},{name:"iconText"},{name:"id"},{name:"in"},{name:"title"}]};case Ew:return{name:Ew,properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"},{name:"TreemapRows",defaultValue:[]}]};case iz:return{name:iz,properties:[{name:"indent"},{name:"item"}]};case dD:return{name:dD,properties:[{name:"accDescr"},{name:"accTitle"},{name:"dir"},{name:"statements",defaultValue:[]},{name:"title"}]};case pD:return{name:pD,properties:[{name:"classSelector"},{name:"name"},{name:"value"}]};case mD:return{name:mD,properties:[{name:"classSelector"},{name:"name"}]};default:return{name:e,properties:[]}}}},Yu=new q2t,KJt=ge(()=>T2t??(T2t=ff(`{"$type":"Grammar","isDeclared":true,"name":"Info","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Info","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"info"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"showInfo"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@7"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@8"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}`)),"InfoGrammar"),QJt=ge(()=>E2t??(E2t=ff(`{"$type":"Grammar","isDeclared":true,"name":"Packet","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Packet","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"packet"},{"$type":"Keyword","value":"packet-beta"}]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PacketBlock","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"start","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"end","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}],"cardinality":"?"}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"+"},{"$type":"Assignment","feature":"bits","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]}]},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@8"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@9"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}`)),"PacketGrammar"),ZJt=ge(()=>k2t??(k2t=ff(`{"$type":"Grammar","isDeclared":true,"name":"Pie","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Pie","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"pie"},{"$type":"Assignment","feature":"showData","operator":"?=","terminal":{"$type":"Keyword","value":"showData"},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PieSection","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"FLOAT_PIE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/-?[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT_PIE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/-?(0|[1-9][0-9]*)(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER_PIE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@2"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@3"}}]},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@11"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@12"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}`)),"PieGrammar"),JJt=ge(()=>C2t??(C2t=ff(`{"$type":"Grammar","isDeclared":true,"name":"Architecture","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Architecture","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"architecture-beta"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"groups","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"services","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"junctions","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"edges","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"LeftPort","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"lhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"RightPort","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"rhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Keyword","value":":"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Arrow","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Assignment","feature":"lhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"--"},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]}},{"$type":"Keyword","value":"-"}]}]},{"$type":"Assignment","feature":"rhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Group","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"group"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]},"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Service","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"service"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"iconText","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]}}],"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Junction","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"junction"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Edge","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"lhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"lhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"rhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"rhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"ARROW_DIRECTION","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"L"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"R"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"T"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"B"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_GROUP","definition":{"$type":"RegexToken","regex":"/\\\\{group\\\\}/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_INTO","definition":{"$type":"RegexToken","regex":"/<|>/"},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@18"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@19"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"TerminalRule","name":"ARCH_ICON","definition":{"$type":"RegexToken","regex":"/\\\\([\\\\w-:]+\\\\)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TITLE","definition":{"$type":"RegexToken","regex":"/\\\\[[\\\\w ]+\\\\]/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}`)),"ArchitectureGrammar"),tte=ge(()=>S2t??(S2t=ff(`{"$type":"Grammar","isDeclared":true,"name":"GitGraph","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"GitGraph","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Keyword","value":":"}]},{"$type":"Keyword","value":"gitGraph:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Keyword","value":":"}]}]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]},{"$type":"Assignment","feature":"statements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Direction","definition":{"$type":"Assignment","feature":"dir","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"LR"},{"$type":"Keyword","value":"TB"},{"$type":"Keyword","value":"BT"}]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Commit","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"commit"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"msg:","cardinality":"?"},{"$type":"Assignment","feature":"message","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Branch","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"branch"},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"order:"},{"$type":"Assignment","feature":"order","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Merge","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"merge"},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Checkout","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"checkout"},{"$type":"Keyword","value":"switch"}]},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"CherryPicking","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"cherry-pick"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"parent:"},{"$type":"Assignment","feature":"parent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@14"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@15"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"TerminalRule","name":"REFERENCE","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\\\w([-\\\\./\\\\w]*[-\\\\w])?/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}`)),"GitGraphGrammar"),ete=ge(()=>D2t??(D2t=ff(`{"$type":"Grammar","isDeclared":true,"name":"Radar","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Radar","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"radar-beta"},{"$type":"Keyword","value":"radar-beta:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"radar-beta"},{"$type":"Keyword","value":":"}]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Keyword","value":"axis"},{"$type":"Assignment","feature":"axes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"axes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"curve"},{"$type":"Assignment","feature":"curves","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"curves","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"options","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"options","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Label","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"["},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}},{"$type":"Keyword","value":"]"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Axis","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Curve","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"},{"$type":"Keyword","value":"{"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Keyword","value":"}"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Entries","definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"DetailedEntry","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"axis","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@2"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Keyword","value":":","cardinality":"?"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"NumberEntry","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Option","definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"showLegend"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"ticks"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"max"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"min"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"graticule"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"GRATICULE","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"circle"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"polygon"}}]},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@15"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@16"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"interfaces":[{"$type":"Interface","name":"Entry","attributes":[{"$type":"TypeAttribute","name":"axis","isOptional":true,"type":{"$type":"ReferenceType","referenceType":{"$type":"SimpleType","typeRef":{"$ref":"#/rules@2"}}}},{"$type":"TypeAttribute","name":"value","type":{"$type":"SimpleType","primitiveType":"number"},"isOptional":false}],"superTypes":[]}],"definesHiddenTokens":false,"hiddenTokens":[],"types":[],"usedGrammars":[]}`)),"RadarGrammar"),rte=ge(()=>A2t??(A2t=ff(`{"$type":"Grammar","isDeclared":true,"name":"Treemap","rules":[{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"ParserRule","entry":true,"name":"Treemap","returnType":{"$ref":"#/interfaces@4"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@0"},"arguments":[]},{"$type":"Assignment","feature":"TreemapRows","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"TREEMAP_KEYWORD","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"treemap-beta"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"treemap"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"CLASS_DEF","definition":{"$type":"RegexToken","regex":"/classDef\\\\s+([a-zA-Z_][a-zA-Z0-9_]+)(?:\\\\s+([^;\\\\r\\\\n]*))?(?:;)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STYLE_SEPARATOR","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":":::"}},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"SEPARATOR","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":":"}},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"COMMA","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":","}},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WS","definition":{"$type":"RegexToken","regex":"/[ \\\\t]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"ML_COMMENT","definition":{"$type":"RegexToken","regex":"/\\\\%\\\\%[^\\\\n]*/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"NL","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false},{"$type":"ParserRule","name":"TreemapRow","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"indent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"item","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ClassDef","dataType":"string","definition":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Item","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Section","returnType":{"$ref":"#/interfaces@1"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]},{"$type":"Assignment","feature":"classSelector","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Leaf","returnType":{"$ref":"#/interfaces@2"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"?"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]},{"$type":"Assignment","feature":"classSelector","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INDENTATION","definition":{"$type":"RegexToken","regex":"/[ \\\\t]{1,}/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID2","definition":{"$type":"RegexToken","regex":"/[a-zA-Z_][a-zA-Z0-9_]*/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER2","definition":{"$type":"RegexToken","regex":"/[0-9_\\\\.\\\\,]+/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"MyNumber","dataType":"number","definition":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"STRING2","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|'[^']*'/"},"fragment":false,"hidden":false}],"interfaces":[{"$type":"Interface","name":"Item","attributes":[{"$type":"TypeAttribute","name":"name","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false},{"$type":"TypeAttribute","name":"classSelector","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]},{"$type":"Interface","name":"Section","superTypes":[{"$ref":"#/interfaces@0"}],"attributes":[]},{"$type":"Interface","name":"Leaf","superTypes":[{"$ref":"#/interfaces@0"}],"attributes":[{"$type":"TypeAttribute","name":"value","type":{"$type":"SimpleType","primitiveType":"number"},"isOptional":false}]},{"$type":"Interface","name":"ClassDefStatement","attributes":[{"$type":"TypeAttribute","name":"className","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false},{"$type":"TypeAttribute","name":"styleText","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false}],"superTypes":[]},{"$type":"Interface","name":"Treemap","attributes":[{"$type":"TypeAttribute","name":"TreemapRows","type":{"$type":"ArrayType","elementType":{"$type":"SimpleType","typeRef":{"$ref":"#/rules@14"}}},"isOptional":false},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"definesHiddenTokens":false,"hiddenTokens":[],"imports":[],"types":[],"usedGrammars":[],"$comment":"/**\\n * Treemap grammar for Langium\\n * Converted from mindmap grammar\\n *\\n * The ML_COMMENT and NL hidden terminals handle whitespace, comments, and newlines\\n * before the treemap keyword, allowing for empty lines and comments before the\\n * treemap declaration.\\n */"}`)),"TreemapGrammar"),nte={languageId:"info",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},ate={languageId:"packet",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},ite={languageId:"pie",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},ote={languageId:"architecture",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},ste={languageId:"gitGraph",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},lte={languageId:"radar",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},ute={languageId:"treemap",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},ms={AstReflection:ge(()=>new q2t,"AstReflection")},sz={Grammar:ge(()=>KJt(),"Grammar"),LanguageMetaData:ge(()=>nte,"LanguageMetaData"),parser:{}},lz={Grammar:ge(()=>QJt(),"Grammar"),LanguageMetaData:ge(()=>ate,"LanguageMetaData"),parser:{}},uz={Grammar:ge(()=>ZJt(),"Grammar"),LanguageMetaData:ge(()=>ite,"LanguageMetaData"),parser:{}},cz={Grammar:ge(()=>JJt(),"Grammar"),LanguageMetaData:ge(()=>ote,"LanguageMetaData"),parser:{}},fz={Grammar:ge(()=>tte(),"Grammar"),LanguageMetaData:ge(()=>ste,"LanguageMetaData"),parser:{}},hz={Grammar:ge(()=>ete(),"Grammar"),LanguageMetaData:ge(()=>lte,"LanguageMetaData"),parser:{}},dz={Grammar:ge(()=>rte(),"Grammar"),LanguageMetaData:ge(()=>ute,"LanguageMetaData"),parser:{}},cte=/accDescr(?:[\t ]*:([^\n\r]*)|\s*{([^}]*)})/,fte=/accTitle[\t ]*:([^\n\r]*)/,hte=/title([\t ][^\n\r]*|)/,dte={ACC_DESCR:cte,ACC_TITLE:fte,TITLE:hte},dp=class extends Am{static{ge(this,"AbstractMermaidValueConverter")}runConverter(e,t,r){let n=this.runCommonConverter(e,t,r);return n===void 0&&(n=this.runCustomConverter(e,t,r)),n===void 0?super.runConverter(e,t,r):n}runCommonConverter(e,t,r){let n=dte[e.name];if(n===void 0)return;let a=n.exec(t);if(a!==null){if(a[1]!==void 0)return a[1].trim().replace(/[\t ]{2,}/gm," ");if(a[2]!==void 0)return a[2].replace(/^\s*/gm,"").replace(/\s+$/gm,"").replace(/[\t ]{2,}/gm," ").replace(/[\n\r]{2,}/gm,`
`)}}},xh=class extends dp{static{ge(this,"CommonValueConverter")}runCustomConverter(e,t,r){}},Oo=class extends yh{static{ge(this,"AbstractMermaidTokenBuilder")}constructor(e){super(),this.keywords=new Set(e)}buildKeywordTokens(e,t,r){let n=super.buildKeywordTokens(e,t,r);return n.forEach(a=>{this.keywords.has(a.name)&&a.PATTERN!==void 0&&(a.PATTERN=new RegExp(a.PATTERN.toString()+"(?:(?=%%)|(?!\\S))"))}),n}},pte=class extends Oo{static{ge(this,"CommonTokenBuilder")}}});function yD(e=po){let t=da(ho(e),ms),r=da(fo({shared:t}),fz,vD);return t.ServiceRegistry.register(r),{shared:t,GitGraph:r}}var mte,vD,pz=B(()=>{Fo();vl();mte=class extends Oo{static{ge(this,"GitGraphTokenBuilder")}constructor(){super(["gitGraph"])}},vD={parser:{TokenBuilder:ge(()=>new mte,"TokenBuilder"),ValueConverter:ge(()=>new xh,"ValueConverter")}};ge(yD,"createGitGraphServices")});function bD(e=po){let t=da(ho(e),ms),r=da(fo({shared:t}),sz,xD);return t.ServiceRegistry.register(r),{shared:t,Info:r}}var gte,xD,mz=B(()=>{Fo();vl();gte=class extends Oo{static{ge(this,"InfoTokenBuilder")}constructor(){super(["info","showInfo"])}},xD={parser:{TokenBuilder:ge(()=>new gte,"TokenBuilder"),ValueConverter:ge(()=>new xh,"ValueConverter")}};ge(bD,"createInfoServices")});function wD(e=po){let t=da(ho(e),ms),r=da(fo({shared:t}),lz,_D);return t.ServiceRegistry.register(r),{shared:t,Packet:r}}var vte,_D,gz=B(()=>{Fo();vl();vte=class extends Oo{static{ge(this,"PacketTokenBuilder")}constructor(){super(["packet"])}},_D={parser:{TokenBuilder:ge(()=>new vte,"TokenBuilder"),ValueConverter:ge(()=>new xh,"ValueConverter")}};ge(wD,"createPacketServices")});function ED(e=po){let t=da(ho(e),ms),r=da(fo({shared:t}),uz,TD);return t.ServiceRegistry.register(r),{shared:t,Pie:r}}var yte,xte,TD,vz=B(()=>{Fo();vl();yte=class extends Oo{static{ge(this,"PieTokenBuilder")}constructor(){super(["pie","showData"])}},xte=class extends dp{static{ge(this,"PieValueConverter")}runCustomConverter(e,t,r){if(e.name==="PIE_SECTION_LABEL")return t.replace(/"/g,"").trim()}},TD={parser:{TokenBuilder:ge(()=>new yte,"TokenBuilder"),ValueConverter:ge(()=>new xte,"ValueConverter")}};ge(ED,"createPieServices")});function CD(e=po){let t=da(ho(e),ms),r=da(fo({shared:t}),cz,kD);return t.ServiceRegistry.register(r),{shared:t,Architecture:r}}var bte,_te,kD,yz=B(()=>{Fo();vl();bte=class extends Oo{static{ge(this,"ArchitectureTokenBuilder")}constructor(){super(["architecture"])}},_te=class extends dp{static{ge(this,"ArchitectureValueConverter")}runCustomConverter(e,t,r){if(e.name==="ARCH_ICON")return t.replace(/[()]/g,"").trim();if(e.name==="ARCH_TEXT_ICON")return t.replace(/["()]/g,"");if(e.name==="ARCH_TITLE")return t.replace(/[[\]]/g,"").trim()}},kD={parser:{TokenBuilder:ge(()=>new bte,"TokenBuilder"),ValueConverter:ge(()=>new _te,"ValueConverter")}};ge(CD,"createArchitectureServices")});function DD(e=po){let t=da(ho(e),ms),r=da(fo({shared:t}),hz,SD);return t.ServiceRegistry.register(r),{shared:t,Radar:r}}var wte,SD,xz=B(()=>{Fo();vl();wte=class extends Oo{static{ge(this,"RadarTokenBuilder")}constructor(){super(["radar-beta"])}},SD={parser:{TokenBuilder:ge(()=>new wte,"TokenBuilder"),ValueConverter:ge(()=>new xh,"ValueConverter")}};ge(DD,"createRadarServices")});function U2t(e){let t=e.validation.TreemapValidator,r=e.validation.ValidationRegistry;if(r){let n={Treemap:t.checkSingleRoot.bind(t)};r.register(n,t)}}function LD(e=po){let t=da(ho(e),ms),r=da(fo({shared:t}),dz,AD);return t.ServiceRegistry.register(r),U2t(r),{shared:t,Treemap:r}}var Tte,Ete,kte,Cte,AD,bz=B(()=>{Fo();vl();Tte=class extends Oo{static{ge(this,"TreemapTokenBuilder")}constructor(){super(["treemap"])}},Ete=/classDef\s+([A-Z_a-z]\w+)(?:\s+([^\n\r;]*))?;?/,kte=class extends dp{static{ge(this,"TreemapValueConverter")}runCustomConverter(e,t,r){if(e.name==="NUMBER2")return parseFloat(t.replace(/,/g,""));if(e.name==="SEPARATOR")return t.substring(1,t.length-1);if(e.name==="STRING2")return t.substring(1,t.length-1);if(e.name==="INDENTATION")return t.length;if(e.name==="ClassDef"){if(typeof t!="string")return t;let n=Ete.exec(t);if(n)return{$type:"ClassDefStatement",className:n[1],styleText:n[2]||void 0}}}};ge(U2t,"registerValidationChecks");Cte=class{static{ge(this,"TreemapValidator")}checkSingleRoot(e,t){let r;for(let n of e.TreemapRows)n.item&&(r===void 0&&n.indent===void 0?r=0:n.indent===void 0?t("error","Multiple root nodes are not allowed in a treemap.",{node:n,property:"item"}):r!==void 0&&r>=parseInt(n.indent,10)&&t("error","Multiple root nodes are not allowed in a treemap.",{node:n,property:"item"}))}},AD={parser:{TokenBuilder:ge(()=>new Tte,"TokenBuilder"),ValueConverter:ge(()=>new kte,"ValueConverter")},validation:{TreemapValidator:ge(()=>new Cte,"TreemapValidator")}};ge(LD,"createTreemapServices")});var W2t={};pr(W2t,{InfoModule:()=>xD,createInfoServices:()=>bD});var G2t=B(()=>{mz();Fo()});var V2t={};pr(V2t,{PacketModule:()=>_D,createPacketServices:()=>wD});var H2t=B(()=>{gz();Fo()});var Y2t={};pr(Y2t,{PieModule:()=>TD,createPieServices:()=>ED});var X2t=B(()=>{vz();Fo()});var j2t={};pr(j2t,{ArchitectureModule:()=>kD,createArchitectureServices:()=>CD});var K2t=B(()=>{yz();Fo()});var Q2t={};pr(Q2t,{GitGraphModule:()=>vD,createGitGraphServices:()=>yD});var Z2t=B(()=>{pz();Fo()});var J2t={};pr(J2t,{RadarModule:()=>SD,createRadarServices:()=>DD});var txt=B(()=>{xz();Fo()});var ext={};pr(ext,{TreemapModule:()=>AD,createTreemapServices:()=>LD});var rxt=B(()=>{bz();Fo()});async function gs(e,t){let r=Ste[e];if(!r)throw new Error(`Unknown diagram type: ${e}`);bh[e]||await r();let a=bh[e].parse(t);if(a.lexerErrors.length>0||a.parserErrors.length>0)throw new Dte(a);return a.value}var bh,Ste,Dte,pp=B(()=>{pz();mz();gz();vz();yz();xz();bz();Fo();bh={},Ste={info:ge(async()=>{let{createInfoServices:e}=await Promise.resolve().then(()=>(G2t(),W2t)),t=e().Info.parser.LangiumParser;bh.info=t},"info"),packet:ge(async()=>{let{createPacketServices:e}=await Promise.resolve().then(()=>(H2t(),V2t)),t=e().Packet.parser.LangiumParser;bh.packet=t},"packet"),pie:ge(async()=>{let{createPieServices:e}=await Promise.resolve().then(()=>(X2t(),Y2t)),t=e().Pie.parser.LangiumParser;bh.pie=t},"pie"),architecture:ge(async()=>{let{createArchitectureServices:e}=await Promise.resolve().then(()=>(K2t(),j2t)),t=e().Architecture.parser.LangiumParser;bh.architecture=t},"architecture"),gitGraph:ge(async()=>{let{createGitGraphServices:e}=await Promise.resolve().then(()=>(Z2t(),Q2t)),t=e().GitGraph.parser.LangiumParser;bh.gitGraph=t},"gitGraph"),radar:ge(async()=>{let{createRadarServices:e}=await Promise.resolve().then(()=>(txt(),J2t)),t=e().Radar.parser.LangiumParser;bh.radar=t},"radar"),treemap:ge(async()=>{let{createTreemapServices:e}=await Promise.resolve().then(()=>(rxt(),ext)),t=e().Treemap.parser.LangiumParser;bh.treemap=t},"treemap")};ge(gs,"parse");Dte=class extends Error{constructor(e){let t=e.lexerErrors.map(n=>n.message).join(`
`),r=e.parserErrors.map(n=>n.message).join(`
`);super(`Parsing failed: ${t} ${r}`),this.result=e}static{ge(this,"MermaidParseError")}}});var cxt={};pr(cxt,{diagram:()=>wee});function RD(){return Z9({length:7})}function axt(e,t){let r=Object.create(null);return e.reduce((n,a)=>{let i=t(a);return r[i]||(r[i]=!0,n.push(a)),n},[])}function _z(e,t,r){let n=e.indexOf(t);n===-1?e.push(r):e.splice(n,1,r)}function wz(e){let t=e.reduce((a,i)=>a.seq>i.seq?a:i,e[0]),r="";e.forEach(function(a){a===t?r+="	*":r+="	|"});let n=[r,t.id,t.seq];for(let a in _e.records.branches)_e.records.branches.get(a)===t.id&&n.push(a);if(J.debug(n.join(" ")),t.parents&&t.parents.length==2&&t.parents[0]&&t.parents[1]){let a=_e.records.commits.get(t.parents[0]);_z(e,t,a),t.parents[1]&&e.push(_e.records.commits.get(t.parents[1]))}else{if(t.parents.length==0)return;if(t.parents[0]){let a=_e.records.commits.get(t.parents[0]);_z(e,t,a)}}e=axt(e,a=>a.id),wz(e)}var Pn,Ate,Fm,_e,Lte,Mte,Ite,Rte,Nte,Ote,Fte,ixt,Pte,Bte,$te,zte,qte,oxt,Ute,Wte,Gte,sxt,Vte,Hte,Yte,Xte,jte,Kte,Qte,Zte,Jte,su,gp,vp,hf,_h,Om,Hs,Ys,MD,kw,ID,mp,Kr,tee,lxt,uxt,eee,ree,nee,aee,iee,oee,see,lee,uee,cee,fee,hee,nxt,dee,Cw,pee,mee,gee,vee,yee,xee,bee,_ee,wee,fxt=B(()=>{im();JF();On();Tr();nr();pp();hr();Pn={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},Ate=lr.gitGraph,Fm=x(()=>Na({...Ate,...ur().gitGraph}),"getConfig"),_e=new DS(()=>{let e=Fm(),t=e.mainBranchName,r=e.mainBranchOrder;return{mainBranchName:t,commits:new Map,head:null,branchConfig:new Map([[t,{name:t,order:r}]]),branches:new Map([[t,null]]),currBranch:t,direction:"LR",seq:0,options:{}}});x(RD,"getID");x(axt,"uniqBy");Lte=x(function(e){_e.records.direction=e},"setDirection"),Mte=x(function(e){J.debug("options str",e),e=e?.trim(),e=e||"{}";try{_e.records.options=JSON.parse(e)}catch(t){J.error("error while parsing gitGraph options",t.message)}},"setOptions"),Ite=x(function(){return _e.records.options},"getOptions"),Rte=x(function(e){let t=e.msg,r=e.id,n=e.type,a=e.tags;J.info("commit",t,r,n,a),J.debug("Entering commit:",t,r,n,a);let i=Fm();r=Jt.sanitizeText(r,i),t=Jt.sanitizeText(t,i),a=a?.map(s=>Jt.sanitizeText(s,i));let o={id:r||_e.records.seq+"-"+RD(),message:t,seq:_e.records.seq++,type:n??Pn.NORMAL,tags:a??[],parents:_e.records.head==null?[]:[_e.records.head.id],branch:_e.records.currBranch};_e.records.head=o,J.info("main branch",i.mainBranchName),_e.records.commits.has(o.id)&&J.warn(`Commit ID ${o.id} already exists`),_e.records.commits.set(o.id,o),_e.records.branches.set(_e.records.currBranch,o.id),J.debug("in pushCommit "+o.id)},"commit"),Nte=x(function(e){let t=e.name,r=e.order;if(t=Jt.sanitizeText(t,Fm()),_e.records.branches.has(t))throw new Error(`Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout ${t}")`);_e.records.branches.set(t,_e.records.head!=null?_e.records.head.id:null),_e.records.branchConfig.set(t,{name:t,order:r}),ixt(t),J.debug("in createBranch")},"branch"),Ote=x(e=>{let t=e.branch,r=e.id,n=e.type,a=e.tags,i=Fm();t=Jt.sanitizeText(t,i),r&&(r=Jt.sanitizeText(r,i));let o=_e.records.branches.get(_e.records.currBranch),s=_e.records.branches.get(t),l=o?_e.records.commits.get(o):void 0,u=s?_e.records.commits.get(s):void 0;if(l&&u&&l.branch===t)throw new Error(`Cannot merge branch '${t}' into itself.`);if(_e.records.currBranch===t){let d=new Error('Incorrect usage of "merge". Cannot merge a branch to itself');throw d.hash={text:`merge ${t}`,token:`merge ${t}`,expected:["branch abc"]},d}if(l===void 0||!l){let d=new Error(`Incorrect usage of "merge". Current branch (${_e.records.currBranch})has no commits`);throw d.hash={text:`merge ${t}`,token:`merge ${t}`,expected:["commit"]},d}if(!_e.records.branches.has(t)){let d=new Error('Incorrect usage of "merge". Branch to be merged ('+t+") does not exist");throw d.hash={text:`merge ${t}`,token:`merge ${t}`,expected:[`branch ${t}`]},d}if(u===void 0||!u){let d=new Error('Incorrect usage of "merge". Branch to be merged ('+t+") has no commits");throw d.hash={text:`merge ${t}`,token:`merge ${t}`,expected:['"commit"']},d}if(l===u){let d=new Error('Incorrect usage of "merge". Both branches have same head');throw d.hash={text:`merge ${t}`,token:`merge ${t}`,expected:["branch abc"]},d}if(r&&_e.records.commits.has(r)){let d=new Error('Incorrect usage of "merge". Commit with id:'+r+" already exists, use different custom id");throw d.hash={text:`merge ${t} ${r} ${n} ${a?.join(" ")}`,token:`merge ${t} ${r} ${n} ${a?.join(" ")}`,expected:[`merge ${t} ${r}_UNIQUE ${n} ${a?.join(" ")}`]},d}let f=s||"",h={id:r||`${_e.records.seq}-${RD()}`,message:`merged branch ${t} into ${_e.records.currBranch}`,seq:_e.records.seq++,parents:_e.records.head==null?[]:[_e.records.head.id,f],branch:_e.records.currBranch,type:Pn.MERGE,customType:n,customId:!!r,tags:a??[]};_e.records.head=h,_e.records.commits.set(h.id,h),_e.records.branches.set(_e.records.currBranch,h.id),J.debug(_e.records.branches),J.debug("in mergeBranch")},"merge"),Fte=x(function(e){let t=e.id,r=e.targetId,n=e.tags,a=e.parent;J.debug("Entering cherryPick:",t,r,n);let i=Fm();if(t=Jt.sanitizeText(t,i),r=Jt.sanitizeText(r,i),n=n?.map(l=>Jt.sanitizeText(l,i)),a=Jt.sanitizeText(a,i),!t||!_e.records.commits.has(t)){let l=new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');throw l.hash={text:`cherryPick ${t} ${r}`,token:`cherryPick ${t} ${r}`,expected:["cherry-pick abc"]},l}let o=_e.records.commits.get(t);if(o===void 0||!o)throw new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');if(a&&!(Array.isArray(o.parents)&&o.parents.includes(a)))throw new Error("Invalid operation: The specified parent commit is not an immediate parent of the cherry-picked commit.");let s=o.branch;if(o.type===Pn.MERGE&&!a)throw new Error("Incorrect usage of cherry-pick: If the source commit is a merge commit, an immediate parent commit must be specified.");if(!r||!_e.records.commits.has(r)){if(s===_e.records.currBranch){let h=new Error('Incorrect usage of "cherryPick". Source commit is already on current branch');throw h.hash={text:`cherryPick ${t} ${r}`,token:`cherryPick ${t} ${r}`,expected:["cherry-pick abc"]},h}let l=_e.records.branches.get(_e.records.currBranch);if(l===void 0||!l){let h=new Error(`Incorrect usage of "cherry-pick". Current branch (${_e.records.currBranch})has no commits`);throw h.hash={text:`cherryPick ${t} ${r}`,token:`cherryPick ${t} ${r}`,expected:["cherry-pick abc"]},h}let u=_e.records.commits.get(l);if(u===void 0||!u){let h=new Error(`Incorrect usage of "cherry-pick". Current branch (${_e.records.currBranch})has no commits`);throw h.hash={text:`cherryPick ${t} ${r}`,token:`cherryPick ${t} ${r}`,expected:["cherry-pick abc"]},h}let f={id:_e.records.seq+"-"+RD(),message:`cherry-picked ${o?.message} into ${_e.records.currBranch}`,seq:_e.records.seq++,parents:_e.records.head==null?[]:[_e.records.head.id,o.id],branch:_e.records.currBranch,type:Pn.CHERRY_PICK,tags:n?n.filter(Boolean):[`cherry-pick:${o.id}${o.type===Pn.MERGE?`|parent:${a}`:""}`]};_e.records.head=f,_e.records.commits.set(f.id,f),_e.records.branches.set(_e.records.currBranch,f.id),J.debug(_e.records.branches),J.debug("in cherryPick")}},"cherryPick"),ixt=x(function(e){if(e=Jt.sanitizeText(e,Fm()),_e.records.branches.has(e)){_e.records.currBranch=e;let t=_e.records.branches.get(_e.records.currBranch);t===void 0||!t?_e.records.head=null:_e.records.head=_e.records.commits.get(t)??null}else{let t=new Error(`Trying to checkout branch which is not yet created. (Help try using "branch ${e}")`);throw t.hash={text:`checkout ${e}`,token:`checkout ${e}`,expected:[`branch ${e}`]},t}},"checkout");x(_z,"upsert");x(wz,"prettyPrintCommitHistory");Pte=x(function(){J.debug(_e.records.commits);let e=oxt()[0];wz([e])},"prettyPrint"),Bte=x(function(){_e.reset(),wr()},"clear"),$te=x(function(){return[..._e.records.branchConfig.values()].map((t,r)=>t.order!==null&&t.order!==void 0?t:{...t,order:parseFloat(`0.${r}`)}).sort((t,r)=>(t.order??0)-(r.order??0)).map(({name:t})=>({name:t}))},"getBranchesAsObjArray"),zte=x(function(){return _e.records.branches},"getBranches"),qte=x(function(){return _e.records.commits},"getCommits"),oxt=x(function(){let e=[..._e.records.commits.values()];return e.forEach(function(t){J.debug(t.id)}),e.sort((t,r)=>t.seq-r.seq),e},"getCommitsArray"),Ute=x(function(){return _e.records.currBranch},"getCurrentBranch"),Wte=x(function(){return _e.records.direction},"getDirection"),Gte=x(function(){return _e.records.head},"getHead"),sxt={commitType:Pn,getConfig:Fm,setDirection:Lte,setOptions:Mte,getOptions:Ite,commit:Rte,branch:Nte,merge:Ote,cherryPick:Fte,checkout:ixt,prettyPrint:Pte,clear:Bte,getBranchesAsObjArray:$te,getBranches:zte,getCommits:qte,getCommitsArray:oxt,getCurrentBranch:Ute,getDirection:Wte,getHead:Gte,setAccTitle:Mr,getAccTitle:Fr,getAccDescription:Br,setAccDescription:Pr,setDiagramTitle:Yr,getDiagramTitle:$r},Vte=x((e,t)=>{hl(e,t),e.dir&&t.setDirection(e.dir);for(let r of e.statements)Hte(r,t)},"populate"),Hte=x((e,t)=>{let n={Commit:x(a=>t.commit(Yte(a)),"Commit"),Branch:x(a=>t.branch(Xte(a)),"Branch"),Merge:x(a=>t.merge(jte(a)),"Merge"),Checkout:x(a=>t.checkout(Kte(a)),"Checkout"),CherryPicking:x(a=>t.cherryPick(Qte(a)),"CherryPicking")}[e.$type];n?n(e):J.error(`Unknown statement type: ${e.$type}`)},"parseStatement"),Yte=x(e=>({id:e.id,msg:e.message??"",type:e.type!==void 0?Pn[e.type]:Pn.NORMAL,tags:e.tags??void 0}),"parseCommit"),Xte=x(e=>({name:e.name,order:e.order??0}),"parseBranch"),jte=x(e=>({branch:e.branch,id:e.id??"",type:e.type!==void 0?Pn[e.type]:void 0,tags:e.tags??void 0}),"parseMerge"),Kte=x(e=>e.branch,"parseCheckout"),Qte=x(e=>({id:e.id,targetId:"",tags:e.tags?.length===0?void 0:e.tags,parent:e.parent}),"parseCherryPicking"),Zte={parse:x(async e=>{let t=await gs("gitGraph",e);J.debug(t),Vte(t,sxt)},"parse")},Jte=bt(),su=Jte?.gitGraph,gp=10,vp=40,hf=4,_h=2,Om=8,Hs=new Map,Ys=new Map,MD=30,kw=new Map,ID=[],mp=0,Kr="LR",tee=x(()=>{Hs.clear(),Ys.clear(),kw.clear(),mp=0,ID=[],Kr="LR"},"clear"),lxt=x(e=>{let t=document.createElementNS("http://www.w3.org/2000/svg","text");return(typeof e=="string"?e.split(/\\n|\n|<br\s*\/?>/gi):e).forEach(n=>{let a=document.createElementNS("http://www.w3.org/2000/svg","tspan");a.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),a.setAttribute("dy","1em"),a.setAttribute("x","0"),a.setAttribute("class","row"),a.textContent=n.trim(),t.appendChild(a)}),t},"drawText"),uxt=x(e=>{let t,r,n;return Kr==="BT"?(r=x((a,i)=>a<=i,"comparisonFunc"),n=1/0):(r=x((a,i)=>a>=i,"comparisonFunc"),n=0),e.forEach(a=>{let i=Kr==="TB"||Kr=="BT"?Ys.get(a)?.y:Ys.get(a)?.x;i!==void 0&&r(i,n)&&(t=a,n=i)}),t},"findClosestParent"),eee=x(e=>{let t="",r=1/0;return e.forEach(n=>{let a=Ys.get(n).y;a<=r&&(t=n,r=a)}),t||void 0},"findClosestParentBT"),ree=x((e,t,r)=>{let n=r,a=r,i=[];e.forEach(o=>{let s=t.get(o);if(!s)throw new Error(`Commit not found for key ${o}`);s.parents.length?(n=aee(s),a=Math.max(n,a)):i.push(s),iee(s,n)}),n=a,i.forEach(o=>{oee(o,n,r)}),e.forEach(o=>{let s=t.get(o);if(s?.parents.length){let l=eee(s.parents);n=Ys.get(l).y-vp,n<=a&&(a=n);let u=Hs.get(s.branch).pos,f=n-gp;Ys.set(s.id,{x:u,y:f})}})},"setParallelBTPos"),nee=x(e=>{let t=uxt(e.parents.filter(n=>n!==null));if(!t)throw new Error(`Closest parent not found for commit ${e.id}`);let r=Ys.get(t)?.y;if(r===void 0)throw new Error(`Closest parent position not found for commit ${e.id}`);return r},"findClosestParentPos"),aee=x(e=>nee(e)+vp,"calculateCommitPosition"),iee=x((e,t)=>{let r=Hs.get(e.branch);if(!r)throw new Error(`Branch not found for commit ${e.id}`);let n=r.pos,a=t+gp;return Ys.set(e.id,{x:n,y:a}),{x:n,y:a}},"setCommitPosition"),oee=x((e,t,r)=>{let n=Hs.get(e.branch);if(!n)throw new Error(`Branch not found for commit ${e.id}`);let a=t+r,i=n.pos;Ys.set(e.id,{x:i,y:a})},"setRootPosition"),see=x((e,t,r,n,a,i)=>{if(i===Pn.HIGHLIGHT)e.append("rect").attr("x",r.x-10).attr("y",r.y-10).attr("width",20).attr("height",20).attr("class",`commit ${t.id} commit-highlight${a%Om} ${n}-outer`),e.append("rect").attr("x",r.x-6).attr("y",r.y-6).attr("width",12).attr("height",12).attr("class",`commit ${t.id} commit${a%Om} ${n}-inner`);else if(i===Pn.CHERRY_PICK)e.append("circle").attr("cx",r.x).attr("cy",r.y).attr("r",10).attr("class",`commit ${t.id} ${n}`),e.append("circle").attr("cx",r.x-3).attr("cy",r.y+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${t.id} ${n}`),e.append("circle").attr("cx",r.x+3).attr("cy",r.y+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${t.id} ${n}`),e.append("line").attr("x1",r.x+3).attr("y1",r.y+1).attr("x2",r.x).attr("y2",r.y-5).attr("stroke","#fff").attr("class",`commit ${t.id} ${n}`),e.append("line").attr("x1",r.x-3).attr("y1",r.y+1).attr("x2",r.x).attr("y2",r.y-5).attr("stroke","#fff").attr("class",`commit ${t.id} ${n}`);else{let o=e.append("circle");if(o.attr("cx",r.x),o.attr("cy",r.y),o.attr("r",t.type===Pn.MERGE?9:10),o.attr("class",`commit ${t.id} commit${a%Om}`),i===Pn.MERGE){let s=e.append("circle");s.attr("cx",r.x),s.attr("cy",r.y),s.attr("r",6),s.attr("class",`commit ${n} ${t.id} commit${a%Om}`)}i===Pn.REVERSE&&e.append("path").attr("d",`M ${r.x-5},${r.y-5}L${r.x+5},${r.y+5}M${r.x-5},${r.y+5}L${r.x+5},${r.y-5}`).attr("class",`commit ${n} ${t.id} commit${a%Om}`)}},"drawCommitBullet"),lee=x((e,t,r,n)=>{if(t.type!==Pn.CHERRY_PICK&&(t.customId&&t.type===Pn.MERGE||t.type!==Pn.MERGE)&&su?.showCommitLabel){let a=e.append("g"),i=a.insert("rect").attr("class","commit-label-bkg"),o=a.append("text").attr("x",n).attr("y",r.y+25).attr("class","commit-label").text(t.id),s=o.node()?.getBBox();if(s&&(i.attr("x",r.posWithOffset-s.width/2-_h).attr("y",r.y+13.5).attr("width",s.width+2*_h).attr("height",s.height+2*_h),Kr==="TB"||Kr==="BT"?(i.attr("x",r.x-(s.width+4*hf+5)).attr("y",r.y-12),o.attr("x",r.x-(s.width+4*hf)).attr("y",r.y+s.height-12)):o.attr("x",r.posWithOffset-s.width/2),su.rotateCommitLabel))if(Kr==="TB"||Kr==="BT")o.attr("transform","rotate(-45, "+r.x+", "+r.y+")"),i.attr("transform","rotate(-45, "+r.x+", "+r.y+")");else{let l=-7.5-(s.width+10)/25*9.5,u=10+s.width/25*8.5;a.attr("transform","translate("+l+", "+u+") rotate(-45, "+n+", "+r.y+")")}}},"drawCommitLabel"),uee=x((e,t,r,n)=>{if(t.tags.length>0){let a=0,i=0,o=0,s=[];for(let l of t.tags.reverse()){let u=e.insert("polygon"),f=e.append("circle"),h=e.append("text").attr("y",r.y-16-a).attr("class","tag-label").text(l),d=h.node()?.getBBox();if(!d)throw new Error("Tag bbox not found");i=Math.max(i,d.width),o=Math.max(o,d.height),h.attr("x",r.posWithOffset-d.width/2),s.push({tag:h,hole:f,rect:u,yOffset:a}),a+=20}for(let{tag:l,hole:u,rect:f,yOffset:h}of s){let d=o/2,p=r.y-19.2-h;if(f.attr("class","tag-label-bkg").attr("points",`
      ${n-i/2-hf/2},${p+_h}  
      ${n-i/2-hf/2},${p-_h}
      ${r.posWithOffset-i/2-hf},${p-d-_h}
      ${r.posWithOffset+i/2+hf},${p-d-_h}
      ${r.posWithOffset+i/2+hf},${p+d+_h}
      ${r.posWithOffset-i/2-hf},${p+d+_h}`),u.attr("cy",p).attr("cx",n-i/2+hf/2).attr("r",1.5).attr("class","tag-hole"),Kr==="TB"||Kr==="BT"){let m=n+h;f.attr("class","tag-label-bkg").attr("points",`
        ${r.x},${m+2}
        ${r.x},${m-2}
        ${r.x+gp},${m-d-2}
        ${r.x+gp+i+4},${m-d-2}
        ${r.x+gp+i+4},${m+d+2}
        ${r.x+gp},${m+d+2}`).attr("transform","translate(12,12) rotate(45, "+r.x+","+n+")"),u.attr("cx",r.x+hf/2).attr("cy",m).attr("transform","translate(12,12) rotate(45, "+r.x+","+n+")"),l.attr("x",r.x+5).attr("y",m+3).attr("transform","translate(14,14) rotate(45, "+r.x+","+n+")")}}}},"drawCommitTags"),cee=x(e=>{switch(e.customType??e.type){case Pn.NORMAL:return"commit-normal";case Pn.REVERSE:return"commit-reverse";case Pn.HIGHLIGHT:return"commit-highlight";case Pn.MERGE:return"commit-merge";case Pn.CHERRY_PICK:return"commit-cherry-pick";default:return"commit-normal"}},"getCommitClassType"),fee=x((e,t,r,n)=>{let a={x:0,y:0};if(e.parents.length>0){let i=uxt(e.parents);if(i){let o=n.get(i)??a;return t==="TB"?o.y+vp:t==="BT"?(n.get(e.id)??a).y-vp:o.x+vp}}else return t==="TB"?MD:t==="BT"?(n.get(e.id)??a).y-vp:0;return 0},"calculatePosition"),hee=x((e,t,r)=>{let n=Kr==="BT"&&r?t:t+gp,a=Kr==="TB"||Kr==="BT"?n:Hs.get(e.branch)?.pos,i=Kr==="TB"||Kr==="BT"?Hs.get(e.branch)?.pos:n;if(i===void 0||a===void 0)throw new Error(`Position were undefined for commit ${e.id}`);return{x:i,y:a,posWithOffset:n}},"getCommitPosition"),nxt=x((e,t,r)=>{if(!su)throw new Error("GitGraph config not found");let n=e.append("g").attr("class","commit-bullets"),a=e.append("g").attr("class","commit-labels"),i=Kr==="TB"||Kr==="BT"?MD:0,o=[...t.keys()],s=su?.parallelCommits??!1,l=x((f,h)=>{let d=t.get(f)?.seq,p=t.get(h)?.seq;return d!==void 0&&p!==void 0?d-p:0},"sortKeys"),u=o.sort(l);Kr==="BT"&&(s&&ree(u,t,i),u=u.reverse()),u.forEach(f=>{let h=t.get(f);if(!h)throw new Error(`Commit not found for key ${f}`);s&&(i=fee(h,Kr,i,Ys));let d=hee(h,i,s);if(r){let p=cee(h),m=h.customType??h.type,g=Hs.get(h.branch)?.index??0;see(n,h,d,p,g,m),lee(a,h,d,i),uee(a,h,d,i)}Kr==="TB"||Kr==="BT"?Ys.set(h.id,{x:d.x,y:d.posWithOffset}):Ys.set(h.id,{x:d.posWithOffset,y:d.y}),i=Kr==="BT"&&s?i+vp:i+vp+gp,i>mp&&(mp=i)})},"drawCommits"),dee=x((e,t,r,n,a)=>{let o=(Kr==="TB"||Kr==="BT"?r.x<n.x:r.y<n.y)?t.branch:e.branch,s=x(u=>u.branch===o,"isOnBranchToGetCurve"),l=x(u=>u.seq>e.seq&&u.seq<t.seq,"isBetweenCommits");return[...a.values()].some(u=>l(u)&&s(u))},"shouldRerouteArrow"),Cw=x((e,t,r=0)=>{let n=e+Math.abs(e-t)/2;if(r>5)return n;if(ID.every(o=>Math.abs(o-n)>=10))return ID.push(n),n;let i=Math.abs(e-t);return Cw(e,t-i/5,r+1)},"findLane"),pee=x((e,t,r,n)=>{let a=Ys.get(t.id),i=Ys.get(r.id);if(a===void 0||i===void 0)throw new Error(`Commit positions not found for commits ${t.id} and ${r.id}`);let o=dee(t,r,a,i,n),s="",l="",u=0,f=0,h=Hs.get(r.branch)?.index;r.type===Pn.MERGE&&t.id!==r.parents[0]&&(h=Hs.get(t.branch)?.index);let d;if(o){s="A 10 10, 0, 0, 0,",l="A 10 10, 0, 0, 1,",u=10,f=10;let p=a.y<i.y?Cw(a.y,i.y):Cw(i.y,a.y),m=a.x<i.x?Cw(a.x,i.x):Cw(i.x,a.x);Kr==="TB"?a.x<i.x?d=`M ${a.x} ${a.y} L ${m-u} ${a.y} ${l} ${m} ${a.y+f} L ${m} ${i.y-u} ${s} ${m+f} ${i.y} L ${i.x} ${i.y}`:(h=Hs.get(t.branch)?.index,d=`M ${a.x} ${a.y} L ${m+u} ${a.y} ${s} ${m} ${a.y+f} L ${m} ${i.y-u} ${l} ${m-f} ${i.y} L ${i.x} ${i.y}`):Kr==="BT"?a.x<i.x?d=`M ${a.x} ${a.y} L ${m-u} ${a.y} ${s} ${m} ${a.y-f} L ${m} ${i.y+u} ${l} ${m+f} ${i.y} L ${i.x} ${i.y}`:(h=Hs.get(t.branch)?.index,d=`M ${a.x} ${a.y} L ${m+u} ${a.y} ${l} ${m} ${a.y-f} L ${m} ${i.y+u} ${s} ${m-f} ${i.y} L ${i.x} ${i.y}`):a.y<i.y?d=`M ${a.x} ${a.y} L ${a.x} ${p-u} ${s} ${a.x+f} ${p} L ${i.x-u} ${p} ${l} ${i.x} ${p+f} L ${i.x} ${i.y}`:(h=Hs.get(t.branch)?.index,d=`M ${a.x} ${a.y} L ${a.x} ${p+u} ${l} ${a.x+f} ${p} L ${i.x-u} ${p} ${s} ${i.x} ${p-f} L ${i.x} ${i.y}`)}else s="A 20 20, 0, 0, 0,",l="A 20 20, 0, 0, 1,",u=20,f=20,Kr==="TB"?(a.x<i.x&&(r.type===Pn.MERGE&&t.id!==r.parents[0]?d=`M ${a.x} ${a.y} L ${a.x} ${i.y-u} ${s} ${a.x+f} ${i.y} L ${i.x} ${i.y}`:d=`M ${a.x} ${a.y} L ${i.x-u} ${a.y} ${l} ${i.x} ${a.y+f} L ${i.x} ${i.y}`),a.x>i.x&&(s="A 20 20, 0, 0, 0,",l="A 20 20, 0, 0, 1,",u=20,f=20,r.type===Pn.MERGE&&t.id!==r.parents[0]?d=`M ${a.x} ${a.y} L ${a.x} ${i.y-u} ${l} ${a.x-f} ${i.y} L ${i.x} ${i.y}`:d=`M ${a.x} ${a.y} L ${i.x+u} ${a.y} ${s} ${i.x} ${a.y+f} L ${i.x} ${i.y}`),a.x===i.x&&(d=`M ${a.x} ${a.y} L ${i.x} ${i.y}`)):Kr==="BT"?(a.x<i.x&&(r.type===Pn.MERGE&&t.id!==r.parents[0]?d=`M ${a.x} ${a.y} L ${a.x} ${i.y+u} ${l} ${a.x+f} ${i.y} L ${i.x} ${i.y}`:d=`M ${a.x} ${a.y} L ${i.x-u} ${a.y} ${s} ${i.x} ${a.y-f} L ${i.x} ${i.y}`),a.x>i.x&&(s="A 20 20, 0, 0, 0,",l="A 20 20, 0, 0, 1,",u=20,f=20,r.type===Pn.MERGE&&t.id!==r.parents[0]?d=`M ${a.x} ${a.y} L ${a.x} ${i.y+u} ${s} ${a.x-f} ${i.y} L ${i.x} ${i.y}`:d=`M ${a.x} ${a.y} L ${i.x-u} ${a.y} ${s} ${i.x} ${a.y-f} L ${i.x} ${i.y}`),a.x===i.x&&(d=`M ${a.x} ${a.y} L ${i.x} ${i.y}`)):(a.y<i.y&&(r.type===Pn.MERGE&&t.id!==r.parents[0]?d=`M ${a.x} ${a.y} L ${i.x-u} ${a.y} ${l} ${i.x} ${a.y+f} L ${i.x} ${i.y}`:d=`M ${a.x} ${a.y} L ${a.x} ${i.y-u} ${s} ${a.x+f} ${i.y} L ${i.x} ${i.y}`),a.y>i.y&&(r.type===Pn.MERGE&&t.id!==r.parents[0]?d=`M ${a.x} ${a.y} L ${i.x-u} ${a.y} ${s} ${i.x} ${a.y-f} L ${i.x} ${i.y}`:d=`M ${a.x} ${a.y} L ${a.x} ${i.y+u} ${l} ${a.x+f} ${i.y} L ${i.x} ${i.y}`),a.y===i.y&&(d=`M ${a.x} ${a.y} L ${i.x} ${i.y}`));if(d===void 0)throw new Error("Line definition not found");e.append("path").attr("d",d).attr("class","arrow arrow"+h%Om)},"drawArrow"),mee=x((e,t)=>{let r=e.append("g").attr("class","commit-arrows");[...t.keys()].forEach(n=>{let a=t.get(n);a.parents&&a.parents.length>0&&a.parents.forEach(i=>{pee(r,t.get(i),a,t)})})},"drawArrows"),gee=x((e,t)=>{let r=e.append("g");t.forEach((n,a)=>{let i=a%Om,o=Hs.get(n.name)?.pos;if(o===void 0)throw new Error(`Position not found for branch ${n.name}`);let s=r.append("line");s.attr("x1",0),s.attr("y1",o),s.attr("x2",mp),s.attr("y2",o),s.attr("class","branch branch"+i),Kr==="TB"?(s.attr("y1",MD),s.attr("x1",o),s.attr("y2",mp),s.attr("x2",o)):Kr==="BT"&&(s.attr("y1",mp),s.attr("x1",o),s.attr("y2",MD),s.attr("x2",o)),ID.push(o);let l=n.name,u=lxt(l),f=r.insert("rect"),d=r.insert("g").attr("class","branchLabel").insert("g").attr("class","label branch-label"+i);d.node().appendChild(u);let p=u.getBBox();f.attr("class","branchLabelBkg label"+i).attr("rx",4).attr("ry",4).attr("x",-p.width-4-(su?.rotateCommitLabel===!0?30:0)).attr("y",-p.height/2+8).attr("width",p.width+18).attr("height",p.height+4),d.attr("transform","translate("+(-p.width-14-(su?.rotateCommitLabel===!0?30:0))+", "+(o-p.height/2-1)+")"),Kr==="TB"?(f.attr("x",o-p.width/2-10).attr("y",0),d.attr("transform","translate("+(o-p.width/2-5)+", 0)")):Kr==="BT"?(f.attr("x",o-p.width/2-10).attr("y",mp),d.attr("transform","translate("+(o-p.width/2-5)+", "+mp+")")):f.attr("transform","translate(-19, "+(o-p.height/2)+")")})},"drawBranches"),vee=x(function(e,t,r,n,a){return Hs.set(e,{pos:t,index:r}),t+=50+(a?40:0)+(Kr==="TB"||Kr==="BT"?n.width/2:0),t},"setBranchPosition"),yee=x(function(e,t,r,n){if(tee(),J.debug("in gitgraph renderer",e+`
`,"id:",t,r),!su)throw new Error("GitGraph config not found");let a=su.rotateCommitLabel??!1,i=n.db;kw=i.getCommits();let o=i.getBranchesAsObjArray();Kr=i.getDirection();let s=Vt(`[id="${t}"]`),l=0;o.forEach((u,f)=>{let h=lxt(u.name),d=s.append("g"),p=d.insert("g").attr("class","branchLabel"),m=p.insert("g").attr("class","label branch-label");m.node()?.appendChild(h);let g=h.getBBox();l=vee(u.name,l,f,g,a),m.remove(),p.remove(),d.remove()}),nxt(s,kw,!1),su.showBranches&&gee(s,o),mee(s,kw),nxt(s,kw,!0),Ge.insertTitle(s,"gitTitleText",su.titleTopMargin??0,i.getDiagramTitle()),J8(void 0,s,su.diagramPadding,su.useMaxWidth)},"draw"),xee={draw:yee},bee=x(e=>`
  .commit-id,
  .commit-msg,
  .branch-label {
    fill: lightgrey;
    color: lightgrey;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  ${[0,1,2,3,4,5,6,7].map(t=>`
        .branch-label${t} { fill: ${e["gitBranchLabel"+t]}; }
        .commit${t} { stroke: ${e["git"+t]}; fill: ${e["git"+t]}; }
        .commit-highlight${t} { stroke: ${e["gitInv"+t]}; fill: ${e["gitInv"+t]}; }
        .label${t}  { fill: ${e["git"+t]}; }
        .arrow${t} { stroke: ${e["git"+t]}; }
        `).join(`
`)}

  .branch {
    stroke-width: 1;
    stroke: ${e.lineColor};
    stroke-dasharray: 2;
  }
  .commit-label { font-size: ${e.commitLabelFontSize}; fill: ${e.commitLabelColor};}
  .commit-label-bkg { font-size: ${e.commitLabelFontSize}; fill: ${e.commitLabelBackground}; opacity: 0.5; }
  .tag-label { font-size: ${e.tagLabelFontSize}; fill: ${e.tagLabelColor};}
  .tag-label-bkg { fill: ${e.tagLabelBackground}; stroke: ${e.tagLabelBorder}; }
  .tag-hole { fill: ${e.textColor}; }

  .commit-merge {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
  }
  .commit-reverse {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
    stroke-width: 3;
  }
  .commit-highlight-outer {
  }
  .commit-highlight-inner {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
  }

  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}
  .gitTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }
`,"getStyles"),_ee=bee,wee={parser:Zte,db:sxt,renderer:xee,styles:_ee}});var hxt=_o((Tz,Ez)=>{(function(e,t){typeof Tz=="object"&&typeof Ez<"u"?Ez.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self).dayjs_plugin_isoWeek=t()})(Tz,function(){"use strict";var e="day";return function(t,r,n){var a=function(s){return s.add(4-s.isoWeekday(),e)},i=r.prototype;i.isoWeekYear=function(){return a(this).year()},i.isoWeek=function(s){if(!this.$utils().u(s))return this.add(7*(s-this.isoWeek()),e);var l,u,f,h,d=a(this),p=(l=this.isoWeekYear(),u=this.$u,f=(u?n.utc:n)().year(l).startOf("year"),h=4-f.isoWeekday(),f.isoWeekday()>4&&(h+=7),f.add(h,e));return d.diff(p,"week")+1},i.isoWeekday=function(s){return this.$utils().u(s)?this.day()||7:this.day(this.day()%7?s:s-7)};var o=i.startOf;i.startOf=function(s,l){var u=this.$utils(),f=!!u.u(l)||l;return u.p(s)==="isoweek"?f?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):o.bind(this)(s,l)}}})});var dxt=_o((kz,Cz)=>{(function(e,t){typeof kz=="object"&&typeof Cz<"u"?Cz.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self).dayjs_plugin_customParseFormat=t()})(kz,function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,r=/\d/,n=/\d\d/,a=/\d\d?/,i=/\d*[^-_:/,()\s\d]+/,o={},s=function(m){return(m=+m)+(m>68?1900:2e3)},l=function(m){return function(g){this[m]=+g}},u=[/[+-]\d\d:?(\d\d)?|Z/,function(m){(this.zone||(this.zone={})).offset=function(g){if(!g||g==="Z")return 0;var v=g.match(/([+-]|\d\d)/g),y=60*v[1]+(+v[2]||0);return y===0?0:v[0]==="+"?-y:y}(m)}],f=function(m){var g=o[m];return g&&(g.indexOf?g:g.s.concat(g.f))},h=function(m,g){var v,y=o.meridiem;if(y){for(var b=1;b<=24;b+=1)if(m.indexOf(y(b,0,g))>-1){v=b>12;break}}else v=m===(g?"pm":"PM");return v},d={A:[i,function(m){this.afternoon=h(m,!1)}],a:[i,function(m){this.afternoon=h(m,!0)}],Q:[r,function(m){this.month=3*(m-1)+1}],S:[r,function(m){this.milliseconds=100*+m}],SS:[n,function(m){this.milliseconds=10*+m}],SSS:[/\d{3}/,function(m){this.milliseconds=+m}],s:[a,l("seconds")],ss:[a,l("seconds")],m:[a,l("minutes")],mm:[a,l("minutes")],H:[a,l("hours")],h:[a,l("hours")],HH:[a,l("hours")],hh:[a,l("hours")],D:[a,l("day")],DD:[n,l("day")],Do:[i,function(m){var g=o.ordinal,v=m.match(/\d+/);if(this.day=v[0],g)for(var y=1;y<=31;y+=1)g(y).replace(/\[|\]/g,"")===m&&(this.day=y)}],w:[a,l("week")],ww:[n,l("week")],M:[a,l("month")],MM:[n,l("month")],MMM:[i,function(m){var g=f("months"),v=(f("monthsShort")||g.map(function(y){return y.slice(0,3)})).indexOf(m)+1;if(v<1)throw new Error;this.month=v%12||v}],MMMM:[i,function(m){var g=f("months").indexOf(m)+1;if(g<1)throw new Error;this.month=g%12||g}],Y:[/[+-]?\d+/,l("year")],YY:[n,function(m){this.year=s(m)}],YYYY:[/\d{4}/,l("year")],Z:u,ZZ:u};function p(m){var g,v;g=m,v=o&&o.formats;for(var y=(m=g.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(C,M,N){var L=N&&N.toUpperCase();return M||v[N]||e[N]||v[L].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(E,A,D){return A||D.slice(1)})})).match(t),b=y.length,_=0;_<b;_+=1){var k=y[_],w=d[k],T=w&&w[0],S=w&&w[1];y[_]=S?{regex:T,parser:S}:k.replace(/^\[|\]$/g,"")}return function(C){for(var M={},N=0,L=0;N<b;N+=1){var E=y[N];if(typeof E=="string")L+=E.length;else{var A=E.regex,D=E.parser,R=C.slice(L),I=A.exec(R)[0];D.call(M,I),C=C.replace(I,"")}}return function(O){var F=O.afternoon;if(F!==void 0){var P=O.hours;F?P<12&&(O.hours+=12):P===12&&(O.hours=0),delete O.afternoon}}(M),M}}return function(m,g,v){v.p.customParseFormat=!0,m&&m.parseTwoDigitYear&&(s=m.parseTwoDigitYear);var y=g.prototype,b=y.parse;y.parse=function(_){var k=_.date,w=_.utc,T=_.args;this.$u=w;var S=T[1];if(typeof S=="string"){var C=T[2]===!0,M=T[3]===!0,N=C||M,L=T[2];M&&(L=T[2]),o=this.$locale(),!C&&L&&(o=v.Ls[L]),this.$d=function(R,I,O,F){try{if(["x","X"].indexOf(I)>-1)return new Date((I==="X"?1e3:1)*R);var P=p(I)(R),q=P.year,$=P.month,W=P.day,X=P.hours,tt=P.minutes,Y=P.seconds,ot=P.milliseconds,Z=P.zone,ct=P.week,rt=new Date,et=W||(q||$?1:rt.getDate()),Q=q||rt.getFullYear(),j=0;q&&!$||(j=$>0?$-1:rt.getMonth());var it,K=X||0,dt=tt||0,nt=Y||0,_t=ot||0;return Z?new Date(Date.UTC(Q,j,et,K,dt,nt,_t+60*Z.offset*1e3)):O?new Date(Date.UTC(Q,j,et,K,dt,nt,_t)):(it=new Date(Q,j,et,K,dt,nt,_t),ct&&(it=F(it).week(ct).toDate()),it)}catch{return new Date("")}}(k,S,w,v),this.init(),L&&L!==!0&&(this.$L=this.locale(L).$L),N&&k!=this.format(S)&&(this.$d=new Date("")),o={}}else if(S instanceof Array)for(var E=S.length,A=1;A<=E;A+=1){T[1]=S[A-1];var D=v.apply(this,T);if(D.isValid()){this.$d=D.$d,this.$L=D.$L,this.init();break}A===E&&(this.$d=new Date(""))}else b.call(this,_)}}})});var pxt=_o((Sz,Dz)=>{(function(e,t){typeof Sz=="object"&&typeof Dz<"u"?Dz.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self).dayjs_plugin_advancedFormat=t()})(Sz,function(){"use strict";return function(e,t){var r=t.prototype,n=r.format;r.format=function(a){var i=this,o=this.$locale();if(!this.isValid())return n.bind(this)(a);var s=this.$utils(),l=(a||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(u){switch(u){case"Q":return Math.ceil((i.$M+1)/3);case"Do":return o.ordinal(i.$D);case"gggg":return i.weekYear();case"GGGG":return i.isoWeekYear();case"wo":return o.ordinal(i.week(),"W");case"w":case"ww":return s.s(i.week(),u==="w"?1:2,"0");case"W":case"WW":return s.s(i.isoWeek(),u==="W"?1:2,"0");case"k":case"kk":return s.s(String(i.$H===0?24:i.$H),u==="k"?1:2,"0");case"X":return Math.floor(i.$d.getTime()/1e3);case"x":return i.$d.getTime();case"z":return"["+i.offsetName()+"]";case"zzz":return"["+i.offsetName("long")+"]";default:return u}});return n.bind(this)(l)}}})});var Lxt={};pr(Lxt,{diagram:()=>hre});function Uz(e,t,r){let n=!0;for(;n;)n=!1,r.forEach(function(a){let i="^\\s*"+a+"\\s*$",o=new RegExp(i);e[0].match(o)&&(t[a]=!0,e.shift(1),n=!0)})}var yxt,yl,xxt,bxt,_xt,FD,Az,Tee,mxt,df,Rz,Nz,Oz,Sw,Dw,Fz,Pz,PD,Xy,Bz,wxt,$z,Aw,zz,qz,BD,Lz,Eee,kee,Cee,See,Dee,Aee,Lee,Mee,Iee,Ree,Nee,Oee,Fee,Pee,Bee,$ee,zee,qee,Uee,Wee,Gee,Vee,Hee,Txt,Yee,Xee,jee,Ext,Kee,Mz,kxt,Cxt,ND,Yy,Qee,Zee,Iz,OD,wi,Sxt,Jee,Pm,tre,gxt,ere,Dxt,rre,Axt,nre,are,ire,ore,vxt,sre,wh,lre,ure,cre,fre,hre,Mxt=B(()=>{On();Tr();nr();yxt=qo(jg(),1),yl=qo(B3(),1),xxt=qo(hxt(),1),bxt=qo(dxt(),1),_xt=qo(pxt(),1),FD=qo(B3(),1);hr();Az=function(){var e=x(function(A,D,R,I){for(R=R||{},I=A.length;I--;R[A[I]]=D);return R},"o"),t=[6,8,10,12,13,14,15,16,17,18,20,21,22,23,24,25,26,27,28,29,30,31,33,35,36,38,40],r=[1,26],n=[1,27],a=[1,28],i=[1,29],o=[1,30],s=[1,31],l=[1,32],u=[1,33],f=[1,34],h=[1,9],d=[1,10],p=[1,11],m=[1,12],g=[1,13],v=[1,14],y=[1,15],b=[1,16],_=[1,19],k=[1,20],w=[1,21],T=[1,22],S=[1,23],C=[1,25],M=[1,35],N={trace:x(function(){},"trace"),yy:{},symbols_:{error:2,start:3,gantt:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NL:10,weekday:11,weekday_monday:12,weekday_tuesday:13,weekday_wednesday:14,weekday_thursday:15,weekday_friday:16,weekday_saturday:17,weekday_sunday:18,weekend:19,weekend_friday:20,weekend_saturday:21,dateFormat:22,inclusiveEndDates:23,topAxis:24,axisFormat:25,tickInterval:26,excludes:27,includes:28,todayMarker:29,title:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,section:36,clickStatement:37,taskTxt:38,taskData:39,click:40,callbackname:41,callbackargs:42,href:43,clickStatementDebug:44,$accept:0,$end:1},terminals_:{2:"error",4:"gantt",6:"EOF",8:"SPACE",10:"NL",12:"weekday_monday",13:"weekday_tuesday",14:"weekday_wednesday",15:"weekday_thursday",16:"weekday_friday",17:"weekday_saturday",18:"weekday_sunday",20:"weekend_friday",21:"weekend_saturday",22:"dateFormat",23:"inclusiveEndDates",24:"topAxis",25:"axisFormat",26:"tickInterval",27:"excludes",28:"includes",29:"todayMarker",30:"title",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",36:"section",38:"taskTxt",39:"taskData",40:"click",41:"callbackname",42:"callbackargs",43:"href"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[19,1],[19,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,2],[37,2],[37,3],[37,3],[37,4],[37,3],[37,4],[37,2],[44,2],[44,3],[44,3],[44,4],[44,3],[44,4],[44,2]],performAction:x(function(D,R,I,O,F,P,q){var $=P.length-1;switch(F){case 1:return P[$-1];case 2:this.$=[];break;case 3:P[$-1].push(P[$]),this.$=P[$-1];break;case 4:case 5:this.$=P[$];break;case 6:case 7:this.$=[];break;case 8:O.setWeekday("monday");break;case 9:O.setWeekday("tuesday");break;case 10:O.setWeekday("wednesday");break;case 11:O.setWeekday("thursday");break;case 12:O.setWeekday("friday");break;case 13:O.setWeekday("saturday");break;case 14:O.setWeekday("sunday");break;case 15:O.setWeekend("friday");break;case 16:O.setWeekend("saturday");break;case 17:O.setDateFormat(P[$].substr(11)),this.$=P[$].substr(11);break;case 18:O.enableInclusiveEndDates(),this.$=P[$].substr(18);break;case 19:O.TopAxis(),this.$=P[$].substr(8);break;case 20:O.setAxisFormat(P[$].substr(11)),this.$=P[$].substr(11);break;case 21:O.setTickInterval(P[$].substr(13)),this.$=P[$].substr(13);break;case 22:O.setExcludes(P[$].substr(9)),this.$=P[$].substr(9);break;case 23:O.setIncludes(P[$].substr(9)),this.$=P[$].substr(9);break;case 24:O.setTodayMarker(P[$].substr(12)),this.$=P[$].substr(12);break;case 27:O.setDiagramTitle(P[$].substr(6)),this.$=P[$].substr(6);break;case 28:this.$=P[$].trim(),O.setAccTitle(this.$);break;case 29:case 30:this.$=P[$].trim(),O.setAccDescription(this.$);break;case 31:O.addSection(P[$].substr(8)),this.$=P[$].substr(8);break;case 33:O.addTask(P[$-1],P[$]),this.$="task";break;case 34:this.$=P[$-1],O.setClickEvent(P[$-1],P[$],null);break;case 35:this.$=P[$-2],O.setClickEvent(P[$-2],P[$-1],P[$]);break;case 36:this.$=P[$-2],O.setClickEvent(P[$-2],P[$-1],null),O.setLink(P[$-2],P[$]);break;case 37:this.$=P[$-3],O.setClickEvent(P[$-3],P[$-2],P[$-1]),O.setLink(P[$-3],P[$]);break;case 38:this.$=P[$-2],O.setClickEvent(P[$-2],P[$],null),O.setLink(P[$-2],P[$-1]);break;case 39:this.$=P[$-3],O.setClickEvent(P[$-3],P[$-1],P[$]),O.setLink(P[$-3],P[$-2]);break;case 40:this.$=P[$-1],O.setLink(P[$-1],P[$]);break;case 41:case 47:this.$=P[$-1]+" "+P[$];break;case 42:case 43:case 45:this.$=P[$-2]+" "+P[$-1]+" "+P[$];break;case 44:case 46:this.$=P[$-3]+" "+P[$-2]+" "+P[$-1]+" "+P[$];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:17,12:r,13:n,14:a,15:i,16:o,17:s,18:l,19:18,20:u,21:f,22:h,23:d,24:p,25:m,26:g,27:v,28:y,29:b,30:_,31:k,33:w,35:T,36:S,37:24,38:C,40:M},e(t,[2,7],{1:[2,1]}),e(t,[2,3]),{9:36,11:17,12:r,13:n,14:a,15:i,16:o,17:s,18:l,19:18,20:u,21:f,22:h,23:d,24:p,25:m,26:g,27:v,28:y,29:b,30:_,31:k,33:w,35:T,36:S,37:24,38:C,40:M},e(t,[2,5]),e(t,[2,6]),e(t,[2,17]),e(t,[2,18]),e(t,[2,19]),e(t,[2,20]),e(t,[2,21]),e(t,[2,22]),e(t,[2,23]),e(t,[2,24]),e(t,[2,25]),e(t,[2,26]),e(t,[2,27]),{32:[1,37]},{34:[1,38]},e(t,[2,30]),e(t,[2,31]),e(t,[2,32]),{39:[1,39]},e(t,[2,8]),e(t,[2,9]),e(t,[2,10]),e(t,[2,11]),e(t,[2,12]),e(t,[2,13]),e(t,[2,14]),e(t,[2,15]),e(t,[2,16]),{41:[1,40],43:[1,41]},e(t,[2,4]),e(t,[2,28]),e(t,[2,29]),e(t,[2,33]),e(t,[2,34],{42:[1,42],43:[1,43]}),e(t,[2,40],{41:[1,44]}),e(t,[2,35],{43:[1,45]}),e(t,[2,36]),e(t,[2,38],{42:[1,46]}),e(t,[2,37]),e(t,[2,39])],defaultActions:{},parseError:x(function(D,R){if(R.recoverable)this.trace(D);else{var I=new Error(D);throw I.hash=R,I}},"parseError"),parse:x(function(D){var R=this,I=[0],O=[],F=[null],P=[],q=this.table,$="",W=0,X=0,tt=0,Y=2,ot=1,Z=P.slice.call(arguments,1),ct=Object.create(this.lexer),rt={yy:{}};for(var et in this.yy)Object.prototype.hasOwnProperty.call(this.yy,et)&&(rt.yy[et]=this.yy[et]);ct.setInput(D,rt.yy),rt.yy.lexer=ct,rt.yy.parser=this,typeof ct.yylloc>"u"&&(ct.yylloc={});var Q=ct.yylloc;P.push(Q);var j=ct.options&&ct.options.ranges;typeof rt.yy.parseError=="function"?this.parseError=rt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function it(kt){I.length=I.length-2*kt,F.length=F.length-kt,P.length=P.length-kt}x(it,"popStack");function K(){var kt;return kt=O.pop()||ct.lex()||ot,typeof kt!="number"&&(kt instanceof Array&&(O=kt,kt=O.pop()),kt=R.symbols_[kt]||kt),kt}x(K,"lex");for(var dt,nt,_t,V,Ut,pt,Ft={},Yt,Ht,Lt,Nt;;){if(_t=I[I.length-1],this.defaultActions[_t]?V=this.defaultActions[_t]:((dt===null||typeof dt>"u")&&(dt=K()),V=q[_t]&&q[_t][dt]),typeof V>"u"||!V.length||!V[0]){var It="";Nt=[];for(Yt in q[_t])this.terminals_[Yt]&&Yt>Y&&Nt.push("'"+this.terminals_[Yt]+"'");ct.showPosition?It="Parse error on line "+(W+1)+`:
`+ct.showPosition()+`
Expecting `+Nt.join(", ")+", got '"+(this.terminals_[dt]||dt)+"'":It="Parse error on line "+(W+1)+": Unexpected "+(dt==ot?"end of input":"'"+(this.terminals_[dt]||dt)+"'"),this.parseError(It,{text:ct.match,token:this.terminals_[dt]||dt,line:ct.yylineno,loc:Q,expected:Nt})}if(V[0]instanceof Array&&V.length>1)throw new Error("Parse Error: multiple actions possible at state: "+_t+", token: "+dt);switch(V[0]){case 1:I.push(dt),F.push(ct.yytext),P.push(ct.yylloc),I.push(V[1]),dt=null,nt?(dt=nt,nt=null):(X=ct.yyleng,$=ct.yytext,W=ct.yylineno,Q=ct.yylloc,tt>0&&tt--);break;case 2:if(Ht=this.productions_[V[1]][1],Ft.$=F[F.length-Ht],Ft._$={first_line:P[P.length-(Ht||1)].first_line,last_line:P[P.length-1].last_line,first_column:P[P.length-(Ht||1)].first_column,last_column:P[P.length-1].last_column},j&&(Ft._$.range=[P[P.length-(Ht||1)].range[0],P[P.length-1].range[1]]),pt=this.performAction.apply(Ft,[$,X,W,rt.yy,V[1],F,P].concat(Z)),typeof pt<"u")return pt;Ht&&(I=I.slice(0,-1*Ht*2),F=F.slice(0,-1*Ht),P=P.slice(0,-1*Ht)),I.push(this.productions_[V[1]][0]),F.push(Ft.$),P.push(Ft._$),Lt=q[I[I.length-2]][I[I.length-1]],I.push(Lt);break;case 3:return!0}}return!0},"parse")},L=function(){var A={EOF:1,parseError:x(function(R,I){if(this.yy.parser)this.yy.parser.parseError(R,I);else throw new Error(R)},"parseError"),setInput:x(function(D,R){return this.yy=R||this.yy||{},this._input=D,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:x(function(){var D=this._input[0];this.yytext+=D,this.yyleng++,this.offset++,this.match+=D,this.matched+=D;var R=D.match(/(?:\r\n?|\n).*/g);return R?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),D},"input"),unput:x(function(D){var R=D.length,I=D.split(/(?:\r\n?|\n)/g);this._input=D+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-R),this.offset-=R;var O=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),I.length-1&&(this.yylineno-=I.length-1);var F=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:I?(I.length===O.length?this.yylloc.first_column:0)+O[O.length-I.length].length-I[0].length:this.yylloc.first_column-R},this.options.ranges&&(this.yylloc.range=[F[0],F[0]+this.yyleng-R]),this.yyleng=this.yytext.length,this},"unput"),more:x(function(){return this._more=!0,this},"more"),reject:x(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:x(function(D){this.unput(this.match.slice(D))},"less"),pastInput:x(function(){var D=this.matched.substr(0,this.matched.length-this.match.length);return(D.length>20?"...":"")+D.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:x(function(){var D=this.match;return D.length<20&&(D+=this._input.substr(0,20-D.length)),(D.substr(0,20)+(D.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:x(function(){var D=this.pastInput(),R=new Array(D.length+1).join("-");return D+this.upcomingInput()+`
`+R+"^"},"showPosition"),test_match:x(function(D,R){var I,O,F;if(this.options.backtrack_lexer&&(F={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(F.yylloc.range=this.yylloc.range.slice(0))),O=D[0].match(/(?:\r\n?|\n).*/g),O&&(this.yylineno+=O.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:O?O[O.length-1].length-O[O.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+D[0].length},this.yytext+=D[0],this.match+=D[0],this.matches=D,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(D[0].length),this.matched+=D[0],I=this.performAction.call(this,this.yy,this,R,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),I)return I;if(this._backtrack){for(var P in F)this[P]=F[P];return!1}return!1},"test_match"),next:x(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var D,R,I,O;this._more||(this.yytext="",this.match="");for(var F=this._currentRules(),P=0;P<F.length;P++)if(I=this._input.match(this.rules[F[P]]),I&&(!R||I[0].length>R[0].length)){if(R=I,O=P,this.options.backtrack_lexer){if(D=this.test_match(I,F[P]),D!==!1)return D;if(this._backtrack){R=!1;continue}else return!1}else if(!this.options.flex)break}return R?(D=this.test_match(R,F[O]),D!==!1?D:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:x(function(){var R=this.next();return R||this.lex()},"lex"),begin:x(function(R){this.conditionStack.push(R)},"begin"),popState:x(function(){var R=this.conditionStack.length-1;return R>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:x(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:x(function(R){return R=this.conditionStack.length-1-Math.abs(R||0),R>=0?this.conditionStack[R]:"INITIAL"},"topState"),pushState:x(function(R){this.begin(R)},"pushState"),stateStackSize:x(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:x(function(R,I,O,F){var P=F;switch(O){case 0:return this.begin("open_directive"),"open_directive";break;case 1:return this.begin("acc_title"),31;break;case 2:return this.popState(),"acc_title_value";break;case 3:return this.begin("acc_descr"),33;break;case 4:return this.popState(),"acc_descr_value";break;case 5:this.begin("acc_descr_multiline");break;case 6:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:break;case 9:break;case 10:break;case 11:return 10;case 12:break;case 13:break;case 14:this.begin("href");break;case 15:this.popState();break;case 16:return 43;case 17:this.begin("callbackname");break;case 18:this.popState();break;case 19:this.popState(),this.begin("callbackargs");break;case 20:return 41;case 21:this.popState();break;case 22:return 42;case 23:this.begin("click");break;case 24:this.popState();break;case 25:return 40;case 26:return 4;case 27:return 22;case 28:return 23;case 29:return 24;case 30:return 25;case 31:return 26;case 32:return 28;case 33:return 27;case 34:return 29;case 35:return 12;case 36:return 13;case 37:return 14;case 38:return 15;case 39:return 16;case 40:return 17;case 41:return 18;case 42:return 20;case 43:return 21;case 44:return"date";case 45:return 30;case 46:return"accDescription";case 47:return 36;case 48:return 38;case 49:return 39;case 50:return":";case 51:return 6;case 52:return"INVALID"}},"anonymous"),rules:[/^(?:%%\{)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:tickInterval\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:weekday\s+monday\b)/i,/^(?:weekday\s+tuesday\b)/i,/^(?:weekday\s+wednesday\b)/i,/^(?:weekday\s+thursday\b)/i,/^(?:weekday\s+friday\b)/i,/^(?:weekday\s+saturday\b)/i,/^(?:weekday\s+sunday\b)/i,/^(?:weekend\s+friday\b)/i,/^(?:weekend\s+saturday\b)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^\n]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^\n]+)/i,/^(?:[^:\n]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[6,7],inclusive:!1},acc_descr:{rules:[4],inclusive:!1},acc_title:{rules:[2],inclusive:!1},callbackargs:{rules:[21,22],inclusive:!1},callbackname:{rules:[18,19,20],inclusive:!1},href:{rules:[15,16],inclusive:!1},click:{rules:[24,25],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,17,23,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52],inclusive:!0}}};return A}();N.lexer=L;function E(){this.yy={}}return x(E,"Parser"),E.prototype=N,N.Parser=E,new E}();Az.parser=Az;Tee=Az;yl.default.extend(xxt.default);yl.default.extend(bxt.default);yl.default.extend(_xt.default);mxt={friday:5,saturday:6},df="",Rz="",Nz=void 0,Oz="",Sw=[],Dw=[],Fz=new Map,Pz=[],PD=[],Xy="",Bz="",wxt=["active","done","crit","milestone","vert"],$z=[],Aw=!1,zz=!1,qz="sunday",BD="saturday",Lz=0,Eee=x(function(){Pz=[],PD=[],Xy="",$z=[],ND=0,Iz=void 0,OD=void 0,wi=[],df="",Rz="",Bz="",Nz=void 0,Oz="",Sw=[],Dw=[],Aw=!1,zz=!1,Lz=0,Fz=new Map,wr(),qz="sunday",BD="saturday"},"clear"),kee=x(function(e){Rz=e},"setAxisFormat"),Cee=x(function(){return Rz},"getAxisFormat"),See=x(function(e){Nz=e},"setTickInterval"),Dee=x(function(){return Nz},"getTickInterval"),Aee=x(function(e){Oz=e},"setTodayMarker"),Lee=x(function(){return Oz},"getTodayMarker"),Mee=x(function(e){df=e},"setDateFormat"),Iee=x(function(){Aw=!0},"enableInclusiveEndDates"),Ree=x(function(){return Aw},"endDatesAreInclusive"),Nee=x(function(){zz=!0},"enableTopAxis"),Oee=x(function(){return zz},"topAxisEnabled"),Fee=x(function(e){Bz=e},"setDisplayMode"),Pee=x(function(){return Bz},"getDisplayMode"),Bee=x(function(){return df},"getDateFormat"),$ee=x(function(e){Sw=e.toLowerCase().split(/[\s,]+/)},"setIncludes"),zee=x(function(){return Sw},"getIncludes"),qee=x(function(e){Dw=e.toLowerCase().split(/[\s,]+/)},"setExcludes"),Uee=x(function(){return Dw},"getExcludes"),Wee=x(function(){return Fz},"getLinks"),Gee=x(function(e){Xy=e,Pz.push(e)},"addSection"),Vee=x(function(){return Pz},"getSections"),Hee=x(function(){let e=gxt(),t=10,r=0;for(;!e&&r<t;)e=gxt(),r++;return PD=wi,PD},"getTasks"),Txt=x(function(e,t,r,n){let a=e.format(t.trim()),i=e.format("YYYY-MM-DD");return n.includes(a)||n.includes(i)?!1:r.includes("weekends")&&(e.isoWeekday()===mxt[BD]||e.isoWeekday()===mxt[BD]+1)||r.includes(e.format("dddd").toLowerCase())?!0:r.includes(a)||r.includes(i)},"isInvalidDate"),Yee=x(function(e){qz=e},"setWeekday"),Xee=x(function(){return qz},"getWeekday"),jee=x(function(e){BD=e},"setWeekend"),Ext=x(function(e,t,r,n){if(!r.length||e.manualEndTime)return;let a;e.startTime instanceof Date?a=(0,yl.default)(e.startTime):a=(0,yl.default)(e.startTime,t,!0),a=a.add(1,"d");let i;e.endTime instanceof Date?i=(0,yl.default)(e.endTime):i=(0,yl.default)(e.endTime,t,!0);let[o,s]=Kee(a,i,t,r,n);e.endTime=o.toDate(),e.renderEndTime=s},"checkTaskDates"),Kee=x(function(e,t,r,n,a){let i=!1,o=null;for(;e<=t;)i||(o=t.toDate()),i=Txt(e,r,n,a),i&&(t=t.add(1,"d")),e=e.add(1,"d");return[t,o]},"fixTaskDates"),Mz=x(function(e,t,r){if(r=r.trim(),(t.trim()==="x"||t.trim()==="X")&&/^\d+$/.test(r))return new Date(Number(r));let a=/^after\s+(?<ids>[\d\w- ]+)/.exec(r);if(a!==null){let o=null;for(let l of a.groups.ids.split(" ")){let u=Pm(l);u!==void 0&&(!o||u.endTime>o.endTime)&&(o=u)}if(o)return o.endTime;let s=new Date;return s.setHours(0,0,0,0),s}let i=(0,yl.default)(r,t.trim(),!0);if(i.isValid())return i.toDate();{J.debug("Invalid date:"+r),J.debug("With date format:"+t.trim());let o=new Date(r);if(o===void 0||isNaN(o.getTime())||o.getFullYear()<-1e4||o.getFullYear()>1e4)throw new Error("Invalid date:"+r);return o}},"getStartDate"),kxt=x(function(e){let t=/^(\d+(?:\.\d+)?)([Mdhmswy]|ms)$/.exec(e.trim());return t!==null?[Number.parseFloat(t[1]),t[2]]:[NaN,"ms"]},"parseDuration"),Cxt=x(function(e,t,r,n=!1){r=r.trim();let i=/^until\s+(?<ids>[\d\w- ]+)/.exec(r);if(i!==null){let f=null;for(let d of i.groups.ids.split(" ")){let p=Pm(d);p!==void 0&&(!f||p.startTime<f.startTime)&&(f=p)}if(f)return f.startTime;let h=new Date;return h.setHours(0,0,0,0),h}let o=(0,yl.default)(r,t.trim(),!0);if(o.isValid())return n&&(o=o.add(1,"d")),o.toDate();let s=(0,yl.default)(e),[l,u]=kxt(r);if(!Number.isNaN(l)){let f=s.add(l,u);f.isValid()&&(s=f)}return s.toDate()},"getEndDate"),ND=0,Yy=x(function(e){return e===void 0?(ND=ND+1,"task"+ND):e},"parseId"),Qee=x(function(e,t){let r;t.substr(0,1)===":"?r=t.substr(1,t.length):r=t;let n=r.split(","),a={};Uz(n,a,wxt);for(let o=0;o<n.length;o++)n[o]=n[o].trim();let i="";switch(n.length){case 1:a.id=Yy(),a.startTime=e.endTime,i=n[0];break;case 2:a.id=Yy(),a.startTime=Mz(void 0,df,n[0]),i=n[1];break;case 3:a.id=Yy(n[0]),a.startTime=Mz(void 0,df,n[1]),i=n[2];break;default:}return i&&(a.endTime=Cxt(a.startTime,df,i,Aw),a.manualEndTime=(0,yl.default)(i,"YYYY-MM-DD",!0).isValid(),Ext(a,df,Dw,Sw)),a},"compileData"),Zee=x(function(e,t){let r;t.substr(0,1)===":"?r=t.substr(1,t.length):r=t;let n=r.split(","),a={};Uz(n,a,wxt);for(let i=0;i<n.length;i++)n[i]=n[i].trim();switch(n.length){case 1:a.id=Yy(),a.startTime={type:"prevTaskEnd",id:e},a.endTime={data:n[0]};break;case 2:a.id=Yy(),a.startTime={type:"getStartDate",startData:n[0]},a.endTime={data:n[1]};break;case 3:a.id=Yy(n[0]),a.startTime={type:"getStartDate",startData:n[1]},a.endTime={data:n[2]};break;default:}return a},"parseData"),wi=[],Sxt={},Jee=x(function(e,t){let r={section:Xy,type:Xy,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:t},task:e,classes:[]},n=Zee(OD,t);r.raw.startTime=n.startTime,r.raw.endTime=n.endTime,r.id=n.id,r.prevTaskId=OD,r.active=n.active,r.done=n.done,r.crit=n.crit,r.milestone=n.milestone,r.vert=n.vert,r.order=Lz,Lz++;let a=wi.push(r);OD=r.id,Sxt[r.id]=a-1},"addTask"),Pm=x(function(e){let t=Sxt[e];return wi[t]},"findTaskById"),tre=x(function(e,t){let r={section:Xy,type:Xy,description:e,task:e,classes:[]},n=Qee(Iz,t);r.startTime=n.startTime,r.endTime=n.endTime,r.id=n.id,r.active=n.active,r.done=n.done,r.crit=n.crit,r.milestone=n.milestone,r.vert=n.vert,Iz=r,PD.push(r)},"addTaskOrg"),gxt=x(function(){let e=x(function(r){let n=wi[r],a="";switch(wi[r].raw.startTime.type){case"prevTaskEnd":{let i=Pm(n.prevTaskId);n.startTime=i.endTime;break}case"getStartDate":a=Mz(void 0,df,wi[r].raw.startTime.startData),a&&(wi[r].startTime=a);break}return wi[r].startTime&&(wi[r].endTime=Cxt(wi[r].startTime,df,wi[r].raw.endTime.data,Aw),wi[r].endTime&&(wi[r].processed=!0,wi[r].manualEndTime=(0,yl.default)(wi[r].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),Ext(wi[r],df,Dw,Sw))),wi[r].processed},"compileTask"),t=!0;for(let[r,n]of wi.entries())e(r),t=t&&n.processed;return t},"compileTasks"),ere=x(function(e,t){let r=t;bt().securityLevel!=="loose"&&(r=(0,yxt.sanitizeUrl)(t)),e.split(",").forEach(function(n){Pm(n)!==void 0&&(Axt(n,()=>{window.open(r,"_self")}),Fz.set(n,r))}),Dxt(e,"clickable")},"setLink"),Dxt=x(function(e,t){e.split(",").forEach(function(r){let n=Pm(r);n!==void 0&&n.classes.push(t)})},"setClass"),rre=x(function(e,t,r){if(bt().securityLevel!=="loose"||t===void 0)return;let n=[];if(typeof r=="string"){n=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let i=0;i<n.length;i++){let o=n[i].trim();o.startsWith('"')&&o.endsWith('"')&&(o=o.substr(1,o.length-2)),n[i]=o}}n.length===0&&n.push(e),Pm(e)!==void 0&&Axt(e,()=>{Ge.runFunc(t,...n)})},"setClickFun"),Axt=x(function(e,t){$z.push(function(){let r=document.querySelector(`[id="${e}"]`);r!==null&&r.addEventListener("click",function(){t()})},function(){let r=document.querySelector(`[id="${e}-text"]`);r!==null&&r.addEventListener("click",function(){t()})})},"pushFun"),nre=x(function(e,t,r){e.split(",").forEach(function(n){rre(n,t,r)}),Dxt(e,"clickable")},"setClickEvent"),are=x(function(e){$z.forEach(function(t){t(e)})},"bindFunctions"),ire={getConfig:x(()=>bt().gantt,"getConfig"),clear:Eee,setDateFormat:Mee,getDateFormat:Bee,enableInclusiveEndDates:Iee,endDatesAreInclusive:Ree,enableTopAxis:Nee,topAxisEnabled:Oee,setAxisFormat:kee,getAxisFormat:Cee,setTickInterval:See,getTickInterval:Dee,setTodayMarker:Aee,getTodayMarker:Lee,setAccTitle:Mr,getAccTitle:Fr,setDiagramTitle:Yr,getDiagramTitle:$r,setDisplayMode:Fee,getDisplayMode:Pee,setAccDescription:Pr,getAccDescription:Br,addSection:Gee,getSections:Vee,getTasks:Hee,addTask:Jee,findTaskById:Pm,addTaskOrg:tre,setIncludes:$ee,getIncludes:zee,setExcludes:qee,getExcludes:Uee,setClickEvent:nre,setLink:ere,getLinks:Wee,bindFunctions:are,parseDuration:kxt,isInvalidDate:Txt,setWeekday:Yee,getWeekday:Xee,setWeekend:jee};x(Uz,"getTaskTags");ore=x(function(){J.debug("Something is calling, setConf, remove the call")},"setConf"),vxt={monday:rd,tuesday:wT,wednesday:TT,thursday:xc,friday:ET,saturday:kT,sunday:Tu},sre=x((e,t)=>{let r=[...e].map(()=>-1/0),n=[...e].sort((i,o)=>i.startTime-o.startTime||i.order-o.order),a=0;for(let i of n)for(let o=0;o<r.length;o++)if(i.startTime>=r[o]){r[o]=i.endTime,i.order=o+t,o>a&&(a=o);break}return a},"getMaxIntersections"),lre=x(function(e,t,r,n){let a=bt().gantt,i=bt().securityLevel,o;i==="sandbox"&&(o=Vt("#i"+t));let s=i==="sandbox"?Vt(o.nodes()[0].contentDocument.body):Vt("body"),l=i==="sandbox"?o.nodes()[0].contentDocument:document,u=l.getElementById(t);wh=u.parentElement.offsetWidth,wh===void 0&&(wh=1200),a.useWidth!==void 0&&(wh=a.useWidth);let f=n.db.getTasks(),h=[];for(let C of f)h.push(C.type);h=S(h);let d={},p=2*a.topPadding;if(n.db.getDisplayMode()==="compact"||a.displayMode==="compact"){let C={};for(let N of f)C[N.section]===void 0?C[N.section]=[N]:C[N.section].push(N);let M=0;for(let N of Object.keys(C)){let L=sre(C[N],M)+1;M+=L,p+=L*(a.barHeight+a.barGap),d[N]=L}}else{p+=f.length*(a.barHeight+a.barGap);for(let C of h)d[C]=f.filter(M=>M.type===C).length}u.setAttribute("viewBox","0 0 "+wh+" "+p);let m=s.select(`[id="${t}"]`),g=DT().domain([O5(f,function(C){return C.startTime}),N5(f,function(C){return C.endTime})]).rangeRound([0,wh-a.leftPadding-a.rightPadding]);function v(C,M){let N=C.startTime,L=M.startTime,E=0;return N>L?E=1:N<L&&(E=-1),E}x(v,"taskCompare"),f.sort(v),y(f,wh,p),Nn(m,p,wh,a.useMaxWidth),m.append("text").text(n.db.getDiagramTitle()).attr("x",wh/2).attr("y",a.titleTopMargin).attr("class","titleText");function y(C,M,N){let L=a.barHeight,E=L+a.barGap,A=a.topPadding,D=a.leftPadding,R=wu().domain([0,h.length]).range(["#00B9FA","#F95002"]).interpolate(WL);_(E,A,D,M,N,C,n.db.getExcludes(),n.db.getIncludes()),k(D,A,M,N),b(C,E,A,D,L,R,M,N),w(E,A,D,L,R),T(D,A,M,N)}x(y,"makeGantt");function b(C,M,N,L,E,A,D){C.sort((q,$)=>q.vert===$.vert?0:q.vert?1:-1);let I=[...new Set(C.map(q=>q.order))].map(q=>C.find($=>$.order===q));m.append("g").selectAll("rect").data(I).enter().append("rect").attr("x",0).attr("y",function(q,$){return $=q.order,$*M+N-2}).attr("width",function(){return D-a.rightPadding/2}).attr("height",M).attr("class",function(q){for(let[$,W]of h.entries())if(q.type===W)return"section section"+$%a.numberSectionStyles;return"section section0"}).enter();let O=m.append("g").selectAll("rect").data(C).enter(),F=n.db.getLinks();if(O.append("rect").attr("id",function(q){return q.id}).attr("rx",3).attr("ry",3).attr("x",function(q){return q.milestone?g(q.startTime)+L+.5*(g(q.endTime)-g(q.startTime))-.5*E:g(q.startTime)+L}).attr("y",function(q,$){return $=q.order,q.vert?a.gridLineStartPadding:$*M+N}).attr("width",function(q){return q.milestone?E:q.vert?.08*E:g(q.renderEndTime||q.endTime)-g(q.startTime)}).attr("height",function(q){return q.vert?f.length*(a.barHeight+a.barGap)+a.barHeight*2:E}).attr("transform-origin",function(q,$){return $=q.order,(g(q.startTime)+L+.5*(g(q.endTime)-g(q.startTime))).toString()+"px "+($*M+N+.5*E).toString()+"px"}).attr("class",function(q){let $="task",W="";q.classes.length>0&&(W=q.classes.join(" "));let X=0;for(let[Y,ot]of h.entries())q.type===ot&&(X=Y%a.numberSectionStyles);let tt="";return q.active?q.crit?tt+=" activeCrit":tt=" active":q.done?q.crit?tt=" doneCrit":tt=" done":q.crit&&(tt+=" crit"),tt.length===0&&(tt=" task"),q.milestone&&(tt=" milestone "+tt),q.vert&&(tt=" vert "+tt),tt+=X,tt+=" "+W,$+tt}),O.append("text").attr("id",function(q){return q.id+"-text"}).text(function(q){return q.task}).attr("font-size",a.fontSize).attr("x",function(q){let $=g(q.startTime),W=g(q.renderEndTime||q.endTime);if(q.milestone&&($+=.5*(g(q.endTime)-g(q.startTime))-.5*E,W=$+E),q.vert)return g(q.startTime)+L;let X=this.getBBox().width;return X>W-$?W+X+1.5*a.leftPadding>D?$+L-5:W+L+5:(W-$)/2+$+L}).attr("y",function(q,$){return q.vert?a.gridLineStartPadding+f.length*(a.barHeight+a.barGap)+60:($=q.order,$*M+a.barHeight/2+(a.fontSize/2-2)+N)}).attr("text-height",E).attr("class",function(q){let $=g(q.startTime),W=g(q.endTime);q.milestone&&(W=$+E);let X=this.getBBox().width,tt="";q.classes.length>0&&(tt=q.classes.join(" "));let Y=0;for(let[Z,ct]of h.entries())q.type===ct&&(Y=Z%a.numberSectionStyles);let ot="";return q.active&&(q.crit?ot="activeCritText"+Y:ot="activeText"+Y),q.done?q.crit?ot=ot+" doneCritText"+Y:ot=ot+" doneText"+Y:q.crit&&(ot=ot+" critText"+Y),q.milestone&&(ot+=" milestoneText"),q.vert&&(ot+=" vertText"),X>W-$?W+X+1.5*a.leftPadding>D?tt+" taskTextOutsideLeft taskTextOutside"+Y+" "+ot:tt+" taskTextOutsideRight taskTextOutside"+Y+" "+ot+" width-"+X:tt+" taskText taskText"+Y+" "+ot+" width-"+X}),bt().securityLevel==="sandbox"){let q;q=Vt("#i"+t);let $=q.nodes()[0].contentDocument;O.filter(function(W){return F.has(W.id)}).each(function(W){var X=$.querySelector("#"+W.id),tt=$.querySelector("#"+W.id+"-text");let Y=X.parentNode;var ot=$.createElement("a");ot.setAttribute("xlink:href",F.get(W.id)),ot.setAttribute("target","_top"),Y.appendChild(ot),ot.appendChild(X),ot.appendChild(tt)})}}x(b,"drawRects");function _(C,M,N,L,E,A,D,R){if(D.length===0&&R.length===0)return;let I,O;for(let{startTime:X,endTime:tt}of A)(I===void 0||X<I)&&(I=X),(O===void 0||tt>O)&&(O=tt);if(!I||!O)return;if((0,FD.default)(O).diff((0,FD.default)(I),"year")>5){J.warn("The difference between the min and max time is more than 5 years. This will cause performance issues. Skipping drawing exclude days.");return}let F=n.db.getDateFormat(),P=[],q=null,$=(0,FD.default)(I);for(;$.valueOf()<=O;)n.db.isInvalidDate($,F,D,R)?q?q.end=$:q={start:$,end:$}:q&&(P.push(q),q=null),$=$.add(1,"d");m.append("g").selectAll("rect").data(P).enter().append("rect").attr("id",X=>"exclude-"+X.start.format("YYYY-MM-DD")).attr("x",X=>g(X.start.startOf("day"))+N).attr("y",a.gridLineStartPadding).attr("width",X=>g(X.end.endOf("day"))-g(X.start.startOf("day"))).attr("height",E-M-a.gridLineStartPadding).attr("transform-origin",function(X,tt){return(g(X.start)+N+.5*(g(X.end)-g(X.start))).toString()+"px "+(tt*C+.5*E).toString()+"px"}).attr("class","exclude-range")}x(_,"drawExcludeDays");function k(C,M,N,L){let E=n.db.getDateFormat(),A=n.db.getAxisFormat(),D;A?D=A:E==="D"?D="%d":D=a.axisFormat??"%Y-%m-%d";let R=lL(g).tickSize(-L+M+a.gridLineStartPadding).tickFormat(p0(D)),O=/^([1-9]\d*)(millisecond|second|minute|hour|day|week|month)$/.exec(n.db.getTickInterval()||a.tickInterval);if(O!==null){let F=O[1],P=O[2],q=n.db.getWeekday()||a.weekday;switch(P){case"millisecond":R.ticks(vc.every(F));break;case"second":R.ticks(rl.every(F));break;case"minute":R.ticks(qf.every(F));break;case"hour":R.ticks(Uf.every(F));break;case"day":R.ticks(Ll.every(F));break;case"week":R.ticks(vxt[q].every(F));break;case"month":R.ticks(Wf.every(F));break}}if(m.append("g").attr("class","grid").attr("transform","translate("+C+", "+(L-50)+")").call(R).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),n.db.topAxisEnabled()||a.topAxis){let F=sL(g).tickSize(-L+M+a.gridLineStartPadding).tickFormat(p0(D));if(O!==null){let P=O[1],q=O[2],$=n.db.getWeekday()||a.weekday;switch(q){case"millisecond":F.ticks(vc.every(P));break;case"second":F.ticks(rl.every(P));break;case"minute":F.ticks(qf.every(P));break;case"hour":F.ticks(Uf.every(P));break;case"day":F.ticks(Ll.every(P));break;case"week":F.ticks(vxt[$].every(P));break;case"month":F.ticks(Wf.every(P));break}}m.append("g").attr("class","grid").attr("transform","translate("+C+", "+M+")").call(F).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}x(k,"makeGrid");function w(C,M){let N=0,L=Object.keys(d).map(E=>[E,d[E]]);m.append("g").selectAll("text").data(L).enter().append(function(E){let A=E[0].split(Jt.lineBreakRegex),D=-(A.length-1)/2,R=l.createElementNS("http://www.w3.org/2000/svg","text");R.setAttribute("dy",D+"em");for(let[I,O]of A.entries()){let F=l.createElementNS("http://www.w3.org/2000/svg","tspan");F.setAttribute("alignment-baseline","central"),F.setAttribute("x","10"),I>0&&F.setAttribute("dy","1em"),F.textContent=O,R.appendChild(F)}return R}).attr("x",10).attr("y",function(E,A){if(A>0)for(let D=0;D<A;D++)return N+=L[A-1][1],E[1]*C/2+N*C+M;else return E[1]*C/2+M}).attr("font-size",a.sectionFontSize).attr("class",function(E){for(let[A,D]of h.entries())if(E[0]===D)return"sectionTitle sectionTitle"+A%a.numberSectionStyles;return"sectionTitle"})}x(w,"vertLabels");function T(C,M,N,L){let E=n.db.getTodayMarker();if(E==="off")return;let A=m.append("g").attr("class","today"),D=new Date,R=A.append("line");R.attr("x1",g(D)+C).attr("x2",g(D)+C).attr("y1",a.titleTopMargin).attr("y2",L-a.titleTopMargin).attr("class","today"),E!==""&&R.attr("style",E.replace(/,/g,";"))}x(T,"drawToday");function S(C){let M={},N=[];for(let L=0,E=C.length;L<E;++L)Object.prototype.hasOwnProperty.call(M,C[L])||(M[C[L]]=!0,N.push(C[L]));return N}x(S,"checkUnique")},"draw"),ure={setConf:ore,draw:lre},cre=x(e=>`
  .mermaid-main-font {
        font-family: ${e.fontFamily};
  }

  .exclude-range {
    fill: ${e.excludeBkgColor};
  }

  .section {
    stroke: none;
    opacity: 0.2;
  }

  .section0 {
    fill: ${e.sectionBkgColor};
  }

  .section2 {
    fill: ${e.sectionBkgColor2};
  }

  .section1,
  .section3 {
    fill: ${e.altSectionBkgColor};
    opacity: 0.2;
  }

  .sectionTitle0 {
    fill: ${e.titleColor};
  }

  .sectionTitle1 {
    fill: ${e.titleColor};
  }

  .sectionTitle2 {
    fill: ${e.titleColor};
  }

  .sectionTitle3 {
    fill: ${e.titleColor};
  }

  .sectionTitle {
    text-anchor: start;
    font-family: ${e.fontFamily};
  }


  /* Grid and axis */

  .grid .tick {
    stroke: ${e.gridColor};
    opacity: 0.8;
    shape-rendering: crispEdges;
  }

  .grid .tick text {
    font-family: ${e.fontFamily};
    fill: ${e.textColor};
  }

  .grid path {
    stroke-width: 0;
  }


  /* Today line */

  .today {
    fill: none;
    stroke: ${e.todayLineColor};
    stroke-width: 2px;
  }


  /* Task styling */

  /* Default task */

  .task {
    stroke-width: 2;
  }

  .taskText {
    text-anchor: middle;
    font-family: ${e.fontFamily};
  }

  .taskTextOutsideRight {
    fill: ${e.taskTextDarkColor};
    text-anchor: start;
    font-family: ${e.fontFamily};
  }

  .taskTextOutsideLeft {
    fill: ${e.taskTextDarkColor};
    text-anchor: end;
  }


  /* Special case clickable */

  .task.clickable {
    cursor: pointer;
  }

  .taskText.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideLeft.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideRight.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }


  /* Specific task settings for the sections*/

  .taskText0,
  .taskText1,
  .taskText2,
  .taskText3 {
    fill: ${e.taskTextColor};
  }

  .task0,
  .task1,
  .task2,
  .task3 {
    fill: ${e.taskBkgColor};
    stroke: ${e.taskBorderColor};
  }

  .taskTextOutside0,
  .taskTextOutside2
  {
    fill: ${e.taskTextOutsideColor};
  }

  .taskTextOutside1,
  .taskTextOutside3 {
    fill: ${e.taskTextOutsideColor};
  }


  /* Active task */

  .active0,
  .active1,
  .active2,
  .active3 {
    fill: ${e.activeTaskBkgColor};
    stroke: ${e.activeTaskBorderColor};
  }

  .activeText0,
  .activeText1,
  .activeText2,
  .activeText3 {
    fill: ${e.taskTextDarkColor} !important;
  }


  /* Completed task */

  .done0,
  .done1,
  .done2,
  .done3 {
    stroke: ${e.doneTaskBorderColor};
    fill: ${e.doneTaskBkgColor};
    stroke-width: 2;
  }

  .doneText0,
  .doneText1,
  .doneText2,
  .doneText3 {
    fill: ${e.taskTextDarkColor} !important;
  }


  /* Tasks on the critical line */

  .crit0,
  .crit1,
  .crit2,
  .crit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.critBkgColor};
    stroke-width: 2;
  }

  .activeCrit0,
  .activeCrit1,
  .activeCrit2,
  .activeCrit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.activeTaskBkgColor};
    stroke-width: 2;
  }

  .doneCrit0,
  .doneCrit1,
  .doneCrit2,
  .doneCrit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.doneTaskBkgColor};
    stroke-width: 2;
    cursor: pointer;
    shape-rendering: crispEdges;
  }

  .milestone {
    transform: rotate(45deg) scale(0.8,0.8);
  }

  .milestoneText {
    font-style: italic;
  }
  .doneCritText0,
  .doneCritText1,
  .doneCritText2,
  .doneCritText3 {
    fill: ${e.taskTextDarkColor} !important;
  }

  .vert {
    stroke: ${e.vertLineColor};
  }

  .vertText {
    font-size: 15px;
    text-anchor: middle;
    fill: ${e.vertLineColor} !important;
  }

  .activeCritText0,
  .activeCritText1,
  .activeCritText2,
  .activeCritText3 {
    fill: ${e.taskTextDarkColor} !important;
  }

  .titleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.titleColor||e.textColor};
    font-family: ${e.fontFamily};
  }
`,"getStyles"),fre=cre,hre={parser:Tee,db:ire,renderer:ure,styles:fre}});var Ixt={};pr(Ixt,{diagram:()=>xre});var dre,pre,mre,gre,vre,yre,xre,Rxt=B(()=>{R7();wc();Tr();nr();pp();dre={parse:x(async e=>{let t=await gs("info",e);J.debug(t)},"parse")},pre={version:G2.version+""},mre=x(()=>pre.version,"getVersion"),gre={getVersion:mre},vre=x((e,t,r)=>{J.debug(`rendering info diagram
`+e);let n=Li(t);Nn(n,100,400,!0),n.append("g").append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size",32).style("text-anchor","middle").text(`v${r}`)},"draw"),yre={draw:vre},xre={parser:dre,db:gre,renderer:yre}});var Fxt={};pr(Fxt,{diagram:()=>Nre});var Nxt,Wz,$D,Gz,bre,_re,wre,Tre,Ere,kre,Cre,Oxt,Sre,Dre,Are,Lre,Mre,Ire,Rre,Nre,Pxt=B(()=>{wc();im();On();Tr();nr();pp();hr();Nxt=lr.pie,Wz={sections:new Map,showData:!1,config:Nxt},$D=Wz.sections,Gz=Wz.showData,bre=structuredClone(Nxt),_re=x(()=>structuredClone(bre),"getConfig"),wre=x(()=>{$D=new Map,Gz=Wz.showData,wr()},"clear"),Tre=x(({label:e,value:t})=>{if(t<0)throw new Error(`"${e}" has invalid value: ${t}. Negative values are not allowed in pie charts. All slice values must be >= 0.`);$D.has(e)||($D.set(e,t),J.debug(`added new section: ${e}, with value: ${t}`))},"addSection"),Ere=x(()=>$D,"getSections"),kre=x(e=>{Gz=e},"setShowData"),Cre=x(()=>Gz,"getShowData"),Oxt={getConfig:_re,clear:wre,setDiagramTitle:Yr,getDiagramTitle:$r,setAccTitle:Mr,getAccTitle:Fr,setAccDescription:Pr,getAccDescription:Br,addSection:Tre,getSections:Ere,setShowData:kre,getShowData:Cre},Sre=x((e,t)=>{hl(e,t),t.setShowData(e.showData),e.sections.map(t.addSection)},"populateDb"),Dre={parse:x(async e=>{let t=await gs("pie",e);J.debug(t),Sre(t,Oxt)},"parse")},Are=x(e=>`
  .pieCircle{
    stroke: ${e.pieStrokeColor};
    stroke-width : ${e.pieStrokeWidth};
    opacity : ${e.pieOpacity};
  }
  .pieOuterCircle{
    stroke: ${e.pieOuterStrokeColor};
    stroke-width: ${e.pieOuterStrokeWidth};
    fill: none;
  }
  .pieTitleText {
    text-anchor: middle;
    font-size: ${e.pieTitleTextSize};
    fill: ${e.pieTitleTextColor};
    font-family: ${e.fontFamily};
  }
  .slice {
    font-family: ${e.fontFamily};
    fill: ${e.pieSectionTextColor};
    font-size:${e.pieSectionTextSize};
    // fill: white;
  }
  .legend text {
    fill: ${e.pieLegendTextColor};
    font-family: ${e.fontFamily};
    font-size: ${e.pieLegendTextSize};
  }
`,"getStyles"),Lre=Are,Mre=x(e=>{let t=[...e.values()].reduce((a,i)=>a+i,0),r=[...e.entries()].map(([a,i])=>({label:a,value:i})).filter(a=>a.value/t*100>=1).sort((a,i)=>i.value-a.value);return qM().value(a=>a.value)(r)},"createPieArcs"),Ire=x((e,t,r,n)=>{J.debug(`rendering pie chart
`+e);let a=n.db,i=bt(),o=Na(a.getConfig(),i.pie),s=40,l=18,u=4,f=450,h=f,d=Li(t),p=d.append("g");p.attr("transform","translate("+h/2+","+f/2+")");let{themeVariables:m}=i,[g]=Ac(m.pieOuterStrokeWidth);g??=2;let v=o.textPosition,y=Math.min(h,f)/2-s,b=bc().innerRadius(0).outerRadius(y),_=bc().innerRadius(y*v).outerRadius(y*v);p.append("circle").attr("cx",0).attr("cy",0).attr("r",y+g/2).attr("class","pieOuterCircle");let k=a.getSections(),w=Mre(k),T=[m.pie1,m.pie2,m.pie3,m.pie4,m.pie5,m.pie6,m.pie7,m.pie8,m.pie9,m.pie10,m.pie11,m.pie12],S=0;k.forEach(D=>{S+=D});let C=w.filter(D=>(D.data.value/S*100).toFixed(0)!=="0"),M=el(T);p.selectAll("mySlices").data(C).enter().append("path").attr("d",b).attr("fill",D=>M(D.data.label)).attr("class","pieCircle"),p.selectAll("mySlices").data(C).enter().append("text").text(D=>(D.data.value/S*100).toFixed(0)+"%").attr("transform",D=>"translate("+_.centroid(D)+")").style("text-anchor","middle").attr("class","slice"),p.append("text").text(a.getDiagramTitle()).attr("x",0).attr("y",-(f-50)/2).attr("class","pieTitleText");let N=[...k.entries()].map(([D,R])=>({label:D,value:R})),L=p.selectAll(".legend").data(N).enter().append("g").attr("class","legend").attr("transform",(D,R)=>{let I=l+u,O=I*N.length/2,F=12*l,P=R*I-O;return"translate("+F+","+P+")"});L.append("rect").attr("width",l).attr("height",l).style("fill",D=>M(D.label)).style("stroke",D=>M(D.label)),L.append("text").attr("x",l+u).attr("y",l-u).text(D=>a.getShowData()?`${D.label} [${D.value}]`:D.label);let E=Math.max(...L.selectAll("text").nodes().map(D=>D?.getBoundingClientRect().width??0)),A=h+s+l+u+E;d.attr("viewBox",`0 0 ${A} ${f}`),Nn(d,f,A,o.useMaxWidth)},"draw"),Rre={draw:Ire},Nre={parser:Dre,db:Oxt,renderer:Rre,styles:Lre}});var Jxt={};pr(Jxt,{diagram:()=>Ure});function Hz(e){return!/^#?([\dA-Fa-f]{6}|[\dA-Fa-f]{3})$/.test(e)}function Bxt(e){return!/^\d+$/.test(e)}function $xt(e){return!/^\d+px$/.test(e)}function pf(e){return sr(e.trim(),Pre)}function zxt(e){go.setData({quadrant1Text:pf(e.text)})}function qxt(e){go.setData({quadrant2Text:pf(e.text)})}function Uxt(e){go.setData({quadrant3Text:pf(e.text)})}function Wxt(e){go.setData({quadrant4Text:pf(e.text)})}function Gxt(e){go.setData({xAxisLeftText:pf(e.text)})}function Vxt(e){go.setData({xAxisRightText:pf(e.text)})}function Hxt(e){go.setData({yAxisTopText:pf(e.text)})}function Yxt(e){go.setData({yAxisBottomText:pf(e.text)})}function qD(e){let t={};for(let r of e){let[n,a]=r.trim().split(/\s*:\s*/);if(n==="radius"){if(Bxt(a))throw new zD(n,a,"number");t.radius=parseInt(a)}else if(n==="color"){if(Hz(a))throw new zD(n,a,"hex code");t.color=a}else if(n==="stroke-color"){if(Hz(a))throw new zD(n,a,"hex code");t.strokeColor=a}else if(n==="stroke-width"){if($xt(a))throw new zD(n,a,"number of pixels (eg. 10px)");t.strokeWidth=a}else throw new Error(`style named ${n} is not supported.`)}return t}function Xxt(e,t,r,n,a){let i=qD(a);go.addPoints([{x:r,y:n,text:pf(e.text),className:t,...i}])}function jxt(e,t){go.addClass(e,qD(t))}function Kxt(e){go.setConfig({chartWidth:e})}function Qxt(e){go.setConfig({chartHeight:e})}function Zxt(){let e=bt(),{themeVariables:t,quadrantChart:r}=e;return r&&go.setConfig(r),go.setThemeConfig({quadrant1Fill:t.quadrant1Fill,quadrant2Fill:t.quadrant2Fill,quadrant3Fill:t.quadrant3Fill,quadrant4Fill:t.quadrant4Fill,quadrant1TextFill:t.quadrant1TextFill,quadrant2TextFill:t.quadrant2TextFill,quadrant3TextFill:t.quadrant3TextFill,quadrant4TextFill:t.quadrant4TextFill,quadrantPointFill:t.quadrantPointFill,quadrantPointTextFill:t.quadrantPointTextFill,quadrantXAxisTextFill:t.quadrantXAxisTextFill,quadrantYAxisTextFill:t.quadrantYAxisTextFill,quadrantExternalBorderStrokeFill:t.quadrantExternalBorderStrokeFill,quadrantInternalBorderStrokeFill:t.quadrantInternalBorderStrokeFill,quadrantTitleFill:t.quadrantTitleFill}),go.setData({titleText:$r()}),go.build()}var Vz,Ore,vs,Fre,zD,Pre,go,Bre,$re,zre,qre,Ure,tbt=B(()=>{Tr();nr();hr();hr();Vz=function(){var e=x(function(ft,z,st,lt){for(st=st||{},lt=ft.length;lt--;st[ft[lt]]=z);return st},"o"),t=[1,3],r=[1,4],n=[1,5],a=[1,6],i=[1,7],o=[1,4,5,10,12,13,14,18,25,35,37,39,41,42,48,50,51,52,53,54,55,56,57,60,61,63,64,65,66,67],s=[1,4,5,10,12,13,14,18,25,28,35,37,39,41,42,48,50,51,52,53,54,55,56,57,60,61,63,64,65,66,67],l=[55,56,57],u=[2,36],f=[1,37],h=[1,36],d=[1,38],p=[1,35],m=[1,43],g=[1,41],v=[1,14],y=[1,23],b=[1,18],_=[1,19],k=[1,20],w=[1,21],T=[1,22],S=[1,24],C=[1,25],M=[1,26],N=[1,27],L=[1,28],E=[1,29],A=[1,32],D=[1,33],R=[1,34],I=[1,39],O=[1,40],F=[1,42],P=[1,44],q=[1,62],$=[1,61],W=[4,5,8,10,12,13,14,18,44,47,49,55,56,57,63,64,65,66,67],X=[1,65],tt=[1,66],Y=[1,67],ot=[1,68],Z=[1,69],ct=[1,70],rt=[1,71],et=[1,72],Q=[1,73],j=[1,74],it=[1,75],K=[1,76],dt=[4,5,6,7,8,9,10,11,12,13,14,15,18],nt=[1,90],_t=[1,91],V=[1,92],Ut=[1,99],pt=[1,93],Ft=[1,96],Yt=[1,94],Ht=[1,95],Lt=[1,97],Nt=[1,98],It=[1,102],kt=[10,55,56,57],Pt=[4,5,6,8,10,11,13,17,18,19,20,55,56,57],ht={trace:x(function(){},"trace"),yy:{},symbols_:{error:2,idStringToken:3,ALPHA:4,NUM:5,NODE_STRING:6,DOWN:7,MINUS:8,DEFAULT:9,COMMA:10,COLON:11,AMP:12,BRKT:13,MULT:14,UNICODE_TEXT:15,styleComponent:16,UNIT:17,SPACE:18,STYLE:19,PCT:20,idString:21,style:22,stylesOpt:23,classDefStatement:24,CLASSDEF:25,start:26,eol:27,QUADRANT:28,document:29,line:30,statement:31,axisDetails:32,quadrantDetails:33,points:34,title:35,title_value:36,acc_title:37,acc_title_value:38,acc_descr:39,acc_descr_value:40,acc_descr_multiline_value:41,section:42,text:43,point_start:44,point_x:45,point_y:46,class_name:47,"X-AXIS":48,"AXIS-TEXT-DELIMITER":49,"Y-AXIS":50,QUADRANT_1:51,QUADRANT_2:52,QUADRANT_3:53,QUADRANT_4:54,NEWLINE:55,SEMI:56,EOF:57,alphaNumToken:58,textNoTagsToken:59,STR:60,MD_STR:61,alphaNum:62,PUNCTUATION:63,PLUS:64,EQUALS:65,DOT:66,UNDERSCORE:67,$accept:0,$end:1},terminals_:{2:"error",4:"ALPHA",5:"NUM",6:"NODE_STRING",7:"DOWN",8:"MINUS",9:"DEFAULT",10:"COMMA",11:"COLON",12:"AMP",13:"BRKT",14:"MULT",15:"UNICODE_TEXT",17:"UNIT",18:"SPACE",19:"STYLE",20:"PCT",25:"CLASSDEF",28:"QUADRANT",35:"title",36:"title_value",37:"acc_title",38:"acc_title_value",39:"acc_descr",40:"acc_descr_value",41:"acc_descr_multiline_value",42:"section",44:"point_start",45:"point_x",46:"point_y",47:"class_name",48:"X-AXIS",49:"AXIS-TEXT-DELIMITER",50:"Y-AXIS",51:"QUADRANT_1",52:"QUADRANT_2",53:"QUADRANT_3",54:"QUADRANT_4",55:"NEWLINE",56:"SEMI",57:"EOF",60:"STR",61:"MD_STR",63:"PUNCTUATION",64:"PLUS",65:"EQUALS",66:"DOT",67:"UNDERSCORE"},productions_:[0,[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[21,1],[21,2],[22,1],[22,2],[23,1],[23,3],[24,5],[26,2],[26,2],[26,2],[29,0],[29,2],[30,2],[31,0],[31,1],[31,2],[31,1],[31,1],[31,1],[31,2],[31,2],[31,2],[31,1],[31,1],[34,4],[34,5],[34,5],[34,6],[32,4],[32,3],[32,2],[32,4],[32,3],[32,2],[33,2],[33,2],[33,2],[33,2],[27,1],[27,1],[27,1],[43,1],[43,2],[43,1],[43,1],[62,1],[62,2],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[59,1],[59,1],[59,1]],performAction:x(function(z,st,lt,wt,vt,gt,Mt){var St=gt.length-1;switch(vt){case 23:this.$=gt[St];break;case 24:this.$=gt[St-1]+""+gt[St];break;case 26:this.$=gt[St-1]+gt[St];break;case 27:this.$=[gt[St].trim()];break;case 28:gt[St-2].push(gt[St].trim()),this.$=gt[St-2];break;case 29:this.$=gt[St-4],wt.addClass(gt[St-2],gt[St]);break;case 37:this.$=[];break;case 42:this.$=gt[St].trim(),wt.setDiagramTitle(this.$);break;case 43:this.$=gt[St].trim(),wt.setAccTitle(this.$);break;case 44:case 45:this.$=gt[St].trim(),wt.setAccDescription(this.$);break;case 46:wt.addSection(gt[St].substr(8)),this.$=gt[St].substr(8);break;case 47:wt.addPoint(gt[St-3],"",gt[St-1],gt[St],[]);break;case 48:wt.addPoint(gt[St-4],gt[St-3],gt[St-1],gt[St],[]);break;case 49:wt.addPoint(gt[St-4],"",gt[St-2],gt[St-1],gt[St]);break;case 50:wt.addPoint(gt[St-5],gt[St-4],gt[St-2],gt[St-1],gt[St]);break;case 51:wt.setXAxisLeftText(gt[St-2]),wt.setXAxisRightText(gt[St]);break;case 52:gt[St-1].text+=" \u27F6 ",wt.setXAxisLeftText(gt[St-1]);break;case 53:wt.setXAxisLeftText(gt[St]);break;case 54:wt.setYAxisBottomText(gt[St-2]),wt.setYAxisTopText(gt[St]);break;case 55:gt[St-1].text+=" \u27F6 ",wt.setYAxisBottomText(gt[St-1]);break;case 56:wt.setYAxisBottomText(gt[St]);break;case 57:wt.setQuadrant1Text(gt[St]);break;case 58:wt.setQuadrant2Text(gt[St]);break;case 59:wt.setQuadrant3Text(gt[St]);break;case 60:wt.setQuadrant4Text(gt[St]);break;case 64:this.$={text:gt[St],type:"text"};break;case 65:this.$={text:gt[St-1].text+""+gt[St],type:gt[St-1].type};break;case 66:this.$={text:gt[St],type:"text"};break;case 67:this.$={text:gt[St],type:"markdown"};break;case 68:this.$=gt[St];break;case 69:this.$=gt[St-1]+""+gt[St];break}},"anonymous"),table:[{18:t,26:1,27:2,28:r,55:n,56:a,57:i},{1:[3]},{18:t,26:8,27:2,28:r,55:n,56:a,57:i},{18:t,26:9,27:2,28:r,55:n,56:a,57:i},e(o,[2,33],{29:10}),e(s,[2,61]),e(s,[2,62]),e(s,[2,63]),{1:[2,30]},{1:[2,31]},e(l,u,{30:11,31:12,24:13,32:15,33:16,34:17,43:30,58:31,1:[2,32],4:f,5:h,10:d,12:p,13:m,14:g,18:v,25:y,35:b,37:_,39:k,41:w,42:T,48:S,50:C,51:M,52:N,53:L,54:E,60:A,61:D,63:R,64:I,65:O,66:F,67:P}),e(o,[2,34]),{27:45,55:n,56:a,57:i},e(l,[2,37]),e(l,u,{24:13,32:15,33:16,34:17,43:30,58:31,31:46,4:f,5:h,10:d,12:p,13:m,14:g,18:v,25:y,35:b,37:_,39:k,41:w,42:T,48:S,50:C,51:M,52:N,53:L,54:E,60:A,61:D,63:R,64:I,65:O,66:F,67:P}),e(l,[2,39]),e(l,[2,40]),e(l,[2,41]),{36:[1,47]},{38:[1,48]},{40:[1,49]},e(l,[2,45]),e(l,[2,46]),{18:[1,50]},{4:f,5:h,10:d,12:p,13:m,14:g,43:51,58:31,60:A,61:D,63:R,64:I,65:O,66:F,67:P},{4:f,5:h,10:d,12:p,13:m,14:g,43:52,58:31,60:A,61:D,63:R,64:I,65:O,66:F,67:P},{4:f,5:h,10:d,12:p,13:m,14:g,43:53,58:31,60:A,61:D,63:R,64:I,65:O,66:F,67:P},{4:f,5:h,10:d,12:p,13:m,14:g,43:54,58:31,60:A,61:D,63:R,64:I,65:O,66:F,67:P},{4:f,5:h,10:d,12:p,13:m,14:g,43:55,58:31,60:A,61:D,63:R,64:I,65:O,66:F,67:P},{4:f,5:h,10:d,12:p,13:m,14:g,43:56,58:31,60:A,61:D,63:R,64:I,65:O,66:F,67:P},{4:f,5:h,8:q,10:d,12:p,13:m,14:g,18:$,44:[1,57],47:[1,58],58:60,59:59,63:R,64:I,65:O,66:F,67:P},e(W,[2,64]),e(W,[2,66]),e(W,[2,67]),e(W,[2,70]),e(W,[2,71]),e(W,[2,72]),e(W,[2,73]),e(W,[2,74]),e(W,[2,75]),e(W,[2,76]),e(W,[2,77]),e(W,[2,78]),e(W,[2,79]),e(W,[2,80]),e(o,[2,35]),e(l,[2,38]),e(l,[2,42]),e(l,[2,43]),e(l,[2,44]),{3:64,4:X,5:tt,6:Y,7:ot,8:Z,9:ct,10:rt,11:et,12:Q,13:j,14:it,15:K,21:63},e(l,[2,53],{59:59,58:60,4:f,5:h,8:q,10:d,12:p,13:m,14:g,18:$,49:[1,77],63:R,64:I,65:O,66:F,67:P}),e(l,[2,56],{59:59,58:60,4:f,5:h,8:q,10:d,12:p,13:m,14:g,18:$,49:[1,78],63:R,64:I,65:O,66:F,67:P}),e(l,[2,57],{59:59,58:60,4:f,5:h,8:q,10:d,12:p,13:m,14:g,18:$,63:R,64:I,65:O,66:F,67:P}),e(l,[2,58],{59:59,58:60,4:f,5:h,8:q,10:d,12:p,13:m,14:g,18:$,63:R,64:I,65:O,66:F,67:P}),e(l,[2,59],{59:59,58:60,4:f,5:h,8:q,10:d,12:p,13:m,14:g,18:$,63:R,64:I,65:O,66:F,67:P}),e(l,[2,60],{59:59,58:60,4:f,5:h,8:q,10:d,12:p,13:m,14:g,18:$,63:R,64:I,65:O,66:F,67:P}),{45:[1,79]},{44:[1,80]},e(W,[2,65]),e(W,[2,81]),e(W,[2,82]),e(W,[2,83]),{3:82,4:X,5:tt,6:Y,7:ot,8:Z,9:ct,10:rt,11:et,12:Q,13:j,14:it,15:K,18:[1,81]},e(dt,[2,23]),e(dt,[2,1]),e(dt,[2,2]),e(dt,[2,3]),e(dt,[2,4]),e(dt,[2,5]),e(dt,[2,6]),e(dt,[2,7]),e(dt,[2,8]),e(dt,[2,9]),e(dt,[2,10]),e(dt,[2,11]),e(dt,[2,12]),e(l,[2,52],{58:31,43:83,4:f,5:h,10:d,12:p,13:m,14:g,60:A,61:D,63:R,64:I,65:O,66:F,67:P}),e(l,[2,55],{58:31,43:84,4:f,5:h,10:d,12:p,13:m,14:g,60:A,61:D,63:R,64:I,65:O,66:F,67:P}),{46:[1,85]},{45:[1,86]},{4:nt,5:_t,6:V,8:Ut,11:pt,13:Ft,16:89,17:Yt,18:Ht,19:Lt,20:Nt,22:88,23:87},e(dt,[2,24]),e(l,[2,51],{59:59,58:60,4:f,5:h,8:q,10:d,12:p,13:m,14:g,18:$,63:R,64:I,65:O,66:F,67:P}),e(l,[2,54],{59:59,58:60,4:f,5:h,8:q,10:d,12:p,13:m,14:g,18:$,63:R,64:I,65:O,66:F,67:P}),e(l,[2,47],{22:88,16:89,23:100,4:nt,5:_t,6:V,8:Ut,11:pt,13:Ft,17:Yt,18:Ht,19:Lt,20:Nt}),{46:[1,101]},e(l,[2,29],{10:It}),e(kt,[2,27],{16:103,4:nt,5:_t,6:V,8:Ut,11:pt,13:Ft,17:Yt,18:Ht,19:Lt,20:Nt}),e(Pt,[2,25]),e(Pt,[2,13]),e(Pt,[2,14]),e(Pt,[2,15]),e(Pt,[2,16]),e(Pt,[2,17]),e(Pt,[2,18]),e(Pt,[2,19]),e(Pt,[2,20]),e(Pt,[2,21]),e(Pt,[2,22]),e(l,[2,49],{10:It}),e(l,[2,48],{22:88,16:89,23:104,4:nt,5:_t,6:V,8:Ut,11:pt,13:Ft,17:Yt,18:Ht,19:Lt,20:Nt}),{4:nt,5:_t,6:V,8:Ut,11:pt,13:Ft,16:89,17:Yt,18:Ht,19:Lt,20:Nt,22:105},e(Pt,[2,26]),e(l,[2,50],{10:It}),e(kt,[2,28],{16:103,4:nt,5:_t,6:V,8:Ut,11:pt,13:Ft,17:Yt,18:Ht,19:Lt,20:Nt})],defaultActions:{8:[2,30],9:[2,31]},parseError:x(function(z,st){if(st.recoverable)this.trace(z);else{var lt=new Error(z);throw lt.hash=st,lt}},"parseError"),parse:x(function(z){var st=this,lt=[0],wt=[],vt=[null],gt=[],Mt=this.table,St="",Bt=0,jt=0,ue=0,Gt=2,$t=1,Xt=gt.slice.call(arguments,1),Wt=Object.create(this.lexer),ne={yy:{}};for(var Fe in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Fe)&&(ne.yy[Fe]=this.yy[Fe]);Wt.setInput(z,ne.yy),ne.yy.lexer=Wt,ne.yy.parser=this,typeof Wt.yylloc>"u"&&(Wt.yylloc={});var de=Wt.yylloc;gt.push(de);var we=Wt.options&&Wt.options.ranges;typeof ne.yy.parseError=="function"?this.parseError=ne.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function oe(ce){lt.length=lt.length-2*ce,vt.length=vt.length-ce,gt.length=gt.length-ce}x(oe,"popStack");function ie(){var ce;return ce=wt.pop()||Wt.lex()||$t,typeof ce!="number"&&(ce instanceof Array&&(wt=ce,ce=wt.pop()),ce=st.symbols_[ce]||ce),ce}x(ie,"lex");for(var fe,pe,me,se,Zr,Se,Jr={},Ur,rr,Je,_r;;){if(me=lt[lt.length-1],this.defaultActions[me]?se=this.defaultActions[me]:((fe===null||typeof fe>"u")&&(fe=ie()),se=Mt[me]&&Mt[me][fe]),typeof se>"u"||!se.length||!se[0]){var zn="";_r=[];for(Ur in Mt[me])this.terminals_[Ur]&&Ur>Gt&&_r.push("'"+this.terminals_[Ur]+"'");Wt.showPosition?zn="Parse error on line "+(Bt+1)+`:
`+Wt.showPosition()+`
Expecting `+_r.join(", ")+", got '"+(this.terminals_[fe]||fe)+"'":zn="Parse error on line "+(Bt+1)+": Unexpected "+(fe==$t?"end of input":"'"+(this.terminals_[fe]||fe)+"'"),this.parseError(zn,{text:Wt.match,token:this.terminals_[fe]||fe,line:Wt.yylineno,loc:de,expected:_r})}if(se[0]instanceof Array&&se.length>1)throw new Error("Parse Error: multiple actions possible at state: "+me+", token: "+fe);switch(se[0]){case 1:lt.push(fe),vt.push(Wt.yytext),gt.push(Wt.yylloc),lt.push(se[1]),fe=null,pe?(fe=pe,pe=null):(jt=Wt.yyleng,St=Wt.yytext,Bt=Wt.yylineno,de=Wt.yylloc,ue>0&&ue--);break;case 2:if(rr=this.productions_[se[1]][1],Jr.$=vt[vt.length-rr],Jr._$={first_line:gt[gt.length-(rr||1)].first_line,last_line:gt[gt.length-1].last_line,first_column:gt[gt.length-(rr||1)].first_column,last_column:gt[gt.length-1].last_column},we&&(Jr._$.range=[gt[gt.length-(rr||1)].range[0],gt[gt.length-1].range[1]]),Se=this.performAction.apply(Jr,[St,jt,Bt,ne.yy,se[1],vt,gt].concat(Xt)),typeof Se<"u")return Se;rr&&(lt=lt.slice(0,-1*rr*2),vt=vt.slice(0,-1*rr),gt=gt.slice(0,-1*rr)),lt.push(this.productions_[se[1]][0]),vt.push(Jr.$),gt.push(Jr._$),Je=Mt[lt[lt.length-2]][lt[lt.length-1]],lt.push(Je);break;case 3:return!0}}return!0},"parse")},yt=function(){var ft={EOF:1,parseError:x(function(st,lt){if(this.yy.parser)this.yy.parser.parseError(st,lt);else throw new Error(st)},"parseError"),setInput:x(function(z,st){return this.yy=st||this.yy||{},this._input=z,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:x(function(){var z=this._input[0];this.yytext+=z,this.yyleng++,this.offset++,this.match+=z,this.matched+=z;var st=z.match(/(?:\r\n?|\n).*/g);return st?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),z},"input"),unput:x(function(z){var st=z.length,lt=z.split(/(?:\r\n?|\n)/g);this._input=z+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-st),this.offset-=st;var wt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),lt.length-1&&(this.yylineno-=lt.length-1);var vt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:lt?(lt.length===wt.length?this.yylloc.first_column:0)+wt[wt.length-lt.length].length-lt[0].length:this.yylloc.first_column-st},this.options.ranges&&(this.yylloc.range=[vt[0],vt[0]+this.yyleng-st]),this.yyleng=this.yytext.length,this},"unput"),more:x(function(){return this._more=!0,this},"more"),reject:x(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:x(function(z){this.unput(this.match.slice(z))},"less"),pastInput:x(function(){var z=this.matched.substr(0,this.matched.length-this.match.length);return(z.length>20?"...":"")+z.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:x(function(){var z=this.match;return z.length<20&&(z+=this._input.substr(0,20-z.length)),(z.substr(0,20)+(z.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:x(function(){var z=this.pastInput(),st=new Array(z.length+1).join("-");return z+this.upcomingInput()+`
`+st+"^"},"showPosition"),test_match:x(function(z,st){var lt,wt,vt;if(this.options.backtrack_lexer&&(vt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(vt.yylloc.range=this.yylloc.range.slice(0))),wt=z[0].match(/(?:\r\n?|\n).*/g),wt&&(this.yylineno+=wt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:wt?wt[wt.length-1].length-wt[wt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+z[0].length},this.yytext+=z[0],this.match+=z[0],this.matches=z,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(z[0].length),this.matched+=z[0],lt=this.performAction.call(this,this.yy,this,st,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),lt)return lt;if(this._backtrack){for(var gt in vt)this[gt]=vt[gt];return!1}return!1},"test_match"),next:x(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var z,st,lt,wt;this._more||(this.yytext="",this.match="");for(var vt=this._currentRules(),gt=0;gt<vt.length;gt++)if(lt=this._input.match(this.rules[vt[gt]]),lt&&(!st||lt[0].length>st[0].length)){if(st=lt,wt=gt,this.options.backtrack_lexer){if(z=this.test_match(lt,vt[gt]),z!==!1)return z;if(this._backtrack){st=!1;continue}else return!1}else if(!this.options.flex)break}return st?(z=this.test_match(st,vt[wt]),z!==!1?z:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:x(function(){var st=this.next();return st||this.lex()},"lex"),begin:x(function(st){this.conditionStack.push(st)},"begin"),popState:x(function(){var st=this.conditionStack.length-1;return st>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:x(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:x(function(st){return st=this.conditionStack.length-1-Math.abs(st||0),st>=0?this.conditionStack[st]:"INITIAL"},"topState"),pushState:x(function(st){this.begin(st)},"pushState"),stateStackSize:x(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:x(function(st,lt,wt,vt){var gt=vt;switch(wt){case 0:break;case 1:break;case 2:return 55;case 3:break;case 4:return this.begin("title"),35;break;case 5:return this.popState(),"title_value";break;case 6:return this.begin("acc_title"),37;break;case 7:return this.popState(),"acc_title_value";break;case 8:return this.begin("acc_descr"),39;break;case 9:return this.popState(),"acc_descr_value";break;case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 48;case 14:return 50;case 15:return 49;case 16:return 51;case 17:return 52;case 18:return 53;case 19:return 54;case 20:return 25;case 21:this.begin("md_string");break;case 22:return"MD_STR";case 23:this.popState();break;case 24:this.begin("string");break;case 25:this.popState();break;case 26:return"STR";case 27:this.begin("class_name");break;case 28:return this.popState(),47;break;case 29:return this.begin("point_start"),44;break;case 30:return this.begin("point_x"),45;break;case 31:this.popState();break;case 32:this.popState(),this.begin("point_y");break;case 33:return this.popState(),46;break;case 34:return 28;case 35:return 4;case 36:return 11;case 37:return 64;case 38:return 10;case 39:return 65;case 40:return 65;case 41:return 14;case 42:return 13;case 43:return 67;case 44:return 66;case 45:return 12;case 46:return 8;case 47:return 5;case 48:return 18;case 49:return 56;case 50:return 63;case 51:return 57}},"anonymous"),rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?: *x-axis *)/i,/^(?: *y-axis *)/i,/^(?: *--+> *)/i,/^(?: *quadrant-1 *)/i,/^(?: *quadrant-2 *)/i,/^(?: *quadrant-3 *)/i,/^(?: *quadrant-4 *)/i,/^(?:classDef\b)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?::::)/i,/^(?:^\w+)/i,/^(?:\s*:\s*\[\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?:\s*\] *)/i,/^(?:\s*,\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?: *quadrantChart *)/i,/^(?:[A-Za-z]+)/i,/^(?::)/i,/^(?:\+)/i,/^(?:,)/i,/^(?:=)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:#)/i,/^(?:[\_])/i,/^(?:\.)/i,/^(?:&)/i,/^(?:-)/i,/^(?:[0-9]+)/i,/^(?:\s)/i,/^(?:;)/i,/^(?:[!"#$%&'*+,-.`?\\_/])/i,/^(?:$)/i],conditions:{class_name:{rules:[28],inclusive:!1},point_y:{rules:[33],inclusive:!1},point_x:{rules:[32],inclusive:!1},point_start:{rules:[30,31],inclusive:!1},acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},title:{rules:[5],inclusive:!1},md_string:{rules:[22,23],inclusive:!1},string:{rules:[25,26],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,6,8,10,13,14,15,16,17,18,19,20,21,24,27,29,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],inclusive:!0}}};return ft}();ht.lexer=yt;function H(){this.yy={}}return x(H,"Parser"),H.prototype=ht,ht.Parser=H,new H}();Vz.parser=Vz;Ore=Vz,vs=Hp(),Fre=class{constructor(){this.classes=new Map,this.config=this.getDefaultConfig(),this.themeConfig=this.getDefaultThemeConfig(),this.data=this.getDefaultData()}static{x(this,"QuadrantBuilder")}getDefaultData(){return{titleText:"",quadrant1Text:"",quadrant2Text:"",quadrant3Text:"",quadrant4Text:"",xAxisLeftText:"",xAxisRightText:"",yAxisBottomText:"",yAxisTopText:"",points:[]}}getDefaultConfig(){return{showXAxis:!0,showYAxis:!0,showTitle:!0,chartHeight:lr.quadrantChart?.chartWidth||500,chartWidth:lr.quadrantChart?.chartHeight||500,titlePadding:lr.quadrantChart?.titlePadding||10,titleFontSize:lr.quadrantChart?.titleFontSize||20,quadrantPadding:lr.quadrantChart?.quadrantPadding||5,xAxisLabelPadding:lr.quadrantChart?.xAxisLabelPadding||5,yAxisLabelPadding:lr.quadrantChart?.yAxisLabelPadding||5,xAxisLabelFontSize:lr.quadrantChart?.xAxisLabelFontSize||16,yAxisLabelFontSize:lr.quadrantChart?.yAxisLabelFontSize||16,quadrantLabelFontSize:lr.quadrantChart?.quadrantLabelFontSize||16,quadrantTextTopPadding:lr.quadrantChart?.quadrantTextTopPadding||5,pointTextPadding:lr.quadrantChart?.pointTextPadding||5,pointLabelFontSize:lr.quadrantChart?.pointLabelFontSize||12,pointRadius:lr.quadrantChart?.pointRadius||5,xAxisPosition:lr.quadrantChart?.xAxisPosition||"top",yAxisPosition:lr.quadrantChart?.yAxisPosition||"left",quadrantInternalBorderStrokeWidth:lr.quadrantChart?.quadrantInternalBorderStrokeWidth||1,quadrantExternalBorderStrokeWidth:lr.quadrantChart?.quadrantExternalBorderStrokeWidth||2}}getDefaultThemeConfig(){return{quadrant1Fill:vs.quadrant1Fill,quadrant2Fill:vs.quadrant2Fill,quadrant3Fill:vs.quadrant3Fill,quadrant4Fill:vs.quadrant4Fill,quadrant1TextFill:vs.quadrant1TextFill,quadrant2TextFill:vs.quadrant2TextFill,quadrant3TextFill:vs.quadrant3TextFill,quadrant4TextFill:vs.quadrant4TextFill,quadrantPointFill:vs.quadrantPointFill,quadrantPointTextFill:vs.quadrantPointTextFill,quadrantXAxisTextFill:vs.quadrantXAxisTextFill,quadrantYAxisTextFill:vs.quadrantYAxisTextFill,quadrantTitleFill:vs.quadrantTitleFill,quadrantInternalBorderStrokeFill:vs.quadrantInternalBorderStrokeFill,quadrantExternalBorderStrokeFill:vs.quadrantExternalBorderStrokeFill}}clear(){this.config=this.getDefaultConfig(),this.themeConfig=this.getDefaultThemeConfig(),this.data=this.getDefaultData(),this.classes=new Map,J.info("clear called")}setData(e){this.data={...this.data,...e}}addPoints(e){this.data.points=[...e,...this.data.points]}addClass(e,t){this.classes.set(e,t)}setConfig(e){J.trace("setConfig called with: ",e),this.config={...this.config,...e}}setThemeConfig(e){J.trace("setThemeConfig called with: ",e),this.themeConfig={...this.themeConfig,...e}}calculateSpace(e,t,r,n){let a=this.config.xAxisLabelPadding*2+this.config.xAxisLabelFontSize,i={top:e==="top"&&t?a:0,bottom:e==="bottom"&&t?a:0},o=this.config.yAxisLabelPadding*2+this.config.yAxisLabelFontSize,s={left:this.config.yAxisPosition==="left"&&r?o:0,right:this.config.yAxisPosition==="right"&&r?o:0},l=this.config.titleFontSize+this.config.titlePadding*2,u={top:n?l:0},f=this.config.quadrantPadding+s.left,h=this.config.quadrantPadding+i.top+u.top,d=this.config.chartWidth-this.config.quadrantPadding*2-s.left-s.right,p=this.config.chartHeight-this.config.quadrantPadding*2-i.top-i.bottom-u.top,m=d/2,g=p/2;return{xAxisSpace:i,yAxisSpace:s,titleSpace:u,quadrantSpace:{quadrantLeft:f,quadrantTop:h,quadrantWidth:d,quadrantHalfWidth:m,quadrantHeight:p,quadrantHalfHeight:g}}}getAxisLabels(e,t,r,n){let{quadrantSpace:a,titleSpace:i}=n,{quadrantHalfHeight:o,quadrantHeight:s,quadrantLeft:l,quadrantHalfWidth:u,quadrantTop:f,quadrantWidth:h}=a,d=!!this.data.xAxisRightText,p=!!this.data.yAxisTopText,m=[];return this.data.xAxisLeftText&&t&&m.push({text:this.data.xAxisLeftText,fill:this.themeConfig.quadrantXAxisTextFill,x:l+(d?u/2:0),y:e==="top"?this.config.xAxisLabelPadding+i.top:this.config.xAxisLabelPadding+f+s+this.config.quadrantPadding,fontSize:this.config.xAxisLabelFontSize,verticalPos:d?"center":"left",horizontalPos:"top",rotation:0}),this.data.xAxisRightText&&t&&m.push({text:this.data.xAxisRightText,fill:this.themeConfig.quadrantXAxisTextFill,x:l+u+(d?u/2:0),y:e==="top"?this.config.xAxisLabelPadding+i.top:this.config.xAxisLabelPadding+f+s+this.config.quadrantPadding,fontSize:this.config.xAxisLabelFontSize,verticalPos:d?"center":"left",horizontalPos:"top",rotation:0}),this.data.yAxisBottomText&&r&&m.push({text:this.data.yAxisBottomText,fill:this.themeConfig.quadrantYAxisTextFill,x:this.config.yAxisPosition==="left"?this.config.yAxisLabelPadding:this.config.yAxisLabelPadding+l+h+this.config.quadrantPadding,y:f+s-(p?o/2:0),fontSize:this.config.yAxisLabelFontSize,verticalPos:p?"center":"left",horizontalPos:"top",rotation:-90}),this.data.yAxisTopText&&r&&m.push({text:this.data.yAxisTopText,fill:this.themeConfig.quadrantYAxisTextFill,x:this.config.yAxisPosition==="left"?this.config.yAxisLabelPadding:this.config.yAxisLabelPadding+l+h+this.config.quadrantPadding,y:f+o-(p?o/2:0),fontSize:this.config.yAxisLabelFontSize,verticalPos:p?"center":"left",horizontalPos:"top",rotation:-90}),m}getQuadrants(e){let{quadrantSpace:t}=e,{quadrantHalfHeight:r,quadrantLeft:n,quadrantHalfWidth:a,quadrantTop:i}=t,o=[{text:{text:this.data.quadrant1Text,fill:this.themeConfig.quadrant1TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:n+a,y:i,width:a,height:r,fill:this.themeConfig.quadrant1Fill},{text:{text:this.data.quadrant2Text,fill:this.themeConfig.quadrant2TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:n,y:i,width:a,height:r,fill:this.themeConfig.quadrant2Fill},{text:{text:this.data.quadrant3Text,fill:this.themeConfig.quadrant3TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:n,y:i+r,width:a,height:r,fill:this.themeConfig.quadrant3Fill},{text:{text:this.data.quadrant4Text,fill:this.themeConfig.quadrant4TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:n+a,y:i+r,width:a,height:r,fill:this.themeConfig.quadrant4Fill}];for(let s of o)s.text.x=s.x+s.width/2,this.data.points.length===0?(s.text.y=s.y+s.height/2,s.text.horizontalPos="middle"):(s.text.y=s.y+this.config.quadrantTextTopPadding,s.text.horizontalPos="top");return o}getQuadrantPoints(e){let{quadrantSpace:t}=e,{quadrantHeight:r,quadrantLeft:n,quadrantTop:a,quadrantWidth:i}=t,o=wu().domain([0,1]).range([n,i+n]),s=wu().domain([0,1]).range([r+a,a]);return this.data.points.map(u=>{let f=this.classes.get(u.className);return f&&(u={...f,...u}),{x:o(u.x),y:s(u.y),fill:u.color??this.themeConfig.quadrantPointFill,radius:u.radius??this.config.pointRadius,text:{text:u.text,fill:this.themeConfig.quadrantPointTextFill,x:o(u.x),y:s(u.y)+this.config.pointTextPadding,verticalPos:"center",horizontalPos:"top",fontSize:this.config.pointLabelFontSize,rotation:0},strokeColor:u.strokeColor??this.themeConfig.quadrantPointFill,strokeWidth:u.strokeWidth??"0px"}})}getBorders(e){let t=this.config.quadrantExternalBorderStrokeWidth/2,{quadrantSpace:r}=e,{quadrantHalfHeight:n,quadrantHeight:a,quadrantLeft:i,quadrantHalfWidth:o,quadrantTop:s,quadrantWidth:l}=r;return[{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:i-t,y1:s,x2:i+l+t,y2:s},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:i+l,y1:s+t,x2:i+l,y2:s+a-t},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:i-t,y1:s+a,x2:i+l+t,y2:s+a},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:i,y1:s+t,x2:i,y2:s+a-t},{strokeFill:this.themeConfig.quadrantInternalBorderStrokeFill,strokeWidth:this.config.quadrantInternalBorderStrokeWidth,x1:i+o,y1:s+t,x2:i+o,y2:s+a-t},{strokeFill:this.themeConfig.quadrantInternalBorderStrokeFill,strokeWidth:this.config.quadrantInternalBorderStrokeWidth,x1:i+t,y1:s+n,x2:i+l-t,y2:s+n}]}getTitle(e){if(e)return{text:this.data.titleText,fill:this.themeConfig.quadrantTitleFill,fontSize:this.config.titleFontSize,horizontalPos:"top",verticalPos:"center",rotation:0,y:this.config.titlePadding,x:this.config.chartWidth/2}}build(){let e=this.config.showXAxis&&!!(this.data.xAxisLeftText||this.data.xAxisRightText),t=this.config.showYAxis&&!!(this.data.yAxisTopText||this.data.yAxisBottomText),r=this.config.showTitle&&!!this.data.titleText,n=this.data.points.length>0?"bottom":this.config.xAxisPosition,a=this.calculateSpace(n,e,t,r);return{points:this.getQuadrantPoints(a),quadrants:this.getQuadrants(a),axisLabels:this.getAxisLabels(n,e,t,a),borderLines:this.getBorders(a),title:this.getTitle(r)}}},zD=class extends Error{static{x(this,"InvalidStyleError")}constructor(e,t,r){super(`value for ${e} ${t} is invalid, please use a valid ${r}`),this.name="InvalidStyleError"}};x(Hz,"validateHexCode");x(Bxt,"validateNumber");x($xt,"validateSizeInPixels");Pre=bt();x(pf,"textSanitizer");go=new Fre;x(zxt,"setQuadrant1Text");x(qxt,"setQuadrant2Text");x(Uxt,"setQuadrant3Text");x(Wxt,"setQuadrant4Text");x(Gxt,"setXAxisLeftText");x(Vxt,"setXAxisRightText");x(Hxt,"setYAxisTopText");x(Yxt,"setYAxisBottomText");x(qD,"parseStyles");x(Xxt,"addPoint");x(jxt,"addClass");x(Kxt,"setWidth");x(Qxt,"setHeight");x(Zxt,"getQuadrantData");Bre=x(function(){go.clear(),wr()},"clear"),$re={setWidth:Kxt,setHeight:Qxt,setQuadrant1Text:zxt,setQuadrant2Text:qxt,setQuadrant3Text:Uxt,setQuadrant4Text:Wxt,setXAxisLeftText:Gxt,setXAxisRightText:Vxt,setYAxisTopText:Hxt,setYAxisBottomText:Yxt,parseStyles:qD,addPoint:Xxt,addClass:jxt,getQuadrantData:Zxt,clear:Bre,setAccTitle:Mr,getAccTitle:Fr,setDiagramTitle:Yr,getDiagramTitle:$r,getAccDescription:Br,setAccDescription:Pr},zre=x((e,t,r,n)=>{function a(C){return C==="top"?"hanging":"middle"}x(a,"getDominantBaseLine");function i(C){return C==="left"?"start":"middle"}x(i,"getTextAnchor");function o(C){return`translate(${C.x}, ${C.y}) rotate(${C.rotation||0})`}x(o,"getTransformation");let s=bt();J.debug(`Rendering quadrant chart
`+e);let l=s.securityLevel,u;l==="sandbox"&&(u=Vt("#i"+t));let h=(l==="sandbox"?Vt(u.nodes()[0].contentDocument.body):Vt("body")).select(`[id="${t}"]`),d=h.append("g").attr("class","main"),p=s.quadrantChart?.chartWidth??500,m=s.quadrantChart?.chartHeight??500;Nn(h,m,p,s.quadrantChart?.useMaxWidth??!0),h.attr("viewBox","0 0 "+p+" "+m),n.db.setHeight(m),n.db.setWidth(p);let g=n.db.getQuadrantData(),v=d.append("g").attr("class","quadrants"),y=d.append("g").attr("class","border"),b=d.append("g").attr("class","data-points"),_=d.append("g").attr("class","labels"),k=d.append("g").attr("class","title");g.title&&k.append("text").attr("x",0).attr("y",0).attr("fill",g.title.fill).attr("font-size",g.title.fontSize).attr("dominant-baseline",a(g.title.horizontalPos)).attr("text-anchor",i(g.title.verticalPos)).attr("transform",o(g.title)).text(g.title.text),g.borderLines&&y.selectAll("line").data(g.borderLines).enter().append("line").attr("x1",C=>C.x1).attr("y1",C=>C.y1).attr("x2",C=>C.x2).attr("y2",C=>C.y2).style("stroke",C=>C.strokeFill).style("stroke-width",C=>C.strokeWidth);let w=v.selectAll("g.quadrant").data(g.quadrants).enter().append("g").attr("class","quadrant");w.append("rect").attr("x",C=>C.x).attr("y",C=>C.y).attr("width",C=>C.width).attr("height",C=>C.height).attr("fill",C=>C.fill),w.append("text").attr("x",0).attr("y",0).attr("fill",C=>C.text.fill).attr("font-size",C=>C.text.fontSize).attr("dominant-baseline",C=>a(C.text.horizontalPos)).attr("text-anchor",C=>i(C.text.verticalPos)).attr("transform",C=>o(C.text)).text(C=>C.text.text),_.selectAll("g.label").data(g.axisLabels).enter().append("g").attr("class","label").append("text").attr("x",0).attr("y",0).text(C=>C.text).attr("fill",C=>C.fill).attr("font-size",C=>C.fontSize).attr("dominant-baseline",C=>a(C.horizontalPos)).attr("text-anchor",C=>i(C.verticalPos)).attr("transform",C=>o(C));let S=b.selectAll("g.data-point").data(g.points).enter().append("g").attr("class","data-point");S.append("circle").attr("cx",C=>C.x).attr("cy",C=>C.y).attr("r",C=>C.radius).attr("fill",C=>C.fill).attr("stroke",C=>C.strokeColor).attr("stroke-width",C=>C.strokeWidth),S.append("text").attr("x",0).attr("y",0).text(C=>C.text.text).attr("fill",C=>C.text.fill).attr("font-size",C=>C.text.fontSize).attr("dominant-baseline",C=>a(C.text.horizontalPos)).attr("text-anchor",C=>i(C.text.verticalPos)).attr("transform",C=>o(C.text))},"draw"),qre={draw:zre},Ure={parser:Ore,db:$re,renderer:qre,styles:x(()=>"","styles")}});var _bt={};pr(_bt,{diagram:()=>rne});function Xz(e){return e.type==="bar"}function Qz(e){return e.type==="band"}function jy(e){return e.type==="linear"}function jz(e,t,r,n){let a=new nbt(n);return Qz(e)?new Gre(t,r,e.categories,e.title,a):new Vre(t,r,[e.min,e.max],e.title,a)}function ibt(e,t,r,n){let a=new nbt(n);return new Hre(a,e,t,r)}function obt(e,t,r){return new jre(e,t,r)}function Jz(){let e=Hp(),t=ur();return Na(e.xyChart,t.themeVariables.xyChart)}function tq(){let e=ur();return Na(lr.xyChart,e.xyChart)}function eq(){return{yAxis:{type:"linear",title:"",min:1/0,max:-1/0},xAxis:{type:"band",title:"",categories:[]},title:"",plots:[]}}function WD(e){let t=ur();return sr(e.trim(),t)}function lbt(e){sbt=e}function ubt(e){e==="horizontal"?Mw.chartOrientation="horizontal":Mw.chartOrientation="vertical"}function cbt(e){In.xAxis.title=WD(e.text)}function rq(e,t){In.xAxis={type:"linear",title:In.xAxis.title,min:e,max:t},UD=!0}function fbt(e){In.xAxis={type:"band",title:In.xAxis.title,categories:e.map(t=>WD(t.text))},UD=!0}function hbt(e){In.yAxis.title=WD(e.text)}function dbt(e,t){In.yAxis={type:"linear",title:In.yAxis.title,min:e,max:t},Zz=!0}function pbt(e){let t=Math.min(...e),r=Math.max(...e),n=jy(In.yAxis)?In.yAxis.min:1/0,a=jy(In.yAxis)?In.yAxis.max:-1/0;In.yAxis={type:"linear",title:In.yAxis.title,min:Math.min(n,t),max:Math.max(a,r)}}function nq(e){let t=[];if(e.length===0)return t;if(!UD){let r=jy(In.xAxis)?In.xAxis.min:1/0,n=jy(In.xAxis)?In.xAxis.max:-1/0;rq(Math.min(r,1),Math.max(n,e.length))}if(Zz||pbt(e),Qz(In.xAxis)&&(t=In.xAxis.categories.map((r,n)=>[r,e[n]])),jy(In.xAxis)){let r=In.xAxis.min,n=In.xAxis.max,a=(n-r)/(e.length-1),i=[];for(let o=r;o<=n;o+=a)i.push(`${o}`);t=i.map((o,s)=>[o,e[s]])}return t}function aq(e){return Kz[e===0?0:e%Kz.length]}function mbt(e,t){let r=nq(t);In.plots.push({type:"line",strokeFill:aq(Lw),strokeWidth:2,data:r}),Lw++}function gbt(e,t){let r=nq(t);In.plots.push({type:"bar",fill:aq(Lw),data:r}),Lw++}function vbt(){if(In.plots.length===0)throw Error("No Plot to render, please provide a plot with some data");return In.title=$r(),Qre.build(Mw,In,Iw,sbt)}function ybt(){return Iw}function xbt(){return Mw}function bbt(){return In}var Yz,Wre,nbt,ebt,rbt,abt,Gre,Vre,Hre,Yre,Xre,jre,Kre,Qre,Lw,sbt,Mw,Iw,In,Kz,UD,Zz,Zre,Jre,tne,ene,rne,wbt=B(()=>{wc();to();On();Tr();nr();hr();hr();hr();Yz=function(){var e=x(function(R,I,O,F){for(O=O||{},F=R.length;F--;O[R[F]]=I);return O},"o"),t=[1,10,12,14,16,18,19,21,23],r=[2,6],n=[1,3],a=[1,5],i=[1,6],o=[1,7],s=[1,5,10,12,14,16,18,19,21,23,34,35,36],l=[1,25],u=[1,26],f=[1,28],h=[1,29],d=[1,30],p=[1,31],m=[1,32],g=[1,33],v=[1,34],y=[1,35],b=[1,36],_=[1,37],k=[1,43],w=[1,42],T=[1,47],S=[1,50],C=[1,10,12,14,16,18,19,21,23,34,35,36],M=[1,10,12,14,16,18,19,21,23,24,26,27,28,34,35,36],N=[1,10,12,14,16,18,19,21,23,24,26,27,28,34,35,36,41,42,43,44,45,46,47,48,49,50],L=[1,64],E={trace:x(function(){},"trace"),yy:{},symbols_:{error:2,start:3,eol:4,XYCHART:5,chartConfig:6,document:7,CHART_ORIENTATION:8,statement:9,title:10,text:11,X_AXIS:12,parseXAxis:13,Y_AXIS:14,parseYAxis:15,LINE:16,plotData:17,BAR:18,acc_title:19,acc_title_value:20,acc_descr:21,acc_descr_value:22,acc_descr_multiline_value:23,SQUARE_BRACES_START:24,commaSeparatedNumbers:25,SQUARE_BRACES_END:26,NUMBER_WITH_DECIMAL:27,COMMA:28,xAxisData:29,bandData:30,ARROW_DELIMITER:31,commaSeparatedTexts:32,yAxisData:33,NEWLINE:34,SEMI:35,EOF:36,alphaNum:37,STR:38,MD_STR:39,alphaNumToken:40,AMP:41,NUM:42,ALPHA:43,PLUS:44,EQUALS:45,MULT:46,DOT:47,BRKT:48,MINUS:49,UNDERSCORE:50,$accept:0,$end:1},terminals_:{2:"error",5:"XYCHART",8:"CHART_ORIENTATION",10:"title",12:"X_AXIS",14:"Y_AXIS",16:"LINE",18:"BAR",19:"acc_title",20:"acc_title_value",21:"acc_descr",22:"acc_descr_value",23:"acc_descr_multiline_value",24:"SQUARE_BRACES_START",26:"SQUARE_BRACES_END",27:"NUMBER_WITH_DECIMAL",28:"COMMA",31:"ARROW_DELIMITER",34:"NEWLINE",35:"SEMI",36:"EOF",38:"STR",39:"MD_STR",41:"AMP",42:"NUM",43:"ALPHA",44:"PLUS",45:"EQUALS",46:"MULT",47:"DOT",48:"BRKT",49:"MINUS",50:"UNDERSCORE"},productions_:[0,[3,2],[3,3],[3,2],[3,1],[6,1],[7,0],[7,2],[9,2],[9,2],[9,2],[9,2],[9,2],[9,3],[9,2],[9,3],[9,2],[9,2],[9,1],[17,3],[25,3],[25,1],[13,1],[13,2],[13,1],[29,1],[29,3],[30,3],[32,3],[32,1],[15,1],[15,2],[15,1],[33,3],[4,1],[4,1],[4,1],[11,1],[11,1],[11,1],[37,1],[37,2],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1]],performAction:x(function(I,O,F,P,q,$,W){var X=$.length-1;switch(q){case 5:P.setOrientation($[X]);break;case 9:P.setDiagramTitle($[X].text.trim());break;case 12:P.setLineData({text:"",type:"text"},$[X]);break;case 13:P.setLineData($[X-1],$[X]);break;case 14:P.setBarData({text:"",type:"text"},$[X]);break;case 15:P.setBarData($[X-1],$[X]);break;case 16:this.$=$[X].trim(),P.setAccTitle(this.$);break;case 17:case 18:this.$=$[X].trim(),P.setAccDescription(this.$);break;case 19:this.$=$[X-1];break;case 20:this.$=[Number($[X-2]),...$[X]];break;case 21:this.$=[Number($[X])];break;case 22:P.setXAxisTitle($[X]);break;case 23:P.setXAxisTitle($[X-1]);break;case 24:P.setXAxisTitle({type:"text",text:""});break;case 25:P.setXAxisBand($[X]);break;case 26:P.setXAxisRangeData(Number($[X-2]),Number($[X]));break;case 27:this.$=$[X-1];break;case 28:this.$=[$[X-2],...$[X]];break;case 29:this.$=[$[X]];break;case 30:P.setYAxisTitle($[X]);break;case 31:P.setYAxisTitle($[X-1]);break;case 32:P.setYAxisTitle({type:"text",text:""});break;case 33:P.setYAxisRangeData(Number($[X-2]),Number($[X]));break;case 37:this.$={text:$[X],type:"text"};break;case 38:this.$={text:$[X],type:"text"};break;case 39:this.$={text:$[X],type:"markdown"};break;case 40:this.$=$[X];break;case 41:this.$=$[X-1]+""+$[X];break}},"anonymous"),table:[e(t,r,{3:1,4:2,7:4,5:n,34:a,35:i,36:o}),{1:[3]},e(t,r,{4:2,7:4,3:8,5:n,34:a,35:i,36:o}),e(t,r,{4:2,7:4,6:9,3:10,5:n,8:[1,11],34:a,35:i,36:o}),{1:[2,4],9:12,10:[1,13],12:[1,14],14:[1,15],16:[1,16],18:[1,17],19:[1,18],21:[1,19],23:[1,20]},e(s,[2,34]),e(s,[2,35]),e(s,[2,36]),{1:[2,1]},e(t,r,{4:2,7:4,3:21,5:n,34:a,35:i,36:o}),{1:[2,3]},e(s,[2,5]),e(t,[2,7],{4:22,34:a,35:i,36:o}),{11:23,37:24,38:l,39:u,40:27,41:f,42:h,43:d,44:p,45:m,46:g,47:v,48:y,49:b,50:_},{11:39,13:38,24:k,27:w,29:40,30:41,37:24,38:l,39:u,40:27,41:f,42:h,43:d,44:p,45:m,46:g,47:v,48:y,49:b,50:_},{11:45,15:44,27:T,33:46,37:24,38:l,39:u,40:27,41:f,42:h,43:d,44:p,45:m,46:g,47:v,48:y,49:b,50:_},{11:49,17:48,24:S,37:24,38:l,39:u,40:27,41:f,42:h,43:d,44:p,45:m,46:g,47:v,48:y,49:b,50:_},{11:52,17:51,24:S,37:24,38:l,39:u,40:27,41:f,42:h,43:d,44:p,45:m,46:g,47:v,48:y,49:b,50:_},{20:[1,53]},{22:[1,54]},e(C,[2,18]),{1:[2,2]},e(C,[2,8]),e(C,[2,9]),e(M,[2,37],{40:55,41:f,42:h,43:d,44:p,45:m,46:g,47:v,48:y,49:b,50:_}),e(M,[2,38]),e(M,[2,39]),e(N,[2,40]),e(N,[2,42]),e(N,[2,43]),e(N,[2,44]),e(N,[2,45]),e(N,[2,46]),e(N,[2,47]),e(N,[2,48]),e(N,[2,49]),e(N,[2,50]),e(N,[2,51]),e(C,[2,10]),e(C,[2,22],{30:41,29:56,24:k,27:w}),e(C,[2,24]),e(C,[2,25]),{31:[1,57]},{11:59,32:58,37:24,38:l,39:u,40:27,41:f,42:h,43:d,44:p,45:m,46:g,47:v,48:y,49:b,50:_},e(C,[2,11]),e(C,[2,30],{33:60,27:T}),e(C,[2,32]),{31:[1,61]},e(C,[2,12]),{17:62,24:S},{25:63,27:L},e(C,[2,14]),{17:65,24:S},e(C,[2,16]),e(C,[2,17]),e(N,[2,41]),e(C,[2,23]),{27:[1,66]},{26:[1,67]},{26:[2,29],28:[1,68]},e(C,[2,31]),{27:[1,69]},e(C,[2,13]),{26:[1,70]},{26:[2,21],28:[1,71]},e(C,[2,15]),e(C,[2,26]),e(C,[2,27]),{11:59,32:72,37:24,38:l,39:u,40:27,41:f,42:h,43:d,44:p,45:m,46:g,47:v,48:y,49:b,50:_},e(C,[2,33]),e(C,[2,19]),{25:73,27:L},{26:[2,28]},{26:[2,20]}],defaultActions:{8:[2,1],10:[2,3],21:[2,2],72:[2,28],73:[2,20]},parseError:x(function(I,O){if(O.recoverable)this.trace(I);else{var F=new Error(I);throw F.hash=O,F}},"parseError"),parse:x(function(I){var O=this,F=[0],P=[],q=[null],$=[],W=this.table,X="",tt=0,Y=0,ot=0,Z=2,ct=1,rt=$.slice.call(arguments,1),et=Object.create(this.lexer),Q={yy:{}};for(var j in this.yy)Object.prototype.hasOwnProperty.call(this.yy,j)&&(Q.yy[j]=this.yy[j]);et.setInput(I,Q.yy),Q.yy.lexer=et,Q.yy.parser=this,typeof et.yylloc>"u"&&(et.yylloc={});var it=et.yylloc;$.push(it);var K=et.options&&et.options.ranges;typeof Q.yy.parseError=="function"?this.parseError=Q.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function dt(ht){F.length=F.length-2*ht,q.length=q.length-ht,$.length=$.length-ht}x(dt,"popStack");function nt(){var ht;return ht=P.pop()||et.lex()||ct,typeof ht!="number"&&(ht instanceof Array&&(P=ht,ht=P.pop()),ht=O.symbols_[ht]||ht),ht}x(nt,"lex");for(var _t,V,Ut,pt,Ft,Yt,Ht={},Lt,Nt,It,kt;;){if(Ut=F[F.length-1],this.defaultActions[Ut]?pt=this.defaultActions[Ut]:((_t===null||typeof _t>"u")&&(_t=nt()),pt=W[Ut]&&W[Ut][_t]),typeof pt>"u"||!pt.length||!pt[0]){var Pt="";kt=[];for(Lt in W[Ut])this.terminals_[Lt]&&Lt>Z&&kt.push("'"+this.terminals_[Lt]+"'");et.showPosition?Pt="Parse error on line "+(tt+1)+`:
`+et.showPosition()+`
Expecting `+kt.join(", ")+", got '"+(this.terminals_[_t]||_t)+"'":Pt="Parse error on line "+(tt+1)+": Unexpected "+(_t==ct?"end of input":"'"+(this.terminals_[_t]||_t)+"'"),this.parseError(Pt,{text:et.match,token:this.terminals_[_t]||_t,line:et.yylineno,loc:it,expected:kt})}if(pt[0]instanceof Array&&pt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ut+", token: "+_t);switch(pt[0]){case 1:F.push(_t),q.push(et.yytext),$.push(et.yylloc),F.push(pt[1]),_t=null,V?(_t=V,V=null):(Y=et.yyleng,X=et.yytext,tt=et.yylineno,it=et.yylloc,ot>0&&ot--);break;case 2:if(Nt=this.productions_[pt[1]][1],Ht.$=q[q.length-Nt],Ht._$={first_line:$[$.length-(Nt||1)].first_line,last_line:$[$.length-1].last_line,first_column:$[$.length-(Nt||1)].first_column,last_column:$[$.length-1].last_column},K&&(Ht._$.range=[$[$.length-(Nt||1)].range[0],$[$.length-1].range[1]]),Yt=this.performAction.apply(Ht,[X,Y,tt,Q.yy,pt[1],q,$].concat(rt)),typeof Yt<"u")return Yt;Nt&&(F=F.slice(0,-1*Nt*2),q=q.slice(0,-1*Nt),$=$.slice(0,-1*Nt)),F.push(this.productions_[pt[1]][0]),q.push(Ht.$),$.push(Ht._$),It=W[F[F.length-2]][F[F.length-1]],F.push(It);break;case 3:return!0}}return!0},"parse")},A=function(){var R={EOF:1,parseError:x(function(O,F){if(this.yy.parser)this.yy.parser.parseError(O,F);else throw new Error(O)},"parseError"),setInput:x(function(I,O){return this.yy=O||this.yy||{},this._input=I,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:x(function(){var I=this._input[0];this.yytext+=I,this.yyleng++,this.offset++,this.match+=I,this.matched+=I;var O=I.match(/(?:\r\n?|\n).*/g);return O?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),I},"input"),unput:x(function(I){var O=I.length,F=I.split(/(?:\r\n?|\n)/g);this._input=I+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-O),this.offset-=O;var P=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),F.length-1&&(this.yylineno-=F.length-1);var q=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:F?(F.length===P.length?this.yylloc.first_column:0)+P[P.length-F.length].length-F[0].length:this.yylloc.first_column-O},this.options.ranges&&(this.yylloc.range=[q[0],q[0]+this.yyleng-O]),this.yyleng=this.yytext.length,this},"unput"),more:x(function(){return this._more=!0,this},"more"),reject:x(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:x(function(I){this.unput(this.match.slice(I))},"less"),pastInput:x(function(){var I=this.matched.substr(0,this.matched.length-this.match.length);return(I.length>20?"...":"")+I.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:x(function(){var I=this.match;return I.length<20&&(I+=this._input.substr(0,20-I.length)),(I.substr(0,20)+(I.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:x(function(){var I=this.pastInput(),O=new Array(I.length+1).join("-");return I+this.upcomingInput()+`
`+O+"^"},"showPosition"),test_match:x(function(I,O){var F,P,q;if(this.options.backtrack_lexer&&(q={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(q.yylloc.range=this.yylloc.range.slice(0))),P=I[0].match(/(?:\r\n?|\n).*/g),P&&(this.yylineno+=P.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:P?P[P.length-1].length-P[P.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+I[0].length},this.yytext+=I[0],this.match+=I[0],this.matches=I,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(I[0].length),this.matched+=I[0],F=this.performAction.call(this,this.yy,this,O,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),F)return F;if(this._backtrack){for(var $ in q)this[$]=q[$];return!1}return!1},"test_match"),next:x(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var I,O,F,P;this._more||(this.yytext="",this.match="");for(var q=this._currentRules(),$=0;$<q.length;$++)if(F=this._input.match(this.rules[q[$]]),F&&(!O||F[0].length>O[0].length)){if(O=F,P=$,this.options.backtrack_lexer){if(I=this.test_match(F,q[$]),I!==!1)return I;if(this._backtrack){O=!1;continue}else return!1}else if(!this.options.flex)break}return O?(I=this.test_match(O,q[P]),I!==!1?I:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:x(function(){var O=this.next();return O||this.lex()},"lex"),begin:x(function(O){this.conditionStack.push(O)},"begin"),popState:x(function(){var O=this.conditionStack.length-1;return O>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:x(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:x(function(O){return O=this.conditionStack.length-1-Math.abs(O||0),O>=0?this.conditionStack[O]:"INITIAL"},"topState"),pushState:x(function(O){this.begin(O)},"pushState"),stateStackSize:x(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:x(function(O,F,P,q){var $=q;switch(P){case 0:break;case 1:break;case 2:return this.popState(),34;break;case 3:return this.popState(),34;break;case 4:return 34;case 5:break;case 6:return 10;case 7:return this.pushState("acc_title"),19;break;case 8:return this.popState(),"acc_title_value";break;case 9:return this.pushState("acc_descr"),21;break;case 10:return this.popState(),"acc_descr_value";break;case 11:this.pushState("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 5;case 15:return 5;case 16:return 8;case 17:return this.pushState("axis_data"),"X_AXIS";break;case 18:return this.pushState("axis_data"),"Y_AXIS";break;case 19:return this.pushState("axis_band_data"),24;break;case 20:return 31;case 21:return this.pushState("data"),16;break;case 22:return this.pushState("data"),18;break;case 23:return this.pushState("data_inner"),24;break;case 24:return 27;case 25:return this.popState(),26;break;case 26:this.popState();break;case 27:this.pushState("string");break;case 28:this.popState();break;case 29:return"STR";case 30:return 24;case 31:return 26;case 32:return 43;case 33:return"COLON";case 34:return 44;case 35:return 28;case 36:return 45;case 37:return 46;case 38:return 48;case 39:return 50;case 40:return 47;case 41:return 41;case 42:return 49;case 43:return 42;case 44:break;case 45:return 35;case 46:return 36}},"anonymous"),rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:(\r?\n))/i,/^(?:(\r?\n))/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:title\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:\{)/i,/^(?:[^\}]*)/i,/^(?:xychart-beta\b)/i,/^(?:xychart\b)/i,/^(?:(?:vertical|horizontal))/i,/^(?:x-axis\b)/i,/^(?:y-axis\b)/i,/^(?:\[)/i,/^(?:-->)/i,/^(?:line\b)/i,/^(?:bar\b)/i,/^(?:\[)/i,/^(?:[+-]?(?:\d+(?:\.\d+)?|\.\d+))/i,/^(?:\])/i,/^(?:(?:`\)                                    \{ this\.pushState\(md_string\); \}\n<md_string>\(\?:\(\?!`"\)\.\)\+                  \{ return MD_STR; \}\n<md_string>\(\?:`))/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:[A-Za-z]+)/i,/^(?::)/i,/^(?:\+)/i,/^(?:,)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:#)/i,/^(?:[\_])/i,/^(?:\.)/i,/^(?:&)/i,/^(?:-)/i,/^(?:[0-9]+)/i,/^(?:\s+)/i,/^(?:;)/i,/^(?:$)/i],conditions:{data_inner:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,18,21,22,24,25,26,27,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],inclusive:!0},data:{rules:[0,1,3,4,5,6,7,9,11,14,15,16,17,18,21,22,23,26,27,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],inclusive:!0},axis_band_data:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,18,21,22,25,26,27,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],inclusive:!0},axis_data:{rules:[0,1,2,4,5,6,7,9,11,14,15,16,17,18,19,20,21,22,24,26,27,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],inclusive:!0},acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},title:{rules:[],inclusive:!1},md_string:{rules:[],inclusive:!1},string:{rules:[28,29],inclusive:!1},INITIAL:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,18,21,22,26,27,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],inclusive:!0}}};return R}();E.lexer=A;function D(){this.yy={}}return x(D,"Parser"),D.prototype=E,E.Parser=D,new D}();Yz.parser=Yz;Wre=Yz;x(Xz,"isBarPlot");x(Qz,"isBandAxisData");x(jy,"isLinearAxisData");nbt=class{constructor(e){this.parentGroup=e}static{x(this,"TextDimensionCalculatorWithFont")}getMaxDimension(e,t){if(!this.parentGroup)return{width:e.reduce((a,i)=>Math.max(i.length,a),0)*t,height:t};let r={width:0,height:0},n=this.parentGroup.append("g").attr("visibility","hidden").attr("font-size",t);for(let a of e){let i=CI(n,1,a),o=i?i.width:a.length*t,s=i?i.height:t;r.width=Math.max(r.width,o),r.height=Math.max(r.height,s)}return n.remove(),r}},ebt=.7,rbt=.2,abt=class{constructor(e,t,r,n){this.axisConfig=e,this.title=t,this.textDimensionCalculator=r,this.axisThemeConfig=n,this.boundingRect={x:0,y:0,width:0,height:0},this.axisPosition="left",this.showTitle=!1,this.showLabel=!1,this.showTick=!1,this.showAxisLine=!1,this.outerPadding=0,this.titleTextHeight=0,this.labelTextHeight=0,this.range=[0,10],this.boundingRect={x:0,y:0,width:0,height:0},this.axisPosition="left"}static{x(this,"BaseAxis")}setRange(e){this.range=e,this.axisPosition==="left"||this.axisPosition==="right"?this.boundingRect.height=e[1]-e[0]:this.boundingRect.width=e[1]-e[0],this.recalculateScale()}getRange(){return[this.range[0]+this.outerPadding,this.range[1]-this.outerPadding]}setAxisPosition(e){this.axisPosition=e,this.setRange(this.range)}getTickDistance(){let e=this.getRange();return Math.abs(e[0]-e[1])/this.getTickValues().length}getAxisOuterPadding(){return this.outerPadding}getLabelDimension(){return this.textDimensionCalculator.getMaxDimension(this.getTickValues().map(e=>e.toString()),this.axisConfig.labelFontSize)}recalculateOuterPaddingToDrawBar(){ebt*this.getTickDistance()>this.outerPadding*2&&(this.outerPadding=Math.floor(ebt*this.getTickDistance()/2)),this.recalculateScale()}calculateSpaceIfDrawnHorizontally(e){let t=e.height;if(this.axisConfig.showAxisLine&&t>this.axisConfig.axisLineWidth&&(t-=this.axisConfig.axisLineWidth,this.showAxisLine=!0),this.axisConfig.showLabel){let r=this.getLabelDimension(),n=rbt*e.width;this.outerPadding=Math.min(r.width/2,n);let a=r.height+this.axisConfig.labelPadding*2;this.labelTextHeight=r.height,a<=t&&(t-=a,this.showLabel=!0)}if(this.axisConfig.showTick&&t>=this.axisConfig.tickLength&&(this.showTick=!0,t-=this.axisConfig.tickLength),this.axisConfig.showTitle&&this.title){let r=this.textDimensionCalculator.getMaxDimension([this.title],this.axisConfig.titleFontSize),n=r.height+this.axisConfig.titlePadding*2;this.titleTextHeight=r.height,n<=t&&(t-=n,this.showTitle=!0)}this.boundingRect.width=e.width,this.boundingRect.height=e.height-t}calculateSpaceIfDrawnVertical(e){let t=e.width;if(this.axisConfig.showAxisLine&&t>this.axisConfig.axisLineWidth&&(t-=this.axisConfig.axisLineWidth,this.showAxisLine=!0),this.axisConfig.showLabel){let r=this.getLabelDimension(),n=rbt*e.height;this.outerPadding=Math.min(r.height/2,n);let a=r.width+this.axisConfig.labelPadding*2;a<=t&&(t-=a,this.showLabel=!0)}if(this.axisConfig.showTick&&t>=this.axisConfig.tickLength&&(this.showTick=!0,t-=this.axisConfig.tickLength),this.axisConfig.showTitle&&this.title){let r=this.textDimensionCalculator.getMaxDimension([this.title],this.axisConfig.titleFontSize),n=r.height+this.axisConfig.titlePadding*2;this.titleTextHeight=r.height,n<=t&&(t-=n,this.showTitle=!0)}this.boundingRect.width=e.width-t,this.boundingRect.height=e.height}calculateSpace(e){return this.axisPosition==="left"||this.axisPosition==="right"?this.calculateSpaceIfDrawnVertical(e):this.calculateSpaceIfDrawnHorizontally(e),this.recalculateScale(),{width:this.boundingRect.width,height:this.boundingRect.height}}setBoundingBoxXY(e){this.boundingRect.x=e.x,this.boundingRect.y=e.y}getDrawableElementsForLeftAxis(){let e=[];if(this.showAxisLine){let t=this.boundingRect.x+this.boundingRect.width-this.axisConfig.axisLineWidth/2;e.push({type:"path",groupTexts:["left-axis","axisl-line"],data:[{path:`M ${t},${this.boundingRect.y} L ${t},${this.boundingRect.y+this.boundingRect.height} `,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&e.push({type:"text",groupTexts:["left-axis","label"],data:this.getTickValues().map(t=>({text:t.toString(),x:this.boundingRect.x+this.boundingRect.width-(this.showLabel?this.axisConfig.labelPadding:0)-(this.showTick?this.axisConfig.tickLength:0)-(this.showAxisLine?this.axisConfig.axisLineWidth:0),y:this.getScaleValue(t),fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"middle",horizontalPos:"right"}))}),this.showTick){let t=this.boundingRect.x+this.boundingRect.width-(this.showAxisLine?this.axisConfig.axisLineWidth:0);e.push({type:"path",groupTexts:["left-axis","ticks"],data:this.getTickValues().map(r=>({path:`M ${t},${this.getScaleValue(r)} L ${t-this.axisConfig.tickLength},${this.getScaleValue(r)}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&e.push({type:"text",groupTexts:["left-axis","title"],data:[{text:this.title,x:this.boundingRect.x+this.axisConfig.titlePadding,y:this.boundingRect.y+this.boundingRect.height/2,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:270,verticalPos:"top",horizontalPos:"center"}]}),e}getDrawableElementsForBottomAxis(){let e=[];if(this.showAxisLine){let t=this.boundingRect.y+this.axisConfig.axisLineWidth/2;e.push({type:"path",groupTexts:["bottom-axis","axis-line"],data:[{path:`M ${this.boundingRect.x},${t} L ${this.boundingRect.x+this.boundingRect.width},${t}`,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&e.push({type:"text",groupTexts:["bottom-axis","label"],data:this.getTickValues().map(t=>({text:t.toString(),x:this.getScaleValue(t),y:this.boundingRect.y+this.axisConfig.labelPadding+(this.showTick?this.axisConfig.tickLength:0)+(this.showAxisLine?this.axisConfig.axisLineWidth:0),fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}))}),this.showTick){let t=this.boundingRect.y+(this.showAxisLine?this.axisConfig.axisLineWidth:0);e.push({type:"path",groupTexts:["bottom-axis","ticks"],data:this.getTickValues().map(r=>({path:`M ${this.getScaleValue(r)},${t} L ${this.getScaleValue(r)},${t+this.axisConfig.tickLength}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&e.push({type:"text",groupTexts:["bottom-axis","title"],data:[{text:this.title,x:this.range[0]+(this.range[1]-this.range[0])/2,y:this.boundingRect.y+this.boundingRect.height-this.axisConfig.titlePadding-this.titleTextHeight,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}]}),e}getDrawableElementsForTopAxis(){let e=[];if(this.showAxisLine){let t=this.boundingRect.y+this.boundingRect.height-this.axisConfig.axisLineWidth/2;e.push({type:"path",groupTexts:["top-axis","axis-line"],data:[{path:`M ${this.boundingRect.x},${t} L ${this.boundingRect.x+this.boundingRect.width},${t}`,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&e.push({type:"text",groupTexts:["top-axis","label"],data:this.getTickValues().map(t=>({text:t.toString(),x:this.getScaleValue(t),y:this.boundingRect.y+(this.showTitle?this.titleTextHeight+this.axisConfig.titlePadding*2:0)+this.axisConfig.labelPadding,fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}))}),this.showTick){let t=this.boundingRect.y;e.push({type:"path",groupTexts:["top-axis","ticks"],data:this.getTickValues().map(r=>({path:`M ${this.getScaleValue(r)},${t+this.boundingRect.height-(this.showAxisLine?this.axisConfig.axisLineWidth:0)} L ${this.getScaleValue(r)},${t+this.boundingRect.height-this.axisConfig.tickLength-(this.showAxisLine?this.axisConfig.axisLineWidth:0)}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&e.push({type:"text",groupTexts:["top-axis","title"],data:[{text:this.title,x:this.boundingRect.x+this.boundingRect.width/2,y:this.boundingRect.y+this.axisConfig.titlePadding,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}]}),e}getDrawableElements(){if(this.axisPosition==="left")return this.getDrawableElementsForLeftAxis();if(this.axisPosition==="right")throw Error("Drawing of right axis is not implemented");return this.axisPosition==="bottom"?this.getDrawableElementsForBottomAxis():this.axisPosition==="top"?this.getDrawableElementsForTopAxis():[]}},Gre=class extends abt{static{x(this,"BandAxis")}constructor(e,t,r,n,a){super(e,n,a,t),this.categories=r,this.scale=Pg().domain(this.categories).range(this.getRange())}setRange(e){super.setRange(e)}recalculateScale(){this.scale=Pg().domain(this.categories).range(this.getRange()).paddingInner(1).paddingOuter(0).align(.5),J.trace("BandAxis axis final categories, range: ",this.categories,this.getRange())}getTickValues(){return this.categories}getScaleValue(e){return this.scale(e)??this.getRange()[0]}},Vre=class extends abt{static{x(this,"LinearAxis")}constructor(e,t,r,n,a){super(e,n,a,t),this.domain=r,this.scale=wu().domain(this.domain).range(this.getRange())}getTickValues(){return this.scale.ticks()}recalculateScale(){let e=[...this.domain];this.axisPosition==="left"&&e.reverse(),this.scale=wu().domain(e).range(this.getRange())}getScaleValue(e){return this.scale(e)}};x(jz,"getAxis");Hre=class{constructor(e,t,r,n){this.textDimensionCalculator=e,this.chartConfig=t,this.chartData=r,this.chartThemeConfig=n,this.boundingRect={x:0,y:0,width:0,height:0},this.showChartTitle=!1}static{x(this,"ChartTitle")}setBoundingBoxXY(e){this.boundingRect.x=e.x,this.boundingRect.y=e.y}calculateSpace(e){let t=this.textDimensionCalculator.getMaxDimension([this.chartData.title],this.chartConfig.titleFontSize),r=Math.max(t.width,e.width),n=t.height+2*this.chartConfig.titlePadding;return t.width<=r&&t.height<=n&&this.chartConfig.showTitle&&this.chartData.title&&(this.boundingRect.width=r,this.boundingRect.height=n,this.showChartTitle=!0),{width:this.boundingRect.width,height:this.boundingRect.height}}getDrawableElements(){let e=[];return this.showChartTitle&&e.push({groupTexts:["chart-title"],type:"text",data:[{fontSize:this.chartConfig.titleFontSize,text:this.chartData.title,verticalPos:"middle",horizontalPos:"center",x:this.boundingRect.x+this.boundingRect.width/2,y:this.boundingRect.y+this.boundingRect.height/2,fill:this.chartThemeConfig.titleColor,rotation:0}]}),e}};x(ibt,"getChartTitleComponent");Yre=class{constructor(e,t,r,n,a){this.plotData=e,this.xAxis=t,this.yAxis=r,this.orientation=n,this.plotIndex=a}static{x(this,"LinePlot")}getDrawableElement(){let e=this.plotData.data.map(r=>[this.xAxis.getScaleValue(r[0]),this.yAxis.getScaleValue(r[1])]),t;return this.orientation==="horizontal"?t=_c().y(r=>r[0]).x(r=>r[1])(e):t=_c().x(r=>r[0]).y(r=>r[1])(e),t?[{groupTexts:["plot",`line-plot-${this.plotIndex}`],type:"path",data:[{path:t,strokeFill:this.plotData.strokeFill,strokeWidth:this.plotData.strokeWidth}]}]:[]}},Xre=class{constructor(e,t,r,n,a,i){this.barData=e,this.boundingRect=t,this.xAxis=r,this.yAxis=n,this.orientation=a,this.plotIndex=i}static{x(this,"BarPlot")}getDrawableElement(){let e=this.barData.data.map(a=>[this.xAxis.getScaleValue(a[0]),this.yAxis.getScaleValue(a[1])]),r=Math.min(this.xAxis.getAxisOuterPadding()*2,this.xAxis.getTickDistance())*(1-.05),n=r/2;return this.orientation==="horizontal"?[{groupTexts:["plot",`bar-plot-${this.plotIndex}`],type:"rect",data:e.map(a=>({x:this.boundingRect.x,y:a[0]-n,height:r,width:a[1]-this.boundingRect.x,fill:this.barData.fill,strokeWidth:0,strokeFill:this.barData.fill}))}]:[{groupTexts:["plot",`bar-plot-${this.plotIndex}`],type:"rect",data:e.map(a=>({x:a[0]-n,y:a[1],width:r,height:this.boundingRect.y+this.boundingRect.height-a[1],fill:this.barData.fill,strokeWidth:0,strokeFill:this.barData.fill}))}]}},jre=class{constructor(e,t,r){this.chartConfig=e,this.chartData=t,this.chartThemeConfig=r,this.boundingRect={x:0,y:0,width:0,height:0}}static{x(this,"BasePlot")}setAxes(e,t){this.xAxis=e,this.yAxis=t}setBoundingBoxXY(e){this.boundingRect.x=e.x,this.boundingRect.y=e.y}calculateSpace(e){return this.boundingRect.width=e.width,this.boundingRect.height=e.height,{width:this.boundingRect.width,height:this.boundingRect.height}}getDrawableElements(){if(!(this.xAxis&&this.yAxis))throw Error("Axes must be passed to render Plots");let e=[];for(let[t,r]of this.chartData.plots.entries())switch(r.type){case"line":{let n=new Yre(r,this.xAxis,this.yAxis,this.chartConfig.chartOrientation,t);e.push(...n.getDrawableElement())}break;case"bar":{let n=new Xre(r,this.boundingRect,this.xAxis,this.yAxis,this.chartConfig.chartOrientation,t);e.push(...n.getDrawableElement())}break}return e}};x(obt,"getPlotComponent");Kre=class{constructor(e,t,r,n){this.chartConfig=e,this.chartData=t,this.componentStore={title:ibt(e,t,r,n),plot:obt(e,t,r),xAxis:jz(t.xAxis,e.xAxis,{titleColor:r.xAxisTitleColor,labelColor:r.xAxisLabelColor,tickColor:r.xAxisTickColor,axisLineColor:r.xAxisLineColor},n),yAxis:jz(t.yAxis,e.yAxis,{titleColor:r.yAxisTitleColor,labelColor:r.yAxisLabelColor,tickColor:r.yAxisTickColor,axisLineColor:r.yAxisLineColor},n)}}static{x(this,"Orchestrator")}calculateVerticalSpace(){let e=this.chartConfig.width,t=this.chartConfig.height,r=0,n=0,a=Math.floor(e*this.chartConfig.plotReservedSpacePercent/100),i=Math.floor(t*this.chartConfig.plotReservedSpacePercent/100),o=this.componentStore.plot.calculateSpace({width:a,height:i});e-=o.width,t-=o.height,o=this.componentStore.title.calculateSpace({width:this.chartConfig.width,height:t}),n=o.height,t-=o.height,this.componentStore.xAxis.setAxisPosition("bottom"),o=this.componentStore.xAxis.calculateSpace({width:e,height:t}),t-=o.height,this.componentStore.yAxis.setAxisPosition("left"),o=this.componentStore.yAxis.calculateSpace({width:e,height:t}),r=o.width,e-=o.width,e>0&&(a+=e,e=0),t>0&&(i+=t,t=0),this.componentStore.plot.calculateSpace({width:a,height:i}),this.componentStore.plot.setBoundingBoxXY({x:r,y:n}),this.componentStore.xAxis.setRange([r,r+a]),this.componentStore.xAxis.setBoundingBoxXY({x:r,y:n+i}),this.componentStore.yAxis.setRange([n,n+i]),this.componentStore.yAxis.setBoundingBoxXY({x:0,y:n}),this.chartData.plots.some(s=>Xz(s))&&this.componentStore.xAxis.recalculateOuterPaddingToDrawBar()}calculateHorizontalSpace(){let e=this.chartConfig.width,t=this.chartConfig.height,r=0,n=0,a=0,i=Math.floor(e*this.chartConfig.plotReservedSpacePercent/100),o=Math.floor(t*this.chartConfig.plotReservedSpacePercent/100),s=this.componentStore.plot.calculateSpace({width:i,height:o});e-=s.width,t-=s.height,s=this.componentStore.title.calculateSpace({width:this.chartConfig.width,height:t}),r=s.height,t-=s.height,this.componentStore.xAxis.setAxisPosition("left"),s=this.componentStore.xAxis.calculateSpace({width:e,height:t}),e-=s.width,n=s.width,this.componentStore.yAxis.setAxisPosition("top"),s=this.componentStore.yAxis.calculateSpace({width:e,height:t}),t-=s.height,a=r+s.height,e>0&&(i+=e,e=0),t>0&&(o+=t,t=0),this.componentStore.plot.calculateSpace({width:i,height:o}),this.componentStore.plot.setBoundingBoxXY({x:n,y:a}),this.componentStore.yAxis.setRange([n,n+i]),this.componentStore.yAxis.setBoundingBoxXY({x:n,y:r}),this.componentStore.xAxis.setRange([a,a+o]),this.componentStore.xAxis.setBoundingBoxXY({x:0,y:a}),this.chartData.plots.some(l=>Xz(l))&&this.componentStore.xAxis.recalculateOuterPaddingToDrawBar()}calculateSpace(){this.chartConfig.chartOrientation==="horizontal"?this.calculateHorizontalSpace():this.calculateVerticalSpace()}getDrawableElement(){this.calculateSpace();let e=[];this.componentStore.plot.setAxes(this.componentStore.xAxis,this.componentStore.yAxis);for(let t of Object.values(this.componentStore))e.push(...t.getDrawableElements());return e}},Qre=class{static{x(this,"XYChartBuilder")}static build(e,t,r,n){return new Kre(e,t,r,n).getDrawableElement()}},Lw=0,Mw=tq(),Iw=Jz(),In=eq(),Kz=Iw.plotColorPalette.split(",").map(e=>e.trim()),UD=!1,Zz=!1;x(Jz,"getChartDefaultThemeConfig");x(tq,"getChartDefaultConfig");x(eq,"getChartDefaultData");x(WD,"textSanitizer");x(lbt,"setTmpSVGG");x(ubt,"setOrientation");x(cbt,"setXAxisTitle");x(rq,"setXAxisRangeData");x(fbt,"setXAxisBand");x(hbt,"setYAxisTitle");x(dbt,"setYAxisRangeData");x(pbt,"setYAxisRangeFromPlotData");x(nq,"transformDataWithoutCategory");x(aq,"getPlotColorFromPalette");x(mbt,"setLineData");x(gbt,"setBarData");x(vbt,"getDrawableElem");x(ybt,"getChartThemeConfig");x(xbt,"getChartConfig");x(bbt,"getXYChartData");Zre=x(function(){wr(),Lw=0,Mw=tq(),In=eq(),Iw=Jz(),Kz=Iw.plotColorPalette.split(",").map(e=>e.trim()),UD=!1,Zz=!1},"clear"),Jre={getDrawableElem:vbt,clear:Zre,setAccTitle:Mr,getAccTitle:Fr,setDiagramTitle:Yr,getDiagramTitle:$r,getAccDescription:Br,setAccDescription:Pr,setOrientation:ubt,setXAxisTitle:cbt,setXAxisRangeData:rq,setXAxisBand:fbt,setYAxisTitle:hbt,setYAxisRangeData:dbt,setLineData:mbt,setBarData:gbt,setTmpSVGG:lbt,getChartThemeConfig:ybt,getChartConfig:xbt,getXYChartData:bbt},tne=x((e,t,r,n)=>{let a=n.db,i=a.getChartThemeConfig(),o=a.getChartConfig(),s=a.getXYChartData().plots[0].data.map(_=>_[1]);function l(_){return _==="top"?"text-before-edge":"middle"}x(l,"getDominantBaseLine");function u(_){return _==="left"?"start":_==="right"?"end":"middle"}x(u,"getTextAnchor");function f(_){return`translate(${_.x}, ${_.y}) rotate(${_.rotation||0})`}x(f,"getTextTransformation"),J.debug(`Rendering xychart chart
`+e);let h=Li(t),d=h.append("g").attr("class","main"),p=d.append("rect").attr("width",o.width).attr("height",o.height).attr("class","background");Nn(h,o.height,o.width,!0),h.attr("viewBox",`0 0 ${o.width} ${o.height}`),p.attr("fill",i.backgroundColor),a.setTmpSVGG(h.append("g").attr("class","mermaid-tmp-group"));let m=a.getDrawableElem(),g={};function v(_){let k=d,w="";for(let[T]of _.entries()){let S=d;T>0&&g[w]&&(S=g[w]),w+=_[T],k=g[w],k||(k=g[w]=S.append("g").attr("class",_[T]))}return k}x(v,"getGroup");for(let _ of m){if(_.data.length===0)continue;let k=v(_.groupTexts);switch(_.type){case"rect":if(k.selectAll("rect").data(_.data).enter().append("rect").attr("x",w=>w.x).attr("y",w=>w.y).attr("width",w=>w.width).attr("height",w=>w.height).attr("fill",w=>w.fill).attr("stroke",w=>w.strokeFill).attr("stroke-width",w=>w.strokeWidth),o.showDataLabel)if(o.chartOrientation==="horizontal"){let w=function(N,L){let{data:E,label:A}=N;return L*A.length*T<=E.width-10};var y=w;x(w,"fitsHorizontally");let T=.7,S=_.data.map((N,L)=>({data:N,label:s[L].toString()})).filter(N=>N.data.width>0&&N.data.height>0),C=S.map(N=>{let{data:L}=N,E=L.height*.7;for(;!w(N,E)&&E>0;)E-=1;return E}),M=Math.floor(Math.min(...C));k.selectAll("text").data(S).enter().append("text").attr("x",N=>N.data.x+N.data.width-10).attr("y",N=>N.data.y+N.data.height/2).attr("text-anchor","end").attr("dominant-baseline","middle").attr("fill","black").attr("font-size",`${M}px`).text(N=>N.label)}else{let w=function(N,L,E){let{data:A,label:D}=N,I=L*D.length*.7,O=A.x+A.width/2,F=O-I/2,P=O+I/2,q=F>=A.x&&P<=A.x+A.width,$=A.y+E+L<=A.y+A.height;return q&&$};var b=w;x(w,"fitsInBar");let T=10,S=_.data.map((N,L)=>({data:N,label:s[L].toString()})).filter(N=>N.data.width>0&&N.data.height>0),C=S.map(N=>{let{data:L,label:E}=N,A=L.width/(E.length*.7);for(;!w(N,A,T)&&A>0;)A-=1;return A}),M=Math.floor(Math.min(...C));k.selectAll("text").data(S).enter().append("text").attr("x",N=>N.data.x+N.data.width/2).attr("y",N=>N.data.y+T).attr("text-anchor","middle").attr("dominant-baseline","hanging").attr("fill","black").attr("font-size",`${M}px`).text(N=>N.label)}break;case"text":k.selectAll("text").data(_.data).enter().append("text").attr("x",0).attr("y",0).attr("fill",w=>w.fill).attr("font-size",w=>w.fontSize).attr("dominant-baseline",w=>l(w.verticalPos)).attr("text-anchor",w=>u(w.horizontalPos)).attr("transform",w=>f(w)).text(w=>w.text);break;case"path":k.selectAll("path").data(_.data).enter().append("path").attr("d",w=>w.path).attr("fill",w=>w.fill?w.fill:"none").attr("stroke",w=>w.strokeFill).attr("stroke-width",w=>w.strokeWidth);break}}},"draw"),ene={draw:tne},rne={parser:Wre,db:Jre,renderer:ene}});var Ebt={};pr(Ebt,{diagram:()=>lne});var iq,nne,ane,ine,one,Tbt,sne,lne,kbt=B(()=>{Bu();eu();jl();$l();al();Ns();Zo();Jo();to();On();Tr();nr();iq=function(){var e=x(function(ht,yt,H,ft){for(H=H||{},ft=ht.length;ft--;H[ht[ft]]=yt);return H},"o"),t=[1,3],r=[1,4],n=[1,5],a=[1,6],i=[5,6,8,9,11,13,21,22,23,24,41,42,43,44,45,46,54,72,74,77,89,90],o=[1,22],s=[2,7],l=[1,26],u=[1,27],f=[1,28],h=[1,29],d=[1,33],p=[1,34],m=[1,35],g=[1,36],v=[1,37],y=[1,38],b=[1,24],_=[1,31],k=[1,32],w=[1,30],T=[1,39],S=[1,40],C=[5,8,9,11,13,21,22,23,24,41,42,43,44,45,46,54,72,74,77,89,90],M=[1,61],N=[89,90],L=[5,8,9,11,13,21,22,23,24,27,29,41,42,43,44,45,46,54,61,63,72,74,75,76,77,80,81,82,83,84,85,86,87,88,89,90],E=[27,29],A=[1,70],D=[1,71],R=[1,72],I=[1,73],O=[1,74],F=[1,75],P=[1,76],q=[1,83],$=[1,80],W=[1,84],X=[1,85],tt=[1,86],Y=[1,87],ot=[1,88],Z=[1,89],ct=[1,90],rt=[1,91],et=[1,92],Q=[5,8,9,11,13,21,22,23,24,27,41,42,43,44,45,46,54,72,74,75,76,77,80,81,82,83,84,85,86,87,88,89,90],j=[63,64],it=[1,101],K=[5,8,9,11,13,21,22,23,24,41,42,43,44,45,46,54,72,74,76,77,89,90],dt=[5,8,9,11,13,21,22,23,24,41,42,43,44,45,46,54,72,74,75,76,77,80,81,82,83,84,85,86,87,88,89,90],nt=[1,110],_t=[1,106],V=[1,107],Ut=[1,108],pt=[1,109],Ft=[1,111],Yt=[1,116],Ht=[1,117],Lt=[1,114],Nt=[1,115],It={trace:x(function(){},"trace"),yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,acc_title:9,acc_title_value:10,acc_descr:11,acc_descr_value:12,acc_descr_multiline_value:13,requirementDef:14,elementDef:15,relationshipDef:16,direction:17,styleStatement:18,classDefStatement:19,classStatement:20,direction_tb:21,direction_bt:22,direction_rl:23,direction_lr:24,requirementType:25,requirementName:26,STRUCT_START:27,requirementBody:28,STYLE_SEPARATOR:29,idList:30,ID:31,COLONSEP:32,id:33,TEXT:34,text:35,RISK:36,riskLevel:37,VERIFYMTHD:38,verifyType:39,STRUCT_STOP:40,REQUIREMENT:41,FUNCTIONAL_REQUIREMENT:42,INTERFACE_REQUIREMENT:43,PERFORMANCE_REQUIREMENT:44,PHYSICAL_REQUIREMENT:45,DESIGN_CONSTRAINT:46,LOW_RISK:47,MED_RISK:48,HIGH_RISK:49,VERIFY_ANALYSIS:50,VERIFY_DEMONSTRATION:51,VERIFY_INSPECTION:52,VERIFY_TEST:53,ELEMENT:54,elementName:55,elementBody:56,TYPE:57,type:58,DOCREF:59,ref:60,END_ARROW_L:61,relationship:62,LINE:63,END_ARROW_R:64,CONTAINS:65,COPIES:66,DERIVES:67,SATISFIES:68,VERIFIES:69,REFINES:70,TRACES:71,CLASSDEF:72,stylesOpt:73,CLASS:74,ALPHA:75,COMMA:76,STYLE:77,style:78,styleComponent:79,NUM:80,COLON:81,UNIT:82,SPACE:83,BRKT:84,PCT:85,MINUS:86,LABEL:87,SEMICOLON:88,unqString:89,qString:90,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",9:"acc_title",10:"acc_title_value",11:"acc_descr",12:"acc_descr_value",13:"acc_descr_multiline_value",21:"direction_tb",22:"direction_bt",23:"direction_rl",24:"direction_lr",27:"STRUCT_START",29:"STYLE_SEPARATOR",31:"ID",32:"COLONSEP",34:"TEXT",36:"RISK",38:"VERIFYMTHD",40:"STRUCT_STOP",41:"REQUIREMENT",42:"FUNCTIONAL_REQUIREMENT",43:"INTERFACE_REQUIREMENT",44:"PERFORMANCE_REQUIREMENT",45:"PHYSICAL_REQUIREMENT",46:"DESIGN_CONSTRAINT",47:"LOW_RISK",48:"MED_RISK",49:"HIGH_RISK",50:"VERIFY_ANALYSIS",51:"VERIFY_DEMONSTRATION",52:"VERIFY_INSPECTION",53:"VERIFY_TEST",54:"ELEMENT",57:"TYPE",59:"DOCREF",61:"END_ARROW_L",63:"LINE",64:"END_ARROW_R",65:"CONTAINS",66:"COPIES",67:"DERIVES",68:"SATISFIES",69:"VERIFIES",70:"REFINES",71:"TRACES",72:"CLASSDEF",74:"CLASS",75:"ALPHA",76:"COMMA",77:"STYLE",80:"NUM",81:"COLON",82:"UNIT",83:"SPACE",84:"BRKT",85:"PCT",86:"MINUS",87:"LABEL",88:"SEMICOLON",89:"unqString",90:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,2],[4,2],[4,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[17,1],[17,1],[17,1],[17,1],[14,5],[14,7],[28,5],[28,5],[28,5],[28,5],[28,2],[28,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[37,1],[37,1],[37,1],[39,1],[39,1],[39,1],[39,1],[15,5],[15,7],[56,5],[56,5],[56,2],[56,1],[16,5],[16,5],[62,1],[62,1],[62,1],[62,1],[62,1],[62,1],[62,1],[19,3],[20,3],[20,3],[30,1],[30,3],[30,1],[30,3],[18,3],[73,1],[73,3],[78,1],[78,2],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[26,1],[26,1],[33,1],[33,1],[35,1],[35,1],[55,1],[55,1],[58,1],[58,1],[60,1],[60,1]],performAction:x(function(yt,H,ft,z,st,lt,wt){var vt=lt.length-1;switch(st){case 4:this.$=lt[vt].trim(),z.setAccTitle(this.$);break;case 5:case 6:this.$=lt[vt].trim(),z.setAccDescription(this.$);break;case 7:this.$=[];break;case 17:z.setDirection("TB");break;case 18:z.setDirection("BT");break;case 19:z.setDirection("RL");break;case 20:z.setDirection("LR");break;case 21:z.addRequirement(lt[vt-3],lt[vt-4]);break;case 22:z.addRequirement(lt[vt-5],lt[vt-6]),z.setClass([lt[vt-5]],lt[vt-3]);break;case 23:z.setNewReqId(lt[vt-2]);break;case 24:z.setNewReqText(lt[vt-2]);break;case 25:z.setNewReqRisk(lt[vt-2]);break;case 26:z.setNewReqVerifyMethod(lt[vt-2]);break;case 29:this.$=z.RequirementType.REQUIREMENT;break;case 30:this.$=z.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 31:this.$=z.RequirementType.INTERFACE_REQUIREMENT;break;case 32:this.$=z.RequirementType.PERFORMANCE_REQUIREMENT;break;case 33:this.$=z.RequirementType.PHYSICAL_REQUIREMENT;break;case 34:this.$=z.RequirementType.DESIGN_CONSTRAINT;break;case 35:this.$=z.RiskLevel.LOW_RISK;break;case 36:this.$=z.RiskLevel.MED_RISK;break;case 37:this.$=z.RiskLevel.HIGH_RISK;break;case 38:this.$=z.VerifyType.VERIFY_ANALYSIS;break;case 39:this.$=z.VerifyType.VERIFY_DEMONSTRATION;break;case 40:this.$=z.VerifyType.VERIFY_INSPECTION;break;case 41:this.$=z.VerifyType.VERIFY_TEST;break;case 42:z.addElement(lt[vt-3]);break;case 43:z.addElement(lt[vt-5]),z.setClass([lt[vt-5]],lt[vt-3]);break;case 44:z.setNewElementType(lt[vt-2]);break;case 45:z.setNewElementDocRef(lt[vt-2]);break;case 48:z.addRelationship(lt[vt-2],lt[vt],lt[vt-4]);break;case 49:z.addRelationship(lt[vt-2],lt[vt-4],lt[vt]);break;case 50:this.$=z.Relationships.CONTAINS;break;case 51:this.$=z.Relationships.COPIES;break;case 52:this.$=z.Relationships.DERIVES;break;case 53:this.$=z.Relationships.SATISFIES;break;case 54:this.$=z.Relationships.VERIFIES;break;case 55:this.$=z.Relationships.REFINES;break;case 56:this.$=z.Relationships.TRACES;break;case 57:this.$=lt[vt-2],z.defineClass(lt[vt-1],lt[vt]);break;case 58:z.setClass(lt[vt-1],lt[vt]);break;case 59:z.setClass([lt[vt-2]],lt[vt]);break;case 60:case 62:this.$=[lt[vt]];break;case 61:case 63:this.$=lt[vt-2].concat([lt[vt]]);break;case 64:this.$=lt[vt-2],z.setCssStyle(lt[vt-1],lt[vt]);break;case 65:this.$=[lt[vt]];break;case 66:lt[vt-2].push(lt[vt]),this.$=lt[vt-2];break;case 68:this.$=lt[vt-1]+lt[vt];break}},"anonymous"),table:[{3:1,4:2,6:t,9:r,11:n,13:a},{1:[3]},{3:8,4:2,5:[1,7],6:t,9:r,11:n,13:a},{5:[1,9]},{10:[1,10]},{12:[1,11]},e(i,[2,6]),{3:12,4:2,6:t,9:r,11:n,13:a},{1:[2,2]},{4:17,5:o,7:13,8:s,9:r,11:n,13:a,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:l,22:u,23:f,24:h,25:23,33:25,41:d,42:p,43:m,44:g,45:v,46:y,54:b,72:_,74:k,77:w,89:T,90:S},e(i,[2,4]),e(i,[2,5]),{1:[2,1]},{8:[1,41]},{4:17,5:o,7:42,8:s,9:r,11:n,13:a,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:l,22:u,23:f,24:h,25:23,33:25,41:d,42:p,43:m,44:g,45:v,46:y,54:b,72:_,74:k,77:w,89:T,90:S},{4:17,5:o,7:43,8:s,9:r,11:n,13:a,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:l,22:u,23:f,24:h,25:23,33:25,41:d,42:p,43:m,44:g,45:v,46:y,54:b,72:_,74:k,77:w,89:T,90:S},{4:17,5:o,7:44,8:s,9:r,11:n,13:a,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:l,22:u,23:f,24:h,25:23,33:25,41:d,42:p,43:m,44:g,45:v,46:y,54:b,72:_,74:k,77:w,89:T,90:S},{4:17,5:o,7:45,8:s,9:r,11:n,13:a,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:l,22:u,23:f,24:h,25:23,33:25,41:d,42:p,43:m,44:g,45:v,46:y,54:b,72:_,74:k,77:w,89:T,90:S},{4:17,5:o,7:46,8:s,9:r,11:n,13:a,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:l,22:u,23:f,24:h,25:23,33:25,41:d,42:p,43:m,44:g,45:v,46:y,54:b,72:_,74:k,77:w,89:T,90:S},{4:17,5:o,7:47,8:s,9:r,11:n,13:a,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:l,22:u,23:f,24:h,25:23,33:25,41:d,42:p,43:m,44:g,45:v,46:y,54:b,72:_,74:k,77:w,89:T,90:S},{4:17,5:o,7:48,8:s,9:r,11:n,13:a,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:l,22:u,23:f,24:h,25:23,33:25,41:d,42:p,43:m,44:g,45:v,46:y,54:b,72:_,74:k,77:w,89:T,90:S},{4:17,5:o,7:49,8:s,9:r,11:n,13:a,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:l,22:u,23:f,24:h,25:23,33:25,41:d,42:p,43:m,44:g,45:v,46:y,54:b,72:_,74:k,77:w,89:T,90:S},{4:17,5:o,7:50,8:s,9:r,11:n,13:a,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:l,22:u,23:f,24:h,25:23,33:25,41:d,42:p,43:m,44:g,45:v,46:y,54:b,72:_,74:k,77:w,89:T,90:S},{26:51,89:[1,52],90:[1,53]},{55:54,89:[1,55],90:[1,56]},{29:[1,59],61:[1,57],63:[1,58]},e(C,[2,17]),e(C,[2,18]),e(C,[2,19]),e(C,[2,20]),{30:60,33:62,75:M,89:T,90:S},{30:63,33:62,75:M,89:T,90:S},{30:64,33:62,75:M,89:T,90:S},e(N,[2,29]),e(N,[2,30]),e(N,[2,31]),e(N,[2,32]),e(N,[2,33]),e(N,[2,34]),e(L,[2,81]),e(L,[2,82]),{1:[2,3]},{8:[2,8]},{8:[2,9]},{8:[2,10]},{8:[2,11]},{8:[2,12]},{8:[2,13]},{8:[2,14]},{8:[2,15]},{8:[2,16]},{27:[1,65],29:[1,66]},e(E,[2,79]),e(E,[2,80]),{27:[1,67],29:[1,68]},e(E,[2,85]),e(E,[2,86]),{62:69,65:A,66:D,67:R,68:I,69:O,70:F,71:P},{62:77,65:A,66:D,67:R,68:I,69:O,70:F,71:P},{30:78,33:62,75:M,89:T,90:S},{73:79,75:q,76:$,78:81,79:82,80:W,81:X,82:tt,83:Y,84:ot,85:Z,86:ct,87:rt,88:et},e(Q,[2,60]),e(Q,[2,62]),{73:93,75:q,76:$,78:81,79:82,80:W,81:X,82:tt,83:Y,84:ot,85:Z,86:ct,87:rt,88:et},{30:94,33:62,75:M,76:$,89:T,90:S},{5:[1,95]},{30:96,33:62,75:M,89:T,90:S},{5:[1,97]},{30:98,33:62,75:M,89:T,90:S},{63:[1,99]},e(j,[2,50]),e(j,[2,51]),e(j,[2,52]),e(j,[2,53]),e(j,[2,54]),e(j,[2,55]),e(j,[2,56]),{64:[1,100]},e(C,[2,59],{76:$}),e(C,[2,64],{76:it}),{33:103,75:[1,102],89:T,90:S},e(K,[2,65],{79:104,75:q,80:W,81:X,82:tt,83:Y,84:ot,85:Z,86:ct,87:rt,88:et}),e(dt,[2,67]),e(dt,[2,69]),e(dt,[2,70]),e(dt,[2,71]),e(dt,[2,72]),e(dt,[2,73]),e(dt,[2,74]),e(dt,[2,75]),e(dt,[2,76]),e(dt,[2,77]),e(dt,[2,78]),e(C,[2,57],{76:it}),e(C,[2,58],{76:$}),{5:nt,28:105,31:_t,34:V,36:Ut,38:pt,40:Ft},{27:[1,112],76:$},{5:Yt,40:Ht,56:113,57:Lt,59:Nt},{27:[1,118],76:$},{33:119,89:T,90:S},{33:120,89:T,90:S},{75:q,78:121,79:82,80:W,81:X,82:tt,83:Y,84:ot,85:Z,86:ct,87:rt,88:et},e(Q,[2,61]),e(Q,[2,63]),e(dt,[2,68]),e(C,[2,21]),{32:[1,122]},{32:[1,123]},{32:[1,124]},{32:[1,125]},{5:nt,28:126,31:_t,34:V,36:Ut,38:pt,40:Ft},e(C,[2,28]),{5:[1,127]},e(C,[2,42]),{32:[1,128]},{32:[1,129]},{5:Yt,40:Ht,56:130,57:Lt,59:Nt},e(C,[2,47]),{5:[1,131]},e(C,[2,48]),e(C,[2,49]),e(K,[2,66],{79:104,75:q,80:W,81:X,82:tt,83:Y,84:ot,85:Z,86:ct,87:rt,88:et}),{33:132,89:T,90:S},{35:133,89:[1,134],90:[1,135]},{37:136,47:[1,137],48:[1,138],49:[1,139]},{39:140,50:[1,141],51:[1,142],52:[1,143],53:[1,144]},e(C,[2,27]),{5:nt,28:145,31:_t,34:V,36:Ut,38:pt,40:Ft},{58:146,89:[1,147],90:[1,148]},{60:149,89:[1,150],90:[1,151]},e(C,[2,46]),{5:Yt,40:Ht,56:152,57:Lt,59:Nt},{5:[1,153]},{5:[1,154]},{5:[2,83]},{5:[2,84]},{5:[1,155]},{5:[2,35]},{5:[2,36]},{5:[2,37]},{5:[1,156]},{5:[2,38]},{5:[2,39]},{5:[2,40]},{5:[2,41]},e(C,[2,22]),{5:[1,157]},{5:[2,87]},{5:[2,88]},{5:[1,158]},{5:[2,89]},{5:[2,90]},e(C,[2,43]),{5:nt,28:159,31:_t,34:V,36:Ut,38:pt,40:Ft},{5:nt,28:160,31:_t,34:V,36:Ut,38:pt,40:Ft},{5:nt,28:161,31:_t,34:V,36:Ut,38:pt,40:Ft},{5:nt,28:162,31:_t,34:V,36:Ut,38:pt,40:Ft},{5:Yt,40:Ht,56:163,57:Lt,59:Nt},{5:Yt,40:Ht,56:164,57:Lt,59:Nt},e(C,[2,23]),e(C,[2,24]),e(C,[2,25]),e(C,[2,26]),e(C,[2,44]),e(C,[2,45])],defaultActions:{8:[2,2],12:[2,1],41:[2,3],42:[2,8],43:[2,9],44:[2,10],45:[2,11],46:[2,12],47:[2,13],48:[2,14],49:[2,15],50:[2,16],134:[2,83],135:[2,84],137:[2,35],138:[2,36],139:[2,37],141:[2,38],142:[2,39],143:[2,40],144:[2,41],147:[2,87],148:[2,88],150:[2,89],151:[2,90]},parseError:x(function(yt,H){if(H.recoverable)this.trace(yt);else{var ft=new Error(yt);throw ft.hash=H,ft}},"parseError"),parse:x(function(yt){var H=this,ft=[0],z=[],st=[null],lt=[],wt=this.table,vt="",gt=0,Mt=0,St=0,Bt=2,jt=1,ue=lt.slice.call(arguments,1),Gt=Object.create(this.lexer),$t={yy:{}};for(var Xt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Xt)&&($t.yy[Xt]=this.yy[Xt]);Gt.setInput(yt,$t.yy),$t.yy.lexer=Gt,$t.yy.parser=this,typeof Gt.yylloc>"u"&&(Gt.yylloc={});var Wt=Gt.yylloc;lt.push(Wt);var ne=Gt.options&&Gt.options.ranges;typeof $t.yy.parseError=="function"?this.parseError=$t.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Fe(Je){ft.length=ft.length-2*Je,st.length=st.length-Je,lt.length=lt.length-Je}x(Fe,"popStack");function de(){var Je;return Je=z.pop()||Gt.lex()||jt,typeof Je!="number"&&(Je instanceof Array&&(z=Je,Je=z.pop()),Je=H.symbols_[Je]||Je),Je}x(de,"lex");for(var we,oe,ie,fe,pe,me,se={},Zr,Se,Jr,Ur;;){if(ie=ft[ft.length-1],this.defaultActions[ie]?fe=this.defaultActions[ie]:((we===null||typeof we>"u")&&(we=de()),fe=wt[ie]&&wt[ie][we]),typeof fe>"u"||!fe.length||!fe[0]){var rr="";Ur=[];for(Zr in wt[ie])this.terminals_[Zr]&&Zr>Bt&&Ur.push("'"+this.terminals_[Zr]+"'");Gt.showPosition?rr="Parse error on line "+(gt+1)+`:
`+Gt.showPosition()+`
Expecting `+Ur.join(", ")+", got '"+(this.terminals_[we]||we)+"'":rr="Parse error on line "+(gt+1)+": Unexpected "+(we==jt?"end of input":"'"+(this.terminals_[we]||we)+"'"),this.parseError(rr,{text:Gt.match,token:this.terminals_[we]||we,line:Gt.yylineno,loc:Wt,expected:Ur})}if(fe[0]instanceof Array&&fe.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ie+", token: "+we);switch(fe[0]){case 1:ft.push(we),st.push(Gt.yytext),lt.push(Gt.yylloc),ft.push(fe[1]),we=null,oe?(we=oe,oe=null):(Mt=Gt.yyleng,vt=Gt.yytext,gt=Gt.yylineno,Wt=Gt.yylloc,St>0&&St--);break;case 2:if(Se=this.productions_[fe[1]][1],se.$=st[st.length-Se],se._$={first_line:lt[lt.length-(Se||1)].first_line,last_line:lt[lt.length-1].last_line,first_column:lt[lt.length-(Se||1)].first_column,last_column:lt[lt.length-1].last_column},ne&&(se._$.range=[lt[lt.length-(Se||1)].range[0],lt[lt.length-1].range[1]]),me=this.performAction.apply(se,[vt,Mt,gt,$t.yy,fe[1],st,lt].concat(ue)),typeof me<"u")return me;Se&&(ft=ft.slice(0,-1*Se*2),st=st.slice(0,-1*Se),lt=lt.slice(0,-1*Se)),ft.push(this.productions_[fe[1]][0]),st.push(se.$),lt.push(se._$),Jr=wt[ft[ft.length-2]][ft[ft.length-1]],ft.push(Jr);break;case 3:return!0}}return!0},"parse")},kt=function(){var ht={EOF:1,parseError:x(function(H,ft){if(this.yy.parser)this.yy.parser.parseError(H,ft);else throw new Error(H)},"parseError"),setInput:x(function(yt,H){return this.yy=H||this.yy||{},this._input=yt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:x(function(){var yt=this._input[0];this.yytext+=yt,this.yyleng++,this.offset++,this.match+=yt,this.matched+=yt;var H=yt.match(/(?:\r\n?|\n).*/g);return H?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),yt},"input"),unput:x(function(yt){var H=yt.length,ft=yt.split(/(?:\r\n?|\n)/g);this._input=yt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-H),this.offset-=H;var z=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),ft.length-1&&(this.yylineno-=ft.length-1);var st=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:ft?(ft.length===z.length?this.yylloc.first_column:0)+z[z.length-ft.length].length-ft[0].length:this.yylloc.first_column-H},this.options.ranges&&(this.yylloc.range=[st[0],st[0]+this.yyleng-H]),this.yyleng=this.yytext.length,this},"unput"),more:x(function(){return this._more=!0,this},"more"),reject:x(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:x(function(yt){this.unput(this.match.slice(yt))},"less"),pastInput:x(function(){var yt=this.matched.substr(0,this.matched.length-this.match.length);return(yt.length>20?"...":"")+yt.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:x(function(){var yt=this.match;return yt.length<20&&(yt+=this._input.substr(0,20-yt.length)),(yt.substr(0,20)+(yt.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:x(function(){var yt=this.pastInput(),H=new Array(yt.length+1).join("-");return yt+this.upcomingInput()+`
`+H+"^"},"showPosition"),test_match:x(function(yt,H){var ft,z,st;if(this.options.backtrack_lexer&&(st={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(st.yylloc.range=this.yylloc.range.slice(0))),z=yt[0].match(/(?:\r\n?|\n).*/g),z&&(this.yylineno+=z.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:z?z[z.length-1].length-z[z.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+yt[0].length},this.yytext+=yt[0],this.match+=yt[0],this.matches=yt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(yt[0].length),this.matched+=yt[0],ft=this.performAction.call(this,this.yy,this,H,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),ft)return ft;if(this._backtrack){for(var lt in st)this[lt]=st[lt];return!1}return!1},"test_match"),next:x(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var yt,H,ft,z;this._more||(this.yytext="",this.match="");for(var st=this._currentRules(),lt=0;lt<st.length;lt++)if(ft=this._input.match(this.rules[st[lt]]),ft&&(!H||ft[0].length>H[0].length)){if(H=ft,z=lt,this.options.backtrack_lexer){if(yt=this.test_match(ft,st[lt]),yt!==!1)return yt;if(this._backtrack){H=!1;continue}else return!1}else if(!this.options.flex)break}return H?(yt=this.test_match(H,st[z]),yt!==!1?yt:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:x(function(){var H=this.next();return H||this.lex()},"lex"),begin:x(function(H){this.conditionStack.push(H)},"begin"),popState:x(function(){var H=this.conditionStack.length-1;return H>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:x(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:x(function(H){return H=this.conditionStack.length-1-Math.abs(H||0),H>=0?this.conditionStack[H]:"INITIAL"},"topState"),pushState:x(function(H){this.begin(H)},"pushState"),stateStackSize:x(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:x(function(H,ft,z,st){var lt=st;switch(z){case 0:return"title";case 1:return this.begin("acc_title"),9;break;case 2:return this.popState(),"acc_title_value";break;case 3:return this.begin("acc_descr"),11;break;case 4:return this.popState(),"acc_descr_value";break;case 5:this.begin("acc_descr_multiline");break;case 6:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:return 21;case 9:return 22;case 10:return 23;case 11:return 24;case 12:return 5;case 13:break;case 14:break;case 15:break;case 16:return 8;case 17:return 6;case 18:return 27;case 19:return 40;case 20:return 29;case 21:return 32;case 22:return 31;case 23:return 34;case 24:return 36;case 25:return 38;case 26:return 41;case 27:return 42;case 28:return 43;case 29:return 44;case 30:return 45;case 31:return 46;case 32:return 47;case 33:return 48;case 34:return 49;case 35:return 50;case 36:return 51;case 37:return 52;case 38:return 53;case 39:return 54;case 40:return 65;case 41:return 66;case 42:return 67;case 43:return 68;case 44:return 69;case 45:return 70;case 46:return 71;case 47:return 57;case 48:return 59;case 49:return this.begin("style"),77;break;case 50:return 75;case 51:return 81;case 52:return 88;case 53:return"PERCENT";case 54:return 86;case 55:return 84;case 56:break;case 57:this.begin("string");break;case 58:this.popState();break;case 59:return this.begin("style"),72;break;case 60:return this.begin("style"),74;break;case 61:return 61;case 62:return 64;case 63:return 63;case 64:this.begin("string");break;case 65:this.popState();break;case 66:return"qString";case 67:return ft.yytext=ft.yytext.trim(),89;break;case 68:return 75;case 69:return 80;case 70:return 76}},"anonymous"),rules:[/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::{3})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:style\b)/i,/^(?:\w+)/i,/^(?::)/i,/^(?:;)/i,/^(?:%)/i,/^(?:-)/i,/^(?:#)/i,/^(?: )/i,/^(?:["])/i,/^(?:\n)/i,/^(?:classDef\b)/i,/^(?:class\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^:,\r\n\{\<\>\-\=]*)/i,/^(?:\w+)/i,/^(?:[0-9]+)/i,/^(?:,)/i],conditions:{acc_descr_multiline:{rules:[6,7,68,69,70],inclusive:!1},acc_descr:{rules:[4,68,69,70],inclusive:!1},acc_title:{rules:[2,68,69,70],inclusive:!1},style:{rules:[50,51,52,53,54,55,56,57,58,68,69,70],inclusive:!1},unqString:{rules:[68,69,70],inclusive:!1},token:{rules:[68,69,70],inclusive:!1},string:{rules:[65,66,68,69,70],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,59,60,61,62,63,64,67,68,69,70],inclusive:!0}}};return ht}();It.lexer=kt;function Pt(){this.yy={}}return x(Pt,"Parser"),Pt.prototype=It,It.Parser=Pt,new Pt}();iq.parser=iq;nne=iq,ane=class{constructor(){this.relations=[],this.latestRequirement=this.getInitialRequirement(),this.requirements=new Map,this.latestElement=this.getInitialElement(),this.elements=new Map,this.classes=new Map,this.direction="TB",this.RequirementType={REQUIREMENT:"Requirement",FUNCTIONAL_REQUIREMENT:"Functional Requirement",INTERFACE_REQUIREMENT:"Interface Requirement",PERFORMANCE_REQUIREMENT:"Performance Requirement",PHYSICAL_REQUIREMENT:"Physical Requirement",DESIGN_CONSTRAINT:"Design Constraint"},this.RiskLevel={LOW_RISK:"Low",MED_RISK:"Medium",HIGH_RISK:"High"},this.VerifyType={VERIFY_ANALYSIS:"Analysis",VERIFY_DEMONSTRATION:"Demonstration",VERIFY_INSPECTION:"Inspection",VERIFY_TEST:"Test"},this.Relationships={CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"},this.setAccTitle=Mr,this.getAccTitle=Fr,this.setAccDescription=Pr,this.getAccDescription=Br,this.setDiagramTitle=Yr,this.getDiagramTitle=$r,this.getConfig=x(()=>bt().requirement,"getConfig"),this.clear(),this.setDirection=this.setDirection.bind(this),this.addRequirement=this.addRequirement.bind(this),this.setNewReqId=this.setNewReqId.bind(this),this.setNewReqRisk=this.setNewReqRisk.bind(this),this.setNewReqText=this.setNewReqText.bind(this),this.setNewReqVerifyMethod=this.setNewReqVerifyMethod.bind(this),this.addElement=this.addElement.bind(this),this.setNewElementType=this.setNewElementType.bind(this),this.setNewElementDocRef=this.setNewElementDocRef.bind(this),this.addRelationship=this.addRelationship.bind(this),this.setCssStyle=this.setCssStyle.bind(this),this.setClass=this.setClass.bind(this),this.defineClass=this.defineClass.bind(this),this.setAccTitle=this.setAccTitle.bind(this),this.setAccDescription=this.setAccDescription.bind(this)}static{x(this,"RequirementDB")}getDirection(){return this.direction}setDirection(e){this.direction=e}resetLatestRequirement(){this.latestRequirement=this.getInitialRequirement()}resetLatestElement(){this.latestElement=this.getInitialElement()}getInitialRequirement(){return{requirementId:"",text:"",risk:"",verifyMethod:"",name:"",type:"",cssStyles:[],classes:["default"]}}getInitialElement(){return{name:"",type:"",docRef:"",cssStyles:[],classes:["default"]}}addRequirement(e,t){return this.requirements.has(e)||this.requirements.set(e,{name:e,type:t,requirementId:this.latestRequirement.requirementId,text:this.latestRequirement.text,risk:this.latestRequirement.risk,verifyMethod:this.latestRequirement.verifyMethod,cssStyles:[],classes:["default"]}),this.resetLatestRequirement(),this.requirements.get(e)}getRequirements(){return this.requirements}setNewReqId(e){this.latestRequirement!==void 0&&(this.latestRequirement.requirementId=e)}setNewReqText(e){this.latestRequirement!==void 0&&(this.latestRequirement.text=e)}setNewReqRisk(e){this.latestRequirement!==void 0&&(this.latestRequirement.risk=e)}setNewReqVerifyMethod(e){this.latestRequirement!==void 0&&(this.latestRequirement.verifyMethod=e)}addElement(e){return this.elements.has(e)||(this.elements.set(e,{name:e,type:this.latestElement.type,docRef:this.latestElement.docRef,cssStyles:[],classes:["default"]}),J.info("Added new element: ",e)),this.resetLatestElement(),this.elements.get(e)}getElements(){return this.elements}setNewElementType(e){this.latestElement!==void 0&&(this.latestElement.type=e)}setNewElementDocRef(e){this.latestElement!==void 0&&(this.latestElement.docRef=e)}addRelationship(e,t,r){this.relations.push({type:e,src:t,dst:r})}getRelationships(){return this.relations}clear(){this.relations=[],this.resetLatestRequirement(),this.requirements=new Map,this.resetLatestElement(),this.elements=new Map,this.classes=new Map,wr()}setCssStyle(e,t){for(let r of e){let n=this.requirements.get(r)??this.elements.get(r);if(!t||!n)return;for(let a of t)a.includes(",")?n.cssStyles.push(...a.split(",")):n.cssStyles.push(a)}}setClass(e,t){for(let r of e){let n=this.requirements.get(r)??this.elements.get(r);if(n)for(let a of t){n.classes.push(a);let i=this.classes.get(a)?.styles;i&&n.cssStyles.push(...i)}}}defineClass(e,t){for(let r of e){let n=this.classes.get(r);n===void 0&&(n={id:r,styles:[],textStyles:[]},this.classes.set(r,n)),t&&t.forEach(function(a){if(/color/.exec(a)){let i=a.replace("fill","bgFill");n.textStyles.push(i)}n.styles.push(a)}),this.requirements.forEach(a=>{a.classes.includes(r)&&a.cssStyles.push(...t.flatMap(i=>i.split(",")))}),this.elements.forEach(a=>{a.classes.includes(r)&&a.cssStyles.push(...t.flatMap(i=>i.split(",")))})}}getClasses(){return this.classes}getData(){let e=bt(),t=[],r=[];for(let n of this.requirements.values()){let a=n;a.id=n.name,a.cssStyles=n.cssStyles,a.cssClasses=n.classes.join(" "),a.shape="requirementBox",a.look=e.look,t.push(a)}for(let n of this.elements.values()){let a=n;a.shape="requirementBox",a.look=e.look,a.id=n.name,a.cssStyles=n.cssStyles,a.cssClasses=n.classes.join(" "),t.push(a)}for(let n of this.relations){let a=0,i=n.type===this.Relationships.CONTAINS,o={id:`${n.src}-${n.dst}-${a}`,start:this.requirements.get(n.src)?.name??this.elements.get(n.src)?.name,end:this.requirements.get(n.dst)?.name??this.elements.get(n.dst)?.name,label:`&lt;&lt;${n.type}&gt;&gt;`,classes:"relationshipLine",style:["fill:none",i?"":"stroke-dasharray: 10,7"],labelpos:"c",thickness:"normal",type:"normal",pattern:i?"normal":"dashed",arrowTypeStart:i?"requirement_contains":"",arrowTypeEnd:i?"":"requirement_arrow",look:e.look};r.push(o),a++}return{nodes:t,edges:r,other:{},config:e,direction:this.getDirection()}}},ine=x(e=>`

  marker {
    fill: ${e.relationColor};
    stroke: ${e.relationColor};
  }

  marker.cross {
    stroke: ${e.lineColor};
  }

  svg {
    font-family: ${e.fontFamily};
    font-size: ${e.fontSize};
  }

  .reqBox {
    fill: ${e.requirementBackground};
    fill-opacity: 1.0;
    stroke: ${e.requirementBorderColor};
    stroke-width: ${e.requirementBorderSize};
  }
  
  .reqTitle, .reqLabel{
    fill:  ${e.requirementTextColor};
  }
  .reqLabelBox {
    fill: ${e.relationLabelBackground};
    fill-opacity: 1.0;
  }

  .req-title-line {
    stroke: ${e.requirementBorderColor};
    stroke-width: ${e.requirementBorderSize};
  }
  .relationshipLine {
    stroke: ${e.relationColor};
    stroke-width: 1;
  }
  .relationshipLabel {
    fill: ${e.relationLabelColor};
  }
  .divider {
    stroke: ${e.nodeBorder};
    stroke-width: 1;
  }
  .label {
    font-family: ${e.fontFamily};
    color: ${e.nodeTextColor||e.textColor};
  }
  .label text,span {
    fill: ${e.nodeTextColor||e.textColor};
    color: ${e.nodeTextColor||e.textColor};
  }
  .labelBkg {
    background-color: ${e.edgeLabelBackground};
  }

`,"getStyles"),one=ine,Tbt={};zh(Tbt,{draw:()=>sne});sne=x(async function(e,t,r,n){J.info("REF0:"),J.info("Drawing requirement diagram (unified)",t);let{securityLevel:a,state:i,layout:o}=bt(),s=n.db.getData(),l=tu(t,a);s.type=n.type,s.layoutAlgorithm=jc(o),s.nodeSpacing=i?.nodeSpacing??50,s.rankSpacing=i?.rankSpacing??50,s.markers=["requirement_contains","requirement_arrow"],s.diagramId=t,await Xl(s,l);let u=8;Ge.insertTitle(l,"requirementDiagramTitleText",i?.titleTopMargin??25,n.db.getDiagramTitle()),Us(l,u,"requirementDiagram",i?.useMaxWidth??!0)},"draw"),lne={parser:nne,get db(){return new ane},renderer:Tbt,styles:one}});var Pbt={};pr(Pbt,{diagram:()=>Xne});async function Mbt(e,t){ee.bumpVerticalPos(10);let{startx:r,stopx:n,message:a}=t,i=Jt.splitBreaks(a).length,o=ca(a),s=o?await wg(a,bt()):Ge.calculateTextDimensions(a,$m(Rt));if(!o){let h=s.height/i;t.height+=h,ee.bumpVerticalPos(h)}let l,u=s.height-10,f=s.width;if(r===n){l=ee.getVerticalPos()+u,Rt.rightAngles||(u+=Rt.boxMargin,l=ee.getVerticalPos()+u),u+=30;let h=Jt.getMax(f/2,Rt.width/2);ee.insert(r-h,ee.getVerticalPos()-10+u,n+h,ee.getVerticalPos()+30+u)}else u+=Rt.boxMargin,l=ee.getVerticalPos()+u,ee.insert(r,l-10,n,l);return ee.bumpVerticalPos(u),t.height+=u,t.stopy=t.starty+t.height,ee.insert(t.fromBounds,t.starty,t.toBounds,t.stopy),l}function Xu(e,t,r,n,a){ee.bumpVerticalPos(r);let i=n;if(t.id&&t.message&&e[t.id]){let o=e[t.id].width,s=$m(Rt);t.message=Ge.wrapLabel(`[${t.message}]`,o-2*Rt.wrapPadding,s),t.width=o,t.wrap=!0;let l=Ge.calculateTextDimensions(t.message,s),u=Jt.getMax(l.height,Rt.labelBoxHeight);i=n+u,J.debug(`${u} - ${t.message}`)}a(t),ee.bumpVerticalPos(i)}function Nbt(e,t,r,n,a,i,o){function s(f,h){f.x<a.get(e.from).x?(ee.insert(t.stopx-h,t.starty,t.startx,t.stopy+f.height/2+Rt.noteMargin),t.stopx=t.stopx+h):(ee.insert(t.startx,t.starty,t.stopx+h,t.stopy+f.height/2+Rt.noteMargin),t.stopx=t.stopx-h)}x(s,"receiverAdjustment");function l(f,h){f.x<a.get(e.to).x?(ee.insert(t.startx-h,t.starty,t.stopx,t.stopy+f.height/2+Rt.noteMargin),t.startx=t.startx+h):(ee.insert(t.stopx,t.starty,t.startx+h,t.stopy+f.height/2+Rt.noteMargin),t.startx=t.startx-h)}x(l,"senderAdjustment");let u=[GD.ACTOR,GD.CONTROL,GD.ENTITY,GD.DATABASE];if(i.get(e.to)==n){let f=a.get(e.to),h=u.includes(f.type)?Bm/2+3:f.width/2+3;s(f,h),f.starty=r-f.height/2,ee.bumpVerticalPos(f.height/2)}else if(o.get(e.from)==n){let f=a.get(e.from);if(Rt.mirrorActors){let h=u.includes(f.type)?Bm/2:f.width/2;l(f,h)}f.stopy=r-f.height/2,ee.bumpVerticalPos(f.height/2)}else if(o.get(e.to)==n){let f=a.get(e.to);if(Rt.mirrorActors){let h=u.includes(f.type)?Bm/2+3:f.width/2+3;s(f,h)}f.stopy=r-f.height/2,ee.bumpVerticalPos(f.height/2)}}async function Obt(e,t,r){let n={};for(let a of t)if(e.get(a.to)&&e.get(a.from)){let i=e.get(a.to);if(a.placement===r.db.PLACEMENT.LEFTOF&&!i.prevActor||a.placement===r.db.PLACEMENT.RIGHTOF&&!i.nextActor)continue;let o=a.placement!==void 0,s=!o,l=o?Ky(Rt):$m(Rt),u=a.wrap?Ge.wrapLabel(a.message,Rt.width-2*Rt.wrapPadding,l):a.message,h=(ca(u)?await wg(a.message,bt()):Ge.calculateTextDimensions(u,l)).width+2*Rt.wrapPadding;s&&a.from===i.nextActor?n[a.to]=Jt.getMax(n[a.to]||0,h):s&&a.from===i.prevActor?n[a.from]=Jt.getMax(n[a.from]||0,h):s&&a.from===a.to?(n[a.from]=Jt.getMax(n[a.from]||0,h/2),n[a.to]=Jt.getMax(n[a.to]||0,h/2)):a.placement===r.db.PLACEMENT.RIGHTOF?n[a.from]=Jt.getMax(n[a.from]||0,h):a.placement===r.db.PLACEMENT.LEFTOF?n[i.prevActor]=Jt.getMax(n[i.prevActor]||0,h):a.placement===r.db.PLACEMENT.OVER&&(i.prevActor&&(n[i.prevActor]=Jt.getMax(n[i.prevActor]||0,h/2)),i.nextActor&&(n[a.from]=Jt.getMax(n[a.from]||0,h/2)))}return J.debug("maxMessageWidthPerActor:",n),n}async function Fbt(e,t,r){let n=0;for(let i of e.keys()){let o=e.get(i);o.wrap&&(o.description=Ge.wrapLabel(o.description,Rt.width-2*Rt.wrapPadding,sq(Rt)));let s=ca(o.description)?await wg(o.description,bt()):Ge.calculateTextDimensions(o.description,sq(Rt));o.width=o.wrap?Rt.width:Jt.getMax(Rt.width,s.width+2*Rt.wrapPadding),o.height=o.wrap?Jt.getMax(s.height,Rt.height):Rt.height,n=Jt.getMax(n,o.height)}for(let i in t){let o=e.get(i);if(!o)continue;let s=e.get(o.nextActor);if(!s){let h=t[i]+Rt.actorMargin-o.width/2;o.margin=Jt.getMax(h,Rt.actorMargin);continue}let u=t[i]+Rt.actorMargin-o.width/2-s.width/2;o.margin=Jt.getMax(u,Rt.actorMargin)}let a=0;return r.forEach(i=>{let o=$m(Rt),s=i.actorKeys.reduce((h,d)=>h+=e.get(d).width+(e.get(d).margin||0),0),l=Rt.boxMargin*8;s+=l,s-=2*Rt.boxTextMargin,i.wrap&&(i.name=Ge.wrapLabel(i.name,s-2*Rt.wrapPadding,o));let u=Ge.calculateTextDimensions(i.name,o);a=Jt.getMax(u.height,a);let f=Jt.getMax(s,u.width+2*Rt.wrapPadding);if(i.margin=Rt.boxTextMargin,s<f){let h=(f-s)/2;i.margin+=h}}),r.forEach(i=>i.textMaxHeight=a),Jt.getMax(n,Rt.height)}var uq,oq,une,cne,fne,hne,GD,dne,pne,mne,Bm,xp,bp,HD,yp,Rw,gne,YD,VD,Qy,Sbt,Gr,Dbt,vne,yne,xne,bne,_ne,wne,Tne,Ene,kne,Cne,Sne,Dne,Ane,Abt,Lne,Mne,Ine,Rne,Nne,One,Fne,Lbt,Pne,Th,Bne,Ja,Rt,ee,$ne,$m,Ky,sq,zne,qne,lq,Ibt,Rbt,XD,Cbt,Une,Wne,Gne,Vne,Hne,Yne,Xne,Bbt=B(()=>{xS();pb();JF();On();Tr();nr();hr();uq=qo(jg(),1),oq=function(){var e=x(function(et,Q,j,it){for(j=j||{},it=et.length;it--;j[et[it]]=Q);return j},"o"),t=[1,2],r=[1,3],n=[1,4],a=[2,4],i=[1,9],o=[1,11],s=[1,13],l=[1,14],u=[1,16],f=[1,17],h=[1,18],d=[1,24],p=[1,25],m=[1,26],g=[1,27],v=[1,28],y=[1,29],b=[1,30],_=[1,31],k=[1,32],w=[1,33],T=[1,34],S=[1,35],C=[1,36],M=[1,37],N=[1,38],L=[1,39],E=[1,41],A=[1,42],D=[1,43],R=[1,44],I=[1,45],O=[1,46],F=[1,4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,47,48,49,50,52,53,55,60,61,62,63,71],P=[2,71],q=[4,5,16,50,52,53],$=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,50,52,53,55,60,61,62,63,71],W=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,49,50,52,53,55,60,61,62,63,71],X=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,48,50,52,53,55,60,61,62,63,71],tt=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,47,50,52,53,55,60,61,62,63,71],Y=[69,70,71],ot=[1,127],Z={trace:x(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SPACE:4,NEWLINE:5,SD:6,document:7,line:8,statement:9,box_section:10,box_line:11,participant_statement:12,create:13,box:14,restOfLine:15,end:16,signal:17,autonumber:18,NUM:19,off:20,activate:21,actor:22,deactivate:23,note_statement:24,links_statement:25,link_statement:26,properties_statement:27,details_statement:28,title:29,legacy_title:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,loop:36,rect:37,opt:38,alt:39,else_sections:40,par:41,par_sections:42,par_over:43,critical:44,option_sections:45,break:46,option:47,and:48,else:49,participant:50,AS:51,participant_actor:52,destroy:53,actor_with_config:54,note:55,placement:56,text2:57,over:58,actor_pair:59,links:60,link:61,properties:62,details:63,spaceList:64,",":65,left_of:66,right_of:67,signaltype:68,"+":69,"-":70,ACTOR:71,config_object:72,CONFIG_START:73,CONFIG_CONTENT:74,CONFIG_END:75,SOLID_OPEN_ARROW:76,DOTTED_OPEN_ARROW:77,SOLID_ARROW:78,BIDIRECTIONAL_SOLID_ARROW:79,DOTTED_ARROW:80,BIDIRECTIONAL_DOTTED_ARROW:81,SOLID_CROSS:82,DOTTED_CROSS:83,SOLID_POINT:84,DOTTED_POINT:85,TXT:86,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NEWLINE",6:"SD",13:"create",14:"box",15:"restOfLine",16:"end",18:"autonumber",19:"NUM",20:"off",21:"activate",23:"deactivate",29:"title",30:"legacy_title",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",36:"loop",37:"rect",38:"opt",39:"alt",41:"par",43:"par_over",44:"critical",46:"break",47:"option",48:"and",49:"else",50:"participant",51:"AS",52:"participant_actor",53:"destroy",55:"note",58:"over",60:"links",61:"link",62:"properties",63:"details",65:",",66:"left_of",67:"right_of",69:"+",70:"-",71:"ACTOR",73:"CONFIG_START",74:"CONFIG_CONTENT",75:"CONFIG_END",76:"SOLID_OPEN_ARROW",77:"DOTTED_OPEN_ARROW",78:"SOLID_ARROW",79:"BIDIRECTIONAL_SOLID_ARROW",80:"DOTTED_ARROW",81:"BIDIRECTIONAL_DOTTED_ARROW",82:"SOLID_CROSS",83:"DOTTED_CROSS",84:"SOLID_POINT",85:"DOTTED_POINT",86:"TXT"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[10,0],[10,2],[11,2],[11,1],[11,1],[9,1],[9,2],[9,4],[9,2],[9,4],[9,3],[9,3],[9,2],[9,3],[9,3],[9,2],[9,2],[9,2],[9,2],[9,2],[9,1],[9,1],[9,2],[9,2],[9,1],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[45,1],[45,4],[42,1],[42,4],[40,1],[40,4],[12,5],[12,3],[12,5],[12,3],[12,3],[12,3],[24,4],[24,4],[25,3],[26,3],[27,3],[28,3],[64,2],[64,1],[59,3],[59,1],[56,1],[56,1],[17,5],[17,5],[17,4],[54,2],[72,3],[22,1],[68,1],[68,1],[68,1],[68,1],[68,1],[68,1],[68,1],[68,1],[68,1],[68,1],[57,1]],performAction:x(function(Q,j,it,K,dt,nt,_t){var V=nt.length-1;switch(dt){case 3:return K.apply(nt[V]),nt[V];break;case 4:case 9:this.$=[];break;case 5:case 10:nt[V-1].push(nt[V]),this.$=nt[V-1];break;case 6:case 7:case 11:case 12:this.$=nt[V];break;case 8:case 13:this.$=[];break;case 15:nt[V].type="createParticipant",this.$=nt[V];break;case 16:nt[V-1].unshift({type:"boxStart",boxData:K.parseBoxData(nt[V-2])}),nt[V-1].push({type:"boxEnd",boxText:nt[V-2]}),this.$=nt[V-1];break;case 18:this.$={type:"sequenceIndex",sequenceIndex:Number(nt[V-2]),sequenceIndexStep:Number(nt[V-1]),sequenceVisible:!0,signalType:K.LINETYPE.AUTONUMBER};break;case 19:this.$={type:"sequenceIndex",sequenceIndex:Number(nt[V-1]),sequenceIndexStep:1,sequenceVisible:!0,signalType:K.LINETYPE.AUTONUMBER};break;case 20:this.$={type:"sequenceIndex",sequenceVisible:!1,signalType:K.LINETYPE.AUTONUMBER};break;case 21:this.$={type:"sequenceIndex",sequenceVisible:!0,signalType:K.LINETYPE.AUTONUMBER};break;case 22:this.$={type:"activeStart",signalType:K.LINETYPE.ACTIVE_START,actor:nt[V-1].actor};break;case 23:this.$={type:"activeEnd",signalType:K.LINETYPE.ACTIVE_END,actor:nt[V-1].actor};break;case 29:K.setDiagramTitle(nt[V].substring(6)),this.$=nt[V].substring(6);break;case 30:K.setDiagramTitle(nt[V].substring(7)),this.$=nt[V].substring(7);break;case 31:this.$=nt[V].trim(),K.setAccTitle(this.$);break;case 32:case 33:this.$=nt[V].trim(),K.setAccDescription(this.$);break;case 34:nt[V-1].unshift({type:"loopStart",loopText:K.parseMessage(nt[V-2]),signalType:K.LINETYPE.LOOP_START}),nt[V-1].push({type:"loopEnd",loopText:nt[V-2],signalType:K.LINETYPE.LOOP_END}),this.$=nt[V-1];break;case 35:nt[V-1].unshift({type:"rectStart",color:K.parseMessage(nt[V-2]),signalType:K.LINETYPE.RECT_START}),nt[V-1].push({type:"rectEnd",color:K.parseMessage(nt[V-2]),signalType:K.LINETYPE.RECT_END}),this.$=nt[V-1];break;case 36:nt[V-1].unshift({type:"optStart",optText:K.parseMessage(nt[V-2]),signalType:K.LINETYPE.OPT_START}),nt[V-1].push({type:"optEnd",optText:K.parseMessage(nt[V-2]),signalType:K.LINETYPE.OPT_END}),this.$=nt[V-1];break;case 37:nt[V-1].unshift({type:"altStart",altText:K.parseMessage(nt[V-2]),signalType:K.LINETYPE.ALT_START}),nt[V-1].push({type:"altEnd",signalType:K.LINETYPE.ALT_END}),this.$=nt[V-1];break;case 38:nt[V-1].unshift({type:"parStart",parText:K.parseMessage(nt[V-2]),signalType:K.LINETYPE.PAR_START}),nt[V-1].push({type:"parEnd",signalType:K.LINETYPE.PAR_END}),this.$=nt[V-1];break;case 39:nt[V-1].unshift({type:"parStart",parText:K.parseMessage(nt[V-2]),signalType:K.LINETYPE.PAR_OVER_START}),nt[V-1].push({type:"parEnd",signalType:K.LINETYPE.PAR_END}),this.$=nt[V-1];break;case 40:nt[V-1].unshift({type:"criticalStart",criticalText:K.parseMessage(nt[V-2]),signalType:K.LINETYPE.CRITICAL_START}),nt[V-1].push({type:"criticalEnd",signalType:K.LINETYPE.CRITICAL_END}),this.$=nt[V-1];break;case 41:nt[V-1].unshift({type:"breakStart",breakText:K.parseMessage(nt[V-2]),signalType:K.LINETYPE.BREAK_START}),nt[V-1].push({type:"breakEnd",optText:K.parseMessage(nt[V-2]),signalType:K.LINETYPE.BREAK_END}),this.$=nt[V-1];break;case 43:this.$=nt[V-3].concat([{type:"option",optionText:K.parseMessage(nt[V-1]),signalType:K.LINETYPE.CRITICAL_OPTION},nt[V]]);break;case 45:this.$=nt[V-3].concat([{type:"and",parText:K.parseMessage(nt[V-1]),signalType:K.LINETYPE.PAR_AND},nt[V]]);break;case 47:this.$=nt[V-3].concat([{type:"else",altText:K.parseMessage(nt[V-1]),signalType:K.LINETYPE.ALT_ELSE},nt[V]]);break;case 48:nt[V-3].draw="participant",nt[V-3].type="addParticipant",nt[V-3].description=K.parseMessage(nt[V-1]),this.$=nt[V-3];break;case 49:nt[V-1].draw="participant",nt[V-1].type="addParticipant",this.$=nt[V-1];break;case 50:nt[V-3].draw="actor",nt[V-3].type="addParticipant",nt[V-3].description=K.parseMessage(nt[V-1]),this.$=nt[V-3];break;case 51:nt[V-1].draw="actor",nt[V-1].type="addParticipant",this.$=nt[V-1];break;case 52:nt[V-1].type="destroyParticipant",this.$=nt[V-1];break;case 53:nt[V-1].draw="participant",nt[V-1].type="addParticipant",this.$=nt[V-1];break;case 54:this.$=[nt[V-1],{type:"addNote",placement:nt[V-2],actor:nt[V-1].actor,text:nt[V]}];break;case 55:nt[V-2]=[].concat(nt[V-1],nt[V-1]).slice(0,2),nt[V-2][0]=nt[V-2][0].actor,nt[V-2][1]=nt[V-2][1].actor,this.$=[nt[V-1],{type:"addNote",placement:K.PLACEMENT.OVER,actor:nt[V-2].slice(0,2),text:nt[V]}];break;case 56:this.$=[nt[V-1],{type:"addLinks",actor:nt[V-1].actor,text:nt[V]}];break;case 57:this.$=[nt[V-1],{type:"addALink",actor:nt[V-1].actor,text:nt[V]}];break;case 58:this.$=[nt[V-1],{type:"addProperties",actor:nt[V-1].actor,text:nt[V]}];break;case 59:this.$=[nt[V-1],{type:"addDetails",actor:nt[V-1].actor,text:nt[V]}];break;case 62:this.$=[nt[V-2],nt[V]];break;case 63:this.$=nt[V];break;case 64:this.$=K.PLACEMENT.LEFTOF;break;case 65:this.$=K.PLACEMENT.RIGHTOF;break;case 66:this.$=[nt[V-4],nt[V-1],{type:"addMessage",from:nt[V-4].actor,to:nt[V-1].actor,signalType:nt[V-3],msg:nt[V],activate:!0},{type:"activeStart",signalType:K.LINETYPE.ACTIVE_START,actor:nt[V-1].actor}];break;case 67:this.$=[nt[V-4],nt[V-1],{type:"addMessage",from:nt[V-4].actor,to:nt[V-1].actor,signalType:nt[V-3],msg:nt[V]},{type:"activeEnd",signalType:K.LINETYPE.ACTIVE_END,actor:nt[V-4].actor}];break;case 68:this.$=[nt[V-3],nt[V-1],{type:"addMessage",from:nt[V-3].actor,to:nt[V-1].actor,signalType:nt[V-2],msg:nt[V]}];break;case 69:this.$={type:"addParticipant",actor:nt[V-1],config:nt[V]};break;case 70:this.$=nt[V-1].trim();break;case 71:this.$={type:"addParticipant",actor:nt[V]};break;case 72:this.$=K.LINETYPE.SOLID_OPEN;break;case 73:this.$=K.LINETYPE.DOTTED_OPEN;break;case 74:this.$=K.LINETYPE.SOLID;break;case 75:this.$=K.LINETYPE.BIDIRECTIONAL_SOLID;break;case 76:this.$=K.LINETYPE.DOTTED;break;case 77:this.$=K.LINETYPE.BIDIRECTIONAL_DOTTED;break;case 78:this.$=K.LINETYPE.SOLID_CROSS;break;case 79:this.$=K.LINETYPE.DOTTED_CROSS;break;case 80:this.$=K.LINETYPE.SOLID_POINT;break;case 81:this.$=K.LINETYPE.DOTTED_POINT;break;case 82:this.$=K.parseMessage(nt[V].trim().substring(1));break}},"anonymous"),table:[{3:1,4:t,5:r,6:n},{1:[3]},{3:5,4:t,5:r,6:n},{3:6,4:t,5:r,6:n},e([1,4,5,13,14,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,50,52,53,55,60,61,62,63,71],a,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:i,5:o,8:8,9:10,12:12,13:s,14:l,17:15,18:u,21:f,22:40,23:h,24:19,25:20,26:21,27:22,28:23,29:d,30:p,31:m,33:g,35:v,36:y,37:b,38:_,39:k,41:w,43:T,44:S,46:C,50:M,52:N,53:L,55:E,60:A,61:D,62:R,63:I,71:O},e(F,[2,5]),{9:47,12:12,13:s,14:l,17:15,18:u,21:f,22:40,23:h,24:19,25:20,26:21,27:22,28:23,29:d,30:p,31:m,33:g,35:v,36:y,37:b,38:_,39:k,41:w,43:T,44:S,46:C,50:M,52:N,53:L,55:E,60:A,61:D,62:R,63:I,71:O},e(F,[2,7]),e(F,[2,8]),e(F,[2,14]),{12:48,50:M,52:N,53:L},{15:[1,49]},{5:[1,50]},{5:[1,53],19:[1,51],20:[1,52]},{22:54,71:O},{22:55,71:O},{5:[1,56]},{5:[1,57]},{5:[1,58]},{5:[1,59]},{5:[1,60]},e(F,[2,29]),e(F,[2,30]),{32:[1,61]},{34:[1,62]},e(F,[2,33]),{15:[1,63]},{15:[1,64]},{15:[1,65]},{15:[1,66]},{15:[1,67]},{15:[1,68]},{15:[1,69]},{15:[1,70]},{22:71,54:72,71:[1,73]},{22:74,71:O},{22:75,71:O},{68:76,76:[1,77],77:[1,78],78:[1,79],79:[1,80],80:[1,81],81:[1,82],82:[1,83],83:[1,84],84:[1,85],85:[1,86]},{56:87,58:[1,88],66:[1,89],67:[1,90]},{22:91,71:O},{22:92,71:O},{22:93,71:O},{22:94,71:O},e([5,51,65,76,77,78,79,80,81,82,83,84,85,86],P),e(F,[2,6]),e(F,[2,15]),e(q,[2,9],{10:95}),e(F,[2,17]),{5:[1,97],19:[1,96]},{5:[1,98]},e(F,[2,21]),{5:[1,99]},{5:[1,100]},e(F,[2,24]),e(F,[2,25]),e(F,[2,26]),e(F,[2,27]),e(F,[2,28]),e(F,[2,31]),e(F,[2,32]),e($,a,{7:101}),e($,a,{7:102}),e($,a,{7:103}),e(W,a,{40:104,7:105}),e(X,a,{42:106,7:107}),e(X,a,{7:107,42:108}),e(tt,a,{45:109,7:110}),e($,a,{7:111}),{5:[1,113],51:[1,112]},{5:[1,114]},e([5,51],P,{72:115,73:[1,116]}),{5:[1,118],51:[1,117]},{5:[1,119]},{22:122,69:[1,120],70:[1,121],71:O},e(Y,[2,72]),e(Y,[2,73]),e(Y,[2,74]),e(Y,[2,75]),e(Y,[2,76]),e(Y,[2,77]),e(Y,[2,78]),e(Y,[2,79]),e(Y,[2,80]),e(Y,[2,81]),{22:123,71:O},{22:125,59:124,71:O},{71:[2,64]},{71:[2,65]},{57:126,86:ot},{57:128,86:ot},{57:129,86:ot},{57:130,86:ot},{4:[1,133],5:[1,135],11:132,12:134,16:[1,131],50:M,52:N,53:L},{5:[1,136]},e(F,[2,19]),e(F,[2,20]),e(F,[2,22]),e(F,[2,23]),{4:i,5:o,8:8,9:10,12:12,13:s,14:l,16:[1,137],17:15,18:u,21:f,22:40,23:h,24:19,25:20,26:21,27:22,28:23,29:d,30:p,31:m,33:g,35:v,36:y,37:b,38:_,39:k,41:w,43:T,44:S,46:C,50:M,52:N,53:L,55:E,60:A,61:D,62:R,63:I,71:O},{4:i,5:o,8:8,9:10,12:12,13:s,14:l,16:[1,138],17:15,18:u,21:f,22:40,23:h,24:19,25:20,26:21,27:22,28:23,29:d,30:p,31:m,33:g,35:v,36:y,37:b,38:_,39:k,41:w,43:T,44:S,46:C,50:M,52:N,53:L,55:E,60:A,61:D,62:R,63:I,71:O},{4:i,5:o,8:8,9:10,12:12,13:s,14:l,16:[1,139],17:15,18:u,21:f,22:40,23:h,24:19,25:20,26:21,27:22,28:23,29:d,30:p,31:m,33:g,35:v,36:y,37:b,38:_,39:k,41:w,43:T,44:S,46:C,50:M,52:N,53:L,55:E,60:A,61:D,62:R,63:I,71:O},{16:[1,140]},{4:i,5:o,8:8,9:10,12:12,13:s,14:l,16:[2,46],17:15,18:u,21:f,22:40,23:h,24:19,25:20,26:21,27:22,28:23,29:d,30:p,31:m,33:g,35:v,36:y,37:b,38:_,39:k,41:w,43:T,44:S,46:C,49:[1,141],50:M,52:N,53:L,55:E,60:A,61:D,62:R,63:I,71:O},{16:[1,142]},{4:i,5:o,8:8,9:10,12:12,13:s,14:l,16:[2,44],17:15,18:u,21:f,22:40,23:h,24:19,25:20,26:21,27:22,28:23,29:d,30:p,31:m,33:g,35:v,36:y,37:b,38:_,39:k,41:w,43:T,44:S,46:C,48:[1,143],50:M,52:N,53:L,55:E,60:A,61:D,62:R,63:I,71:O},{16:[1,144]},{16:[1,145]},{4:i,5:o,8:8,9:10,12:12,13:s,14:l,16:[2,42],17:15,18:u,21:f,22:40,23:h,24:19,25:20,26:21,27:22,28:23,29:d,30:p,31:m,33:g,35:v,36:y,37:b,38:_,39:k,41:w,43:T,44:S,46:C,47:[1,146],50:M,52:N,53:L,55:E,60:A,61:D,62:R,63:I,71:O},{4:i,5:o,8:8,9:10,12:12,13:s,14:l,16:[1,147],17:15,18:u,21:f,22:40,23:h,24:19,25:20,26:21,27:22,28:23,29:d,30:p,31:m,33:g,35:v,36:y,37:b,38:_,39:k,41:w,43:T,44:S,46:C,50:M,52:N,53:L,55:E,60:A,61:D,62:R,63:I,71:O},{15:[1,148]},e(F,[2,49]),e(F,[2,53]),{5:[2,69]},{74:[1,149]},{15:[1,150]},e(F,[2,51]),e(F,[2,52]),{22:151,71:O},{22:152,71:O},{57:153,86:ot},{57:154,86:ot},{57:155,86:ot},{65:[1,156],86:[2,63]},{5:[2,56]},{5:[2,82]},{5:[2,57]},{5:[2,58]},{5:[2,59]},e(F,[2,16]),e(q,[2,10]),{12:157,50:M,52:N,53:L},e(q,[2,12]),e(q,[2,13]),e(F,[2,18]),e(F,[2,34]),e(F,[2,35]),e(F,[2,36]),e(F,[2,37]),{15:[1,158]},e(F,[2,38]),{15:[1,159]},e(F,[2,39]),e(F,[2,40]),{15:[1,160]},e(F,[2,41]),{5:[1,161]},{75:[1,162]},{5:[1,163]},{57:164,86:ot},{57:165,86:ot},{5:[2,68]},{5:[2,54]},{5:[2,55]},{22:166,71:O},e(q,[2,11]),e(W,a,{7:105,40:167}),e(X,a,{7:107,42:168}),e(tt,a,{7:110,45:169}),e(F,[2,48]),{5:[2,70]},e(F,[2,50]),{5:[2,66]},{5:[2,67]},{86:[2,62]},{16:[2,47]},{16:[2,45]},{16:[2,43]}],defaultActions:{5:[2,1],6:[2,2],89:[2,64],90:[2,65],115:[2,69],126:[2,56],127:[2,82],128:[2,57],129:[2,58],130:[2,59],153:[2,68],154:[2,54],155:[2,55],162:[2,70],164:[2,66],165:[2,67],166:[2,62],167:[2,47],168:[2,45],169:[2,43]},parseError:x(function(Q,j){if(j.recoverable)this.trace(Q);else{var it=new Error(Q);throw it.hash=j,it}},"parseError"),parse:x(function(Q){var j=this,it=[0],K=[],dt=[null],nt=[],_t=this.table,V="",Ut=0,pt=0,Ft=0,Yt=2,Ht=1,Lt=nt.slice.call(arguments,1),Nt=Object.create(this.lexer),It={yy:{}};for(var kt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,kt)&&(It.yy[kt]=this.yy[kt]);Nt.setInput(Q,It.yy),It.yy.lexer=Nt,It.yy.parser=this,typeof Nt.yylloc>"u"&&(Nt.yylloc={});var Pt=Nt.yylloc;nt.push(Pt);var ht=Nt.options&&Nt.options.ranges;typeof It.yy.parseError=="function"?this.parseError=It.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function yt(Gt){it.length=it.length-2*Gt,dt.length=dt.length-Gt,nt.length=nt.length-Gt}x(yt,"popStack");function H(){var Gt;return Gt=K.pop()||Nt.lex()||Ht,typeof Gt!="number"&&(Gt instanceof Array&&(K=Gt,Gt=K.pop()),Gt=j.symbols_[Gt]||Gt),Gt}x(H,"lex");for(var ft,z,st,lt,wt,vt,gt={},Mt,St,Bt,jt;;){if(st=it[it.length-1],this.defaultActions[st]?lt=this.defaultActions[st]:((ft===null||typeof ft>"u")&&(ft=H()),lt=_t[st]&&_t[st][ft]),typeof lt>"u"||!lt.length||!lt[0]){var ue="";jt=[];for(Mt in _t[st])this.terminals_[Mt]&&Mt>Yt&&jt.push("'"+this.terminals_[Mt]+"'");Nt.showPosition?ue="Parse error on line "+(Ut+1)+`:
`+Nt.showPosition()+`
Expecting `+jt.join(", ")+", got '"+(this.terminals_[ft]||ft)+"'":ue="Parse error on line "+(Ut+1)+": Unexpected "+(ft==Ht?"end of input":"'"+(this.terminals_[ft]||ft)+"'"),this.parseError(ue,{text:Nt.match,token:this.terminals_[ft]||ft,line:Nt.yylineno,loc:Pt,expected:jt})}if(lt[0]instanceof Array&&lt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+st+", token: "+ft);switch(lt[0]){case 1:it.push(ft),dt.push(Nt.yytext),nt.push(Nt.yylloc),it.push(lt[1]),ft=null,z?(ft=z,z=null):(pt=Nt.yyleng,V=Nt.yytext,Ut=Nt.yylineno,Pt=Nt.yylloc,Ft>0&&Ft--);break;case 2:if(St=this.productions_[lt[1]][1],gt.$=dt[dt.length-St],gt._$={first_line:nt[nt.length-(St||1)].first_line,last_line:nt[nt.length-1].last_line,first_column:nt[nt.length-(St||1)].first_column,last_column:nt[nt.length-1].last_column},ht&&(gt._$.range=[nt[nt.length-(St||1)].range[0],nt[nt.length-1].range[1]]),vt=this.performAction.apply(gt,[V,pt,Ut,It.yy,lt[1],dt,nt].concat(Lt)),typeof vt<"u")return vt;St&&(it=it.slice(0,-1*St*2),dt=dt.slice(0,-1*St),nt=nt.slice(0,-1*St)),it.push(this.productions_[lt[1]][0]),dt.push(gt.$),nt.push(gt._$),Bt=_t[it[it.length-2]][it[it.length-1]],it.push(Bt);break;case 3:return!0}}return!0},"parse")},ct=function(){var et={EOF:1,parseError:x(function(j,it){if(this.yy.parser)this.yy.parser.parseError(j,it);else throw new Error(j)},"parseError"),setInput:x(function(Q,j){return this.yy=j||this.yy||{},this._input=Q,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:x(function(){var Q=this._input[0];this.yytext+=Q,this.yyleng++,this.offset++,this.match+=Q,this.matched+=Q;var j=Q.match(/(?:\r\n?|\n).*/g);return j?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Q},"input"),unput:x(function(Q){var j=Q.length,it=Q.split(/(?:\r\n?|\n)/g);this._input=Q+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-j),this.offset-=j;var K=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),it.length-1&&(this.yylineno-=it.length-1);var dt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:it?(it.length===K.length?this.yylloc.first_column:0)+K[K.length-it.length].length-it[0].length:this.yylloc.first_column-j},this.options.ranges&&(this.yylloc.range=[dt[0],dt[0]+this.yyleng-j]),this.yyleng=this.yytext.length,this},"unput"),more:x(function(){return this._more=!0,this},"more"),reject:x(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:x(function(Q){this.unput(this.match.slice(Q))},"less"),pastInput:x(function(){var Q=this.matched.substr(0,this.matched.length-this.match.length);return(Q.length>20?"...":"")+Q.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:x(function(){var Q=this.match;return Q.length<20&&(Q+=this._input.substr(0,20-Q.length)),(Q.substr(0,20)+(Q.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:x(function(){var Q=this.pastInput(),j=new Array(Q.length+1).join("-");return Q+this.upcomingInput()+`
`+j+"^"},"showPosition"),test_match:x(function(Q,j){var it,K,dt;if(this.options.backtrack_lexer&&(dt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(dt.yylloc.range=this.yylloc.range.slice(0))),K=Q[0].match(/(?:\r\n?|\n).*/g),K&&(this.yylineno+=K.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:K?K[K.length-1].length-K[K.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Q[0].length},this.yytext+=Q[0],this.match+=Q[0],this.matches=Q,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Q[0].length),this.matched+=Q[0],it=this.performAction.call(this,this.yy,this,j,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),it)return it;if(this._backtrack){for(var nt in dt)this[nt]=dt[nt];return!1}return!1},"test_match"),next:x(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Q,j,it,K;this._more||(this.yytext="",this.match="");for(var dt=this._currentRules(),nt=0;nt<dt.length;nt++)if(it=this._input.match(this.rules[dt[nt]]),it&&(!j||it[0].length>j[0].length)){if(j=it,K=nt,this.options.backtrack_lexer){if(Q=this.test_match(it,dt[nt]),Q!==!1)return Q;if(this._backtrack){j=!1;continue}else return!1}else if(!this.options.flex)break}return j?(Q=this.test_match(j,dt[K]),Q!==!1?Q:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:x(function(){var j=this.next();return j||this.lex()},"lex"),begin:x(function(j){this.conditionStack.push(j)},"begin"),popState:x(function(){var j=this.conditionStack.length-1;return j>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:x(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:x(function(j){return j=this.conditionStack.length-1-Math.abs(j||0),j>=0?this.conditionStack[j]:"INITIAL"},"topState"),pushState:x(function(j){this.begin(j)},"pushState"),stateStackSize:x(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:x(function(j,it,K,dt){var nt=dt;switch(K){case 0:return 5;case 1:break;case 2:break;case 3:break;case 4:break;case 5:break;case 6:return 19;case 7:return this.begin("CONFIG"),73;break;case 8:return 74;case 9:return this.popState(),this.popState(),75;break;case 10:return it.yytext=it.yytext.trim(),71;break;case 11:return it.yytext=it.yytext.trim(),this.begin("ALIAS"),71;break;case 12:return this.begin("LINE"),14;break;case 13:return this.begin("ID"),50;break;case 14:return this.begin("ID"),52;break;case 15:return 13;case 16:return this.begin("ID"),53;break;case 17:return it.yytext=it.yytext.trim(),this.begin("ALIAS"),71;break;case 18:return this.popState(),this.popState(),this.begin("LINE"),51;break;case 19:return this.popState(),this.popState(),5;break;case 20:return this.begin("LINE"),36;break;case 21:return this.begin("LINE"),37;break;case 22:return this.begin("LINE"),38;break;case 23:return this.begin("LINE"),39;break;case 24:return this.begin("LINE"),49;break;case 25:return this.begin("LINE"),41;break;case 26:return this.begin("LINE"),43;break;case 27:return this.begin("LINE"),48;break;case 28:return this.begin("LINE"),44;break;case 29:return this.begin("LINE"),47;break;case 30:return this.begin("LINE"),46;break;case 31:return this.popState(),15;break;case 32:return 16;case 33:return 66;case 34:return 67;case 35:return 60;case 36:return 61;case 37:return 62;case 38:return 63;case 39:return 58;case 40:return 55;case 41:return this.begin("ID"),21;break;case 42:return this.begin("ID"),23;break;case 43:return 29;case 44:return 30;case 45:return this.begin("acc_title"),31;break;case 46:return this.popState(),"acc_title_value";break;case 47:return this.begin("acc_descr"),33;break;case 48:return this.popState(),"acc_descr_value";break;case 49:this.begin("acc_descr_multiline");break;case 50:this.popState();break;case 51:return"acc_descr_multiline_value";case 52:return 6;case 53:return 18;case 54:return 20;case 55:return 65;case 56:return 5;case 57:return it.yytext=it.yytext.trim(),71;break;case 58:return 78;case 59:return 79;case 60:return 80;case 61:return 81;case 62:return 76;case 63:return 77;case 64:return 82;case 65:return 83;case 66:return 84;case 67:return 85;case 68:return 86;case 69:return 86;case 70:return 69;case 71:return 70;case 72:return 5;case 73:return"INVALID"}},"anonymous"),rules:[/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[0-9]+(?=[ \n]+))/i,/^(?:@\{)/i,/^(?:[^\}]+)/i,/^(?:\})/i,/^(?:[^\<->\->:\n,;@\s]+(?=@\{))/i,/^(?:[^\<->\->:\n,;@]+?([\-]*[^\<->\->:\n,;@]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:box\b)/i,/^(?:participant\b)/i,/^(?:actor\b)/i,/^(?:create\b)/i,/^(?:destroy\b)/i,/^(?:[^<\->\->:\n,;]+?([\-]*[^<\->\->:\n,;]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:rect\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,/^(?:else\b)/i,/^(?:par\b)/i,/^(?:par_over\b)/i,/^(?:and\b)/i,/^(?:critical\b)/i,/^(?:option\b)/i,/^(?:break\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:links\b)/i,/^(?:link\b)/i,/^(?:properties\b)/i,/^(?:details\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:title:\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:sequenceDiagram\b)/i,/^(?:autonumber\b)/i,/^(?:off\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^+<\->\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+<\->\->:\n,;]+)*)/i,/^(?:->>)/i,/^(?:<<->>)/i,/^(?:-->>)/i,/^(?:<<-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[\)])/i,/^(?:--[\)])/i,/^(?::(?:(?:no)?wrap)?[^#\n;]*)/i,/^(?::)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[50,51],inclusive:!1},acc_descr:{rules:[48],inclusive:!1},acc_title:{rules:[46],inclusive:!1},ID:{rules:[2,3,7,10,11,17],inclusive:!1},ALIAS:{rules:[2,3,18,19],inclusive:!1},LINE:{rules:[2,3,31],inclusive:!1},CONFIG:{rules:[8,9],inclusive:!1},CONFIG_DATA:{rules:[],inclusive:!1},INITIAL:{rules:[0,1,3,4,5,6,12,13,14,15,16,20,21,22,23,24,25,26,27,28,29,30,32,33,34,35,36,37,38,39,40,41,42,43,44,45,47,49,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73],inclusive:!0}}};return et}();Z.lexer=ct;function rt(){this.yy={}}return x(rt,"Parser"),rt.prototype=Z,Z.Parser=rt,new rt}();oq.parser=oq;une=oq,cne={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25,AUTONUMBER:26,CRITICAL_START:27,CRITICAL_OPTION:28,CRITICAL_END:29,BREAK_START:30,BREAK_END:31,PAR_OVER_START:32,BIDIRECTIONAL_SOLID:33,BIDIRECTIONAL_DOTTED:34},fne={FILLED:0,OPEN:1},hne={LEFTOF:0,RIGHTOF:1,OVER:2},GD={ACTOR:"actor",BOUNDARY:"boundary",COLLECTIONS:"collections",CONTROL:"control",DATABASE:"database",ENTITY:"entity",PARTICIPANT:"participant",QUEUE:"queue"},dne=class{constructor(){this.state=new DS(()=>({prevActor:void 0,actors:new Map,createdActors:new Map,destroyedActors:new Map,boxes:[],messages:[],notes:[],sequenceNumbersEnabled:!1,wrapEnabled:void 0,currentBox:void 0,lastCreated:void 0,lastDestroyed:void 0})),this.setAccTitle=Mr,this.setAccDescription=Pr,this.setDiagramTitle=Yr,this.getAccTitle=Fr,this.getAccDescription=Br,this.getDiagramTitle=$r,this.apply=this.apply.bind(this),this.parseBoxData=this.parseBoxData.bind(this),this.parseMessage=this.parseMessage.bind(this),this.clear(),this.setWrap(bt().wrap),this.LINETYPE=cne,this.ARROWTYPE=fne,this.PLACEMENT=hne}static{x(this,"SequenceDB")}addBox(e){this.state.records.boxes.push({name:e.text,wrap:e.wrap??this.autoWrap(),fill:e.color,actorKeys:[]}),this.state.records.currentBox=this.state.records.boxes.slice(-1)[0]}addActor(e,t,r,n,a){let i=this.state.records.currentBox,o;if(a!==void 0){let l;a.includes(`
`)?l=a+`
`:l=`{
`+a+`
}`,o=cd(l,{schema:ud})}n=o?.type??n;let s=this.state.records.actors.get(e);if(s){if(this.state.records.currentBox&&s.box&&this.state.records.currentBox!==s.box)throw new Error(`A same participant should only be defined in one Box: ${s.name} can't be in '${s.box.name}' and in '${this.state.records.currentBox.name}' at the same time.`);if(i=s.box?s.box:this.state.records.currentBox,s.box=i,s&&t===s.name&&r==null)return}if(r?.text==null&&(r={text:t,type:n}),(n==null||r.text==null)&&(r={text:t,type:n}),this.state.records.actors.set(e,{box:i,name:t,description:r.text,wrap:r.wrap??this.autoWrap(),prevActor:this.state.records.prevActor,links:{},properties:{},actorCnt:null,rectData:null,type:n??"participant"}),this.state.records.prevActor){let l=this.state.records.actors.get(this.state.records.prevActor);l&&(l.nextActor=e)}this.state.records.currentBox&&this.state.records.currentBox.actorKeys.push(e),this.state.records.prevActor=e}activationCount(e){let t,r=0;if(!e)return 0;for(t=0;t<this.state.records.messages.length;t++)this.state.records.messages[t].type===this.LINETYPE.ACTIVE_START&&this.state.records.messages[t].from===e&&r++,this.state.records.messages[t].type===this.LINETYPE.ACTIVE_END&&this.state.records.messages[t].from===e&&r--;return r}addMessage(e,t,r,n){this.state.records.messages.push({id:this.state.records.messages.length.toString(),from:e,to:t,message:r.text,wrap:r.wrap??this.autoWrap(),answer:n})}addSignal(e,t,r,n,a=!1){if(n===this.LINETYPE.ACTIVE_END&&this.activationCount(e??"")<1){let o=new Error("Trying to inactivate an inactive participant ("+e+")");throw o.hash={text:"->>-",token:"->>-",line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["'ACTIVE_PARTICIPANT'"]},o}return this.state.records.messages.push({id:this.state.records.messages.length.toString(),from:e,to:t,message:r?.text??"",wrap:r?.wrap??this.autoWrap(),type:n,activate:a}),!0}hasAtLeastOneBox(){return this.state.records.boxes.length>0}hasAtLeastOneBoxWithTitle(){return this.state.records.boxes.some(e=>e.name)}getMessages(){return this.state.records.messages}getBoxes(){return this.state.records.boxes}getActors(){return this.state.records.actors}getCreatedActors(){return this.state.records.createdActors}getDestroyedActors(){return this.state.records.destroyedActors}getActor(e){return this.state.records.actors.get(e)}getActorKeys(){return[...this.state.records.actors.keys()]}enableSequenceNumbers(){this.state.records.sequenceNumbersEnabled=!0}disableSequenceNumbers(){this.state.records.sequenceNumbersEnabled=!1}showSequenceNumbers(){return this.state.records.sequenceNumbersEnabled}setWrap(e){this.state.records.wrapEnabled=e}extractWrap(e){if(e===void 0)return{};e=e.trim();let t=/^:?wrap:/.exec(e)!==null?!0:/^:?nowrap:/.exec(e)!==null?!1:void 0;return{cleanedText:(t===void 0?e:e.replace(/^:?(?:no)?wrap:/,"")).trim(),wrap:t}}autoWrap(){return this.state.records.wrapEnabled!==void 0?this.state.records.wrapEnabled:bt().sequence?.wrap??!1}clear(){this.state.reset(),wr()}parseMessage(e){let t=e.trim(),{wrap:r,cleanedText:n}=this.extractWrap(t),a={text:n,wrap:r};return J.debug(`parseMessage: ${JSON.stringify(a)}`),a}parseBoxData(e){let t=/^((?:rgba?|hsla?)\s*\(.*\)|\w*)(.*)$/.exec(e),r=t?.[1]?t[1].trim():"transparent",n=t?.[2]?t[2].trim():void 0;if(window?.CSS)window.CSS.supports("color",r)||(r="transparent",n=e.trim());else{let o=new Option().style;o.color=r,o.color!==r&&(r="transparent",n=e.trim())}let{wrap:a,cleanedText:i}=this.extractWrap(n);return{text:i?sr(i,bt()):void 0,color:r,wrap:a}}addNote(e,t,r){let n={actor:e,placement:t,message:r.text,wrap:r.wrap??this.autoWrap()},a=[].concat(e,e);this.state.records.notes.push(n),this.state.records.messages.push({id:this.state.records.messages.length.toString(),from:a[0],to:a[1],message:r.text,wrap:r.wrap??this.autoWrap(),type:this.LINETYPE.NOTE,placement:t})}addLinks(e,t){let r=this.getActor(e);try{let n=sr(t.text,bt());n=n.replace(/&equals;/g,"="),n=n.replace(/&amp;/g,"&");let a=JSON.parse(n);this.insertLinks(r,a)}catch(n){J.error("error while parsing actor link text",n)}}addALink(e,t){let r=this.getActor(e);try{let n={},a=sr(t.text,bt()),i=a.indexOf("@");a=a.replace(/&equals;/g,"="),a=a.replace(/&amp;/g,"&");let o=a.slice(0,i-1).trim(),s=a.slice(i+1).trim();n[o]=s,this.insertLinks(r,n)}catch(n){J.error("error while parsing actor link text",n)}}insertLinks(e,t){if(e.links==null)e.links=t;else for(let r in t)e.links[r]=t[r]}addProperties(e,t){let r=this.getActor(e);try{let n=sr(t.text,bt()),a=JSON.parse(n);this.insertProperties(r,a)}catch(n){J.error("error while parsing actor properties text",n)}}insertProperties(e,t){if(e.properties==null)e.properties=t;else for(let r in t)e.properties[r]=t[r]}boxEnd(){this.state.records.currentBox=void 0}addDetails(e,t){let r=this.getActor(e),n=document.getElementById(t.text);try{let a=n.innerHTML,i=JSON.parse(a);i.properties&&this.insertProperties(r,i.properties),i.links&&this.insertLinks(r,i.links)}catch(a){J.error("error while parsing actor details text",a)}}getActorProperty(e,t){if(e?.properties!==void 0)return e.properties[t]}apply(e){if(Array.isArray(e))e.forEach(t=>{this.apply(t)});else switch(e.type){case"sequenceIndex":this.state.records.messages.push({id:this.state.records.messages.length.toString(),from:void 0,to:void 0,message:{start:e.sequenceIndex,step:e.sequenceIndexStep,visible:e.sequenceVisible},wrap:!1,type:e.signalType});break;case"addParticipant":this.addActor(e.actor,e.actor,e.description,e.draw,e.config);break;case"createParticipant":if(this.state.records.actors.has(e.actor))throw new Error("It is not possible to have actors with the same id, even if one is destroyed before the next is created. Use 'AS' aliases to simulate the behavior");this.state.records.lastCreated=e.actor,this.addActor(e.actor,e.actor,e.description,e.draw,e.config),this.state.records.createdActors.set(e.actor,this.state.records.messages.length);break;case"destroyParticipant":this.state.records.lastDestroyed=e.actor,this.state.records.destroyedActors.set(e.actor,this.state.records.messages.length);break;case"activeStart":this.addSignal(e.actor,void 0,void 0,e.signalType);break;case"activeEnd":this.addSignal(e.actor,void 0,void 0,e.signalType);break;case"addNote":this.addNote(e.actor,e.placement,e.text);break;case"addLinks":this.addLinks(e.actor,e.text);break;case"addALink":this.addALink(e.actor,e.text);break;case"addProperties":this.addProperties(e.actor,e.text);break;case"addDetails":this.addDetails(e.actor,e.text);break;case"addMessage":if(this.state.records.lastCreated){if(e.to!==this.state.records.lastCreated)throw new Error("The created participant "+this.state.records.lastCreated.name+" does not have an associated creating message after its declaration. Please check the sequence diagram.");this.state.records.lastCreated=void 0}else if(this.state.records.lastDestroyed){if(e.to!==this.state.records.lastDestroyed&&e.from!==this.state.records.lastDestroyed)throw new Error("The destroyed participant "+this.state.records.lastDestroyed.name+" does not have an associated destroying message after its declaration. Please check the sequence diagram.");this.state.records.lastDestroyed=void 0}this.addSignal(e.from,e.to,e.msg,e.signalType,e.activate);break;case"boxStart":this.addBox(e.boxData);break;case"boxEnd":this.boxEnd();break;case"loopStart":this.addSignal(void 0,void 0,e.loopText,e.signalType);break;case"loopEnd":this.addSignal(void 0,void 0,void 0,e.signalType);break;case"rectStart":this.addSignal(void 0,void 0,e.color,e.signalType);break;case"rectEnd":this.addSignal(void 0,void 0,void 0,e.signalType);break;case"optStart":this.addSignal(void 0,void 0,e.optText,e.signalType);break;case"optEnd":this.addSignal(void 0,void 0,void 0,e.signalType);break;case"altStart":this.addSignal(void 0,void 0,e.altText,e.signalType);break;case"else":this.addSignal(void 0,void 0,e.altText,e.signalType);break;case"altEnd":this.addSignal(void 0,void 0,void 0,e.signalType);break;case"setAccTitle":Mr(e.text);break;case"parStart":this.addSignal(void 0,void 0,e.parText,e.signalType);break;case"and":this.addSignal(void 0,void 0,e.parText,e.signalType);break;case"parEnd":this.addSignal(void 0,void 0,void 0,e.signalType);break;case"criticalStart":this.addSignal(void 0,void 0,e.criticalText,e.signalType);break;case"option":this.addSignal(void 0,void 0,e.optionText,e.signalType);break;case"criticalEnd":this.addSignal(void 0,void 0,void 0,e.signalType);break;case"breakStart":this.addSignal(void 0,void 0,e.breakText,e.signalType);break;case"breakEnd":this.addSignal(void 0,void 0,void 0,e.signalType);break}}getConfig(){return bt().sequence}},pne=x(e=>`.actor {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
  }

  text.actor > tspan {
    fill: ${e.actorTextColor};
    stroke: none;
  }

  .actor-line {
    stroke: ${e.actorLineColor};
  }
  
  .innerArc {
    stroke-width: 1.5;
    stroke-dasharray: none;
  }

  .messageLine0 {
    stroke-width: 1.5;
    stroke-dasharray: none;
    stroke: ${e.signalColor};
  }

  .messageLine1 {
    stroke-width: 1.5;
    stroke-dasharray: 2, 2;
    stroke: ${e.signalColor};
  }

  #arrowhead path {
    fill: ${e.signalColor};
    stroke: ${e.signalColor};
  }

  .sequenceNumber {
    fill: ${e.sequenceNumberColor};
  }

  #sequencenumber {
    fill: ${e.signalColor};
  }

  #crosshead path {
    fill: ${e.signalColor};
    stroke: ${e.signalColor};
  }

  .messageText {
    fill: ${e.signalTextColor};
    stroke: none;
  }

  .labelBox {
    stroke: ${e.labelBoxBorderColor};
    fill: ${e.labelBoxBkgColor};
  }

  .labelText, .labelText > tspan {
    fill: ${e.labelTextColor};
    stroke: none;
  }

  .loopText, .loopText > tspan {
    fill: ${e.loopTextColor};
    stroke: none;
  }

  .loopLine {
    stroke-width: 2px;
    stroke-dasharray: 2, 2;
    stroke: ${e.labelBoxBorderColor};
    fill: ${e.labelBoxBorderColor};
  }

  .note {
    //stroke: #decc93;
    stroke: ${e.noteBorderColor};
    fill: ${e.noteBkgColor};
  }

  .noteText, .noteText > tspan {
    fill: ${e.noteTextColor};
    stroke: none;
  }

  .activation0 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .activation1 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .activation2 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .actorPopupMenu {
    position: absolute;
  }

  .actorPopupMenuPanel {
    position: absolute;
    fill: ${e.actorBkg};
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));
}
  .actor-man line {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
  }
  .actor-man circle, line {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
    stroke-width: 2px;
  }

`,"getStyles"),mne=pne,Bm=18*2,xp="actor-top",bp="actor-bottom",HD="actor-box",yp="actor-man",Rw=x(function(e,t){return am(e,t)},"drawRect"),gne=x(function(e,t,r,n,a){if(t.links===void 0||t.links===null||Object.keys(t.links).length===0)return{height:0,width:0};let i=t.links,o=t.actorCnt,s=t.rectData;var l="none";a&&(l="block !important");let u=e.append("g");u.attr("id","actor"+o+"_popup"),u.attr("class","actorPopupMenu"),u.attr("display",l);var f="";s.class!==void 0&&(f=" "+s.class);let h=s.width>r?s.width:r,d=u.append("rect");if(d.attr("class","actorPopupMenuPanel"+f),d.attr("x",s.x),d.attr("y",s.height),d.attr("fill",s.fill),d.attr("stroke",s.stroke),d.attr("width",h),d.attr("height",s.height),d.attr("rx",s.rx),d.attr("ry",s.ry),i!=null){var p=20;for(let v in i){var m=u.append("a"),g=(0,uq.sanitizeUrl)(i[v]);m.attr("xlink:href",g),m.attr("target","_blank"),Bne(n)(v,m,s.x+10,s.height+p,h,20,{class:"actor"},n),p+=30}}return d.attr("height",p),{height:s.height+p,width:h}},"drawPopup"),YD=x(function(e){return"var pu = document.getElementById('"+e+"'); if (pu != null) { pu.style.display = pu.style.display == 'block' ? 'none' : 'block'; }"},"popupMenuToggle"),VD=x(async function(e,t,r=null){let n=e.append("foreignObject"),a=await jh(t.text,ur()),o=n.append("xhtml:div").attr("style","width: fit-content;").attr("xmlns","http://www.w3.org/1999/xhtml").html(a).node().getBoundingClientRect();if(n.attr("height",Math.round(o.height)).attr("width",Math.round(o.width)),t.class==="noteText"){let s=e.node().firstChild;s.setAttribute("height",o.height+2*t.textMargin);let l=s.getBBox();n.attr("x",Math.round(l.x+l.width/2-o.width/2)).attr("y",Math.round(l.y+l.height/2-o.height/2))}else if(r){let{startx:s,stopx:l,starty:u}=r;if(s>l){let f=s;s=l,l=f}n.attr("x",Math.round(s+Math.abs(s-l)/2-o.width/2)),t.class==="loopText"?n.attr("y",Math.round(u)):n.attr("y",Math.round(u-o.height))}return[n]},"drawKatex"),Qy=x(function(e,t){let r=0,n=0,a=t.text.split(Jt.lineBreakRegex),[i,o]=Ac(t.fontSize),s=[],l=0,u=x(()=>t.y,"yfunc");if(t.valign!==void 0&&t.textMargin!==void 0&&t.textMargin>0)switch(t.valign){case"top":case"start":u=x(()=>Math.round(t.y+t.textMargin),"yfunc");break;case"middle":case"center":u=x(()=>Math.round(t.y+(r+n+t.textMargin)/2),"yfunc");break;case"bottom":case"end":u=x(()=>Math.round(t.y+(r+n+2*t.textMargin)-t.textMargin),"yfunc");break}if(t.anchor!==void 0&&t.textMargin!==void 0&&t.width!==void 0)switch(t.anchor){case"left":case"start":t.x=Math.round(t.x+t.textMargin),t.anchor="start",t.dominantBaseline="middle",t.alignmentBaseline="middle";break;case"middle":case"center":t.x=Math.round(t.x+t.width/2),t.anchor="middle",t.dominantBaseline="middle",t.alignmentBaseline="middle";break;case"right":case"end":t.x=Math.round(t.x+t.width-t.textMargin),t.anchor="end",t.dominantBaseline="middle",t.alignmentBaseline="middle";break}for(let[f,h]of a.entries()){t.textMargin!==void 0&&t.textMargin===0&&i!==void 0&&(l=f*i);let d=e.append("text");d.attr("x",t.x),d.attr("y",u()),t.anchor!==void 0&&d.attr("text-anchor",t.anchor).attr("dominant-baseline",t.dominantBaseline).attr("alignment-baseline",t.alignmentBaseline),t.fontFamily!==void 0&&d.style("font-family",t.fontFamily),o!==void 0&&d.style("font-size",o),t.fontWeight!==void 0&&d.style("font-weight",t.fontWeight),t.fill!==void 0&&d.attr("fill",t.fill),t.class!==void 0&&d.attr("class",t.class),t.dy!==void 0?d.attr("dy",t.dy):l!==0&&d.attr("dy",l);let p=h||X9;if(t.tspan){let m=d.append("tspan");m.attr("x",t.x),t.fill!==void 0&&m.attr("fill",t.fill),m.text(p)}else d.text(p);t.valign!==void 0&&t.textMargin!==void 0&&t.textMargin>0&&(n+=(d._groups||d)[0][0].getBBox().height,r=n),s.push(d)}return s},"drawText"),Sbt=x(function(e,t){function r(a,i,o,s,l){return a+","+i+" "+(a+o)+","+i+" "+(a+o)+","+(i+s-l)+" "+(a+o-l*1.2)+","+(i+s)+" "+a+","+(i+s)}x(r,"genPoints");let n=e.append("polygon");return n.attr("points",r(t.x,t.y,t.width,t.height,7)),n.attr("class","labelBox"),t.y=t.y+t.height/2,Qy(e,t),n},"drawLabel"),Gr=-1,Dbt=x((e,t,r,n)=>{e.select&&r.forEach(a=>{let i=t.get(a),o=e.select("#actor"+i.actorCnt);!n.mirrorActors&&i.stopy?o.attr("y2",i.stopy+i.height/2):n.mirrorActors&&o.attr("y2",i.stopy)})},"fixLifeLineHeights"),vne=x(function(e,t,r,n){let a=n?t.stopy:t.starty,i=t.x+t.width/2,o=a+t.height,s=e.append("g").lower();var l=s;n||(Gr++,Object.keys(t.links||{}).length&&!r.forceMenus&&l.attr("onclick",YD(`actor${Gr}_popup`)).attr("cursor","pointer"),l.append("line").attr("id","actor"+Gr).attr("x1",i).attr("y1",o).attr("x2",i).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",t.name),l=s.append("g"),t.actorCnt=Gr,t.links!=null&&l.attr("id","root-"+Gr));let u=Lo();var f="actor";t.properties?.class?f=t.properties.class:u.fill="#eaeaea",n?f+=` ${bp}`:f+=` ${xp}`,u.x=t.x,u.y=a,u.width=t.width,u.height=t.height,u.class=f,u.rx=3,u.ry=3,u.name=t.name;let h=Rw(l,u);if(t.rectData=u,t.properties?.icon){let p=t.properties.icon.trim();p.charAt(0)==="@"?vS(l,u.x+u.width-20,u.y+10,p.substr(1)):gS(l,u.x+u.width-20,u.y+10,p)}Th(r,ca(t.description))(t.description,l,u.x,u.y,u.width,u.height,{class:`actor ${HD}`},r);let d=t.height;if(h.node){let p=h.node().getBBox();t.height=p.height,d=p.height}return d},"drawActorTypeParticipant"),yne=x(function(e,t,r,n){let a=n?t.stopy:t.starty,i=t.x+t.width/2,o=a+t.height,s=e.append("g").lower();var l=s;n||(Gr++,Object.keys(t.links||{}).length&&!r.forceMenus&&l.attr("onclick",YD(`actor${Gr}_popup`)).attr("cursor","pointer"),l.append("line").attr("id","actor"+Gr).attr("x1",i).attr("y1",o).attr("x2",i).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",t.name),l=s.append("g"),t.actorCnt=Gr,t.links!=null&&l.attr("id","root-"+Gr));let u=Lo();var f="actor";t.properties?.class?f=t.properties.class:u.fill="#eaeaea",n?f+=` ${bp}`:f+=` ${xp}`,u.x=t.x,u.y=a,u.width=t.width,u.height=t.height,u.class=f,u.name=t.name;let h=6,d={...u,x:u.x+-h,y:u.y+ +h,class:"actor"},p=Rw(l,u);if(Rw(l,d),t.rectData=u,t.properties?.icon){let g=t.properties.icon.trim();g.charAt(0)==="@"?vS(l,u.x+u.width-20,u.y+10,g.substr(1)):gS(l,u.x+u.width-20,u.y+10,g)}Th(r,ca(t.description))(t.description,l,u.x-h,u.y+h,u.width,u.height,{class:`actor ${HD}`},r);let m=t.height;if(p.node){let g=p.node().getBBox();t.height=g.height,m=g.height}return m},"drawActorTypeCollections"),xne=x(function(e,t,r,n){let a=n?t.stopy:t.starty,i=t.x+t.width/2,o=a+t.height,s=e.append("g").lower(),l=s;n||(Gr++,Object.keys(t.links||{}).length&&!r.forceMenus&&l.attr("onclick",YD(`actor${Gr}_popup`)).attr("cursor","pointer"),l.append("line").attr("id","actor"+Gr).attr("x1",i).attr("y1",o).attr("x2",i).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",t.name),l=s.append("g"),t.actorCnt=Gr,t.links!=null&&l.attr("id","root-"+Gr));let u=Lo(),f="actor";t.properties?.class?f=t.properties.class:u.fill="#eaeaea",n?f+=` ${bp}`:f+=` ${xp}`,u.x=t.x,u.y=a,u.width=t.width,u.height=t.height,u.class=f,u.name=t.name;let h=u.height/2,d=h/(2.5+u.height/50),p=l.append("g"),m=l.append("g");if(p.append("path").attr("d",`M ${u.x},${u.y+h}
    a ${d},${h} 0 0 0 0,${u.height}
    h ${u.width-2*d}
    a ${d},${h} 0 0 0 0,-${u.height}
    Z
  `).attr("class",f),m.append("path").attr("d",`M ${u.x},${u.y+h}
      a ${d},${h} 0 0 0 0,${u.height}`).attr("stroke","#666").attr("stroke-width","1px").attr("class",f),p.attr("transform",`translate(${d}, ${-(u.height/2)})`),m.attr("transform",`translate(${u.width-d}, ${-u.height/2})`),t.rectData=u,t.properties?.icon){let y=t.properties.icon.trim(),b=u.x+u.width-20,_=u.y+10;y.charAt(0)==="@"?vS(l,b,_,y.substr(1)):gS(l,b,_,y)}Th(r,ca(t.description))(t.description,l,u.x,u.y,u.width,u.height,{class:`actor ${HD}`},r);let g=t.height,v=p.select("path:last-child");if(v.node()){let y=v.node().getBBox();t.height=y.height,g=y.height}return g},"drawActorTypeQueue"),bne=x(function(e,t,r,n){let a=n?t.stopy:t.starty,i=t.x+t.width/2,o=a+75,s=e.append("g").lower();n||(Gr++,s.append("line").attr("id","actor"+Gr).attr("x1",i).attr("y1",o).attr("x2",i).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",t.name),t.actorCnt=Gr);let l=e.append("g"),u=yp;n?u+=` ${bp}`:u+=` ${xp}`,l.attr("class",u),l.attr("name",t.name);let f=Lo();f.x=t.x,f.y=a,f.fill="#eaeaea",f.width=t.width,f.height=t.height,f.class="actor";let h=t.x+t.width/2,d=a+30,p=18;l.append("defs").append("marker").attr("id","filled-head-control").attr("refX",11).attr("refY",5.8).attr("markerWidth",20).attr("markerHeight",28).attr("orient","172.5").append("path").attr("d","M 14.4 5.6 L 7.2 10.4 L 8.8 5.6 L 7.2 0.8 Z"),l.append("circle").attr("cx",h).attr("cy",d).attr("r",p).attr("fill","#eaeaf7").attr("stroke","#666").attr("stroke-width",1.2),l.append("line").attr("marker-end","url(#filled-head-control)").attr("transform",`translate(${h}, ${d-p})`);let m=l.node().getBBox();return t.height=m.height+2*(r?.sequence?.labelBoxHeight??0),Th(r,ca(t.description))(t.description,l,f.x,f.y+p+(n?5:10),f.width,f.height,{class:`actor ${yp}`},r),t.height},"drawActorTypeControl"),_ne=x(function(e,t,r,n){let a=n?t.stopy:t.starty,i=t.x+t.width/2,o=a+75,s=e.append("g").lower(),l=e.append("g"),u=yp;n?u+=` ${bp}`:u+=` ${xp}`,l.attr("class",u),l.attr("name",t.name);let f=Lo();f.x=t.x,f.y=a,f.fill="#eaeaea",f.width=t.width,f.height=t.height,f.class="actor";let h=t.x+t.width/2,d=a+(n?10:25),p=18;l.append("circle").attr("cx",h).attr("cy",d).attr("r",p).attr("width",t.width).attr("height",t.height),l.append("line").attr("x1",h-p).attr("x2",h+p).attr("y1",d+p).attr("y2",d+p).attr("stroke","#333").attr("stroke-width",2);let m=l.node().getBBox();return t.height=m.height+(r?.sequence?.labelBoxHeight??0),n||(Gr++,s.append("line").attr("id","actor"+Gr).attr("x1",i).attr("y1",o).attr("x2",i).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",t.name),t.actorCnt=Gr),Th(r,ca(t.description))(t.description,l,f.x,f.y+(n?(d-a+p-5)/2:(d+p-a)/2),f.width,f.height,{class:`actor ${yp}`},r),n?l.attr("transform",`translate(0, ${p/2})`):l.attr("transform",`translate(0, ${p/2})`),t.height},"drawActorTypeEntity"),wne=x(function(e,t,r,n){let a=n?t.stopy:t.starty,i=t.x+t.width/2,o=a+t.height+2*r.boxTextMargin,s=e.append("g").lower(),l=s;n||(Gr++,Object.keys(t.links||{}).length&&!r.forceMenus&&l.attr("onclick",YD(`actor${Gr}_popup`)).attr("cursor","pointer"),l.append("line").attr("id","actor"+Gr).attr("x1",i).attr("y1",o).attr("x2",i).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",t.name),l=s.append("g"),t.actorCnt=Gr,t.links!=null&&l.attr("id","root-"+Gr));let u=Lo(),f="actor";t.properties?.class?f=t.properties.class:u.fill="#eaeaea",n?f+=` ${bp}`:f+=` ${xp}`,u.x=t.x,u.y=a,u.width=t.width,u.height=t.height,u.class=f,u.name=t.name,u.x=t.x,u.y=a;let h=u.width/4,d=u.width/4,p=h/2,m=p/(2.5+h/50),g=l.append("g"),v=`
  M ${u.x},${u.y+m}
  a ${p},${m} 0 0 0 ${h},0
  a ${p},${m} 0 0 0 -${h},0
  l 0,${d-2*m}
  a ${p},${m} 0 0 0 ${h},0
  l 0,-${d-2*m}
`;g.append("path").attr("d",v).attr("fill","#eaeaea").attr("stroke","#000").attr("stroke-width",1).attr("class",f),n?g.attr("transform",`translate(${h*1.5}, ${u.height/4-2*m})`):g.attr("transform",`translate(${h*1.5}, ${(u.height+m)/4})`),t.rectData=u,Th(r,ca(t.description))(t.description,l,u.x,u.y+(n?(u.height+d)/4:(u.height+m)/2),u.width,u.height,{class:`actor ${HD}`},r);let y=g.select("path:last-child");if(y.node()){let b=y.node().getBBox();t.height=b.height+(r.sequence.labelBoxHeight??0)}return t.height},"drawActorTypeDatabase"),Tne=x(function(e,t,r,n){let a=n?t.stopy:t.starty,i=t.x+t.width/2,o=a+80,s=30,l=e.append("g").lower();n||(Gr++,l.append("line").attr("id","actor"+Gr).attr("x1",i).attr("y1",o).attr("x2",i).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",t.name),t.actorCnt=Gr);let u=e.append("g"),f=yp;n?f+=` ${bp}`:f+=` ${xp}`,u.attr("class",f),u.attr("name",t.name);let h=Lo();h.x=t.x,h.y=a,h.fill="#eaeaea",h.width=t.width,h.height=t.height,h.class="actor",u.append("line").attr("id","actor-man-torso"+Gr).attr("x1",t.x+t.width/2-s*2.5).attr("y1",a+10).attr("x2",t.x+t.width/2-15).attr("y2",a+10),u.append("line").attr("id","actor-man-arms"+Gr).attr("x1",t.x+t.width/2-s*2.5).attr("y1",a+0).attr("x2",t.x+t.width/2-s*2.5).attr("y2",a+20),u.append("circle").attr("cx",t.x+t.width/2).attr("cy",a+10).attr("r",s);let d=u.node().getBBox();return t.height=d.height+(r.sequence.labelBoxHeight??0),Th(r,ca(t.description))(t.description,u,h.x,h.y+(n?s/2-4:s/2+3),h.width,h.height,{class:`actor ${yp}`},r),n?u.attr("transform",`translate(0,${s/2+7})`):u.attr("transform",`translate(0,${s/2+7})`),t.height},"drawActorTypeBoundary"),Ene=x(function(e,t,r,n){let a=n?t.stopy:t.starty,i=t.x+t.width/2,o=a+80,s=e.append("g").lower();n||(Gr++,s.append("line").attr("id","actor"+Gr).attr("x1",i).attr("y1",o).attr("x2",i).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",t.name),t.actorCnt=Gr);let l=e.append("g"),u=yp;n?u+=` ${bp}`:u+=` ${xp}`,l.attr("class",u),l.attr("name",t.name);let f=Lo();f.x=t.x,f.y=a,f.fill="#eaeaea",f.width=t.width,f.height=t.height,f.class="actor",f.rx=3,f.ry=3,l.append("line").attr("id","actor-man-torso"+Gr).attr("x1",i).attr("y1",a+25).attr("x2",i).attr("y2",a+45),l.append("line").attr("id","actor-man-arms"+Gr).attr("x1",i-Bm/2).attr("y1",a+33).attr("x2",i+Bm/2).attr("y2",a+33),l.append("line").attr("x1",i-Bm/2).attr("y1",a+60).attr("x2",i).attr("y2",a+45),l.append("line").attr("x1",i).attr("y1",a+45).attr("x2",i+Bm/2-2).attr("y2",a+60);let h=l.append("circle");h.attr("cx",t.x+t.width/2),h.attr("cy",a+10),h.attr("r",15),h.attr("width",t.width),h.attr("height",t.height);let d=l.node().getBBox();return t.height=d.height,Th(r,ca(t.description))(t.description,l,f.x,f.y+35,f.width,f.height,{class:`actor ${yp}`},r),t.height},"drawActorTypeActor"),kne=x(async function(e,t,r,n){switch(t.type){case"actor":return await Ene(e,t,r,n);case"participant":return await vne(e,t,r,n);case"boundary":return await Tne(e,t,r,n);case"control":return await bne(e,t,r,n);case"entity":return await _ne(e,t,r,n);case"database":return await wne(e,t,r,n);case"collections":return await yne(e,t,r,n);case"queue":return await xne(e,t,r,n)}},"drawActor"),Cne=x(function(e,t,r){let a=e.append("g");Abt(a,t),t.name&&Th(r)(t.name,a,t.x,t.y+r.boxTextMargin+(t.textMaxHeight||0)/2,t.width,0,{class:"text"},r),a.lower()},"drawBox"),Sne=x(function(e){return e.append("g")},"anchorElement"),Dne=x(function(e,t,r,n,a){let i=Lo(),o=t.anchored;i.x=t.startx,i.y=t.starty,i.class="activation"+a%3,i.width=t.stopx-t.startx,i.height=r-t.starty,Rw(o,i)},"drawActivation"),Ane=x(async function(e,t,r,n){let{boxMargin:a,boxTextMargin:i,labelBoxHeight:o,labelBoxWidth:s,messageFontFamily:l,messageFontSize:u,messageFontWeight:f}=n,h=e.append("g"),d=x(function(g,v,y,b){return h.append("line").attr("x1",g).attr("y1",v).attr("x2",y).attr("y2",b).attr("class","loopLine")},"drawLoopLine");d(t.startx,t.starty,t.stopx,t.starty),d(t.stopx,t.starty,t.stopx,t.stopy),d(t.startx,t.stopy,t.stopx,t.stopy),d(t.startx,t.starty,t.startx,t.stopy),t.sections!==void 0&&t.sections.forEach(function(g){d(t.startx,g.y,t.stopx,g.y).style("stroke-dasharray","3, 3")});let p=yS();p.text=r,p.x=t.startx,p.y=t.starty,p.fontFamily=l,p.fontSize=u,p.fontWeight=f,p.anchor="middle",p.valign="middle",p.tspan=!1,p.width=s||50,p.height=o||20,p.textMargin=i,p.class="labelText",Sbt(h,p),p=Lbt(),p.text=t.title,p.x=t.startx+s/2+(t.stopx-t.startx)/2,p.y=t.starty+a+i,p.anchor="middle",p.valign="middle",p.textMargin=i,p.class="loopText",p.fontFamily=l,p.fontSize=u,p.fontWeight=f,p.wrap=!0;let m=ca(p.text)?await VD(h,p,t):Qy(h,p);if(t.sectionTitles!==void 0){for(let[g,v]of Object.entries(t.sectionTitles))if(v.message){p.text=v.message,p.x=t.startx+(t.stopx-t.startx)/2,p.y=t.sections[g].y+a+i,p.class="loopText",p.anchor="middle",p.valign="middle",p.tspan=!1,p.fontFamily=l,p.fontSize=u,p.fontWeight=f,p.wrap=t.wrap,ca(p.text)?(t.starty=t.sections[g].y,await VD(h,p,t)):Qy(h,p);let y=Math.round(m.map(b=>(b._groups||b)[0][0].getBBox().height).reduce((b,_)=>b+_));t.sections[g].height+=y-(a+i)}}return t.height=Math.round(t.stopy-t.starty),h},"drawLoop"),Abt=x(function(e,t){mS(e,t)},"drawBackgroundRect"),Lne=x(function(e){e.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},"insertDatabaseIcon"),Mne=x(function(e){e.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},"insertComputerIcon"),Ine=x(function(e){e.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},"insertClockIcon"),Rne=x(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",7.9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto-start-reverse").append("path").attr("d","M -1 0 L 10 5 L 0 10 z")},"insertArrowHead"),Nne=x(function(e){e.append("defs").append("marker").attr("id","filled-head").attr("refX",15.5).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertArrowFilledHead"),One=x(function(e){e.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},"insertSequenceNumber"),Fne=x(function(e){e.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",4).attr("refY",4.5).append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1pt").attr("d","M 1,2 L 6,7 M 6,2 L 1,7")},"insertArrowCrossHead"),Lbt=x(function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},"getTextObj"),Pne=x(function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},"getNoteRect"),Th=function(){function e(i,o,s,l,u,f,h){let d=o.append("text").attr("x",s+u/2).attr("y",l+f/2+5).style("text-anchor","middle").text(i);a(d,h)}x(e,"byText");function t(i,o,s,l,u,f,h,d){let{actorFontSize:p,actorFontFamily:m,actorFontWeight:g}=d,[v,y]=Ac(p),b=i.split(Jt.lineBreakRegex);for(let _=0;_<b.length;_++){let k=_*v-v*(b.length-1)/2,w=o.append("text").attr("x",s+u/2).attr("y",l).style("text-anchor","middle").style("font-size",y).style("font-weight",g).style("font-family",m);w.append("tspan").attr("x",s+u/2).attr("dy",k).text(b[_]),w.attr("y",l+f/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),a(w,h)}}x(t,"byTspan");function r(i,o,s,l,u,f,h,d){let p=o.append("switch"),g=p.append("foreignObject").attr("x",s).attr("y",l).attr("width",u).attr("height",f).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");g.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),t(i,p,s,l,u,f,h,d),a(g,h)}x(r,"byFo");async function n(i,o,s,l,u,f,h,d){let p=await wg(i,ur()),m=o.append("switch"),v=m.append("foreignObject").attr("x",s+u/2-p.width/2).attr("y",l+f/2-p.height/2).attr("width",p.width).attr("height",p.height).append("xhtml:div").style("height","100%").style("width","100%");v.append("div").style("text-align","center").style("vertical-align","middle").html(await jh(i,ur())),t(i,m,s,l,u,f,h,d),a(v,h)}x(n,"byKatex");function a(i,o){for(let s in o)o.hasOwnProperty(s)&&i.attr(s,o[s])}return x(a,"_setTextAttrs"),function(i,o=!1){return o?n:i.textPlacement==="fo"?r:i.textPlacement==="old"?e:t}}(),Bne=function(){function e(a,i,o,s,l,u,f){let h=i.append("text").attr("x",o).attr("y",s).style("text-anchor","start").text(a);n(h,f)}x(e,"byText");function t(a,i,o,s,l,u,f,h){let{actorFontSize:d,actorFontFamily:p,actorFontWeight:m}=h,g=a.split(Jt.lineBreakRegex);for(let v=0;v<g.length;v++){let y=v*d-d*(g.length-1)/2,b=i.append("text").attr("x",o).attr("y",s).style("text-anchor","start").style("font-size",d).style("font-weight",m).style("font-family",p);b.append("tspan").attr("x",o).attr("dy",y).text(g[v]),b.attr("y",s+u/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(b,f)}}x(t,"byTspan");function r(a,i,o,s,l,u,f,h){let d=i.append("switch"),m=d.append("foreignObject").attr("x",o).attr("y",s).attr("width",l).attr("height",u).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");m.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(a),t(a,d,o,s,l,u,f,h),n(m,f)}x(r,"byFo");function n(a,i){for(let o in i)i.hasOwnProperty(o)&&a.attr(o,i[o])}return x(n,"_setTextAttrs"),function(a){return a.textPlacement==="fo"?r:a.textPlacement==="old"?e:t}}(),Ja={drawRect:Rw,drawText:Qy,drawLabel:Sbt,drawActor:kne,drawBox:Cne,drawPopup:gne,anchorElement:Sne,drawActivation:Dne,drawLoop:Ane,drawBackgroundRect:Abt,insertArrowHead:Rne,insertArrowFilledHead:Nne,insertSequenceNumber:One,insertArrowCrossHead:Fne,insertDatabaseIcon:Lne,insertComputerIcon:Mne,insertClockIcon:Ine,getTextObj:Lbt,getNoteRect:Pne,fixLifeLineHeights:Dbt,sanitizeUrl:uq.sanitizeUrl},Rt={},ee={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],activations:[],models:{getHeight:x(function(){return Math.max.apply(null,this.actors.length===0?[0]:this.actors.map(e=>e.height||0))+(this.loops.length===0?0:this.loops.map(e=>e.height||0).reduce((e,t)=>e+t))+(this.messages.length===0?0:this.messages.map(e=>e.height||0).reduce((e,t)=>e+t))+(this.notes.length===0?0:this.notes.map(e=>e.height||0).reduce((e,t)=>e+t))},"getHeight"),clear:x(function(){this.actors=[],this.boxes=[],this.loops=[],this.messages=[],this.notes=[]},"clear"),addBox:x(function(e){this.boxes.push(e)},"addBox"),addActor:x(function(e){this.actors.push(e)},"addActor"),addLoop:x(function(e){this.loops.push(e)},"addLoop"),addMessage:x(function(e){this.messages.push(e)},"addMessage"),addNote:x(function(e){this.notes.push(e)},"addNote"),lastActor:x(function(){return this.actors[this.actors.length-1]},"lastActor"),lastLoop:x(function(){return this.loops[this.loops.length-1]},"lastLoop"),lastMessage:x(function(){return this.messages[this.messages.length-1]},"lastMessage"),lastNote:x(function(){return this.notes[this.notes.length-1]},"lastNote"),actors:[],boxes:[],loops:[],messages:[],notes:[]},init:x(function(){this.sequenceItems=[],this.activations=[],this.models.clear(),this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0,Rbt(bt())},"init"),updateVal:x(function(e,t,r,n){e[t]===void 0?e[t]=r:e[t]=n(r,e[t])},"updateVal"),updateBounds:x(function(e,t,r,n){let a=this,i=0;function o(s){return x(function(u){i++;let f=a.sequenceItems.length-i+1;a.updateVal(u,"starty",t-f*Rt.boxMargin,Math.min),a.updateVal(u,"stopy",n+f*Rt.boxMargin,Math.max),a.updateVal(ee.data,"startx",e-f*Rt.boxMargin,Math.min),a.updateVal(ee.data,"stopx",r+f*Rt.boxMargin,Math.max),s!=="activation"&&(a.updateVal(u,"startx",e-f*Rt.boxMargin,Math.min),a.updateVal(u,"stopx",r+f*Rt.boxMargin,Math.max),a.updateVal(ee.data,"starty",t-f*Rt.boxMargin,Math.min),a.updateVal(ee.data,"stopy",n+f*Rt.boxMargin,Math.max))},"updateItemBounds")}x(o,"updateFn"),this.sequenceItems.forEach(o()),this.activations.forEach(o("activation"))},"updateBounds"),insert:x(function(e,t,r,n){let a=Jt.getMin(e,r),i=Jt.getMax(e,r),o=Jt.getMin(t,n),s=Jt.getMax(t,n);this.updateVal(ee.data,"startx",a,Math.min),this.updateVal(ee.data,"starty",o,Math.min),this.updateVal(ee.data,"stopx",i,Math.max),this.updateVal(ee.data,"stopy",s,Math.max),this.updateBounds(a,o,i,s)},"insert"),newActivation:x(function(e,t,r){let n=r.get(e.from),a=XD(e.from).length||0,i=n.x+n.width/2+(a-1)*Rt.activationWidth/2;this.activations.push({startx:i,starty:this.verticalPos+2,stopx:i+Rt.activationWidth,stopy:void 0,actor:e.from,anchored:Ja.anchorElement(t)})},"newActivation"),endActivation:x(function(e){let t=this.activations.map(function(r){return r.actor}).lastIndexOf(e.from);return this.activations.splice(t,1)[0]},"endActivation"),createLoop:x(function(e={message:void 0,wrap:!1,width:void 0},t){return{startx:void 0,starty:this.verticalPos,stopx:void 0,stopy:void 0,title:e.message,wrap:e.wrap,width:e.width,height:0,fill:t}},"createLoop"),newLoop:x(function(e={message:void 0,wrap:!1,width:void 0},t){this.sequenceItems.push(this.createLoop(e,t))},"newLoop"),endLoop:x(function(){return this.sequenceItems.pop()},"endLoop"),isLoopOverlap:x(function(){return this.sequenceItems.length?this.sequenceItems[this.sequenceItems.length-1].overlap:!1},"isLoopOverlap"),addSectionToLoop:x(function(e){let t=this.sequenceItems.pop();t.sections=t.sections||[],t.sectionTitles=t.sectionTitles||[],t.sections.push({y:ee.getVerticalPos(),height:0}),t.sectionTitles.push(e),this.sequenceItems.push(t)},"addSectionToLoop"),saveVerticalPos:x(function(){this.isLoopOverlap()&&(this.savedVerticalPos=this.verticalPos)},"saveVerticalPos"),resetVerticalPos:x(function(){this.isLoopOverlap()&&(this.verticalPos=this.savedVerticalPos)},"resetVerticalPos"),bumpVerticalPos:x(function(e){this.verticalPos=this.verticalPos+e,this.data.stopy=Jt.getMax(this.data.stopy,this.verticalPos)},"bumpVerticalPos"),getVerticalPos:x(function(){return this.verticalPos},"getVerticalPos"),getBounds:x(function(){return{bounds:this.data,models:this.models}},"getBounds")},$ne=x(async function(e,t){ee.bumpVerticalPos(Rt.boxMargin),t.height=Rt.boxMargin,t.starty=ee.getVerticalPos();let r=Lo();r.x=t.startx,r.y=t.starty,r.width=t.width||Rt.width,r.class="note";let n=e.append("g"),a=Ja.drawRect(n,r),i=yS();i.x=t.startx,i.y=t.starty,i.width=r.width,i.dy="1em",i.text=t.message,i.class="noteText",i.fontFamily=Rt.noteFontFamily,i.fontSize=Rt.noteFontSize,i.fontWeight=Rt.noteFontWeight,i.anchor=Rt.noteAlign,i.textMargin=Rt.noteMargin,i.valign="center";let o=ca(i.text)?await VD(n,i):Qy(n,i),s=Math.round(o.map(l=>(l._groups||l)[0][0].getBBox().height).reduce((l,u)=>l+u));a.attr("height",s+2*Rt.noteMargin),t.height+=s+2*Rt.noteMargin,ee.bumpVerticalPos(s+2*Rt.noteMargin),t.stopy=t.starty+s+2*Rt.noteMargin,t.stopx=t.startx+r.width,ee.insert(t.startx,t.starty,t.stopx,t.stopy),ee.models.addNote(t)},"drawNote"),$m=x(e=>({fontFamily:e.messageFontFamily,fontSize:e.messageFontSize,fontWeight:e.messageFontWeight}),"messageFont"),Ky=x(e=>({fontFamily:e.noteFontFamily,fontSize:e.noteFontSize,fontWeight:e.noteFontWeight}),"noteFont"),sq=x(e=>({fontFamily:e.actorFontFamily,fontSize:e.actorFontSize,fontWeight:e.actorFontWeight}),"actorFont");x(Mbt,"boundMessage");zne=x(async function(e,t,r,n){let{startx:a,stopx:i,starty:o,message:s,type:l,sequenceIndex:u,sequenceVisible:f}=t,h=Ge.calculateTextDimensions(s,$m(Rt)),d=yS();d.x=a,d.y=o+10,d.width=i-a,d.class="messageText",d.dy="1em",d.text=s,d.fontFamily=Rt.messageFontFamily,d.fontSize=Rt.messageFontSize,d.fontWeight=Rt.messageFontWeight,d.anchor=Rt.messageAlign,d.valign="center",d.textMargin=Rt.wrapPadding,d.tspan=!1,ca(d.text)?await VD(e,d,{startx:a,stopx:i,starty:r}):Qy(e,d);let p=h.width,m;a===i?Rt.rightAngles?m=e.append("path").attr("d",`M  ${a},${r} H ${a+Jt.getMax(Rt.width/2,p/2)} V ${r+25} H ${a}`):m=e.append("path").attr("d","M "+a+","+r+" C "+(a+60)+","+(r-10)+" "+(a+60)+","+(r+30)+" "+a+","+(r+20)):(m=e.append("line"),m.attr("x1",a),m.attr("y1",r),m.attr("x2",i),m.attr("y2",r)),l===n.db.LINETYPE.DOTTED||l===n.db.LINETYPE.DOTTED_CROSS||l===n.db.LINETYPE.DOTTED_POINT||l===n.db.LINETYPE.DOTTED_OPEN||l===n.db.LINETYPE.BIDIRECTIONAL_DOTTED?(m.style("stroke-dasharray","3, 3"),m.attr("class","messageLine1")):m.attr("class","messageLine0");let g="";Rt.arrowMarkerAbsolute&&(g=jp(!0)),m.attr("stroke-width",2),m.attr("stroke","none"),m.style("fill","none"),(l===n.db.LINETYPE.SOLID||l===n.db.LINETYPE.DOTTED)&&m.attr("marker-end","url("+g+"#arrowhead)"),(l===n.db.LINETYPE.BIDIRECTIONAL_SOLID||l===n.db.LINETYPE.BIDIRECTIONAL_DOTTED)&&(m.attr("marker-start","url("+g+"#arrowhead)"),m.attr("marker-end","url("+g+"#arrowhead)")),(l===n.db.LINETYPE.SOLID_POINT||l===n.db.LINETYPE.DOTTED_POINT)&&m.attr("marker-end","url("+g+"#filled-head)"),(l===n.db.LINETYPE.SOLID_CROSS||l===n.db.LINETYPE.DOTTED_CROSS)&&m.attr("marker-end","url("+g+"#crosshead)"),(f||Rt.showSequenceNumbers)&&((l===n.db.LINETYPE.BIDIRECTIONAL_SOLID||l===n.db.LINETYPE.BIDIRECTIONAL_DOTTED)&&(a<i?m.attr("x1",a+2*6):m.attr("x1",a+6)),e.append("line").attr("x1",a).attr("y1",r).attr("x2",a).attr("y2",r).attr("stroke-width",0).attr("marker-start","url("+g+"#sequencenumber)"),e.append("text").attr("x",a).attr("y",r+4).attr("font-family","sans-serif").attr("font-size","12px").attr("text-anchor","middle").attr("class","sequenceNumber").text(u))},"drawMessage"),qne=x(function(e,t,r,n,a,i,o){let s=0,l=0,u,f=0;for(let h of n){let d=t.get(h),p=d.box;u&&u!=p&&(o||ee.models.addBox(u),l+=Rt.boxMargin+u.margin),p&&p!=u&&(o||(p.x=s+l,p.y=a),l+=p.margin),d.width=d.width||Rt.width,d.height=Jt.getMax(d.height||Rt.height,Rt.height),d.margin=d.margin||Rt.actorMargin,f=Jt.getMax(f,d.height),r.get(d.name)&&(l+=d.width/2),d.x=s+l,d.starty=ee.getVerticalPos(),ee.insert(d.x,a,d.x+d.width,d.height),s+=d.width+l,d.box&&(d.box.width=s+p.margin-d.box.x),l=d.margin,u=d.box,ee.models.addActor(d)}u&&!o&&ee.models.addBox(u),ee.bumpVerticalPos(f)},"addActorRenderingData"),lq=x(async function(e,t,r,n){if(n){let a=0;ee.bumpVerticalPos(Rt.boxMargin*2);for(let i of r){let o=t.get(i);o.stopy||(o.stopy=ee.getVerticalPos());let s=await Ja.drawActor(e,o,Rt,!0);a=Jt.getMax(a,s)}ee.bumpVerticalPos(a+Rt.boxMargin)}else for(let a of r){let i=t.get(a);await Ja.drawActor(e,i,Rt,!1)}},"drawActors"),Ibt=x(function(e,t,r,n){let a=0,i=0;for(let o of r){let s=t.get(o),l=Wne(s),u=Ja.drawPopup(e,s,l,Rt,Rt.forceMenus,n);u.height>a&&(a=u.height),u.width+s.x>i&&(i=u.width+s.x)}return{maxHeight:a,maxWidth:i}},"drawActorsPopup"),Rbt=x(function(e){ua(Rt,e),e.fontFamily&&(Rt.actorFontFamily=Rt.noteFontFamily=Rt.messageFontFamily=e.fontFamily),e.fontSize&&(Rt.actorFontSize=Rt.noteFontSize=Rt.messageFontSize=e.fontSize),e.fontWeight&&(Rt.actorFontWeight=Rt.noteFontWeight=Rt.messageFontWeight=e.fontWeight)},"setConf"),XD=x(function(e){return ee.activations.filter(function(t){return t.actor===e})},"actorActivations"),Cbt=x(function(e,t){let r=t.get(e),n=XD(e),a=n.reduce(function(o,s){return Jt.getMin(o,s.startx)},r.x+r.width/2-1),i=n.reduce(function(o,s){return Jt.getMax(o,s.stopx)},r.x+r.width/2+1);return[a,i]},"activationBounds");x(Xu,"adjustLoopHeightForWrap");x(Nbt,"adjustCreatedDestroyedData");Une=x(async function(e,t,r,n){let{securityLevel:a,sequence:i}=bt();Rt=i;let o;a==="sandbox"&&(o=Vt("#i"+t));let s=a==="sandbox"?Vt(o.nodes()[0].contentDocument.body):Vt("body"),l=a==="sandbox"?o.nodes()[0].contentDocument:document;ee.init(),J.debug(n.db);let u=a==="sandbox"?s.select(`[id="${t}"]`):Vt(`[id="${t}"]`),f=n.db.getActors(),h=n.db.getCreatedActors(),d=n.db.getDestroyedActors(),p=n.db.getBoxes(),m=n.db.getActorKeys(),g=n.db.getMessages(),v=n.db.getDiagramTitle(),y=n.db.hasAtLeastOneBox(),b=n.db.hasAtLeastOneBoxWithTitle(),_=await Obt(f,g,n);if(Rt.height=await Fbt(f,_,p),Ja.insertComputerIcon(u),Ja.insertDatabaseIcon(u),Ja.insertClockIcon(u),y&&(ee.bumpVerticalPos(Rt.boxMargin),b&&ee.bumpVerticalPos(p[0].textMaxHeight)),Rt.hideUnusedParticipants===!0){let F=new Set;g.forEach(P=>{F.add(P.from),F.add(P.to)}),m=m.filter(P=>F.has(P))}qne(u,f,h,m,0,g,!1);let k=await Hne(g,f,_,n);Ja.insertArrowHead(u),Ja.insertArrowCrossHead(u),Ja.insertArrowFilledHead(u),Ja.insertSequenceNumber(u);function w(F,P){let q=ee.endActivation(F);q.starty+18>P&&(q.starty=P-6,P+=12),Ja.drawActivation(u,q,P,Rt,XD(F.from).length),ee.insert(q.startx,P-10,q.stopx,P)}x(w,"activeEnd");let T=1,S=1,C=[],M=[],N=0;for(let F of g){let P,q,$;switch(F.type){case n.db.LINETYPE.NOTE:ee.resetVerticalPos(),q=F.noteModel,await $ne(u,q);break;case n.db.LINETYPE.ACTIVE_START:ee.newActivation(F,u,f);break;case n.db.LINETYPE.ACTIVE_END:w(F,ee.getVerticalPos());break;case n.db.LINETYPE.LOOP_START:Xu(k,F,Rt.boxMargin,Rt.boxMargin+Rt.boxTextMargin,W=>ee.newLoop(W));break;case n.db.LINETYPE.LOOP_END:P=ee.endLoop(),await Ja.drawLoop(u,P,"loop",Rt),ee.bumpVerticalPos(P.stopy-ee.getVerticalPos()),ee.models.addLoop(P);break;case n.db.LINETYPE.RECT_START:Xu(k,F,Rt.boxMargin,Rt.boxMargin,W=>ee.newLoop(void 0,W.message));break;case n.db.LINETYPE.RECT_END:P=ee.endLoop(),M.push(P),ee.models.addLoop(P),ee.bumpVerticalPos(P.stopy-ee.getVerticalPos());break;case n.db.LINETYPE.OPT_START:Xu(k,F,Rt.boxMargin,Rt.boxMargin+Rt.boxTextMargin,W=>ee.newLoop(W));break;case n.db.LINETYPE.OPT_END:P=ee.endLoop(),await Ja.drawLoop(u,P,"opt",Rt),ee.bumpVerticalPos(P.stopy-ee.getVerticalPos()),ee.models.addLoop(P);break;case n.db.LINETYPE.ALT_START:Xu(k,F,Rt.boxMargin,Rt.boxMargin+Rt.boxTextMargin,W=>ee.newLoop(W));break;case n.db.LINETYPE.ALT_ELSE:Xu(k,F,Rt.boxMargin+Rt.boxTextMargin,Rt.boxMargin,W=>ee.addSectionToLoop(W));break;case n.db.LINETYPE.ALT_END:P=ee.endLoop(),await Ja.drawLoop(u,P,"alt",Rt),ee.bumpVerticalPos(P.stopy-ee.getVerticalPos()),ee.models.addLoop(P);break;case n.db.LINETYPE.PAR_START:case n.db.LINETYPE.PAR_OVER_START:Xu(k,F,Rt.boxMargin,Rt.boxMargin+Rt.boxTextMargin,W=>ee.newLoop(W)),ee.saveVerticalPos();break;case n.db.LINETYPE.PAR_AND:Xu(k,F,Rt.boxMargin+Rt.boxTextMargin,Rt.boxMargin,W=>ee.addSectionToLoop(W));break;case n.db.LINETYPE.PAR_END:P=ee.endLoop(),await Ja.drawLoop(u,P,"par",Rt),ee.bumpVerticalPos(P.stopy-ee.getVerticalPos()),ee.models.addLoop(P);break;case n.db.LINETYPE.AUTONUMBER:T=F.message.start||T,S=F.message.step||S,F.message.visible?n.db.enableSequenceNumbers():n.db.disableSequenceNumbers();break;case n.db.LINETYPE.CRITICAL_START:Xu(k,F,Rt.boxMargin,Rt.boxMargin+Rt.boxTextMargin,W=>ee.newLoop(W));break;case n.db.LINETYPE.CRITICAL_OPTION:Xu(k,F,Rt.boxMargin+Rt.boxTextMargin,Rt.boxMargin,W=>ee.addSectionToLoop(W));break;case n.db.LINETYPE.CRITICAL_END:P=ee.endLoop(),await Ja.drawLoop(u,P,"critical",Rt),ee.bumpVerticalPos(P.stopy-ee.getVerticalPos()),ee.models.addLoop(P);break;case n.db.LINETYPE.BREAK_START:Xu(k,F,Rt.boxMargin,Rt.boxMargin+Rt.boxTextMargin,W=>ee.newLoop(W));break;case n.db.LINETYPE.BREAK_END:P=ee.endLoop(),await Ja.drawLoop(u,P,"break",Rt),ee.bumpVerticalPos(P.stopy-ee.getVerticalPos()),ee.models.addLoop(P);break;default:try{$=F.msgModel,$.starty=ee.getVerticalPos(),$.sequenceIndex=T,$.sequenceVisible=n.db.showSequenceNumbers();let W=await Mbt(u,$);Nbt(F,$,W,N,f,h,d),C.push({messageModel:$,lineStartY:W}),ee.models.addMessage($)}catch(W){J.error("error while drawing message",W)}}[n.db.LINETYPE.SOLID_OPEN,n.db.LINETYPE.DOTTED_OPEN,n.db.LINETYPE.SOLID,n.db.LINETYPE.DOTTED,n.db.LINETYPE.SOLID_CROSS,n.db.LINETYPE.DOTTED_CROSS,n.db.LINETYPE.SOLID_POINT,n.db.LINETYPE.DOTTED_POINT,n.db.LINETYPE.BIDIRECTIONAL_SOLID,n.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(F.type)&&(T=T+S),N++}J.debug("createdActors",h),J.debug("destroyedActors",d),await lq(u,f,m,!1);for(let F of C)await zne(u,F.messageModel,F.lineStartY,n);Rt.mirrorActors&&await lq(u,f,m,!0),M.forEach(F=>Ja.drawBackgroundRect(u,F)),Dbt(u,f,m,Rt);for(let F of ee.models.boxes){F.height=ee.getVerticalPos()-F.y,ee.insert(F.x,F.y,F.x+F.width,F.height);let P=Rt.boxMargin*2;F.startx=F.x-P,F.starty=F.y-P*.25,F.stopx=F.startx+F.width+2*P,F.stopy=F.starty+F.height+P*.75,F.stroke="rgb(0,0,0, 0.5)",Ja.drawBox(u,F,Rt)}y&&ee.bumpVerticalPos(Rt.boxMargin);let L=Ibt(u,f,m,l),{bounds:E}=ee.getBounds();E.startx===void 0&&(E.startx=0),E.starty===void 0&&(E.starty=0),E.stopx===void 0&&(E.stopx=0),E.stopy===void 0&&(E.stopy=0);let A=E.stopy-E.starty;A<L.maxHeight&&(A=L.maxHeight);let D=A+2*Rt.diagramMarginY;Rt.mirrorActors&&(D=D-Rt.boxMargin+Rt.bottomMarginAdj);let R=E.stopx-E.startx;R<L.maxWidth&&(R=L.maxWidth);let I=R+2*Rt.diagramMarginX;v&&u.append("text").text(v).attr("x",(E.stopx-E.startx)/2-2*Rt.diagramMarginX).attr("y",-25),Nn(u,D,I,Rt.useMaxWidth);let O=v?40:0;u.attr("viewBox",E.startx-Rt.diagramMarginX+" -"+(Rt.diagramMarginY+O)+" "+I+" "+(D+O)),J.debug("models:",ee.models)},"draw");x(Obt,"getMaxMessageWidthPerActor");Wne=x(function(e){let t=0,r=sq(Rt);for(let n in e.links){let i=Ge.calculateTextDimensions(n,r).width+2*Rt.wrapPadding+2*Rt.boxMargin;t<i&&(t=i)}return t},"getRequiredPopupWidth");x(Fbt,"calculateActorMargins");Gne=x(async function(e,t,r){let n=t.get(e.from),a=t.get(e.to),i=n.x,o=a.x,s=e.wrap&&e.message,l=ca(e.message)?await wg(e.message,bt()):Ge.calculateTextDimensions(s?Ge.wrapLabel(e.message,Rt.width,Ky(Rt)):e.message,Ky(Rt)),u={width:s?Rt.width:Jt.getMax(Rt.width,l.width+2*Rt.noteMargin),height:0,startx:n.x,stopx:0,starty:0,stopy:0,message:e.message};return e.placement===r.db.PLACEMENT.RIGHTOF?(u.width=s?Jt.getMax(Rt.width,l.width):Jt.getMax(n.width/2+a.width/2,l.width+2*Rt.noteMargin),u.startx=i+(n.width+Rt.actorMargin)/2):e.placement===r.db.PLACEMENT.LEFTOF?(u.width=s?Jt.getMax(Rt.width,l.width+2*Rt.noteMargin):Jt.getMax(n.width/2+a.width/2,l.width+2*Rt.noteMargin),u.startx=i-u.width+(n.width-Rt.actorMargin)/2):e.to===e.from?(l=Ge.calculateTextDimensions(s?Ge.wrapLabel(e.message,Jt.getMax(Rt.width,n.width),Ky(Rt)):e.message,Ky(Rt)),u.width=s?Jt.getMax(Rt.width,n.width):Jt.getMax(n.width,Rt.width,l.width+2*Rt.noteMargin),u.startx=i+(n.width-u.width)/2):(u.width=Math.abs(i+n.width/2-(o+a.width/2))+Rt.actorMargin,u.startx=i<o?i+n.width/2-Rt.actorMargin/2:o+a.width/2-Rt.actorMargin/2),s&&(u.message=Ge.wrapLabel(e.message,u.width-2*Rt.wrapPadding,Ky(Rt))),J.debug(`NM:[${u.startx},${u.stopx},${u.starty},${u.stopy}:${u.width},${u.height}=${e.message}]`),u},"buildNoteModel"),Vne=x(function(e,t,r){if(![r.db.LINETYPE.SOLID_OPEN,r.db.LINETYPE.DOTTED_OPEN,r.db.LINETYPE.SOLID,r.db.LINETYPE.DOTTED,r.db.LINETYPE.SOLID_CROSS,r.db.LINETYPE.DOTTED_CROSS,r.db.LINETYPE.SOLID_POINT,r.db.LINETYPE.DOTTED_POINT,r.db.LINETYPE.BIDIRECTIONAL_SOLID,r.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(e.type))return{};let[n,a]=Cbt(e.from,t),[i,o]=Cbt(e.to,t),s=n<=i,l=s?a:n,u=s?i:o,f=Math.abs(i-o)>2,h=x(g=>s?-g:g,"adjustValue");e.from===e.to?u=l:(e.activate&&!f&&(u+=h(Rt.activationWidth/2-1)),[r.db.LINETYPE.SOLID_OPEN,r.db.LINETYPE.DOTTED_OPEN].includes(e.type)||(u+=h(3)),[r.db.LINETYPE.BIDIRECTIONAL_SOLID,r.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(e.type)&&(l-=h(3)));let d=[n,a,i,o],p=Math.abs(l-u);e.wrap&&e.message&&(e.message=Ge.wrapLabel(e.message,Jt.getMax(p+2*Rt.wrapPadding,Rt.width),$m(Rt)));let m=Ge.calculateTextDimensions(e.message,$m(Rt));return{width:Jt.getMax(e.wrap?0:m.width+2*Rt.wrapPadding,p+2*Rt.wrapPadding,Rt.width),height:0,startx:l,stopx:u,starty:0,stopy:0,message:e.message,type:e.type,wrap:e.wrap,fromBounds:Math.min.apply(null,d),toBounds:Math.max.apply(null,d)}},"buildMessageModel"),Hne=x(async function(e,t,r,n){let a={},i=[],o,s,l;for(let u of e){switch(u.type){case n.db.LINETYPE.LOOP_START:case n.db.LINETYPE.ALT_START:case n.db.LINETYPE.OPT_START:case n.db.LINETYPE.PAR_START:case n.db.LINETYPE.PAR_OVER_START:case n.db.LINETYPE.CRITICAL_START:case n.db.LINETYPE.BREAK_START:i.push({id:u.id,msg:u.message,from:Number.MAX_SAFE_INTEGER,to:Number.MIN_SAFE_INTEGER,width:0});break;case n.db.LINETYPE.ALT_ELSE:case n.db.LINETYPE.PAR_AND:case n.db.LINETYPE.CRITICAL_OPTION:u.message&&(o=i.pop(),a[o.id]=o,a[u.id]=o,i.push(o));break;case n.db.LINETYPE.LOOP_END:case n.db.LINETYPE.ALT_END:case n.db.LINETYPE.OPT_END:case n.db.LINETYPE.PAR_END:case n.db.LINETYPE.CRITICAL_END:case n.db.LINETYPE.BREAK_END:o=i.pop(),a[o.id]=o;break;case n.db.LINETYPE.ACTIVE_START:{let h=t.get(u.from?u.from:u.to.actor),d=XD(u.from?u.from:u.to.actor).length,p=h.x+h.width/2+(d-1)*Rt.activationWidth/2,m={startx:p,stopx:p+Rt.activationWidth,actor:u.from,enabled:!0};ee.activations.push(m)}break;case n.db.LINETYPE.ACTIVE_END:{let h=ee.activations.map(d=>d.actor).lastIndexOf(u.from);ee.activations.splice(h,1).splice(0,1)}break}u.placement!==void 0?(s=await Gne(u,t,n),u.noteModel=s,i.forEach(h=>{o=h,o.from=Jt.getMin(o.from,s.startx),o.to=Jt.getMax(o.to,s.startx+s.width),o.width=Jt.getMax(o.width,Math.abs(o.from-o.to))-Rt.labelBoxWidth})):(l=Vne(u,t,n),u.msgModel=l,l.startx&&l.stopx&&i.length>0&&i.forEach(h=>{if(o=h,l.startx===l.stopx){let d=t.get(u.from),p=t.get(u.to);o.from=Jt.getMin(d.x-l.width/2,d.x-d.width/2,o.from),o.to=Jt.getMax(p.x+l.width/2,p.x+d.width/2,o.to),o.width=Jt.getMax(o.width,Math.abs(o.to-o.from))-Rt.labelBoxWidth}else o.from=Jt.getMin(l.startx,o.from),o.to=Jt.getMax(l.stopx,o.to),o.width=Jt.getMax(o.width,l.width)-Rt.labelBoxWidth}))}return ee.activations=[],J.debug("Loop type widths:",a),a},"calculateLoopBounds"),Yne={bounds:ee,drawActors:lq,drawActorsPopup:Ibt,setConf:Rbt,draw:Une},Xne={parser:une,get db(){return new dne},renderer:Yne,styles:mne,init:x(e=>{e.sequence||(e.sequence={}),e.wrap&&(e.sequence.wrap=e.wrap,gx({sequence:{wrap:e.wrap}}))},"init")}});var cq,KD,$bt,zbt,jD,qbt,zm,QD,jne,ZD,Kne,Qne,Zne,JD,fq=B(()=>{ap();Bu();eu();jl();On();Tr();nr();hr();cq=function(){var e=x(function(Nt,It,kt,Pt){for(kt=kt||{},Pt=Nt.length;Pt--;kt[Nt[Pt]]=It);return kt},"o"),t=[1,18],r=[1,19],n=[1,20],a=[1,41],i=[1,42],o=[1,26],s=[1,24],l=[1,25],u=[1,32],f=[1,33],h=[1,34],d=[1,45],p=[1,35],m=[1,36],g=[1,37],v=[1,38],y=[1,27],b=[1,28],_=[1,29],k=[1,30],w=[1,31],T=[1,44],S=[1,46],C=[1,43],M=[1,47],N=[1,9],L=[1,8,9],E=[1,58],A=[1,59],D=[1,60],R=[1,61],I=[1,62],O=[1,63],F=[1,64],P=[1,8,9,41],q=[1,76],$=[1,8,9,12,13,22,39,41,44,68,69,70,71,72,73,74,79,81],W=[1,8,9,12,13,18,20,22,39,41,44,50,60,68,69,70,71,72,73,74,79,81,86,100,102,103],X=[13,60,86,100,102,103],tt=[13,60,73,74,86,100,102,103],Y=[13,60,68,69,70,71,72,86,100,102,103],ot=[1,100],Z=[1,117],ct=[1,113],rt=[1,109],et=[1,115],Q=[1,110],j=[1,111],it=[1,112],K=[1,114],dt=[1,116],nt=[22,48,60,61,82,86,87,88,89,90],_t=[1,8,9,39,41,44],V=[1,8,9,22],Ut=[1,145],pt=[1,8,9,61],Ft=[1,8,9,22,48,60,61,82,86,87,88,89,90],Yt={trace:x(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,statements:5,graphConfig:6,CLASS_DIAGRAM:7,NEWLINE:8,EOF:9,statement:10,classLabel:11,SQS:12,STR:13,SQE:14,namespaceName:15,alphaNumToken:16,classLiteralName:17,DOT:18,className:19,GENERICTYPE:20,relationStatement:21,LABEL:22,namespaceStatement:23,classStatement:24,memberStatement:25,annotationStatement:26,clickStatement:27,styleStatement:28,cssClassStatement:29,noteStatement:30,classDefStatement:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,namespaceIdentifier:38,STRUCT_START:39,classStatements:40,STRUCT_STOP:41,NAMESPACE:42,classIdentifier:43,STYLE_SEPARATOR:44,members:45,CLASS:46,emptyBody:47,SPACE:48,ANNOTATION_START:49,ANNOTATION_END:50,MEMBER:51,SEPARATOR:52,relation:53,NOTE_FOR:54,noteText:55,NOTE:56,CLASSDEF:57,classList:58,stylesOpt:59,ALPHA:60,COMMA:61,direction_tb:62,direction_bt:63,direction_rl:64,direction_lr:65,relationType:66,lineType:67,AGGREGATION:68,EXTENSION:69,COMPOSITION:70,DEPENDENCY:71,LOLLIPOP:72,LINE:73,DOTTED_LINE:74,CALLBACK:75,LINK:76,LINK_TARGET:77,CLICK:78,CALLBACK_NAME:79,CALLBACK_ARGS:80,HREF:81,STYLE:82,CSSCLASS:83,style:84,styleComponent:85,NUM:86,COLON:87,UNIT:88,BRKT:89,PCT:90,commentToken:91,textToken:92,graphCodeTokens:93,textNoTagsToken:94,TAGSTART:95,TAGEND:96,"==":97,"--":98,DEFAULT:99,MINUS:100,keywords:101,UNICODE_TEXT:102,BQUOTE_STR:103,$accept:0,$end:1},terminals_:{2:"error",7:"CLASS_DIAGRAM",8:"NEWLINE",9:"EOF",12:"SQS",13:"STR",14:"SQE",18:"DOT",20:"GENERICTYPE",22:"LABEL",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",39:"STRUCT_START",41:"STRUCT_STOP",42:"NAMESPACE",44:"STYLE_SEPARATOR",46:"CLASS",48:"SPACE",49:"ANNOTATION_START",50:"ANNOTATION_END",51:"MEMBER",52:"SEPARATOR",54:"NOTE_FOR",56:"NOTE",57:"CLASSDEF",60:"ALPHA",61:"COMMA",62:"direction_tb",63:"direction_bt",64:"direction_rl",65:"direction_lr",68:"AGGREGATION",69:"EXTENSION",70:"COMPOSITION",71:"DEPENDENCY",72:"LOLLIPOP",73:"LINE",74:"DOTTED_LINE",75:"CALLBACK",76:"LINK",77:"LINK_TARGET",78:"CLICK",79:"CALLBACK_NAME",80:"CALLBACK_ARGS",81:"HREF",82:"STYLE",83:"CSSCLASS",86:"NUM",87:"COLON",88:"UNIT",89:"BRKT",90:"PCT",93:"graphCodeTokens",95:"TAGSTART",96:"TAGEND",97:"==",98:"--",99:"DEFAULT",100:"MINUS",101:"keywords",102:"UNICODE_TEXT",103:"BQUOTE_STR"},productions_:[0,[3,1],[3,1],[4,1],[6,4],[5,1],[5,2],[5,3],[11,3],[15,1],[15,1],[15,3],[15,2],[19,1],[19,3],[19,1],[19,2],[19,2],[19,2],[10,1],[10,2],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,2],[10,1],[23,4],[23,5],[38,2],[40,1],[40,2],[40,3],[24,1],[24,3],[24,4],[24,3],[24,6],[43,2],[43,3],[47,0],[47,2],[47,2],[26,4],[45,1],[45,2],[25,1],[25,2],[25,1],[25,1],[21,3],[21,4],[21,4],[21,5],[30,3],[30,2],[31,3],[58,1],[58,3],[32,1],[32,1],[32,1],[32,1],[53,3],[53,2],[53,2],[53,1],[66,1],[66,1],[66,1],[66,1],[66,1],[67,1],[67,1],[27,3],[27,4],[27,3],[27,4],[27,4],[27,5],[27,3],[27,4],[27,4],[27,5],[27,4],[27,5],[27,5],[27,6],[28,3],[29,3],[59,1],[59,3],[84,1],[84,2],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[91,1],[91,1],[92,1],[92,1],[92,1],[92,1],[92,1],[92,1],[92,1],[94,1],[94,1],[94,1],[94,1],[16,1],[16,1],[16,1],[16,1],[17,1],[55,1]],performAction:x(function(It,kt,Pt,ht,yt,H,ft){var z=H.length-1;switch(yt){case 8:this.$=H[z-1];break;case 9:case 10:case 13:case 15:this.$=H[z];break;case 11:case 14:this.$=H[z-2]+"."+H[z];break;case 12:case 16:this.$=H[z-1]+H[z];break;case 17:case 18:this.$=H[z-1]+"~"+H[z]+"~";break;case 19:ht.addRelation(H[z]);break;case 20:H[z-1].title=ht.cleanupLabel(H[z]),ht.addRelation(H[z-1]);break;case 31:this.$=H[z].trim(),ht.setAccTitle(this.$);break;case 32:case 33:this.$=H[z].trim(),ht.setAccDescription(this.$);break;case 34:ht.addClassesToNamespace(H[z-3],H[z-1]);break;case 35:ht.addClassesToNamespace(H[z-4],H[z-1]);break;case 36:this.$=H[z],ht.addNamespace(H[z]);break;case 37:this.$=[H[z]];break;case 38:this.$=[H[z-1]];break;case 39:H[z].unshift(H[z-2]),this.$=H[z];break;case 41:ht.setCssClass(H[z-2],H[z]);break;case 42:ht.addMembers(H[z-3],H[z-1]);break;case 44:ht.setCssClass(H[z-5],H[z-3]),ht.addMembers(H[z-5],H[z-1]);break;case 45:this.$=H[z],ht.addClass(H[z]);break;case 46:this.$=H[z-1],ht.addClass(H[z-1]),ht.setClassLabel(H[z-1],H[z]);break;case 50:ht.addAnnotation(H[z],H[z-2]);break;case 51:case 64:this.$=[H[z]];break;case 52:H[z].push(H[z-1]),this.$=H[z];break;case 53:break;case 54:ht.addMember(H[z-1],ht.cleanupLabel(H[z]));break;case 55:break;case 56:break;case 57:this.$={id1:H[z-2],id2:H[z],relation:H[z-1],relationTitle1:"none",relationTitle2:"none"};break;case 58:this.$={id1:H[z-3],id2:H[z],relation:H[z-1],relationTitle1:H[z-2],relationTitle2:"none"};break;case 59:this.$={id1:H[z-3],id2:H[z],relation:H[z-2],relationTitle1:"none",relationTitle2:H[z-1]};break;case 60:this.$={id1:H[z-4],id2:H[z],relation:H[z-2],relationTitle1:H[z-3],relationTitle2:H[z-1]};break;case 61:ht.addNote(H[z],H[z-1]);break;case 62:ht.addNote(H[z]);break;case 63:this.$=H[z-2],ht.defineClass(H[z-1],H[z]);break;case 65:this.$=H[z-2].concat([H[z]]);break;case 66:ht.setDirection("TB");break;case 67:ht.setDirection("BT");break;case 68:ht.setDirection("RL");break;case 69:ht.setDirection("LR");break;case 70:this.$={type1:H[z-2],type2:H[z],lineType:H[z-1]};break;case 71:this.$={type1:"none",type2:H[z],lineType:H[z-1]};break;case 72:this.$={type1:H[z-1],type2:"none",lineType:H[z]};break;case 73:this.$={type1:"none",type2:"none",lineType:H[z]};break;case 74:this.$=ht.relationType.AGGREGATION;break;case 75:this.$=ht.relationType.EXTENSION;break;case 76:this.$=ht.relationType.COMPOSITION;break;case 77:this.$=ht.relationType.DEPENDENCY;break;case 78:this.$=ht.relationType.LOLLIPOP;break;case 79:this.$=ht.lineType.LINE;break;case 80:this.$=ht.lineType.DOTTED_LINE;break;case 81:case 87:this.$=H[z-2],ht.setClickEvent(H[z-1],H[z]);break;case 82:case 88:this.$=H[z-3],ht.setClickEvent(H[z-2],H[z-1]),ht.setTooltip(H[z-2],H[z]);break;case 83:this.$=H[z-2],ht.setLink(H[z-1],H[z]);break;case 84:this.$=H[z-3],ht.setLink(H[z-2],H[z-1],H[z]);break;case 85:this.$=H[z-3],ht.setLink(H[z-2],H[z-1]),ht.setTooltip(H[z-2],H[z]);break;case 86:this.$=H[z-4],ht.setLink(H[z-3],H[z-2],H[z]),ht.setTooltip(H[z-3],H[z-1]);break;case 89:this.$=H[z-3],ht.setClickEvent(H[z-2],H[z-1],H[z]);break;case 90:this.$=H[z-4],ht.setClickEvent(H[z-3],H[z-2],H[z-1]),ht.setTooltip(H[z-3],H[z]);break;case 91:this.$=H[z-3],ht.setLink(H[z-2],H[z]);break;case 92:this.$=H[z-4],ht.setLink(H[z-3],H[z-1],H[z]);break;case 93:this.$=H[z-4],ht.setLink(H[z-3],H[z-1]),ht.setTooltip(H[z-3],H[z]);break;case 94:this.$=H[z-5],ht.setLink(H[z-4],H[z-2],H[z]),ht.setTooltip(H[z-4],H[z-1]);break;case 95:this.$=H[z-2],ht.setCssStyle(H[z-1],H[z]);break;case 96:ht.setCssClass(H[z-1],H[z]);break;case 97:this.$=[H[z]];break;case 98:H[z-2].push(H[z]),this.$=H[z-2];break;case 100:this.$=H[z-1]+H[z];break}},"anonymous"),table:[{3:1,4:2,5:3,6:4,7:[1,6],10:5,16:39,17:40,19:21,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,33:t,35:r,37:n,38:22,42:a,43:23,46:i,49:o,51:s,52:l,54:u,56:f,57:h,60:d,62:p,63:m,64:g,65:v,75:y,76:b,78:_,82:k,83:w,86:T,100:S,102:C,103:M},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,3]},e(N,[2,5],{8:[1,48]}),{8:[1,49]},e(L,[2,19],{22:[1,50]}),e(L,[2,21]),e(L,[2,22]),e(L,[2,23]),e(L,[2,24]),e(L,[2,25]),e(L,[2,26]),e(L,[2,27]),e(L,[2,28]),e(L,[2,29]),e(L,[2,30]),{34:[1,51]},{36:[1,52]},e(L,[2,33]),e(L,[2,53],{53:53,66:56,67:57,13:[1,54],22:[1,55],68:E,69:A,70:D,71:R,72:I,73:O,74:F}),{39:[1,65]},e(P,[2,40],{39:[1,67],44:[1,66]}),e(L,[2,55]),e(L,[2,56]),{16:68,60:d,86:T,100:S,102:C},{16:39,17:40,19:69,60:d,86:T,100:S,102:C,103:M},{16:39,17:40,19:70,60:d,86:T,100:S,102:C,103:M},{16:39,17:40,19:71,60:d,86:T,100:S,102:C,103:M},{60:[1,72]},{13:[1,73]},{16:39,17:40,19:74,60:d,86:T,100:S,102:C,103:M},{13:q,55:75},{58:77,60:[1,78]},e(L,[2,66]),e(L,[2,67]),e(L,[2,68]),e(L,[2,69]),e($,[2,13],{16:39,17:40,19:80,18:[1,79],20:[1,81],60:d,86:T,100:S,102:C,103:M}),e($,[2,15],{20:[1,82]}),{15:83,16:84,17:85,60:d,86:T,100:S,102:C,103:M},{16:39,17:40,19:86,60:d,86:T,100:S,102:C,103:M},e(W,[2,123]),e(W,[2,124]),e(W,[2,125]),e(W,[2,126]),e([1,8,9,12,13,20,22,39,41,44,68,69,70,71,72,73,74,79,81],[2,127]),e(N,[2,6],{10:5,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,19:21,38:22,43:23,16:39,17:40,5:87,33:t,35:r,37:n,42:a,46:i,49:o,51:s,52:l,54:u,56:f,57:h,60:d,62:p,63:m,64:g,65:v,75:y,76:b,78:_,82:k,83:w,86:T,100:S,102:C,103:M}),{5:88,10:5,16:39,17:40,19:21,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,33:t,35:r,37:n,38:22,42:a,43:23,46:i,49:o,51:s,52:l,54:u,56:f,57:h,60:d,62:p,63:m,64:g,65:v,75:y,76:b,78:_,82:k,83:w,86:T,100:S,102:C,103:M},e(L,[2,20]),e(L,[2,31]),e(L,[2,32]),{13:[1,90],16:39,17:40,19:89,60:d,86:T,100:S,102:C,103:M},{53:91,66:56,67:57,68:E,69:A,70:D,71:R,72:I,73:O,74:F},e(L,[2,54]),{67:92,73:O,74:F},e(X,[2,73],{66:93,68:E,69:A,70:D,71:R,72:I}),e(tt,[2,74]),e(tt,[2,75]),e(tt,[2,76]),e(tt,[2,77]),e(tt,[2,78]),e(Y,[2,79]),e(Y,[2,80]),{8:[1,95],24:96,40:94,43:23,46:i},{16:97,60:d,86:T,100:S,102:C},{41:[1,99],45:98,51:ot},{50:[1,101]},{13:[1,102]},{13:[1,103]},{79:[1,104],81:[1,105]},{22:Z,48:ct,59:106,60:rt,82:et,84:107,85:108,86:Q,87:j,88:it,89:K,90:dt},{60:[1,118]},{13:q,55:119},e(L,[2,62]),e(L,[2,128]),{22:Z,48:ct,59:120,60:rt,61:[1,121],82:et,84:107,85:108,86:Q,87:j,88:it,89:K,90:dt},e(nt,[2,64]),{16:39,17:40,19:122,60:d,86:T,100:S,102:C,103:M},e($,[2,16]),e($,[2,17]),e($,[2,18]),{39:[2,36]},{15:124,16:84,17:85,18:[1,123],39:[2,9],60:d,86:T,100:S,102:C,103:M},{39:[2,10]},e(_t,[2,45],{11:125,12:[1,126]}),e(N,[2,7]),{9:[1,127]},e(V,[2,57]),{16:39,17:40,19:128,60:d,86:T,100:S,102:C,103:M},{13:[1,130],16:39,17:40,19:129,60:d,86:T,100:S,102:C,103:M},e(X,[2,72],{66:131,68:E,69:A,70:D,71:R,72:I}),e(X,[2,71]),{41:[1,132]},{24:96,40:133,43:23,46:i},{8:[1,134],41:[2,37]},e(P,[2,41],{39:[1,135]}),{41:[1,136]},e(P,[2,43]),{41:[2,51],45:137,51:ot},{16:39,17:40,19:138,60:d,86:T,100:S,102:C,103:M},e(L,[2,81],{13:[1,139]}),e(L,[2,83],{13:[1,141],77:[1,140]}),e(L,[2,87],{13:[1,142],80:[1,143]}),{13:[1,144]},e(L,[2,95],{61:Ut}),e(pt,[2,97],{85:146,22:Z,48:ct,60:rt,82:et,86:Q,87:j,88:it,89:K,90:dt}),e(Ft,[2,99]),e(Ft,[2,101]),e(Ft,[2,102]),e(Ft,[2,103]),e(Ft,[2,104]),e(Ft,[2,105]),e(Ft,[2,106]),e(Ft,[2,107]),e(Ft,[2,108]),e(Ft,[2,109]),e(L,[2,96]),e(L,[2,61]),e(L,[2,63],{61:Ut}),{60:[1,147]},e($,[2,14]),{15:148,16:84,17:85,60:d,86:T,100:S,102:C,103:M},{39:[2,12]},e(_t,[2,46]),{13:[1,149]},{1:[2,4]},e(V,[2,59]),e(V,[2,58]),{16:39,17:40,19:150,60:d,86:T,100:S,102:C,103:M},e(X,[2,70]),e(L,[2,34]),{41:[1,151]},{24:96,40:152,41:[2,38],43:23,46:i},{45:153,51:ot},e(P,[2,42]),{41:[2,52]},e(L,[2,50]),e(L,[2,82]),e(L,[2,84]),e(L,[2,85],{77:[1,154]}),e(L,[2,88]),e(L,[2,89],{13:[1,155]}),e(L,[2,91],{13:[1,157],77:[1,156]}),{22:Z,48:ct,60:rt,82:et,84:158,85:108,86:Q,87:j,88:it,89:K,90:dt},e(Ft,[2,100]),e(nt,[2,65]),{39:[2,11]},{14:[1,159]},e(V,[2,60]),e(L,[2,35]),{41:[2,39]},{41:[1,160]},e(L,[2,86]),e(L,[2,90]),e(L,[2,92]),e(L,[2,93],{77:[1,161]}),e(pt,[2,98],{85:146,22:Z,48:ct,60:rt,82:et,86:Q,87:j,88:it,89:K,90:dt}),e(_t,[2,8]),e(P,[2,44]),e(L,[2,94])],defaultActions:{2:[2,1],3:[2,2],4:[2,3],83:[2,36],85:[2,10],124:[2,12],127:[2,4],137:[2,52],148:[2,11],152:[2,39]},parseError:x(function(It,kt){if(kt.recoverable)this.trace(It);else{var Pt=new Error(It);throw Pt.hash=kt,Pt}},"parseError"),parse:x(function(It){var kt=this,Pt=[0],ht=[],yt=[null],H=[],ft=this.table,z="",st=0,lt=0,wt=0,vt=2,gt=1,Mt=H.slice.call(arguments,1),St=Object.create(this.lexer),Bt={yy:{}};for(var jt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,jt)&&(Bt.yy[jt]=this.yy[jt]);St.setInput(It,Bt.yy),Bt.yy.lexer=St,Bt.yy.parser=this,typeof St.yylloc>"u"&&(St.yylloc={});var ue=St.yylloc;H.push(ue);var Gt=St.options&&St.options.ranges;typeof Bt.yy.parseError=="function"?this.parseError=Bt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function $t(Se){Pt.length=Pt.length-2*Se,yt.length=yt.length-Se,H.length=H.length-Se}x($t,"popStack");function Xt(){var Se;return Se=ht.pop()||St.lex()||gt,typeof Se!="number"&&(Se instanceof Array&&(ht=Se,Se=ht.pop()),Se=kt.symbols_[Se]||Se),Se}x(Xt,"lex");for(var Wt,ne,Fe,de,we,oe,ie={},fe,pe,me,se;;){if(Fe=Pt[Pt.length-1],this.defaultActions[Fe]?de=this.defaultActions[Fe]:((Wt===null||typeof Wt>"u")&&(Wt=Xt()),de=ft[Fe]&&ft[Fe][Wt]),typeof de>"u"||!de.length||!de[0]){var Zr="";se=[];for(fe in ft[Fe])this.terminals_[fe]&&fe>vt&&se.push("'"+this.terminals_[fe]+"'");St.showPosition?Zr="Parse error on line "+(st+1)+`:
`+St.showPosition()+`
Expecting `+se.join(", ")+", got '"+(this.terminals_[Wt]||Wt)+"'":Zr="Parse error on line "+(st+1)+": Unexpected "+(Wt==gt?"end of input":"'"+(this.terminals_[Wt]||Wt)+"'"),this.parseError(Zr,{text:St.match,token:this.terminals_[Wt]||Wt,line:St.yylineno,loc:ue,expected:se})}if(de[0]instanceof Array&&de.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Fe+", token: "+Wt);switch(de[0]){case 1:Pt.push(Wt),yt.push(St.yytext),H.push(St.yylloc),Pt.push(de[1]),Wt=null,ne?(Wt=ne,ne=null):(lt=St.yyleng,z=St.yytext,st=St.yylineno,ue=St.yylloc,wt>0&&wt--);break;case 2:if(pe=this.productions_[de[1]][1],ie.$=yt[yt.length-pe],ie._$={first_line:H[H.length-(pe||1)].first_line,last_line:H[H.length-1].last_line,first_column:H[H.length-(pe||1)].first_column,last_column:H[H.length-1].last_column},Gt&&(ie._$.range=[H[H.length-(pe||1)].range[0],H[H.length-1].range[1]]),oe=this.performAction.apply(ie,[z,lt,st,Bt.yy,de[1],yt,H].concat(Mt)),typeof oe<"u")return oe;pe&&(Pt=Pt.slice(0,-1*pe*2),yt=yt.slice(0,-1*pe),H=H.slice(0,-1*pe)),Pt.push(this.productions_[de[1]][0]),yt.push(ie.$),H.push(ie._$),me=ft[Pt[Pt.length-2]][Pt[Pt.length-1]],Pt.push(me);break;case 3:return!0}}return!0},"parse")},Ht=function(){var Nt={EOF:1,parseError:x(function(kt,Pt){if(this.yy.parser)this.yy.parser.parseError(kt,Pt);else throw new Error(kt)},"parseError"),setInput:x(function(It,kt){return this.yy=kt||this.yy||{},this._input=It,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:x(function(){var It=this._input[0];this.yytext+=It,this.yyleng++,this.offset++,this.match+=It,this.matched+=It;var kt=It.match(/(?:\r\n?|\n).*/g);return kt?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),It},"input"),unput:x(function(It){var kt=It.length,Pt=It.split(/(?:\r\n?|\n)/g);this._input=It+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-kt),this.offset-=kt;var ht=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Pt.length-1&&(this.yylineno-=Pt.length-1);var yt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Pt?(Pt.length===ht.length?this.yylloc.first_column:0)+ht[ht.length-Pt.length].length-Pt[0].length:this.yylloc.first_column-kt},this.options.ranges&&(this.yylloc.range=[yt[0],yt[0]+this.yyleng-kt]),this.yyleng=this.yytext.length,this},"unput"),more:x(function(){return this._more=!0,this},"more"),reject:x(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:x(function(It){this.unput(this.match.slice(It))},"less"),pastInput:x(function(){var It=this.matched.substr(0,this.matched.length-this.match.length);return(It.length>20?"...":"")+It.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:x(function(){var It=this.match;return It.length<20&&(It+=this._input.substr(0,20-It.length)),(It.substr(0,20)+(It.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:x(function(){var It=this.pastInput(),kt=new Array(It.length+1).join("-");return It+this.upcomingInput()+`
`+kt+"^"},"showPosition"),test_match:x(function(It,kt){var Pt,ht,yt;if(this.options.backtrack_lexer&&(yt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(yt.yylloc.range=this.yylloc.range.slice(0))),ht=It[0].match(/(?:\r\n?|\n).*/g),ht&&(this.yylineno+=ht.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:ht?ht[ht.length-1].length-ht[ht.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+It[0].length},this.yytext+=It[0],this.match+=It[0],this.matches=It,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(It[0].length),this.matched+=It[0],Pt=this.performAction.call(this,this.yy,this,kt,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Pt)return Pt;if(this._backtrack){for(var H in yt)this[H]=yt[H];return!1}return!1},"test_match"),next:x(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var It,kt,Pt,ht;this._more||(this.yytext="",this.match="");for(var yt=this._currentRules(),H=0;H<yt.length;H++)if(Pt=this._input.match(this.rules[yt[H]]),Pt&&(!kt||Pt[0].length>kt[0].length)){if(kt=Pt,ht=H,this.options.backtrack_lexer){if(It=this.test_match(Pt,yt[H]),It!==!1)return It;if(this._backtrack){kt=!1;continue}else return!1}else if(!this.options.flex)break}return kt?(It=this.test_match(kt,yt[ht]),It!==!1?It:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:x(function(){var kt=this.next();return kt||this.lex()},"lex"),begin:x(function(kt){this.conditionStack.push(kt)},"begin"),popState:x(function(){var kt=this.conditionStack.length-1;return kt>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:x(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:x(function(kt){return kt=this.conditionStack.length-1-Math.abs(kt||0),kt>=0?this.conditionStack[kt]:"INITIAL"},"topState"),pushState:x(function(kt){this.begin(kt)},"pushState"),stateStackSize:x(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:x(function(kt,Pt,ht,yt){var H=yt;switch(ht){case 0:return 62;case 1:return 63;case 2:return 64;case 3:return 65;case 4:break;case 5:break;case 6:return this.begin("acc_title"),33;break;case 7:return this.popState(),"acc_title_value";break;case 8:return this.begin("acc_descr"),35;break;case 9:return this.popState(),"acc_descr_value";break;case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 8;case 14:break;case 15:return 7;case 16:return 7;case 17:return"EDGE_STATE";case 18:this.begin("callback_name");break;case 19:this.popState();break;case 20:this.popState(),this.begin("callback_args");break;case 21:return 79;case 22:this.popState();break;case 23:return 80;case 24:this.popState();break;case 25:return"STR";case 26:this.begin("string");break;case 27:return 82;case 28:return 57;case 29:return this.begin("namespace"),42;break;case 30:return this.popState(),8;break;case 31:break;case 32:return this.begin("namespace-body"),39;break;case 33:return this.popState(),41;break;case 34:return"EOF_IN_STRUCT";case 35:return 8;case 36:break;case 37:return"EDGE_STATE";case 38:return this.begin("class"),46;break;case 39:return this.popState(),8;break;case 40:break;case 41:return this.popState(),this.popState(),41;break;case 42:return this.begin("class-body"),39;break;case 43:return this.popState(),41;break;case 44:return"EOF_IN_STRUCT";case 45:return"EDGE_STATE";case 46:return"OPEN_IN_STRUCT";case 47:break;case 48:return"MEMBER";case 49:return 83;case 50:return 75;case 51:return 76;case 52:return 78;case 53:return 54;case 54:return 56;case 55:return 49;case 56:return 50;case 57:return 81;case 58:this.popState();break;case 59:return"GENERICTYPE";case 60:this.begin("generic");break;case 61:this.popState();break;case 62:return"BQUOTE_STR";case 63:this.begin("bqstring");break;case 64:return 77;case 65:return 77;case 66:return 77;case 67:return 77;case 68:return 69;case 69:return 69;case 70:return 71;case 71:return 71;case 72:return 70;case 73:return 68;case 74:return 72;case 75:return 73;case 76:return 74;case 77:return 22;case 78:return 44;case 79:return 100;case 80:return 18;case 81:return"PLUS";case 82:return 87;case 83:return 61;case 84:return 89;case 85:return 89;case 86:return 90;case 87:return"EQUALS";case 88:return"EQUALS";case 89:return 60;case 90:return 12;case 91:return 14;case 92:return"PUNCTUATION";case 93:return 86;case 94:return 102;case 95:return 48;case 96:return 48;case 97:return 9}},"anonymous"),rules:[/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,/^(?:classDiagram\b)/,/^(?:\[\*\])/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:["])/,/^(?:[^"]*)/,/^(?:["])/,/^(?:style\b)/,/^(?:classDef\b)/,/^(?:namespace\b)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:[{])/,/^(?:[}])/,/^(?:$)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:\[\*\])/,/^(?:class\b)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:[}])/,/^(?:[{])/,/^(?:[}])/,/^(?:$)/,/^(?:\[\*\])/,/^(?:[{])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:note for\b)/,/^(?:note\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:href\b)/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:~)/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:[`])/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:\s*\(\))/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?::)/,/^(?:,)/,/^(?:#)/,/^(?:#)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:\[)/,/^(?:\])/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:\s)/,/^(?:$)/],conditions:{"namespace-body":{rules:[26,33,34,35,36,37,38,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},namespace:{rules:[26,29,30,31,32,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},"class-body":{rules:[26,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},class:{rules:[26,39,40,41,42,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_descr_multiline:{rules:[11,12,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_descr:{rules:[9,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_title:{rules:[7,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},callback_args:{rules:[22,23,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},callback_name:{rules:[19,20,21,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},href:{rules:[26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},struct:{rules:[26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},generic:{rules:[26,49,50,51,52,53,54,55,56,57,58,59,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},bqstring:{rules:[26,49,50,51,52,53,54,55,56,57,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},string:{rules:[24,25,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,8,10,13,14,15,16,17,18,26,27,28,29,38,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97],inclusive:!0}}};return Nt}();Yt.lexer=Ht;function Lt(){this.yy={}}return x(Lt,"Parser"),Lt.prototype=Yt,Yt.Parser=Lt,new Lt}();cq.parser=cq;KD=cq,$bt=["#","+","~","-",""],zbt=class{static{x(this,"ClassMember")}constructor(e,t){this.memberType=t,this.visibility="",this.classifier="",this.text="";let r=sr(e,bt());this.parseMember(r)}getDisplayDetails(){let e=this.visibility+hc(this.id);this.memberType==="method"&&(e+=`(${hc(this.parameters.trim())})`,this.returnType&&(e+=" : "+hc(this.returnType))),e=e.trim();let t=this.parseClassifier();return{displayText:e,cssStyle:t}}parseMember(e){let t="";if(this.memberType==="method"){let a=/([#+~-])?(.+)\((.*)\)([\s$*])?(.*)([$*])?/.exec(e);if(a){let i=a[1]?a[1].trim():"";if($bt.includes(i)&&(this.visibility=i),this.id=a[2],this.parameters=a[3]?a[3].trim():"",t=a[4]?a[4].trim():"",this.returnType=a[5]?a[5].trim():"",t===""){let o=this.returnType.substring(this.returnType.length-1);/[$*]/.exec(o)&&(t=o,this.returnType=this.returnType.substring(0,this.returnType.length-1))}}}else{let n=e.length,a=e.substring(0,1),i=e.substring(n-1);$bt.includes(a)&&(this.visibility=a),/[$*]/.exec(i)&&(t=i),this.id=e.substring(this.visibility===""?0:1,t===""?n:n-1)}this.classifier=t,this.id=this.id.startsWith(" ")?" "+this.id.trim():this.id.trim();let r=`${this.visibility?"\\"+this.visibility:""}${hc(this.id)}${this.memberType==="method"?`(${hc(this.parameters)})${this.returnType?" : "+hc(this.returnType):""}`:""}`;this.text=r.replaceAll("<","&lt;").replaceAll(">","&gt;"),this.text.startsWith("\\&lt;")&&(this.text=this.text.replace("\\&lt;","~"))}parseClassifier(){switch(this.classifier){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}}},jD="classId-",qbt=0,zm=x(e=>Jt.sanitizeText(e,bt()),"sanitizeText"),QD=class{constructor(){this.relations=[],this.classes=new Map,this.styleClasses=new Map,this.notes=[],this.interfaces=[],this.namespaces=new Map,this.namespaceCounter=0,this.functions=[],this.lineType={LINE:0,DOTTED_LINE:1},this.relationType={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3,LOLLIPOP:4},this.setupToolTips=x(e=>{let t=Vt(".mermaidTooltip");(t._groups||t)[0][0]===null&&(t=Vt("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),Vt(e).select("svg").selectAll("g.node").on("mouseover",a=>{let i=Vt(a.currentTarget);if(i.attr("title")===null)return;let s=this.getBoundingClientRect();t.transition().duration(200).style("opacity",".9"),t.text(i.attr("title")).style("left",window.scrollX+s.left+(s.right-s.left)/2+"px").style("top",window.scrollY+s.top-14+document.body.scrollTop+"px"),t.html(t.html().replace(/&lt;br\/&gt;/g,"<br/>")),i.classed("hover",!0)}).on("mouseout",a=>{t.transition().duration(500).style("opacity",0),Vt(a.currentTarget).classed("hover",!1)})},"setupToolTips"),this.direction="TB",this.setAccTitle=Mr,this.getAccTitle=Fr,this.setAccDescription=Pr,this.getAccDescription=Br,this.setDiagramTitle=Yr,this.getDiagramTitle=$r,this.getConfig=x(()=>bt().class,"getConfig"),this.functions.push(this.setupToolTips.bind(this)),this.clear(),this.addRelation=this.addRelation.bind(this),this.addClassesToNamespace=this.addClassesToNamespace.bind(this),this.addNamespace=this.addNamespace.bind(this),this.setCssClass=this.setCssClass.bind(this),this.addMembers=this.addMembers.bind(this),this.addClass=this.addClass.bind(this),this.setClassLabel=this.setClassLabel.bind(this),this.addAnnotation=this.addAnnotation.bind(this),this.addMember=this.addMember.bind(this),this.cleanupLabel=this.cleanupLabel.bind(this),this.addNote=this.addNote.bind(this),this.defineClass=this.defineClass.bind(this),this.setDirection=this.setDirection.bind(this),this.setLink=this.setLink.bind(this),this.bindFunctions=this.bindFunctions.bind(this),this.clear=this.clear.bind(this),this.setTooltip=this.setTooltip.bind(this),this.setClickEvent=this.setClickEvent.bind(this),this.setCssStyle=this.setCssStyle.bind(this)}static{x(this,"ClassDB")}splitClassNameAndType(e){let t=Jt.sanitizeText(e,bt()),r="",n=t;if(t.indexOf("~")>0){let a=t.split("~");n=zm(a[0]),r=zm(a[1])}return{className:n,type:r}}setClassLabel(e,t){let r=Jt.sanitizeText(e,bt());t&&(t=zm(t));let{className:n}=this.splitClassNameAndType(r);this.classes.get(n).label=t,this.classes.get(n).text=`${t}${this.classes.get(n).type?`<${this.classes.get(n).type}>`:""}`}addClass(e){let t=Jt.sanitizeText(e,bt()),{className:r,type:n}=this.splitClassNameAndType(t);if(this.classes.has(r))return;let a=Jt.sanitizeText(r,bt());this.classes.set(a,{id:a,type:n,label:a,text:`${a}${n?`&lt;${n}&gt;`:""}`,shape:"classBox",cssClasses:"default",methods:[],members:[],annotations:[],styles:[],domId:jD+a+"-"+qbt}),qbt++}addInterface(e,t){let r={id:`interface${this.interfaces.length}`,label:e,classId:t};this.interfaces.push(r)}lookUpDomId(e){let t=Jt.sanitizeText(e,bt());if(this.classes.has(t))return this.classes.get(t).domId;throw new Error("Class not found: "+t)}clear(){this.relations=[],this.classes=new Map,this.notes=[],this.interfaces=[],this.functions=[],this.functions.push(this.setupToolTips.bind(this)),this.namespaces=new Map,this.namespaceCounter=0,this.direction="TB",wr()}getClass(e){return this.classes.get(e)}getClasses(){return this.classes}getRelations(){return this.relations}getNotes(){return this.notes}addRelation(e){J.debug("Adding relation: "+JSON.stringify(e));let t=[this.relationType.LOLLIPOP,this.relationType.AGGREGATION,this.relationType.COMPOSITION,this.relationType.DEPENDENCY,this.relationType.EXTENSION];e.relation.type1===this.relationType.LOLLIPOP&&!t.includes(e.relation.type2)?(this.addClass(e.id2),this.addInterface(e.id1,e.id2),e.id1=`interface${this.interfaces.length-1}`):e.relation.type2===this.relationType.LOLLIPOP&&!t.includes(e.relation.type1)?(this.addClass(e.id1),this.addInterface(e.id2,e.id1),e.id2=`interface${this.interfaces.length-1}`):(this.addClass(e.id1),this.addClass(e.id2)),e.id1=this.splitClassNameAndType(e.id1).className,e.id2=this.splitClassNameAndType(e.id2).className,e.relationTitle1=Jt.sanitizeText(e.relationTitle1.trim(),bt()),e.relationTitle2=Jt.sanitizeText(e.relationTitle2.trim(),bt()),this.relations.push(e)}addAnnotation(e,t){let r=this.splitClassNameAndType(e).className;this.classes.get(r).annotations.push(t)}addMember(e,t){this.addClass(e);let r=this.splitClassNameAndType(e).className,n=this.classes.get(r);if(typeof t=="string"){let a=t.trim();a.startsWith("<<")&&a.endsWith(">>")?n.annotations.push(zm(a.substring(2,a.length-2))):a.indexOf(")")>0?n.methods.push(new zbt(a,"method")):a&&n.members.push(new zbt(a,"attribute"))}}addMembers(e,t){Array.isArray(t)&&(t.reverse(),t.forEach(r=>this.addMember(e,r)))}addNote(e,t){let r={id:`note${this.notes.length}`,class:t,text:e};this.notes.push(r)}cleanupLabel(e){return e.startsWith(":")&&(e=e.substring(1)),zm(e.trim())}setCssClass(e,t){e.split(",").forEach(r=>{let n=r;/\d/.exec(r[0])&&(n=jD+n);let a=this.classes.get(n);a&&(a.cssClasses+=" "+t)})}defineClass(e,t){for(let r of e){let n=this.styleClasses.get(r);n===void 0&&(n={id:r,styles:[],textStyles:[]},this.styleClasses.set(r,n)),t&&t.forEach(a=>{if(/color/.exec(a)){let i=a.replace("fill","bgFill");n.textStyles.push(i)}n.styles.push(a)}),this.classes.forEach(a=>{a.cssClasses.includes(r)&&a.styles.push(...t.flatMap(i=>i.split(",")))})}}setTooltip(e,t){e.split(",").forEach(r=>{t!==void 0&&(this.classes.get(r).tooltip=zm(t))})}getTooltip(e,t){return t&&this.namespaces.has(t)?this.namespaces.get(t).classes.get(e).tooltip:this.classes.get(e).tooltip}setLink(e,t,r){let n=bt();e.split(",").forEach(a=>{let i=a;/\d/.exec(a[0])&&(i=jD+i);let o=this.classes.get(i);o&&(o.link=Ge.formatUrl(t,n),n.securityLevel==="sandbox"?o.linkTarget="_top":typeof r=="string"?o.linkTarget=zm(r):o.linkTarget="_blank")}),this.setCssClass(e,"clickable")}setClickEvent(e,t,r){e.split(",").forEach(n=>{this.setClickFunc(n,t,r),this.classes.get(n).haveCallback=!0}),this.setCssClass(e,"clickable")}setClickFunc(e,t,r){let n=Jt.sanitizeText(e,bt());if(bt().securityLevel!=="loose"||t===void 0)return;let i=n;if(this.classes.has(i)){let o=this.lookUpDomId(i),s=[];if(typeof r=="string"){s=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let l=0;l<s.length;l++){let u=s[l].trim();u.startsWith('"')&&u.endsWith('"')&&(u=u.substr(1,u.length-2)),s[l]=u}}s.length===0&&s.push(o),this.functions.push(()=>{let l=document.querySelector(`[id="${o}"]`);l!==null&&l.addEventListener("click",()=>{Ge.runFunc(t,...s)},!1)})}}bindFunctions(e){this.functions.forEach(t=>{t(e)})}getDirection(){return this.direction}setDirection(e){this.direction=e}addNamespace(e){this.namespaces.has(e)||(this.namespaces.set(e,{id:e,classes:new Map,children:{},domId:jD+e+"-"+this.namespaceCounter}),this.namespaceCounter++)}getNamespace(e){return this.namespaces.get(e)}getNamespaces(){return this.namespaces}addClassesToNamespace(e,t){if(this.namespaces.has(e))for(let r of t){let{className:n}=this.splitClassNameAndType(r);this.classes.get(n).parent=e,this.namespaces.get(e).classes.set(n,this.classes.get(n))}}setCssStyle(e,t){let r=this.classes.get(e);if(!(!t||!r))for(let n of t)n.includes(",")?r.styles.push(...n.split(",")):r.styles.push(n)}getArrowMarker(e){let t;switch(e){case 0:t="aggregation";break;case 1:t="extension";break;case 2:t="composition";break;case 3:t="dependency";break;case 4:t="lollipop";break;default:t="none"}return t}getData(){let e=[],t=[],r=bt();for(let a of this.namespaces.keys()){let i=this.namespaces.get(a);if(i){let o={id:i.id,label:i.id,isGroup:!0,padding:r.class.padding??16,shape:"rect",cssStyles:["fill: none","stroke: black"],look:r.look};e.push(o)}}for(let a of this.classes.keys()){let i=this.classes.get(a);if(i){let o=i;o.parentId=i.parent,o.look=r.look,e.push(o)}}let n=0;for(let a of this.notes){n++;let i={id:a.id,label:a.text,isGroup:!1,shape:"note",padding:r.class.padding??6,cssStyles:["text-align: left","white-space: nowrap",`fill: ${r.themeVariables.noteBkgColor}`,`stroke: ${r.themeVariables.noteBorderColor}`],look:r.look};e.push(i);let o=this.classes.get(a.class)?.id??"";if(o){let s={id:`edgeNote${n}`,start:a.id,end:o,type:"normal",thickness:"normal",classes:"relation",arrowTypeStart:"none",arrowTypeEnd:"none",arrowheadStyle:"",labelStyle:[""],style:["fill: none"],pattern:"dotted",look:r.look};t.push(s)}}for(let a of this.interfaces){let i={id:a.id,label:a.label,isGroup:!1,shape:"rect",cssStyles:["opacity: 0;"],look:r.look};e.push(i)}n=0;for(let a of this.relations){n++;let i={id:Lc(a.id1,a.id2,{prefix:"id",counter:n}),start:a.id1,end:a.id2,type:"normal",label:a.title,labelpos:"c",thickness:"normal",classes:"relation",arrowTypeStart:this.getArrowMarker(a.relation.type1),arrowTypeEnd:this.getArrowMarker(a.relation.type2),startLabelRight:a.relationTitle1==="none"?"":a.relationTitle1,endLabelLeft:a.relationTitle2==="none"?"":a.relationTitle2,arrowheadStyle:"",labelStyle:["display: inline-block"],style:a.style||"",pattern:a.relation.lineType==1?"dashed":"solid",look:r.look};t.push(i)}return{nodes:e,edges:t,other:{},config:r,direction:this.getDirection()}}},jne=x(e=>`g.classGroup text {
  fill: ${e.nodeBorder||e.classText};
  stroke: none;
  font-family: ${e.fontFamily};
  font-size: 10px;

  .title {
    font-weight: bolder;
  }

}

.nodeLabel, .edgeLabel {
  color: ${e.classText};
}
.edgeLabel .label rect {
  fill: ${e.mainBkg};
}
.label text {
  fill: ${e.classText};
}

.labelBkg {
  background: ${e.mainBkg};
}
.edgeLabel .label span {
  background: ${e.mainBkg};
}

.classTitle {
  font-weight: bolder;
}
.node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }


.divider {
  stroke: ${e.nodeBorder};
  stroke-width: 1;
}

g.clickable {
  cursor: pointer;
}

g.classGroup rect {
  fill: ${e.mainBkg};
  stroke: ${e.nodeBorder};
}

g.classGroup line {
  stroke: ${e.nodeBorder};
  stroke-width: 1;
}

.classLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${e.mainBkg};
  opacity: 0.5;
}

.classLabel .label {
  fill: ${e.nodeBorder};
  font-size: 10px;
}

.relation {
  stroke: ${e.lineColor};
  stroke-width: 1;
  fill: none;
}

.dashed-line{
  stroke-dasharray: 3;
}

.dotted-line{
  stroke-dasharray: 1 2;
}

#compositionStart, .composition {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#compositionEnd, .composition {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#extensionStart, .extension {
  fill: transparent !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#extensionEnd, .extension {
  fill: transparent !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#aggregationStart, .aggregation {
  fill: transparent !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#aggregationEnd, .aggregation {
  fill: transparent !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#lollipopStart, .lollipop {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#lollipopEnd, .lollipop {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

.edgeTerminals {
  font-size: 11px;
  line-height: initial;
}

.classTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${e.textColor};
}
  ${Zc()}
`,"getStyles"),ZD=jne,Kne=x((e,t="TB")=>{if(!e.doc)return t;let r=t;for(let n of e.doc)n.stmt==="dir"&&(r=n.value);return r},"getDir"),Qne=x(function(e,t){return t.db.getClasses()},"getClasses"),Zne=x(async function(e,t,r,n){J.info("REF0:"),J.info("Drawing class diagram (v3)",t);let{securityLevel:a,state:i,layout:o}=bt(),s=n.db.getData(),l=tu(t,a);s.type=n.type,s.layoutAlgorithm=jc(o),s.nodeSpacing=i?.nodeSpacing||50,s.rankSpacing=i?.rankSpacing||50,s.markers=["aggregation","extension","composition","dependency","lollipop"],s.diagramId=t,await Xl(s,l);let u=8;Ge.insertTitle(l,"classDiagramTitleText",i?.titleTopMargin??25,n.db.getDiagramTitle()),Us(l,u,"classDiagram",i?.useMaxWidth??!0)},"draw"),JD={getClasses:Qne,draw:Zne,getDir:Kne}});var Ubt={};pr(Ubt,{diagram:()=>Jne});var Jne,Wbt=B(()=>{fq();ap();Bu();eu();jl();$l();al();Ns();Zo();Jo();to();On();Tr();nr();Jne={parser:KD,get db(){return new QD},renderer:JD,styles:ZD,init:x(e=>{e.class||(e.class={}),e.class.arrowMarkerAbsolute=e.arrowMarkerAbsolute},"init")}});var Gbt={};pr(Gbt,{diagram:()=>tae});var tae,Vbt=B(()=>{fq();ap();Bu();eu();jl();$l();al();Ns();Zo();Jo();to();On();Tr();nr();tae={parser:KD,get db(){return new QD},renderer:JD,styles:ZD,init:x(e=>{e.class||(e.class={}),e.class.arrowMarkerAbsolute=e.arrowMarkerAbsolute},"init")}});function rA(e="",t=0,r="",n=gq){let a=r!==null&&r.length>0?`${n}${r}`:"";return`${xae}-${e}${a}-${t}`}function Nw(e,t,r){if(!t.id||t.id==="</join></fork>"||t.id==="</choice>")return;t.cssClasses&&(Array.isArray(t.cssCompiledStyles)||(t.cssCompiledStyles=[]),t.cssClasses.split(" ").forEach(a=>{let i=r.get(a);i&&(t.cssCompiledStyles=[...t.cssCompiledStyles??[],...i.styles])}));let n=e.find(a=>a.id===t.id);n?Object.assign(n,t):e.push(t)}function f_t(e){return e?.classes?.join(" ")??""}function h_t(e){return e?.styles??[]}var pq,nA,eae,Jbt,Hbt,Jy,Zy,mq,rae,nae,aae,Fw,t_t,e_t,r_t,n_t,a_t,i_t,hq,dq,iae,oae,Ybt,Xbt,sae,lae,Pw,uae,cae,o_t,fae,hae,dae,pae,mae,gae,vae,yae,s_t,l_t,xae,gq,bae,jbt,u_t,_ae,wae,c_t,eA,_p,Tae,Kbt,Ow,Eae,ys,Qbt,Zbt,tA,Eh,kae,aA,vq=B(()=>{Bu();eu();jl();On();Tr();nr();pq=function(){var e=x(function(P,q,$,W){for($=$||{},W=P.length;W--;$[P[W]]=q);return $},"o"),t=[1,2],r=[1,3],n=[1,4],a=[2,4],i=[1,9],o=[1,11],s=[1,16],l=[1,17],u=[1,18],f=[1,19],h=[1,33],d=[1,20],p=[1,21],m=[1,22],g=[1,23],v=[1,24],y=[1,26],b=[1,27],_=[1,28],k=[1,29],w=[1,30],T=[1,31],S=[1,32],C=[1,35],M=[1,36],N=[1,37],L=[1,38],E=[1,34],A=[1,4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,41,45,48,51,52,53,54,57],D=[1,4,5,14,15,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,39,40,41,45,48,51,52,53,54,57],R=[4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,41,45,48,51,52,53,54,57],I={trace:x(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,SD:6,document:7,line:8,statement:9,classDefStatement:10,styleStatement:11,cssClassStatement:12,idStatement:13,DESCR:14,"-->":15,HIDE_EMPTY:16,scale:17,WIDTH:18,COMPOSIT_STATE:19,STRUCT_START:20,STRUCT_STOP:21,STATE_DESCR:22,AS:23,ID:24,FORK:25,JOIN:26,CHOICE:27,CONCURRENT:28,note:29,notePosition:30,NOTE_TEXT:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,CLICK:38,STRING:39,HREF:40,classDef:41,CLASSDEF_ID:42,CLASSDEF_STYLEOPTS:43,DEFAULT:44,style:45,STYLE_IDS:46,STYLEDEF_STYLEOPTS:47,class:48,CLASSENTITY_IDS:49,STYLECLASS:50,direction_tb:51,direction_bt:52,direction_rl:53,direction_lr:54,eol:55,";":56,EDGE_STATE:57,STYLE_SEPARATOR:58,left_of:59,right_of:60,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",6:"SD",14:"DESCR",15:"-->",16:"HIDE_EMPTY",17:"scale",18:"WIDTH",19:"COMPOSIT_STATE",20:"STRUCT_START",21:"STRUCT_STOP",22:"STATE_DESCR",23:"AS",24:"ID",25:"FORK",26:"JOIN",27:"CHOICE",28:"CONCURRENT",29:"note",31:"NOTE_TEXT",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",38:"CLICK",39:"STRING",40:"HREF",41:"classDef",42:"CLASSDEF_ID",43:"CLASSDEF_STYLEOPTS",44:"DEFAULT",45:"style",46:"STYLE_IDS",47:"STYLEDEF_STYLEOPTS",48:"class",49:"CLASSENTITY_IDS",50:"STYLECLASS",51:"direction_tb",52:"direction_bt",53:"direction_rl",54:"direction_lr",56:";",57:"EDGE_STATE",58:"STYLE_SEPARATOR",59:"left_of",60:"right_of"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[9,1],[9,1],[9,1],[9,1],[9,2],[9,3],[9,4],[9,1],[9,2],[9,1],[9,4],[9,3],[9,6],[9,1],[9,1],[9,1],[9,1],[9,4],[9,4],[9,1],[9,2],[9,2],[9,1],[9,5],[9,5],[10,3],[10,3],[11,3],[12,3],[32,1],[32,1],[32,1],[32,1],[55,1],[55,1],[13,1],[13,1],[13,3],[13,3],[30,1],[30,1]],performAction:x(function(q,$,W,X,tt,Y,ot){var Z=Y.length-1;switch(tt){case 3:return X.setRootDoc(Y[Z]),Y[Z];break;case 4:this.$=[];break;case 5:Y[Z]!="nl"&&(Y[Z-1].push(Y[Z]),this.$=Y[Z-1]);break;case 6:case 7:this.$=Y[Z];break;case 8:this.$="nl";break;case 12:this.$=Y[Z];break;case 13:let Q=Y[Z-1];Q.description=X.trimColon(Y[Z]),this.$=Q;break;case 14:this.$={stmt:"relation",state1:Y[Z-2],state2:Y[Z]};break;case 15:let j=X.trimColon(Y[Z]);this.$={stmt:"relation",state1:Y[Z-3],state2:Y[Z-1],description:j};break;case 19:this.$={stmt:"state",id:Y[Z-3],type:"default",description:"",doc:Y[Z-1]};break;case 20:var ct=Y[Z],rt=Y[Z-2].trim();if(Y[Z].match(":")){var et=Y[Z].split(":");ct=et[0],rt=[rt,et[1]]}this.$={stmt:"state",id:ct,type:"default",description:rt};break;case 21:this.$={stmt:"state",id:Y[Z-3],type:"default",description:Y[Z-5],doc:Y[Z-1]};break;case 22:this.$={stmt:"state",id:Y[Z],type:"fork"};break;case 23:this.$={stmt:"state",id:Y[Z],type:"join"};break;case 24:this.$={stmt:"state",id:Y[Z],type:"choice"};break;case 25:this.$={stmt:"state",id:X.getDividerId(),type:"divider"};break;case 26:this.$={stmt:"state",id:Y[Z-1].trim(),note:{position:Y[Z-2].trim(),text:Y[Z].trim()}};break;case 29:this.$=Y[Z].trim(),X.setAccTitle(this.$);break;case 30:case 31:this.$=Y[Z].trim(),X.setAccDescription(this.$);break;case 32:this.$={stmt:"click",id:Y[Z-3],url:Y[Z-2],tooltip:Y[Z-1]};break;case 33:this.$={stmt:"click",id:Y[Z-3],url:Y[Z-1],tooltip:""};break;case 34:case 35:this.$={stmt:"classDef",id:Y[Z-1].trim(),classes:Y[Z].trim()};break;case 36:this.$={stmt:"style",id:Y[Z-1].trim(),styleClass:Y[Z].trim()};break;case 37:this.$={stmt:"applyClass",id:Y[Z-1].trim(),styleClass:Y[Z].trim()};break;case 38:X.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 39:X.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 40:X.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 41:X.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 44:case 45:this.$={stmt:"state",id:Y[Z].trim(),type:"default",description:""};break;case 46:this.$={stmt:"state",id:Y[Z-2].trim(),classes:[Y[Z].trim()],type:"default",description:""};break;case 47:this.$={stmt:"state",id:Y[Z-2].trim(),classes:[Y[Z].trim()],type:"default",description:""};break}},"anonymous"),table:[{3:1,4:t,5:r,6:n},{1:[3]},{3:5,4:t,5:r,6:n},{3:6,4:t,5:r,6:n},e([1,4,5,16,17,19,22,24,25,26,27,28,29,33,35,37,38,41,45,48,51,52,53,54,57],a,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:i,5:o,8:8,9:10,10:12,11:13,12:14,13:15,16:s,17:l,19:u,22:f,24:h,25:d,26:p,27:m,28:g,29:v,32:25,33:y,35:b,37:_,38:k,41:w,45:T,48:S,51:C,52:M,53:N,54:L,57:E},e(A,[2,5]),{9:39,10:12,11:13,12:14,13:15,16:s,17:l,19:u,22:f,24:h,25:d,26:p,27:m,28:g,29:v,32:25,33:y,35:b,37:_,38:k,41:w,45:T,48:S,51:C,52:M,53:N,54:L,57:E},e(A,[2,7]),e(A,[2,8]),e(A,[2,9]),e(A,[2,10]),e(A,[2,11]),e(A,[2,12],{14:[1,40],15:[1,41]}),e(A,[2,16]),{18:[1,42]},e(A,[2,18],{20:[1,43]}),{23:[1,44]},e(A,[2,22]),e(A,[2,23]),e(A,[2,24]),e(A,[2,25]),{30:45,31:[1,46],59:[1,47],60:[1,48]},e(A,[2,28]),{34:[1,49]},{36:[1,50]},e(A,[2,31]),{13:51,24:h,57:E},{42:[1,52],44:[1,53]},{46:[1,54]},{49:[1,55]},e(D,[2,44],{58:[1,56]}),e(D,[2,45],{58:[1,57]}),e(A,[2,38]),e(A,[2,39]),e(A,[2,40]),e(A,[2,41]),e(A,[2,6]),e(A,[2,13]),{13:58,24:h,57:E},e(A,[2,17]),e(R,a,{7:59}),{24:[1,60]},{24:[1,61]},{23:[1,62]},{24:[2,48]},{24:[2,49]},e(A,[2,29]),e(A,[2,30]),{39:[1,63],40:[1,64]},{43:[1,65]},{43:[1,66]},{47:[1,67]},{50:[1,68]},{24:[1,69]},{24:[1,70]},e(A,[2,14],{14:[1,71]}),{4:i,5:o,8:8,9:10,10:12,11:13,12:14,13:15,16:s,17:l,19:u,21:[1,72],22:f,24:h,25:d,26:p,27:m,28:g,29:v,32:25,33:y,35:b,37:_,38:k,41:w,45:T,48:S,51:C,52:M,53:N,54:L,57:E},e(A,[2,20],{20:[1,73]}),{31:[1,74]},{24:[1,75]},{39:[1,76]},{39:[1,77]},e(A,[2,34]),e(A,[2,35]),e(A,[2,36]),e(A,[2,37]),e(D,[2,46]),e(D,[2,47]),e(A,[2,15]),e(A,[2,19]),e(R,a,{7:78}),e(A,[2,26]),e(A,[2,27]),{5:[1,79]},{5:[1,80]},{4:i,5:o,8:8,9:10,10:12,11:13,12:14,13:15,16:s,17:l,19:u,21:[1,81],22:f,24:h,25:d,26:p,27:m,28:g,29:v,32:25,33:y,35:b,37:_,38:k,41:w,45:T,48:S,51:C,52:M,53:N,54:L,57:E},e(A,[2,32]),e(A,[2,33]),e(A,[2,21])],defaultActions:{5:[2,1],6:[2,2],47:[2,48],48:[2,49]},parseError:x(function(q,$){if($.recoverable)this.trace(q);else{var W=new Error(q);throw W.hash=$,W}},"parseError"),parse:x(function(q){var $=this,W=[0],X=[],tt=[null],Y=[],ot=this.table,Z="",ct=0,rt=0,et=0,Q=2,j=1,it=Y.slice.call(arguments,1),K=Object.create(this.lexer),dt={yy:{}};for(var nt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,nt)&&(dt.yy[nt]=this.yy[nt]);K.setInput(q,dt.yy),dt.yy.lexer=K,dt.yy.parser=this,typeof K.yylloc>"u"&&(K.yylloc={});var _t=K.yylloc;Y.push(_t);var V=K.options&&K.options.ranges;typeof dt.yy.parseError=="function"?this.parseError=dt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Ut(z){W.length=W.length-2*z,tt.length=tt.length-z,Y.length=Y.length-z}x(Ut,"popStack");function pt(){var z;return z=X.pop()||K.lex()||j,typeof z!="number"&&(z instanceof Array&&(X=z,z=X.pop()),z=$.symbols_[z]||z),z}x(pt,"lex");for(var Ft,Yt,Ht,Lt,Nt,It,kt={},Pt,ht,yt,H;;){if(Ht=W[W.length-1],this.defaultActions[Ht]?Lt=this.defaultActions[Ht]:((Ft===null||typeof Ft>"u")&&(Ft=pt()),Lt=ot[Ht]&&ot[Ht][Ft]),typeof Lt>"u"||!Lt.length||!Lt[0]){var ft="";H=[];for(Pt in ot[Ht])this.terminals_[Pt]&&Pt>Q&&H.push("'"+this.terminals_[Pt]+"'");K.showPosition?ft="Parse error on line "+(ct+1)+`:
`+K.showPosition()+`
Expecting `+H.join(", ")+", got '"+(this.terminals_[Ft]||Ft)+"'":ft="Parse error on line "+(ct+1)+": Unexpected "+(Ft==j?"end of input":"'"+(this.terminals_[Ft]||Ft)+"'"),this.parseError(ft,{text:K.match,token:this.terminals_[Ft]||Ft,line:K.yylineno,loc:_t,expected:H})}if(Lt[0]instanceof Array&&Lt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ht+", token: "+Ft);switch(Lt[0]){case 1:W.push(Ft),tt.push(K.yytext),Y.push(K.yylloc),W.push(Lt[1]),Ft=null,Yt?(Ft=Yt,Yt=null):(rt=K.yyleng,Z=K.yytext,ct=K.yylineno,_t=K.yylloc,et>0&&et--);break;case 2:if(ht=this.productions_[Lt[1]][1],kt.$=tt[tt.length-ht],kt._$={first_line:Y[Y.length-(ht||1)].first_line,last_line:Y[Y.length-1].last_line,first_column:Y[Y.length-(ht||1)].first_column,last_column:Y[Y.length-1].last_column},V&&(kt._$.range=[Y[Y.length-(ht||1)].range[0],Y[Y.length-1].range[1]]),It=this.performAction.apply(kt,[Z,rt,ct,dt.yy,Lt[1],tt,Y].concat(it)),typeof It<"u")return It;ht&&(W=W.slice(0,-1*ht*2),tt=tt.slice(0,-1*ht),Y=Y.slice(0,-1*ht)),W.push(this.productions_[Lt[1]][0]),tt.push(kt.$),Y.push(kt._$),yt=ot[W[W.length-2]][W[W.length-1]],W.push(yt);break;case 3:return!0}}return!0},"parse")},O=function(){var P={EOF:1,parseError:x(function($,W){if(this.yy.parser)this.yy.parser.parseError($,W);else throw new Error($)},"parseError"),setInput:x(function(q,$){return this.yy=$||this.yy||{},this._input=q,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:x(function(){var q=this._input[0];this.yytext+=q,this.yyleng++,this.offset++,this.match+=q,this.matched+=q;var $=q.match(/(?:\r\n?|\n).*/g);return $?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),q},"input"),unput:x(function(q){var $=q.length,W=q.split(/(?:\r\n?|\n)/g);this._input=q+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-$),this.offset-=$;var X=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),W.length-1&&(this.yylineno-=W.length-1);var tt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:W?(W.length===X.length?this.yylloc.first_column:0)+X[X.length-W.length].length-W[0].length:this.yylloc.first_column-$},this.options.ranges&&(this.yylloc.range=[tt[0],tt[0]+this.yyleng-$]),this.yyleng=this.yytext.length,this},"unput"),more:x(function(){return this._more=!0,this},"more"),reject:x(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:x(function(q){this.unput(this.match.slice(q))},"less"),pastInput:x(function(){var q=this.matched.substr(0,this.matched.length-this.match.length);return(q.length>20?"...":"")+q.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:x(function(){var q=this.match;return q.length<20&&(q+=this._input.substr(0,20-q.length)),(q.substr(0,20)+(q.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:x(function(){var q=this.pastInput(),$=new Array(q.length+1).join("-");return q+this.upcomingInput()+`
`+$+"^"},"showPosition"),test_match:x(function(q,$){var W,X,tt;if(this.options.backtrack_lexer&&(tt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(tt.yylloc.range=this.yylloc.range.slice(0))),X=q[0].match(/(?:\r\n?|\n).*/g),X&&(this.yylineno+=X.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:X?X[X.length-1].length-X[X.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+q[0].length},this.yytext+=q[0],this.match+=q[0],this.matches=q,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(q[0].length),this.matched+=q[0],W=this.performAction.call(this,this.yy,this,$,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),W)return W;if(this._backtrack){for(var Y in tt)this[Y]=tt[Y];return!1}return!1},"test_match"),next:x(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var q,$,W,X;this._more||(this.yytext="",this.match="");for(var tt=this._currentRules(),Y=0;Y<tt.length;Y++)if(W=this._input.match(this.rules[tt[Y]]),W&&(!$||W[0].length>$[0].length)){if($=W,X=Y,this.options.backtrack_lexer){if(q=this.test_match(W,tt[Y]),q!==!1)return q;if(this._backtrack){$=!1;continue}else return!1}else if(!this.options.flex)break}return $?(q=this.test_match($,tt[X]),q!==!1?q:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:x(function(){var $=this.next();return $||this.lex()},"lex"),begin:x(function($){this.conditionStack.push($)},"begin"),popState:x(function(){var $=this.conditionStack.length-1;return $>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:x(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:x(function($){return $=this.conditionStack.length-1-Math.abs($||0),$>=0?this.conditionStack[$]:"INITIAL"},"topState"),pushState:x(function($){this.begin($)},"pushState"),stateStackSize:x(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:x(function($,W,X,tt){var Y=tt;switch(X){case 0:return 38;case 1:return 40;case 2:return 39;case 3:return 44;case 4:return 51;case 5:return 52;case 6:return 53;case 7:return 54;case 8:break;case 9:break;case 10:return 5;case 11:break;case 12:break;case 13:break;case 14:break;case 15:return this.pushState("SCALE"),17;break;case 16:return 18;case 17:this.popState();break;case 18:return this.begin("acc_title"),33;break;case 19:return this.popState(),"acc_title_value";break;case 20:return this.begin("acc_descr"),35;break;case 21:return this.popState(),"acc_descr_value";break;case 22:this.begin("acc_descr_multiline");break;case 23:this.popState();break;case 24:return"acc_descr_multiline_value";case 25:return this.pushState("CLASSDEF"),41;break;case 26:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";break;case 27:return this.popState(),this.pushState("CLASSDEFID"),42;break;case 28:return this.popState(),43;break;case 29:return this.pushState("CLASS"),48;break;case 30:return this.popState(),this.pushState("CLASS_STYLE"),49;break;case 31:return this.popState(),50;break;case 32:return this.pushState("STYLE"),45;break;case 33:return this.popState(),this.pushState("STYLEDEF_STYLES"),46;break;case 34:return this.popState(),47;break;case 35:return this.pushState("SCALE"),17;break;case 36:return 18;case 37:this.popState();break;case 38:this.pushState("STATE");break;case 39:return this.popState(),W.yytext=W.yytext.slice(0,-8).trim(),25;break;case 40:return this.popState(),W.yytext=W.yytext.slice(0,-8).trim(),26;break;case 41:return this.popState(),W.yytext=W.yytext.slice(0,-10).trim(),27;break;case 42:return this.popState(),W.yytext=W.yytext.slice(0,-8).trim(),25;break;case 43:return this.popState(),W.yytext=W.yytext.slice(0,-8).trim(),26;break;case 44:return this.popState(),W.yytext=W.yytext.slice(0,-10).trim(),27;break;case 45:return 51;case 46:return 52;case 47:return 53;case 48:return 54;case 49:this.pushState("STATE_STRING");break;case 50:return this.pushState("STATE_ID"),"AS";break;case 51:return this.popState(),"ID";break;case 52:this.popState();break;case 53:return"STATE_DESCR";case 54:return 19;case 55:this.popState();break;case 56:return this.popState(),this.pushState("struct"),20;break;case 57:break;case 58:return this.popState(),21;break;case 59:break;case 60:return this.begin("NOTE"),29;break;case 61:return this.popState(),this.pushState("NOTE_ID"),59;break;case 62:return this.popState(),this.pushState("NOTE_ID"),60;break;case 63:this.popState(),this.pushState("FLOATING_NOTE");break;case 64:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";break;case 65:break;case 66:return"NOTE_TEXT";case 67:return this.popState(),"ID";break;case 68:return this.popState(),this.pushState("NOTE_TEXT"),24;break;case 69:return this.popState(),W.yytext=W.yytext.substr(2).trim(),31;break;case 70:return this.popState(),W.yytext=W.yytext.slice(0,-8).trim(),31;break;case 71:return 6;case 72:return 6;case 73:return 16;case 74:return 57;case 75:return 24;case 76:return W.yytext=W.yytext.trim(),14;break;case 77:return 15;case 78:return 28;case 79:return 58;case 80:return 5;case 81:return"INVALID"}},"anonymous"),rules:[/^(?:click\b)/i,/^(?:href\b)/i,/^(?:"[^"]*")/i,/^(?:default\b)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:classDef\s+)/i,/^(?:DEFAULT\s+)/i,/^(?:\w+\s+)/i,/^(?:[^\n]*)/i,/^(?:class\s+)/i,/^(?:(\w+)+((,\s*\w+)*))/i,/^(?:[^\n]*)/i,/^(?:style\s+)/i,/^(?:[\w,]+\s+)/i,/^(?:[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?::::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[12,13],inclusive:!1},struct:{rules:[12,13,25,29,32,38,45,46,47,48,57,58,59,60,74,75,76,77,78],inclusive:!1},FLOATING_NOTE_ID:{rules:[67],inclusive:!1},FLOATING_NOTE:{rules:[64,65,66],inclusive:!1},NOTE_TEXT:{rules:[69,70],inclusive:!1},NOTE_ID:{rules:[68],inclusive:!1},NOTE:{rules:[61,62,63],inclusive:!1},STYLEDEF_STYLEOPTS:{rules:[],inclusive:!1},STYLEDEF_STYLES:{rules:[34],inclusive:!1},STYLE_IDS:{rules:[],inclusive:!1},STYLE:{rules:[33],inclusive:!1},CLASS_STYLE:{rules:[31],inclusive:!1},CLASS:{rules:[30],inclusive:!1},CLASSDEFID:{rules:[28],inclusive:!1},CLASSDEF:{rules:[26,27],inclusive:!1},acc_descr_multiline:{rules:[23,24],inclusive:!1},acc_descr:{rules:[21],inclusive:!1},acc_title:{rules:[19],inclusive:!1},SCALE:{rules:[16,17,36,37],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[51],inclusive:!1},STATE_STRING:{rules:[52,53],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[12,13,39,40,41,42,43,44,49,50,54,55,56],inclusive:!1},ID:{rules:[12,13],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,13,14,15,18,20,22,25,29,32,35,38,56,60,71,72,73,74,75,76,77,79,80,81],inclusive:!0}}};return P}();I.lexer=O;function F(){this.yy={}}return x(F,"Parser"),F.prototype=I,I.Parser=F,new F}();pq.parser=pq;nA=pq,eae="TB",Jbt="TB",Hbt="dir",Jy="state",Zy="root",mq="relation",rae="classDef",nae="style",aae="applyClass",Fw="default",t_t="divider",e_t="fill:none",r_t="fill: #333",n_t="c",a_t="text",i_t="normal",hq="rect",dq="rectWithTitle",iae="stateStart",oae="stateEnd",Ybt="divider",Xbt="roundedWithTitle",sae="note",lae="noteGroup",Pw="statediagram",uae="state",cae=`${Pw}-${uae}`,o_t="transition",fae="note",hae="note-edge",dae=`${o_t} ${hae}`,pae=`${Pw}-${fae}`,mae="cluster",gae=`${Pw}-${mae}`,vae="cluster-alt",yae=`${Pw}-${vae}`,s_t="parent",l_t="note",xae="state",gq="----",bae=`${gq}${l_t}`,jbt=`${gq}${s_t}`,u_t=x((e,t=Jbt)=>{if(!e.doc)return t;let r=t;for(let n of e.doc)n.stmt==="dir"&&(r=n.value);return r},"getDir"),_ae=x(function(e,t){return t.db.getClasses()},"getClasses"),wae=x(async function(e,t,r,n){J.info("REF0:"),J.info("Drawing state diagram (v2)",t);let{securityLevel:a,state:i,layout:o}=bt();n.db.extract(n.db.getRootDocV2());let s=n.db.getData(),l=tu(t,a);s.type=n.type,s.layoutAlgorithm=o,s.nodeSpacing=i?.nodeSpacing||50,s.rankSpacing=i?.rankSpacing||50,s.markers=["barb"],s.diagramId=t,await Xl(s,l);let u=8;try{(typeof n.db.getLinks=="function"?n.db.getLinks():new Map).forEach((h,d)=>{let p=typeof d=="string"?d:typeof d?.id=="string"?d.id:"";if(!p){J.warn("\u26A0\uFE0F Invalid or missing stateId from key:",JSON.stringify(d));return}let m=l.node()?.querySelectorAll("g"),g;if(m?.forEach(_=>{_.textContent?.trim()===p&&(g=_)}),!g){J.warn("\u26A0\uFE0F Could not find node matching text:",p);return}let v=g.parentNode;if(!v){J.warn("\u26A0\uFE0F Node has no parent, cannot wrap:",p);return}let y=document.createElementNS("http://www.w3.org/2000/svg","a"),b=h.url.replace(/^"+|"+$/g,"");if(y.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",b),y.setAttribute("target","_blank"),h.tooltip){let _=h.tooltip.replace(/^"+|"+$/g,"");y.setAttribute("title",_)}v.replaceChild(y,g),y.appendChild(g),J.info("\u{1F517} Wrapped node in <a> tag for:",p,h.url)})}catch(f){J.error("\u274C Error injecting clickable links:",f)}Ge.insertTitle(l,"statediagramTitleText",i?.titleTopMargin??25,n.db.getDiagramTitle()),Us(l,u,Pw,i?.useMaxWidth??!0)},"draw"),c_t={getClasses:_ae,draw:wae,getDir:u_t},eA=new Map,_p=0;x(rA,"stateDomId");Tae=x((e,t,r,n,a,i,o,s)=>{J.trace("items",t),t.forEach(l=>{switch(l.stmt){case Jy:Ow(e,l,r,n,a,i,o,s);break;case Fw:Ow(e,l,r,n,a,i,o,s);break;case mq:{Ow(e,l.state1,r,n,a,i,o,s),Ow(e,l.state2,r,n,a,i,o,s);let u={id:"edge"+_p,start:l.state1.id,end:l.state2.id,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:e_t,labelStyle:"",label:Jt.sanitizeText(l.description??"",bt()),arrowheadStyle:r_t,labelpos:n_t,labelType:a_t,thickness:i_t,classes:o_t,look:o};a.push(u),_p++}break}})},"setupDoc"),Kbt=x((e,t=Jbt)=>{let r=t;if(e.doc)for(let n of e.doc)n.stmt==="dir"&&(r=n.value);return r},"getDir");x(Nw,"insertOrUpdateNode");x(f_t,"getClassesFromDbInfo");x(h_t,"getStylesFromDbInfo");Ow=x((e,t,r,n,a,i,o,s)=>{let l=t.id,u=r.get(l),f=f_t(u),h=h_t(u),d=bt();if(J.info("dataFetcher parsedItem",t,u,h),l!=="root"){let p=hq;t.start===!0?p=iae:t.start===!1&&(p=oae),t.type!==Fw&&(p=t.type),eA.get(l)||eA.set(l,{id:l,shape:p,description:Jt.sanitizeText(l,d),cssClasses:`${f} ${cae}`,cssStyles:h});let m=eA.get(l);t.description&&(Array.isArray(m.description)?(m.shape=dq,m.description.push(t.description)):m.description?.length&&m.description.length>0?(m.shape=dq,m.description===l?m.description=[t.description]:m.description=[m.description,t.description]):(m.shape=hq,m.description=t.description),m.description=Jt.sanitizeTextOrArray(m.description,d)),m.description?.length===1&&m.shape===dq&&(m.type==="group"?m.shape=Xbt:m.shape=hq),!m.type&&t.doc&&(J.info("Setting cluster for XCX",l,Kbt(t)),m.type="group",m.isGroup=!0,m.dir=Kbt(t),m.shape=t.type===t_t?Ybt:Xbt,m.cssClasses=`${m.cssClasses} ${gae} ${i?yae:""}`);let g={labelStyle:"",shape:m.shape,label:m.description,cssClasses:m.cssClasses,cssCompiledStyles:[],cssStyles:m.cssStyles,id:l,dir:m.dir,domId:rA(l,_p),type:m.type,isGroup:m.type==="group",padding:8,rx:10,ry:10,look:o};if(g.shape===Ybt&&(g.label=""),e&&e.id!=="root"&&(J.trace("Setting node ",l," to be child of its parent ",e.id),g.parentId=e.id),g.centerLabel=!0,t.note){let v={labelStyle:"",shape:sae,label:t.note.text,cssClasses:pae,cssStyles:[],cssCompiledStyles:[],id:l+bae+"-"+_p,domId:rA(l,_p,l_t),type:m.type,isGroup:m.type==="group",padding:d.flowchart?.padding,look:o,position:t.note.position},y=l+jbt,b={labelStyle:"",shape:lae,label:t.note.text,cssClasses:m.cssClasses,cssStyles:[],id:l+jbt,domId:rA(l,_p,s_t),type:"group",isGroup:!0,padding:16,look:o,position:t.note.position};_p++,b.id=y,v.parentId=y,Nw(n,b,s),Nw(n,v,s),Nw(n,g,s);let _=l,k=v.id;t.note.position==="left of"&&(_=v.id,k=l),a.push({id:_+"-"+k,start:_,end:k,arrowhead:"none",arrowTypeEnd:"",style:e_t,labelStyle:"",classes:dae,arrowheadStyle:r_t,labelpos:n_t,labelType:a_t,thickness:i_t,look:o})}else Nw(n,g,s)}t.doc&&(J.trace("Adding nodes children "),Tae(t,t.doc,r,n,a,!i,o,s))},"dataFetcher"),Eae=x(()=>{eA.clear(),_p=0},"reset"),ys={START_NODE:"[*]",START_TYPE:"start",END_NODE:"[*]",END_TYPE:"end",COLOR_KEYWORD:"color",FILL_KEYWORD:"fill",BG_FILL:"bgFill",STYLECLASS_SEP:","},Qbt=x(()=>new Map,"newClassesList"),Zbt=x(()=>({relations:[],states:new Map,documents:{}}),"newDoc"),tA=x(e=>JSON.parse(JSON.stringify(e)),"clone"),Eh=class{constructor(e){this.version=e,this.nodes=[],this.edges=[],this.rootDoc=[],this.classes=Qbt(),this.documents={root:Zbt()},this.currentDocument=this.documents.root,this.startEndCount=0,this.dividerCnt=0,this.links=new Map,this.getAccTitle=Fr,this.setAccTitle=Mr,this.getAccDescription=Br,this.setAccDescription=Pr,this.setDiagramTitle=Yr,this.getDiagramTitle=$r,this.clear(),this.setRootDoc=this.setRootDoc.bind(this),this.getDividerId=this.getDividerId.bind(this),this.setDirection=this.setDirection.bind(this),this.trimColon=this.trimColon.bind(this)}static{x(this,"StateDB")}static{this.relationType={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3}}extract(e){this.clear(!0);for(let n of Array.isArray(e)?e:e.doc)switch(n.stmt){case Jy:this.addState(n.id.trim(),n.type,n.doc,n.description,n.note);break;case mq:this.addRelation(n.state1,n.state2,n.description);break;case rae:this.addStyleClass(n.id.trim(),n.classes);break;case nae:this.handleStyleDef(n);break;case aae:this.setCssClass(n.id.trim(),n.styleClass);break;case"click":this.addLink(n.id,n.url,n.tooltip);break}let t=this.getStates(),r=bt();Eae(),Ow(void 0,this.getRootDocV2(),t,this.nodes,this.edges,!0,r.look,this.classes);for(let n of this.nodes)if(Array.isArray(n.label)){if(n.description=n.label.slice(1),n.isGroup&&n.description.length>0)throw new Error(`Group nodes can only have label. Remove the additional description for node [${n.id}]`);n.label=n.label[0]}}handleStyleDef(e){let t=e.id.trim().split(","),r=e.styleClass.split(",");for(let n of t){let a=this.getState(n);if(!a){let i=n.trim();this.addState(i),a=this.getState(i)}a&&(a.styles=r.map(i=>i.replace(/;/g,"")?.trim()))}}setRootDoc(e){J.info("Setting root doc",e),this.rootDoc=e,this.version===1?this.extract(e):this.extract(this.getRootDocV2())}docTranslator(e,t,r){if(t.stmt===mq){this.docTranslator(e,t.state1,!0),this.docTranslator(e,t.state2,!1);return}if(t.stmt===Jy&&(t.id===ys.START_NODE?(t.id=e.id+(r?"_start":"_end"),t.start=r):t.id=t.id.trim()),t.stmt!==Zy&&t.stmt!==Jy||!t.doc)return;let n=[],a=[];for(let i of t.doc)if(i.type===t_t){let o=tA(i);o.doc=tA(a),n.push(o),a=[]}else a.push(i);if(n.length>0&&a.length>0){let i={stmt:Jy,id:Q9(),type:"divider",doc:tA(a)};n.push(tA(i)),t.doc=n}t.doc.forEach(i=>this.docTranslator(t,i,!0))}getRootDocV2(){return this.docTranslator({id:Zy,stmt:Zy},{id:Zy,stmt:Zy,doc:this.rootDoc},!0),{id:Zy,doc:this.rootDoc}}addState(e,t=Fw,r=void 0,n=void 0,a=void 0,i=void 0,o=void 0,s=void 0){let l=e?.trim();if(!this.currentDocument.states.has(l))J.info("Adding state ",l,n),this.currentDocument.states.set(l,{stmt:Jy,id:l,descriptions:[],type:t,doc:r,note:a,classes:[],styles:[],textStyles:[]});else{let u=this.currentDocument.states.get(l);if(!u)throw new Error(`State not found: ${l}`);u.doc||(u.doc=r),u.type||(u.type=t)}if(n&&(J.info("Setting state description",l,n),(Array.isArray(n)?n:[n]).forEach(f=>this.addDescription(l,f.trim()))),a){let u=this.currentDocument.states.get(l);if(!u)throw new Error(`State not found: ${l}`);u.note=a,u.note.text=Jt.sanitizeText(u.note.text,bt())}i&&(J.info("Setting state classes",l,i),(Array.isArray(i)?i:[i]).forEach(f=>this.setCssClass(l,f.trim()))),o&&(J.info("Setting state styles",l,o),(Array.isArray(o)?o:[o]).forEach(f=>this.setStyle(l,f.trim()))),s&&(J.info("Setting state styles",l,o),(Array.isArray(s)?s:[s]).forEach(f=>this.setTextStyle(l,f.trim())))}clear(e){this.nodes=[],this.edges=[],this.documents={root:Zbt()},this.currentDocument=this.documents.root,this.startEndCount=0,this.classes=Qbt(),e||(this.links=new Map,wr())}getState(e){return this.currentDocument.states.get(e)}getStates(){return this.currentDocument.states}logDocuments(){J.info("Documents = ",this.documents)}getRelations(){return this.currentDocument.relations}addLink(e,t,r){this.links.set(e,{url:t,tooltip:r}),J.warn("Adding link",e,t,r)}getLinks(){return this.links}startIdIfNeeded(e=""){return e===ys.START_NODE?(this.startEndCount++,`${ys.START_TYPE}${this.startEndCount}`):e}startTypeIfNeeded(e="",t=Fw){return e===ys.START_NODE?ys.START_TYPE:t}endIdIfNeeded(e=""){return e===ys.END_NODE?(this.startEndCount++,`${ys.END_TYPE}${this.startEndCount}`):e}endTypeIfNeeded(e="",t=Fw){return e===ys.END_NODE?ys.END_TYPE:t}addRelationObjs(e,t,r=""){let n=this.startIdIfNeeded(e.id.trim()),a=this.startTypeIfNeeded(e.id.trim(),e.type),i=this.startIdIfNeeded(t.id.trim()),o=this.startTypeIfNeeded(t.id.trim(),t.type);this.addState(n,a,e.doc,e.description,e.note,e.classes,e.styles,e.textStyles),this.addState(i,o,t.doc,t.description,t.note,t.classes,t.styles,t.textStyles),this.currentDocument.relations.push({id1:n,id2:i,relationTitle:Jt.sanitizeText(r,bt())})}addRelation(e,t,r){if(typeof e=="object"&&typeof t=="object")this.addRelationObjs(e,t,r);else if(typeof e=="string"&&typeof t=="string"){let n=this.startIdIfNeeded(e.trim()),a=this.startTypeIfNeeded(e),i=this.endIdIfNeeded(t.trim()),o=this.endTypeIfNeeded(t);this.addState(n,a),this.addState(i,o),this.currentDocument.relations.push({id1:n,id2:i,relationTitle:r?Jt.sanitizeText(r,bt()):void 0})}}addDescription(e,t){let r=this.currentDocument.states.get(e),n=t.startsWith(":")?t.replace(":","").trim():t;r?.descriptions?.push(Jt.sanitizeText(n,bt()))}cleanupLabel(e){return e.startsWith(":")?e.slice(2).trim():e.trim()}getDividerId(){return this.dividerCnt++,`divider-id-${this.dividerCnt}`}addStyleClass(e,t=""){this.classes.has(e)||this.classes.set(e,{id:e,styles:[],textStyles:[]});let r=this.classes.get(e);t&&r&&t.split(ys.STYLECLASS_SEP).forEach(n=>{let a=n.replace(/([^;]*);/,"$1").trim();if(RegExp(ys.COLOR_KEYWORD).exec(n)){let o=a.replace(ys.FILL_KEYWORD,ys.BG_FILL).replace(ys.COLOR_KEYWORD,ys.FILL_KEYWORD);r.textStyles.push(o)}r.styles.push(a)})}getClasses(){return this.classes}setCssClass(e,t){e.split(",").forEach(r=>{let n=this.getState(r);if(!n){let a=r.trim();this.addState(a),n=this.getState(a)}n?.classes?.push(t)})}setStyle(e,t){this.getState(e)?.styles?.push(t)}setTextStyle(e,t){this.getState(e)?.textStyles?.push(t)}getDirectionStatement(){return this.rootDoc.find(e=>e.stmt===Hbt)}getDirection(){return this.getDirectionStatement()?.value??eae}setDirection(e){let t=this.getDirectionStatement();t?t.value=e:this.rootDoc.unshift({stmt:Hbt,value:e})}trimColon(e){return e.startsWith(":")?e.slice(1).trim():e.trim()}getData(){let e=bt();return{nodes:this.nodes,edges:this.edges,other:{},config:e,direction:u_t(this.getRootDocV2())}}getConfig(){return bt().state}},kae=x(e=>`
defs #statediagram-barbEnd {
    fill: ${e.transitionColor};
    stroke: ${e.transitionColor};
  }
g.stateGroup text {
  fill: ${e.nodeBorder};
  stroke: none;
  font-size: 10px;
}
g.stateGroup text {
  fill: ${e.textColor};
  stroke: none;
  font-size: 10px;

}
g.stateGroup .state-title {
  font-weight: bolder;
  fill: ${e.stateLabelColor};
}

g.stateGroup rect {
  fill: ${e.mainBkg};
  stroke: ${e.nodeBorder};
}

g.stateGroup line {
  stroke: ${e.lineColor};
  stroke-width: 1;
}

.transition {
  stroke: ${e.transitionColor};
  stroke-width: 1;
  fill: none;
}

.stateGroup .composit {
  fill: ${e.background};
  border-bottom: 1px
}

.stateGroup .alt-composit {
  fill: #e0e0e0;
  border-bottom: 1px
}

.state-note {
  stroke: ${e.noteBorderColor};
  fill: ${e.noteBkgColor};

  text {
    fill: ${e.noteTextColor};
    stroke: none;
    font-size: 10px;
  }
}

.stateLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${e.mainBkg};
  opacity: 0.5;
}

.edgeLabel .label rect {
  fill: ${e.labelBackgroundColor};
  opacity: 0.5;
}
.edgeLabel {
  background-color: ${e.edgeLabelBackground};
  p {
    background-color: ${e.edgeLabelBackground};
  }
  rect {
    opacity: 0.5;
    background-color: ${e.edgeLabelBackground};
    fill: ${e.edgeLabelBackground};
  }
  text-align: center;
}
.edgeLabel .label text {
  fill: ${e.transitionLabelColor||e.tertiaryTextColor};
}
.label div .edgeLabel {
  color: ${e.transitionLabelColor||e.tertiaryTextColor};
}

.stateLabel text {
  fill: ${e.stateLabelColor};
  font-size: 10px;
  font-weight: bold;
}

.node circle.state-start {
  fill: ${e.specialStateColor};
  stroke: ${e.specialStateColor};
}

.node .fork-join {
  fill: ${e.specialStateColor};
  stroke: ${e.specialStateColor};
}

.node circle.state-end {
  fill: ${e.innerEndBackground};
  stroke: ${e.background};
  stroke-width: 1.5
}
.end-state-inner {
  fill: ${e.compositeBackground||e.background};
  // stroke: ${e.background};
  stroke-width: 1.5
}

.node rect {
  fill: ${e.stateBkg||e.mainBkg};
  stroke: ${e.stateBorder||e.nodeBorder};
  stroke-width: 1px;
}
.node polygon {
  fill: ${e.mainBkg};
  stroke: ${e.stateBorder||e.nodeBorder};;
  stroke-width: 1px;
}
#statediagram-barbEnd {
  fill: ${e.lineColor};
}

.statediagram-cluster rect {
  fill: ${e.compositeTitleBackground};
  stroke: ${e.stateBorder||e.nodeBorder};
  stroke-width: 1px;
}

.cluster-label, .nodeLabel {
  color: ${e.stateLabelColor};
  // line-height: 1;
}

.statediagram-cluster rect.outer {
  rx: 5px;
  ry: 5px;
}
.statediagram-state .divider {
  stroke: ${e.stateBorder||e.nodeBorder};
}

.statediagram-state .title-state {
  rx: 5px;
  ry: 5px;
}
.statediagram-cluster.statediagram-cluster .inner {
  fill: ${e.compositeBackground||e.background};
}
.statediagram-cluster.statediagram-cluster-alt .inner {
  fill: ${e.altBackground?e.altBackground:"#efefef"};
}

.statediagram-cluster .inner {
  rx:0;
  ry:0;
}

.statediagram-state rect.basic {
  rx: 5px;
  ry: 5px;
}
.statediagram-state rect.divider {
  stroke-dasharray: 10,10;
  fill: ${e.altBackground?e.altBackground:"#efefef"};
}

.note-edge {
  stroke-dasharray: 5;
}

.statediagram-note rect {
  fill: ${e.noteBkgColor};
  stroke: ${e.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}
.statediagram-note rect {
  fill: ${e.noteBkgColor};
  stroke: ${e.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}

.statediagram-note text {
  fill: ${e.noteTextColor};
}

.statediagram-note .nodeLabel {
  color: ${e.noteTextColor};
}
.statediagram .edgeLabel {
  color: red; // ${e.noteTextColor};
}

#dependencyStart, #dependencyEnd {
  fill: ${e.lineColor};
  stroke: ${e.lineColor};
  stroke-width: 1;
}

.statediagramTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${e.textColor};
}
`,"getStyles"),aA=kae});var g_t={};pr(g_t,{diagram:()=>qae});var Cae,Sae,Dae,Aae,Lae,Mae,Iae,Rae,Nae,d_t,p_t,Oae,xl,yq,Fae,Pae,Bae,$ae,m_t,zae,qae,v_t=B(()=>{vq();Bu();eu();jl();$l();al();Ns();Zo();Jo();to();On();Tr();nr();hr();fN();Ul();hr();Cae=x(e=>e.append("circle").attr("class","start-state").attr("r",bt().state.sizeUnit).attr("cx",bt().state.padding+bt().state.sizeUnit).attr("cy",bt().state.padding+bt().state.sizeUnit),"drawStartState"),Sae=x(e=>e.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",bt().state.textHeight).attr("class","divider").attr("x2",bt().state.textHeight*2).attr("y1",0).attr("y2",0),"drawDivider"),Dae=x((e,t)=>{let r=e.append("text").attr("x",2*bt().state.padding).attr("y",bt().state.textHeight+2*bt().state.padding).attr("font-size",bt().state.fontSize).attr("class","state-title").text(t.id),n=r.node().getBBox();return e.insert("rect",":first-child").attr("x",bt().state.padding).attr("y",bt().state.padding).attr("width",n.width+2*bt().state.padding).attr("height",n.height+2*bt().state.padding).attr("rx",bt().state.radius),r},"drawSimpleState"),Aae=x((e,t)=>{let r=x(function(d,p,m){let g=d.append("tspan").attr("x",2*bt().state.padding).text(p);m||g.attr("dy",bt().state.textHeight)},"addTspan"),a=e.append("text").attr("x",2*bt().state.padding).attr("y",bt().state.textHeight+1.3*bt().state.padding).attr("font-size",bt().state.fontSize).attr("class","state-title").text(t.descriptions[0]).node().getBBox(),i=a.height,o=e.append("text").attr("x",bt().state.padding).attr("y",i+bt().state.padding*.4+bt().state.dividerMargin+bt().state.textHeight).attr("class","state-description"),s=!0,l=!0;t.descriptions.forEach(function(d){s||(r(o,d,l),l=!1),s=!1});let u=e.append("line").attr("x1",bt().state.padding).attr("y1",bt().state.padding+i+bt().state.dividerMargin/2).attr("y2",bt().state.padding+i+bt().state.dividerMargin/2).attr("class","descr-divider"),f=o.node().getBBox(),h=Math.max(f.width,a.width);return u.attr("x2",h+3*bt().state.padding),e.insert("rect",":first-child").attr("x",bt().state.padding).attr("y",bt().state.padding).attr("width",h+2*bt().state.padding).attr("height",f.height+i+2*bt().state.padding).attr("rx",bt().state.radius),e},"drawDescrState"),Lae=x((e,t,r)=>{let n=bt().state.padding,a=2*bt().state.padding,i=e.node().getBBox(),o=i.width,s=i.x,l=e.append("text").attr("x",0).attr("y",bt().state.titleShift).attr("font-size",bt().state.fontSize).attr("class","state-title").text(t.id),f=l.node().getBBox().width+a,h=Math.max(f,o);h===o&&(h=h+a);let d,p=e.node().getBBox();t.doc,d=s-n,f>o&&(d=(o-h)/2+n),Math.abs(s-p.x)<n&&f>o&&(d=s-(f-o)/2);let m=1-bt().state.textHeight;return e.insert("rect",":first-child").attr("x",d).attr("y",m).attr("class",r?"alt-composit":"composit").attr("width",h).attr("height",p.height+bt().state.textHeight+bt().state.titleShift+1).attr("rx","0"),l.attr("x",d+n),f<=o&&l.attr("x",s+(h-a)/2-f/2+n),e.insert("rect",":first-child").attr("x",d).attr("y",bt().state.titleShift-bt().state.textHeight-bt().state.padding).attr("width",h).attr("height",bt().state.textHeight*3).attr("rx",bt().state.radius),e.insert("rect",":first-child").attr("x",d).attr("y",bt().state.titleShift-bt().state.textHeight-bt().state.padding).attr("width",h).attr("height",p.height+3+2*bt().state.textHeight).attr("rx",bt().state.radius),e},"addTitleAndBox"),Mae=x(e=>(e.append("circle").attr("class","end-state-outer").attr("r",bt().state.sizeUnit+bt().state.miniPadding).attr("cx",bt().state.padding+bt().state.sizeUnit+bt().state.miniPadding).attr("cy",bt().state.padding+bt().state.sizeUnit+bt().state.miniPadding),e.append("circle").attr("class","end-state-inner").attr("r",bt().state.sizeUnit).attr("cx",bt().state.padding+bt().state.sizeUnit+2).attr("cy",bt().state.padding+bt().state.sizeUnit+2)),"drawEndState"),Iae=x((e,t)=>{let r=bt().state.forkWidth,n=bt().state.forkHeight;if(t.parentId){let a=r;r=n,n=a}return e.append("rect").style("stroke","black").style("fill","black").attr("width",r).attr("height",n).attr("x",bt().state.padding).attr("y",bt().state.padding)},"drawForkJoinState"),Rae=x((e,t,r,n)=>{let a=0,i=n.append("text");i.style("text-anchor","start"),i.attr("class","noteText");let o=e.replace(/\r\n/g,"<br/>");o=o.replace(/\n/g,"<br/>");let s=o.split(Jt.lineBreakRegex),l=1.25*bt().state.noteMargin;for(let u of s){let f=u.trim();if(f.length>0){let h=i.append("tspan");if(h.text(f),l===0){let d=h.node().getBBox();l+=d.height}a+=l,h.attr("x",t+bt().state.noteMargin),h.attr("y",r+a+1.25*bt().state.noteMargin)}}return{textWidth:i.node().getBBox().width,textHeight:a}},"_drawLongText"),Nae=x((e,t)=>{t.attr("class","state-note");let r=t.append("rect").attr("x",0).attr("y",bt().state.padding),n=t.append("g"),{textWidth:a,textHeight:i}=Rae(e,0,0,n);return r.attr("height",i+2*bt().state.noteMargin),r.attr("width",a+bt().state.noteMargin*2),r},"drawNote"),d_t=x(function(e,t){let r=t.id,n={id:r,label:t.id,width:0,height:0},a=e.append("g").attr("id",r).attr("class","stateGroup");t.type==="start"&&Cae(a),t.type==="end"&&Mae(a),(t.type==="fork"||t.type==="join")&&Iae(a,t),t.type==="note"&&Nae(t.note.text,a),t.type==="divider"&&Sae(a),t.type==="default"&&t.descriptions.length===0&&Dae(a,t),t.type==="default"&&t.descriptions.length>0&&Aae(a,t);let i=a.node().getBBox();return n.width=i.width+2*bt().state.padding,n.height=i.height+2*bt().state.padding,n},"drawState"),p_t=0,Oae=x(function(e,t,r){let n=x(function(l){switch(l){case Eh.relationType.AGGREGATION:return"aggregation";case Eh.relationType.EXTENSION:return"extension";case Eh.relationType.COMPOSITION:return"composition";case Eh.relationType.DEPENDENCY:return"dependency"}},"getRelationType");t.points=t.points.filter(l=>!Number.isNaN(l.y));let a=t.points,i=_c().x(function(l){return l.x}).y(function(l){return l.y}).curve(Cu),o=e.append("path").attr("d",i(a)).attr("id","edge"+p_t).attr("class","transition"),s="";if(bt().state.arrowMarkerAbsolute&&(s=jp(!0)),o.attr("marker-end","url("+s+"#"+n(Eh.relationType.DEPENDENCY)+"End)"),r.title!==void 0){let l=e.append("g").attr("class","stateLabel"),{x:u,y:f}=Ge.calcLabelPosition(t.points),h=Jt.getRows(r.title),d=0,p=[],m=0,g=0;for(let b=0;b<=h.length;b++){let _=l.append("text").attr("text-anchor","middle").text(h[b]).attr("x",u).attr("y",f+d),k=_.node().getBBox();m=Math.max(m,k.width),g=Math.min(g,k.x),J.info(k.x,u,f+d),d===0&&(d=_.node().getBBox().height,J.info("Title height",d,f)),p.push(_)}let v=d*h.length;if(h.length>1){let b=(h.length-1)*d*.5;p.forEach((_,k)=>_.attr("y",f+k*d-b)),v=d*h.length}let y=l.node().getBBox();l.insert("rect",":first-child").attr("class","box").attr("x",u-m/2-bt().state.padding/2).attr("y",f-v/2-bt().state.padding/2-3.5).attr("width",m+bt().state.padding).attr("height",v+bt().state.padding),J.info(y)}p_t++},"drawEdge"),yq={},Fae=x(function(){},"setConf"),Pae=x(function(e){e.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"insertMarkers"),Bae=x(function(e,t,r,n){xl=bt().state;let a=bt().securityLevel,i;a==="sandbox"&&(i=Vt("#i"+t));let o=a==="sandbox"?Vt(i.nodes()[0].contentDocument.body):Vt("body"),s=a==="sandbox"?i.nodes()[0].contentDocument:document;J.debug("Rendering diagram "+e);let l=o.select(`[id='${t}']`);Pae(l);let u=n.db.getRootDoc();m_t(u,l,void 0,!1,o,s,n);let f=xl.padding,h=l.node().getBBox(),d=h.width+f*2,p=h.height+f*2,m=d*1.75;Nn(l,p,m,xl.useMaxWidth),l.attr("viewBox",`${h.x-xl.padding}  ${h.y-xl.padding} `+d+" "+p)},"draw"),$ae=x(e=>e?e.length*xl.fontSizeFactor:1,"getLabelWidth"),m_t=x((e,t,r,n,a,i,o)=>{let s=new Sn({compound:!0,multigraph:!0}),l,u=!0;for(l=0;l<e.length;l++)if(e[l].stmt==="relation"){u=!1;break}r?s.setGraph({rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:u?1:xl.edgeLengthFactor,nodeSep:u?1:50,isMultiGraph:!0}):s.setGraph({rankdir:"TB",multigraph:!0,compound:!0,ranksep:u?1:xl.edgeLengthFactor,nodeSep:u?1:50,ranker:"tight-tree",isMultiGraph:!0}),s.setDefaultEdgeLabel(function(){return{}});let f=o.db.getStates(),h=o.db.getRelations(),d=Object.keys(f),p=!0;for(let b of d){let _=f[b];r&&(_.parentId=r);let k;if(_.doc){let w=t.append("g").attr("id",_.id).attr("class","stateGroup");if(k=m_t(_.doc,w,_.id,!n,a,i,o),p){w=Lae(w,_,n);let T=w.node().getBBox();k.width=T.width,k.height=T.height+xl.padding/2,yq[_.id]={y:xl.compositTitleSize}}else{let T=w.node().getBBox();k.width=T.width,k.height=T.height}}else k=d_t(t,_,s);if(_.note){let w={descriptions:[],id:_.id+"-note",note:_.note,type:"note"},T=d_t(t,w,s);_.note.position==="left of"?(s.setNode(k.id+"-note",T),s.setNode(k.id,k)):(s.setNode(k.id,k),s.setNode(k.id+"-note",T)),s.setParent(k.id,k.id+"-group"),s.setParent(k.id+"-note",k.id+"-group")}else s.setNode(k.id,k)}J.debug("Count=",s.nodeCount(),s);let m=0;h.forEach(function(b){m++,J.debug("Setting edge",b),s.setEdge(b.id1,b.id2,{relation:b,width:$ae(b.title),height:xl.labelHeight*Jt.getRows(b.title).length,labelpos:"c"},"id"+m)}),Zb(s),J.debug("Graph after layout",s.nodes());let g=t.node();s.nodes().forEach(function(b){b!==void 0&&s.node(b)!==void 0?(J.warn("Node "+b+": "+JSON.stringify(s.node(b))),a.select("#"+g.id+" #"+b).attr("transform","translate("+(s.node(b).x-s.node(b).width/2)+","+(s.node(b).y+(yq[b]?yq[b].y:0)-s.node(b).height/2)+" )"),a.select("#"+g.id+" #"+b).attr("data-x-shift",s.node(b).x-s.node(b).width/2),i.querySelectorAll("#"+g.id+" #"+b+" .divider").forEach(k=>{let w=k.parentElement,T=0,S=0;w&&(w.parentElement&&(T=w.parentElement.getBBox().width),S=parseInt(w.getAttribute("data-x-shift"),10),Number.isNaN(S)&&(S=0)),k.setAttribute("x1",0-S+8),k.setAttribute("x2",T-S-8)})):J.debug("No Node "+b+": "+JSON.stringify(s.node(b)))});let v=g.getBBox();s.edges().forEach(function(b){b!==void 0&&s.edge(b)!==void 0&&(J.debug("Edge "+b.v+" -> "+b.w+": "+JSON.stringify(s.edge(b))),Oae(t,s.edge(b),s.edge(b).relation))}),v=g.getBBox();let y={id:r||"root",label:r||"root",width:0,height:0};return y.width=v.width+2*xl.padding,y.height=v.height+2*xl.padding,J.debug("Doc rendered",y,s),y},"renderDoc"),zae={setConf:Fae,draw:Bae},qae={parser:nA,get db(){return new Eh(1)},renderer:zae,styles:aA,init:x(e=>{e.state||(e.state={}),e.state.arrowMarkerAbsolute=e.arrowMarkerAbsolute},"init")}});var y_t={};pr(y_t,{diagram:()=>Uae});var Uae,x_t=B(()=>{vq();Bu();eu();jl();$l();al();Ns();Zo();Jo();to();On();Tr();nr();Uae={parser:nA,get db(){return new Eh(2)},renderer:c_t,styles:aA,init:x(e=>{e.state||(e.state={}),e.state.arrowMarkerAbsolute=e.arrowMarkerAbsolute},"init")}});var A_t={};pr(A_t,{diagram:()=>uie});function D_t(e){let t=bt().journey,r=t.maxLabelWidth;iA=0;let n=60;Object.keys(kh).forEach(a=>{let i=kh[a].color,o={cx:20,cy:n,r:7,fill:i,stroke:"#000",pos:kh[a].position};zw.drawCircle(e,o);let s=e.append("text").attr("visibility","hidden").text(a),l=s.node().getBoundingClientRect().width;s.remove();let u=[];if(l<=r)u=[a];else{let f=a.split(" "),h="";s=e.append("text").attr("visibility","hidden"),f.forEach(d=>{let p=h?`${h} ${d}`:d;if(s.text(p),s.node().getBoundingClientRect().width>r){if(h&&u.push(h),h=d,s.text(d),s.node().getBoundingClientRect().width>r){let g="";for(let v of d)g+=v,s.text(g+"-"),s.node().getBoundingClientRect().width>r&&(u.push(g.slice(0,-1)+"-"),g=v);h=g}}else h=p}),h&&u.push(h),s.remove()}u.forEach((f,h)=>{let d={x:40,y:n+7+h*20,fill:"#666",text:f,textMargin:t.boxTextMargin??5},m=zw.drawText(e,d).node().getBoundingClientRect().width;m>iA&&m>t.leftMargin-m&&(iA=m)}),n+=Math.max(20,u.length*20)})}var bq,Wae,t2,_q,Bw,$w,Gae,Vae,Hae,Yae,Xae,jae,Kae,b_t,Qae,__t,Zae,Jae,wq,tie,k_t,C_t,eie,rie,w_t,nie,aie,S_t,iie,zw,oie,kh,iA,ju,wp,sie,lu,xq,T_t,lie,E_t,uie,L_t=B(()=>{xS();ap();Tr();nr();hr();hr();bq=function(){var e=x(function(h,d,p,m){for(p=p||{},m=h.length;m--;p[h[m]]=d);return p},"o"),t=[6,8,10,11,12,14,16,17,18],r=[1,9],n=[1,10],a=[1,11],i=[1,12],o=[1,13],s=[1,14],l={trace:x(function(){},"trace"),yy:{},symbols_:{error:2,start:3,journey:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,title:11,acc_title:12,acc_title_value:13,acc_descr:14,acc_descr_value:15,acc_descr_multiline_value:16,section:17,taskName:18,taskData:19,$accept:0,$end:1},terminals_:{2:"error",4:"journey",6:"EOF",8:"SPACE",10:"NEWLINE",11:"title",12:"acc_title",13:"acc_title_value",14:"acc_descr",15:"acc_descr_value",16:"acc_descr_multiline_value",17:"section",18:"taskName",19:"taskData"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,2]],performAction:x(function(d,p,m,g,v,y,b){var _=y.length-1;switch(v){case 1:return y[_-1];case 2:this.$=[];break;case 3:y[_-1].push(y[_]),this.$=y[_-1];break;case 4:case 5:this.$=y[_];break;case 6:case 7:this.$=[];break;case 8:g.setDiagramTitle(y[_].substr(6)),this.$=y[_].substr(6);break;case 9:this.$=y[_].trim(),g.setAccTitle(this.$);break;case 10:case 11:this.$=y[_].trim(),g.setAccDescription(this.$);break;case 12:g.addSection(y[_].substr(8)),this.$=y[_].substr(8);break;case 13:g.addTask(y[_-1],y[_]),this.$="task";break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:r,12:n,14:a,16:i,17:o,18:s},e(t,[2,7],{1:[2,1]}),e(t,[2,3]),{9:15,11:r,12:n,14:a,16:i,17:o,18:s},e(t,[2,5]),e(t,[2,6]),e(t,[2,8]),{13:[1,16]},{15:[1,17]},e(t,[2,11]),e(t,[2,12]),{19:[1,18]},e(t,[2,4]),e(t,[2,9]),e(t,[2,10]),e(t,[2,13])],defaultActions:{},parseError:x(function(d,p){if(p.recoverable)this.trace(d);else{var m=new Error(d);throw m.hash=p,m}},"parseError"),parse:x(function(d){var p=this,m=[0],g=[],v=[null],y=[],b=this.table,_="",k=0,w=0,T=0,S=2,C=1,M=y.slice.call(arguments,1),N=Object.create(this.lexer),L={yy:{}};for(var E in this.yy)Object.prototype.hasOwnProperty.call(this.yy,E)&&(L.yy[E]=this.yy[E]);N.setInput(d,L.yy),L.yy.lexer=N,L.yy.parser=this,typeof N.yylloc>"u"&&(N.yylloc={});var A=N.yylloc;y.push(A);var D=N.options&&N.options.ranges;typeof L.yy.parseError=="function"?this.parseError=L.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function R(rt){m.length=m.length-2*rt,v.length=v.length-rt,y.length=y.length-rt}x(R,"popStack");function I(){var rt;return rt=g.pop()||N.lex()||C,typeof rt!="number"&&(rt instanceof Array&&(g=rt,rt=g.pop()),rt=p.symbols_[rt]||rt),rt}x(I,"lex");for(var O,F,P,q,$,W,X={},tt,Y,ot,Z;;){if(P=m[m.length-1],this.defaultActions[P]?q=this.defaultActions[P]:((O===null||typeof O>"u")&&(O=I()),q=b[P]&&b[P][O]),typeof q>"u"||!q.length||!q[0]){var ct="";Z=[];for(tt in b[P])this.terminals_[tt]&&tt>S&&Z.push("'"+this.terminals_[tt]+"'");N.showPosition?ct="Parse error on line "+(k+1)+`:
`+N.showPosition()+`
Expecting `+Z.join(", ")+", got '"+(this.terminals_[O]||O)+"'":ct="Parse error on line "+(k+1)+": Unexpected "+(O==C?"end of input":"'"+(this.terminals_[O]||O)+"'"),this.parseError(ct,{text:N.match,token:this.terminals_[O]||O,line:N.yylineno,loc:A,expected:Z})}if(q[0]instanceof Array&&q.length>1)throw new Error("Parse Error: multiple actions possible at state: "+P+", token: "+O);switch(q[0]){case 1:m.push(O),v.push(N.yytext),y.push(N.yylloc),m.push(q[1]),O=null,F?(O=F,F=null):(w=N.yyleng,_=N.yytext,k=N.yylineno,A=N.yylloc,T>0&&T--);break;case 2:if(Y=this.productions_[q[1]][1],X.$=v[v.length-Y],X._$={first_line:y[y.length-(Y||1)].first_line,last_line:y[y.length-1].last_line,first_column:y[y.length-(Y||1)].first_column,last_column:y[y.length-1].last_column},D&&(X._$.range=[y[y.length-(Y||1)].range[0],y[y.length-1].range[1]]),W=this.performAction.apply(X,[_,w,k,L.yy,q[1],v,y].concat(M)),typeof W<"u")return W;Y&&(m=m.slice(0,-1*Y*2),v=v.slice(0,-1*Y),y=y.slice(0,-1*Y)),m.push(this.productions_[q[1]][0]),v.push(X.$),y.push(X._$),ot=b[m[m.length-2]][m[m.length-1]],m.push(ot);break;case 3:return!0}}return!0},"parse")},u=function(){var h={EOF:1,parseError:x(function(p,m){if(this.yy.parser)this.yy.parser.parseError(p,m);else throw new Error(p)},"parseError"),setInput:x(function(d,p){return this.yy=p||this.yy||{},this._input=d,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:x(function(){var d=this._input[0];this.yytext+=d,this.yyleng++,this.offset++,this.match+=d,this.matched+=d;var p=d.match(/(?:\r\n?|\n).*/g);return p?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),d},"input"),unput:x(function(d){var p=d.length,m=d.split(/(?:\r\n?|\n)/g);this._input=d+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-p),this.offset-=p;var g=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),m.length-1&&(this.yylineno-=m.length-1);var v=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:m?(m.length===g.length?this.yylloc.first_column:0)+g[g.length-m.length].length-m[0].length:this.yylloc.first_column-p},this.options.ranges&&(this.yylloc.range=[v[0],v[0]+this.yyleng-p]),this.yyleng=this.yytext.length,this},"unput"),more:x(function(){return this._more=!0,this},"more"),reject:x(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:x(function(d){this.unput(this.match.slice(d))},"less"),pastInput:x(function(){var d=this.matched.substr(0,this.matched.length-this.match.length);return(d.length>20?"...":"")+d.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:x(function(){var d=this.match;return d.length<20&&(d+=this._input.substr(0,20-d.length)),(d.substr(0,20)+(d.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:x(function(){var d=this.pastInput(),p=new Array(d.length+1).join("-");return d+this.upcomingInput()+`
`+p+"^"},"showPosition"),test_match:x(function(d,p){var m,g,v;if(this.options.backtrack_lexer&&(v={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(v.yylloc.range=this.yylloc.range.slice(0))),g=d[0].match(/(?:\r\n?|\n).*/g),g&&(this.yylineno+=g.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:g?g[g.length-1].length-g[g.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+d[0].length},this.yytext+=d[0],this.match+=d[0],this.matches=d,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(d[0].length),this.matched+=d[0],m=this.performAction.call(this,this.yy,this,p,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),m)return m;if(this._backtrack){for(var y in v)this[y]=v[y];return!1}return!1},"test_match"),next:x(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var d,p,m,g;this._more||(this.yytext="",this.match="");for(var v=this._currentRules(),y=0;y<v.length;y++)if(m=this._input.match(this.rules[v[y]]),m&&(!p||m[0].length>p[0].length)){if(p=m,g=y,this.options.backtrack_lexer){if(d=this.test_match(m,v[y]),d!==!1)return d;if(this._backtrack){p=!1;continue}else return!1}else if(!this.options.flex)break}return p?(d=this.test_match(p,v[g]),d!==!1?d:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:x(function(){var p=this.next();return p||this.lex()},"lex"),begin:x(function(p){this.conditionStack.push(p)},"begin"),popState:x(function(){var p=this.conditionStack.length-1;return p>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:x(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:x(function(p){return p=this.conditionStack.length-1-Math.abs(p||0),p>=0?this.conditionStack[p]:"INITIAL"},"topState"),pushState:x(function(p){this.begin(p)},"pushState"),stateStackSize:x(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:x(function(p,m,g,v){var y=v;switch(g){case 0:break;case 1:break;case 2:return 10;case 3:break;case 4:break;case 5:return 4;case 6:return 11;case 7:return this.begin("acc_title"),12;break;case 8:return this.popState(),"acc_title_value";break;case 9:return this.begin("acc_descr"),14;break;case 10:return this.popState(),"acc_descr_value";break;case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 17;case 15:return 18;case 16:return 19;case 17:return":";case 18:return 6;case 19:return"INVALID"}},"anonymous"),rules:[/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:journey\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,9,11,14,15,16,17,18,19],inclusive:!0}}};return h}();l.lexer=u;function f(){this.yy={}}return x(f,"Parser"),f.prototype=l,l.Parser=f,new f}();bq.parser=bq;Wae=bq,t2="",_q=[],Bw=[],$w=[],Gae=x(function(){_q.length=0,Bw.length=0,t2="",$w.length=0,wr()},"clear"),Vae=x(function(e){t2=e,_q.push(e)},"addSection"),Hae=x(function(){return _q},"getSections"),Yae=x(function(){let e=b_t(),t=100,r=0;for(;!e&&r<t;)e=b_t(),r++;return Bw.push(...$w),Bw},"getTasks"),Xae=x(function(){let e=[];return Bw.forEach(r=>{r.people&&e.push(...r.people)}),[...new Set(e)].sort()},"updateActors"),jae=x(function(e,t){let r=t.substr(1).split(":"),n=0,a=[];r.length===1?(n=Number(r[0]),a=[]):(n=Number(r[0]),a=r[1].split(","));let i=a.map(s=>s.trim()),o={section:t2,type:t2,people:i,task:e,score:n};$w.push(o)},"addTask"),Kae=x(function(e){let t={section:t2,type:t2,description:e,task:e,classes:[]};Bw.push(t)},"addTaskOrg"),b_t=x(function(){let e=x(function(r){return $w[r].processed},"compileTask"),t=!0;for(let[r,n]of $w.entries())e(r),t=t&&n.processed;return t},"compileTasks"),Qae=x(function(){return Xae()},"getActors"),__t={getConfig:x(()=>bt().journey,"getConfig"),clear:Gae,setDiagramTitle:Yr,getDiagramTitle:$r,setAccTitle:Mr,getAccTitle:Fr,setAccDescription:Pr,getAccDescription:Br,addSection:Vae,getSections:Hae,getTasks:Yae,addTask:jae,addTaskOrg:Kae,getActors:Qae},Zae=x(e=>`.label {
    font-family: ${e.fontFamily};
    color: ${e.textColor};
  }
  .mouth {
    stroke: #666;
  }

  line {
    stroke: ${e.textColor}
  }

  .legend {
    fill: ${e.textColor};
    font-family: ${e.fontFamily};
  }

  .label text {
    fill: #333;
  }
  .label {
    color: ${e.textColor}
  }

  .face {
    ${e.faceColor?`fill: ${e.faceColor}`:"fill: #FFF8DC"};
    stroke: #999;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${e.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${e.lineColor};
    stroke-width: 1.5px;
  }

  .flowchart-link {
    stroke: ${e.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${e.edgeLabelBackground};
    rect {
      opacity: 0.5;
    }
    text-align: center;
  }

  .cluster rect {
  }

  .cluster text {
    fill: ${e.titleColor};
  }

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${e.fontFamily};
    font-size: 12px;
    background: ${e.tertiaryColor};
    border: 1px solid ${e.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .task-type-0, .section-type-0  {
    ${e.fillType0?`fill: ${e.fillType0}`:""};
  }
  .task-type-1, .section-type-1  {
    ${e.fillType0?`fill: ${e.fillType1}`:""};
  }
  .task-type-2, .section-type-2  {
    ${e.fillType0?`fill: ${e.fillType2}`:""};
  }
  .task-type-3, .section-type-3  {
    ${e.fillType0?`fill: ${e.fillType3}`:""};
  }
  .task-type-4, .section-type-4  {
    ${e.fillType0?`fill: ${e.fillType4}`:""};
  }
  .task-type-5, .section-type-5  {
    ${e.fillType0?`fill: ${e.fillType5}`:""};
  }
  .task-type-6, .section-type-6  {
    ${e.fillType0?`fill: ${e.fillType6}`:""};
  }
  .task-type-7, .section-type-7  {
    ${e.fillType0?`fill: ${e.fillType7}`:""};
  }

  .actor-0 {
    ${e.actor0?`fill: ${e.actor0}`:""};
  }
  .actor-1 {
    ${e.actor1?`fill: ${e.actor1}`:""};
  }
  .actor-2 {
    ${e.actor2?`fill: ${e.actor2}`:""};
  }
  .actor-3 {
    ${e.actor3?`fill: ${e.actor3}`:""};
  }
  .actor-4 {
    ${e.actor4?`fill: ${e.actor4}`:""};
  }
  .actor-5 {
    ${e.actor5?`fill: ${e.actor5}`:""};
  }
  ${Zc()}
`,"getStyles"),Jae=Zae,wq=x(function(e,t){return am(e,t)},"drawRect"),tie=x(function(e,t){let n=e.append("circle").attr("cx",t.cx).attr("cy",t.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),a=e.append("g");a.append("circle").attr("cx",t.cx-15/3).attr("cy",t.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),a.append("circle").attr("cx",t.cx+15/3).attr("cy",t.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function i(l){let u=bc().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);l.append("path").attr("class","mouth").attr("d",u).attr("transform","translate("+t.cx+","+(t.cy+2)+")")}x(i,"smile");function o(l){let u=bc().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);l.append("path").attr("class","mouth").attr("d",u).attr("transform","translate("+t.cx+","+(t.cy+7)+")")}x(o,"sad");function s(l){l.append("line").attr("class","mouth").attr("stroke",2).attr("x1",t.cx-5).attr("y1",t.cy+7).attr("x2",t.cx+5).attr("y2",t.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return x(s,"ambivalent"),t.score>3?i(a):t.score<3?o(a):s(a),n},"drawFace"),k_t=x(function(e,t){let r=e.append("circle");return r.attr("cx",t.cx),r.attr("cy",t.cy),r.attr("class","actor-"+t.pos),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("r",t.r),r.class!==void 0&&r.attr("class",r.class),t.title!==void 0&&r.append("title").text(t.title),r},"drawCircle"),C_t=x(function(e,t){return Ymt(e,t)},"drawText"),eie=x(function(e,t){function r(a,i,o,s,l){return a+","+i+" "+(a+o)+","+i+" "+(a+o)+","+(i+s-l)+" "+(a+o-l*1.2)+","+(i+s)+" "+a+","+(i+s)}x(r,"genPoints");let n=e.append("polygon");n.attr("points",r(t.x,t.y,50,20,7)),n.attr("class","labelBox"),t.y=t.y+t.labelMargin,t.x=t.x+.5*t.labelMargin,C_t(e,t)},"drawLabel"),rie=x(function(e,t,r){let n=e.append("g"),a=Lo();a.x=t.x,a.y=t.y,a.fill=t.fill,a.width=r.width*t.taskCount+r.diagramMarginX*(t.taskCount-1),a.height=r.height,a.class="journey-section section-type-"+t.num,a.rx=3,a.ry=3,wq(n,a),S_t(r)(t.text,n,a.x,a.y,a.width,a.height,{class:"journey-section section-type-"+t.num},r,t.colour)},"drawSection"),w_t=-1,nie=x(function(e,t,r){let n=t.x+r.width/2,a=e.append("g");w_t++;let i=300+5*30;a.append("line").attr("id","task"+w_t).attr("x1",n).attr("y1",t.y).attr("x2",n).attr("y2",i).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),tie(a,{cx:n,cy:300+(5-t.score)*30,score:t.score});let o=Lo();o.x=t.x,o.y=t.y,o.fill=t.fill,o.width=r.width,o.height=r.height,o.class="task task-type-"+t.num,o.rx=3,o.ry=3,wq(a,o);let s=t.x+14;t.people.forEach(l=>{let u=t.actors[l].color,f={cx:s,cy:t.y,r:7,fill:u,stroke:"#000",title:l,pos:t.actors[l].position};k_t(a,f),s+=10}),S_t(r)(t.task,a,o.x,o.y,o.width,o.height,{class:"task"},r,t.colour)},"drawTask"),aie=x(function(e,t){mS(e,t)},"drawBackgroundRect"),S_t=function(){function e(a,i,o,s,l,u,f,h){let d=i.append("text").attr("x",o+l/2).attr("y",s+u/2+5).style("font-color",h).style("text-anchor","middle").text(a);n(d,f)}x(e,"byText");function t(a,i,o,s,l,u,f,h,d){let{taskFontSize:p,taskFontFamily:m}=h,g=a.split(/<br\s*\/?>/gi);for(let v=0;v<g.length;v++){let y=v*p-p*(g.length-1)/2,b=i.append("text").attr("x",o+l/2).attr("y",s).attr("fill",d).style("text-anchor","middle").style("font-size",p).style("font-family",m);b.append("tspan").attr("x",o+l/2).attr("dy",y).text(g[v]),b.attr("y",s+u/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(b,f)}}x(t,"byTspan");function r(a,i,o,s,l,u,f,h){let d=i.append("switch"),m=d.append("foreignObject").attr("x",o).attr("y",s).attr("width",l).attr("height",u).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");m.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(a),t(a,d,o,s,l,u,f,h),n(m,f)}x(r,"byFo");function n(a,i){for(let o in i)o in i&&a.attr(o,i[o])}return x(n,"_setTextAttrs"),function(a){return a.textPlacement==="fo"?r:a.textPlacement==="old"?e:t}}(),iie=x(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},"initGraphics"),zw={drawRect:wq,drawCircle:k_t,drawSection:rie,drawText:C_t,drawLabel:eie,drawTask:nie,drawBackgroundRect:aie,initGraphics:iie},oie=x(function(e){Object.keys(e).forEach(function(r){ju[r]=e[r]})},"setConf"),kh={},iA=0;x(D_t,"drawActorLegend");ju=bt().journey,wp=0,sie=x(function(e,t,r,n){let a=bt(),i=a.journey.titleColor,o=a.journey.titleFontSize,s=a.journey.titleFontFamily,l=a.securityLevel,u;l==="sandbox"&&(u=Vt("#i"+t));let f=l==="sandbox"?Vt(u.nodes()[0].contentDocument.body):Vt("body");lu.init();let h=f.select("#"+t);zw.initGraphics(h);let d=n.db.getTasks(),p=n.db.getDiagramTitle(),m=n.db.getActors();for(let k in kh)delete kh[k];let g=0;m.forEach(k=>{kh[k]={color:ju.actorColours[g%ju.actorColours.length],position:g},g++}),D_t(h),wp=ju.leftMargin+iA,lu.insert(0,0,wp,Object.keys(kh).length*50),lie(h,d,0);let v=lu.getBounds();p&&h.append("text").text(p).attr("x",wp).attr("font-size",o).attr("font-weight","bold").attr("y",25).attr("fill",i).attr("font-family",s);let y=v.stopy-v.starty+2*ju.diagramMarginY,b=wp+v.stopx+2*ju.diagramMarginX;Nn(h,y,b,ju.useMaxWidth),h.append("line").attr("x1",wp).attr("y1",ju.height*4).attr("x2",b-wp-4).attr("y2",ju.height*4).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)");let _=p?70:0;h.attr("viewBox",`${v.startx} -25 ${b} ${y+_}`),h.attr("preserveAspectRatio","xMinYMin meet"),h.attr("height",y+_+25)},"draw"),lu={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],init:x(function(){this.sequenceItems=[],this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0},"init"),updateVal:x(function(e,t,r,n){e[t]===void 0?e[t]=r:e[t]=n(r,e[t])},"updateVal"),updateBounds:x(function(e,t,r,n){let a=bt().journey,i=this,o=0;function s(l){return x(function(f){o++;let h=i.sequenceItems.length-o+1;i.updateVal(f,"starty",t-h*a.boxMargin,Math.min),i.updateVal(f,"stopy",n+h*a.boxMargin,Math.max),i.updateVal(lu.data,"startx",e-h*a.boxMargin,Math.min),i.updateVal(lu.data,"stopx",r+h*a.boxMargin,Math.max),l!=="activation"&&(i.updateVal(f,"startx",e-h*a.boxMargin,Math.min),i.updateVal(f,"stopx",r+h*a.boxMargin,Math.max),i.updateVal(lu.data,"starty",t-h*a.boxMargin,Math.min),i.updateVal(lu.data,"stopy",n+h*a.boxMargin,Math.max))},"updateItemBounds")}x(s,"updateFn"),this.sequenceItems.forEach(s())},"updateBounds"),insert:x(function(e,t,r,n){let a=Math.min(e,r),i=Math.max(e,r),o=Math.min(t,n),s=Math.max(t,n);this.updateVal(lu.data,"startx",a,Math.min),this.updateVal(lu.data,"starty",o,Math.min),this.updateVal(lu.data,"stopx",i,Math.max),this.updateVal(lu.data,"stopy",s,Math.max),this.updateBounds(a,o,i,s)},"insert"),bumpVerticalPos:x(function(e){this.verticalPos=this.verticalPos+e,this.data.stopy=this.verticalPos},"bumpVerticalPos"),getVerticalPos:x(function(){return this.verticalPos},"getVerticalPos"),getBounds:x(function(){return this.data},"getBounds")},xq=ju.sectionFills,T_t=ju.sectionColours,lie=x(function(e,t,r){let n=bt().journey,a="",i=n.height*2+n.diagramMarginY,o=r+i,s=0,l="#CCC",u="black",f=0;for(let[h,d]of t.entries()){if(a!==d.section){l=xq[s%xq.length],f=s%xq.length,u=T_t[s%T_t.length];let m=0,g=d.section;for(let y=h;y<t.length&&t[y].section==g;y++)m=m+1;let v={x:h*n.taskMargin+h*n.width+wp,y:50,text:d.section,fill:l,num:f,colour:u,taskCount:m};zw.drawSection(e,v,n),a=d.section,s++}let p=d.people.reduce((m,g)=>(kh[g]&&(m[g]=kh[g]),m),{});d.x=h*n.taskMargin+h*n.width+wp,d.y=o,d.width=n.diagramMarginX,d.height=n.diagramMarginY,d.colour=u,d.fill=l,d.num=f,d.actors=p,zw.drawTask(e,d,n),lu.insert(d.x,d.y,d.x+d.width+n.taskMargin,300+5*30)}},"drawTasks"),E_t={setConf:oie,draw:sie},uie={parser:Wae,db:__t,renderer:E_t,styles:Jae,init:x(e=>{E_t.setConf(e.journey),__t.clear()},"init")}});var H_t={};pr(H_t,{diagram:()=>Lie});function Cq(e,t){e.each(function(){var r=Vt(this),n=r.text().split(/(\s+|<br>)/).reverse(),a,i=[],o=1.1,s=r.attr("y"),l=parseFloat(r.attr("dy")),u=r.text(null).append("tspan").attr("x",0).attr("y",s).attr("dy",l+"em");for(let f=0;f<n.length;f++)a=n[n.length-1-f],i.push(a),u.text(i.join(" ").trim()),(u.node().getComputedTextLength()>t||a==="<br>")&&(i.pop(),u.text(i.join(" ").trim()),a==="<br>"?i=[""]:i=[a],u=r.append("tspan").attr("x",0).attr("y",s).attr("dy",o+"em").text(a))})}var Tq,cie,N_t,e2,O_t,Eq,oA,r2,F_t,P_t,B_t,$_t,z_t,q_t,U_t,W_t,M_t,fie,hie,sA,die,pie,G_t,mie,gie,I_t,vie,yie,xie,kq,V_t,bie,_ie,wie,Tie,qm,Eie,R_t,kie,Cie,Sie,Die,Aie,Lie,Y_t=B(()=>{Tr();nr();hr();hr();Zs();Tq=function(){var e=x(function(d,p,m,g){for(m=m||{},g=d.length;g--;m[d[g]]=p);return m},"o"),t=[6,8,10,11,12,14,16,17,20,21],r=[1,9],n=[1,10],a=[1,11],i=[1,12],o=[1,13],s=[1,16],l=[1,17],u={trace:x(function(){},"trace"),yy:{},symbols_:{error:2,start:3,timeline:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,title:11,acc_title:12,acc_title_value:13,acc_descr:14,acc_descr_value:15,acc_descr_multiline_value:16,section:17,period_statement:18,event_statement:19,period:20,event:21,$accept:0,$end:1},terminals_:{2:"error",4:"timeline",6:"EOF",8:"SPACE",10:"NEWLINE",11:"title",12:"acc_title",13:"acc_title_value",14:"acc_descr",15:"acc_descr_value",16:"acc_descr_multiline_value",17:"section",20:"period",21:"event"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,1],[18,1],[19,1]],performAction:x(function(p,m,g,v,y,b,_){var k=b.length-1;switch(y){case 1:return b[k-1];case 2:this.$=[];break;case 3:b[k-1].push(b[k]),this.$=b[k-1];break;case 4:case 5:this.$=b[k];break;case 6:case 7:this.$=[];break;case 8:v.getCommonDb().setDiagramTitle(b[k].substr(6)),this.$=b[k].substr(6);break;case 9:this.$=b[k].trim(),v.getCommonDb().setAccTitle(this.$);break;case 10:case 11:this.$=b[k].trim(),v.getCommonDb().setAccDescription(this.$);break;case 12:v.addSection(b[k].substr(8)),this.$=b[k].substr(8);break;case 15:v.addTask(b[k],0,""),this.$=b[k];break;case 16:v.addEvent(b[k].substr(2)),this.$=b[k];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:r,12:n,14:a,16:i,17:o,18:14,19:15,20:s,21:l},e(t,[2,7],{1:[2,1]}),e(t,[2,3]),{9:18,11:r,12:n,14:a,16:i,17:o,18:14,19:15,20:s,21:l},e(t,[2,5]),e(t,[2,6]),e(t,[2,8]),{13:[1,19]},{15:[1,20]},e(t,[2,11]),e(t,[2,12]),e(t,[2,13]),e(t,[2,14]),e(t,[2,15]),e(t,[2,16]),e(t,[2,4]),e(t,[2,9]),e(t,[2,10])],defaultActions:{},parseError:x(function(p,m){if(m.recoverable)this.trace(p);else{var g=new Error(p);throw g.hash=m,g}},"parseError"),parse:x(function(p){var m=this,g=[0],v=[],y=[null],b=[],_=this.table,k="",w=0,T=0,S=0,C=2,M=1,N=b.slice.call(arguments,1),L=Object.create(this.lexer),E={yy:{}};for(var A in this.yy)Object.prototype.hasOwnProperty.call(this.yy,A)&&(E.yy[A]=this.yy[A]);L.setInput(p,E.yy),E.yy.lexer=L,E.yy.parser=this,typeof L.yylloc>"u"&&(L.yylloc={});var D=L.yylloc;b.push(D);var R=L.options&&L.options.ranges;typeof E.yy.parseError=="function"?this.parseError=E.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function I(et){g.length=g.length-2*et,y.length=y.length-et,b.length=b.length-et}x(I,"popStack");function O(){var et;return et=v.pop()||L.lex()||M,typeof et!="number"&&(et instanceof Array&&(v=et,et=v.pop()),et=m.symbols_[et]||et),et}x(O,"lex");for(var F,P,q,$,W,X,tt={},Y,ot,Z,ct;;){if(q=g[g.length-1],this.defaultActions[q]?$=this.defaultActions[q]:((F===null||typeof F>"u")&&(F=O()),$=_[q]&&_[q][F]),typeof $>"u"||!$.length||!$[0]){var rt="";ct=[];for(Y in _[q])this.terminals_[Y]&&Y>C&&ct.push("'"+this.terminals_[Y]+"'");L.showPosition?rt="Parse error on line "+(w+1)+`:
`+L.showPosition()+`
Expecting `+ct.join(", ")+", got '"+(this.terminals_[F]||F)+"'":rt="Parse error on line "+(w+1)+": Unexpected "+(F==M?"end of input":"'"+(this.terminals_[F]||F)+"'"),this.parseError(rt,{text:L.match,token:this.terminals_[F]||F,line:L.yylineno,loc:D,expected:ct})}if($[0]instanceof Array&&$.length>1)throw new Error("Parse Error: multiple actions possible at state: "+q+", token: "+F);switch($[0]){case 1:g.push(F),y.push(L.yytext),b.push(L.yylloc),g.push($[1]),F=null,P?(F=P,P=null):(T=L.yyleng,k=L.yytext,w=L.yylineno,D=L.yylloc,S>0&&S--);break;case 2:if(ot=this.productions_[$[1]][1],tt.$=y[y.length-ot],tt._$={first_line:b[b.length-(ot||1)].first_line,last_line:b[b.length-1].last_line,first_column:b[b.length-(ot||1)].first_column,last_column:b[b.length-1].last_column},R&&(tt._$.range=[b[b.length-(ot||1)].range[0],b[b.length-1].range[1]]),X=this.performAction.apply(tt,[k,T,w,E.yy,$[1],y,b].concat(N)),typeof X<"u")return X;ot&&(g=g.slice(0,-1*ot*2),y=y.slice(0,-1*ot),b=b.slice(0,-1*ot)),g.push(this.productions_[$[1]][0]),y.push(tt.$),b.push(tt._$),Z=_[g[g.length-2]][g[g.length-1]],g.push(Z);break;case 3:return!0}}return!0},"parse")},f=function(){var d={EOF:1,parseError:x(function(m,g){if(this.yy.parser)this.yy.parser.parseError(m,g);else throw new Error(m)},"parseError"),setInput:x(function(p,m){return this.yy=m||this.yy||{},this._input=p,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:x(function(){var p=this._input[0];this.yytext+=p,this.yyleng++,this.offset++,this.match+=p,this.matched+=p;var m=p.match(/(?:\r\n?|\n).*/g);return m?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),p},"input"),unput:x(function(p){var m=p.length,g=p.split(/(?:\r\n?|\n)/g);this._input=p+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-m),this.offset-=m;var v=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),g.length-1&&(this.yylineno-=g.length-1);var y=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:g?(g.length===v.length?this.yylloc.first_column:0)+v[v.length-g.length].length-g[0].length:this.yylloc.first_column-m},this.options.ranges&&(this.yylloc.range=[y[0],y[0]+this.yyleng-m]),this.yyleng=this.yytext.length,this},"unput"),more:x(function(){return this._more=!0,this},"more"),reject:x(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:x(function(p){this.unput(this.match.slice(p))},"less"),pastInput:x(function(){var p=this.matched.substr(0,this.matched.length-this.match.length);return(p.length>20?"...":"")+p.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:x(function(){var p=this.match;return p.length<20&&(p+=this._input.substr(0,20-p.length)),(p.substr(0,20)+(p.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:x(function(){var p=this.pastInput(),m=new Array(p.length+1).join("-");return p+this.upcomingInput()+`
`+m+"^"},"showPosition"),test_match:x(function(p,m){var g,v,y;if(this.options.backtrack_lexer&&(y={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(y.yylloc.range=this.yylloc.range.slice(0))),v=p[0].match(/(?:\r\n?|\n).*/g),v&&(this.yylineno+=v.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:v?v[v.length-1].length-v[v.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+p[0].length},this.yytext+=p[0],this.match+=p[0],this.matches=p,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(p[0].length),this.matched+=p[0],g=this.performAction.call(this,this.yy,this,m,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),g)return g;if(this._backtrack){for(var b in y)this[b]=y[b];return!1}return!1},"test_match"),next:x(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var p,m,g,v;this._more||(this.yytext="",this.match="");for(var y=this._currentRules(),b=0;b<y.length;b++)if(g=this._input.match(this.rules[y[b]]),g&&(!m||g[0].length>m[0].length)){if(m=g,v=b,this.options.backtrack_lexer){if(p=this.test_match(g,y[b]),p!==!1)return p;if(this._backtrack){m=!1;continue}else return!1}else if(!this.options.flex)break}return m?(p=this.test_match(m,y[v]),p!==!1?p:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:x(function(){var m=this.next();return m||this.lex()},"lex"),begin:x(function(m){this.conditionStack.push(m)},"begin"),popState:x(function(){var m=this.conditionStack.length-1;return m>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:x(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:x(function(m){return m=this.conditionStack.length-1-Math.abs(m||0),m>=0?this.conditionStack[m]:"INITIAL"},"topState"),pushState:x(function(m){this.begin(m)},"pushState"),stateStackSize:x(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:x(function(m,g,v,y){var b=y;switch(v){case 0:break;case 1:break;case 2:return 10;case 3:break;case 4:break;case 5:return 4;case 6:return 11;case 7:return this.begin("acc_title"),12;break;case 8:return this.popState(),"acc_title_value";break;case 9:return this.begin("acc_descr"),14;break;case 10:return this.popState(),"acc_descr_value";break;case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 17;case 15:return 21;case 16:return 20;case 17:return 6;case 18:return"INVALID"}},"anonymous"),rules:[/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:timeline\b)/i,/^(?:title\s[^\n]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^:\n]+)/i,/^(?::\s(?:[^:\n]|:(?!\s))+)/i,/^(?:[^#:\n]+)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,9,11,14,15,16,17,18],inclusive:!0}}};return d}();u.lexer=f;function h(){this.yy={}}return x(h,"Parser"),h.prototype=u,u.Parser=h,new h}();Tq.parser=Tq;cie=Tq,N_t={};zh(N_t,{addEvent:()=>U_t,addSection:()=>B_t,addTask:()=>q_t,addTaskOrg:()=>W_t,clear:()=>P_t,default:()=>fie,getCommonDb:()=>F_t,getSections:()=>$_t,getTasks:()=>z_t});e2="",O_t=0,Eq=[],oA=[],r2=[],F_t=x(()=>D5,"getCommonDb"),P_t=x(function(){Eq.length=0,oA.length=0,e2="",r2.length=0,wr()},"clear"),B_t=x(function(e){e2=e,Eq.push(e)},"addSection"),$_t=x(function(){return Eq},"getSections"),z_t=x(function(){let e=M_t(),t=100,r=0;for(;!e&&r<t;)e=M_t(),r++;return oA.push(...r2),oA},"getTasks"),q_t=x(function(e,t,r){let n={id:O_t++,section:e2,type:e2,task:e,score:t||0,events:r?[r]:[]};r2.push(n)},"addTask"),U_t=x(function(e){r2.find(r=>r.id===O_t-1).events.push(e)},"addEvent"),W_t=x(function(e){let t={section:e2,type:e2,description:e,task:e,classes:[]};oA.push(t)},"addTaskOrg"),M_t=x(function(){let e=x(function(r){return r2[r].processed},"compileTask"),t=!0;for(let[r,n]of r2.entries())e(r),t=t&&n.processed;return t},"compileTasks"),fie={clear:P_t,getCommonDb:F_t,addSection:B_t,getSections:$_t,getTasks:z_t,addTask:q_t,addTaskOrg:W_t,addEvent:U_t},hie=12,sA=x(function(e,t){let r=e.append("rect");return r.attr("x",t.x),r.attr("y",t.y),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("width",t.width),r.attr("height",t.height),r.attr("rx",t.rx),r.attr("ry",t.ry),t.class!==void 0&&r.attr("class",t.class),r},"drawRect"),die=x(function(e,t){let n=e.append("circle").attr("cx",t.cx).attr("cy",t.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),a=e.append("g");a.append("circle").attr("cx",t.cx-15/3).attr("cy",t.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),a.append("circle").attr("cx",t.cx+15/3).attr("cy",t.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function i(l){let u=bc().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);l.append("path").attr("class","mouth").attr("d",u).attr("transform","translate("+t.cx+","+(t.cy+2)+")")}x(i,"smile");function o(l){let u=bc().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);l.append("path").attr("class","mouth").attr("d",u).attr("transform","translate("+t.cx+","+(t.cy+7)+")")}x(o,"sad");function s(l){l.append("line").attr("class","mouth").attr("stroke",2).attr("x1",t.cx-5).attr("y1",t.cy+7).attr("x2",t.cx+5).attr("y2",t.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return x(s,"ambivalent"),t.score>3?i(a):t.score<3?o(a):s(a),n},"drawFace"),pie=x(function(e,t){let r=e.append("circle");return r.attr("cx",t.cx),r.attr("cy",t.cy),r.attr("class","actor-"+t.pos),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("r",t.r),r.class!==void 0&&r.attr("class",r.class),t.title!==void 0&&r.append("title").text(t.title),r},"drawCircle"),G_t=x(function(e,t){let r=t.text.replace(/<br\s*\/?>/gi," "),n=e.append("text");n.attr("x",t.x),n.attr("y",t.y),n.attr("class","legend"),n.style("text-anchor",t.anchor),t.class!==void 0&&n.attr("class",t.class);let a=n.append("tspan");return a.attr("x",t.x+t.textMargin*2),a.text(r),n},"drawText"),mie=x(function(e,t){function r(a,i,o,s,l){return a+","+i+" "+(a+o)+","+i+" "+(a+o)+","+(i+s-l)+" "+(a+o-l*1.2)+","+(i+s)+" "+a+","+(i+s)}x(r,"genPoints");let n=e.append("polygon");n.attr("points",r(t.x,t.y,50,20,7)),n.attr("class","labelBox"),t.y=t.y+t.labelMargin,t.x=t.x+.5*t.labelMargin,G_t(e,t)},"drawLabel"),gie=x(function(e,t,r){let n=e.append("g"),a=kq();a.x=t.x,a.y=t.y,a.fill=t.fill,a.width=r.width,a.height=r.height,a.class="journey-section section-type-"+t.num,a.rx=3,a.ry=3,sA(n,a),V_t(r)(t.text,n,a.x,a.y,a.width,a.height,{class:"journey-section section-type-"+t.num},r,t.colour)},"drawSection"),I_t=-1,vie=x(function(e,t,r){let n=t.x+r.width/2,a=e.append("g");I_t++;let i=300+5*30;a.append("line").attr("id","task"+I_t).attr("x1",n).attr("y1",t.y).attr("x2",n).attr("y2",i).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),die(a,{cx:n,cy:300+(5-t.score)*30,score:t.score});let o=kq();o.x=t.x,o.y=t.y,o.fill=t.fill,o.width=r.width,o.height=r.height,o.class="task task-type-"+t.num,o.rx=3,o.ry=3,sA(a,o),V_t(r)(t.task,a,o.x,o.y,o.width,o.height,{class:"task"},r,t.colour)},"drawTask"),yie=x(function(e,t){sA(e,{x:t.startx,y:t.starty,width:t.stopx-t.startx,height:t.stopy-t.starty,fill:t.fill,class:"rect"}).lower()},"drawBackgroundRect"),xie=x(function(){return{x:0,y:0,fill:void 0,"text-anchor":"start",width:100,height:100,textMargin:0,rx:0,ry:0}},"getTextObj"),kq=x(function(){return{x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0}},"getNoteRect"),V_t=function(){function e(a,i,o,s,l,u,f,h){let d=i.append("text").attr("x",o+l/2).attr("y",s+u/2+5).style("font-color",h).style("text-anchor","middle").text(a);n(d,f)}x(e,"byText");function t(a,i,o,s,l,u,f,h,d){let{taskFontSize:p,taskFontFamily:m}=h,g=a.split(/<br\s*\/?>/gi);for(let v=0;v<g.length;v++){let y=v*p-p*(g.length-1)/2,b=i.append("text").attr("x",o+l/2).attr("y",s).attr("fill",d).style("text-anchor","middle").style("font-size",p).style("font-family",m);b.append("tspan").attr("x",o+l/2).attr("dy",y).text(g[v]),b.attr("y",s+u/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(b,f)}}x(t,"byTspan");function r(a,i,o,s,l,u,f,h){let d=i.append("switch"),m=d.append("foreignObject").attr("x",o).attr("y",s).attr("width",l).attr("height",u).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");m.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(a),t(a,d,o,s,l,u,f,h),n(m,f)}x(r,"byFo");function n(a,i){for(let o in i)o in i&&a.attr(o,i[o])}return x(n,"_setTextAttrs"),function(a){return a.textPlacement==="fo"?r:a.textPlacement==="old"?e:t}}(),bie=x(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},"initGraphics");x(Cq,"wrap");_ie=x(function(e,t,r,n){let a=r%hie-1,i=e.append("g");t.section=a,i.attr("class",(t.class?t.class+" ":"")+"timeline-node "+("section-"+a));let o=i.append("g"),s=i.append("g"),u=s.append("text").text(t.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call(Cq,t.width).node().getBBox(),f=n.fontSize?.replace?n.fontSize.replace("px",""):n.fontSize;return t.height=u.height+f*1.1*.5+t.padding,t.height=Math.max(t.height,t.maxHeight),t.width=t.width+2*t.padding,s.attr("transform","translate("+t.width/2+", "+t.padding/2+")"),Tie(o,t,a,n),t},"drawNode"),wie=x(function(e,t,r){let n=e.append("g"),i=n.append("text").text(t.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call(Cq,t.width).node().getBBox(),o=r.fontSize?.replace?r.fontSize.replace("px",""):r.fontSize;return n.remove(),i.height+o*1.1*.5+t.padding},"getVirtualNodeHeight"),Tie=x(function(e,t,r){e.append("path").attr("id","node-"+t.id).attr("class","node-bkg node-"+t.type).attr("d",`M0 ${t.height-5} v${-t.height+2*5} q0,-5 5,-5 h${t.width-2*5} q5,0 5,5 v${t.height-5} H0 Z`),e.append("line").attr("class","node-line-"+r).attr("x1",0).attr("y1",t.height).attr("x2",t.width).attr("y2",t.height)},"defaultBkg"),qm={drawRect:sA,drawCircle:pie,drawSection:gie,drawText:G_t,drawLabel:mie,drawTask:vie,drawBackgroundRect:yie,getTextObj:xie,getNoteRect:kq,initGraphics:bie,drawNode:_ie,getVirtualNodeHeight:wie},Eie=x(function(e,t,r,n){let a=bt(),i=a.timeline?.leftMargin??50;J.debug("timeline",n.db);let o=a.securityLevel,s;o==="sandbox"&&(s=Vt("#i"+t));let u=(o==="sandbox"?Vt(s.nodes()[0].contentDocument.body):Vt("body")).select("#"+t);u.append("g");let f=n.db.getTasks(),h=n.db.getCommonDb().getDiagramTitle();J.debug("task",f),qm.initGraphics(u);let d=n.db.getSections();J.debug("sections",d);let p=0,m=0,g=0,v=0,y=50+i,b=50;v=50;let _=0,k=!0;d.forEach(function(M){let N={number:_,descr:M,section:_,width:150,padding:20,maxHeight:p},L=qm.getVirtualNodeHeight(u,N,a);J.debug("sectionHeight before draw",L),p=Math.max(p,L+20)});let w=0,T=0;J.debug("tasks.length",f.length);for(let[M,N]of f.entries()){let L={number:M,descr:N,section:N.section,width:150,padding:20,maxHeight:m},E=qm.getVirtualNodeHeight(u,L,a);J.debug("taskHeight before draw",E),m=Math.max(m,E+20),w=Math.max(w,N.events.length);let A=0;for(let D of N.events){let R={descr:D,section:N.section,number:N.section,width:150,padding:20,maxHeight:50};A+=qm.getVirtualNodeHeight(u,R,a)}N.events.length>0&&(A+=(N.events.length-1)*10),T=Math.max(T,A)}J.debug("maxSectionHeight before draw",p),J.debug("maxTaskHeight before draw",m),d&&d.length>0?d.forEach(M=>{let N=f.filter(D=>D.section===M),L={number:_,descr:M,section:_,width:200*Math.max(N.length,1)-50,padding:20,maxHeight:p};J.debug("sectionNode",L);let E=u.append("g"),A=qm.drawNode(E,L,_,a);J.debug("sectionNode output",A),E.attr("transform",`translate(${y}, ${v})`),b+=p+50,N.length>0&&R_t(u,N,_,y,b,m,a,w,T,p,!1),y+=200*Math.max(N.length,1),b=v,_++}):(k=!1,R_t(u,f,_,y,b,m,a,w,T,p,!0));let S=u.node().getBBox();J.debug("bounds",S),h&&u.append("text").text(h).attr("x",S.width/2-i).attr("font-size","4ex").attr("font-weight","bold").attr("y",20),g=k?p+m+150:m+100,u.append("g").attr("class","lineWrapper").append("line").attr("x1",i).attr("y1",g).attr("x2",S.width+3*i).attr("y2",g).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)"),Nf(void 0,u,a.timeline?.padding??50,a.timeline?.useMaxWidth??!1)},"draw"),R_t=x(function(e,t,r,n,a,i,o,s,l,u,f){for(let h of t){let d={descr:h.task,section:r,number:r,width:150,padding:20,maxHeight:i};J.debug("taskNode",d);let p=e.append("g").attr("class","taskWrapper"),g=qm.drawNode(p,d,r,o).height;if(J.debug("taskHeight after draw",g),p.attr("transform",`translate(${n}, ${a})`),i=Math.max(i,g),h.events){let v=e.append("g").attr("class","lineWrapper"),y=i;a+=100,y=y+kie(e,h.events,r,n,a,o),a-=100,v.append("line").attr("x1",n+190/2).attr("y1",a+i).attr("x2",n+190/2).attr("y2",a+i+100+l+100).attr("stroke-width",2).attr("stroke","black").attr("marker-end","url(#arrowhead)").attr("stroke-dasharray","5,5")}n=n+200,f&&!o.timeline?.disableMulticolor&&r++}a=a-10},"drawTasks"),kie=x(function(e,t,r,n,a,i){let o=0,s=a;a=a+100;for(let l of t){let u={descr:l,section:r,number:r,width:150,padding:20,maxHeight:50};J.debug("eventNode",u);let f=e.append("g").attr("class","eventWrapper"),d=qm.drawNode(f,u,r,i).height;o=o+d,f.attr("transform",`translate(${n}, ${a})`),a=a+10+d}return a=s,o},"drawEvents"),Cie={setConf:x(()=>{},"setConf"),draw:Eie},Sie=x(e=>{let t="";for(let r=0;r<e.THEME_COLOR_LIMIT;r++)e["lineColor"+r]=e["lineColor"+r]||e["cScaleInv"+r],Gi(e["lineColor"+r])?e["lineColor"+r]=Ee(e["lineColor"+r],20):e["lineColor"+r]=Me(e["lineColor"+r],20);for(let r=0;r<e.THEME_COLOR_LIMIT;r++){let n=""+(17-3*r);t+=`
    .section-${r-1} rect, .section-${r-1} path, .section-${r-1} circle, .section-${r-1} path  {
      fill: ${e["cScale"+r]};
    }
    .section-${r-1} text {
     fill: ${e["cScaleLabel"+r]};
    }
    .node-icon-${r-1} {
      font-size: 40px;
      color: ${e["cScaleLabel"+r]};
    }
    .section-edge-${r-1}{
      stroke: ${e["cScale"+r]};
    }
    .edge-depth-${r-1}{
      stroke-width: ${n};
    }
    .section-${r-1} line {
      stroke: ${e["cScaleInv"+r]} ;
      stroke-width: 3;
    }

    .lineWrapper line{
      stroke: ${e["cScaleLabel"+r]} ;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }
    `}return t},"genSections"),Die=x(e=>`
  .edge {
    stroke-width: 3;
  }
  ${Sie(e)}
  .section-root rect, .section-root path, .section-root circle  {
    fill: ${e.git0};
  }
  .section-root text {
    fill: ${e.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .eventWrapper  {
   filter: brightness(120%);
  }
`,"getStyles"),Aie=Die,Lie={db:N_t,renderer:Cie,parser:cie,styles:Aie}});function X_t(e,t=0){return(vo[e[t+0]]+vo[e[t+1]]+vo[e[t+2]]+vo[e[t+3]]+"-"+vo[e[t+4]]+vo[e[t+5]]+"-"+vo[e[t+6]]+vo[e[t+7]]+"-"+vo[e[t+8]]+vo[e[t+9]]+"-"+vo[e[t+10]]+vo[e[t+11]]+vo[e[t+12]]+vo[e[t+13]]+vo[e[t+14]]+vo[e[t+15]]).toLowerCase()}var vo,j_t=B(()=>{vo=[];for(let e=0;e<256;++e)vo.push((e+256).toString(16).slice(1))});function Dq(){if(!Sq){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Sq=crypto.getRandomValues.bind(crypto)}return Sq(Mie)}var Sq,Mie,K_t=B(()=>{Mie=new Uint8Array(16)});var Iie,Aq,Q_t=B(()=>{Iie=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Aq={randomUUID:Iie}});function Rie(e,t,r){if(Aq.randomUUID&&!t&&!e)return Aq.randomUUID();e=e||{};let n=e.random??e.rng?.()??Dq();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){if(r=r||0,r<0||r+16>t.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let a=0;a<16;++a)t[r+a]=n[a];return t}return X_t(n)}var Lq,Z_t=B(()=>{Q_t();K_t();j_t();Lq=Rie});var J_t=B(()=>{Z_t()});var t4t={};pr(t4t,{diagram:()=>qie});var Mq,Nie,Ch,Oie,Fie,Pie,Bie,$ie,zie,qie,e4t=B(()=>{Bu();eu();jl();$l();al();Ns();Zo();Jo();to();On();Tr();nr();J_t();Zs();Mq=function(){var e=x(function(k,w,T,S){for(T=T||{},S=k.length;S--;T[k[S]]=w);return T},"o"),t=[1,4],r=[1,13],n=[1,12],a=[1,15],i=[1,16],o=[1,20],s=[1,19],l=[6,7,8],u=[1,26],f=[1,24],h=[1,25],d=[6,7,11],p=[1,6,13,15,16,19,22],m=[1,33],g=[1,34],v=[1,6,7,11,13,15,16,19,22],y={trace:x(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mindMap:4,spaceLines:5,SPACELINE:6,NL:7,MINDMAP:8,document:9,stop:10,EOF:11,statement:12,SPACELIST:13,node:14,ICON:15,CLASS:16,nodeWithId:17,nodeWithoutId:18,NODE_DSTART:19,NODE_DESCR:20,NODE_DEND:21,NODE_ID:22,$accept:0,$end:1},terminals_:{2:"error",6:"SPACELINE",7:"NL",8:"MINDMAP",11:"EOF",13:"SPACELIST",15:"ICON",16:"CLASS",19:"NODE_DSTART",20:"NODE_DESCR",21:"NODE_DEND",22:"NODE_ID"},productions_:[0,[3,1],[3,2],[5,1],[5,2],[5,2],[4,2],[4,3],[10,1],[10,1],[10,1],[10,2],[10,2],[9,3],[9,2],[12,2],[12,2],[12,2],[12,1],[12,1],[12,1],[12,1],[12,1],[14,1],[14,1],[18,3],[17,1],[17,4]],performAction:x(function(w,T,S,C,M,N,L){var E=N.length-1;switch(M){case 6:case 7:return C;case 8:C.getLogger().trace("Stop NL ");break;case 9:C.getLogger().trace("Stop EOF ");break;case 11:C.getLogger().trace("Stop NL2 ");break;case 12:C.getLogger().trace("Stop EOF2 ");break;case 15:C.getLogger().info("Node: ",N[E].id),C.addNode(N[E-1].length,N[E].id,N[E].descr,N[E].type);break;case 16:C.getLogger().trace("Icon: ",N[E]),C.decorateNode({icon:N[E]});break;case 17:case 21:C.decorateNode({class:N[E]});break;case 18:C.getLogger().trace("SPACELIST");break;case 19:C.getLogger().trace("Node: ",N[E].id),C.addNode(0,N[E].id,N[E].descr,N[E].type);break;case 20:C.decorateNode({icon:N[E]});break;case 25:C.getLogger().trace("node found ..",N[E-2]),this.$={id:N[E-1],descr:N[E-1],type:C.getType(N[E-2],N[E])};break;case 26:this.$={id:N[E],descr:N[E],type:C.nodeType.DEFAULT};break;case 27:C.getLogger().trace("node found ..",N[E-3]),this.$={id:N[E-3],descr:N[E-1],type:C.getType(N[E-2],N[E])};break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],8:t},{1:[3]},{1:[2,1]},{4:6,6:[1,7],7:[1,8],8:t},{6:r,7:[1,10],9:9,12:11,13:n,14:14,15:a,16:i,17:17,18:18,19:o,22:s},e(l,[2,3]),{1:[2,2]},e(l,[2,4]),e(l,[2,5]),{1:[2,6],6:r,12:21,13:n,14:14,15:a,16:i,17:17,18:18,19:o,22:s},{6:r,9:22,12:11,13:n,14:14,15:a,16:i,17:17,18:18,19:o,22:s},{6:u,7:f,10:23,11:h},e(d,[2,22],{17:17,18:18,14:27,15:[1,28],16:[1,29],19:o,22:s}),e(d,[2,18]),e(d,[2,19]),e(d,[2,20]),e(d,[2,21]),e(d,[2,23]),e(d,[2,24]),e(d,[2,26],{19:[1,30]}),{20:[1,31]},{6:u,7:f,10:32,11:h},{1:[2,7],6:r,12:21,13:n,14:14,15:a,16:i,17:17,18:18,19:o,22:s},e(p,[2,14],{7:m,11:g}),e(v,[2,8]),e(v,[2,9]),e(v,[2,10]),e(d,[2,15]),e(d,[2,16]),e(d,[2,17]),{20:[1,35]},{21:[1,36]},e(p,[2,13],{7:m,11:g}),e(v,[2,11]),e(v,[2,12]),{21:[1,37]},e(d,[2,25]),e(d,[2,27])],defaultActions:{2:[2,1],6:[2,2]},parseError:x(function(w,T){if(T.recoverable)this.trace(w);else{var S=new Error(w);throw S.hash=T,S}},"parseError"),parse:x(function(w){var T=this,S=[0],C=[],M=[null],N=[],L=this.table,E="",A=0,D=0,R=0,I=2,O=1,F=N.slice.call(arguments,1),P=Object.create(this.lexer),q={yy:{}};for(var $ in this.yy)Object.prototype.hasOwnProperty.call(this.yy,$)&&(q.yy[$]=this.yy[$]);P.setInput(w,q.yy),q.yy.lexer=P,q.yy.parser=this,typeof P.yylloc>"u"&&(P.yylloc={});var W=P.yylloc;N.push(W);var X=P.options&&P.options.ranges;typeof q.yy.parseError=="function"?this.parseError=q.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function tt(V){S.length=S.length-2*V,M.length=M.length-V,N.length=N.length-V}x(tt,"popStack");function Y(){var V;return V=C.pop()||P.lex()||O,typeof V!="number"&&(V instanceof Array&&(C=V,V=C.pop()),V=T.symbols_[V]||V),V}x(Y,"lex");for(var ot,Z,ct,rt,et,Q,j={},it,K,dt,nt;;){if(ct=S[S.length-1],this.defaultActions[ct]?rt=this.defaultActions[ct]:((ot===null||typeof ot>"u")&&(ot=Y()),rt=L[ct]&&L[ct][ot]),typeof rt>"u"||!rt.length||!rt[0]){var _t="";nt=[];for(it in L[ct])this.terminals_[it]&&it>I&&nt.push("'"+this.terminals_[it]+"'");P.showPosition?_t="Parse error on line "+(A+1)+`:
`+P.showPosition()+`
Expecting `+nt.join(", ")+", got '"+(this.terminals_[ot]||ot)+"'":_t="Parse error on line "+(A+1)+": Unexpected "+(ot==O?"end of input":"'"+(this.terminals_[ot]||ot)+"'"),this.parseError(_t,{text:P.match,token:this.terminals_[ot]||ot,line:P.yylineno,loc:W,expected:nt})}if(rt[0]instanceof Array&&rt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ct+", token: "+ot);switch(rt[0]){case 1:S.push(ot),M.push(P.yytext),N.push(P.yylloc),S.push(rt[1]),ot=null,Z?(ot=Z,Z=null):(D=P.yyleng,E=P.yytext,A=P.yylineno,W=P.yylloc,R>0&&R--);break;case 2:if(K=this.productions_[rt[1]][1],j.$=M[M.length-K],j._$={first_line:N[N.length-(K||1)].first_line,last_line:N[N.length-1].last_line,first_column:N[N.length-(K||1)].first_column,last_column:N[N.length-1].last_column},X&&(j._$.range=[N[N.length-(K||1)].range[0],N[N.length-1].range[1]]),Q=this.performAction.apply(j,[E,D,A,q.yy,rt[1],M,N].concat(F)),typeof Q<"u")return Q;K&&(S=S.slice(0,-1*K*2),M=M.slice(0,-1*K),N=N.slice(0,-1*K)),S.push(this.productions_[rt[1]][0]),M.push(j.$),N.push(j._$),dt=L[S[S.length-2]][S[S.length-1]],S.push(dt);break;case 3:return!0}}return!0},"parse")},b=function(){var k={EOF:1,parseError:x(function(T,S){if(this.yy.parser)this.yy.parser.parseError(T,S);else throw new Error(T)},"parseError"),setInput:x(function(w,T){return this.yy=T||this.yy||{},this._input=w,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:x(function(){var w=this._input[0];this.yytext+=w,this.yyleng++,this.offset++,this.match+=w,this.matched+=w;var T=w.match(/(?:\r\n?|\n).*/g);return T?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),w},"input"),unput:x(function(w){var T=w.length,S=w.split(/(?:\r\n?|\n)/g);this._input=w+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-T),this.offset-=T;var C=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),S.length-1&&(this.yylineno-=S.length-1);var M=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:S?(S.length===C.length?this.yylloc.first_column:0)+C[C.length-S.length].length-S[0].length:this.yylloc.first_column-T},this.options.ranges&&(this.yylloc.range=[M[0],M[0]+this.yyleng-T]),this.yyleng=this.yytext.length,this},"unput"),more:x(function(){return this._more=!0,this},"more"),reject:x(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:x(function(w){this.unput(this.match.slice(w))},"less"),pastInput:x(function(){var w=this.matched.substr(0,this.matched.length-this.match.length);return(w.length>20?"...":"")+w.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:x(function(){var w=this.match;return w.length<20&&(w+=this._input.substr(0,20-w.length)),(w.substr(0,20)+(w.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:x(function(){var w=this.pastInput(),T=new Array(w.length+1).join("-");return w+this.upcomingInput()+`
`+T+"^"},"showPosition"),test_match:x(function(w,T){var S,C,M;if(this.options.backtrack_lexer&&(M={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(M.yylloc.range=this.yylloc.range.slice(0))),C=w[0].match(/(?:\r\n?|\n).*/g),C&&(this.yylineno+=C.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:C?C[C.length-1].length-C[C.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+w[0].length},this.yytext+=w[0],this.match+=w[0],this.matches=w,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(w[0].length),this.matched+=w[0],S=this.performAction.call(this,this.yy,this,T,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),S)return S;if(this._backtrack){for(var N in M)this[N]=M[N];return!1}return!1},"test_match"),next:x(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var w,T,S,C;this._more||(this.yytext="",this.match="");for(var M=this._currentRules(),N=0;N<M.length;N++)if(S=this._input.match(this.rules[M[N]]),S&&(!T||S[0].length>T[0].length)){if(T=S,C=N,this.options.backtrack_lexer){if(w=this.test_match(S,M[N]),w!==!1)return w;if(this._backtrack){T=!1;continue}else return!1}else if(!this.options.flex)break}return T?(w=this.test_match(T,M[C]),w!==!1?w:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:x(function(){var T=this.next();return T||this.lex()},"lex"),begin:x(function(T){this.conditionStack.push(T)},"begin"),popState:x(function(){var T=this.conditionStack.length-1;return T>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:x(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:x(function(T){return T=this.conditionStack.length-1-Math.abs(T||0),T>=0?this.conditionStack[T]:"INITIAL"},"topState"),pushState:x(function(T){this.begin(T)},"pushState"),stateStackSize:x(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:x(function(T,S,C,M){var N=M;switch(C){case 0:return T.getLogger().trace("Found comment",S.yytext),6;break;case 1:return 8;case 2:this.begin("CLASS");break;case 3:return this.popState(),16;break;case 4:this.popState();break;case 5:T.getLogger().trace("Begin icon"),this.begin("ICON");break;case 6:return T.getLogger().trace("SPACELINE"),6;break;case 7:return 7;case 8:return 15;case 9:T.getLogger().trace("end icon"),this.popState();break;case 10:return T.getLogger().trace("Exploding node"),this.begin("NODE"),19;break;case 11:return T.getLogger().trace("Cloud"),this.begin("NODE"),19;break;case 12:return T.getLogger().trace("Explosion Bang"),this.begin("NODE"),19;break;case 13:return T.getLogger().trace("Cloud Bang"),this.begin("NODE"),19;break;case 14:return this.begin("NODE"),19;break;case 15:return this.begin("NODE"),19;break;case 16:return this.begin("NODE"),19;break;case 17:return this.begin("NODE"),19;break;case 18:return 13;case 19:return 22;case 20:return 11;case 21:this.begin("NSTR2");break;case 22:return"NODE_DESCR";case 23:this.popState();break;case 24:T.getLogger().trace("Starting NSTR"),this.begin("NSTR");break;case 25:return T.getLogger().trace("description:",S.yytext),"NODE_DESCR";break;case 26:this.popState();break;case 27:return this.popState(),T.getLogger().trace("node end ))"),"NODE_DEND";break;case 28:return this.popState(),T.getLogger().trace("node end )"),"NODE_DEND";break;case 29:return this.popState(),T.getLogger().trace("node end ...",S.yytext),"NODE_DEND";break;case 30:return this.popState(),T.getLogger().trace("node end (("),"NODE_DEND";break;case 31:return this.popState(),T.getLogger().trace("node end (-"),"NODE_DEND";break;case 32:return this.popState(),T.getLogger().trace("node end (-"),"NODE_DEND";break;case 33:return this.popState(),T.getLogger().trace("node end (("),"NODE_DEND";break;case 34:return this.popState(),T.getLogger().trace("node end (("),"NODE_DEND";break;case 35:return T.getLogger().trace("Long description:",S.yytext),20;break;case 36:return T.getLogger().trace("Long description:",S.yytext),20;break}},"anonymous"),rules:[/^(?:\s*%%.*)/i,/^(?:mindmap\b)/i,/^(?::::)/i,/^(?:.+)/i,/^(?:\n)/i,/^(?:::icon\()/i,/^(?:[\s]+[\n])/i,/^(?:[\n]+)/i,/^(?:[^\)]+)/i,/^(?:\))/i,/^(?:-\))/i,/^(?:\(-)/i,/^(?:\)\))/i,/^(?:\))/i,/^(?:\(\()/i,/^(?:\{\{)/i,/^(?:\()/i,/^(?:\[)/i,/^(?:[\s]+)/i,/^(?:[^\(\[\n\)\{\}]+)/i,/^(?:$)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:[^"]+)/i,/^(?:["])/i,/^(?:[\)]\))/i,/^(?:[\)])/i,/^(?:[\]])/i,/^(?:\}\})/i,/^(?:\(-)/i,/^(?:-\))/i,/^(?:\(\()/i,/^(?:\()/i,/^(?:[^\)\]\(\}]+)/i,/^(?:.+(?!\(\())/i],conditions:{CLASS:{rules:[3,4],inclusive:!1},ICON:{rules:[8,9],inclusive:!1},NSTR2:{rules:[22,23],inclusive:!1},NSTR:{rules:[25,26],inclusive:!1},NODE:{rules:[21,24,27,28,29,30,31,32,33,34,35,36],inclusive:!1},INITIAL:{rules:[0,1,2,5,6,7,10,11,12,13,14,15,16,17,18,19,20],inclusive:!0}}};return k}();y.lexer=b;function _(){this.yy={}}return x(_,"Parser"),_.prototype=y,y.Parser=_,new _}();Mq.parser=Mq;Nie=Mq,Ch={DEFAULT:0,NO_BORDER:0,ROUNDED_RECT:1,RECT:2,CIRCLE:3,CLOUD:4,BANG:5,HEXAGON:6},Oie=class{constructor(){this.nodes=[],this.count=0,this.elements={},this.getLogger=this.getLogger.bind(this),this.nodeType=Ch,this.clear(),this.getType=this.getType.bind(this),this.getElementById=this.getElementById.bind(this),this.getParent=this.getParent.bind(this),this.getMindmap=this.getMindmap.bind(this),this.addNode=this.addNode.bind(this),this.decorateNode=this.decorateNode.bind(this)}static{x(this,"MindmapDB")}clear(){this.nodes=[],this.count=0,this.elements={},this.baseLevel=void 0}getParent(e){for(let t=this.nodes.length-1;t>=0;t--)if(this.nodes[t].level<e)return this.nodes[t];return null}getMindmap(){return this.nodes.length>0?this.nodes[0]:null}addNode(e,t,r,n){J.info("addNode",e,t,r,n);let a=!1;this.nodes.length===0?(this.baseLevel=e,e=0,a=!0):this.baseLevel!==void 0&&(e=e-this.baseLevel,a=!1);let i=bt(),o=i.mindmap?.padding??lr.mindmap.padding;switch(n){case this.nodeType.ROUNDED_RECT:case this.nodeType.RECT:case this.nodeType.HEXAGON:o*=2;break}let s={id:this.count++,nodeId:sr(t,i),level:e,descr:sr(r,i),type:n,children:[],width:i.mindmap?.maxNodeWidth??lr.mindmap.maxNodeWidth,padding:o,isRoot:a},l=this.getParent(e);if(l)l.children.push(s),this.nodes.push(s);else if(a)this.nodes.push(s);else throw new Error(`There can be only one root. No parent could be found for ("${s.descr}")`)}getType(e,t){switch(J.debug("In get type",e,t),e){case"[":return this.nodeType.RECT;case"(":return t===")"?this.nodeType.ROUNDED_RECT:this.nodeType.CLOUD;case"((":return this.nodeType.CIRCLE;case")":return this.nodeType.CLOUD;case"))":return this.nodeType.BANG;case"{{":return this.nodeType.HEXAGON;default:return this.nodeType.DEFAULT}}setElementForId(e,t){this.elements[e]=t}getElementById(e){return this.elements[e]}decorateNode(e){if(!e)return;let t=bt(),r=this.nodes[this.nodes.length-1];e.icon&&(r.icon=sr(e.icon,t)),e.class&&(r.class=sr(e.class,t))}type2Str(e){switch(e){case this.nodeType.DEFAULT:return"no-border";case this.nodeType.RECT:return"rect";case this.nodeType.ROUNDED_RECT:return"rounded-rect";case this.nodeType.CIRCLE:return"circle";case this.nodeType.CLOUD:return"cloud";case this.nodeType.BANG:return"bang";case this.nodeType.HEXAGON:return"hexgon";default:return"no-border"}}assignSections(e,t){if(e.level===0?e.section=void 0:e.section=t,e.children)for(let[r,n]of e.children.entries()){let a=e.level===0?r:t;this.assignSections(n,a)}}flattenNodes(e,t){let r=["mindmap-node"];e.isRoot===!0?r.push("section-root","section--1"):e.section!==void 0&&r.push(`section-${e.section}`),e.class&&r.push(e.class);let n=r.join(" "),a=x(o=>{switch(o){case Ch.CIRCLE:return"mindmapCircle";case Ch.RECT:return"rect";case Ch.ROUNDED_RECT:return"rounded";case Ch.CLOUD:return"cloud";case Ch.BANG:return"bang";case Ch.HEXAGON:return"hexagon";case Ch.DEFAULT:return"defaultMindmapNode";case Ch.NO_BORDER:default:return"rect"}},"getShapeFromType"),i={id:e.id.toString(),domId:"node_"+e.id.toString(),label:e.descr,isGroup:!1,shape:a(e.type),width:e.width,height:e.height??0,padding:e.padding,cssClasses:n,cssStyles:[],look:"default",icon:e.icon,x:e.x,y:e.y,level:e.level,nodeId:e.nodeId,type:e.type,section:e.section};if(t.push(i),e.children)for(let o of e.children)this.flattenNodes(o,t)}generateEdges(e,t){if(e.children)for(let r of e.children){let n="edge";r.section!==void 0&&(n+=` section-edge-${r.section}`);let a=e.level+1;n+=` edge-depth-${a}`;let i={id:`edge_${e.id}_${r.id}`,start:e.id.toString(),end:r.id.toString(),type:"normal",curve:"basis",thickness:"normal",look:"default",classes:n,depth:e.level,section:r.section};t.push(i),this.generateEdges(r,t)}}getData(){let e=this.getMindmap(),t=bt(),n=KH().layout!==void 0,a=t;if(n||(a.layout="cose-bilkent"),!e)return{nodes:[],edges:[],config:a};J.debug("getData: mindmapRoot",e,t),this.assignSections(e);let i=[],o=[];this.flattenNodes(e,i),this.generateEdges(e,o),J.debug(`getData: processed ${i.length} nodes and ${o.length} edges`);let s=new Map;for(let l of i)s.set(l.id,{shape:l.shape,width:l.width,height:l.height,padding:l.padding});return{nodes:i,edges:o,config:a,rootNode:e,markers:["point"],direction:"TB",nodeSpacing:50,rankSpacing:50,shapes:Object.fromEntries(s),type:"mindmap",diagramId:"mindmap-"+Lq()}}getLogger(){return J}},Fie=x(async(e,t,r,n)=>{J.debug(`Rendering mindmap diagram
`+e);let a=n.db,i=a.getData(),o=tu(t,i.config.securityLevel);i.type=n.type,i.layoutAlgorithm=jc(i.config.layout,{fallback:"cose-bilkent"}),i.diagramId=t,a.getMindmap()&&(i.nodes.forEach(l=>{l.shape==="rounded"?(l.radius=15,l.taper=15,l.stroke="none",l.width=0,l.padding=15):l.shape==="circle"?l.padding=10:l.shape==="rect"&&(l.width=0,l.padding=10)}),await Xl(i,o),Us(o,i.config.mindmap?.padding??lr.mindmap.padding,"mindmapDiagram",i.config.mindmap?.useMaxWidth??lr.mindmap.useMaxWidth))},"draw"),Pie={draw:Fie},Bie=x(e=>{let t="";for(let r=0;r<e.THEME_COLOR_LIMIT;r++)e["lineColor"+r]=e["lineColor"+r]||e["cScaleInv"+r],Gi(e["lineColor"+r])?e["lineColor"+r]=Ee(e["lineColor"+r],20):e["lineColor"+r]=Me(e["lineColor"+r],20);for(let r=0;r<e.THEME_COLOR_LIMIT;r++){let n=""+(17-3*r);t+=`
    .section-${r-1} rect, .section-${r-1} path, .section-${r-1} circle, .section-${r-1} polygon, .section-${r-1} path  {
      fill: ${e["cScale"+r]};
    }
    .section-${r-1} text {
     fill: ${e["cScaleLabel"+r]};
    }
    .node-icon-${r-1} {
      font-size: 40px;
      color: ${e["cScaleLabel"+r]};
    }
    .section-edge-${r-1}{
      stroke: ${e["cScale"+r]};
    }
    .edge-depth-${r-1}{
      stroke-width: ${n};
    }
    .section-${r-1} line {
      stroke: ${e["cScaleInv"+r]} ;
      stroke-width: 3;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }
    `}return t},"genSections"),$ie=x(e=>`
  .edge {
    stroke-width: 3;
  }
  ${Bie(e)}
  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {
    fill: ${e.git0};
  }
  .section-root text {
    fill: ${e.gitBranchLabel0};
  }
  .section-root span {
    color: ${e.gitBranchLabel0};
  }
  .section-2 span {
    color: ${e.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .mindmap-node-label {
    dy: 1em;
    alignment-baseline: middle;
    text-anchor: middle;
    dominant-baseline: middle;
    text-align: center;
  }
`,"getStyles"),zie=$ie,qie={get db(){return new Oie},renderer:Pie,parser:Nie,styles:zie}});var n4t={};pr(n4t,{diagram:()=>ooe});var Iq,Uie,uu,Nq,Rq,Oq,Wie,Gie,r4t,Vie,Hie,Ti,Yie,Xie,jie,Kie,Qie,Zie,Jie,toe,eoe,roe,noe,aoe,ioe,ooe,a4t=B(()=>{wc();ap();pb();Ns();Zo();Jo();to();On();Tr();nr();Zs();Iq=function(){var e=x(function(S,C,M,N){for(M=M||{},N=S.length;N--;M[S[N]]=C);return M},"o"),t=[1,4],r=[1,13],n=[1,12],a=[1,15],i=[1,16],o=[1,20],s=[1,19],l=[6,7,8],u=[1,26],f=[1,24],h=[1,25],d=[6,7,11],p=[1,31],m=[6,7,11,24],g=[1,6,13,16,17,20,23],v=[1,35],y=[1,36],b=[1,6,7,11,13,16,17,20,23],_=[1,38],k={trace:x(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mindMap:4,spaceLines:5,SPACELINE:6,NL:7,KANBAN:8,document:9,stop:10,EOF:11,statement:12,SPACELIST:13,node:14,shapeData:15,ICON:16,CLASS:17,nodeWithId:18,nodeWithoutId:19,NODE_DSTART:20,NODE_DESCR:21,NODE_DEND:22,NODE_ID:23,SHAPE_DATA:24,$accept:0,$end:1},terminals_:{2:"error",6:"SPACELINE",7:"NL",8:"KANBAN",11:"EOF",13:"SPACELIST",16:"ICON",17:"CLASS",20:"NODE_DSTART",21:"NODE_DESCR",22:"NODE_DEND",23:"NODE_ID",24:"SHAPE_DATA"},productions_:[0,[3,1],[3,2],[5,1],[5,2],[5,2],[4,2],[4,3],[10,1],[10,1],[10,1],[10,2],[10,2],[9,3],[9,2],[12,3],[12,2],[12,2],[12,2],[12,1],[12,2],[12,1],[12,1],[12,1],[12,1],[14,1],[14,1],[19,3],[18,1],[18,4],[15,2],[15,1]],performAction:x(function(C,M,N,L,E,A,D){var R=A.length-1;switch(E){case 6:case 7:return L;case 8:L.getLogger().trace("Stop NL ");break;case 9:L.getLogger().trace("Stop EOF ");break;case 11:L.getLogger().trace("Stop NL2 ");break;case 12:L.getLogger().trace("Stop EOF2 ");break;case 15:L.getLogger().info("Node: ",A[R-1].id),L.addNode(A[R-2].length,A[R-1].id,A[R-1].descr,A[R-1].type,A[R]);break;case 16:L.getLogger().info("Node: ",A[R].id),L.addNode(A[R-1].length,A[R].id,A[R].descr,A[R].type);break;case 17:L.getLogger().trace("Icon: ",A[R]),L.decorateNode({icon:A[R]});break;case 18:case 23:L.decorateNode({class:A[R]});break;case 19:L.getLogger().trace("SPACELIST");break;case 20:L.getLogger().trace("Node: ",A[R-1].id),L.addNode(0,A[R-1].id,A[R-1].descr,A[R-1].type,A[R]);break;case 21:L.getLogger().trace("Node: ",A[R].id),L.addNode(0,A[R].id,A[R].descr,A[R].type);break;case 22:L.decorateNode({icon:A[R]});break;case 27:L.getLogger().trace("node found ..",A[R-2]),this.$={id:A[R-1],descr:A[R-1],type:L.getType(A[R-2],A[R])};break;case 28:this.$={id:A[R],descr:A[R],type:0};break;case 29:L.getLogger().trace("node found ..",A[R-3]),this.$={id:A[R-3],descr:A[R-1],type:L.getType(A[R-2],A[R])};break;case 30:this.$=A[R-1]+A[R];break;case 31:this.$=A[R];break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],8:t},{1:[3]},{1:[2,1]},{4:6,6:[1,7],7:[1,8],8:t},{6:r,7:[1,10],9:9,12:11,13:n,14:14,16:a,17:i,18:17,19:18,20:o,23:s},e(l,[2,3]),{1:[2,2]},e(l,[2,4]),e(l,[2,5]),{1:[2,6],6:r,12:21,13:n,14:14,16:a,17:i,18:17,19:18,20:o,23:s},{6:r,9:22,12:11,13:n,14:14,16:a,17:i,18:17,19:18,20:o,23:s},{6:u,7:f,10:23,11:h},e(d,[2,24],{18:17,19:18,14:27,16:[1,28],17:[1,29],20:o,23:s}),e(d,[2,19]),e(d,[2,21],{15:30,24:p}),e(d,[2,22]),e(d,[2,23]),e(m,[2,25]),e(m,[2,26]),e(m,[2,28],{20:[1,32]}),{21:[1,33]},{6:u,7:f,10:34,11:h},{1:[2,7],6:r,12:21,13:n,14:14,16:a,17:i,18:17,19:18,20:o,23:s},e(g,[2,14],{7:v,11:y}),e(b,[2,8]),e(b,[2,9]),e(b,[2,10]),e(d,[2,16],{15:37,24:p}),e(d,[2,17]),e(d,[2,18]),e(d,[2,20],{24:_}),e(m,[2,31]),{21:[1,39]},{22:[1,40]},e(g,[2,13],{7:v,11:y}),e(b,[2,11]),e(b,[2,12]),e(d,[2,15],{24:_}),e(m,[2,30]),{22:[1,41]},e(m,[2,27]),e(m,[2,29])],defaultActions:{2:[2,1],6:[2,2]},parseError:x(function(C,M){if(M.recoverable)this.trace(C);else{var N=new Error(C);throw N.hash=M,N}},"parseError"),parse:x(function(C){var M=this,N=[0],L=[],E=[null],A=[],D=this.table,R="",I=0,O=0,F=0,P=2,q=1,$=A.slice.call(arguments,1),W=Object.create(this.lexer),X={yy:{}};for(var tt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,tt)&&(X.yy[tt]=this.yy[tt]);W.setInput(C,X.yy),X.yy.lexer=W,X.yy.parser=this,typeof W.yylloc>"u"&&(W.yylloc={});var Y=W.yylloc;A.push(Y);var ot=W.options&&W.options.ranges;typeof X.yy.parseError=="function"?this.parseError=X.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Z(Ft){N.length=N.length-2*Ft,E.length=E.length-Ft,A.length=A.length-Ft}x(Z,"popStack");function ct(){var Ft;return Ft=L.pop()||W.lex()||q,typeof Ft!="number"&&(Ft instanceof Array&&(L=Ft,Ft=L.pop()),Ft=M.symbols_[Ft]||Ft),Ft}x(ct,"lex");for(var rt,et,Q,j,it,K,dt={},nt,_t,V,Ut;;){if(Q=N[N.length-1],this.defaultActions[Q]?j=this.defaultActions[Q]:((rt===null||typeof rt>"u")&&(rt=ct()),j=D[Q]&&D[Q][rt]),typeof j>"u"||!j.length||!j[0]){var pt="";Ut=[];for(nt in D[Q])this.terminals_[nt]&&nt>P&&Ut.push("'"+this.terminals_[nt]+"'");W.showPosition?pt="Parse error on line "+(I+1)+`:
`+W.showPosition()+`
Expecting `+Ut.join(", ")+", got '"+(this.terminals_[rt]||rt)+"'":pt="Parse error on line "+(I+1)+": Unexpected "+(rt==q?"end of input":"'"+(this.terminals_[rt]||rt)+"'"),this.parseError(pt,{text:W.match,token:this.terminals_[rt]||rt,line:W.yylineno,loc:Y,expected:Ut})}if(j[0]instanceof Array&&j.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Q+", token: "+rt);switch(j[0]){case 1:N.push(rt),E.push(W.yytext),A.push(W.yylloc),N.push(j[1]),rt=null,et?(rt=et,et=null):(O=W.yyleng,R=W.yytext,I=W.yylineno,Y=W.yylloc,F>0&&F--);break;case 2:if(_t=this.productions_[j[1]][1],dt.$=E[E.length-_t],dt._$={first_line:A[A.length-(_t||1)].first_line,last_line:A[A.length-1].last_line,first_column:A[A.length-(_t||1)].first_column,last_column:A[A.length-1].last_column},ot&&(dt._$.range=[A[A.length-(_t||1)].range[0],A[A.length-1].range[1]]),K=this.performAction.apply(dt,[R,O,I,X.yy,j[1],E,A].concat($)),typeof K<"u")return K;_t&&(N=N.slice(0,-1*_t*2),E=E.slice(0,-1*_t),A=A.slice(0,-1*_t)),N.push(this.productions_[j[1]][0]),E.push(dt.$),A.push(dt._$),V=D[N[N.length-2]][N[N.length-1]],N.push(V);break;case 3:return!0}}return!0},"parse")},w=function(){var S={EOF:1,parseError:x(function(M,N){if(this.yy.parser)this.yy.parser.parseError(M,N);else throw new Error(M)},"parseError"),setInput:x(function(C,M){return this.yy=M||this.yy||{},this._input=C,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:x(function(){var C=this._input[0];this.yytext+=C,this.yyleng++,this.offset++,this.match+=C,this.matched+=C;var M=C.match(/(?:\r\n?|\n).*/g);return M?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),C},"input"),unput:x(function(C){var M=C.length,N=C.split(/(?:\r\n?|\n)/g);this._input=C+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-M),this.offset-=M;var L=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),N.length-1&&(this.yylineno-=N.length-1);var E=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:N?(N.length===L.length?this.yylloc.first_column:0)+L[L.length-N.length].length-N[0].length:this.yylloc.first_column-M},this.options.ranges&&(this.yylloc.range=[E[0],E[0]+this.yyleng-M]),this.yyleng=this.yytext.length,this},"unput"),more:x(function(){return this._more=!0,this},"more"),reject:x(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:x(function(C){this.unput(this.match.slice(C))},"less"),pastInput:x(function(){var C=this.matched.substr(0,this.matched.length-this.match.length);return(C.length>20?"...":"")+C.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:x(function(){var C=this.match;return C.length<20&&(C+=this._input.substr(0,20-C.length)),(C.substr(0,20)+(C.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:x(function(){var C=this.pastInput(),M=new Array(C.length+1).join("-");return C+this.upcomingInput()+`
`+M+"^"},"showPosition"),test_match:x(function(C,M){var N,L,E;if(this.options.backtrack_lexer&&(E={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(E.yylloc.range=this.yylloc.range.slice(0))),L=C[0].match(/(?:\r\n?|\n).*/g),L&&(this.yylineno+=L.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:L?L[L.length-1].length-L[L.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+C[0].length},this.yytext+=C[0],this.match+=C[0],this.matches=C,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(C[0].length),this.matched+=C[0],N=this.performAction.call(this,this.yy,this,M,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),N)return N;if(this._backtrack){for(var A in E)this[A]=E[A];return!1}return!1},"test_match"),next:x(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var C,M,N,L;this._more||(this.yytext="",this.match="");for(var E=this._currentRules(),A=0;A<E.length;A++)if(N=this._input.match(this.rules[E[A]]),N&&(!M||N[0].length>M[0].length)){if(M=N,L=A,this.options.backtrack_lexer){if(C=this.test_match(N,E[A]),C!==!1)return C;if(this._backtrack){M=!1;continue}else return!1}else if(!this.options.flex)break}return M?(C=this.test_match(M,E[L]),C!==!1?C:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:x(function(){var M=this.next();return M||this.lex()},"lex"),begin:x(function(M){this.conditionStack.push(M)},"begin"),popState:x(function(){var M=this.conditionStack.length-1;return M>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:x(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:x(function(M){return M=this.conditionStack.length-1-Math.abs(M||0),M>=0?this.conditionStack[M]:"INITIAL"},"topState"),pushState:x(function(M){this.begin(M)},"pushState"),stateStackSize:x(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:x(function(M,N,L,E){var A=E;switch(L){case 0:return this.pushState("shapeData"),N.yytext="",24;break;case 1:return this.pushState("shapeDataStr"),24;break;case 2:return this.popState(),24;break;case 3:let D=/\n\s*/g;return N.yytext=N.yytext.replace(D,"<br/>"),24;break;case 4:return 24;case 5:this.popState();break;case 6:return M.getLogger().trace("Found comment",N.yytext),6;break;case 7:return 8;case 8:this.begin("CLASS");break;case 9:return this.popState(),17;break;case 10:this.popState();break;case 11:M.getLogger().trace("Begin icon"),this.begin("ICON");break;case 12:return M.getLogger().trace("SPACELINE"),6;break;case 13:return 7;case 14:return 16;case 15:M.getLogger().trace("end icon"),this.popState();break;case 16:return M.getLogger().trace("Exploding node"),this.begin("NODE"),20;break;case 17:return M.getLogger().trace("Cloud"),this.begin("NODE"),20;break;case 18:return M.getLogger().trace("Explosion Bang"),this.begin("NODE"),20;break;case 19:return M.getLogger().trace("Cloud Bang"),this.begin("NODE"),20;break;case 20:return this.begin("NODE"),20;break;case 21:return this.begin("NODE"),20;break;case 22:return this.begin("NODE"),20;break;case 23:return this.begin("NODE"),20;break;case 24:return 13;case 25:return 23;case 26:return 11;case 27:this.begin("NSTR2");break;case 28:return"NODE_DESCR";case 29:this.popState();break;case 30:M.getLogger().trace("Starting NSTR"),this.begin("NSTR");break;case 31:return M.getLogger().trace("description:",N.yytext),"NODE_DESCR";break;case 32:this.popState();break;case 33:return this.popState(),M.getLogger().trace("node end ))"),"NODE_DEND";break;case 34:return this.popState(),M.getLogger().trace("node end )"),"NODE_DEND";break;case 35:return this.popState(),M.getLogger().trace("node end ...",N.yytext),"NODE_DEND";break;case 36:return this.popState(),M.getLogger().trace("node end (("),"NODE_DEND";break;case 37:return this.popState(),M.getLogger().trace("node end (-"),"NODE_DEND";break;case 38:return this.popState(),M.getLogger().trace("node end (-"),"NODE_DEND";break;case 39:return this.popState(),M.getLogger().trace("node end (("),"NODE_DEND";break;case 40:return this.popState(),M.getLogger().trace("node end (("),"NODE_DEND";break;case 41:return M.getLogger().trace("Long description:",N.yytext),21;break;case 42:return M.getLogger().trace("Long description:",N.yytext),21;break}},"anonymous"),rules:[/^(?:@\{)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^\"]+)/i,/^(?:[^}^"]+)/i,/^(?:\})/i,/^(?:\s*%%.*)/i,/^(?:kanban\b)/i,/^(?::::)/i,/^(?:.+)/i,/^(?:\n)/i,/^(?:::icon\()/i,/^(?:[\s]+[\n])/i,/^(?:[\n]+)/i,/^(?:[^\)]+)/i,/^(?:\))/i,/^(?:-\))/i,/^(?:\(-)/i,/^(?:\)\))/i,/^(?:\))/i,/^(?:\(\()/i,/^(?:\{\{)/i,/^(?:\()/i,/^(?:\[)/i,/^(?:[\s]+)/i,/^(?:[^\(\[\n\)\{\}@]+)/i,/^(?:$)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:[^"]+)/i,/^(?:["])/i,/^(?:[\)]\))/i,/^(?:[\)])/i,/^(?:[\]])/i,/^(?:\}\})/i,/^(?:\(-)/i,/^(?:-\))/i,/^(?:\(\()/i,/^(?:\()/i,/^(?:[^\)\]\(\}]+)/i,/^(?:.+(?!\(\())/i],conditions:{shapeDataEndBracket:{rules:[],inclusive:!1},shapeDataStr:{rules:[2,3],inclusive:!1},shapeData:{rules:[1,4,5],inclusive:!1},CLASS:{rules:[9,10],inclusive:!1},ICON:{rules:[14,15],inclusive:!1},NSTR2:{rules:[28,29],inclusive:!1},NSTR:{rules:[31,32],inclusive:!1},NODE:{rules:[27,30,33,34,35,36,37,38,39,40,41,42],inclusive:!1},INITIAL:{rules:[0,6,7,8,11,12,13,16,17,18,19,20,21,22,23,24,25,26],inclusive:!0}}};return S}();k.lexer=w;function T(){this.yy={}}return x(T,"Parser"),T.prototype=k,k.Parser=T,new T}();Iq.parser=Iq;Uie=Iq,uu=[],Nq=[],Rq=0,Oq={},Wie=x(()=>{uu=[],Nq=[],Rq=0,Oq={}},"clear"),Gie=x(e=>{if(uu.length===0)return null;let t=uu[0].level,r=null;for(let n=uu.length-1;n>=0;n--)if(uu[n].level===t&&!r&&(r=uu[n]),uu[n].level<t)throw new Error('Items without section detected, found section ("'+uu[n].label+'")');return e===r?.level?null:r},"getSection"),r4t=x(function(){return Nq},"getSections"),Vie=x(function(){let e=[],t=[],r=r4t(),n=bt();for(let a of r){let i={id:a.id,label:sr(a.label??"",n),isGroup:!0,ticket:a.ticket,shape:"kanbanSection",level:a.level,look:n.look};t.push(i);let o=uu.filter(s=>s.parentId===a.id);for(let s of o){let l={id:s.id,parentId:a.id,label:sr(s.label??"",n),isGroup:!1,ticket:s?.ticket,priority:s?.priority,assigned:s?.assigned,icon:s?.icon,shape:"kanbanItem",level:s.level,rx:5,ry:5,cssStyles:["text-align: left"]};t.push(l)}}return{nodes:t,edges:e,other:{},config:bt()}},"getData"),Hie=x((e,t,r,n,a)=>{let i=bt(),o=i.mindmap?.padding??lr.mindmap.padding;switch(n){case Ti.ROUNDED_RECT:case Ti.RECT:case Ti.HEXAGON:o*=2}let s={id:sr(t,i)||"kbn"+Rq++,level:e,label:sr(r,i),width:i.mindmap?.maxNodeWidth??lr.mindmap.maxNodeWidth,padding:o,isGroup:!1};if(a!==void 0){let u;a.includes(`
`)?u=a+`
`:u=`{
`+a+`
}`;let f=cd(u,{schema:ud});if(f.shape&&(f.shape!==f.shape.toLowerCase()||f.shape.includes("_")))throw new Error(`No such shape: ${f.shape}. Shape names should be lowercase.`);f?.shape&&f.shape==="kanbanItem"&&(s.shape=f?.shape),f?.label&&(s.label=f?.label),f?.icon&&(s.icon=f?.icon.toString()),f?.assigned&&(s.assigned=f?.assigned.toString()),f?.ticket&&(s.ticket=f?.ticket.toString()),f?.priority&&(s.priority=f?.priority)}let l=Gie(e);l?s.parentId=l.id||"kbn"+Rq++:Nq.push(s),uu.push(s)},"addNode"),Ti={DEFAULT:0,NO_BORDER:0,ROUNDED_RECT:1,RECT:2,CIRCLE:3,CLOUD:4,BANG:5,HEXAGON:6},Yie=x((e,t)=>{switch(J.debug("In get type",e,t),e){case"[":return Ti.RECT;case"(":return t===")"?Ti.ROUNDED_RECT:Ti.CLOUD;case"((":return Ti.CIRCLE;case")":return Ti.CLOUD;case"))":return Ti.BANG;case"{{":return Ti.HEXAGON;default:return Ti.DEFAULT}},"getType"),Xie=x((e,t)=>{Oq[e]=t},"setElementForId"),jie=x(e=>{if(!e)return;let t=bt(),r=uu[uu.length-1];e.icon&&(r.icon=sr(e.icon,t)),e.class&&(r.cssClasses=sr(e.class,t))},"decorateNode"),Kie=x(e=>{switch(e){case Ti.DEFAULT:return"no-border";case Ti.RECT:return"rect";case Ti.ROUNDED_RECT:return"rounded-rect";case Ti.CIRCLE:return"circle";case Ti.CLOUD:return"cloud";case Ti.BANG:return"bang";case Ti.HEXAGON:return"hexgon";default:return"no-border"}},"type2Str"),Qie=x(()=>J,"getLogger"),Zie=x(e=>Oq[e],"getElementById"),Jie={clear:Wie,addNode:Hie,getSections:r4t,getData:Vie,nodeType:Ti,getType:Yie,setElementForId:Xie,decorateNode:jie,type2Str:Kie,getLogger:Qie,getElementById:Zie},toe=Jie,eoe=x(async(e,t,r,n)=>{J.debug(`Rendering kanban diagram
`+e);let i=n.db.getData(),o=bt();o.htmlLabels=!1;let s=Li(t),l=s.append("g");l.attr("class","sections");let u=s.append("g");u.attr("class","items");let f=i.nodes.filter(v=>v.isGroup),h=0,d=10,p=[],m=25;for(let v of f){let y=o?.kanban?.sectionWidth||200;h=h+1,v.x=y*h+(h-1)*d/2,v.width=y,v.y=0,v.height=y*3,v.rx=5,v.ry=5,v.cssClasses=v.cssClasses+" section-"+h;let b=await y1(l,v);m=Math.max(m,b?.labelBBox?.height),p.push(b)}let g=0;for(let v of f){let y=p[g];g=g+1;let b=o?.kanban?.sectionWidth||200,_=-b*3/2+m,k=_,w=i.nodes.filter(C=>C.parentId===v.id);for(let C of w){if(C.isGroup)throw new Error("Groups within groups are not allowed in Kanban diagrams");C.x=v.x,C.width=b-1.5*d;let N=(await M0(u,C,{config:o})).node().getBBox();C.y=k+N.height/2,await Wb(C),k=C.y+N.height/2+d/2}let T=y.cluster.select("rect"),S=Math.max(k-_+3*d,50)+(m-25);T.attr("height",S)}Nf(void 0,s,o.mindmap?.padding??lr.kanban.padding,o.mindmap?.useMaxWidth??lr.kanban.useMaxWidth)},"draw"),roe={draw:eoe},noe=x(e=>{let t="";for(let n=0;n<e.THEME_COLOR_LIMIT;n++)e["lineColor"+n]=e["lineColor"+n]||e["cScaleInv"+n],Gi(e["lineColor"+n])?e["lineColor"+n]=Ee(e["lineColor"+n],20):e["lineColor"+n]=Me(e["lineColor"+n],20);let r=x((n,a)=>e.darkMode?Me(n,a):Ee(n,a),"adjuster");for(let n=0;n<e.THEME_COLOR_LIMIT;n++){let a=""+(17-3*n);t+=`
    .section-${n-1} rect, .section-${n-1} path, .section-${n-1} circle, .section-${n-1} polygon, .section-${n-1} path  {
      fill: ${r(e["cScale"+n],10)};
      stroke: ${r(e["cScale"+n],10)};

    }
    .section-${n-1} text {
     fill: ${e["cScaleLabel"+n]};
    }
    .node-icon-${n-1} {
      font-size: 40px;
      color: ${e["cScaleLabel"+n]};
    }
    .section-edge-${n-1}{
      stroke: ${e["cScale"+n]};
    }
    .edge-depth-${n-1}{
      stroke-width: ${a};
    }
    .section-${n-1} line {
      stroke: ${e["cScaleInv"+n]} ;
      stroke-width: 3;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.background};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }

  .kanban-ticket-link {
    fill: ${e.background};
    stroke: ${e.nodeBorder};
    text-decoration: underline;
  }
    `}return t},"genSections"),aoe=x(e=>`
  .edge {
    stroke-width: 3;
  }
  ${noe(e)}
  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {
    fill: ${e.git0};
  }
  .section-root text {
    fill: ${e.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .cluster-label, .label {
    color: ${e.textColor};
    fill: ${e.textColor};
    }
  .kanban-label {
    dy: 1em;
    alignment-baseline: middle;
    text-anchor: middle;
    dominant-baseline: middle;
    text-align: center;
  }
    ${Zc()}
`,"getStyles"),ioe=aoe,ooe={db:toe,renderer:roe,parser:Uie,styles:ioe}});function qw(e,t){let r;if(t===void 0)for(let n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(r<a||r===void 0&&a>=a)&&(r=a)}return r}var i4t=B(()=>{});function n2(e,t){let r;if(t===void 0)for(let n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(r>a||r===void 0&&a>=a)&&(r=a)}return r}var o4t=B(()=>{});function a2(e,t){let r=0;if(t===void 0)for(let n of e)(n=+n)&&(r+=n);else{let n=-1;for(let a of e)(a=+t(a,++n,e))&&(r+=a)}return r}var s4t=B(()=>{});var Fq=B(()=>{i4t();o4t();s4t()});function soe(e){return e.target.depth}function Pq(e){return e.depth}function Bq(e,t){return t-1-e.height}function Uw(e,t){return e.sourceLinks.length?e.depth:t-1}function $q(e){return e.targetLinks.length?e.depth:e.sourceLinks.length?n2(e.sourceLinks,soe)-1:0}var zq=B(()=>{Fq()});function i2(e){return function(){return e}}var l4t=B(()=>{});function u4t(e,t){return lA(e.source,t.source)||e.index-t.index}function c4t(e,t){return lA(e.target,t.target)||e.index-t.index}function lA(e,t){return e.y0-t.y0}function qq(e){return e.value}function loe(e){return e.index}function uoe(e){return e.nodes}function coe(e){return e.links}function f4t(e,t){let r=e.get(t);if(!r)throw new Error("missing: "+t);return r}function h4t({nodes:e}){for(let t of e){let r=t.y0,n=r;for(let a of t.sourceLinks)a.y0=r+a.width/2,r+=a.width;for(let a of t.targetLinks)a.y1=n+a.width/2,n+=a.width}}function uA(){let e=0,t=0,r=1,n=1,a=24,i=8,o,s=loe,l=Uw,u,f,h=uoe,d=coe,p=6;function m(){let R={nodes:h.apply(null,arguments),links:d.apply(null,arguments)};return g(R),v(R),y(R),b(R),w(R),h4t(R),R}m.update=function(R){return h4t(R),R},m.nodeId=function(R){return arguments.length?(s=typeof R=="function"?R:i2(R),m):s},m.nodeAlign=function(R){return arguments.length?(l=typeof R=="function"?R:i2(R),m):l},m.nodeSort=function(R){return arguments.length?(u=R,m):u},m.nodeWidth=function(R){return arguments.length?(a=+R,m):a},m.nodePadding=function(R){return arguments.length?(i=o=+R,m):i},m.nodes=function(R){return arguments.length?(h=typeof R=="function"?R:i2(R),m):h},m.links=function(R){return arguments.length?(d=typeof R=="function"?R:i2(R),m):d},m.linkSort=function(R){return arguments.length?(f=R,m):f},m.size=function(R){return arguments.length?(e=t=0,r=+R[0],n=+R[1],m):[r-e,n-t]},m.extent=function(R){return arguments.length?(e=+R[0][0],r=+R[1][0],t=+R[0][1],n=+R[1][1],m):[[e,t],[r,n]]},m.iterations=function(R){return arguments.length?(p=+R,m):p};function g({nodes:R,links:I}){for(let[F,P]of R.entries())P.index=F,P.sourceLinks=[],P.targetLinks=[];let O=new Map(R.map((F,P)=>[s(F,P,R),F]));for(let[F,P]of I.entries()){P.index=F;let{source:q,target:$}=P;typeof q!="object"&&(q=P.source=f4t(O,q)),typeof $!="object"&&($=P.target=f4t(O,$)),q.sourceLinks.push(P),$.targetLinks.push(P)}if(f!=null)for(let{sourceLinks:F,targetLinks:P}of R)F.sort(f),P.sort(f)}function v({nodes:R}){for(let I of R)I.value=I.fixedValue===void 0?Math.max(a2(I.sourceLinks,qq),a2(I.targetLinks,qq)):I.fixedValue}function y({nodes:R}){let I=R.length,O=new Set(R),F=new Set,P=0;for(;O.size;){for(let q of O){q.depth=P;for(let{target:$}of q.sourceLinks)F.add($)}if(++P>I)throw new Error("circular link");O=F,F=new Set}}function b({nodes:R}){let I=R.length,O=new Set(R),F=new Set,P=0;for(;O.size;){for(let q of O){q.height=P;for(let{source:$}of q.targetLinks)F.add($)}if(++P>I)throw new Error("circular link");O=F,F=new Set}}function _({nodes:R}){let I=qw(R,P=>P.depth)+1,O=(r-e-a)/(I-1),F=new Array(I);for(let P of R){let q=Math.max(0,Math.min(I-1,Math.floor(l.call(null,P,I))));P.layer=q,P.x0=e+q*O,P.x1=P.x0+a,F[q]?F[q].push(P):F[q]=[P]}if(u)for(let P of F)P.sort(u);return F}function k(R){let I=n2(R,O=>(n-t-(O.length-1)*o)/a2(O,qq));for(let O of R){let F=t;for(let P of O){P.y0=F,P.y1=F+P.value*I,F=P.y1+o;for(let q of P.sourceLinks)q.width=q.value*I}F=(n-F+o)/(O.length+1);for(let P=0;P<O.length;++P){let q=O[P];q.y0+=F*(P+1),q.y1+=F*(P+1)}E(O)}}function w(R){let I=_(R);o=Math.min(i,(n-t)/(qw(I,O=>O.length)-1)),k(I);for(let O=0;O<p;++O){let F=Math.pow(.99,O),P=Math.max(1-F,(O+1)/p);S(I,F,P),T(I,F,P)}}function T(R,I,O){for(let F=1,P=R.length;F<P;++F){let q=R[F];for(let $ of q){let W=0,X=0;for(let{source:Y,value:ot}of $.targetLinks){let Z=ot*($.layer-Y.layer);W+=A(Y,$)*Z,X+=Z}if(!(X>0))continue;let tt=(W/X-$.y0)*I;$.y0+=tt,$.y1+=tt,L($)}u===void 0&&q.sort(lA),C(q,O)}}function S(R,I,O){for(let F=R.length,P=F-2;P>=0;--P){let q=R[P];for(let $ of q){let W=0,X=0;for(let{target:Y,value:ot}of $.sourceLinks){let Z=ot*(Y.layer-$.layer);W+=D($,Y)*Z,X+=Z}if(!(X>0))continue;let tt=(W/X-$.y0)*I;$.y0+=tt,$.y1+=tt,L($)}u===void 0&&q.sort(lA),C(q,O)}}function C(R,I){let O=R.length>>1,F=R[O];N(R,F.y0-o,O-1,I),M(R,F.y1+o,O+1,I),N(R,n,R.length-1,I),M(R,t,0,I)}function M(R,I,O,F){for(;O<R.length;++O){let P=R[O],q=(I-P.y0)*F;q>1e-6&&(P.y0+=q,P.y1+=q),I=P.y1+o}}function N(R,I,O,F){for(;O>=0;--O){let P=R[O],q=(P.y1-I)*F;q>1e-6&&(P.y0-=q,P.y1-=q),I=P.y0-o}}function L({sourceLinks:R,targetLinks:I}){if(f===void 0){for(let{source:{sourceLinks:O}}of I)O.sort(c4t);for(let{target:{targetLinks:O}}of R)O.sort(u4t)}}function E(R){if(f===void 0)for(let{sourceLinks:I,targetLinks:O}of R)I.sort(c4t),O.sort(u4t)}function A(R,I){let O=R.y0-(R.sourceLinks.length-1)*o/2;for(let{target:F,width:P}of R.sourceLinks){if(F===I)break;O+=P+o}for(let{source:F,width:P}of I.targetLinks){if(F===R)break;O-=P}return O}function D(R,I){let O=I.y0-(I.targetLinks.length-1)*o/2;for(let{source:F,width:P}of I.targetLinks){if(F===R)break;O+=P+o}for(let{target:F,width:P}of R.sourceLinks){if(F===I)break;O-=P}return O}return m}var d4t=B(()=>{Fq();zq();l4t()});function Gq(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function p4t(){return new Gq}var Uq,Wq,Um,foe,Vq,m4t=B(()=>{Uq=Math.PI,Wq=2*Uq,Um=1e-6,foe=Wq-Um;Gq.prototype=p4t.prototype={constructor:Gq,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,r,n){this._+="Q"+ +e+","+ +t+","+(this._x1=+r)+","+(this._y1=+n)},bezierCurveTo:function(e,t,r,n,a,i){this._+="C"+ +e+","+ +t+","+ +r+","+ +n+","+(this._x1=+a)+","+(this._y1=+i)},arcTo:function(e,t,r,n,a){e=+e,t=+t,r=+r,n=+n,a=+a;var i=this._x1,o=this._y1,s=r-e,l=n-t,u=i-e,f=o-t,h=u*u+f*f;if(a<0)throw new Error("negative radius: "+a);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(h>Um)if(!(Math.abs(f*s-l*u)>Um)||!a)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var d=r-i,p=n-o,m=s*s+l*l,g=d*d+p*p,v=Math.sqrt(m),y=Math.sqrt(h),b=a*Math.tan((Uq-Math.acos((m+h-g)/(2*v*y)))/2),_=b/y,k=b/v;Math.abs(_-1)>Um&&(this._+="L"+(e+_*u)+","+(t+_*f)),this._+="A"+a+","+a+",0,0,"+ +(f*d>u*p)+","+(this._x1=e+k*s)+","+(this._y1=t+k*l)}},arc:function(e,t,r,n,a,i){e=+e,t=+t,r=+r,i=!!i;var o=r*Math.cos(n),s=r*Math.sin(n),l=e+o,u=t+s,f=1^i,h=i?n-a:a-n;if(r<0)throw new Error("negative radius: "+r);this._x1===null?this._+="M"+l+","+u:(Math.abs(this._x1-l)>Um||Math.abs(this._y1-u)>Um)&&(this._+="L"+l+","+u),r&&(h<0&&(h=h%Wq+Wq),h>foe?this._+="A"+r+","+r+",0,1,"+f+","+(e-o)+","+(t-s)+"A"+r+","+r+",0,1,"+f+","+(this._x1=l)+","+(this._y1=u):h>Um&&(this._+="A"+r+","+r+",0,"+ +(h>=Uq)+","+f+","+(this._x1=e+r*Math.cos(a))+","+(this._y1=t+r*Math.sin(a))))},rect:function(e,t,r,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +r+"v"+ +n+"h"+-r+"Z"},toString:function(){return this._}};Vq=p4t});var g4t=B(()=>{m4t()});function Hq(e){return function(){return e}}var v4t=B(()=>{});function y4t(e){return e[0]}function x4t(e){return e[1]}var b4t=B(()=>{});var _4t,w4t=B(()=>{_4t=Array.prototype.slice});function hoe(e){return e.source}function doe(e){return e.target}function poe(e){var t=hoe,r=doe,n=y4t,a=x4t,i=null;function o(){var s,l=_4t.call(arguments),u=t.apply(this,l),f=r.apply(this,l);if(i||(i=s=Vq()),e(i,+n.apply(this,(l[0]=u,l)),+a.apply(this,l),+n.apply(this,(l[0]=f,l)),+a.apply(this,l)),s)return i=null,s+""||null}return o.source=function(s){return arguments.length?(t=s,o):t},o.target=function(s){return arguments.length?(r=s,o):r},o.x=function(s){return arguments.length?(n=typeof s=="function"?s:Hq(+s),o):n},o.y=function(s){return arguments.length?(a=typeof s=="function"?s:Hq(+s),o):a},o.context=function(s){return arguments.length?(i=s??null,o):i},o}function moe(e,t,r,n,a){e.moveTo(t,r),e.bezierCurveTo(t=(t+n)/2,r,t,a,n,a)}function Yq(){return poe(moe)}var T4t=B(()=>{g4t();w4t();v4t();b4t()});var E4t=B(()=>{T4t()});function goe(e){return[e.source.x1,e.y0]}function voe(e){return[e.target.x0,e.y1]}function Xq(){return Yq().source(goe).target(voe)}var k4t=B(()=>{E4t()});var C4t=B(()=>{d4t();zq();k4t()});var D4t={};pr(D4t,{diagram:()=>Noe});var jq,cA,hA,dA,fA,yoe,xoe,boe,_oe,woe,Toe,Eoe,koe,Coe,S4t,Soe,Doe,Aoe,Loe,Moe,Ioe,Roe,Noe,A4t=B(()=>{Tr();nr();hr();C4t();jq=function(){var e=x(function(s,l,u,f){for(u=u||{},f=s.length;f--;u[s[f]]=l);return u},"o"),t=[1,9],r=[1,10],n=[1,5,10,12],a={trace:x(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SANKEY:4,NEWLINE:5,csv:6,opt_eof:7,record:8,csv_tail:9,EOF:10,"field[source]":11,COMMA:12,"field[target]":13,"field[value]":14,field:15,escaped:16,non_escaped:17,DQUOTE:18,ESCAPED_TEXT:19,NON_ESCAPED_TEXT:20,$accept:0,$end:1},terminals_:{2:"error",4:"SANKEY",5:"NEWLINE",10:"EOF",11:"field[source]",12:"COMMA",13:"field[target]",14:"field[value]",18:"DQUOTE",19:"ESCAPED_TEXT",20:"NON_ESCAPED_TEXT"},productions_:[0,[3,4],[6,2],[9,2],[9,0],[7,1],[7,0],[8,5],[15,1],[15,1],[16,3],[17,1]],performAction:x(function(l,u,f,h,d,p,m){var g=p.length-1;switch(d){case 7:let v=h.findOrCreateNode(p[g-4].trim().replaceAll('""','"')),y=h.findOrCreateNode(p[g-2].trim().replaceAll('""','"')),b=parseFloat(p[g].trim());h.addLink(v,y,b);break;case 8:case 9:case 11:this.$=p[g];break;case 10:this.$=p[g-1];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},{5:[1,3]},{6:4,8:5,15:6,16:7,17:8,18:t,20:r},{1:[2,6],7:11,10:[1,12]},e(r,[2,4],{9:13,5:[1,14]}),{12:[1,15]},e(n,[2,8]),e(n,[2,9]),{19:[1,16]},e(n,[2,11]),{1:[2,1]},{1:[2,5]},e(r,[2,2]),{6:17,8:5,15:6,16:7,17:8,18:t,20:r},{15:18,16:7,17:8,18:t,20:r},{18:[1,19]},e(r,[2,3]),{12:[1,20]},e(n,[2,10]),{15:21,16:7,17:8,18:t,20:r},e([1,5,10],[2,7])],defaultActions:{11:[2,1],12:[2,5]},parseError:x(function(l,u){if(u.recoverable)this.trace(l);else{var f=new Error(l);throw f.hash=u,f}},"parseError"),parse:x(function(l){var u=this,f=[0],h=[],d=[null],p=[],m=this.table,g="",v=0,y=0,b=0,_=2,k=1,w=p.slice.call(arguments,1),T=Object.create(this.lexer),S={yy:{}};for(var C in this.yy)Object.prototype.hasOwnProperty.call(this.yy,C)&&(S.yy[C]=this.yy[C]);T.setInput(l,S.yy),S.yy.lexer=T,S.yy.parser=this,typeof T.yylloc>"u"&&(T.yylloc={});var M=T.yylloc;p.push(M);var N=T.options&&T.options.ranges;typeof S.yy.parseError=="function"?this.parseError=S.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function L(Y){f.length=f.length-2*Y,d.length=d.length-Y,p.length=p.length-Y}x(L,"popStack");function E(){var Y;return Y=h.pop()||T.lex()||k,typeof Y!="number"&&(Y instanceof Array&&(h=Y,Y=h.pop()),Y=u.symbols_[Y]||Y),Y}x(E,"lex");for(var A,D,R,I,O,F,P={},q,$,W,X;;){if(R=f[f.length-1],this.defaultActions[R]?I=this.defaultActions[R]:((A===null||typeof A>"u")&&(A=E()),I=m[R]&&m[R][A]),typeof I>"u"||!I.length||!I[0]){var tt="";X=[];for(q in m[R])this.terminals_[q]&&q>_&&X.push("'"+this.terminals_[q]+"'");T.showPosition?tt="Parse error on line "+(v+1)+`:
`+T.showPosition()+`
Expecting `+X.join(", ")+", got '"+(this.terminals_[A]||A)+"'":tt="Parse error on line "+(v+1)+": Unexpected "+(A==k?"end of input":"'"+(this.terminals_[A]||A)+"'"),this.parseError(tt,{text:T.match,token:this.terminals_[A]||A,line:T.yylineno,loc:M,expected:X})}if(I[0]instanceof Array&&I.length>1)throw new Error("Parse Error: multiple actions possible at state: "+R+", token: "+A);switch(I[0]){case 1:f.push(A),d.push(T.yytext),p.push(T.yylloc),f.push(I[1]),A=null,D?(A=D,D=null):(y=T.yyleng,g=T.yytext,v=T.yylineno,M=T.yylloc,b>0&&b--);break;case 2:if($=this.productions_[I[1]][1],P.$=d[d.length-$],P._$={first_line:p[p.length-($||1)].first_line,last_line:p[p.length-1].last_line,first_column:p[p.length-($||1)].first_column,last_column:p[p.length-1].last_column},N&&(P._$.range=[p[p.length-($||1)].range[0],p[p.length-1].range[1]]),F=this.performAction.apply(P,[g,y,v,S.yy,I[1],d,p].concat(w)),typeof F<"u")return F;$&&(f=f.slice(0,-1*$*2),d=d.slice(0,-1*$),p=p.slice(0,-1*$)),f.push(this.productions_[I[1]][0]),d.push(P.$),p.push(P._$),W=m[f[f.length-2]][f[f.length-1]],f.push(W);break;case 3:return!0}}return!0},"parse")},i=function(){var s={EOF:1,parseError:x(function(u,f){if(this.yy.parser)this.yy.parser.parseError(u,f);else throw new Error(u)},"parseError"),setInput:x(function(l,u){return this.yy=u||this.yy||{},this._input=l,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:x(function(){var l=this._input[0];this.yytext+=l,this.yyleng++,this.offset++,this.match+=l,this.matched+=l;var u=l.match(/(?:\r\n?|\n).*/g);return u?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),l},"input"),unput:x(function(l){var u=l.length,f=l.split(/(?:\r\n?|\n)/g);this._input=l+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-u),this.offset-=u;var h=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),f.length-1&&(this.yylineno-=f.length-1);var d=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:f?(f.length===h.length?this.yylloc.first_column:0)+h[h.length-f.length].length-f[0].length:this.yylloc.first_column-u},this.options.ranges&&(this.yylloc.range=[d[0],d[0]+this.yyleng-u]),this.yyleng=this.yytext.length,this},"unput"),more:x(function(){return this._more=!0,this},"more"),reject:x(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:x(function(l){this.unput(this.match.slice(l))},"less"),pastInput:x(function(){var l=this.matched.substr(0,this.matched.length-this.match.length);return(l.length>20?"...":"")+l.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:x(function(){var l=this.match;return l.length<20&&(l+=this._input.substr(0,20-l.length)),(l.substr(0,20)+(l.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:x(function(){var l=this.pastInput(),u=new Array(l.length+1).join("-");return l+this.upcomingInput()+`
`+u+"^"},"showPosition"),test_match:x(function(l,u){var f,h,d;if(this.options.backtrack_lexer&&(d={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(d.yylloc.range=this.yylloc.range.slice(0))),h=l[0].match(/(?:\r\n?|\n).*/g),h&&(this.yylineno+=h.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:h?h[h.length-1].length-h[h.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+l[0].length},this.yytext+=l[0],this.match+=l[0],this.matches=l,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(l[0].length),this.matched+=l[0],f=this.performAction.call(this,this.yy,this,u,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),f)return f;if(this._backtrack){for(var p in d)this[p]=d[p];return!1}return!1},"test_match"),next:x(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var l,u,f,h;this._more||(this.yytext="",this.match="");for(var d=this._currentRules(),p=0;p<d.length;p++)if(f=this._input.match(this.rules[d[p]]),f&&(!u||f[0].length>u[0].length)){if(u=f,h=p,this.options.backtrack_lexer){if(l=this.test_match(f,d[p]),l!==!1)return l;if(this._backtrack){u=!1;continue}else return!1}else if(!this.options.flex)break}return u?(l=this.test_match(u,d[h]),l!==!1?l:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:x(function(){var u=this.next();return u||this.lex()},"lex"),begin:x(function(u){this.conditionStack.push(u)},"begin"),popState:x(function(){var u=this.conditionStack.length-1;return u>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:x(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:x(function(u){return u=this.conditionStack.length-1-Math.abs(u||0),u>=0?this.conditionStack[u]:"INITIAL"},"topState"),pushState:x(function(u){this.begin(u)},"pushState"),stateStackSize:x(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:x(function(u,f,h,d){var p=d;switch(h){case 0:return this.pushState("csv"),4;break;case 1:return this.pushState("csv"),4;break;case 2:return 10;case 3:return 5;case 4:return 12;case 5:return this.pushState("escaped_text"),18;break;case 6:return 20;case 7:return this.popState("escaped_text"),18;break;case 8:return 19}},"anonymous"),rules:[/^(?:sankey-beta\b)/i,/^(?:sankey\b)/i,/^(?:$)/i,/^(?:((\u000D\u000A)|(\u000A)))/i,/^(?:(\u002C))/i,/^(?:(\u0022))/i,/^(?:([\u0020-\u0021\u0023-\u002B\u002D-\u007E])*)/i,/^(?:(\u0022)(?!(\u0022)))/i,/^(?:(([\u0020-\u0021\u0023-\u002B\u002D-\u007E])|(\u002C)|(\u000D)|(\u000A)|(\u0022)(\u0022))*)/i],conditions:{csv:{rules:[2,3,4,5,6,7,8],inclusive:!1},escaped_text:{rules:[7,8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8],inclusive:!0}}};return s}();a.lexer=i;function o(){this.yy={}}return x(o,"Parser"),o.prototype=a,a.Parser=o,new o}();jq.parser=jq;cA=jq,hA=[],dA=[],fA=new Map,yoe=x(()=>{hA=[],dA=[],fA=new Map,wr()},"clear"),xoe=class{constructor(e,t,r=0){this.source=e,this.target=t,this.value=r}static{x(this,"SankeyLink")}},boe=x((e,t,r)=>{hA.push(new xoe(e,t,r))},"addLink"),_oe=class{constructor(e){this.ID=e}static{x(this,"SankeyNode")}},woe=x(e=>{e=Jt.sanitizeText(e,bt());let t=fA.get(e);return t===void 0&&(t=new _oe(e),fA.set(e,t),dA.push(t)),t},"findOrCreateNode"),Toe=x(()=>dA,"getNodes"),Eoe=x(()=>hA,"getLinks"),koe=x(()=>({nodes:dA.map(e=>({id:e.ID})),links:hA.map(e=>({source:e.source.ID,target:e.target.ID,value:e.value}))}),"getGraph"),Coe={nodesMap:fA,getConfig:x(()=>bt().sankey,"getConfig"),getNodes:Toe,getLinks:Eoe,getGraph:koe,addLink:boe,findOrCreateNode:woe,getAccTitle:Fr,setAccTitle:Mr,getAccDescription:Br,setAccDescription:Pr,getDiagramTitle:$r,setDiagramTitle:Yr,clear:yoe},S4t=class Kq{static{x(this,"Uid")}static{this.count=0}static next(t){return new Kq(t+ ++Kq.count)}constructor(t){this.id=t,this.href=`#${t}`}toString(){return"url("+this.href+")"}},Soe={left:Pq,right:Bq,center:$q,justify:Uw},Doe=x(function(e,t,r,n){let{securityLevel:a,sankey:i}=bt(),o=A5.sankey,s;a==="sandbox"&&(s=Vt("#i"+t));let l=a==="sandbox"?Vt(s.nodes()[0].contentDocument.body):Vt("body"),u=a==="sandbox"?l.select(`[id="${t}"]`):Vt(`[id="${t}"]`),f=i?.width??o.width,h=i?.height??o.width,d=i?.useMaxWidth??o.useMaxWidth,p=i?.nodeAlignment??o.nodeAlignment,m=i?.prefix??o.prefix,g=i?.suffix??o.suffix,v=i?.showValues??o.showValues,y=n.db.getGraph(),b=Soe[p];uA().nodeId(N=>N.id).nodeWidth(10).nodePadding(10+(v?15:0)).nodeAlign(b).extent([[0,0],[f,h]])(y);let w=el(OM);u.append("g").attr("class","nodes").selectAll(".node").data(y.nodes).join("g").attr("class","node").attr("id",N=>(N.uid=S4t.next("node-")).id).attr("transform",function(N){return"translate("+N.x0+","+N.y0+")"}).attr("x",N=>N.x0).attr("y",N=>N.y0).append("rect").attr("height",N=>N.y1-N.y0).attr("width",N=>N.x1-N.x0).attr("fill",N=>w(N.id));let T=x(({id:N,value:L})=>v?`${N}
${m}${Math.round(L*100)/100}${g}`:N,"getText");u.append("g").attr("class","node-labels").attr("font-size",14).selectAll("text").data(y.nodes).join("text").attr("x",N=>N.x0<f/2?N.x1+6:N.x0-6).attr("y",N=>(N.y1+N.y0)/2).attr("dy",`${v?"0":"0.35"}em`).attr("text-anchor",N=>N.x0<f/2?"start":"end").text(T);let S=u.append("g").attr("class","links").attr("fill","none").attr("stroke-opacity",.5).selectAll(".link").data(y.links).join("g").attr("class","link").style("mix-blend-mode","multiply"),C=i?.linkColor??"gradient";if(C==="gradient"){let N=S.append("linearGradient").attr("id",L=>(L.uid=S4t.next("linearGradient-")).id).attr("gradientUnits","userSpaceOnUse").attr("x1",L=>L.source.x1).attr("x2",L=>L.target.x0);N.append("stop").attr("offset","0%").attr("stop-color",L=>w(L.source.id)),N.append("stop").attr("offset","100%").attr("stop-color",L=>w(L.target.id))}let M;switch(C){case"gradient":M=x(N=>N.uid,"coloring");break;case"source":M=x(N=>w(N.source.id),"coloring");break;case"target":M=x(N=>w(N.target.id),"coloring");break;default:M=C}S.append("path").attr("d",Xq()).attr("stroke",M).attr("stroke-width",N=>Math.max(1,N.width)),Nf(void 0,u,0,d)},"draw"),Aoe={draw:Doe},Loe=x(e=>e.replaceAll(/^[^\S\n\r]+|[^\S\n\r]+$/g,"").replaceAll(/([\n\r])+/g,`
`).trim(),"prepareTextForParsing"),Moe=x(e=>`.label {
      font-family: ${e.fontFamily};
    }`,"getStyles"),Ioe=Moe,Roe=cA.parse.bind(cA);cA.parse=e=>Roe(Loe(e));Noe={styles:Ioe,parser:cA,db:Coe,renderer:Aoe}});var I4t={};pr(I4t,{diagram:()=>Goe});var Ooe,L4t,Foe,Poe,Boe,M4t,$oe,zoe,qoe,Uoe,Woe,Goe,R4t=B(()=>{wc();im();On();Tr();nr();pp();Ooe=lr.packet,L4t=class{constructor(){this.packet=[],this.setAccTitle=Mr,this.getAccTitle=Fr,this.setDiagramTitle=Yr,this.getDiagramTitle=$r,this.getAccDescription=Br,this.setAccDescription=Pr}static{x(this,"PacketDB")}getConfig(){let e=Na({...Ooe,...ur().packet});return e.showBits&&(e.paddingY+=10),e}getPacket(){return this.packet}pushWord(e){e.length>0&&this.packet.push(e)}clear(){wr(),this.packet=[]}},Foe=1e4,Poe=x((e,t)=>{hl(e,t);let r=-1,n=[],a=1,{bitsPerRow:i}=t.getConfig();for(let{start:o,end:s,bits:l,label:u}of e.blocks){if(o!==void 0&&s!==void 0&&s<o)throw new Error(`Packet block ${o} - ${s} is invalid. End must be greater than start.`);if(o??=r+1,o!==r+1)throw new Error(`Packet block ${o} - ${s??o} is not contiguous. It should start from ${r+1}.`);if(l===0)throw new Error(`Packet block ${o} is invalid. Cannot have a zero bit field.`);for(s??=o+(l??1)-1,l??=s-o+1,r=s,J.debug(`Packet block ${o} - ${r} with label ${u}`);n.length<=i+1&&t.getPacket().length<Foe;){let[f,h]=Boe({start:o,end:s,bits:l,label:u},a,i);if(n.push(f),f.end+1===a*i&&(t.pushWord(n),n=[],a++),!h)break;({start:o,end:s,bits:l,label:u}=h)}}t.pushWord(n)},"populate"),Boe=x((e,t,r)=>{if(e.start===void 0)throw new Error("start should have been set during first phase");if(e.end===void 0)throw new Error("end should have been set during first phase");if(e.start>e.end)throw new Error(`Block start ${e.start} is greater than block end ${e.end}.`);if(e.end+1<=t*r)return[e,void 0];let n=t*r-1,a=t*r;return[{start:e.start,end:n,label:e.label,bits:n-e.start},{start:a,end:e.end,label:e.label,bits:e.end-a}]},"getNextFittingBlock"),M4t={parser:{yy:void 0},parse:x(async e=>{let t=await gs("packet",e),r=M4t.parser?.yy;if(!(r instanceof L4t))throw new Error("parser.parser?.yy was not a PacketDB. This is due to a bug within Mermaid, please report this issue at https://github.com/mermaid-js/mermaid/issues.");J.debug(t),Poe(t,r)},"parse")},$oe=x((e,t,r,n)=>{let a=n.db,i=a.getConfig(),{rowHeight:o,paddingY:s,bitWidth:l,bitsPerRow:u}=i,f=a.getPacket(),h=a.getDiagramTitle(),d=o+s,p=d*(f.length+1)-(h?0:o),m=l*u+2,g=Li(t);g.attr("viewbox",`0 0 ${m} ${p}`),Nn(g,p,m,i.useMaxWidth);for(let[v,y]of f.entries())zoe(g,y,v,i);g.append("text").text(h).attr("x",m/2).attr("y",p-d/2).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","packetTitle")},"draw"),zoe=x((e,t,r,{rowHeight:n,paddingX:a,paddingY:i,bitWidth:o,bitsPerRow:s,showBits:l})=>{let u=e.append("g"),f=r*(n+i)+i;for(let h of t){let d=h.start%s*o+1,p=(h.end-h.start+1)*o-a;if(u.append("rect").attr("x",d).attr("y",f).attr("width",p).attr("height",n).attr("class","packetBlock"),u.append("text").attr("x",d+p/2).attr("y",f+n/2).attr("class","packetLabel").attr("dominant-baseline","middle").attr("text-anchor","middle").text(h.label),!l)continue;let m=h.end===h.start,g=f-2;u.append("text").attr("x",d+(m?p/2:0)).attr("y",g).attr("class","packetByte start").attr("dominant-baseline","auto").attr("text-anchor",m?"middle":"start").text(h.start),m||u.append("text").attr("x",d+p).attr("y",g).attr("class","packetByte end").attr("dominant-baseline","auto").attr("text-anchor","end").text(h.end)}},"drawWord"),qoe={draw:$oe},Uoe={byteFontSize:"10px",startByteColor:"black",endByteColor:"black",labelColor:"black",labelFontSize:"12px",titleColor:"black",titleFontSize:"14px",blockStrokeColor:"black",blockStrokeWidth:"1",blockFillColor:"#efefef"},Woe=x(({packet:e}={})=>{let t=Na(Uoe,e);return`
	.packetByte {
		font-size: ${t.byteFontSize};
	}
	.packetByte.start {
		fill: ${t.startByteColor};
	}
	.packetByte.end {
		fill: ${t.endByteColor};
	}
	.packetLabel {
		fill: ${t.labelColor};
		font-size: ${t.labelFontSize};
	}
	.packetTitle {
		fill: ${t.titleColor};
		font-size: ${t.titleFontSize};
	}
	.packetBlock {
		stroke: ${t.blockStrokeColor};
		stroke-width: ${t.blockStrokeWidth};
		fill: ${t.blockFillColor};
	}
	`},"styles"),Goe={parser:M4t,get db(){return new L4t},renderer:qoe,styles:Woe}});var z4t={};pr(z4t,{diagram:()=>cse});function F4t(e,t,r,n,a,i,o){let s=t.length,l=Math.min(o.width,o.height)/2;r.forEach((u,f)=>{if(u.entries.length!==s)return;let h=u.entries.map((d,p)=>{let m=2*Math.PI*p/s-Math.PI/2,g=P4t(d,n,a,l),v=g*Math.cos(m),y=g*Math.sin(m);return{x:v,y}});i==="circle"?e.append("path").attr("d",B4t(h,o.curveTension)).attr("class",`radarCurve-${f}`):i==="polygon"&&e.append("polygon").attr("points",h.map(d=>`${d.x},${d.y}`).join(" ")).attr("class",`radarCurve-${f}`)})}function P4t(e,t,r,n){let a=Math.min(Math.max(e,t),r);return n*(a-t)/(r-t)}function B4t(e,t){let r=e.length,n=`M${e[0].x},${e[0].y}`;for(let a=0;a<r;a++){let i=e[(a-1+r)%r],o=e[a],s=e[(a+1)%r],l=e[(a+2)%r],u={x:o.x+(s.x-i.x)*t,y:o.y+(s.y-i.y)*t},f={x:s.x-(l.x-o.x)*t,y:s.y-(l.y-o.y)*t};n+=` C${u.x},${u.y} ${f.x},${f.y} ${s.x},${s.y}`}return`${n} Z`}function $4t(e,t,r,n){if(!r)return;let a=(n.width/2+n.marginRight)*3/4,i=-(n.height/2+n.marginTop)*3/4,o=20;t.forEach((s,l)=>{let u=e.append("g").attr("transform",`translate(${a}, ${i+l*o})`);u.append("rect").attr("width",12).attr("height",12).attr("class",`radarLegendBox-${l}`),u.append("text").attr("x",16).attr("y",0).attr("class","radarLegendText").text(s.label)})}var o2,N4t,Wm,Voe,Hoe,O4t,Yoe,Xoe,joe,Koe,Qoe,Zoe,Joe,Ww,tse,ese,rse,nse,ase,ise,ose,sse,lse,use,cse,q4t=B(()=>{wc();im();On();Tr();nr();pp();o2={showLegend:!0,ticks:5,max:null,min:0,graticule:"circle"},N4t={axes:[],curves:[],options:o2},Wm=structuredClone(N4t),Voe=lr.radar,Hoe=x(()=>Na({...Voe,...ur().radar}),"getConfig"),O4t=x(()=>Wm.axes,"getAxes"),Yoe=x(()=>Wm.curves,"getCurves"),Xoe=x(()=>Wm.options,"getOptions"),joe=x(e=>{Wm.axes=e.map(t=>({name:t.name,label:t.label??t.name}))},"setAxes"),Koe=x(e=>{Wm.curves=e.map(t=>({name:t.name,label:t.label??t.name,entries:Qoe(t.entries)}))},"setCurves"),Qoe=x(e=>{if(e[0].axis==null)return e.map(r=>r.value);let t=O4t();if(t.length===0)throw new Error("Axes must be populated before curves for reference entries");return t.map(r=>{let n=e.find(a=>a.axis?.$refText===r.name);if(n===void 0)throw new Error("Missing entry for axis "+r.label);return n.value})},"computeCurveEntries"),Zoe=x(e=>{let t=e.reduce((r,n)=>(r[n.name]=n,r),{});Wm.options={showLegend:t.showLegend?.value??o2.showLegend,ticks:t.ticks?.value??o2.ticks,max:t.max?.value??o2.max,min:t.min?.value??o2.min,graticule:t.graticule?.value??o2.graticule}},"setOptions"),Joe=x(()=>{wr(),Wm=structuredClone(N4t)},"clear"),Ww={getAxes:O4t,getCurves:Yoe,getOptions:Xoe,setAxes:joe,setCurves:Koe,setOptions:Zoe,getConfig:Hoe,clear:Joe,setAccTitle:Mr,getAccTitle:Fr,setDiagramTitle:Yr,getDiagramTitle:$r,getAccDescription:Br,setAccDescription:Pr},tse=x(e=>{hl(e,Ww);let{axes:t,curves:r,options:n}=e;Ww.setAxes(t),Ww.setCurves(r),Ww.setOptions(n)},"populate"),ese={parse:x(async e=>{let t=await gs("radar",e);J.debug(t),tse(t)},"parse")},rse=x((e,t,r,n)=>{let a=n.db,i=a.getAxes(),o=a.getCurves(),s=a.getOptions(),l=a.getConfig(),u=a.getDiagramTitle(),f=Li(t),h=nse(f,l),d=s.max??Math.max(...o.map(g=>Math.max(...g.entries))),p=s.min,m=Math.min(l.width,l.height)/2;ase(h,i,m,s.ticks,s.graticule),ise(h,i,m,l),F4t(h,i,o,p,d,s.graticule,l),$4t(h,o,s.showLegend,l),h.append("text").attr("class","radarTitle").text(u).attr("x",0).attr("y",-l.height/2-l.marginTop)},"draw"),nse=x((e,t)=>{let r=t.width+t.marginLeft+t.marginRight,n=t.height+t.marginTop+t.marginBottom,a={x:t.marginLeft+t.width/2,y:t.marginTop+t.height/2};return e.attr("viewbox",`0 0 ${r} ${n}`).attr("width",r).attr("height",n),e.append("g").attr("transform",`translate(${a.x}, ${a.y})`)},"drawFrame"),ase=x((e,t,r,n,a)=>{if(a==="circle")for(let i=0;i<n;i++){let o=r*(i+1)/n;e.append("circle").attr("r",o).attr("class","radarGraticule")}else if(a==="polygon"){let i=t.length;for(let o=0;o<n;o++){let s=r*(o+1)/n,l=t.map((u,f)=>{let h=2*f*Math.PI/i-Math.PI/2,d=s*Math.cos(h),p=s*Math.sin(h);return`${d},${p}`}).join(" ");e.append("polygon").attr("points",l).attr("class","radarGraticule")}}},"drawGraticule"),ise=x((e,t,r,n)=>{let a=t.length;for(let i=0;i<a;i++){let o=t[i].label,s=2*i*Math.PI/a-Math.PI/2;e.append("line").attr("x1",0).attr("y1",0).attr("x2",r*n.axisScaleFactor*Math.cos(s)).attr("y2",r*n.axisScaleFactor*Math.sin(s)).attr("class","radarAxisLine"),e.append("text").text(o).attr("x",r*n.axisLabelFactor*Math.cos(s)).attr("y",r*n.axisLabelFactor*Math.sin(s)).attr("class","radarAxisLabel")}},"drawAxes");x(F4t,"drawCurves");x(P4t,"relativeRadius");x(B4t,"closedRoundCurve");x($4t,"drawLegend");ose={draw:rse},sse=x((e,t)=>{let r="";for(let n=0;n<e.THEME_COLOR_LIMIT;n++){let a=e[`cScale${n}`];r+=`
		.radarCurve-${n} {
			color: ${a};
			fill: ${a};
			fill-opacity: ${t.curveOpacity};
			stroke: ${a};
			stroke-width: ${t.curveStrokeWidth};
		}
		.radarLegendBox-${n} {
			fill: ${a};
			fill-opacity: ${t.curveOpacity};
			stroke: ${a};
		}
		`}return r},"genIndexStyles"),lse=x(e=>{let t=Hp(),r=ur(),n=Na(t,r.themeVariables),a=Na(n.radar,e);return{themeVariables:n,radarOptions:a}},"buildRadarStyleOptions"),use=x(({radar:e}={})=>{let{themeVariables:t,radarOptions:r}=lse(e);return`
	.radarTitle {
		font-size: ${t.fontSize};
		color: ${t.titleColor};
		dominant-baseline: hanging;
		text-anchor: middle;
	}
	.radarAxisLine {
		stroke: ${r.axisColor};
		stroke-width: ${r.axisStrokeWidth};
	}
	.radarAxisLabel {
		dominant-baseline: middle;
		text-anchor: middle;
		font-size: ${r.axisLabelFontSize}px;
		color: ${r.axisColor};
	}
	.radarGraticule {
		fill: ${r.graticuleColor};
		fill-opacity: ${r.graticuleOpacity};
		stroke: ${r.graticuleColor};
		stroke-width: ${r.graticuleStrokeWidth};
	}
	.radarLegendText {
		text-anchor: start;
		font-size: ${r.legendFontSize}px;
		dominant-baseline: hanging;
	}
	${sse(t,r)}
	`},"styles"),cse={parser:ese,db:Ww,renderer:ose,styles:use}});var vwt={};pr(vwt,{diagram:()=>Ole});function J4t(e){switch(J.debug("typeStr2Type",e),e){case"[]":return"square";case"()":return J.debug("we have a round"),"round";case"(())":return"circle";case">]":return"rect_left_inv_arrow";case"{}":return"diamond";case"{{}}":return"hexagon";case"([])":return"stadium";case"[[]]":return"subroutine";case"[()]":return"cylinder";case"((()))":return"doublecircle";case"[//]":return"lean_right";case"[\\\\]":return"lean_left";case"[/\\]":return"trapezoid";case"[\\/]":return"inv_trapezoid";case"<[]>":return"block_arrow";default:return"na"}}function twt(e){switch(J.debug("typeStr2Type",e),e){case"==":return"thick";default:return"normal"}}function ewt(e){switch(e.replace(/^[\s-]+|[\s-]+$/g,"")){case"x":return"arrow_cross";case"o":return"arrow_circle";case">":return"arrow_point";default:return""}}function rwt(e,t){if(e===0||!Number.isInteger(e))throw new Error("Columns must be an integer !== 0.");if(t<0||!Number.isInteger(t))throw new Error("Position must be a non-negative integer."+t);if(e<0)return{px:t,py:0};if(e===1)return{px:0,py:t};let r=t%e,n=Math.floor(t/e);return{px:r,py:n}}function vA(e,t,r=0,n=0){J.debug("setBlockSizes abc95 (start)",e.id,e?.size?.x,"block width =",e?.size,"siblingWidth",r),e?.size?.width||(e.size={width:r,height:n,x:0,y:0});let a=0,i=0;if(e.children?.length>0){for(let p of e.children)vA(p,t);let o=Vse(e);a=o.width,i=o.height,J.debug("setBlockSizes abc95 maxWidth of",e.id,":s children is ",a,i);for(let p of e.children)p.size&&(J.debug(`abc95 Setting size of children of ${e.id} id=${p.id} ${a} ${i} ${JSON.stringify(p.size)}`),p.size.width=a*(p.widthInColumns??1)+ti*((p.widthInColumns??1)-1),p.size.height=i,p.size.x=0,p.size.y=0,J.debug(`abc95 updating size of ${e.id} children child:${p.id} maxWidth:${a} maxHeight:${i}`));for(let p of e.children)vA(p,t,a,i);let s=e.columns??-1,l=0;for(let p of e.children)l+=p.widthInColumns??1;let u=e.children.length;s>0&&s<l&&(u=s);let f=Math.ceil(l/u),h=u*(a+ti)+ti,d=f*(i+ti)+ti;if(h<r){J.debug(`Detected to small sibling: abc95 ${e.id} siblingWidth ${r} siblingHeight ${n} width ${h}`),h=r,d=n;let p=(r-u*ti-ti)/u,m=(n-f*ti-ti)/f;J.debug("Size indata abc88",e.id,"childWidth",p,"maxWidth",a),J.debug("Size indata abc88",e.id,"childHeight",m,"maxHeight",i),J.debug("Size indata abc88 xSize",u,"padding",ti);for(let g of e.children)g.size&&(g.size.width=p,g.size.height=m,g.size.x=0,g.size.y=0)}if(J.debug(`abc95 (finale calc) ${e.id} xSize ${u} ySize ${f} columns ${s}${e.children.length} width=${Math.max(h,e.size?.width||0)}`),h<(e?.size?.width||0)){h=e?.size?.width||0;let p=s>0?Math.min(e.children.length,s):e.children.length;if(p>0){let m=(h-p*ti-ti)/p;J.debug("abc95 (growing to fit) width",e.id,h,e.size?.width,m);for(let g of e.children)g.size&&(g.size.width=m)}}e.size={width:h,height:d,x:0,y:0}}J.debug("setBlockSizes abc94 (done)",e.id,e?.size?.x,e?.size?.width,e?.size?.y,e?.size?.height)}function aU(e,t){J.debug(`abc85 layout blocks (=>layoutBlocks) ${e.id} x: ${e?.size?.x} y: ${e?.size?.y} width: ${e?.size?.width}`);let r=e.columns??-1;if(J.debug("layoutBlocks columns abc95",e.id,"=>",r,e),e.children&&e.children.length>0){let n=e?.children[0]?.size?.width??0,a=e.children.length*n+(e.children.length-1)*ti;J.debug("widthOfChildren 88",a,"posX");let i=0;J.debug("abc91 block?.size?.x",e.id,e?.size?.x);let o=e?.size?.x?e?.size?.x+(-e?.size?.width/2||0):-ti,s=0;for(let l of e.children){let u=e;if(!l.size)continue;let{width:f,height:h}=l.size,{px:d,py:p}=rwt(r,i);if(p!=s&&(s=p,o=e?.size?.x?e?.size?.x+(-e?.size?.width/2||0):-ti,J.debug("New row in layout for block",e.id," and child ",l.id,s)),J.debug(`abc89 layout blocks (child) id: ${l.id} Pos: ${i} (px, py) ${d},${p} (${u?.size?.x},${u?.size?.y}) parent: ${u.id} width: ${f}${ti}`),u.size){let g=f/2;l.size.x=o+ti+g,J.debug(`abc91 layout blocks (calc) px, pyid:${l.id} startingPos=X${o} new startingPosX${l.size.x} ${g} padding=${ti} width=${f} halfWidth=${g} => x:${l.size.x} y:${l.size.y} ${l.widthInColumns} (width * (child?.w || 1)) / 2 ${f*(l?.widthInColumns??1)/2}`),o=l.size.x+g,l.size.y=u.size.y-u.size.height/2+p*(h+ti)+h/2+ti,J.debug(`abc88 layout blocks (calc) px, pyid:${l.id}startingPosX${o}${ti}${g}=>x:${l.size.x}y:${l.size.y}${l.widthInColumns}(width * (child?.w || 1)) / 2${f*(l?.widthInColumns??1)/2}`)}l.children&&aU(l,t);let m=l?.widthInColumns??1;r>0&&(m=Math.min(m,r-i%r)),i+=m,J.debug("abc88 columnsPos",l,i)}}J.debug(`layout blocks (<==layoutBlocks) ${e.id} x: ${e?.size?.x} y: ${e?.size?.y} width: ${e?.size?.width}`)}function iU(e,{minX:t,minY:r,maxX:n,maxY:a}={minX:0,minY:0,maxX:0,maxY:0}){if(e.size&&e.id!=="root"){let{x:i,y:o,width:s,height:l}=e.size;i-s/2<t&&(t=i-s/2),o-l/2<r&&(r=o-l/2),i+s/2>n&&(n=i+s/2),o+l/2>a&&(a=o+l/2)}if(e.children)for(let i of e.children)({minX:t,minY:r,maxX:n,maxY:a}=iU(i,{minX:t,minY:r,maxX:n,maxY:a}));return{minX:t,minY:r,maxX:n,maxY:a}}function nwt(e){let t=e.getBlock("root");if(!t)return;vA(t,e,0,0),aU(t,e),J.debug("getBlocks",JSON.stringify(t,null,2));let{minX:r,minY:n,maxX:a,maxY:i}=iU(t),o=i-n,s=a-r;return{x:r,y:n,width:s,height:o}}function Jq(e,t){t&&e.attr("style",t)}function awt(e,t){let r=Vt(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),n=r.append("xhtml:div"),a=e.label,i=e.isNode?"nodeLabel":"edgeLabel",o=n.append("span");return o.html(sr(a,t)),Jq(o,e.labelStyle),o.attr("class",i),Jq(n,e.labelStyle),n.style("display","inline-block"),n.style("white-space","nowrap"),n.attr("xmlns","http://www.w3.org/1999/xhtml"),r.node()}function Gw(e,t){bt().flowchart.htmlLabels&&e&&(e.style.width=t.length*9+"px",e.style.height="12px")}function iwt(e,t){return e.intersect(t)}function owt(e,t,r,n){var a=e.x,i=e.y,o=a-n.x,s=i-n.y,l=Math.sqrt(t*t*s*s+r*r*o*o),u=Math.abs(t*r*o/l);n.x<a&&(u=-u);var f=Math.abs(t*r*s/l);return n.y<i&&(f=-f),{x:a+u,y:i+f}}function lwt(e,t,r){return swt(e,t,t,r)}function uwt(e,t,r,n){var a,i,o,s,l,u,f,h,d,p,m,g,v,y,b;if(a=t.y-e.y,o=e.x-t.x,l=t.x*e.y-e.x*t.y,d=a*r.x+o*r.y+l,p=a*n.x+o*n.y+l,!(d!==0&&p!==0&&eU(d,p))&&(i=n.y-r.y,s=r.x-n.x,u=n.x*r.y-r.x*n.y,f=i*e.x+s*e.y+u,h=i*t.x+s*t.y+u,!(f!==0&&h!==0&&eU(f,h))&&(m=a*s-i*o,m!==0)))return g=Math.abs(m/2),v=o*u-s*l,y=v<0?(v-g)/m:(v+g)/m,v=i*l-a*u,b=v<0?(v-g)/m:(v+g)/m,{x:y,y:b}}function eU(e,t){return e*t>0}function cwt(e,t,r){var n=e.x,a=e.y,i=[],o=Number.POSITIVE_INFINITY,s=Number.POSITIVE_INFINITY;typeof t.forEach=="function"?t.forEach(function(m){o=Math.min(o,m.x),s=Math.min(s,m.y)}):(o=Math.min(o,t.x),s=Math.min(s,t.y));for(var l=n-e.width/2-o,u=a-e.height/2-s,f=0;f<t.length;f++){var h=t[f],d=t[f<t.length-1?f+1:0],p=ale(e,r,{x:l+h.x,y:u+h.y},{x:l+d.x,y:u+d.y});p&&i.push(p)}return i.length?(i.length>1&&i.sort(function(m,g){var v=m.x-r.x,y=m.y-r.y,b=Math.sqrt(v*v+y*y),_=g.x-r.x,k=g.y-r.y,w=Math.sqrt(_*_+k*k);return b<w?-1:b===w?0:1}),i[0]):e}function Qu(e,t,r,n){return e.insert("polygon",":first-child").attr("points",n.map(function(a){return a.x+","+a.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+r/2+")")}function yA(e,t,r,n){let a=[],i=x(s=>{a.push(s,0)},"addBorder"),o=x(s=>{a.push(0,s)},"skipBorder");t.includes("t")?(J.debug("add top border"),i(r)):o(r),t.includes("r")?(J.debug("add right border"),i(n)):o(n),t.includes("b")?(J.debug("add bottom border"),i(r)):o(r),t.includes("l")?(J.debug("add left border"),i(n)):o(n),e.attr("stroke-dasharray",a.join(" "))}function oU(e,t,r=!1){let n=e,a="default";(n?.classes?.length||0)>0&&(a=(n?.classes??[]).join(" ")),a=a+" flowchart-label";let i=0,o="",s;switch(n.type){case"round":i=5,o="rect";break;case"composite":i=0,o="composite",s=0;break;case"square":o="rect";break;case"diamond":o="question";break;case"hexagon":o="hexagon";break;case"block_arrow":o="block_arrow";break;case"odd":o="rect_left_inv_arrow";break;case"lean_right":o="lean_right";break;case"lean_left":o="lean_left";break;case"trapezoid":o="trapezoid";break;case"inv_trapezoid":o="inv_trapezoid";break;case"rect_left_inv_arrow":o="rect_left_inv_arrow";break;case"circle":o="circle";break;case"ellipse":o="ellipse";break;case"stadium":o="stadium";break;case"subroutine":o="subroutine";break;case"cylinder":o="cylinder";break;case"group":o="rect";break;case"doublecircle":o="doublecircle";break;default:o="rect"}let l=_E(n?.styles??[]),u=n.label,f=n.size??{width:0,height:0,x:0,y:0};return{labelStyle:l.labelStyle,shape:o,labelText:u,rx:i,ry:i,class:a,style:l.style,id:n.id,directions:n.directions,width:f.width,height:f.height,x:f.x,y:f.y,positioned:r,intersect:void 0,type:n.type,padding:s??ur()?.block?.padding??0}}async function hwt(e,t,r){let n=oU(t,r,!1);if(n.type==="group")return;let a=ur(),i=await fwt(e,n,{config:a}),o=i.node().getBBox(),s=r.getBlock(n.id);s.size={width:o.width,height:o.height,x:0,y:0,node:i},r.setBlock(s),i.remove()}async function dwt(e,t,r){let n=oU(t,r,!0);if(r.getBlock(n.id).type!=="space"){let i=ur();await fwt(e,n,{config:i}),t.intersect=n?.intersect,Mle(n)}}async function xA(e,t,r,n){for(let a of t)await n(e,a,r),a.children&&await xA(e,a.children,r,n)}async function pwt(e,t,r){await xA(e,t,r,hwt)}async function mwt(e,t,r){await xA(e,t,r,dwt)}async function gwt(e,t,r,n,a){let i=new Sn({multigraph:!0,compound:!0});i.setGraph({rankdir:"TB",nodesep:10,ranksep:10,marginx:8,marginy:8});for(let o of r)o.size&&i.setNode(o.id,{width:o.size.width,height:o.size.height,intersect:o.intersect});for(let o of t)if(o.start&&o.end){let s=n.getBlock(o.start),l=n.getBlock(o.end);if(s?.size&&l?.size){let u=s.size,f=l.size,h=[{x:u.x,y:u.y},{x:u.x+(f.x-u.x)/2,y:u.y+(f.y-u.y)/2},{x:f.x,y:f.y}];Jse(e,{v:o.start,w:o.end,name:o.id},{...o,arrowTypeEnd:o.arrowTypeEnd,arrowTypeStart:o.arrowTypeStart,points:h,classes:"edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1"},void 0,"block",i,a),o.label&&(await jse(e,{...o,label:o.label,labelStyle:"stroke: #333; stroke-width: 1.5px;fill:none;",arrowTypeEnd:o.arrowTypeEnd,arrowTypeStart:o.arrowTypeStart,points:h,classes:"edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1"}),Kse({...o,x:h[1].x,y:h[1].y},{originalPath:h}))}}}var Qq,fse,Ku,rU,Zq,U4t,W4t,hse,Q4t,dse,gA,pse,mse,gse,vse,Z4t,nU,Vw,yse,G4t,xse,bse,_se,wse,Tse,Ese,kse,Cse,Sse,Dse,Ase,Lse,pA,Mse,Ise,Rse,Nse,Ose,Fse,Pse,Bse,$se,zse,qse,Use,Wse,Gse,ti,Vse,Hse,cu,Yse,Xse,V4t,tU,Po,jse,Kse,Qse,Zse,H4t,Jse,tle,ele,rle,swt,nle,ale,ile,ole,sle,Ca,$i,Va,lle,ule,Y4t,bl,X4t,cle,fle,hle,dle,ple,mle,gle,vle,yle,xle,ble,_le,wle,Tle,Ele,kle,Cle,Sle,Dle,j4t,Ale,Lle,K4t,mA,fwt,Mle,Ile,Rle,Nle,Ole,ywt=B(()=>{ap();al();Zo();to();On();Tr();nr();fR();Zs();hr();Ul();hr();hr();hr();hr();Qq=function(){var e=x(function(_,k,w,T){for(w=w||{},T=_.length;T--;w[_[T]]=k);return w},"o"),t=[1,15],r=[1,7],n=[1,13],a=[1,14],i=[1,19],o=[1,16],s=[1,17],l=[1,18],u=[8,30],f=[8,10,21,28,29,30,31,39,43,46],h=[1,23],d=[1,24],p=[8,10,15,16,21,28,29,30,31,39,43,46],m=[8,10,15,16,21,27,28,29,30,31,39,43,46],g=[1,49],v={trace:x(function(){},"trace"),yy:{},symbols_:{error:2,spaceLines:3,SPACELINE:4,NL:5,separator:6,SPACE:7,EOF:8,start:9,BLOCK_DIAGRAM_KEY:10,document:11,stop:12,statement:13,link:14,LINK:15,START_LINK:16,LINK_LABEL:17,STR:18,nodeStatement:19,columnsStatement:20,SPACE_BLOCK:21,blockStatement:22,classDefStatement:23,cssClassStatement:24,styleStatement:25,node:26,SIZE:27,COLUMNS:28,"id-block":29,end:30,NODE_ID:31,nodeShapeNLabel:32,dirList:33,DIR:34,NODE_DSTART:35,NODE_DEND:36,BLOCK_ARROW_START:37,BLOCK_ARROW_END:38,classDef:39,CLASSDEF_ID:40,CLASSDEF_STYLEOPTS:41,DEFAULT:42,class:43,CLASSENTITY_IDS:44,STYLECLASS:45,style:46,STYLE_ENTITY_IDS:47,STYLE_DEFINITION_DATA:48,$accept:0,$end:1},terminals_:{2:"error",4:"SPACELINE",5:"NL",7:"SPACE",8:"EOF",10:"BLOCK_DIAGRAM_KEY",15:"LINK",16:"START_LINK",17:"LINK_LABEL",18:"STR",21:"SPACE_BLOCK",27:"SIZE",28:"COLUMNS",29:"id-block",30:"end",31:"NODE_ID",34:"DIR",35:"NODE_DSTART",36:"NODE_DEND",37:"BLOCK_ARROW_START",38:"BLOCK_ARROW_END",39:"classDef",40:"CLASSDEF_ID",41:"CLASSDEF_STYLEOPTS",42:"DEFAULT",43:"class",44:"CLASSENTITY_IDS",45:"STYLECLASS",46:"style",47:"STYLE_ENTITY_IDS",48:"STYLE_DEFINITION_DATA"},productions_:[0,[3,1],[3,2],[3,2],[6,1],[6,1],[6,1],[9,3],[12,1],[12,1],[12,2],[12,2],[11,1],[11,2],[14,1],[14,4],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[19,3],[19,2],[19,1],[20,1],[22,4],[22,3],[26,1],[26,2],[33,1],[33,2],[32,3],[32,4],[23,3],[23,3],[24,3],[25,3]],performAction:x(function(k,w,T,S,C,M,N){var L=M.length-1;switch(C){case 4:S.getLogger().debug("Rule: separator (NL) ");break;case 5:S.getLogger().debug("Rule: separator (Space) ");break;case 6:S.getLogger().debug("Rule: separator (EOF) ");break;case 7:S.getLogger().debug("Rule: hierarchy: ",M[L-1]),S.setHierarchy(M[L-1]);break;case 8:S.getLogger().debug("Stop NL ");break;case 9:S.getLogger().debug("Stop EOF ");break;case 10:S.getLogger().debug("Stop NL2 ");break;case 11:S.getLogger().debug("Stop EOF2 ");break;case 12:S.getLogger().debug("Rule: statement: ",M[L]),typeof M[L].length=="number"?this.$=M[L]:this.$=[M[L]];break;case 13:S.getLogger().debug("Rule: statement #2: ",M[L-1]),this.$=[M[L-1]].concat(M[L]);break;case 14:S.getLogger().debug("Rule: link: ",M[L],k),this.$={edgeTypeStr:M[L],label:""};break;case 15:S.getLogger().debug("Rule: LABEL link: ",M[L-3],M[L-1],M[L]),this.$={edgeTypeStr:M[L],label:M[L-1]};break;case 18:let E=parseInt(M[L]),A=S.generateId();this.$={id:A,type:"space",label:"",width:E,children:[]};break;case 23:S.getLogger().debug("Rule: (nodeStatement link node) ",M[L-2],M[L-1],M[L]," typestr: ",M[L-1].edgeTypeStr);let D=S.edgeStrToEdgeData(M[L-1].edgeTypeStr);this.$=[{id:M[L-2].id,label:M[L-2].label,type:M[L-2].type,directions:M[L-2].directions},{id:M[L-2].id+"-"+M[L].id,start:M[L-2].id,end:M[L].id,label:M[L-1].label,type:"edge",directions:M[L].directions,arrowTypeEnd:D,arrowTypeStart:"arrow_open"},{id:M[L].id,label:M[L].label,type:S.typeStr2Type(M[L].typeStr),directions:M[L].directions}];break;case 24:S.getLogger().debug("Rule: nodeStatement (abc88 node size) ",M[L-1],M[L]),this.$={id:M[L-1].id,label:M[L-1].label,type:S.typeStr2Type(M[L-1].typeStr),directions:M[L-1].directions,widthInColumns:parseInt(M[L],10)};break;case 25:S.getLogger().debug("Rule: nodeStatement (node) ",M[L]),this.$={id:M[L].id,label:M[L].label,type:S.typeStr2Type(M[L].typeStr),directions:M[L].directions,widthInColumns:1};break;case 26:S.getLogger().debug("APA123",this?this:"na"),S.getLogger().debug("COLUMNS: ",M[L]),this.$={type:"column-setting",columns:M[L]==="auto"?-1:parseInt(M[L])};break;case 27:S.getLogger().debug("Rule: id-block statement : ",M[L-2],M[L-1]);let R=S.generateId();this.$={...M[L-2],type:"composite",children:M[L-1]};break;case 28:S.getLogger().debug("Rule: blockStatement : ",M[L-2],M[L-1],M[L]);let I=S.generateId();this.$={id:I,type:"composite",label:"",children:M[L-1]};break;case 29:S.getLogger().debug("Rule: node (NODE_ID separator): ",M[L]),this.$={id:M[L]};break;case 30:S.getLogger().debug("Rule: node (NODE_ID nodeShapeNLabel separator): ",M[L-1],M[L]),this.$={id:M[L-1],label:M[L].label,typeStr:M[L].typeStr,directions:M[L].directions};break;case 31:S.getLogger().debug("Rule: dirList: ",M[L]),this.$=[M[L]];break;case 32:S.getLogger().debug("Rule: dirList: ",M[L-1],M[L]),this.$=[M[L-1]].concat(M[L]);break;case 33:S.getLogger().debug("Rule: nodeShapeNLabel: ",M[L-2],M[L-1],M[L]),this.$={typeStr:M[L-2]+M[L],label:M[L-1]};break;case 34:S.getLogger().debug("Rule: BLOCK_ARROW nodeShapeNLabel: ",M[L-3],M[L-2]," #3:",M[L-1],M[L]),this.$={typeStr:M[L-3]+M[L],label:M[L-2],directions:M[L-1]};break;case 35:case 36:this.$={type:"classDef",id:M[L-1].trim(),css:M[L].trim()};break;case 37:this.$={type:"applyClass",id:M[L-1].trim(),styleClass:M[L].trim()};break;case 38:this.$={type:"applyStyles",id:M[L-1].trim(),stylesStr:M[L].trim()};break}},"anonymous"),table:[{9:1,10:[1,2]},{1:[3]},{10:t,11:3,13:4,19:5,20:6,21:r,22:8,23:9,24:10,25:11,26:12,28:n,29:a,31:i,39:o,43:s,46:l},{8:[1,20]},e(u,[2,12],{13:4,19:5,20:6,22:8,23:9,24:10,25:11,26:12,11:21,10:t,21:r,28:n,29:a,31:i,39:o,43:s,46:l}),e(f,[2,16],{14:22,15:h,16:d}),e(f,[2,17]),e(f,[2,18]),e(f,[2,19]),e(f,[2,20]),e(f,[2,21]),e(f,[2,22]),e(p,[2,25],{27:[1,25]}),e(f,[2,26]),{19:26,26:12,31:i},{10:t,11:27,13:4,19:5,20:6,21:r,22:8,23:9,24:10,25:11,26:12,28:n,29:a,31:i,39:o,43:s,46:l},{40:[1,28],42:[1,29]},{44:[1,30]},{47:[1,31]},e(m,[2,29],{32:32,35:[1,33],37:[1,34]}),{1:[2,7]},e(u,[2,13]),{26:35,31:i},{31:[2,14]},{17:[1,36]},e(p,[2,24]),{10:t,11:37,13:4,14:22,15:h,16:d,19:5,20:6,21:r,22:8,23:9,24:10,25:11,26:12,28:n,29:a,31:i,39:o,43:s,46:l},{30:[1,38]},{41:[1,39]},{41:[1,40]},{45:[1,41]},{48:[1,42]},e(m,[2,30]),{18:[1,43]},{18:[1,44]},e(p,[2,23]),{18:[1,45]},{30:[1,46]},e(f,[2,28]),e(f,[2,35]),e(f,[2,36]),e(f,[2,37]),e(f,[2,38]),{36:[1,47]},{33:48,34:g},{15:[1,50]},e(f,[2,27]),e(m,[2,33]),{38:[1,51]},{33:52,34:g,38:[2,31]},{31:[2,15]},e(m,[2,34]),{38:[2,32]}],defaultActions:{20:[2,7],23:[2,14],50:[2,15],52:[2,32]},parseError:x(function(k,w){if(w.recoverable)this.trace(k);else{var T=new Error(k);throw T.hash=w,T}},"parseError"),parse:x(function(k){var w=this,T=[0],S=[],C=[null],M=[],N=this.table,L="",E=0,A=0,D=0,R=2,I=1,O=M.slice.call(arguments,1),F=Object.create(this.lexer),P={yy:{}};for(var q in this.yy)Object.prototype.hasOwnProperty.call(this.yy,q)&&(P.yy[q]=this.yy[q]);F.setInput(k,P.yy),P.yy.lexer=F,P.yy.parser=this,typeof F.yylloc>"u"&&(F.yylloc={});var $=F.yylloc;M.push($);var W=F.options&&F.options.ranges;typeof P.yy.parseError=="function"?this.parseError=P.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function X(_t){T.length=T.length-2*_t,C.length=C.length-_t,M.length=M.length-_t}x(X,"popStack");function tt(){var _t;return _t=S.pop()||F.lex()||I,typeof _t!="number"&&(_t instanceof Array&&(S=_t,_t=S.pop()),_t=w.symbols_[_t]||_t),_t}x(tt,"lex");for(var Y,ot,Z,ct,rt,et,Q={},j,it,K,dt;;){if(Z=T[T.length-1],this.defaultActions[Z]?ct=this.defaultActions[Z]:((Y===null||typeof Y>"u")&&(Y=tt()),ct=N[Z]&&N[Z][Y]),typeof ct>"u"||!ct.length||!ct[0]){var nt="";dt=[];for(j in N[Z])this.terminals_[j]&&j>R&&dt.push("'"+this.terminals_[j]+"'");F.showPosition?nt="Parse error on line "+(E+1)+`:
`+F.showPosition()+`
Expecting `+dt.join(", ")+", got '"+(this.terminals_[Y]||Y)+"'":nt="Parse error on line "+(E+1)+": Unexpected "+(Y==I?"end of input":"'"+(this.terminals_[Y]||Y)+"'"),this.parseError(nt,{text:F.match,token:this.terminals_[Y]||Y,line:F.yylineno,loc:$,expected:dt})}if(ct[0]instanceof Array&&ct.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Z+", token: "+Y);switch(ct[0]){case 1:T.push(Y),C.push(F.yytext),M.push(F.yylloc),T.push(ct[1]),Y=null,ot?(Y=ot,ot=null):(A=F.yyleng,L=F.yytext,E=F.yylineno,$=F.yylloc,D>0&&D--);break;case 2:if(it=this.productions_[ct[1]][1],Q.$=C[C.length-it],Q._$={first_line:M[M.length-(it||1)].first_line,last_line:M[M.length-1].last_line,first_column:M[M.length-(it||1)].first_column,last_column:M[M.length-1].last_column},W&&(Q._$.range=[M[M.length-(it||1)].range[0],M[M.length-1].range[1]]),et=this.performAction.apply(Q,[L,A,E,P.yy,ct[1],C,M].concat(O)),typeof et<"u")return et;it&&(T=T.slice(0,-1*it*2),C=C.slice(0,-1*it),M=M.slice(0,-1*it)),T.push(this.productions_[ct[1]][0]),C.push(Q.$),M.push(Q._$),K=N[T[T.length-2]][T[T.length-1]],T.push(K);break;case 3:return!0}}return!0},"parse")},y=function(){var _={EOF:1,parseError:x(function(w,T){if(this.yy.parser)this.yy.parser.parseError(w,T);else throw new Error(w)},"parseError"),setInput:x(function(k,w){return this.yy=w||this.yy||{},this._input=k,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:x(function(){var k=this._input[0];this.yytext+=k,this.yyleng++,this.offset++,this.match+=k,this.matched+=k;var w=k.match(/(?:\r\n?|\n).*/g);return w?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),k},"input"),unput:x(function(k){var w=k.length,T=k.split(/(?:\r\n?|\n)/g);this._input=k+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-w),this.offset-=w;var S=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),T.length-1&&(this.yylineno-=T.length-1);var C=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:T?(T.length===S.length?this.yylloc.first_column:0)+S[S.length-T.length].length-T[0].length:this.yylloc.first_column-w},this.options.ranges&&(this.yylloc.range=[C[0],C[0]+this.yyleng-w]),this.yyleng=this.yytext.length,this},"unput"),more:x(function(){return this._more=!0,this},"more"),reject:x(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:x(function(k){this.unput(this.match.slice(k))},"less"),pastInput:x(function(){var k=this.matched.substr(0,this.matched.length-this.match.length);return(k.length>20?"...":"")+k.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:x(function(){var k=this.match;return k.length<20&&(k+=this._input.substr(0,20-k.length)),(k.substr(0,20)+(k.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:x(function(){var k=this.pastInput(),w=new Array(k.length+1).join("-");return k+this.upcomingInput()+`
`+w+"^"},"showPosition"),test_match:x(function(k,w){var T,S,C;if(this.options.backtrack_lexer&&(C={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(C.yylloc.range=this.yylloc.range.slice(0))),S=k[0].match(/(?:\r\n?|\n).*/g),S&&(this.yylineno+=S.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:S?S[S.length-1].length-S[S.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+k[0].length},this.yytext+=k[0],this.match+=k[0],this.matches=k,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(k[0].length),this.matched+=k[0],T=this.performAction.call(this,this.yy,this,w,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),T)return T;if(this._backtrack){for(var M in C)this[M]=C[M];return!1}return!1},"test_match"),next:x(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var k,w,T,S;this._more||(this.yytext="",this.match="");for(var C=this._currentRules(),M=0;M<C.length;M++)if(T=this._input.match(this.rules[C[M]]),T&&(!w||T[0].length>w[0].length)){if(w=T,S=M,this.options.backtrack_lexer){if(k=this.test_match(T,C[M]),k!==!1)return k;if(this._backtrack){w=!1;continue}else return!1}else if(!this.options.flex)break}return w?(k=this.test_match(w,C[S]),k!==!1?k:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:x(function(){var w=this.next();return w||this.lex()},"lex"),begin:x(function(w){this.conditionStack.push(w)},"begin"),popState:x(function(){var w=this.conditionStack.length-1;return w>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:x(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:x(function(w){return w=this.conditionStack.length-1-Math.abs(w||0),w>=0?this.conditionStack[w]:"INITIAL"},"topState"),pushState:x(function(w){this.begin(w)},"pushState"),stateStackSize:x(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:x(function(w,T,S,C){var M=C;switch(S){case 0:return w.getLogger().debug("Found block-beta"),10;break;case 1:return w.getLogger().debug("Found id-block"),29;break;case 2:return w.getLogger().debug("Found block"),10;break;case 3:w.getLogger().debug(".",T.yytext);break;case 4:w.getLogger().debug("_",T.yytext);break;case 5:return 5;case 6:return T.yytext=-1,28;break;case 7:return T.yytext=T.yytext.replace(/columns\s+/,""),w.getLogger().debug("COLUMNS (LEX)",T.yytext),28;break;case 8:this.pushState("md_string");break;case 9:return"MD_STR";case 10:this.popState();break;case 11:this.pushState("string");break;case 12:w.getLogger().debug("LEX: POPPING STR:",T.yytext),this.popState();break;case 13:return w.getLogger().debug("LEX: STR end:",T.yytext),"STR";break;case 14:return T.yytext=T.yytext.replace(/space\:/,""),w.getLogger().debug("SPACE NUM (LEX)",T.yytext),21;break;case 15:return T.yytext="1",w.getLogger().debug("COLUMNS (LEX)",T.yytext),21;break;case 16:return 42;case 17:return"LINKSTYLE";case 18:return"INTERPOLATE";case 19:return this.pushState("CLASSDEF"),39;break;case 20:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";break;case 21:return this.popState(),this.pushState("CLASSDEFID"),40;break;case 22:return this.popState(),41;break;case 23:return this.pushState("CLASS"),43;break;case 24:return this.popState(),this.pushState("CLASS_STYLE"),44;break;case 25:return this.popState(),45;break;case 26:return this.pushState("STYLE_STMNT"),46;break;case 27:return this.popState(),this.pushState("STYLE_DEFINITION"),47;break;case 28:return this.popState(),48;break;case 29:return this.pushState("acc_title"),"acc_title";break;case 30:return this.popState(),"acc_title_value";break;case 31:return this.pushState("acc_descr"),"acc_descr";break;case 32:return this.popState(),"acc_descr_value";break;case 33:this.pushState("acc_descr_multiline");break;case 34:this.popState();break;case 35:return"acc_descr_multiline_value";case 36:return 30;case 37:return this.popState(),w.getLogger().debug("Lex: (("),"NODE_DEND";break;case 38:return this.popState(),w.getLogger().debug("Lex: (("),"NODE_DEND";break;case 39:return this.popState(),w.getLogger().debug("Lex: ))"),"NODE_DEND";break;case 40:return this.popState(),w.getLogger().debug("Lex: (("),"NODE_DEND";break;case 41:return this.popState(),w.getLogger().debug("Lex: (("),"NODE_DEND";break;case 42:return this.popState(),w.getLogger().debug("Lex: (-"),"NODE_DEND";break;case 43:return this.popState(),w.getLogger().debug("Lex: -)"),"NODE_DEND";break;case 44:return this.popState(),w.getLogger().debug("Lex: (("),"NODE_DEND";break;case 45:return this.popState(),w.getLogger().debug("Lex: ]]"),"NODE_DEND";break;case 46:return this.popState(),w.getLogger().debug("Lex: ("),"NODE_DEND";break;case 47:return this.popState(),w.getLogger().debug("Lex: ])"),"NODE_DEND";break;case 48:return this.popState(),w.getLogger().debug("Lex: /]"),"NODE_DEND";break;case 49:return this.popState(),w.getLogger().debug("Lex: /]"),"NODE_DEND";break;case 50:return this.popState(),w.getLogger().debug("Lex: )]"),"NODE_DEND";break;case 51:return this.popState(),w.getLogger().debug("Lex: )"),"NODE_DEND";break;case 52:return this.popState(),w.getLogger().debug("Lex: ]>"),"NODE_DEND";break;case 53:return this.popState(),w.getLogger().debug("Lex: ]"),"NODE_DEND";break;case 54:return w.getLogger().debug("Lexa: -)"),this.pushState("NODE"),35;break;case 55:return w.getLogger().debug("Lexa: (-"),this.pushState("NODE"),35;break;case 56:return w.getLogger().debug("Lexa: ))"),this.pushState("NODE"),35;break;case 57:return w.getLogger().debug("Lexa: )"),this.pushState("NODE"),35;break;case 58:return w.getLogger().debug("Lex: ((("),this.pushState("NODE"),35;break;case 59:return w.getLogger().debug("Lexa: )"),this.pushState("NODE"),35;break;case 60:return w.getLogger().debug("Lexa: )"),this.pushState("NODE"),35;break;case 61:return w.getLogger().debug("Lexa: )"),this.pushState("NODE"),35;break;case 62:return w.getLogger().debug("Lexc: >"),this.pushState("NODE"),35;break;case 63:return w.getLogger().debug("Lexa: (["),this.pushState("NODE"),35;break;case 64:return w.getLogger().debug("Lexa: )"),this.pushState("NODE"),35;break;case 65:return this.pushState("NODE"),35;break;case 66:return this.pushState("NODE"),35;break;case 67:return this.pushState("NODE"),35;break;case 68:return this.pushState("NODE"),35;break;case 69:return this.pushState("NODE"),35;break;case 70:return this.pushState("NODE"),35;break;case 71:return this.pushState("NODE"),35;break;case 72:return w.getLogger().debug("Lexa: ["),this.pushState("NODE"),35;break;case 73:return this.pushState("BLOCK_ARROW"),w.getLogger().debug("LEX ARR START"),37;break;case 74:return w.getLogger().debug("Lex: NODE_ID",T.yytext),31;break;case 75:return w.getLogger().debug("Lex: EOF",T.yytext),8;break;case 76:this.pushState("md_string");break;case 77:this.pushState("md_string");break;case 78:return"NODE_DESCR";case 79:this.popState();break;case 80:w.getLogger().debug("Lex: Starting string"),this.pushState("string");break;case 81:w.getLogger().debug("LEX ARR: Starting string"),this.pushState("string");break;case 82:return w.getLogger().debug("LEX: NODE_DESCR:",T.yytext),"NODE_DESCR";break;case 83:w.getLogger().debug("LEX POPPING"),this.popState();break;case 84:w.getLogger().debug("Lex: =>BAE"),this.pushState("ARROW_DIR");break;case 85:return T.yytext=T.yytext.replace(/^,\s*/,""),w.getLogger().debug("Lex (right): dir:",T.yytext),"DIR";break;case 86:return T.yytext=T.yytext.replace(/^,\s*/,""),w.getLogger().debug("Lex (left):",T.yytext),"DIR";break;case 87:return T.yytext=T.yytext.replace(/^,\s*/,""),w.getLogger().debug("Lex (x):",T.yytext),"DIR";break;case 88:return T.yytext=T.yytext.replace(/^,\s*/,""),w.getLogger().debug("Lex (y):",T.yytext),"DIR";break;case 89:return T.yytext=T.yytext.replace(/^,\s*/,""),w.getLogger().debug("Lex (up):",T.yytext),"DIR";break;case 90:return T.yytext=T.yytext.replace(/^,\s*/,""),w.getLogger().debug("Lex (down):",T.yytext),"DIR";break;case 91:return T.yytext="]>",w.getLogger().debug("Lex (ARROW_DIR end):",T.yytext),this.popState(),this.popState(),"BLOCK_ARROW_END";break;case 92:return w.getLogger().debug("Lex: LINK","#"+T.yytext+"#"),15;break;case 93:return w.getLogger().debug("Lex: LINK",T.yytext),15;break;case 94:return w.getLogger().debug("Lex: LINK",T.yytext),15;break;case 95:return w.getLogger().debug("Lex: LINK",T.yytext),15;break;case 96:return w.getLogger().debug("Lex: START_LINK",T.yytext),this.pushState("LLABEL"),16;break;case 97:return w.getLogger().debug("Lex: START_LINK",T.yytext),this.pushState("LLABEL"),16;break;case 98:return w.getLogger().debug("Lex: START_LINK",T.yytext),this.pushState("LLABEL"),16;break;case 99:this.pushState("md_string");break;case 100:return w.getLogger().debug("Lex: Starting string"),this.pushState("string"),"LINK_LABEL";break;case 101:return this.popState(),w.getLogger().debug("Lex: LINK","#"+T.yytext+"#"),15;break;case 102:return this.popState(),w.getLogger().debug("Lex: LINK",T.yytext),15;break;case 103:return this.popState(),w.getLogger().debug("Lex: LINK",T.yytext),15;break;case 104:return w.getLogger().debug("Lex: COLON",T.yytext),T.yytext=T.yytext.slice(1),27;break}},"anonymous"),rules:[/^(?:block-beta\b)/,/^(?:block:)/,/^(?:block\b)/,/^(?:[\s]+)/,/^(?:[\n]+)/,/^(?:((\u000D\u000A)|(\u000A)))/,/^(?:columns\s+auto\b)/,/^(?:columns\s+[\d]+)/,/^(?:["][`])/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:space[:]\d+)/,/^(?:space\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\s+)/,/^(?:DEFAULT\s+)/,/^(?:\w+\s+)/,/^(?:[^\n]*)/,/^(?:class\s+)/,/^(?:(\w+)+((,\s*\w+)*))/,/^(?:[^\n]*)/,/^(?:style\s+)/,/^(?:(\w+)+((,\s*\w+)*))/,/^(?:[^\n]*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:end\b\s*)/,/^(?:\(\(\()/,/^(?:\)\)\))/,/^(?:[\)]\))/,/^(?:\}\})/,/^(?:\})/,/^(?:\(-)/,/^(?:-\))/,/^(?:\(\()/,/^(?:\]\])/,/^(?:\()/,/^(?:\]\))/,/^(?:\\\])/,/^(?:\/\])/,/^(?:\)\])/,/^(?:[\)])/,/^(?:\]>)/,/^(?:[\]])/,/^(?:-\))/,/^(?:\(-)/,/^(?:\)\))/,/^(?:\))/,/^(?:\(\(\()/,/^(?:\(\()/,/^(?:\{\{)/,/^(?:\{)/,/^(?:>)/,/^(?:\(\[)/,/^(?:\()/,/^(?:\[\[)/,/^(?:\[\|)/,/^(?:\[\()/,/^(?:\)\)\))/,/^(?:\[\\)/,/^(?:\[\/)/,/^(?:\[\\)/,/^(?:\[)/,/^(?:<\[)/,/^(?:[^\(\[\n\-\)\{\}\s\<\>:]+)/,/^(?:$)/,/^(?:["][`])/,/^(?:["][`])/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["])/,/^(?:["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:\]>\s*\()/,/^(?:,?\s*right\s*)/,/^(?:,?\s*left\s*)/,/^(?:,?\s*x\s*)/,/^(?:,?\s*y\s*)/,/^(?:,?\s*up\s*)/,/^(?:,?\s*down\s*)/,/^(?:\)\s*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*~~[\~]+\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:["][`])/,/^(?:["])/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?::\d+)/],conditions:{STYLE_DEFINITION:{rules:[28],inclusive:!1},STYLE_STMNT:{rules:[27],inclusive:!1},CLASSDEFID:{rules:[22],inclusive:!1},CLASSDEF:{rules:[20,21],inclusive:!1},CLASS_STYLE:{rules:[25],inclusive:!1},CLASS:{rules:[24],inclusive:!1},LLABEL:{rules:[99,100,101,102,103],inclusive:!1},ARROW_DIR:{rules:[85,86,87,88,89,90,91],inclusive:!1},BLOCK_ARROW:{rules:[76,81,84],inclusive:!1},NODE:{rules:[37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,77,80],inclusive:!1},md_string:{rules:[9,10,78,79],inclusive:!1},space:{rules:[],inclusive:!1},string:{rules:[12,13,82,83],inclusive:!1},acc_descr_multiline:{rules:[34,35],inclusive:!1},acc_descr:{rules:[32],inclusive:!1},acc_title:{rules:[30],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,11,14,15,16,17,18,19,23,26,29,31,33,36,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,92,93,94,95,96,97,98,104],inclusive:!0}}};return _}();v.lexer=y;function b(){this.yy={}}return x(b,"Parser"),b.prototype=v,v.Parser=b,new b}();Qq.parser=Qq;fse=Qq,Ku=new Map,rU=[],Zq=new Map,U4t="color",W4t="fill",hse="bgFill",Q4t=",",dse=bt(),gA=new Map,pse=x(e=>Jt.sanitizeText(e,dse),"sanitizeText"),mse=x(function(e,t=""){let r=gA.get(e);r||(r={id:e,styles:[],textStyles:[]},gA.set(e,r)),t?.split(Q4t).forEach(n=>{let a=n.replace(/([^;]*);/,"$1").trim();if(RegExp(U4t).exec(n)){let o=a.replace(W4t,hse).replace(U4t,W4t);r.textStyles.push(o)}r.styles.push(a)})},"addStyleClass"),gse=x(function(e,t=""){let r=Ku.get(e);t!=null&&(r.styles=t.split(Q4t))},"addStyle2Node"),vse=x(function(e,t){e.split(",").forEach(function(r){let n=Ku.get(r);if(n===void 0){let a=r.trim();n={id:a,type:"na",children:[]},Ku.set(a,n)}n.classes||(n.classes=[]),n.classes.push(t)})},"setCssClass"),Z4t=x((e,t)=>{let r=e.flat(),n=[],i=r.find(o=>o?.type==="column-setting")?.columns??-1;for(let o of r){if(typeof i=="number"&&i>0&&o.type!=="column-setting"&&typeof o.widthInColumns=="number"&&o.widthInColumns>i&&J.warn(`Block ${o.id} width ${o.widthInColumns} exceeds configured column width ${i}`),o.label&&(o.label=pse(o.label)),o.type==="classDef"){mse(o.id,o.css);continue}if(o.type==="applyClass"){vse(o.id,o?.styleClass??"");continue}if(o.type==="applyStyles"){o?.stylesStr&&gse(o.id,o?.stylesStr);continue}if(o.type==="column-setting")t.columns=o.columns??-1;else if(o.type==="edge"){let s=(Zq.get(o.id)??0)+1;Zq.set(o.id,s),o.id=s+"-"+o.id,rU.push(o)}else{o.label||(o.type==="composite"?o.label="":o.label=o.id);let s=Ku.get(o.id);if(s===void 0?Ku.set(o.id,o):(o.type!=="na"&&(s.type=o.type),o.label!==o.id&&(s.label=o.label)),o.children&&Z4t(o.children,o),o.type==="space"){let l=o.width??1;for(let u=0;u<l;u++){let f=Cn(o);f.id=f.id+"-"+u,Ku.set(f.id,f),n.push(f)}}else s===void 0&&n.push(o)}}t.children=n},"populateBlockDatabase"),nU=[],Vw={id:"root",type:"composite",children:[],columns:-1},yse=x(()=>{J.debug("Clear called"),wr(),Vw={id:"root",type:"composite",children:[],columns:-1},Ku=new Map([["root",Vw]]),nU=[],gA=new Map,rU=[],Zq=new Map},"clear");x(J4t,"typeStr2Type");x(twt,"edgeTypeStr2Type");x(ewt,"edgeStrToEdgeData");G4t=0,xse=x(()=>(G4t++,"id-"+Math.random().toString(36).substr(2,12)+"-"+G4t),"generateId"),bse=x(e=>{Vw.children=e,Z4t(e,Vw),nU=Vw.children},"setHierarchy"),_se=x(e=>{let t=Ku.get(e);return t?t.columns?t.columns:t.children?t.children.length:-1:-1},"getColumns"),wse=x(()=>[...Ku.values()],"getBlocksFlat"),Tse=x(()=>nU||[],"getBlocks"),Ese=x(()=>rU,"getEdges"),kse=x(e=>Ku.get(e),"getBlock"),Cse=x(e=>{Ku.set(e.id,e)},"setBlock"),Sse=x(()=>J,"getLogger"),Dse=x(function(){return gA},"getClasses"),Ase={getConfig:x(()=>ur().block,"getConfig"),typeStr2Type:J4t,edgeTypeStr2Type:twt,edgeStrToEdgeData:ewt,getLogger:Sse,getBlocksFlat:wse,getBlocks:Tse,getEdges:Ese,setHierarchy:bse,getBlock:kse,setBlock:Cse,getColumns:_se,getClasses:Dse,clear:yse,generateId:xse},Lse=Ase,pA=x((e,t)=>{let r=zp,n=r(e,"r"),a=r(e,"g"),i=r(e,"b");return Uo(n,a,i,t)},"fade"),Mse=x(e=>`.label {
    font-family: ${e.fontFamily};
    color: ${e.nodeTextColor||e.textColor};
  }
  .cluster-label text {
    fill: ${e.titleColor};
  }
  .cluster-label span,p {
    color: ${e.titleColor};
  }



  .label text,span,p {
    fill: ${e.nodeTextColor||e.textColor};
    color: ${e.nodeTextColor||e.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }
  .flowchart-label text {
    text-anchor: middle;
  }
  // .flowchart-label .text-outer-tspan {
  //   text-anchor: middle;
  // }
  // .flowchart-label .text-inner-tspan {
  //   text-anchor: start;
  // }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${e.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${e.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${e.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${e.edgeLabelBackground};
    rect {
      opacity: 0.5;
      background-color: ${e.edgeLabelBackground};
      fill: ${e.edgeLabelBackground};
    }
    text-align: center;
  }

  /* For html labels only */
  .labelBkg {
    background-color: ${pA(e.edgeLabelBackground,.5)};
    // background-color:
  }

  .node .cluster {
    // fill: ${pA(e.mainBkg,.5)};
    fill: ${pA(e.clusterBkg,.5)};
    stroke: ${pA(e.clusterBorder,.2)};
    box-shadow: rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px;
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${e.titleColor};
  }

  .cluster span,p {
    color: ${e.titleColor};
  }
  /* .cluster div {
    color: ${e.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${e.fontFamily};
    font-size: 12px;
    background: ${e.tertiaryColor};
    border: 1px solid ${e.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }
  ${Zc()}
`,"getStyles"),Ise=Mse,Rse=x((e,t,r,n)=>{t.forEach(a=>{Wse[a](e,r,n)})},"insertMarkers"),Nse=x((e,t,r)=>{J.trace("Making markers for ",r),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionStart").attr("class","marker extension "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),Ose=x((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionStart").attr("class","marker composition "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),Fse=x((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),Pse=x((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),Bse=x((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopEnd").attr("class","marker lollipop "+t).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),$se=x((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",6).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),zse=x((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),qse=x((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),Use=x((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),Wse={extension:Nse,composition:Ose,aggregation:Fse,dependency:Pse,lollipop:Bse,point:$se,circle:zse,cross:qse,barb:Use},Gse=Rse,ti=bt()?.block?.padding??8;x(rwt,"calculateBlockPosition");Vse=x(e=>{let t=0,r=0;for(let n of e.children){let{width:a,height:i,x:o,y:s}=n.size??{width:0,height:0,x:0,y:0};J.debug("getMaxChildSize abc95 child:",n.id,"width:",a,"height:",i,"x:",o,"y:",s,n.type),n.type!=="space"&&(a>t&&(t=a/(e.widthInColumns??1)),i>r&&(r=i))}return{width:t,height:r}},"getMaxChildSize");x(vA,"setBlockSizes");x(aU,"layoutBlocks");x(iU,"findBounds");x(nwt,"layout");x(Jq,"applyStyle");x(awt,"addHtmlLabel");Hse=x(async(e,t,r,n)=>{let a=e||"";typeof a=="object"&&(a=a[0]);let i=bt();if(on(i.flowchart.htmlLabels)){a=a.replace(/\\n|\n/g,"<br />"),J.debug("vertexText"+a);let o=await FE(Is(a)),s={isNode:n,label:o,labelStyle:t.replace("fill:","color:")};return awt(s,i)}else{let o=document.createElementNS("http://www.w3.org/2000/svg","text");o.setAttribute("style",t.replace("color:","fill:"));let s=[];typeof a=="string"?s=a.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(a)?s=a:s=[];for(let l of s){let u=document.createElementNS("http://www.w3.org/2000/svg","tspan");u.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),u.setAttribute("dy","1em"),u.setAttribute("x","0"),r?u.setAttribute("class","title-row"):u.setAttribute("class","row"),u.textContent=l.trim(),o.appendChild(u)}return o}},"createLabel"),cu=Hse,Yse=x((e,t,r,n,a)=>{t.arrowTypeStart&&V4t(e,"start",t.arrowTypeStart,r,n,a),t.arrowTypeEnd&&V4t(e,"end",t.arrowTypeEnd,r,n,a)},"addEdgeMarkers"),Xse={arrow_cross:"cross",arrow_point:"point",arrow_barb:"barb",arrow_circle:"circle",aggregation:"aggregation",extension:"extension",composition:"composition",dependency:"dependency",lollipop:"lollipop"},V4t=x((e,t,r,n,a,i)=>{let o=Xse[r];if(!o){J.warn(`Unknown arrow type: ${r}`);return}let s=t==="start"?"Start":"End";e.attr(`marker-${t}`,`url(${n}#${a}_${i}-${o}${s})`)},"addEdgeMarker"),tU={},Po={},jse=x(async(e,t)=>{let r=bt(),n=on(r.flowchart.htmlLabels),a=t.labelType==="markdown"?Ji(e,t.label,{style:t.labelStyle,useHtmlLabels:n,addSvgBackground:!0},r):await cu(t.label,t.labelStyle),i=e.insert("g").attr("class","edgeLabel"),o=i.insert("g").attr("class","label");o.node().appendChild(a);let s=a.getBBox();if(n){let u=a.children[0],f=Vt(a);s=u.getBoundingClientRect(),f.attr("width",s.width),f.attr("height",s.height)}o.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"),tU[t.id]=i,t.width=s.width,t.height=s.height;let l;if(t.startLabelLeft){let u=await cu(t.startLabelLeft,t.labelStyle),f=e.insert("g").attr("class","edgeTerminals"),h=f.insert("g").attr("class","inner");l=h.node().appendChild(u);let d=u.getBBox();h.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),Po[t.id]||(Po[t.id]={}),Po[t.id].startLeft=f,Gw(l,t.startLabelLeft)}if(t.startLabelRight){let u=await cu(t.startLabelRight,t.labelStyle),f=e.insert("g").attr("class","edgeTerminals"),h=f.insert("g").attr("class","inner");l=f.node().appendChild(u),h.node().appendChild(u);let d=u.getBBox();h.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),Po[t.id]||(Po[t.id]={}),Po[t.id].startRight=f,Gw(l,t.startLabelRight)}if(t.endLabelLeft){let u=await cu(t.endLabelLeft,t.labelStyle),f=e.insert("g").attr("class","edgeTerminals"),h=f.insert("g").attr("class","inner");l=h.node().appendChild(u);let d=u.getBBox();h.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),f.node().appendChild(u),Po[t.id]||(Po[t.id]={}),Po[t.id].endLeft=f,Gw(l,t.endLabelLeft)}if(t.endLabelRight){let u=await cu(t.endLabelRight,t.labelStyle),f=e.insert("g").attr("class","edgeTerminals"),h=f.insert("g").attr("class","inner");l=h.node().appendChild(u);let d=u.getBBox();h.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),f.node().appendChild(u),Po[t.id]||(Po[t.id]={}),Po[t.id].endRight=f,Gw(l,t.endLabelRight)}return a},"insertEdgeLabel");x(Gw,"setTerminalWidth");Kse=x((e,t)=>{J.debug("Moving label abc88 ",e.id,e.label,tU[e.id],t);let r=t.updatedPath?t.updatedPath:t.originalPath,n=bt(),{subGraphTitleTotalMargin:a}=Vf(n);if(e.label){let i=tU[e.id],o=e.x,s=e.y;if(r){let l=Ge.calcLabelPosition(r);J.debug("Moving label "+e.label+" from (",o,",",s,") to (",l.x,",",l.y,") abc88"),t.updatedPath&&(o=l.x,s=l.y)}i.attr("transform",`translate(${o}, ${s+a/2})`)}if(e.startLabelLeft){let i=Po[e.id].startLeft,o=e.x,s=e.y;if(r){let l=Ge.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_left",r);o=l.x,s=l.y}i.attr("transform",`translate(${o}, ${s})`)}if(e.startLabelRight){let i=Po[e.id].startRight,o=e.x,s=e.y;if(r){let l=Ge.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_right",r);o=l.x,s=l.y}i.attr("transform",`translate(${o}, ${s})`)}if(e.endLabelLeft){let i=Po[e.id].endLeft,o=e.x,s=e.y;if(r){let l=Ge.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_left",r);o=l.x,s=l.y}i.attr("transform",`translate(${o}, ${s})`)}if(e.endLabelRight){let i=Po[e.id].endRight,o=e.x,s=e.y;if(r){let l=Ge.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_right",r);o=l.x,s=l.y}i.attr("transform",`translate(${o}, ${s})`)}},"positionEdgeLabel"),Qse=x((e,t)=>{let r=e.x,n=e.y,a=Math.abs(t.x-r),i=Math.abs(t.y-n),o=e.width/2,s=e.height/2;return a>=o||i>=s},"outsideNode"),Zse=x((e,t,r)=>{J.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(t)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${e.x} y:${e.y} w:${e.width} h:${e.height}`);let n=e.x,a=e.y,i=Math.abs(n-r.x),o=e.width/2,s=r.x<t.x?o-i:o+i,l=e.height/2,u=Math.abs(t.y-r.y),f=Math.abs(t.x-r.x);if(Math.abs(a-t.y)*o>Math.abs(n-t.x)*l){let h=r.y<t.y?t.y-l-a:a-l-t.y;s=f*h/u;let d={x:r.x<t.x?r.x+s:r.x-f+s,y:r.y<t.y?r.y+u-h:r.y-u+h};return s===0&&(d.x=t.x,d.y=t.y),f===0&&(d.x=t.x),u===0&&(d.y=t.y),J.debug(`abc89 topp/bott calc, Q ${u}, q ${h}, R ${f}, r ${s}`,d),d}else{r.x<t.x?s=t.x-o-n:s=n-o-t.x;let h=u*s/f,d=r.x<t.x?r.x+f-s:r.x-f+s,p=r.y<t.y?r.y+h:r.y-h;return J.debug(`sides calc abc89, Q ${u}, q ${h}, R ${f}, r ${s}`,{_x:d,_y:p}),s===0&&(d=t.x,p=t.y),f===0&&(d=t.x),u===0&&(p=t.y),{x:d,y:p}}},"intersection"),H4t=x((e,t)=>{J.debug("abc88 cutPathAtIntersect",e,t);let r=[],n=e[0],a=!1;return e.forEach(i=>{if(!Qse(t,i)&&!a){let o=Zse(t,n,i),s=!1;r.forEach(l=>{s=s||l.x===o.x&&l.y===o.y}),r.some(l=>l.x===o.x&&l.y===o.y)||r.push(o),a=!0}else n=i,a||r.push(i)}),r},"cutPathAtIntersect"),Jse=x(function(e,t,r,n,a,i,o){let s=r.points;J.debug("abc88 InsertEdge: edge=",r,"e=",t);let l=!1,u=i.node(t.v);var f=i.node(t.w);f?.intersect&&u?.intersect&&(s=s.slice(1,r.points.length-1),s.unshift(u.intersect(s[0])),s.push(f.intersect(s[s.length-1]))),r.toCluster&&(J.debug("to cluster abc88",n[r.toCluster]),s=H4t(r.points,n[r.toCluster].node),l=!0),r.fromCluster&&(J.debug("from cluster abc88",n[r.fromCluster]),s=H4t(s.reverse(),n[r.fromCluster].node).reverse(),l=!0);let h=s.filter(k=>!Number.isNaN(k.y)),d=Cu;r.curve&&(a==="graph"||a==="flowchart")&&(d=r.curve);let{x:p,y:m}=JT(r),g=_c().x(p).y(m).curve(d),v;switch(r.thickness){case"normal":v="edge-thickness-normal";break;case"thick":v="edge-thickness-thick";break;case"invisible":v="edge-thickness-thick";break;default:v=""}switch(r.pattern){case"solid":v+=" edge-pattern-solid";break;case"dotted":v+=" edge-pattern-dotted";break;case"dashed":v+=" edge-pattern-dashed";break}let y=e.append("path").attr("d",g(h)).attr("id",r.id).attr("class"," "+v+(r.classes?" "+r.classes:"")).attr("style",r.style),b="";(bt().flowchart.arrowMarkerAbsolute||bt().state.arrowMarkerAbsolute)&&(b=jp(!0)),Yse(y,r,b,o,a);let _={};return l&&(_.updatedPath=s),_.originalPath=r.points,_},"insertEdge"),tle=x(e=>{let t=new Set;for(let r of e)switch(r){case"x":t.add("right"),t.add("left");break;case"y":t.add("up"),t.add("down");break;default:t.add(r);break}return t},"expandAndDeduplicateDirections"),ele=x((e,t,r)=>{let n=tle(e),a=2,i=t.height+2*r.padding,o=i/a,s=t.width+2*o+r.padding,l=r.padding/2;return n.has("right")&&n.has("left")&&n.has("up")&&n.has("down")?[{x:0,y:0},{x:o,y:0},{x:s/2,y:2*l},{x:s-o,y:0},{x:s,y:0},{x:s,y:-i/3},{x:s+2*l,y:-i/2},{x:s,y:-2*i/3},{x:s,y:-i},{x:s-o,y:-i},{x:s/2,y:-i-2*l},{x:o,y:-i},{x:0,y:-i},{x:0,y:-2*i/3},{x:-2*l,y:-i/2},{x:0,y:-i/3}]:n.has("right")&&n.has("left")&&n.has("up")?[{x:o,y:0},{x:s-o,y:0},{x:s,y:-i/2},{x:s-o,y:-i},{x:o,y:-i},{x:0,y:-i/2}]:n.has("right")&&n.has("left")&&n.has("down")?[{x:0,y:0},{x:o,y:-i},{x:s-o,y:-i},{x:s,y:0}]:n.has("right")&&n.has("up")&&n.has("down")?[{x:0,y:0},{x:s,y:-o},{x:s,y:-i+o},{x:0,y:-i}]:n.has("left")&&n.has("up")&&n.has("down")?[{x:s,y:0},{x:0,y:-o},{x:0,y:-i+o},{x:s,y:-i}]:n.has("right")&&n.has("left")?[{x:o,y:0},{x:o,y:-l},{x:s-o,y:-l},{x:s-o,y:0},{x:s,y:-i/2},{x:s-o,y:-i},{x:s-o,y:-i+l},{x:o,y:-i+l},{x:o,y:-i},{x:0,y:-i/2}]:n.has("up")&&n.has("down")?[{x:s/2,y:0},{x:0,y:-l},{x:o,y:-l},{x:o,y:-i+l},{x:0,y:-i+l},{x:s/2,y:-i},{x:s,y:-i+l},{x:s-o,y:-i+l},{x:s-o,y:-l},{x:s,y:-l}]:n.has("right")&&n.has("up")?[{x:0,y:0},{x:s,y:-o},{x:0,y:-i}]:n.has("right")&&n.has("down")?[{x:0,y:0},{x:s,y:0},{x:0,y:-i}]:n.has("left")&&n.has("up")?[{x:s,y:0},{x:0,y:-o},{x:s,y:-i}]:n.has("left")&&n.has("down")?[{x:s,y:0},{x:0,y:0},{x:s,y:-i}]:n.has("right")?[{x:o,y:-l},{x:o,y:-l},{x:s-o,y:-l},{x:s-o,y:0},{x:s,y:-i/2},{x:s-o,y:-i},{x:s-o,y:-i+l},{x:o,y:-i+l},{x:o,y:-i+l}]:n.has("left")?[{x:o,y:0},{x:o,y:-l},{x:s-o,y:-l},{x:s-o,y:-i+l},{x:o,y:-i+l},{x:o,y:-i},{x:0,y:-i/2}]:n.has("up")?[{x:o,y:-l},{x:o,y:-i+l},{x:0,y:-i+l},{x:s/2,y:-i},{x:s,y:-i+l},{x:s-o,y:-i+l},{x:s-o,y:-l}]:n.has("down")?[{x:s/2,y:0},{x:0,y:-l},{x:o,y:-l},{x:o,y:-i+l},{x:s-o,y:-i+l},{x:s-o,y:-l},{x:s,y:-l}]:[{x:0,y:0}]},"getArrowPoints");x(iwt,"intersectNode");rle=iwt;x(owt,"intersectEllipse");swt=owt;x(lwt,"intersectCircle");nle=lwt;x(uwt,"intersectLine");x(eU,"sameSign");ale=uwt,ile=cwt;x(cwt,"intersectPolygon");ole=x((e,t)=>{var r=e.x,n=e.y,a=t.x-r,i=t.y-n,o=e.width/2,s=e.height/2,l,u;return Math.abs(i)*o>Math.abs(a)*s?(i<0&&(s=-s),l=i===0?0:s*a/i,u=s):(a<0&&(o=-o),l=o,u=a===0?0:o*i/a),{x:r+l,y:n+u}},"intersectRect"),sle=ole,Ca={node:rle,circle:nle,ellipse:swt,polygon:ile,rect:sle},$i=x(async(e,t,r,n)=>{let a=bt(),i,o=t.useHtmlLabels||on(a.flowchart.htmlLabels);r?i=r:i="node default";let s=e.insert("g").attr("class",i).attr("id",t.domId||t.id),l=s.insert("g").attr("class","label").attr("style",t.labelStyle),u;t.labelText===void 0?u="":u=typeof t.labelText=="string"?t.labelText:t.labelText[0];let f=l.node(),h;t.labelType==="markdown"?h=Ji(l,sr(Is(u),a),{useHtmlLabels:o,width:t.width||a.flowchart.wrappingWidth,classes:"markdown-node-label"},a):h=f.appendChild(await cu(sr(Is(u),a),t.labelStyle,!1,n));let d=h.getBBox(),p=t.padding/2;if(on(a.flowchart.htmlLabels)){let m=h.children[0],g=Vt(h),v=m.getElementsByTagName("img");if(v){let y=u.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...v].map(b=>new Promise(_=>{function k(){if(b.style.display="flex",b.style.flexDirection="column",y){let w=a.fontSize?a.fontSize:window.getComputedStyle(document.body).fontSize,S=parseInt(w,10)*5+"px";b.style.minWidth=S,b.style.maxWidth=S}else b.style.width="100%";_(b)}x(k,"setupImage"),setTimeout(()=>{b.complete&&k()}),b.addEventListener("error",k),b.addEventListener("load",k)})))}d=m.getBoundingClientRect(),g.attr("width",d.width),g.attr("height",d.height)}return o?l.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"):l.attr("transform","translate(0, "+-d.height/2+")"),t.centerLabel&&l.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),l.insert("rect",":first-child"),{shapeSvg:s,bbox:d,halfPadding:p,label:l}},"labelHelper"),Va=x((e,t)=>{let r=t.node().getBBox();e.width=r.width,e.height=r.height},"updateNodeBounds");x(Qu,"insertPolygonShape");lle=x(async(e,t)=>{t.useHtmlLabels||bt().flowchart.htmlLabels||(t.centerLabel=!0);let{shapeSvg:n,bbox:a,halfPadding:i}=await $i(e,t,"node "+t.classes,!0);J.info("Classes = ",t.classes);let o=n.insert("rect",":first-child");return o.attr("rx",t.rx).attr("ry",t.ry).attr("x",-a.width/2-i).attr("y",-a.height/2-i).attr("width",a.width+t.padding).attr("height",a.height+t.padding),Va(t,o),t.intersect=function(s){return Ca.rect(t,s)},n},"note"),ule=lle,Y4t=x(e=>e?" "+e:"","formatClass"),bl=x((e,t)=>`${t||"node default"}${Y4t(e.classes)} ${Y4t(e.class)}`,"getClassesFromNode"),X4t=x(async(e,t)=>{let{shapeSvg:r,bbox:n}=await $i(e,t,bl(t,void 0),!0),a=n.width+t.padding,i=n.height+t.padding,o=a+i,s=[{x:o/2,y:0},{x:o,y:-o/2},{x:o/2,y:-o},{x:0,y:-o/2}];J.info("Question main (Circle)");let l=Qu(r,o,o,s);return l.attr("style",t.style),Va(t,l),t.intersect=function(u){return J.warn("Intersect called"),Ca.polygon(t,s,u)},r},"question"),cle=x((e,t)=>{let r=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),n=28,a=[{x:0,y:n/2},{x:n/2,y:0},{x:0,y:-n/2},{x:-n/2,y:0}];return r.insert("polygon",":first-child").attr("points",a.map(function(o){return o.x+","+o.y}).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),t.width=28,t.height=28,t.intersect=function(o){return Ca.circle(t,14,o)},r},"choice"),fle=x(async(e,t)=>{let{shapeSvg:r,bbox:n}=await $i(e,t,bl(t,void 0),!0),a=4,i=n.height+t.padding,o=i/a,s=n.width+2*o+t.padding,l=[{x:o,y:0},{x:s-o,y:0},{x:s,y:-i/2},{x:s-o,y:-i},{x:o,y:-i},{x:0,y:-i/2}],u=Qu(r,s,i,l);return u.attr("style",t.style),Va(t,u),t.intersect=function(f){return Ca.polygon(t,l,f)},r},"hexagon"),hle=x(async(e,t)=>{let{shapeSvg:r,bbox:n}=await $i(e,t,void 0,!0),a=2,i=n.height+2*t.padding,o=i/a,s=n.width+2*o+t.padding,l=ele(t.directions,n,t),u=Qu(r,s,i,l);return u.attr("style",t.style),Va(t,u),t.intersect=function(f){return Ca.polygon(t,l,f)},r},"block_arrow"),dle=x(async(e,t)=>{let{shapeSvg:r,bbox:n}=await $i(e,t,bl(t,void 0),!0),a=n.width+t.padding,i=n.height+t.padding,o=[{x:-i/2,y:0},{x:a,y:0},{x:a,y:-i},{x:-i/2,y:-i},{x:0,y:-i/2}];return Qu(r,a,i,o).attr("style",t.style),t.width=a+i,t.height=i,t.intersect=function(l){return Ca.polygon(t,o,l)},r},"rect_left_inv_arrow"),ple=x(async(e,t)=>{let{shapeSvg:r,bbox:n}=await $i(e,t,bl(t),!0),a=n.width+t.padding,i=n.height+t.padding,o=[{x:-2*i/6,y:0},{x:a-i/6,y:0},{x:a+2*i/6,y:-i},{x:i/6,y:-i}],s=Qu(r,a,i,o);return s.attr("style",t.style),Va(t,s),t.intersect=function(l){return Ca.polygon(t,o,l)},r},"lean_right"),mle=x(async(e,t)=>{let{shapeSvg:r,bbox:n}=await $i(e,t,bl(t,void 0),!0),a=n.width+t.padding,i=n.height+t.padding,o=[{x:2*i/6,y:0},{x:a+i/6,y:0},{x:a-2*i/6,y:-i},{x:-i/6,y:-i}],s=Qu(r,a,i,o);return s.attr("style",t.style),Va(t,s),t.intersect=function(l){return Ca.polygon(t,o,l)},r},"lean_left"),gle=x(async(e,t)=>{let{shapeSvg:r,bbox:n}=await $i(e,t,bl(t,void 0),!0),a=n.width+t.padding,i=n.height+t.padding,o=[{x:-2*i/6,y:0},{x:a+2*i/6,y:0},{x:a-i/6,y:-i},{x:i/6,y:-i}],s=Qu(r,a,i,o);return s.attr("style",t.style),Va(t,s),t.intersect=function(l){return Ca.polygon(t,o,l)},r},"trapezoid"),vle=x(async(e,t)=>{let{shapeSvg:r,bbox:n}=await $i(e,t,bl(t,void 0),!0),a=n.width+t.padding,i=n.height+t.padding,o=[{x:i/6,y:0},{x:a-i/6,y:0},{x:a+2*i/6,y:-i},{x:-2*i/6,y:-i}],s=Qu(r,a,i,o);return s.attr("style",t.style),Va(t,s),t.intersect=function(l){return Ca.polygon(t,o,l)},r},"inv_trapezoid"),yle=x(async(e,t)=>{let{shapeSvg:r,bbox:n}=await $i(e,t,bl(t,void 0),!0),a=n.width+t.padding,i=n.height+t.padding,o=[{x:0,y:0},{x:a+i/2,y:0},{x:a,y:-i/2},{x:a+i/2,y:-i},{x:0,y:-i}],s=Qu(r,a,i,o);return s.attr("style",t.style),Va(t,s),t.intersect=function(l){return Ca.polygon(t,o,l)},r},"rect_right_inv_arrow"),xle=x(async(e,t)=>{let{shapeSvg:r,bbox:n}=await $i(e,t,bl(t,void 0),!0),a=n.width+t.padding,i=a/2,o=i/(2.5+a/50),s=n.height+o+t.padding,l="M 0,"+o+" a "+i+","+o+" 0,0,0 "+a+" 0 a "+i+","+o+" 0,0,0 "+-a+" 0 l 0,"+s+" a "+i+","+o+" 0,0,0 "+a+" 0 l 0,"+-s,u=r.attr("label-offset-y",o).insert("path",":first-child").attr("style",t.style).attr("d",l).attr("transform","translate("+-a/2+","+-(s/2+o)+")");return Va(t,u),t.intersect=function(f){let h=Ca.rect(t,f),d=h.x-t.x;if(i!=0&&(Math.abs(d)<t.width/2||Math.abs(d)==t.width/2&&Math.abs(h.y-t.y)>t.height/2-o)){let p=o*o*(1-d*d/(i*i));p!=0&&(p=Math.sqrt(p)),p=o-p,f.y-t.y>0&&(p=-p),h.y+=p}return h},r},"cylinder"),ble=x(async(e,t)=>{let{shapeSvg:r,bbox:n,halfPadding:a}=await $i(e,t,"node "+t.classes+" "+t.class,!0),i=r.insert("rect",":first-child"),o=t.positioned?t.width:n.width+t.padding,s=t.positioned?t.height:n.height+t.padding,l=t.positioned?-o/2:-n.width/2-a,u=t.positioned?-s/2:-n.height/2-a;if(i.attr("class","basic label-container").attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("x",l).attr("y",u).attr("width",o).attr("height",s),t.props){let f=new Set(Object.keys(t.props));t.props.borders&&(yA(i,t.props.borders,o,s),f.delete("borders")),f.forEach(h=>{J.warn(`Unknown node property ${h}`)})}return Va(t,i),t.intersect=function(f){return Ca.rect(t,f)},r},"rect"),_le=x(async(e,t)=>{let{shapeSvg:r,bbox:n,halfPadding:a}=await $i(e,t,"node "+t.classes,!0),i=r.insert("rect",":first-child"),o=t.positioned?t.width:n.width+t.padding,s=t.positioned?t.height:n.height+t.padding,l=t.positioned?-o/2:-n.width/2-a,u=t.positioned?-s/2:-n.height/2-a;if(i.attr("class","basic cluster composite label-container").attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("x",l).attr("y",u).attr("width",o).attr("height",s),t.props){let f=new Set(Object.keys(t.props));t.props.borders&&(yA(i,t.props.borders,o,s),f.delete("borders")),f.forEach(h=>{J.warn(`Unknown node property ${h}`)})}return Va(t,i),t.intersect=function(f){return Ca.rect(t,f)},r},"composite"),wle=x(async(e,t)=>{let{shapeSvg:r}=await $i(e,t,"label",!0);J.trace("Classes = ",t.class);let n=r.insert("rect",":first-child"),a=0,i=0;if(n.attr("width",a).attr("height",i),r.attr("class","label edgeLabel"),t.props){let o=new Set(Object.keys(t.props));t.props.borders&&(yA(n,t.props.borders,a,i),o.delete("borders")),o.forEach(s=>{J.warn(`Unknown node property ${s}`)})}return Va(t,n),t.intersect=function(o){return Ca.rect(t,o)},r},"labelRect");x(yA,"applyNodePropertyBorders");Tle=x(async(e,t)=>{let r;t.classes?r="node "+t.classes:r="node default";let n=e.insert("g").attr("class",r).attr("id",t.domId||t.id),a=n.insert("rect",":first-child"),i=n.insert("line"),o=n.insert("g").attr("class","label"),s=t.labelText.flat?t.labelText.flat():t.labelText,l="";typeof s=="object"?l=s[0]:l=s,J.info("Label text abc79",l,s,typeof s=="object");let u=o.node().appendChild(await cu(l,t.labelStyle,!0,!0)),f={width:0,height:0};if(on(bt().flowchart.htmlLabels)){let g=u.children[0],v=Vt(u);f=g.getBoundingClientRect(),v.attr("width",f.width),v.attr("height",f.height)}J.info("Text 2",s);let h=s.slice(1,s.length),d=u.getBBox(),p=o.node().appendChild(await cu(h.join?h.join("<br/>"):h,t.labelStyle,!0,!0));if(on(bt().flowchart.htmlLabels)){let g=p.children[0],v=Vt(p);f=g.getBoundingClientRect(),v.attr("width",f.width),v.attr("height",f.height)}let m=t.padding/2;return Vt(p).attr("transform","translate( "+(f.width>d.width?0:(d.width-f.width)/2)+", "+(d.height+m+5)+")"),Vt(u).attr("transform","translate( "+(f.width<d.width?0:-(d.width-f.width)/2)+", 0)"),f=o.node().getBBox(),o.attr("transform","translate("+-f.width/2+", "+(-f.height/2-m+3)+")"),a.attr("class","outer title-state").attr("x",-f.width/2-m).attr("y",-f.height/2-m).attr("width",f.width+t.padding).attr("height",f.height+t.padding),i.attr("class","divider").attr("x1",-f.width/2-m).attr("x2",f.width/2+m).attr("y1",-f.height/2-m+d.height+m).attr("y2",-f.height/2-m+d.height+m),Va(t,a),t.intersect=function(g){return Ca.rect(t,g)},n},"rectWithTitle"),Ele=x(async(e,t)=>{let{shapeSvg:r,bbox:n}=await $i(e,t,bl(t,void 0),!0),a=n.height+t.padding,i=n.width+a/4+t.padding,o=r.insert("rect",":first-child").attr("style",t.style).attr("rx",a/2).attr("ry",a/2).attr("x",-i/2).attr("y",-a/2).attr("width",i).attr("height",a);return Va(t,o),t.intersect=function(s){return Ca.rect(t,s)},r},"stadium"),kle=x(async(e,t)=>{let{shapeSvg:r,bbox:n,halfPadding:a}=await $i(e,t,bl(t,void 0),!0),i=r.insert("circle",":first-child");return i.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",n.width/2+a).attr("width",n.width+t.padding).attr("height",n.height+t.padding),J.info("Circle main"),Va(t,i),t.intersect=function(o){return J.info("Circle intersect",t,n.width/2+a,o),Ca.circle(t,n.width/2+a,o)},r},"circle"),Cle=x(async(e,t)=>{let{shapeSvg:r,bbox:n,halfPadding:a}=await $i(e,t,bl(t,void 0),!0),i=5,o=r.insert("g",":first-child"),s=o.insert("circle"),l=o.insert("circle");return o.attr("class",t.class),s.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",n.width/2+a+i).attr("width",n.width+t.padding+i*2).attr("height",n.height+t.padding+i*2),l.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",n.width/2+a).attr("width",n.width+t.padding).attr("height",n.height+t.padding),J.info("DoubleCircle main"),Va(t,s),t.intersect=function(u){return J.info("DoubleCircle intersect",t,n.width/2+a+i,u),Ca.circle(t,n.width/2+a+i,u)},r},"doublecircle"),Sle=x(async(e,t)=>{let{shapeSvg:r,bbox:n}=await $i(e,t,bl(t,void 0),!0),a=n.width+t.padding,i=n.height+t.padding,o=[{x:0,y:0},{x:a,y:0},{x:a,y:-i},{x:0,y:-i},{x:0,y:0},{x:-8,y:0},{x:a+8,y:0},{x:a+8,y:-i},{x:-8,y:-i},{x:-8,y:0}],s=Qu(r,a,i,o);return s.attr("style",t.style),Va(t,s),t.intersect=function(l){return Ca.polygon(t,o,l)},r},"subroutine"),Dle=x((e,t)=>{let r=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),n=r.insert("circle",":first-child");return n.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),Va(t,n),t.intersect=function(a){return Ca.circle(t,7,a)},r},"start"),j4t=x((e,t,r)=>{let n=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),a=70,i=10;r==="LR"&&(a=10,i=70);let o=n.append("rect").attr("x",-1*a/2).attr("y",-1*i/2).attr("width",a).attr("height",i).attr("class","fork-join");return Va(t,o),t.height=t.height+t.padding/2,t.width=t.width+t.padding/2,t.intersect=function(s){return Ca.rect(t,s)},n},"forkJoin"),Ale=x((e,t)=>{let r=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),n=r.insert("circle",":first-child"),a=r.insert("circle",":first-child");return a.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),n.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),Va(t,a),t.intersect=function(i){return Ca.circle(t,7,i)},r},"end"),Lle=x(async(e,t)=>{let r=t.padding/2,n=4,a=8,i;t.classes?i="node "+t.classes:i="node default";let o=e.insert("g").attr("class",i).attr("id",t.domId||t.id),s=o.insert("rect",":first-child"),l=o.insert("line"),u=o.insert("line"),f=0,h=n,d=o.insert("g").attr("class","label"),p=0,m=t.classData.annotations?.[0],g=t.classData.annotations[0]?"\xAB"+t.classData.annotations[0]+"\xBB":"",v=d.node().appendChild(await cu(g,t.labelStyle,!0,!0)),y=v.getBBox();if(on(bt().flowchart.htmlLabels)){let C=v.children[0],M=Vt(v);y=C.getBoundingClientRect(),M.attr("width",y.width),M.attr("height",y.height)}t.classData.annotations[0]&&(h+=y.height+n,f+=y.width);let b=t.classData.label;t.classData.type!==void 0&&t.classData.type!==""&&(bt().flowchart.htmlLabels?b+="&lt;"+t.classData.type+"&gt;":b+="<"+t.classData.type+">");let _=d.node().appendChild(await cu(b,t.labelStyle,!0,!0));Vt(_).attr("class","classTitle");let k=_.getBBox();if(on(bt().flowchart.htmlLabels)){let C=_.children[0],M=Vt(_);k=C.getBoundingClientRect(),M.attr("width",k.width),M.attr("height",k.height)}h+=k.height+n,k.width>f&&(f=k.width);let w=[];t.classData.members.forEach(async C=>{let M=C.getDisplayDetails(),N=M.displayText;bt().flowchart.htmlLabels&&(N=N.replace(/</g,"&lt;").replace(/>/g,"&gt;"));let L=d.node().appendChild(await cu(N,M.cssStyle?M.cssStyle:t.labelStyle,!0,!0)),E=L.getBBox();if(on(bt().flowchart.htmlLabels)){let A=L.children[0],D=Vt(L);E=A.getBoundingClientRect(),D.attr("width",E.width),D.attr("height",E.height)}E.width>f&&(f=E.width),h+=E.height+n,w.push(L)}),h+=a;let T=[];if(t.classData.methods.forEach(async C=>{let M=C.getDisplayDetails(),N=M.displayText;bt().flowchart.htmlLabels&&(N=N.replace(/</g,"&lt;").replace(/>/g,"&gt;"));let L=d.node().appendChild(await cu(N,M.cssStyle?M.cssStyle:t.labelStyle,!0,!0)),E=L.getBBox();if(on(bt().flowchart.htmlLabels)){let A=L.children[0],D=Vt(L);E=A.getBoundingClientRect(),D.attr("width",E.width),D.attr("height",E.height)}E.width>f&&(f=E.width),h+=E.height+n,T.push(L)}),h+=a,m){let C=(f-y.width)/2;Vt(v).attr("transform","translate( "+(-1*f/2+C)+", "+-1*h/2+")"),p=y.height+n}let S=(f-k.width)/2;return Vt(_).attr("transform","translate( "+(-1*f/2+S)+", "+(-1*h/2+p)+")"),p+=k.height+n,l.attr("class","divider").attr("x1",-f/2-r).attr("x2",f/2+r).attr("y1",-h/2-r+a+p).attr("y2",-h/2-r+a+p),p+=a,w.forEach(C=>{Vt(C).attr("transform","translate( "+-f/2+", "+(-1*h/2+p+a/2)+")");let M=C?.getBBox();p+=(M?.height??0)+n}),p+=a,u.attr("class","divider").attr("x1",-f/2-r).attr("x2",f/2+r).attr("y1",-h/2-r+a+p).attr("y2",-h/2-r+a+p),p+=a,T.forEach(C=>{Vt(C).attr("transform","translate( "+-f/2+", "+(-1*h/2+p)+")");let M=C?.getBBox();p+=(M?.height??0)+n}),s.attr("style",t.style).attr("class","outer title-state").attr("x",-f/2-r).attr("y",-(h/2)-r).attr("width",f+t.padding).attr("height",h+t.padding),Va(t,s),t.intersect=function(C){return Ca.rect(t,C)},o},"class_box"),K4t={rhombus:X4t,composite:_le,question:X4t,rect:ble,labelRect:wle,rectWithTitle:Tle,choice:cle,circle:kle,doublecircle:Cle,stadium:Ele,hexagon:fle,block_arrow:hle,rect_left_inv_arrow:dle,lean_right:ple,lean_left:mle,trapezoid:gle,inv_trapezoid:vle,rect_right_inv_arrow:yle,cylinder:xle,start:Dle,end:Ale,note:ule,subroutine:Sle,fork:j4t,join:j4t,class_box:Lle},mA={},fwt=x(async(e,t,r)=>{let n,a;if(t.link){let i;bt().securityLevel==="sandbox"?i="_top":t.linkTarget&&(i=t.linkTarget||"_blank"),n=e.insert("svg:a").attr("xlink:href",t.link).attr("target",i),a=await K4t[t.shape](n,t,r)}else a=await K4t[t.shape](e,t,r),n=a;return t.tooltip&&a.attr("title",t.tooltip),t.class&&a.attr("class","node default "+t.class),mA[t.id]=n,t.haveCallback&&mA[t.id].attr("class",mA[t.id].attr("class")+" clickable"),n},"insertNode"),Mle=x(e=>{let t=mA[e.id];J.trace("Transforming node",e.diff,e,"translate("+(e.x-e.width/2-5)+", "+e.width/2+")");let r=8,n=e.diff||0;return e.clusterNode?t.attr("transform","translate("+(e.x+n-e.width/2)+", "+(e.y-e.height/2-r)+")"):t.attr("transform","translate("+e.x+", "+e.y+")"),n},"positionNode");x(oU,"getNodeFromBlock");x(hwt,"calculateBlockSize");x(dwt,"insertBlockPositioned");x(xA,"performOperations");x(pwt,"calculateBlockSizes");x(mwt,"insertBlocks");x(gwt,"insertEdges");Ile=x(function(e,t){return t.db.getClasses()},"getClasses"),Rle=x(async function(e,t,r,n){let{securityLevel:a,block:i}=ur(),o=n.db,s;a==="sandbox"&&(s=Vt("#i"+t));let l=a==="sandbox"?Vt(s.nodes()[0].contentDocument.body):Vt("body"),u=a==="sandbox"?l.select(`[id="${t}"]`):Vt(`[id="${t}"]`);Gse(u,["point","circle","cross"],n.type,t);let h=o.getBlocks(),d=o.getBlocksFlat(),p=o.getEdges(),m=u.insert("g").attr("class","block");await pwt(m,h,o);let g=nwt(o);if(await mwt(m,h,o),await gwt(m,p,d,o,t),g){let v=g,y=Math.max(1,Math.round(.125*(v.width/v.height))),b=v.height+y+10,_=v.width+10,{useMaxWidth:k}=i;Nn(u,b,_,!!k),J.debug("Here Bounds",g,v),u.attr("viewBox",`${v.x-5} ${v.y-5} ${v.width+10} ${v.height+10}`)}},"draw"),Nle={draw:Rle,getClasses:Ile},Ole={parser:fse,db:Lse,renderer:Nle,styles:Ise}});var lU=_o((Hw,sU)=>{(function(t,r){typeof Hw=="object"&&typeof sU=="object"?sU.exports=r():typeof define=="function"&&define.amd?define([],r):typeof Hw=="object"?Hw.layoutBase=r():t.layoutBase=r()})(Hw,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.i=function(n){return n},r.d=function(n,a,i){r.o(n,a)||Object.defineProperty(n,a,{configurable:!1,enumerable:!0,get:i})},r.n=function(n){var a=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(a,"a",a),a},r.o=function(n,a){return Object.prototype.hasOwnProperty.call(n,a)},r.p="",r(r.s=28)}([function(e,t,r){"use strict";function n(){}n.QUALITY=1,n.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,n.DEFAULT_INCREMENTAL=!1,n.DEFAULT_ANIMATION_ON_LAYOUT=!0,n.DEFAULT_ANIMATION_DURING_LAYOUT=!1,n.DEFAULT_ANIMATION_PERIOD=50,n.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,n.DEFAULT_GRAPH_MARGIN=15,n.NODE_DIMENSIONS_INCLUDE_LABELS=!1,n.SIMPLE_NODE_SIZE=40,n.SIMPLE_NODE_HALF_SIZE=n.SIMPLE_NODE_SIZE/2,n.EMPTY_COMPOUND_NODE_SIZE=40,n.MIN_EDGE_LENGTH=1,n.WORLD_BOUNDARY=1e6,n.INITIAL_WORLD_BOUNDARY=n.WORLD_BOUNDARY/1e3,n.WORLD_CENTER_X=1200,n.WORLD_CENTER_Y=900,e.exports=n},function(e,t,r){"use strict";var n=r(2),a=r(8),i=r(9);function o(l,u,f){n.call(this,f),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=f,this.bendpoints=[],this.source=l,this.target=u}o.prototype=Object.create(n.prototype);for(var s in n)o[s]=n[s];o.prototype.getSource=function(){return this.source},o.prototype.getTarget=function(){return this.target},o.prototype.isInterGraph=function(){return this.isInterGraph},o.prototype.getLength=function(){return this.length},o.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},o.prototype.getBendpoints=function(){return this.bendpoints},o.prototype.getLca=function(){return this.lca},o.prototype.getSourceInLca=function(){return this.sourceInLca},o.prototype.getTargetInLca=function(){return this.targetInLca},o.prototype.getOtherEnd=function(l){if(this.source===l)return this.target;if(this.target===l)return this.source;throw"Node is not incident with this edge"},o.prototype.getOtherEndInGraph=function(l,u){for(var f=this.getOtherEnd(l),h=u.getGraphManager().getRoot();;){if(f.getOwner()==u)return f;if(f.getOwner()==h)break;f=f.getOwner().getParent()}return null},o.prototype.updateLength=function(){var l=new Array(4);this.isOverlapingSourceAndTarget=a.getIntersection(this.target.getRect(),this.source.getRect(),l),this.isOverlapingSourceAndTarget||(this.lengthX=l[0]-l[2],this.lengthY=l[1]-l[3],Math.abs(this.lengthX)<1&&(this.lengthX=i.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=i.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},o.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=i.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=i.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},e.exports=o},function(e,t,r){"use strict";function n(a){this.vGraphObject=a}e.exports=n},function(e,t,r){"use strict";var n=r(2),a=r(10),i=r(13),o=r(0),s=r(16),l=r(5);function u(h,d,p,m){p==null&&m==null&&(m=d),n.call(this,m),h.graphManager!=null&&(h=h.graphManager),this.estimatedSize=a.MIN_VALUE,this.inclusionTreeDepth=a.MAX_VALUE,this.vGraphObject=m,this.edges=[],this.graphManager=h,p!=null&&d!=null?this.rect=new i(d.x,d.y,p.width,p.height):this.rect=new i}u.prototype=Object.create(n.prototype);for(var f in n)u[f]=n[f];u.prototype.getEdges=function(){return this.edges},u.prototype.getChild=function(){return this.child},u.prototype.getOwner=function(){return this.owner},u.prototype.getWidth=function(){return this.rect.width},u.prototype.setWidth=function(h){this.rect.width=h},u.prototype.getHeight=function(){return this.rect.height},u.prototype.setHeight=function(h){this.rect.height=h},u.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},u.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},u.prototype.getCenter=function(){return new l(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},u.prototype.getLocation=function(){return new l(this.rect.x,this.rect.y)},u.prototype.getRect=function(){return this.rect},u.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},u.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},u.prototype.setRect=function(h,d){this.rect.x=h.x,this.rect.y=h.y,this.rect.width=d.width,this.rect.height=d.height},u.prototype.setCenter=function(h,d){this.rect.x=h-this.rect.width/2,this.rect.y=d-this.rect.height/2},u.prototype.setLocation=function(h,d){this.rect.x=h,this.rect.y=d},u.prototype.moveBy=function(h,d){this.rect.x+=h,this.rect.y+=d},u.prototype.getEdgeListToNode=function(h){var d=[],p,m=this;return m.edges.forEach(function(g){if(g.target==h){if(g.source!=m)throw"Incorrect edge source!";d.push(g)}}),d},u.prototype.getEdgesBetween=function(h){var d=[],p,m=this;return m.edges.forEach(function(g){if(!(g.source==m||g.target==m))throw"Incorrect edge source and/or target";(g.target==h||g.source==h)&&d.push(g)}),d},u.prototype.getNeighborsList=function(){var h=new Set,d=this;return d.edges.forEach(function(p){if(p.source==d)h.add(p.target);else{if(p.target!=d)throw"Incorrect incidency!";h.add(p.source)}}),h},u.prototype.withChildren=function(){var h=new Set,d,p;if(h.add(this),this.child!=null)for(var m=this.child.getNodes(),g=0;g<m.length;g++)d=m[g],p=d.withChildren(),p.forEach(function(v){h.add(v)});return h},u.prototype.getNoOfChildren=function(){var h=0,d;if(this.child==null)h=1;else for(var p=this.child.getNodes(),m=0;m<p.length;m++)d=p[m],h+=d.getNoOfChildren();return h==0&&(h=1),h},u.prototype.getEstimatedSize=function(){if(this.estimatedSize==a.MIN_VALUE)throw"assert failed";return this.estimatedSize},u.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},u.prototype.scatter=function(){var h,d,p=-o.INITIAL_WORLD_BOUNDARY,m=o.INITIAL_WORLD_BOUNDARY;h=o.WORLD_CENTER_X+s.nextDouble()*(m-p)+p;var g=-o.INITIAL_WORLD_BOUNDARY,v=o.INITIAL_WORLD_BOUNDARY;d=o.WORLD_CENTER_Y+s.nextDouble()*(v-g)+g,this.rect.x=h,this.rect.y=d},u.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var h=this.getChild();if(h.updateBounds(!0),this.rect.x=h.getLeft(),this.rect.y=h.getTop(),this.setWidth(h.getRight()-h.getLeft()),this.setHeight(h.getBottom()-h.getTop()),o.NODE_DIMENSIONS_INCLUDE_LABELS){var d=h.getRight()-h.getLeft(),p=h.getBottom()-h.getTop();this.labelWidth&&(this.labelPosHorizontal=="left"?(this.rect.x-=this.labelWidth,this.setWidth(d+this.labelWidth)):this.labelPosHorizontal=="center"&&this.labelWidth>d?(this.rect.x-=(this.labelWidth-d)/2,this.setWidth(this.labelWidth)):this.labelPosHorizontal=="right"&&this.setWidth(d+this.labelWidth)),this.labelHeight&&(this.labelPosVertical=="top"?(this.rect.y-=this.labelHeight,this.setHeight(p+this.labelHeight)):this.labelPosVertical=="center"&&this.labelHeight>p?(this.rect.y-=(this.labelHeight-p)/2,this.setHeight(this.labelHeight)):this.labelPosVertical=="bottom"&&this.setHeight(p+this.labelHeight))}}},u.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==a.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},u.prototype.transform=function(h){var d=this.rect.x;d>o.WORLD_BOUNDARY?d=o.WORLD_BOUNDARY:d<-o.WORLD_BOUNDARY&&(d=-o.WORLD_BOUNDARY);var p=this.rect.y;p>o.WORLD_BOUNDARY?p=o.WORLD_BOUNDARY:p<-o.WORLD_BOUNDARY&&(p=-o.WORLD_BOUNDARY);var m=new l(d,p),g=h.inverseTransformPoint(m);this.setLocation(g.x,g.y)},u.prototype.getLeft=function(){return this.rect.x},u.prototype.getRight=function(){return this.rect.x+this.rect.width},u.prototype.getTop=function(){return this.rect.y},u.prototype.getBottom=function(){return this.rect.y+this.rect.height},u.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},e.exports=u},function(e,t,r){"use strict";var n=r(0);function a(){}for(var i in n)a[i]=n[i];a.MAX_ITERATIONS=2500,a.DEFAULT_EDGE_LENGTH=50,a.DEFAULT_SPRING_STRENGTH=.45,a.DEFAULT_REPULSION_STRENGTH=4500,a.DEFAULT_GRAVITY_STRENGTH=.4,a.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,a.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,a.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,a.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,a.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,a.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,a.COOLING_ADAPTATION_FACTOR=.33,a.ADAPTATION_LOWER_NODE_LIMIT=1e3,a.ADAPTATION_UPPER_NODE_LIMIT=5e3,a.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,a.MAX_NODE_DISPLACEMENT=a.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,a.MIN_REPULSION_DIST=a.DEFAULT_EDGE_LENGTH/10,a.CONVERGENCE_CHECK_PERIOD=100,a.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,a.MIN_EDGE_LENGTH=1,a.GRID_CALCULATION_CHECK_PERIOD=10,e.exports=a},function(e,t,r){"use strict";function n(a,i){a==null&&i==null?(this.x=0,this.y=0):(this.x=a,this.y=i)}n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n.prototype.setX=function(a){this.x=a},n.prototype.setY=function(a){this.y=a},n.prototype.getDifference=function(a){return new DimensionD(this.x-a.x,this.y-a.y)},n.prototype.getCopy=function(){return new n(this.x,this.y)},n.prototype.translate=function(a){return this.x+=a.width,this.y+=a.height,this},e.exports=n},function(e,t,r){"use strict";var n=r(2),a=r(10),i=r(0),o=r(7),s=r(3),l=r(1),u=r(13),f=r(12),h=r(11);function d(m,g,v){n.call(this,v),this.estimatedSize=a.MIN_VALUE,this.margin=i.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=m,g!=null&&g instanceof o?this.graphManager=g:g!=null&&g instanceof Layout&&(this.graphManager=g.graphManager)}d.prototype=Object.create(n.prototype);for(var p in n)d[p]=n[p];d.prototype.getNodes=function(){return this.nodes},d.prototype.getEdges=function(){return this.edges},d.prototype.getGraphManager=function(){return this.graphManager},d.prototype.getParent=function(){return this.parent},d.prototype.getLeft=function(){return this.left},d.prototype.getRight=function(){return this.right},d.prototype.getTop=function(){return this.top},d.prototype.getBottom=function(){return this.bottom},d.prototype.isConnected=function(){return this.isConnected},d.prototype.add=function(m,g,v){if(g==null&&v==null){var y=m;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(y)>-1)throw"Node already in graph!";return y.owner=this,this.getNodes().push(y),y}else{var b=m;if(!(this.getNodes().indexOf(g)>-1&&this.getNodes().indexOf(v)>-1))throw"Source or target not in graph!";if(!(g.owner==v.owner&&g.owner==this))throw"Both owners must be this graph!";return g.owner!=v.owner?null:(b.source=g,b.target=v,b.isInterGraph=!1,this.getEdges().push(b),g.edges.push(b),v!=g&&v.edges.push(b),b)}},d.prototype.remove=function(m){var g=m;if(m instanceof s){if(g==null)throw"Node is null!";if(!(g.owner!=null&&g.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var v=g.edges.slice(),y,b=v.length,_=0;_<b;_++)y=v[_],y.isInterGraph?this.graphManager.remove(y):y.source.owner.remove(y);var k=this.nodes.indexOf(g);if(k==-1)throw"Node not in owner node list!";this.nodes.splice(k,1)}else if(m instanceof l){var y=m;if(y==null)throw"Edge is null!";if(!(y.source!=null&&y.target!=null))throw"Source and/or target is null!";if(!(y.source.owner!=null&&y.target.owner!=null&&y.source.owner==this&&y.target.owner==this))throw"Source and/or target owner is invalid!";var w=y.source.edges.indexOf(y),T=y.target.edges.indexOf(y);if(!(w>-1&&T>-1))throw"Source and/or target doesn't know this edge!";y.source.edges.splice(w,1),y.target!=y.source&&y.target.edges.splice(T,1);var k=y.source.owner.getEdges().indexOf(y);if(k==-1)throw"Not in owner's edge list!";y.source.owner.getEdges().splice(k,1)}},d.prototype.updateLeftTop=function(){for(var m=a.MAX_VALUE,g=a.MAX_VALUE,v,y,b,_=this.getNodes(),k=_.length,w=0;w<k;w++){var T=_[w];v=T.getTop(),y=T.getLeft(),m>v&&(m=v),g>y&&(g=y)}return m==a.MAX_VALUE?null:(_[0].getParent().paddingLeft!=null?b=_[0].getParent().paddingLeft:b=this.margin,this.left=g-b,this.top=m-b,new f(this.left,this.top))},d.prototype.updateBounds=function(m){for(var g=a.MAX_VALUE,v=-a.MAX_VALUE,y=a.MAX_VALUE,b=-a.MAX_VALUE,_,k,w,T,S,C=this.nodes,M=C.length,N=0;N<M;N++){var L=C[N];m&&L.child!=null&&L.updateBounds(),_=L.getLeft(),k=L.getRight(),w=L.getTop(),T=L.getBottom(),g>_&&(g=_),v<k&&(v=k),y>w&&(y=w),b<T&&(b=T)}var E=new u(g,y,v-g,b-y);g==a.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),C[0].getParent().paddingLeft!=null?S=C[0].getParent().paddingLeft:S=this.margin,this.left=E.x-S,this.right=E.x+E.width+S,this.top=E.y-S,this.bottom=E.y+E.height+S},d.calculateBounds=function(m){for(var g=a.MAX_VALUE,v=-a.MAX_VALUE,y=a.MAX_VALUE,b=-a.MAX_VALUE,_,k,w,T,S=m.length,C=0;C<S;C++){var M=m[C];_=M.getLeft(),k=M.getRight(),w=M.getTop(),T=M.getBottom(),g>_&&(g=_),v<k&&(v=k),y>w&&(y=w),b<T&&(b=T)}var N=new u(g,y,v-g,b-y);return N},d.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},d.prototype.getEstimatedSize=function(){if(this.estimatedSize==a.MIN_VALUE)throw"assert failed";return this.estimatedSize},d.prototype.calcEstimatedSize=function(){for(var m=0,g=this.nodes,v=g.length,y=0;y<v;y++){var b=g[y];m+=b.calcEstimatedSize()}return m==0?this.estimatedSize=i.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=m/Math.sqrt(this.nodes.length),this.estimatedSize},d.prototype.updateConnected=function(){var m=this;if(this.nodes.length==0){this.isConnected=!0;return}var g=new h,v=new Set,y=this.nodes[0],b,_,k=y.withChildren();for(k.forEach(function(N){g.push(N),v.add(N)});g.length!==0;){y=g.shift(),b=y.getEdges();for(var w=b.length,T=0;T<w;T++){var S=b[T];if(_=S.getOtherEndInGraph(y,this),_!=null&&!v.has(_)){var C=_.withChildren();C.forEach(function(N){g.push(N),v.add(N)})}}}if(this.isConnected=!1,v.size>=this.nodes.length){var M=0;v.forEach(function(N){N.owner==m&&M++}),M==this.nodes.length&&(this.isConnected=!0)}},e.exports=d},function(e,t,r){"use strict";var n,a=r(1);function i(o){n=r(6),this.layout=o,this.graphs=[],this.edges=[]}i.prototype.addRoot=function(){var o=this.layout.newGraph(),s=this.layout.newNode(null),l=this.add(o,s);return this.setRootGraph(l),this.rootGraph},i.prototype.add=function(o,s,l,u,f){if(l==null&&u==null&&f==null){if(o==null)throw"Graph is null!";if(s==null)throw"Parent node is null!";if(this.graphs.indexOf(o)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(o),o.parent!=null)throw"Already has a parent!";if(s.child!=null)throw"Already has a child!";return o.parent=s,s.child=o,o}else{f=l,u=s,l=o;var h=u.getOwner(),d=f.getOwner();if(!(h!=null&&h.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(d!=null&&d.getGraphManager()==this))throw"Target not in this graph mgr!";if(h==d)return l.isInterGraph=!1,h.add(l,u,f);if(l.isInterGraph=!0,l.source=u,l.target=f,this.edges.indexOf(l)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(l),!(l.source!=null&&l.target!=null))throw"Edge source and/or target is null!";if(!(l.source.edges.indexOf(l)==-1&&l.target.edges.indexOf(l)==-1))throw"Edge already in source and/or target incidency list!";return l.source.edges.push(l),l.target.edges.push(l),l}},i.prototype.remove=function(o){if(o instanceof n){var s=o;if(s.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(s==this.rootGraph||s.parent!=null&&s.parent.graphManager==this))throw"Invalid parent node!";var l=[];l=l.concat(s.getEdges());for(var u,f=l.length,h=0;h<f;h++)u=l[h],s.remove(u);var d=[];d=d.concat(s.getNodes());var p;f=d.length;for(var h=0;h<f;h++)p=d[h],s.remove(p);s==this.rootGraph&&this.setRootGraph(null);var m=this.graphs.indexOf(s);this.graphs.splice(m,1),s.parent=null}else if(o instanceof a){if(u=o,u==null)throw"Edge is null!";if(!u.isInterGraph)throw"Not an inter-graph edge!";if(!(u.source!=null&&u.target!=null))throw"Source and/or target is null!";if(!(u.source.edges.indexOf(u)!=-1&&u.target.edges.indexOf(u)!=-1))throw"Source and/or target doesn't know this edge!";var m=u.source.edges.indexOf(u);if(u.source.edges.splice(m,1),m=u.target.edges.indexOf(u),u.target.edges.splice(m,1),!(u.source.owner!=null&&u.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(u.source.owner.getGraphManager().edges.indexOf(u)==-1)throw"Not in owner graph manager's edge list!";var m=u.source.owner.getGraphManager().edges.indexOf(u);u.source.owner.getGraphManager().edges.splice(m,1)}},i.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},i.prototype.getGraphs=function(){return this.graphs},i.prototype.getAllNodes=function(){if(this.allNodes==null){for(var o=[],s=this.getGraphs(),l=s.length,u=0;u<l;u++)o=o.concat(s[u].getNodes());this.allNodes=o}return this.allNodes},i.prototype.resetAllNodes=function(){this.allNodes=null},i.prototype.resetAllEdges=function(){this.allEdges=null},i.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},i.prototype.getAllEdges=function(){if(this.allEdges==null){for(var o=[],s=this.getGraphs(),l=s.length,u=0;u<s.length;u++)o=o.concat(s[u].getEdges());o=o.concat(this.edges),this.allEdges=o}return this.allEdges},i.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},i.prototype.setAllNodesToApplyGravitation=function(o){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=o},i.prototype.getRoot=function(){return this.rootGraph},i.prototype.setRootGraph=function(o){if(o.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=o,o.parent==null&&(o.parent=this.layout.newNode("Root node"))},i.prototype.getLayout=function(){return this.layout},i.prototype.isOneAncestorOfOther=function(o,s){if(!(o!=null&&s!=null))throw"assert failed";if(o==s)return!0;var l=o.getOwner(),u;do{if(u=l.getParent(),u==null)break;if(u==s)return!0;if(l=u.getOwner(),l==null)break}while(!0);l=s.getOwner();do{if(u=l.getParent(),u==null)break;if(u==o)return!0;if(l=u.getOwner(),l==null)break}while(!0);return!1},i.prototype.calcLowestCommonAncestors=function(){for(var o,s,l,u,f,h=this.getAllEdges(),d=h.length,p=0;p<d;p++){if(o=h[p],s=o.source,l=o.target,o.lca=null,o.sourceInLca=s,o.targetInLca=l,s==l){o.lca=s.getOwner();continue}for(u=s.getOwner();o.lca==null;){for(o.targetInLca=l,f=l.getOwner();o.lca==null;){if(f==u){o.lca=f;break}if(f==this.rootGraph)break;if(o.lca!=null)throw"assert failed";o.targetInLca=f.getParent(),f=o.targetInLca.getOwner()}if(u==this.rootGraph)break;o.lca==null&&(o.sourceInLca=u.getParent(),u=o.sourceInLca.getOwner())}if(o.lca==null)throw"assert failed"}},i.prototype.calcLowestCommonAncestor=function(o,s){if(o==s)return o.getOwner();var l=o.getOwner();do{if(l==null)break;var u=s.getOwner();do{if(u==null)break;if(u==l)return u;u=u.getParent().getOwner()}while(!0);l=l.getParent().getOwner()}while(!0);return l},i.prototype.calcInclusionTreeDepths=function(o,s){o==null&&s==null&&(o=this.rootGraph,s=1);for(var l,u=o.getNodes(),f=u.length,h=0;h<f;h++)l=u[h],l.inclusionTreeDepth=s,l.child!=null&&this.calcInclusionTreeDepths(l.child,s+1)},i.prototype.includesInvalidEdge=function(){for(var o,s=[],l=this.edges.length,u=0;u<l;u++)o=this.edges[u],this.isOneAncestorOfOther(o.source,o.target)&&s.push(o);for(var u=0;u<s.length;u++)this.remove(s[u]);return!1},e.exports=i},function(e,t,r){"use strict";var n=r(12);function a(){}a.calcSeparationAmount=function(i,o,s,l){if(!i.intersects(o))throw"assert failed";var u=new Array(2);this.decideDirectionsForOverlappingNodes(i,o,u),s[0]=Math.min(i.getRight(),o.getRight())-Math.max(i.x,o.x),s[1]=Math.min(i.getBottom(),o.getBottom())-Math.max(i.y,o.y),i.getX()<=o.getX()&&i.getRight()>=o.getRight()?s[0]+=Math.min(o.getX()-i.getX(),i.getRight()-o.getRight()):o.getX()<=i.getX()&&o.getRight()>=i.getRight()&&(s[0]+=Math.min(i.getX()-o.getX(),o.getRight()-i.getRight())),i.getY()<=o.getY()&&i.getBottom()>=o.getBottom()?s[1]+=Math.min(o.getY()-i.getY(),i.getBottom()-o.getBottom()):o.getY()<=i.getY()&&o.getBottom()>=i.getBottom()&&(s[1]+=Math.min(i.getY()-o.getY(),o.getBottom()-i.getBottom()));var f=Math.abs((o.getCenterY()-i.getCenterY())/(o.getCenterX()-i.getCenterX()));o.getCenterY()===i.getCenterY()&&o.getCenterX()===i.getCenterX()&&(f=1);var h=f*s[0],d=s[1]/f;s[0]<d?d=s[0]:h=s[1],s[0]=-1*u[0]*(d/2+l),s[1]=-1*u[1]*(h/2+l)},a.decideDirectionsForOverlappingNodes=function(i,o,s){i.getCenterX()<o.getCenterX()?s[0]=-1:s[0]=1,i.getCenterY()<o.getCenterY()?s[1]=-1:s[1]=1},a.getIntersection2=function(i,o,s){var l=i.getCenterX(),u=i.getCenterY(),f=o.getCenterX(),h=o.getCenterY();if(i.intersects(o))return s[0]=l,s[1]=u,s[2]=f,s[3]=h,!0;var d=i.getX(),p=i.getY(),m=i.getRight(),g=i.getX(),v=i.getBottom(),y=i.getRight(),b=i.getWidthHalf(),_=i.getHeightHalf(),k=o.getX(),w=o.getY(),T=o.getRight(),S=o.getX(),C=o.getBottom(),M=o.getRight(),N=o.getWidthHalf(),L=o.getHeightHalf(),E=!1,A=!1;if(l===f){if(u>h)return s[0]=l,s[1]=p,s[2]=f,s[3]=C,!1;if(u<h)return s[0]=l,s[1]=v,s[2]=f,s[3]=w,!1}else if(u===h){if(l>f)return s[0]=d,s[1]=u,s[2]=T,s[3]=h,!1;if(l<f)return s[0]=m,s[1]=u,s[2]=k,s[3]=h,!1}else{var D=i.height/i.width,R=o.height/o.width,I=(h-u)/(f-l),O=void 0,F=void 0,P=void 0,q=void 0,$=void 0,W=void 0;if(-D===I?l>f?(s[0]=g,s[1]=v,E=!0):(s[0]=m,s[1]=p,E=!0):D===I&&(l>f?(s[0]=d,s[1]=p,E=!0):(s[0]=y,s[1]=v,E=!0)),-R===I?f>l?(s[2]=S,s[3]=C,A=!0):(s[2]=T,s[3]=w,A=!0):R===I&&(f>l?(s[2]=k,s[3]=w,A=!0):(s[2]=M,s[3]=C,A=!0)),E&&A)return!1;if(l>f?u>h?(O=this.getCardinalDirection(D,I,4),F=this.getCardinalDirection(R,I,2)):(O=this.getCardinalDirection(-D,I,3),F=this.getCardinalDirection(-R,I,1)):u>h?(O=this.getCardinalDirection(-D,I,1),F=this.getCardinalDirection(-R,I,3)):(O=this.getCardinalDirection(D,I,2),F=this.getCardinalDirection(R,I,4)),!E)switch(O){case 1:q=p,P=l+-_/I,s[0]=P,s[1]=q;break;case 2:P=y,q=u+b*I,s[0]=P,s[1]=q;break;case 3:q=v,P=l+_/I,s[0]=P,s[1]=q;break;case 4:P=g,q=u+-b*I,s[0]=P,s[1]=q;break}if(!A)switch(F){case 1:W=w,$=f+-L/I,s[2]=$,s[3]=W;break;case 2:$=M,W=h+N*I,s[2]=$,s[3]=W;break;case 3:W=C,$=f+L/I,s[2]=$,s[3]=W;break;case 4:$=S,W=h+-N*I,s[2]=$,s[3]=W;break}}return!1},a.getCardinalDirection=function(i,o,s){return i>o?s:1+s%4},a.getIntersection=function(i,o,s,l){if(l==null)return this.getIntersection2(i,o,s);var u=i.x,f=i.y,h=o.x,d=o.y,p=s.x,m=s.y,g=l.x,v=l.y,y=void 0,b=void 0,_=void 0,k=void 0,w=void 0,T=void 0,S=void 0,C=void 0,M=void 0;return _=d-f,w=u-h,S=h*f-u*d,k=v-m,T=p-g,C=g*m-p*v,M=_*T-k*w,M===0?null:(y=(w*C-T*S)/M,b=(k*S-_*C)/M,new n(y,b))},a.angleOfVector=function(i,o,s,l){var u=void 0;return i!==s?(u=Math.atan((l-o)/(s-i)),s<i?u+=Math.PI:l<o&&(u+=this.TWO_PI)):l<o?u=this.ONE_AND_HALF_PI:u=this.HALF_PI,u},a.doIntersect=function(i,o,s,l){var u=i.x,f=i.y,h=o.x,d=o.y,p=s.x,m=s.y,g=l.x,v=l.y,y=(h-u)*(v-m)-(g-p)*(d-f);if(y===0)return!1;var b=((v-m)*(g-u)+(p-g)*(v-f))/y,_=((f-d)*(g-u)+(h-u)*(v-f))/y;return 0<b&&b<1&&0<_&&_<1},a.findCircleLineIntersections=function(i,o,s,l,u,f,h){var d=(s-i)*(s-i)+(l-o)*(l-o),p=2*((i-u)*(s-i)+(o-f)*(l-o)),m=(i-u)*(i-u)+(o-f)*(o-f)-h*h,g=p*p-4*d*m;if(g>=0){var v=(-p+Math.sqrt(p*p-4*d*m))/(2*d),y=(-p-Math.sqrt(p*p-4*d*m))/(2*d),b=null;return v>=0&&v<=1?[v]:y>=0&&y<=1?[y]:b}else return null},a.HALF_PI=.5*Math.PI,a.ONE_AND_HALF_PI=1.5*Math.PI,a.TWO_PI=2*Math.PI,a.THREE_PI=3*Math.PI,e.exports=a},function(e,t,r){"use strict";function n(){}n.sign=function(a){return a>0?1:a<0?-1:0},n.floor=function(a){return a<0?Math.ceil(a):Math.floor(a)},n.ceil=function(a){return a<0?Math.floor(a):Math.ceil(a)},e.exports=n},function(e,t,r){"use strict";function n(){}n.MAX_VALUE=2147483647,n.MIN_VALUE=-2147483648,e.exports=n},function(e,t,r){"use strict";var n=function(){function u(f,h){for(var d=0;d<h.length;d++){var p=h[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(f,p.key,p)}}return function(f,h,d){return h&&u(f.prototype,h),d&&u(f,d),f}}();function a(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")}var i=function(f){return{value:f,next:null,prev:null}},o=function(f,h,d,p){return f!==null?f.next=h:p.head=h,d!==null?d.prev=h:p.tail=h,h.prev=f,h.next=d,p.length++,h},s=function(f,h){var d=f.prev,p=f.next;return d!==null?d.next=p:h.head=p,p!==null?p.prev=d:h.tail=d,f.prev=f.next=null,h.length--,f},l=function(){function u(f){var h=this;a(this,u),this.length=0,this.head=null,this.tail=null,f?.forEach(function(d){return h.push(d)})}return n(u,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(h,d){return o(d.prev,i(h),d,this)}},{key:"insertAfter",value:function(h,d){return o(d,i(h),d.next,this)}},{key:"insertNodeBefore",value:function(h,d){return o(d.prev,h,d,this)}},{key:"insertNodeAfter",value:function(h,d){return o(d,h,d.next,this)}},{key:"push",value:function(h){return o(this.tail,i(h),null,this)}},{key:"unshift",value:function(h){return o(null,i(h),this.head,this)}},{key:"remove",value:function(h){return s(h,this)}},{key:"pop",value:function(){return s(this.tail,this).value}},{key:"popNode",value:function(){return s(this.tail,this)}},{key:"shift",value:function(){return s(this.head,this).value}},{key:"shiftNode",value:function(){return s(this.head,this)}},{key:"get_object_at",value:function(h){if(h<=this.length()){for(var d=1,p=this.head;d<h;)p=p.next,d++;return p.value}}},{key:"set_object_at",value:function(h,d){if(h<=this.length()){for(var p=1,m=this.head;p<h;)m=m.next,p++;m.value=d}}}]),u}();e.exports=l},function(e,t,r){"use strict";function n(a,i,o){this.x=null,this.y=null,a==null&&i==null&&o==null?(this.x=0,this.y=0):typeof a=="number"&&typeof i=="number"&&o==null?(this.x=a,this.y=i):a.constructor.name=="Point"&&i==null&&o==null&&(o=a,this.x=o.x,this.y=o.y)}n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n.prototype.getLocation=function(){return new n(this.x,this.y)},n.prototype.setLocation=function(a,i,o){a.constructor.name=="Point"&&i==null&&o==null?(o=a,this.setLocation(o.x,o.y)):typeof a=="number"&&typeof i=="number"&&o==null&&(parseInt(a)==a&&parseInt(i)==i?this.move(a,i):(this.x=Math.floor(a+.5),this.y=Math.floor(i+.5)))},n.prototype.move=function(a,i){this.x=a,this.y=i},n.prototype.translate=function(a,i){this.x+=a,this.y+=i},n.prototype.equals=function(a){if(a.constructor.name=="Point"){var i=a;return this.x==i.x&&this.y==i.y}return this==a},n.prototype.toString=function(){return new n().constructor.name+"[x="+this.x+",y="+this.y+"]"},e.exports=n},function(e,t,r){"use strict";function n(a,i,o,s){this.x=0,this.y=0,this.width=0,this.height=0,a!=null&&i!=null&&o!=null&&s!=null&&(this.x=a,this.y=i,this.width=o,this.height=s)}n.prototype.getX=function(){return this.x},n.prototype.setX=function(a){this.x=a},n.prototype.getY=function(){return this.y},n.prototype.setY=function(a){this.y=a},n.prototype.getWidth=function(){return this.width},n.prototype.setWidth=function(a){this.width=a},n.prototype.getHeight=function(){return this.height},n.prototype.setHeight=function(a){this.height=a},n.prototype.getRight=function(){return this.x+this.width},n.prototype.getBottom=function(){return this.y+this.height},n.prototype.intersects=function(a){return!(this.getRight()<a.x||this.getBottom()<a.y||a.getRight()<this.x||a.getBottom()<this.y)},n.prototype.getCenterX=function(){return this.x+this.width/2},n.prototype.getMinX=function(){return this.getX()},n.prototype.getMaxX=function(){return this.getX()+this.width},n.prototype.getCenterY=function(){return this.y+this.height/2},n.prototype.getMinY=function(){return this.getY()},n.prototype.getMaxY=function(){return this.getY()+this.height},n.prototype.getWidthHalf=function(){return this.width/2},n.prototype.getHeightHalf=function(){return this.height/2},e.exports=n},function(e,t,r){"use strict";var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i};function a(){}a.lastID=0,a.createID=function(i){return a.isPrimitive(i)?i:(i.uniqueID!=null||(i.uniqueID=a.getString(),a.lastID++),i.uniqueID)},a.getString=function(i){return i==null&&(i=a.lastID),"Object#"+i},a.isPrimitive=function(i){var o=typeof i>"u"?"undefined":n(i);return i==null||o!="object"&&o!="function"},e.exports=a},function(e,t,r){"use strict";function n(p){if(Array.isArray(p)){for(var m=0,g=Array(p.length);m<p.length;m++)g[m]=p[m];return g}else return Array.from(p)}var a=r(0),i=r(7),o=r(3),s=r(1),l=r(6),u=r(5),f=r(17),h=r(29);function d(p){h.call(this),this.layoutQuality=a.QUALITY,this.createBendsAsNeeded=a.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=a.DEFAULT_INCREMENTAL,this.animationOnLayout=a.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=a.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=a.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=a.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new i(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,p!=null&&(this.isRemoteUse=p)}d.RANDOM_SEED=1,d.prototype=Object.create(h.prototype),d.prototype.getGraphManager=function(){return this.graphManager},d.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},d.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},d.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},d.prototype.newGraphManager=function(){var p=new i(this);return this.graphManager=p,p},d.prototype.newGraph=function(p){return new l(null,this.graphManager,p)},d.prototype.newNode=function(p){return new o(this.graphManager,p)},d.prototype.newEdge=function(p){return new s(null,null,p)},d.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},d.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var p;return this.checkLayoutSuccess()?p=!1:p=this.layout(),a.ANIMATE==="during"?!1:(p&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,p)},d.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},d.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var p,m=this.graphManager.getAllEdges(),g=0;g<m.length;g++)p=m[g];for(var v,y=this.graphManager.getRoot().getNodes(),g=0;g<y.length;g++)v=y[g];this.update(this.graphManager.getRoot())}},d.prototype.update=function(p){if(p==null)this.update2();else if(p instanceof o){var m=p;if(m.getChild()!=null)for(var g=m.getChild().getNodes(),v=0;v<g.length;v++)update(g[v]);if(m.vGraphObject!=null){var y=m.vGraphObject;y.update(m)}}else if(p instanceof s){var b=p;if(b.vGraphObject!=null){var _=b.vGraphObject;_.update(b)}}else if(p instanceof l){var k=p;if(k.vGraphObject!=null){var w=k.vGraphObject;w.update(k)}}},d.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=a.QUALITY,this.animationDuringLayout=a.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=a.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=a.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=a.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=a.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=a.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},d.prototype.transform=function(p){if(p==null)this.transform(new u(0,0));else{var m=new f,g=this.graphManager.getRoot().updateLeftTop();if(g!=null){m.setWorldOrgX(p.x),m.setWorldOrgY(p.y),m.setDeviceOrgX(g.x),m.setDeviceOrgY(g.y);for(var v=this.getAllNodes(),y,b=0;b<v.length;b++)y=v[b],y.transform(m)}}},d.prototype.positionNodesRandomly=function(p){if(p==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var m,g,v=p.getNodes(),y=0;y<v.length;y++)m=v[y],g=m.getChild(),g==null||g.getNodes().length==0?m.scatter():(this.positionNodesRandomly(g),m.updateBounds())},d.prototype.getFlatForest=function(){for(var p=[],m=!0,g=this.graphManager.getRoot().getNodes(),v=!0,y=0;y<g.length;y++)g[y].getChild()!=null&&(v=!1);if(!v)return p;var b=new Set,_=[],k=new Map,w=[];for(w=w.concat(g);w.length>0&&m;){for(_.push(w[0]);_.length>0&&m;){var T=_[0];_.splice(0,1),b.add(T);for(var S=T.getEdges(),y=0;y<S.length;y++){var C=S[y].getOtherEnd(T);if(k.get(T)!=C)if(!b.has(C))_.push(C),k.set(C,T);else{m=!1;break}}}if(!m)p=[];else{var M=[].concat(n(b));p.push(M);for(var y=0;y<M.length;y++){var N=M[y],L=w.indexOf(N);L>-1&&w.splice(L,1)}b=new Set,k=new Map}}return p},d.prototype.createDummyNodesForBendpoints=function(p){for(var m=[],g=p.source,v=this.graphManager.calcLowestCommonAncestor(p.source,p.target),y=0;y<p.bendpoints.length;y++){var b=this.newNode(null);b.setRect(new Point(0,0),new Dimension(1,1)),v.add(b);var _=this.newEdge(null);this.graphManager.add(_,g,b),m.add(b),g=b}var _=this.newEdge(null);return this.graphManager.add(_,g,p.target),this.edgeToDummyNodes.set(p,m),p.isInterGraph()?this.graphManager.remove(p):v.remove(p),m},d.prototype.createBendpointsFromDummyNodes=function(){var p=[];p=p.concat(this.graphManager.getAllEdges()),p=[].concat(n(this.edgeToDummyNodes.keys())).concat(p);for(var m=0;m<p.length;m++){var g=p[m];if(g.bendpoints.length>0){for(var v=this.edgeToDummyNodes.get(g),y=0;y<v.length;y++){var b=v[y],_=new u(b.getCenterX(),b.getCenterY()),k=g.bendpoints.get(y);k.x=_.x,k.y=_.y,b.getOwner().remove(b)}this.graphManager.add(g,g.source,g.target)}}},d.transform=function(p,m,g,v){if(g!=null&&v!=null){var y=m;if(p<=50){var b=m/g;y-=(m-b)/50*(50-p)}else{var _=m*v;y+=(_-m)/50*(p-50)}return y}else{var k,w;return p<=50?(k=9*m/500,w=m/10):(k=9*m/50,w=-8*m),k*p+w}},d.findCenterOfTree=function(p){var m=[];m=m.concat(p);var g=[],v=new Map,y=!1,b=null;(m.length==1||m.length==2)&&(y=!0,b=m[0]);for(var _=0;_<m.length;_++){var k=m[_],w=k.getNeighborsList().size;v.set(k,k.getNeighborsList().size),w==1&&g.push(k)}var T=[];for(T=T.concat(g);!y;){var S=[];S=S.concat(T),T=[];for(var _=0;_<m.length;_++){var k=m[_],C=m.indexOf(k);C>=0&&m.splice(C,1);var M=k.getNeighborsList();M.forEach(function(E){if(g.indexOf(E)<0){var A=v.get(E),D=A-1;D==1&&T.push(E),v.set(E,D)}})}g=g.concat(T),(m.length==1||m.length==2)&&(y=!0,b=m[0])}return b},d.prototype.setGraphManager=function(p){this.graphManager=p},e.exports=d},function(e,t,r){"use strict";function n(){}n.seed=1,n.x=0,n.nextDouble=function(){return n.x=Math.sin(n.seed++)*1e4,n.x-Math.floor(n.x)},e.exports=n},function(e,t,r){"use strict";var n=r(5);function a(i,o){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}a.prototype.getWorldOrgX=function(){return this.lworldOrgX},a.prototype.setWorldOrgX=function(i){this.lworldOrgX=i},a.prototype.getWorldOrgY=function(){return this.lworldOrgY},a.prototype.setWorldOrgY=function(i){this.lworldOrgY=i},a.prototype.getWorldExtX=function(){return this.lworldExtX},a.prototype.setWorldExtX=function(i){this.lworldExtX=i},a.prototype.getWorldExtY=function(){return this.lworldExtY},a.prototype.setWorldExtY=function(i){this.lworldExtY=i},a.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},a.prototype.setDeviceOrgX=function(i){this.ldeviceOrgX=i},a.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},a.prototype.setDeviceOrgY=function(i){this.ldeviceOrgY=i},a.prototype.getDeviceExtX=function(){return this.ldeviceExtX},a.prototype.setDeviceExtX=function(i){this.ldeviceExtX=i},a.prototype.getDeviceExtY=function(){return this.ldeviceExtY},a.prototype.setDeviceExtY=function(i){this.ldeviceExtY=i},a.prototype.transformX=function(i){var o=0,s=this.lworldExtX;return s!=0&&(o=this.ldeviceOrgX+(i-this.lworldOrgX)*this.ldeviceExtX/s),o},a.prototype.transformY=function(i){var o=0,s=this.lworldExtY;return s!=0&&(o=this.ldeviceOrgY+(i-this.lworldOrgY)*this.ldeviceExtY/s),o},a.prototype.inverseTransformX=function(i){var o=0,s=this.ldeviceExtX;return s!=0&&(o=this.lworldOrgX+(i-this.ldeviceOrgX)*this.lworldExtX/s),o},a.prototype.inverseTransformY=function(i){var o=0,s=this.ldeviceExtY;return s!=0&&(o=this.lworldOrgY+(i-this.ldeviceOrgY)*this.lworldExtY/s),o},a.prototype.inverseTransformPoint=function(i){var o=new n(this.inverseTransformX(i.x),this.inverseTransformY(i.y));return o},e.exports=a},function(e,t,r){"use strict";function n(h){if(Array.isArray(h)){for(var d=0,p=Array(h.length);d<h.length;d++)p[d]=h[d];return p}else return Array.from(h)}var a=r(15),i=r(4),o=r(0),s=r(8),l=r(9);function u(){a.call(this),this.useSmartIdealEdgeLengthCalculation=i.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=i.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=i.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=i.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=i.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*i.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=i.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=i.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=i.MAX_ITERATIONS}u.prototype=Object.create(a.prototype);for(var f in a)u[f]=a[f];u.prototype.initParameters=function(){a.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=i.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},u.prototype.calcIdealEdgeLengths=function(){for(var h,d,p,m,g,v,y,b=this.getGraphManager().getAllEdges(),_=0;_<b.length;_++)h=b[_],d=h.idealLength,h.isInterGraph&&(m=h.getSource(),g=h.getTarget(),v=h.getSourceInLca().getEstimatedSize(),y=h.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(h.idealLength+=v+y-2*o.SIMPLE_NODE_SIZE),p=h.getLca().getInclusionTreeDepth(),h.idealLength+=d*i.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(m.getInclusionTreeDepth()+g.getInclusionTreeDepth()-2*p))},u.prototype.initSpringEmbedder=function(){var h=this.getAllNodes().length;this.incremental?(h>i.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*i.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(h-i.ADAPTATION_LOWER_NODE_LIMIT)/(i.ADAPTATION_UPPER_NODE_LIMIT-i.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-i.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=i.MAX_NODE_DISPLACEMENT_INCREMENTAL):(h>i.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(i.COOLING_ADAPTATION_FACTOR,1-(h-i.ADAPTATION_LOWER_NODE_LIMIT)/(i.ADAPTATION_UPPER_NODE_LIMIT-i.ADAPTATION_LOWER_NODE_LIMIT)*(1-i.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=i.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.displacementThresholdPerNode=3*i.DEFAULT_EDGE_LENGTH/100,this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},u.prototype.calcSpringForces=function(){for(var h=this.getAllEdges(),d,p=0;p<h.length;p++)d=h[p],this.calcSpringForce(d,d.idealLength)},u.prototype.calcRepulsionForces=function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,p,m,g,v,y=this.getAllNodes(),b;if(this.useFRGridVariant)for(this.totalIterations%i.GRID_CALCULATION_CHECK_PERIOD==1&&h&&this.updateGrid(),b=new Set,p=0;p<y.length;p++)g=y[p],this.calculateRepulsionForceOfANode(g,b,h,d),b.add(g);else for(p=0;p<y.length;p++)for(g=y[p],m=p+1;m<y.length;m++)v=y[m],g.getOwner()==v.getOwner()&&this.calcRepulsionForce(g,v)},u.prototype.calcGravitationalForces=function(){for(var h,d=this.getAllNodesToApplyGravitation(),p=0;p<d.length;p++)h=d[p],this.calcGravitationalForce(h)},u.prototype.moveNodes=function(){for(var h=this.getAllNodes(),d,p=0;p<h.length;p++)d=h[p],d.move()},u.prototype.calcSpringForce=function(h,d){var p=h.getSource(),m=h.getTarget(),g,v,y,b;if(this.uniformLeafNodeSizes&&p.getChild()==null&&m.getChild()==null)h.updateLengthSimple();else if(h.updateLength(),h.isOverlapingSourceAndTarget)return;g=h.getLength(),g!=0&&(v=h.edgeElasticity*(g-d),y=v*(h.lengthX/g),b=v*(h.lengthY/g),p.springForceX+=y,p.springForceY+=b,m.springForceX-=y,m.springForceY-=b)},u.prototype.calcRepulsionForce=function(h,d){var p=h.getRect(),m=d.getRect(),g=new Array(2),v=new Array(4),y,b,_,k,w,T,S;if(p.intersects(m)){s.calcSeparationAmount(p,m,g,i.DEFAULT_EDGE_LENGTH/2),T=2*g[0],S=2*g[1];var C=h.noOfChildren*d.noOfChildren/(h.noOfChildren+d.noOfChildren);h.repulsionForceX-=C*T,h.repulsionForceY-=C*S,d.repulsionForceX+=C*T,d.repulsionForceY+=C*S}else this.uniformLeafNodeSizes&&h.getChild()==null&&d.getChild()==null?(y=m.getCenterX()-p.getCenterX(),b=m.getCenterY()-p.getCenterY()):(s.getIntersection(p,m,v),y=v[2]-v[0],b=v[3]-v[1]),Math.abs(y)<i.MIN_REPULSION_DIST&&(y=l.sign(y)*i.MIN_REPULSION_DIST),Math.abs(b)<i.MIN_REPULSION_DIST&&(b=l.sign(b)*i.MIN_REPULSION_DIST),_=y*y+b*b,k=Math.sqrt(_),w=(h.nodeRepulsion/2+d.nodeRepulsion/2)*h.noOfChildren*d.noOfChildren/_,T=w*y/k,S=w*b/k,h.repulsionForceX-=T,h.repulsionForceY-=S,d.repulsionForceX+=T,d.repulsionForceY+=S},u.prototype.calcGravitationalForce=function(h){var d,p,m,g,v,y,b,_;d=h.getOwner(),p=(d.getRight()+d.getLeft())/2,m=(d.getTop()+d.getBottom())/2,g=h.getCenterX()-p,v=h.getCenterY()-m,y=Math.abs(g)+h.getWidth()/2,b=Math.abs(v)+h.getHeight()/2,h.getOwner()==this.graphManager.getRoot()?(_=d.getEstimatedSize()*this.gravityRangeFactor,(y>_||b>_)&&(h.gravitationForceX=-this.gravityConstant*g,h.gravitationForceY=-this.gravityConstant*v)):(_=d.getEstimatedSize()*this.compoundGravityRangeFactor,(y>_||b>_)&&(h.gravitationForceX=-this.gravityConstant*g*this.compoundGravityConstant,h.gravitationForceY=-this.gravityConstant*v*this.compoundGravityConstant))},u.prototype.isConverged=function(){var h,d=!1;return this.totalIterations>this.maxIterations/3&&(d=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),h=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,h||d},u.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},u.prototype.calcNoOfChildrenForAllNodes=function(){for(var h,d=this.graphManager.getAllNodes(),p=0;p<d.length;p++)h=d[p],h.noOfChildren=h.getNoOfChildren()},u.prototype.calcGrid=function(h){var d=0,p=0;d=parseInt(Math.ceil((h.getRight()-h.getLeft())/this.repulsionRange)),p=parseInt(Math.ceil((h.getBottom()-h.getTop())/this.repulsionRange));for(var m=new Array(d),g=0;g<d;g++)m[g]=new Array(p);for(var g=0;g<d;g++)for(var v=0;v<p;v++)m[g][v]=new Array;return m},u.prototype.addNodeToGrid=function(h,d,p){var m=0,g=0,v=0,y=0;m=parseInt(Math.floor((h.getRect().x-d)/this.repulsionRange)),g=parseInt(Math.floor((h.getRect().width+h.getRect().x-d)/this.repulsionRange)),v=parseInt(Math.floor((h.getRect().y-p)/this.repulsionRange)),y=parseInt(Math.floor((h.getRect().height+h.getRect().y-p)/this.repulsionRange));for(var b=m;b<=g;b++)for(var _=v;_<=y;_++)this.grid[b][_].push(h),h.setGridCoordinates(m,g,v,y)},u.prototype.updateGrid=function(){var h,d,p=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),h=0;h<p.length;h++)d=p[h],this.addNodeToGrid(d,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},u.prototype.calculateRepulsionForceOfANode=function(h,d,p,m){if(this.totalIterations%i.GRID_CALCULATION_CHECK_PERIOD==1&&p||m){var g=new Set;h.surrounding=new Array;for(var v,y=this.grid,b=h.startX-1;b<h.finishX+2;b++)for(var _=h.startY-1;_<h.finishY+2;_++)if(!(b<0||_<0||b>=y.length||_>=y[0].length)){for(var k=0;k<y[b][_].length;k++)if(v=y[b][_][k],!(h.getOwner()!=v.getOwner()||h==v)&&!d.has(v)&&!g.has(v)){var w=Math.abs(h.getCenterX()-v.getCenterX())-(h.getWidth()/2+v.getWidth()/2),T=Math.abs(h.getCenterY()-v.getCenterY())-(h.getHeight()/2+v.getHeight()/2);w<=this.repulsionRange&&T<=this.repulsionRange&&g.add(v)}}h.surrounding=[].concat(n(g))}for(b=0;b<h.surrounding.length;b++)this.calcRepulsionForce(h,h.surrounding[b])},u.prototype.calcRepulsionRange=function(){return 0},e.exports=u},function(e,t,r){"use strict";var n=r(1),a=r(4);function i(s,l,u){n.call(this,s,l,u),this.idealLength=a.DEFAULT_EDGE_LENGTH,this.edgeElasticity=a.DEFAULT_SPRING_STRENGTH}i.prototype=Object.create(n.prototype);for(var o in n)i[o]=n[o];e.exports=i},function(e,t,r){"use strict";var n=r(3),a=r(4);function i(s,l,u,f){n.call(this,s,l,u,f),this.nodeRepulsion=a.DEFAULT_REPULSION_STRENGTH,this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}i.prototype=Object.create(n.prototype);for(var o in n)i[o]=n[o];i.prototype.setGridCoordinates=function(s,l,u,f){this.startX=s,this.finishX=l,this.startY=u,this.finishY=f},e.exports=i},function(e,t,r){"use strict";function n(a,i){this.width=0,this.height=0,a!==null&&i!==null&&(this.height=i,this.width=a)}n.prototype.getWidth=function(){return this.width},n.prototype.setWidth=function(a){this.width=a},n.prototype.getHeight=function(){return this.height},n.prototype.setHeight=function(a){this.height=a},e.exports=n},function(e,t,r){"use strict";var n=r(14);function a(){this.map={},this.keys=[]}a.prototype.put=function(i,o){var s=n.createID(i);this.contains(s)||(this.map[s]=o,this.keys.push(i))},a.prototype.contains=function(i){var o=n.createID(i);return this.map[i]!=null},a.prototype.get=function(i){var o=n.createID(i);return this.map[o]},a.prototype.keySet=function(){return this.keys},e.exports=a},function(e,t,r){"use strict";var n=r(14);function a(){this.set={}}a.prototype.add=function(i){var o=n.createID(i);this.contains(o)||(this.set[o]=i)},a.prototype.remove=function(i){delete this.set[n.createID(i)]},a.prototype.clear=function(){this.set={}},a.prototype.contains=function(i){return this.set[n.createID(i)]==i},a.prototype.isEmpty=function(){return this.size()===0},a.prototype.size=function(){return Object.keys(this.set).length},a.prototype.addAllTo=function(i){for(var o=Object.keys(this.set),s=o.length,l=0;l<s;l++)i.push(this.set[o[l]])},a.prototype.size=function(){return Object.keys(this.set).length},a.prototype.addAll=function(i){for(var o=i.length,s=0;s<o;s++){var l=i[s];this.add(l)}},e.exports=a},function(e,t,r){"use strict";function n(){}n.multMat=function(a,i){for(var o=[],s=0;s<a.length;s++){o[s]=[];for(var l=0;l<i[0].length;l++){o[s][l]=0;for(var u=0;u<a[0].length;u++)o[s][l]+=a[s][u]*i[u][l]}}return o},n.transpose=function(a){for(var i=[],o=0;o<a[0].length;o++){i[o]=[];for(var s=0;s<a.length;s++)i[o][s]=a[s][o]}return i},n.multCons=function(a,i){for(var o=[],s=0;s<a.length;s++)o[s]=a[s]*i;return o},n.minusOp=function(a,i){for(var o=[],s=0;s<a.length;s++)o[s]=a[s]-i[s];return o},n.dotProduct=function(a,i){for(var o=0,s=0;s<a.length;s++)o+=a[s]*i[s];return o},n.mag=function(a){return Math.sqrt(this.dotProduct(a,a))},n.normalize=function(a){for(var i=[],o=this.mag(a),s=0;s<a.length;s++)i[s]=a[s]/o;return i},n.multGamma=function(a){for(var i=[],o=0,s=0;s<a.length;s++)o+=a[s];o*=-1/a.length;for(var l=0;l<a.length;l++)i[l]=o+a[l];return i},n.multL=function(a,i,o){for(var s=[],l=[],u=[],f=0;f<i[0].length;f++){for(var h=0,d=0;d<i.length;d++)h+=-.5*i[d][f]*a[d];l[f]=h}for(var p=0;p<o.length;p++){for(var m=0,g=0;g<o.length;g++)m+=o[p][g]*l[g];u[p]=m}for(var v=0;v<i.length;v++){for(var y=0,b=0;b<i[0].length;b++)y+=i[v][b]*u[b];s[v]=y}return s},e.exports=n},function(e,t,r){"use strict";var n=function(){function s(l,u){for(var f=0;f<u.length;f++){var h=u[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}return function(l,u,f){return u&&s(l.prototype,u),f&&s(l,f),l}}();function a(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}var i=r(11),o=function(){function s(l,u){a(this,s),(u!==null||u!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var f=void 0;l instanceof i?f=l.size():f=l.length,this._quicksort(l,0,f-1)}return n(s,[{key:"_quicksort",value:function(u,f,h){if(f<h){var d=this._partition(u,f,h);this._quicksort(u,f,d),this._quicksort(u,d+1,h)}}},{key:"_partition",value:function(u,f,h){for(var d=this._get(u,f),p=f,m=h;;){for(;this.compareFunction(d,this._get(u,m));)m--;for(;this.compareFunction(this._get(u,p),d);)p++;if(p<m)this._swap(u,p,m),p++,m--;else return m}}},{key:"_get",value:function(u,f){return u instanceof i?u.get_object_at(f):u[f]}},{key:"_set",value:function(u,f,h){u instanceof i?u.set_object_at(f,h):u[f]=h}},{key:"_swap",value:function(u,f,h){var d=this._get(u,f);this._set(u,f,this._get(u,h)),this._set(u,h,d)}},{key:"_defaultCompareFunction",value:function(u,f){return f>u}}]),s}();e.exports=o},function(e,t,r){"use strict";function n(){}n.svd=function(a){this.U=null,this.V=null,this.s=null,this.m=0,this.n=0,this.m=a.length,this.n=a[0].length;var i=Math.min(this.m,this.n);this.s=function(oe){for(var ie=[];oe-- >0;)ie.push(0);return ie}(Math.min(this.m+1,this.n)),this.U=function(oe){var ie=function fe(pe){if(pe.length==0)return 0;for(var me=[],se=0;se<pe[0];se++)me.push(fe(pe.slice(1)));return me};return ie(oe)}([this.m,i]),this.V=function(oe){var ie=function fe(pe){if(pe.length==0)return 0;for(var me=[],se=0;se<pe[0];se++)me.push(fe(pe.slice(1)));return me};return ie(oe)}([this.n,this.n]);for(var o=function(oe){for(var ie=[];oe-- >0;)ie.push(0);return ie}(this.n),s=function(oe){for(var ie=[];oe-- >0;)ie.push(0);return ie}(this.m),l=!0,u=!0,f=Math.min(this.m-1,this.n),h=Math.max(0,Math.min(this.n-2,this.m)),d=0;d<Math.max(f,h);d++){if(d<f){this.s[d]=0;for(var p=d;p<this.m;p++)this.s[d]=n.hypot(this.s[d],a[p][d]);if(this.s[d]!==0){a[d][d]<0&&(this.s[d]=-this.s[d]);for(var m=d;m<this.m;m++)a[m][d]/=this.s[d];a[d][d]+=1}this.s[d]=-this.s[d]}for(var g=d+1;g<this.n;g++){if(function(oe,ie){return oe&&ie}(d<f,this.s[d]!==0)){for(var v=0,y=d;y<this.m;y++)v+=a[y][d]*a[y][g];v=-v/a[d][d];for(var b=d;b<this.m;b++)a[b][g]+=v*a[b][d]}o[g]=a[d][g]}if(function(oe,ie){return oe&&ie}(l,d<f))for(var _=d;_<this.m;_++)this.U[_][d]=a[_][d];if(d<h){o[d]=0;for(var k=d+1;k<this.n;k++)o[d]=n.hypot(o[d],o[k]);if(o[d]!==0){o[d+1]<0&&(o[d]=-o[d]);for(var w=d+1;w<this.n;w++)o[w]/=o[d];o[d+1]+=1}if(o[d]=-o[d],function(oe,ie){return oe&&ie}(d+1<this.m,o[d]!==0)){for(var T=d+1;T<this.m;T++)s[T]=0;for(var S=d+1;S<this.n;S++)for(var C=d+1;C<this.m;C++)s[C]+=o[S]*a[C][S];for(var M=d+1;M<this.n;M++)for(var N=-o[M]/o[d+1],L=d+1;L<this.m;L++)a[L][M]+=N*s[L]}if(u)for(var E=d+1;E<this.n;E++)this.V[E][d]=o[E]}}var A=Math.min(this.n,this.m+1);if(f<this.n&&(this.s[f]=a[f][f]),this.m<A&&(this.s[A-1]=0),h+1<A&&(o[h]=a[h][A-1]),o[A-1]=0,l){for(var D=f;D<i;D++){for(var R=0;R<this.m;R++)this.U[R][D]=0;this.U[D][D]=1}for(var I=f-1;I>=0;I--)if(this.s[I]!==0){for(var O=I+1;O<i;O++){for(var F=0,P=I;P<this.m;P++)F+=this.U[P][I]*this.U[P][O];F=-F/this.U[I][I];for(var q=I;q<this.m;q++)this.U[q][O]+=F*this.U[q][I]}for(var $=I;$<this.m;$++)this.U[$][I]=-this.U[$][I];this.U[I][I]=1+this.U[I][I];for(var W=0;W<I-1;W++)this.U[W][I]=0}else{for(var X=0;X<this.m;X++)this.U[X][I]=0;this.U[I][I]=1}}if(u)for(var tt=this.n-1;tt>=0;tt--){if(function(oe,ie){return oe&&ie}(tt<h,o[tt]!==0))for(var Y=tt+1;Y<i;Y++){for(var ot=0,Z=tt+1;Z<this.n;Z++)ot+=this.V[Z][tt]*this.V[Z][Y];ot=-ot/this.V[tt+1][tt];for(var ct=tt+1;ct<this.n;ct++)this.V[ct][Y]+=ot*this.V[ct][tt]}for(var rt=0;rt<this.n;rt++)this.V[rt][tt]=0;this.V[tt][tt]=1}for(var et=A-1,Q=0,j=Math.pow(2,-52),it=Math.pow(2,-966);A>0;){var K=void 0,dt=void 0;for(K=A-2;K>=-1&&K!==-1;K--)if(Math.abs(o[K])<=it+j*(Math.abs(this.s[K])+Math.abs(this.s[K+1]))){o[K]=0;break}if(K===A-2)dt=4;else{var nt=void 0;for(nt=A-1;nt>=K&&nt!==K;nt--){var _t=(nt!==A?Math.abs(o[nt]):0)+(nt!==K+1?Math.abs(o[nt-1]):0);if(Math.abs(this.s[nt])<=it+j*_t){this.s[nt]=0;break}}nt===K?dt=3:nt===A-1?dt=1:(dt=2,K=nt)}switch(K++,dt){case 1:{var V=o[A-2];o[A-2]=0;for(var Ut=A-2;Ut>=K;Ut--){var pt=n.hypot(this.s[Ut],V),Ft=this.s[Ut]/pt,Yt=V/pt;if(this.s[Ut]=pt,Ut!==K&&(V=-Yt*o[Ut-1],o[Ut-1]=Ft*o[Ut-1]),u)for(var Ht=0;Ht<this.n;Ht++)pt=Ft*this.V[Ht][Ut]+Yt*this.V[Ht][A-1],this.V[Ht][A-1]=-Yt*this.V[Ht][Ut]+Ft*this.V[Ht][A-1],this.V[Ht][Ut]=pt}}break;case 2:{var Lt=o[K-1];o[K-1]=0;for(var Nt=K;Nt<A;Nt++){var It=n.hypot(this.s[Nt],Lt),kt=this.s[Nt]/It,Pt=Lt/It;if(this.s[Nt]=It,Lt=-Pt*o[Nt],o[Nt]=kt*o[Nt],l)for(var ht=0;ht<this.m;ht++)It=kt*this.U[ht][Nt]+Pt*this.U[ht][K-1],this.U[ht][K-1]=-Pt*this.U[ht][Nt]+kt*this.U[ht][K-1],this.U[ht][Nt]=It}}break;case 3:{var yt=Math.max(Math.max(Math.max(Math.max(Math.abs(this.s[A-1]),Math.abs(this.s[A-2])),Math.abs(o[A-2])),Math.abs(this.s[K])),Math.abs(o[K])),H=this.s[A-1]/yt,ft=this.s[A-2]/yt,z=o[A-2]/yt,st=this.s[K]/yt,lt=o[K]/yt,wt=((ft+H)*(ft-H)+z*z)/2,vt=H*z*(H*z),gt=0;(function(oe,ie){return oe||ie})(wt!==0,vt!==0)&&(gt=Math.sqrt(wt*wt+vt),wt<0&&(gt=-gt),gt=vt/(wt+gt));for(var Mt=(st+H)*(st-H)+gt,St=st*lt,Bt=K;Bt<A-1;Bt++){var jt=n.hypot(Mt,St),ue=Mt/jt,Gt=St/jt;if(Bt!==K&&(o[Bt-1]=jt),Mt=ue*this.s[Bt]+Gt*o[Bt],o[Bt]=ue*o[Bt]-Gt*this.s[Bt],St=Gt*this.s[Bt+1],this.s[Bt+1]=ue*this.s[Bt+1],u)for(var $t=0;$t<this.n;$t++)jt=ue*this.V[$t][Bt]+Gt*this.V[$t][Bt+1],this.V[$t][Bt+1]=-Gt*this.V[$t][Bt]+ue*this.V[$t][Bt+1],this.V[$t][Bt]=jt;if(jt=n.hypot(Mt,St),ue=Mt/jt,Gt=St/jt,this.s[Bt]=jt,Mt=ue*o[Bt]+Gt*this.s[Bt+1],this.s[Bt+1]=-Gt*o[Bt]+ue*this.s[Bt+1],St=Gt*o[Bt+1],o[Bt+1]=ue*o[Bt+1],l&&Bt<this.m-1)for(var Xt=0;Xt<this.m;Xt++)jt=ue*this.U[Xt][Bt]+Gt*this.U[Xt][Bt+1],this.U[Xt][Bt+1]=-Gt*this.U[Xt][Bt]+ue*this.U[Xt][Bt+1],this.U[Xt][Bt]=jt}o[A-2]=Mt,Q=Q+1}break;case 4:{if(this.s[K]<=0&&(this.s[K]=this.s[K]<0?-this.s[K]:0,u))for(var Wt=0;Wt<=et;Wt++)this.V[Wt][K]=-this.V[Wt][K];for(;K<et&&!(this.s[K]>=this.s[K+1]);){var ne=this.s[K];if(this.s[K]=this.s[K+1],this.s[K+1]=ne,u&&K<this.n-1)for(var Fe=0;Fe<this.n;Fe++)ne=this.V[Fe][K+1],this.V[Fe][K+1]=this.V[Fe][K],this.V[Fe][K]=ne;if(l&&K<this.m-1)for(var de=0;de<this.m;de++)ne=this.U[de][K+1],this.U[de][K+1]=this.U[de][K],this.U[de][K]=ne;K++}Q=0,A--}break}}var we={U:this.U,V:this.V,S:this.s};return we},n.hypot=function(a,i){var o=void 0;return Math.abs(a)>Math.abs(i)?(o=i/a,o=Math.abs(a)*Math.sqrt(1+o*o)):i!=0?(o=a/i,o=Math.abs(i)*Math.sqrt(1+o*o)):o=0,o},e.exports=n},function(e,t,r){"use strict";var n=function(){function o(s,l){for(var u=0;u<l.length;u++){var f=l[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(s,f.key,f)}}return function(s,l,u){return l&&o(s.prototype,l),u&&o(s,u),s}}();function a(o,s){if(!(o instanceof s))throw new TypeError("Cannot call a class as a function")}var i=function(){function o(s,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;a(this,o),this.sequence1=s,this.sequence2=l,this.match_score=u,this.mismatch_penalty=f,this.gap_penalty=h,this.iMax=s.length+1,this.jMax=l.length+1,this.grid=new Array(this.iMax);for(var d=0;d<this.iMax;d++){this.grid[d]=new Array(this.jMax);for(var p=0;p<this.jMax;p++)this.grid[d][p]=0}this.tracebackGrid=new Array(this.iMax);for(var m=0;m<this.iMax;m++){this.tracebackGrid[m]=new Array(this.jMax);for(var g=0;g<this.jMax;g++)this.tracebackGrid[m][g]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return n(o,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var l=1;l<this.jMax;l++)this.grid[0][l]=this.grid[0][l-1]+this.gap_penalty,this.tracebackGrid[0][l]=[!1,!1,!0];for(var u=1;u<this.iMax;u++)this.grid[u][0]=this.grid[u-1][0]+this.gap_penalty,this.tracebackGrid[u][0]=[!1,!0,!1];for(var f=1;f<this.iMax;f++)for(var h=1;h<this.jMax;h++){var d=void 0;this.sequence1[f-1]===this.sequence2[h-1]?d=this.grid[f-1][h-1]+this.match_score:d=this.grid[f-1][h-1]+this.mismatch_penalty;var p=this.grid[f-1][h]+this.gap_penalty,m=this.grid[f][h-1]+this.gap_penalty,g=[d,p,m],v=this.arrayAllMaxIndexes(g);this.grid[f][h]=g[v[0]],this.tracebackGrid[f][h]=[v.includes(0),v.includes(1),v.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var l=[];for(l.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});l[0];){var u=l[0],f=this.tracebackGrid[u.pos[0]][u.pos[1]];f[0]&&l.push({pos:[u.pos[0]-1,u.pos[1]-1],seq1:this.sequence1[u.pos[0]-1]+u.seq1,seq2:this.sequence2[u.pos[1]-1]+u.seq2}),f[1]&&l.push({pos:[u.pos[0]-1,u.pos[1]],seq1:this.sequence1[u.pos[0]-1]+u.seq1,seq2:"-"+u.seq2}),f[2]&&l.push({pos:[u.pos[0],u.pos[1]-1],seq1:"-"+u.seq1,seq2:this.sequence2[u.pos[1]-1]+u.seq2}),u.pos[0]===0&&u.pos[1]===0&&this.alignments.push({sequence1:u.seq1,sequence2:u.seq2}),l.shift()}return this.alignments}},{key:"getAllIndexes",value:function(l,u){for(var f=[],h=-1;(h=l.indexOf(u,h+1))!==-1;)f.push(h);return f}},{key:"arrayAllMaxIndexes",value:function(l){return this.getAllIndexes(l,Math.max.apply(null,l))}}]),o}();e.exports=i},function(e,t,r){"use strict";var n=function(){};n.FDLayout=r(18),n.FDLayoutConstants=r(4),n.FDLayoutEdge=r(19),n.FDLayoutNode=r(20),n.DimensionD=r(21),n.HashMap=r(22),n.HashSet=r(23),n.IGeometry=r(8),n.IMath=r(9),n.Integer=r(10),n.Point=r(12),n.PointD=r(5),n.RandomSeed=r(16),n.RectangleD=r(13),n.Transform=r(17),n.UniqueIDGeneretor=r(14),n.Quicksort=r(25),n.LinkedList=r(11),n.LGraphObject=r(2),n.LGraph=r(6),n.LEdge=r(1),n.LGraphManager=r(7),n.LNode=r(3),n.Layout=r(15),n.LayoutConstants=r(0),n.NeedlemanWunsch=r(27),n.Matrix=r(24),n.SVD=r(26),e.exports=n},function(e,t,r){"use strict";function n(){this.listeners=[]}var a=n.prototype;a.addListener=function(i,o){this.listeners.push({event:i,callback:o})},a.removeListener=function(i,o){for(var s=this.listeners.length;s>=0;s--){var l=this.listeners[s];l.event===i&&l.callback===o&&this.listeners.splice(s,1)}},a.emit=function(i,o){for(var s=0;s<this.listeners.length;s++){var l=this.listeners[s];i===l.event&&l.callback(o)}},e.exports=n}])})});var cU=_o((Yw,uU)=>{(function(t,r){typeof Yw=="object"&&typeof uU=="object"?uU.exports=r(lU()):typeof define=="function"&&define.amd?define(["layout-base"],r):typeof Yw=="object"?Yw.coseBase=r(lU()):t.coseBase=r(t.layoutBase)})(Yw,function(e){return(()=>{"use strict";var t={45:(i,o,s)=>{var l={};l.layoutBase=s(551),l.CoSEConstants=s(806),l.CoSEEdge=s(767),l.CoSEGraph=s(880),l.CoSEGraphManager=s(578),l.CoSELayout=s(765),l.CoSENode=s(991),l.ConstraintHandler=s(902),i.exports=l},806:(i,o,s)=>{var l=s(551).FDLayoutConstants;function u(){}for(var f in l)u[f]=l[f];u.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,u.DEFAULT_RADIAL_SEPARATION=l.DEFAULT_EDGE_LENGTH,u.DEFAULT_COMPONENT_SEPERATION=60,u.TILE=!0,u.TILING_PADDING_VERTICAL=10,u.TILING_PADDING_HORIZONTAL=10,u.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,u.ENFORCE_CONSTRAINTS=!0,u.APPLY_LAYOUT=!0,u.RELAX_MOVEMENT_ON_CONSTRAINTS=!0,u.TREE_REDUCTION_ON_INCREMENTAL=!0,u.PURE_INCREMENTAL=u.DEFAULT_INCREMENTAL,i.exports=u},767:(i,o,s)=>{var l=s(551).FDLayoutEdge;function u(h,d,p){l.call(this,h,d,p)}u.prototype=Object.create(l.prototype);for(var f in l)u[f]=l[f];i.exports=u},880:(i,o,s)=>{var l=s(551).LGraph;function u(h,d,p){l.call(this,h,d,p)}u.prototype=Object.create(l.prototype);for(var f in l)u[f]=l[f];i.exports=u},578:(i,o,s)=>{var l=s(551).LGraphManager;function u(h){l.call(this,h)}u.prototype=Object.create(l.prototype);for(var f in l)u[f]=l[f];i.exports=u},765:(i,o,s)=>{var l=s(551).FDLayout,u=s(578),f=s(880),h=s(991),d=s(767),p=s(806),m=s(902),g=s(551).FDLayoutConstants,v=s(551).LayoutConstants,y=s(551).Point,b=s(551).PointD,_=s(551).DimensionD,k=s(551).Layout,w=s(551).Integer,T=s(551).IGeometry,S=s(551).LGraph,C=s(551).Transform,M=s(551).LinkedList;function N(){l.call(this),this.toBeTiled={},this.constraints={}}N.prototype=Object.create(l.prototype);for(var L in l)N[L]=l[L];N.prototype.newGraphManager=function(){var E=new u(this);return this.graphManager=E,E},N.prototype.newGraph=function(E){return new f(null,this.graphManager,E)},N.prototype.newNode=function(E){return new h(this.graphManager,E)},N.prototype.newEdge=function(E){return new d(null,null,E)},N.prototype.initParameters=function(){l.prototype.initParameters.call(this,arguments),this.isSubLayout||(p.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=p.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=p.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=g.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=g.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=g.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=g.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1)},N.prototype.initSpringEmbedder=function(){l.prototype.initSpringEmbedder.call(this),this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/g.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=.04,this.coolingAdjuster=1},N.prototype.layout=function(){var E=v.DEFAULT_CREATE_BENDS_AS_NEEDED;return E&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},N.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(p.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var A=new Set(this.getAllNodes()),D=this.nodesWithGravity.filter(function(O){return A.has(O)});this.graphManager.setAllNodesToApplyGravitation(D)}}else{var E=this.getFlatForest();if(E.length>0)this.positionNodesRadially(E);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var A=new Set(this.getAllNodes()),D=this.nodesWithGravity.filter(function(R){return A.has(R)});this.graphManager.setAllNodesToApplyGravitation(D),this.positionNodesRandomly()}}return Object.keys(this.constraints).length>0&&(m.handleConstraints(this),this.initConstraintVariables()),this.initSpringEmbedder(),p.APPLY_LAYOUT&&this.runSpringEmbedder(),!0},N.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%g.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var E=new Set(this.getAllNodes()),A=this.nodesWithGravity.filter(function(I){return E.has(I)});this.graphManager.setAllNodesToApplyGravitation(A),this.graphManager.updateBounds(),this.updateGrid(),p.PURE_INCREMENTAL?this.coolingFactor=g.DEFAULT_COOLING_FACTOR_INCREMENTAL/2:this.coolingFactor=g.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),p.PURE_INCREMENTAL?this.coolingFactor=g.DEFAULT_COOLING_FACTOR_INCREMENTAL/2*((100-this.afterGrowthIterations)/100):this.coolingFactor=g.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var D=!this.isTreeGrowing&&!this.isGrowthFinished,R=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(D,R),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},N.prototype.getPositionsData=function(){for(var E=this.graphManager.getAllNodes(),A={},D=0;D<E.length;D++){var R=E[D].rect,I=E[D].id;A[I]={id:I,x:R.getCenterX(),y:R.getCenterY(),w:R.width,h:R.height}}return A},N.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var E=!1;if(g.ANIMATE==="during")this.emit("layoutstarted");else{for(;!E;)E=this.tick();this.graphManager.updateBounds()}},N.prototype.moveNodes=function(){for(var E=this.getAllNodes(),A,D=0;D<E.length;D++)A=E[D],A.calculateDisplacement();Object.keys(this.constraints).length>0&&this.updateDisplacements();for(var D=0;D<E.length;D++)A=E[D],A.move()},N.prototype.initConstraintVariables=function(){var E=this;this.idToNodeMap=new Map,this.fixedNodeSet=new Set;for(var A=this.graphManager.getAllNodes(),D=0;D<A.length;D++){var R=A[D];this.idToNodeMap.set(R.id,R)}var I=function Z(ct){for(var rt=ct.getChild().getNodes(),et,Q=0,j=0;j<rt.length;j++)et=rt[j],et.getChild()==null?E.fixedNodeSet.has(et.id)&&(Q+=100):Q+=Z(et);return Q};if(this.constraints.fixedNodeConstraint){this.constraints.fixedNodeConstraint.forEach(function(rt){E.fixedNodeSet.add(rt.nodeId)});for(var A=this.graphManager.getAllNodes(),R,D=0;D<A.length;D++)if(R=A[D],R.getChild()!=null){var O=I(R);O>0&&(R.fixedNodeWeight=O)}}if(this.constraints.relativePlacementConstraint){var F=new Map,P=new Map;if(this.dummyToNodeForVerticalAlignment=new Map,this.dummyToNodeForHorizontalAlignment=new Map,this.fixedNodesOnHorizontal=new Set,this.fixedNodesOnVertical=new Set,this.fixedNodeSet.forEach(function(Z){E.fixedNodesOnHorizontal.add(Z),E.fixedNodesOnVertical.add(Z)}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var q=this.constraints.alignmentConstraint.vertical,D=0;D<q.length;D++)this.dummyToNodeForVerticalAlignment.set("dummy"+D,[]),q[D].forEach(function(ct){F.set(ct,"dummy"+D),E.dummyToNodeForVerticalAlignment.get("dummy"+D).push(ct),E.fixedNodeSet.has(ct)&&E.fixedNodesOnHorizontal.add("dummy"+D)});if(this.constraints.alignmentConstraint.horizontal)for(var $=this.constraints.alignmentConstraint.horizontal,D=0;D<$.length;D++)this.dummyToNodeForHorizontalAlignment.set("dummy"+D,[]),$[D].forEach(function(ct){P.set(ct,"dummy"+D),E.dummyToNodeForHorizontalAlignment.get("dummy"+D).push(ct),E.fixedNodeSet.has(ct)&&E.fixedNodesOnVertical.add("dummy"+D)})}if(p.RELAX_MOVEMENT_ON_CONSTRAINTS)this.shuffle=function(Z){var ct,rt,et;for(et=Z.length-1;et>=2*Z.length/3;et--)ct=Math.floor(Math.random()*(et+1)),rt=Z[et],Z[et]=Z[ct],Z[ct]=rt;return Z},this.nodesInRelativeHorizontal=[],this.nodesInRelativeVertical=[],this.nodeToRelativeConstraintMapHorizontal=new Map,this.nodeToRelativeConstraintMapVertical=new Map,this.nodeToTempPositionMapHorizontal=new Map,this.nodeToTempPositionMapVertical=new Map,this.constraints.relativePlacementConstraint.forEach(function(Z){if(Z.left){var ct=F.has(Z.left)?F.get(Z.left):Z.left,rt=F.has(Z.right)?F.get(Z.right):Z.right;E.nodesInRelativeHorizontal.includes(ct)||(E.nodesInRelativeHorizontal.push(ct),E.nodeToRelativeConstraintMapHorizontal.set(ct,[]),E.dummyToNodeForVerticalAlignment.has(ct)?E.nodeToTempPositionMapHorizontal.set(ct,E.idToNodeMap.get(E.dummyToNodeForVerticalAlignment.get(ct)[0]).getCenterX()):E.nodeToTempPositionMapHorizontal.set(ct,E.idToNodeMap.get(ct).getCenterX())),E.nodesInRelativeHorizontal.includes(rt)||(E.nodesInRelativeHorizontal.push(rt),E.nodeToRelativeConstraintMapHorizontal.set(rt,[]),E.dummyToNodeForVerticalAlignment.has(rt)?E.nodeToTempPositionMapHorizontal.set(rt,E.idToNodeMap.get(E.dummyToNodeForVerticalAlignment.get(rt)[0]).getCenterX()):E.nodeToTempPositionMapHorizontal.set(rt,E.idToNodeMap.get(rt).getCenterX())),E.nodeToRelativeConstraintMapHorizontal.get(ct).push({right:rt,gap:Z.gap}),E.nodeToRelativeConstraintMapHorizontal.get(rt).push({left:ct,gap:Z.gap})}else{var et=P.has(Z.top)?P.get(Z.top):Z.top,Q=P.has(Z.bottom)?P.get(Z.bottom):Z.bottom;E.nodesInRelativeVertical.includes(et)||(E.nodesInRelativeVertical.push(et),E.nodeToRelativeConstraintMapVertical.set(et,[]),E.dummyToNodeForHorizontalAlignment.has(et)?E.nodeToTempPositionMapVertical.set(et,E.idToNodeMap.get(E.dummyToNodeForHorizontalAlignment.get(et)[0]).getCenterY()):E.nodeToTempPositionMapVertical.set(et,E.idToNodeMap.get(et).getCenterY())),E.nodesInRelativeVertical.includes(Q)||(E.nodesInRelativeVertical.push(Q),E.nodeToRelativeConstraintMapVertical.set(Q,[]),E.dummyToNodeForHorizontalAlignment.has(Q)?E.nodeToTempPositionMapVertical.set(Q,E.idToNodeMap.get(E.dummyToNodeForHorizontalAlignment.get(Q)[0]).getCenterY()):E.nodeToTempPositionMapVertical.set(Q,E.idToNodeMap.get(Q).getCenterY())),E.nodeToRelativeConstraintMapVertical.get(et).push({bottom:Q,gap:Z.gap}),E.nodeToRelativeConstraintMapVertical.get(Q).push({top:et,gap:Z.gap})}});else{var W=new Map,X=new Map;this.constraints.relativePlacementConstraint.forEach(function(Z){if(Z.left){var ct=F.has(Z.left)?F.get(Z.left):Z.left,rt=F.has(Z.right)?F.get(Z.right):Z.right;W.has(ct)?W.get(ct).push(rt):W.set(ct,[rt]),W.has(rt)?W.get(rt).push(ct):W.set(rt,[ct])}else{var et=P.has(Z.top)?P.get(Z.top):Z.top,Q=P.has(Z.bottom)?P.get(Z.bottom):Z.bottom;X.has(et)?X.get(et).push(Q):X.set(et,[Q]),X.has(Q)?X.get(Q).push(et):X.set(Q,[et])}});var tt=function(ct,rt){var et=[],Q=[],j=new M,it=new Set,K=0;return ct.forEach(function(dt,nt){if(!it.has(nt)){et[K]=[],Q[K]=!1;var _t=nt;for(j.push(_t),it.add(_t),et[K].push(_t);j.length!=0;){_t=j.shift(),rt.has(_t)&&(Q[K]=!0);var V=ct.get(_t);V.forEach(function(Ut){it.has(Ut)||(j.push(Ut),it.add(Ut),et[K].push(Ut))})}K++}}),{components:et,isFixed:Q}},Y=tt(W,E.fixedNodesOnHorizontal);this.componentsOnHorizontal=Y.components,this.fixedComponentsOnHorizontal=Y.isFixed;var ot=tt(X,E.fixedNodesOnVertical);this.componentsOnVertical=ot.components,this.fixedComponentsOnVertical=ot.isFixed}}},N.prototype.updateDisplacements=function(){var E=this;if(this.constraints.fixedNodeConstraint&&this.constraints.fixedNodeConstraint.forEach(function(ot){var Z=E.idToNodeMap.get(ot.nodeId);Z.displacementX=0,Z.displacementY=0}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var A=this.constraints.alignmentConstraint.vertical,D=0;D<A.length;D++){for(var R=0,I=0;I<A[D].length;I++){if(this.fixedNodeSet.has(A[D][I])){R=0;break}R+=this.idToNodeMap.get(A[D][I]).displacementX}for(var O=R/A[D].length,I=0;I<A[D].length;I++)this.idToNodeMap.get(A[D][I]).displacementX=O}if(this.constraints.alignmentConstraint.horizontal)for(var F=this.constraints.alignmentConstraint.horizontal,D=0;D<F.length;D++){for(var P=0,I=0;I<F[D].length;I++){if(this.fixedNodeSet.has(F[D][I])){P=0;break}P+=this.idToNodeMap.get(F[D][I]).displacementY}for(var q=P/F[D].length,I=0;I<F[D].length;I++)this.idToNodeMap.get(F[D][I]).displacementY=q}}if(this.constraints.relativePlacementConstraint)if(p.RELAX_MOVEMENT_ON_CONSTRAINTS)this.totalIterations%10==0&&(this.shuffle(this.nodesInRelativeHorizontal),this.shuffle(this.nodesInRelativeVertical)),this.nodesInRelativeHorizontal.forEach(function(ot){if(!E.fixedNodesOnHorizontal.has(ot)){var Z=0;E.dummyToNodeForVerticalAlignment.has(ot)?Z=E.idToNodeMap.get(E.dummyToNodeForVerticalAlignment.get(ot)[0]).displacementX:Z=E.idToNodeMap.get(ot).displacementX,E.nodeToRelativeConstraintMapHorizontal.get(ot).forEach(function(ct){if(ct.right){var rt=E.nodeToTempPositionMapHorizontal.get(ct.right)-E.nodeToTempPositionMapHorizontal.get(ot)-Z;rt<ct.gap&&(Z-=ct.gap-rt)}else{var rt=E.nodeToTempPositionMapHorizontal.get(ot)-E.nodeToTempPositionMapHorizontal.get(ct.left)+Z;rt<ct.gap&&(Z+=ct.gap-rt)}}),E.nodeToTempPositionMapHorizontal.set(ot,E.nodeToTempPositionMapHorizontal.get(ot)+Z),E.dummyToNodeForVerticalAlignment.has(ot)?E.dummyToNodeForVerticalAlignment.get(ot).forEach(function(ct){E.idToNodeMap.get(ct).displacementX=Z}):E.idToNodeMap.get(ot).displacementX=Z}}),this.nodesInRelativeVertical.forEach(function(ot){if(!E.fixedNodesOnHorizontal.has(ot)){var Z=0;E.dummyToNodeForHorizontalAlignment.has(ot)?Z=E.idToNodeMap.get(E.dummyToNodeForHorizontalAlignment.get(ot)[0]).displacementY:Z=E.idToNodeMap.get(ot).displacementY,E.nodeToRelativeConstraintMapVertical.get(ot).forEach(function(ct){if(ct.bottom){var rt=E.nodeToTempPositionMapVertical.get(ct.bottom)-E.nodeToTempPositionMapVertical.get(ot)-Z;rt<ct.gap&&(Z-=ct.gap-rt)}else{var rt=E.nodeToTempPositionMapVertical.get(ot)-E.nodeToTempPositionMapVertical.get(ct.top)+Z;rt<ct.gap&&(Z+=ct.gap-rt)}}),E.nodeToTempPositionMapVertical.set(ot,E.nodeToTempPositionMapVertical.get(ot)+Z),E.dummyToNodeForHorizontalAlignment.has(ot)?E.dummyToNodeForHorizontalAlignment.get(ot).forEach(function(ct){E.idToNodeMap.get(ct).displacementY=Z}):E.idToNodeMap.get(ot).displacementY=Z}});else{for(var D=0;D<this.componentsOnHorizontal.length;D++){var $=this.componentsOnHorizontal[D];if(this.fixedComponentsOnHorizontal[D])for(var I=0;I<$.length;I++)this.dummyToNodeForVerticalAlignment.has($[I])?this.dummyToNodeForVerticalAlignment.get($[I]).forEach(function(ct){E.idToNodeMap.get(ct).displacementX=0}):this.idToNodeMap.get($[I]).displacementX=0;else{for(var W=0,X=0,I=0;I<$.length;I++)if(this.dummyToNodeForVerticalAlignment.has($[I])){var tt=this.dummyToNodeForVerticalAlignment.get($[I]);W+=tt.length*this.idToNodeMap.get(tt[0]).displacementX,X+=tt.length}else W+=this.idToNodeMap.get($[I]).displacementX,X++;for(var Y=W/X,I=0;I<$.length;I++)this.dummyToNodeForVerticalAlignment.has($[I])?this.dummyToNodeForVerticalAlignment.get($[I]).forEach(function(ct){E.idToNodeMap.get(ct).displacementX=Y}):this.idToNodeMap.get($[I]).displacementX=Y}}for(var D=0;D<this.componentsOnVertical.length;D++){var $=this.componentsOnVertical[D];if(this.fixedComponentsOnVertical[D])for(var I=0;I<$.length;I++)this.dummyToNodeForHorizontalAlignment.has($[I])?this.dummyToNodeForHorizontalAlignment.get($[I]).forEach(function(rt){E.idToNodeMap.get(rt).displacementY=0}):this.idToNodeMap.get($[I]).displacementY=0;else{for(var W=0,X=0,I=0;I<$.length;I++)if(this.dummyToNodeForHorizontalAlignment.has($[I])){var tt=this.dummyToNodeForHorizontalAlignment.get($[I]);W+=tt.length*this.idToNodeMap.get(tt[0]).displacementY,X+=tt.length}else W+=this.idToNodeMap.get($[I]).displacementY,X++;for(var Y=W/X,I=0;I<$.length;I++)this.dummyToNodeForHorizontalAlignment.has($[I])?this.dummyToNodeForHorizontalAlignment.get($[I]).forEach(function(j){E.idToNodeMap.get(j).displacementY=Y}):this.idToNodeMap.get($[I]).displacementY=Y}}}},N.prototype.calculateNodesToApplyGravitationTo=function(){var E=[],A,D=this.graphManager.getGraphs(),R=D.length,I;for(I=0;I<R;I++)A=D[I],A.updateConnected(),A.isConnected||(E=E.concat(A.getNodes()));return E},N.prototype.createBendpoints=function(){var E=[];E=E.concat(this.graphManager.getAllEdges());var A=new Set,D;for(D=0;D<E.length;D++){var R=E[D];if(!A.has(R)){var I=R.getSource(),O=R.getTarget();if(I==O)R.getBendpoints().push(new b),R.getBendpoints().push(new b),this.createDummyNodesForBendpoints(R),A.add(R);else{var F=[];if(F=F.concat(I.getEdgeListToNode(O)),F=F.concat(O.getEdgeListToNode(I)),!A.has(F[0])){if(F.length>1){var P;for(P=0;P<F.length;P++){var q=F[P];q.getBendpoints().push(new b),this.createDummyNodesForBendpoints(q)}}F.forEach(function($){A.add($)})}}}if(A.size==E.length)break}},N.prototype.positionNodesRadially=function(E){for(var A=new y(0,0),D=Math.ceil(Math.sqrt(E.length)),R=0,I=0,O=0,F=new b(0,0),P=0;P<E.length;P++){P%D==0&&(O=0,I=R,P!=0&&(I+=p.DEFAULT_COMPONENT_SEPERATION),R=0);var q=E[P],$=k.findCenterOfTree(q);A.x=O,A.y=I,F=N.radialLayout(q,$,A),F.y>R&&(R=Math.floor(F.y)),O=Math.floor(F.x+p.DEFAULT_COMPONENT_SEPERATION)}this.transform(new b(v.WORLD_CENTER_X-F.x/2,v.WORLD_CENTER_Y-F.y/2))},N.radialLayout=function(E,A,D){var R=Math.max(this.maxDiagonalInTree(E),p.DEFAULT_RADIAL_SEPARATION);N.branchRadialLayout(A,null,0,359,0,R);var I=S.calculateBounds(E),O=new C;O.setDeviceOrgX(I.getMinX()),O.setDeviceOrgY(I.getMinY()),O.setWorldOrgX(D.x),O.setWorldOrgY(D.y);for(var F=0;F<E.length;F++){var P=E[F];P.transform(O)}var q=new b(I.getMaxX(),I.getMaxY());return O.inverseTransformPoint(q)},N.branchRadialLayout=function(E,A,D,R,I,O){var F=(R-D+1)/2;F<0&&(F+=180);var P=(F+D)%360,q=P*T.TWO_PI/360,$=Math.cos(q),W=I*Math.cos(q),X=I*Math.sin(q);E.setCenter(W,X);var tt=[];tt=tt.concat(E.getEdges());var Y=tt.length;A!=null&&Y--;for(var ot=0,Z=tt.length,ct,rt=E.getEdgesBetween(A);rt.length>1;){var et=rt[0];rt.splice(0,1);var Q=tt.indexOf(et);Q>=0&&tt.splice(Q,1),Z--,Y--}A!=null?ct=(tt.indexOf(rt[0])+1)%Z:ct=0;for(var j=Math.abs(R-D)/Y,it=ct;ot!=Y;it=++it%Z){var K=tt[it].getOtherEnd(E);if(K!=A){var dt=(D+ot*j)%360,nt=(dt+j)%360;N.branchRadialLayout(K,E,dt,nt,I+O,O),ot++}}},N.maxDiagonalInTree=function(E){for(var A=w.MIN_VALUE,D=0;D<E.length;D++){var R=E[D],I=R.getDiagonal();I>A&&(A=I)}return A},N.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},N.prototype.groupZeroDegreeMembers=function(){var E=this,A={};this.memberGroups={},this.idToDummyNode={};for(var D=[],R=this.graphManager.getAllNodes(),I=0;I<R.length;I++){var O=R[I],F=O.getParent();this.getNodeDegreeWithChildren(O)===0&&(F.id==null||!this.getToBeTiled(F))&&D.push(O)}for(var I=0;I<D.length;I++){var O=D[I],P=O.getParent().id;typeof A[P]>"u"&&(A[P]=[]),A[P]=A[P].concat(O)}Object.keys(A).forEach(function(q){if(A[q].length>1){var $="DummyCompound_"+q;E.memberGroups[$]=A[q];var W=A[q][0].getParent(),X=new h(E.graphManager);X.id=$,X.paddingLeft=W.paddingLeft||0,X.paddingRight=W.paddingRight||0,X.paddingBottom=W.paddingBottom||0,X.paddingTop=W.paddingTop||0,E.idToDummyNode[$]=X;var tt=E.getGraphManager().add(E.newGraph(),X),Y=W.getChild();Y.add(X);for(var ot=0;ot<A[q].length;ot++){var Z=A[q][ot];Y.remove(Z),tt.add(Z)}}})},N.prototype.clearCompounds=function(){var E={},A={};this.performDFSOnCompounds();for(var D=0;D<this.compoundOrder.length;D++)A[this.compoundOrder[D].id]=this.compoundOrder[D],E[this.compoundOrder[D].id]=[].concat(this.compoundOrder[D].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[D].getChild()),this.compoundOrder[D].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(E,A)},N.prototype.clearZeroDegreeMembers=function(){var E=this,A=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(D){var R=E.idToDummyNode[D];if(A[D]=E.tileNodes(E.memberGroups[D],R.paddingLeft+R.paddingRight),R.rect.width=A[D].width,R.rect.height=A[D].height,R.setCenter(A[D].centerX,A[D].centerY),R.labelMarginLeft=0,R.labelMarginTop=0,p.NODE_DIMENSIONS_INCLUDE_LABELS){var I=R.rect.width,O=R.rect.height;R.labelWidth&&(R.labelPosHorizontal=="left"?(R.rect.x-=R.labelWidth,R.setWidth(I+R.labelWidth),R.labelMarginLeft=R.labelWidth):R.labelPosHorizontal=="center"&&R.labelWidth>I?(R.rect.x-=(R.labelWidth-I)/2,R.setWidth(R.labelWidth),R.labelMarginLeft=(R.labelWidth-I)/2):R.labelPosHorizontal=="right"&&R.setWidth(I+R.labelWidth)),R.labelHeight&&(R.labelPosVertical=="top"?(R.rect.y-=R.labelHeight,R.setHeight(O+R.labelHeight),R.labelMarginTop=R.labelHeight):R.labelPosVertical=="center"&&R.labelHeight>O?(R.rect.y-=(R.labelHeight-O)/2,R.setHeight(R.labelHeight),R.labelMarginTop=(R.labelHeight-O)/2):R.labelPosVertical=="bottom"&&R.setHeight(O+R.labelHeight))}})},N.prototype.repopulateCompounds=function(){for(var E=this.compoundOrder.length-1;E>=0;E--){var A=this.compoundOrder[E],D=A.id,R=A.paddingLeft,I=A.paddingTop,O=A.labelMarginLeft,F=A.labelMarginTop;this.adjustLocations(this.tiledMemberPack[D],A.rect.x,A.rect.y,R,I,O,F)}},N.prototype.repopulateZeroDegreeMembers=function(){var E=this,A=this.tiledZeroDegreePack;Object.keys(A).forEach(function(D){var R=E.idToDummyNode[D],I=R.paddingLeft,O=R.paddingTop,F=R.labelMarginLeft,P=R.labelMarginTop;E.adjustLocations(A[D],R.rect.x,R.rect.y,I,O,F,P)})},N.prototype.getToBeTiled=function(E){var A=E.id;if(this.toBeTiled[A]!=null)return this.toBeTiled[A];var D=E.getChild();if(D==null)return this.toBeTiled[A]=!1,!1;for(var R=D.getNodes(),I=0;I<R.length;I++){var O=R[I];if(this.getNodeDegree(O)>0)return this.toBeTiled[A]=!1,!1;if(O.getChild()==null){this.toBeTiled[O.id]=!1;continue}if(!this.getToBeTiled(O))return this.toBeTiled[A]=!1,!1}return this.toBeTiled[A]=!0,!0},N.prototype.getNodeDegree=function(E){for(var A=E.id,D=E.getEdges(),R=0,I=0;I<D.length;I++){var O=D[I];O.getSource().id!==O.getTarget().id&&(R=R+1)}return R},N.prototype.getNodeDegreeWithChildren=function(E){var A=this.getNodeDegree(E);if(E.getChild()==null)return A;for(var D=E.getChild().getNodes(),R=0;R<D.length;R++){var I=D[R];A+=this.getNodeDegreeWithChildren(I)}return A},N.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},N.prototype.fillCompexOrderByDFS=function(E){for(var A=0;A<E.length;A++){var D=E[A];D.getChild()!=null&&this.fillCompexOrderByDFS(D.getChild().getNodes()),this.getToBeTiled(D)&&this.compoundOrder.push(D)}},N.prototype.adjustLocations=function(E,A,D,R,I,O,F){A+=R+O,D+=I+F;for(var P=A,q=0;q<E.rows.length;q++){var $=E.rows[q];A=P;for(var W=0,X=0;X<$.length;X++){var tt=$[X];tt.rect.x=A,tt.rect.y=D,A+=tt.rect.width+E.horizontalPadding,tt.rect.height>W&&(W=tt.rect.height)}D+=W+E.verticalPadding}},N.prototype.tileCompoundMembers=function(E,A){var D=this;this.tiledMemberPack=[],Object.keys(E).forEach(function(R){var I=A[R];if(D.tiledMemberPack[R]=D.tileNodes(E[R],I.paddingLeft+I.paddingRight),I.rect.width=D.tiledMemberPack[R].width,I.rect.height=D.tiledMemberPack[R].height,I.setCenter(D.tiledMemberPack[R].centerX,D.tiledMemberPack[R].centerY),I.labelMarginLeft=0,I.labelMarginTop=0,p.NODE_DIMENSIONS_INCLUDE_LABELS){var O=I.rect.width,F=I.rect.height;I.labelWidth&&(I.labelPosHorizontal=="left"?(I.rect.x-=I.labelWidth,I.setWidth(O+I.labelWidth),I.labelMarginLeft=I.labelWidth):I.labelPosHorizontal=="center"&&I.labelWidth>O?(I.rect.x-=(I.labelWidth-O)/2,I.setWidth(I.labelWidth),I.labelMarginLeft=(I.labelWidth-O)/2):I.labelPosHorizontal=="right"&&I.setWidth(O+I.labelWidth)),I.labelHeight&&(I.labelPosVertical=="top"?(I.rect.y-=I.labelHeight,I.setHeight(F+I.labelHeight),I.labelMarginTop=I.labelHeight):I.labelPosVertical=="center"&&I.labelHeight>F?(I.rect.y-=(I.labelHeight-F)/2,I.setHeight(I.labelHeight),I.labelMarginTop=(I.labelHeight-F)/2):I.labelPosVertical=="bottom"&&I.setHeight(F+I.labelHeight))}})},N.prototype.tileNodes=function(E,A){var D=this.tileNodesByFavoringDim(E,A,!0),R=this.tileNodesByFavoringDim(E,A,!1),I=this.getOrgRatio(D),O=this.getOrgRatio(R),F;return O<I?F=R:F=D,F},N.prototype.getOrgRatio=function(E){var A=E.width,D=E.height,R=A/D;return R<1&&(R=1/R),R},N.prototype.calcIdealRowWidth=function(E,A){var D=p.TILING_PADDING_VERTICAL,R=p.TILING_PADDING_HORIZONTAL,I=E.length,O=0,F=0,P=0;E.forEach(function(ot){O+=ot.getWidth(),F+=ot.getHeight(),ot.getWidth()>P&&(P=ot.getWidth())});var q=O/I,$=F/I,W=Math.pow(D-R,2)+4*(q+R)*($+D)*I,X=(R-D+Math.sqrt(W))/(2*(q+R)),tt;A?(tt=Math.ceil(X),tt==X&&tt++):tt=Math.floor(X);var Y=tt*(q+R)-R;return P>Y&&(Y=P),Y+=R*2,Y},N.prototype.tileNodesByFavoringDim=function(E,A,D){var R=p.TILING_PADDING_VERTICAL,I=p.TILING_PADDING_HORIZONTAL,O=p.TILING_COMPARE_BY,F={rows:[],rowWidth:[],rowHeight:[],width:0,height:A,verticalPadding:R,horizontalPadding:I,centerX:0,centerY:0};O&&(F.idealRowWidth=this.calcIdealRowWidth(E,D));var P=function(Z){return Z.rect.width*Z.rect.height},q=function(Z,ct){return P(ct)-P(Z)};E.sort(function(ot,Z){var ct=q;return F.idealRowWidth?(ct=O,ct(ot.id,Z.id)):ct(ot,Z)});for(var $=0,W=0,X=0;X<E.length;X++){var tt=E[X];$+=tt.getCenterX(),W+=tt.getCenterY()}F.centerX=$/E.length,F.centerY=W/E.length;for(var X=0;X<E.length;X++){var tt=E[X];if(F.rows.length==0)this.insertNodeToRow(F,tt,0,A);else if(this.canAddHorizontal(F,tt.rect.width,tt.rect.height)){var Y=F.rows.length-1;F.idealRowWidth||(Y=this.getShortestRowIndex(F)),this.insertNodeToRow(F,tt,Y,A)}else this.insertNodeToRow(F,tt,F.rows.length,A);this.shiftToLastRow(F)}return F},N.prototype.insertNodeToRow=function(E,A,D,R){var I=R;if(D==E.rows.length){var O=[];E.rows.push(O),E.rowWidth.push(I),E.rowHeight.push(0)}var F=E.rowWidth[D]+A.rect.width;E.rows[D].length>0&&(F+=E.horizontalPadding),E.rowWidth[D]=F,E.width<F&&(E.width=F);var P=A.rect.height;D>0&&(P+=E.verticalPadding);var q=0;P>E.rowHeight[D]&&(q=E.rowHeight[D],E.rowHeight[D]=P,q=E.rowHeight[D]-q),E.height+=q,E.rows[D].push(A)},N.prototype.getShortestRowIndex=function(E){for(var A=-1,D=Number.MAX_VALUE,R=0;R<E.rows.length;R++)E.rowWidth[R]<D&&(A=R,D=E.rowWidth[R]);return A},N.prototype.getLongestRowIndex=function(E){for(var A=-1,D=Number.MIN_VALUE,R=0;R<E.rows.length;R++)E.rowWidth[R]>D&&(A=R,D=E.rowWidth[R]);return A},N.prototype.canAddHorizontal=function(E,A,D){if(E.idealRowWidth){var R=E.rows.length-1,I=E.rowWidth[R];return I+A+E.horizontalPadding<=E.idealRowWidth}var O=this.getShortestRowIndex(E);if(O<0)return!0;var F=E.rowWidth[O];if(F+E.horizontalPadding+A<=E.width)return!0;var P=0;E.rowHeight[O]<D&&O>0&&(P=D+E.verticalPadding-E.rowHeight[O]);var q;E.width-F>=A+E.horizontalPadding?q=(E.height+P)/(F+A+E.horizontalPadding):q=(E.height+P)/E.width,P=D+E.verticalPadding;var $;return E.width<A?$=(E.height+P)/A:$=(E.height+P)/E.width,$<1&&($=1/$),q<1&&(q=1/q),q<$},N.prototype.shiftToLastRow=function(E){var A=this.getLongestRowIndex(E),D=E.rowWidth.length-1,R=E.rows[A],I=R[R.length-1],O=I.width+E.horizontalPadding;if(E.width-E.rowWidth[D]>O&&A!=D){R.splice(-1,1),E.rows[D].push(I),E.rowWidth[A]=E.rowWidth[A]-O,E.rowWidth[D]=E.rowWidth[D]+O,E.width=E.rowWidth[instance.getLongestRowIndex(E)];for(var F=Number.MIN_VALUE,P=0;P<R.length;P++)R[P].height>F&&(F=R[P].height);A>0&&(F+=E.verticalPadding);var q=E.rowHeight[A]+E.rowHeight[D];E.rowHeight[A]=F,E.rowHeight[D]<I.height+E.verticalPadding&&(E.rowHeight[D]=I.height+E.verticalPadding);var $=E.rowHeight[A]+E.rowHeight[D];E.height+=$-q,this.shiftToLastRow(E)}},N.prototype.tilingPreLayout=function(){p.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},N.prototype.tilingPostLayout=function(){p.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},N.prototype.reduceTrees=function(){for(var E=[],A=!0,D;A;){var R=this.graphManager.getAllNodes(),I=[];A=!1;for(var O=0;O<R.length;O++)if(D=R[O],D.getEdges().length==1&&!D.getEdges()[0].isInterGraph&&D.getChild()==null){if(p.PURE_INCREMENTAL){var F=D.getEdges()[0].getOtherEnd(D),P=new _(D.getCenterX()-F.getCenterX(),D.getCenterY()-F.getCenterY());I.push([D,D.getEdges()[0],D.getOwner(),P])}else I.push([D,D.getEdges()[0],D.getOwner()]);A=!0}if(A==!0){for(var q=[],$=0;$<I.length;$++)I[$][0].getEdges().length==1&&(q.push(I[$]),I[$][0].getOwner().remove(I[$][0]));E.push(q),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=E},N.prototype.growTree=function(E){for(var A=E.length,D=E[A-1],R,I=0;I<D.length;I++)R=D[I],this.findPlaceforPrunedNode(R),R[2].add(R[0]),R[2].add(R[1],R[1].source,R[1].target);E.splice(E.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},N.prototype.findPlaceforPrunedNode=function(E){var A,D,R=E[0];if(R==E[1].source?D=E[1].target:D=E[1].source,p.PURE_INCREMENTAL)R.setCenter(D.getCenterX()+E[3].getWidth(),D.getCenterY()+E[3].getHeight());else{var I=D.startX,O=D.finishX,F=D.startY,P=D.finishY,q=0,$=0,W=0,X=0,tt=[q,W,$,X];if(F>0)for(var Y=I;Y<=O;Y++)tt[0]+=this.grid[Y][F-1].length+this.grid[Y][F].length-1;if(O<this.grid.length-1)for(var Y=F;Y<=P;Y++)tt[1]+=this.grid[O+1][Y].length+this.grid[O][Y].length-1;if(P<this.grid[0].length-1)for(var Y=I;Y<=O;Y++)tt[2]+=this.grid[Y][P+1].length+this.grid[Y][P].length-1;if(I>0)for(var Y=F;Y<=P;Y++)tt[3]+=this.grid[I-1][Y].length+this.grid[I][Y].length-1;for(var ot=w.MAX_VALUE,Z,ct,rt=0;rt<tt.length;rt++)tt[rt]<ot?(ot=tt[rt],Z=1,ct=rt):tt[rt]==ot&&Z++;if(Z==3&&ot==0)tt[0]==0&&tt[1]==0&&tt[2]==0?A=1:tt[0]==0&&tt[1]==0&&tt[3]==0?A=0:tt[0]==0&&tt[2]==0&&tt[3]==0?A=3:tt[1]==0&&tt[2]==0&&tt[3]==0&&(A=2);else if(Z==2&&ot==0){var et=Math.floor(Math.random()*2);tt[0]==0&&tt[1]==0?et==0?A=0:A=1:tt[0]==0&&tt[2]==0?et==0?A=0:A=2:tt[0]==0&&tt[3]==0?et==0?A=0:A=3:tt[1]==0&&tt[2]==0?et==0?A=1:A=2:tt[1]==0&&tt[3]==0?et==0?A=1:A=3:et==0?A=2:A=3}else if(Z==4&&ot==0){var et=Math.floor(Math.random()*4);A=et}else A=ct;A==0?R.setCenter(D.getCenterX(),D.getCenterY()-D.getHeight()/2-g.DEFAULT_EDGE_LENGTH-R.getHeight()/2):A==1?R.setCenter(D.getCenterX()+D.getWidth()/2+g.DEFAULT_EDGE_LENGTH+R.getWidth()/2,D.getCenterY()):A==2?R.setCenter(D.getCenterX(),D.getCenterY()+D.getHeight()/2+g.DEFAULT_EDGE_LENGTH+R.getHeight()/2):R.setCenter(D.getCenterX()-D.getWidth()/2-g.DEFAULT_EDGE_LENGTH-R.getWidth()/2,D.getCenterY())}},i.exports=N},991:(i,o,s)=>{var l=s(551).FDLayoutNode,u=s(551).IMath;function f(d,p,m,g){l.call(this,d,p,m,g)}f.prototype=Object.create(l.prototype);for(var h in l)f[h]=l[h];f.prototype.calculateDisplacement=function(){var d=this.graphManager.getLayout();this.getChild()!=null&&this.fixedNodeWeight?(this.displacementX+=d.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.fixedNodeWeight,this.displacementY+=d.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.fixedNodeWeight):(this.displacementX+=d.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY+=d.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren),Math.abs(this.displacementX)>d.coolingFactor*d.maxNodeDisplacement&&(this.displacementX=d.coolingFactor*d.maxNodeDisplacement*u.sign(this.displacementX)),Math.abs(this.displacementY)>d.coolingFactor*d.maxNodeDisplacement&&(this.displacementY=d.coolingFactor*d.maxNodeDisplacement*u.sign(this.displacementY)),this.child&&this.child.getNodes().length>0&&this.propogateDisplacementToChildren(this.displacementX,this.displacementY)},f.prototype.propogateDisplacementToChildren=function(d,p){for(var m=this.getChild().getNodes(),g,v=0;v<m.length;v++)g=m[v],g.getChild()==null?(g.displacementX+=d,g.displacementY+=p):g.propogateDisplacementToChildren(d,p)},f.prototype.move=function(){var d=this.graphManager.getLayout();(this.child==null||this.child.getNodes().length==0)&&(this.moveBy(this.displacementX,this.displacementY),d.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY)),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},f.prototype.setPred1=function(d){this.pred1=d},f.prototype.getPred1=function(){return pred1},f.prototype.getPred2=function(){return pred2},f.prototype.setNext=function(d){this.next=d},f.prototype.getNext=function(){return next},f.prototype.setProcessed=function(d){this.processed=d},f.prototype.isProcessed=function(){return processed},i.exports=f},902:(i,o,s)=>{function l(m){if(Array.isArray(m)){for(var g=0,v=Array(m.length);g<m.length;g++)v[g]=m[g];return v}else return Array.from(m)}var u=s(806),f=s(551).LinkedList,h=s(551).Matrix,d=s(551).SVD;function p(){}p.handleConstraints=function(m){var g={};g.fixedNodeConstraint=m.constraints.fixedNodeConstraint,g.alignmentConstraint=m.constraints.alignmentConstraint,g.relativePlacementConstraint=m.constraints.relativePlacementConstraint;for(var v=new Map,y=new Map,b=[],_=[],k=m.getAllNodes(),w=0,T=0;T<k.length;T++){var S=k[T];S.getChild()==null&&(y.set(S.id,w++),b.push(S.getCenterX()),_.push(S.getCenterY()),v.set(S.id,S))}g.relativePlacementConstraint&&g.relativePlacementConstraint.forEach(function(yt){!yt.gap&&yt.gap!=0&&(yt.left?yt.gap=u.DEFAULT_EDGE_LENGTH+v.get(yt.left).getWidth()/2+v.get(yt.right).getWidth()/2:yt.gap=u.DEFAULT_EDGE_LENGTH+v.get(yt.top).getHeight()/2+v.get(yt.bottom).getHeight()/2)});var C=function(H,ft){return{x:H.x-ft.x,y:H.y-ft.y}},M=function(H){var ft=0,z=0;return H.forEach(function(st){ft+=b[y.get(st)],z+=_[y.get(st)]}),{x:ft/H.size,y:z/H.size}},N=function(H,ft,z,st,lt){function wt(Gt,$t){var Xt=new Set(Gt),Wt=!0,ne=!1,Fe=void 0;try{for(var de=$t[Symbol.iterator](),we;!(Wt=(we=de.next()).done);Wt=!0){var oe=we.value;Xt.add(oe)}}catch(ie){ne=!0,Fe=ie}finally{try{!Wt&&de.return&&de.return()}finally{if(ne)throw Fe}}return Xt}var vt=new Map;H.forEach(function(Gt,$t){vt.set($t,0)}),H.forEach(function(Gt,$t){Gt.forEach(function(Xt){vt.set(Xt.id,vt.get(Xt.id)+1)})});var gt=new Map,Mt=new Map,St=new f;vt.forEach(function(Gt,$t){Gt==0?(St.push($t),z||(ft=="horizontal"?gt.set($t,y.has($t)?b[y.get($t)]:st.get($t)):gt.set($t,y.has($t)?_[y.get($t)]:st.get($t)))):gt.set($t,Number.NEGATIVE_INFINITY),z&&Mt.set($t,new Set([$t]))}),z&&lt.forEach(function(Gt){var $t=[];if(Gt.forEach(function(ne){z.has(ne)&&$t.push(ne)}),$t.length>0){var Xt=0;$t.forEach(function(ne){ft=="horizontal"?(gt.set(ne,y.has(ne)?b[y.get(ne)]:st.get(ne)),Xt+=gt.get(ne)):(gt.set(ne,y.has(ne)?_[y.get(ne)]:st.get(ne)),Xt+=gt.get(ne))}),Xt=Xt/$t.length,Gt.forEach(function(ne){z.has(ne)||gt.set(ne,Xt)})}else{var Wt=0;Gt.forEach(function(ne){ft=="horizontal"?Wt+=y.has(ne)?b[y.get(ne)]:st.get(ne):Wt+=y.has(ne)?_[y.get(ne)]:st.get(ne)}),Wt=Wt/Gt.length,Gt.forEach(function(ne){gt.set(ne,Wt)})}});for(var Bt=function(){var $t=St.shift(),Xt=H.get($t);Xt.forEach(function(Wt){if(gt.get(Wt.id)<gt.get($t)+Wt.gap)if(z&&z.has(Wt.id)){var ne=void 0;if(ft=="horizontal"?ne=y.has(Wt.id)?b[y.get(Wt.id)]:st.get(Wt.id):ne=y.has(Wt.id)?_[y.get(Wt.id)]:st.get(Wt.id),gt.set(Wt.id,ne),ne<gt.get($t)+Wt.gap){var Fe=gt.get($t)+Wt.gap-ne;Mt.get($t).forEach(function(de){gt.set(de,gt.get(de)-Fe)})}}else gt.set(Wt.id,gt.get($t)+Wt.gap);vt.set(Wt.id,vt.get(Wt.id)-1),vt.get(Wt.id)==0&&St.push(Wt.id),z&&Mt.set(Wt.id,wt(Mt.get($t),Mt.get(Wt.id)))})};St.length!=0;)Bt();if(z){var jt=new Set;H.forEach(function(Gt,$t){Gt.length==0&&jt.add($t)});var ue=[];Mt.forEach(function(Gt,$t){if(jt.has($t)){var Xt=!1,Wt=!0,ne=!1,Fe=void 0;try{for(var de=Gt[Symbol.iterator](),we;!(Wt=(we=de.next()).done);Wt=!0){var oe=we.value;z.has(oe)&&(Xt=!0)}}catch(pe){ne=!0,Fe=pe}finally{try{!Wt&&de.return&&de.return()}finally{if(ne)throw Fe}}if(!Xt){var ie=!1,fe=void 0;ue.forEach(function(pe,me){pe.has([].concat(l(Gt))[0])&&(ie=!0,fe=me)}),ie?Gt.forEach(function(pe){ue[fe].add(pe)}):ue.push(new Set(Gt))}}}),ue.forEach(function(Gt,$t){var Xt=Number.POSITIVE_INFINITY,Wt=Number.POSITIVE_INFINITY,ne=Number.NEGATIVE_INFINITY,Fe=Number.NEGATIVE_INFINITY,de=!0,we=!1,oe=void 0;try{for(var ie=Gt[Symbol.iterator](),fe;!(de=(fe=ie.next()).done);de=!0){var pe=fe.value,me=void 0;ft=="horizontal"?me=y.has(pe)?b[y.get(pe)]:st.get(pe):me=y.has(pe)?_[y.get(pe)]:st.get(pe);var se=gt.get(pe);me<Xt&&(Xt=me),me>ne&&(ne=me),se<Wt&&(Wt=se),se>Fe&&(Fe=se)}}catch(zn){we=!0,oe=zn}finally{try{!de&&ie.return&&ie.return()}finally{if(we)throw oe}}var Zr=(Xt+ne)/2-(Wt+Fe)/2,Se=!0,Jr=!1,Ur=void 0;try{for(var rr=Gt[Symbol.iterator](),Je;!(Se=(Je=rr.next()).done);Se=!0){var _r=Je.value;gt.set(_r,gt.get(_r)+Zr)}}catch(zn){Jr=!0,Ur=zn}finally{try{!Se&&rr.return&&rr.return()}finally{if(Jr)throw Ur}}})}return gt},L=function(H){var ft=0,z=0,st=0,lt=0;if(H.forEach(function(Mt){Mt.left?b[y.get(Mt.left)]-b[y.get(Mt.right)]>=0?ft++:z++:_[y.get(Mt.top)]-_[y.get(Mt.bottom)]>=0?st++:lt++}),ft>z&&st>lt)for(var wt=0;wt<y.size;wt++)b[wt]=-1*b[wt],_[wt]=-1*_[wt];else if(ft>z)for(var vt=0;vt<y.size;vt++)b[vt]=-1*b[vt];else if(st>lt)for(var gt=0;gt<y.size;gt++)_[gt]=-1*_[gt]},E=function(H){var ft=[],z=new f,st=new Set,lt=0;return H.forEach(function(wt,vt){if(!st.has(vt)){ft[lt]=[];var gt=vt;for(z.push(gt),st.add(gt),ft[lt].push(gt);z.length!=0;){gt=z.shift();var Mt=H.get(gt);Mt.forEach(function(St){st.has(St.id)||(z.push(St.id),st.add(St.id),ft[lt].push(St.id))})}lt++}}),ft},A=function(H){var ft=new Map;return H.forEach(function(z,st){ft.set(st,[])}),H.forEach(function(z,st){z.forEach(function(lt){ft.get(st).push(lt),ft.get(lt.id).push({id:st,gap:lt.gap,direction:lt.direction})})}),ft},D=function(H){var ft=new Map;return H.forEach(function(z,st){ft.set(st,[])}),H.forEach(function(z,st){z.forEach(function(lt){ft.get(lt.id).push({id:st,gap:lt.gap,direction:lt.direction})})}),ft},R=[],I=[],O=!1,F=!1,P=new Set,q=new Map,$=new Map,W=[];if(g.fixedNodeConstraint&&g.fixedNodeConstraint.forEach(function(yt){P.add(yt.nodeId)}),g.relativePlacementConstraint&&(g.relativePlacementConstraint.forEach(function(yt){yt.left?(q.has(yt.left)?q.get(yt.left).push({id:yt.right,gap:yt.gap,direction:"horizontal"}):q.set(yt.left,[{id:yt.right,gap:yt.gap,direction:"horizontal"}]),q.has(yt.right)||q.set(yt.right,[])):(q.has(yt.top)?q.get(yt.top).push({id:yt.bottom,gap:yt.gap,direction:"vertical"}):q.set(yt.top,[{id:yt.bottom,gap:yt.gap,direction:"vertical"}]),q.has(yt.bottom)||q.set(yt.bottom,[]))}),$=A(q),W=E($)),u.TRANSFORM_ON_CONSTRAINT_HANDLING){if(g.fixedNodeConstraint&&g.fixedNodeConstraint.length>1)g.fixedNodeConstraint.forEach(function(yt,H){R[H]=[yt.position.x,yt.position.y],I[H]=[b[y.get(yt.nodeId)],_[y.get(yt.nodeId)]]}),O=!0;else if(g.alignmentConstraint)(function(){var yt=0;if(g.alignmentConstraint.vertical){for(var H=g.alignmentConstraint.vertical,ft=function(gt){var Mt=new Set;H[gt].forEach(function(jt){Mt.add(jt)});var St=new Set([].concat(l(Mt)).filter(function(jt){return P.has(jt)})),Bt=void 0;St.size>0?Bt=b[y.get(St.values().next().value)]:Bt=M(Mt).x,H[gt].forEach(function(jt){R[yt]=[Bt,_[y.get(jt)]],I[yt]=[b[y.get(jt)],_[y.get(jt)]],yt++})},z=0;z<H.length;z++)ft(z);O=!0}if(g.alignmentConstraint.horizontal){for(var st=g.alignmentConstraint.horizontal,lt=function(gt){var Mt=new Set;st[gt].forEach(function(jt){Mt.add(jt)});var St=new Set([].concat(l(Mt)).filter(function(jt){return P.has(jt)})),Bt=void 0;St.size>0?Bt=b[y.get(St.values().next().value)]:Bt=M(Mt).y,st[gt].forEach(function(jt){R[yt]=[b[y.get(jt)],Bt],I[yt]=[b[y.get(jt)],_[y.get(jt)]],yt++})},wt=0;wt<st.length;wt++)lt(wt);O=!0}g.relativePlacementConstraint&&(F=!0)})();else if(g.relativePlacementConstraint){for(var X=0,tt=0,Y=0;Y<W.length;Y++)W[Y].length>X&&(X=W[Y].length,tt=Y);if(X<$.size/2)L(g.relativePlacementConstraint),O=!1,F=!1;else{var ot=new Map,Z=new Map,ct=[];W[tt].forEach(function(yt){q.get(yt).forEach(function(H){H.direction=="horizontal"?(ot.has(yt)?ot.get(yt).push(H):ot.set(yt,[H]),ot.has(H.id)||ot.set(H.id,[]),ct.push({left:yt,right:H.id})):(Z.has(yt)?Z.get(yt).push(H):Z.set(yt,[H]),Z.has(H.id)||Z.set(H.id,[]),ct.push({top:yt,bottom:H.id}))})}),L(ct),F=!1;var rt=N(ot,"horizontal"),et=N(Z,"vertical");W[tt].forEach(function(yt,H){I[H]=[b[y.get(yt)],_[y.get(yt)]],R[H]=[],rt.has(yt)?R[H][0]=rt.get(yt):R[H][0]=b[y.get(yt)],et.has(yt)?R[H][1]=et.get(yt):R[H][1]=_[y.get(yt)]}),O=!0}}if(O){for(var Q=void 0,j=h.transpose(R),it=h.transpose(I),K=0;K<j.length;K++)j[K]=h.multGamma(j[K]),it[K]=h.multGamma(it[K]);var dt=h.multMat(j,h.transpose(it)),nt=d.svd(dt);Q=h.multMat(nt.V,h.transpose(nt.U));for(var _t=0;_t<y.size;_t++){var V=[b[_t],_[_t]],Ut=[Q[0][0],Q[1][0]],pt=[Q[0][1],Q[1][1]];b[_t]=h.dotProduct(V,Ut),_[_t]=h.dotProduct(V,pt)}F&&L(g.relativePlacementConstraint)}}if(u.ENFORCE_CONSTRAINTS){if(g.fixedNodeConstraint&&g.fixedNodeConstraint.length>0){var Ft={x:0,y:0};g.fixedNodeConstraint.forEach(function(yt,H){var ft={x:b[y.get(yt.nodeId)],y:_[y.get(yt.nodeId)]},z=yt.position,st=C(z,ft);Ft.x+=st.x,Ft.y+=st.y}),Ft.x/=g.fixedNodeConstraint.length,Ft.y/=g.fixedNodeConstraint.length,b.forEach(function(yt,H){b[H]+=Ft.x}),_.forEach(function(yt,H){_[H]+=Ft.y}),g.fixedNodeConstraint.forEach(function(yt){b[y.get(yt.nodeId)]=yt.position.x,_[y.get(yt.nodeId)]=yt.position.y})}if(g.alignmentConstraint){if(g.alignmentConstraint.vertical)for(var Yt=g.alignmentConstraint.vertical,Ht=function(H){var ft=new Set;Yt[H].forEach(function(lt){ft.add(lt)});var z=new Set([].concat(l(ft)).filter(function(lt){return P.has(lt)})),st=void 0;z.size>0?st=b[y.get(z.values().next().value)]:st=M(ft).x,ft.forEach(function(lt){P.has(lt)||(b[y.get(lt)]=st)})},Lt=0;Lt<Yt.length;Lt++)Ht(Lt);if(g.alignmentConstraint.horizontal)for(var Nt=g.alignmentConstraint.horizontal,It=function(H){var ft=new Set;Nt[H].forEach(function(lt){ft.add(lt)});var z=new Set([].concat(l(ft)).filter(function(lt){return P.has(lt)})),st=void 0;z.size>0?st=_[y.get(z.values().next().value)]:st=M(ft).y,ft.forEach(function(lt){P.has(lt)||(_[y.get(lt)]=st)})},kt=0;kt<Nt.length;kt++)It(kt)}g.relativePlacementConstraint&&function(){var yt=new Map,H=new Map,ft=new Map,z=new Map,st=new Map,lt=new Map,wt=new Set,vt=new Set;if(P.forEach(function(tn){wt.add(tn),vt.add(tn)}),g.alignmentConstraint){if(g.alignmentConstraint.vertical)for(var gt=g.alignmentConstraint.vertical,Mt=function(Qt){ft.set("dummy"+Qt,[]),gt[Qt].forEach(function(ve){yt.set(ve,"dummy"+Qt),ft.get("dummy"+Qt).push(ve),P.has(ve)&&wt.add("dummy"+Qt)}),st.set("dummy"+Qt,b[y.get(gt[Qt][0])])},St=0;St<gt.length;St++)Mt(St);if(g.alignmentConstraint.horizontal)for(var Bt=g.alignmentConstraint.horizontal,jt=function(Qt){z.set("dummy"+Qt,[]),Bt[Qt].forEach(function(ve){H.set(ve,"dummy"+Qt),z.get("dummy"+Qt).push(ve),P.has(ve)&&vt.add("dummy"+Qt)}),lt.set("dummy"+Qt,_[y.get(Bt[Qt][0])])},ue=0;ue<Bt.length;ue++)jt(ue)}var Gt=new Map,$t=new Map,Xt=function(Qt){q.get(Qt).forEach(function(ve){var qe=void 0,ae=void 0;ve.direction=="horizontal"?(qe=yt.get(Qt)?yt.get(Qt):Qt,yt.get(ve.id)?ae={id:yt.get(ve.id),gap:ve.gap,direction:ve.direction}:ae=ve,Gt.has(qe)?Gt.get(qe).push(ae):Gt.set(qe,[ae]),Gt.has(ae.id)||Gt.set(ae.id,[])):(qe=H.get(Qt)?H.get(Qt):Qt,H.get(ve.id)?ae={id:H.get(ve.id),gap:ve.gap,direction:ve.direction}:ae=ve,$t.has(qe)?$t.get(qe).push(ae):$t.set(qe,[ae]),$t.has(ae.id)||$t.set(ae.id,[]))})},Wt=!0,ne=!1,Fe=void 0;try{for(var de=q.keys()[Symbol.iterator](),we;!(Wt=(we=de.next()).done);Wt=!0){var oe=we.value;Xt(oe)}}catch(tn){ne=!0,Fe=tn}finally{try{!Wt&&de.return&&de.return()}finally{if(ne)throw Fe}}var ie=A(Gt),fe=A($t),pe=E(ie),me=E(fe),se=D(Gt),Zr=D($t),Se=[],Jr=[];pe.forEach(function(tn,Qt){Se[Qt]=[],tn.forEach(function(ve){se.get(ve).length==0&&Se[Qt].push(ve)})}),me.forEach(function(tn,Qt){Jr[Qt]=[],tn.forEach(function(ve){Zr.get(ve).length==0&&Jr[Qt].push(ve)})});var Ur=N(Gt,"horizontal",wt,st,Se),rr=N($t,"vertical",vt,lt,Jr),Je=function(Qt){ft.get(Qt)?ft.get(Qt).forEach(function(ve){b[y.get(ve)]=Ur.get(Qt)}):b[y.get(Qt)]=Ur.get(Qt)},_r=!0,zn=!1,ce=void 0;try{for(var Dt=Ur.keys()[Symbol.iterator](),te;!(_r=(te=Dt.next()).done);_r=!0){var Te=te.value;Je(Te)}}catch(tn){zn=!0,ce=tn}finally{try{!_r&&Dt.return&&Dt.return()}finally{if(zn)throw ce}}var Hr=function(Qt){z.get(Qt)?z.get(Qt).forEach(function(ve){_[y.get(ve)]=rr.get(Qt)}):_[y.get(Qt)]=rr.get(Qt)},la=!0,Wr=!1,Aa=void 0;try{for(var Wi=rr.keys()[Symbol.iterator](),ei;!(la=(ei=Wi.next()).done);la=!0){var Te=ei.value;Hr(Te)}}catch(tn){Wr=!0,Aa=tn}finally{try{!la&&Wi.return&&Wi.return()}finally{if(Wr)throw Aa}}}()}for(var Pt=0;Pt<k.length;Pt++){var ht=k[Pt];ht.getChild()==null&&ht.setCenter(b[y.get(ht.id)],_[y.get(ht.id)])}},i.exports=p},551:i=>{i.exports=e}},r={};function n(i){var o=r[i];if(o!==void 0)return o.exports;var s=r[i]={exports:{}};return t[i](s,s.exports,n),s.exports}var a=n(45);return a})()})});var xwt=_o((Xw,fU)=>{(function(t,r){typeof Xw=="object"&&typeof fU=="object"?fU.exports=r(cU()):typeof define=="function"&&define.amd?define(["cose-base"],r):typeof Xw=="object"?Xw.cytoscapeFcose=r(cU()):t.cytoscapeFcose=r(t.coseBase)})(Xw,function(e){return(()=>{"use strict";var t={658:i=>{i.exports=Object.assign!=null?Object.assign.bind(Object):function(o){for(var s=arguments.length,l=Array(s>1?s-1:0),u=1;u<s;u++)l[u-1]=arguments[u];return l.forEach(function(f){Object.keys(f).forEach(function(h){return o[h]=f[h]})}),o}},548:(i,o,s)=>{var l=function(){function h(d,p){var m=[],g=!0,v=!1,y=void 0;try{for(var b=d[Symbol.iterator](),_;!(g=(_=b.next()).done)&&(m.push(_.value),!(p&&m.length===p));g=!0);}catch(k){v=!0,y=k}finally{try{!g&&b.return&&b.return()}finally{if(v)throw y}}return m}return function(d,p){if(Array.isArray(d))return d;if(Symbol.iterator in Object(d))return h(d,p);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=s(140).layoutBase.LinkedList,f={};f.getTopMostNodes=function(h){for(var d={},p=0;p<h.length;p++)d[h[p].id()]=!0;var m=h.filter(function(g,v){typeof g=="number"&&(g=v);for(var y=g.parent()[0];y!=null;){if(d[y.id()])return!1;y=y.parent()[0]}return!0});return m},f.connectComponents=function(h,d,p,m){var g=new u,v=new Set,y=[],b=void 0,_=void 0,k=void 0,w=!1,T=1,S=[],C=[],M=function(){var L=h.collection();C.push(L);var E=p[0],A=h.collection();A.merge(E).merge(E.descendants().intersection(d)),y.push(E),A.forEach(function(I){g.push(I),v.add(I),L.merge(I)});for(var D=function(){E=g.shift();var O=h.collection();E.neighborhood().nodes().forEach(function($){d.intersection(E.edgesWith($)).length>0&&O.merge($)});for(var F=0;F<O.length;F++){var P=O[F];if(b=p.intersection(P.union(P.ancestors())),b!=null&&!v.has(b[0])){var q=b.union(b.descendants());q.forEach(function($){g.push($),v.add($),L.merge($),p.has($)&&y.push($)})}}};g.length!=0;)D();if(L.forEach(function(I){d.intersection(I.connectedEdges()).forEach(function(O){L.has(O.source())&&L.has(O.target())&&L.merge(O)})}),y.length==p.length&&(w=!0),!w||w&&T>1){_=y[0],k=_.connectedEdges().length,y.forEach(function(I){I.connectedEdges().length<k&&(k=I.connectedEdges().length,_=I)}),S.push(_.id());var R=h.collection();R.merge(y[0]),y.forEach(function(I){R.merge(I)}),y=[],p=p.difference(R),T++}};do M();while(!w);return m&&S.length>0&&m.set("dummy"+(m.size+1),S),C},f.relocateComponent=function(h,d,p){if(!p.fixedNodeConstraint){var m=Number.POSITIVE_INFINITY,g=Number.NEGATIVE_INFINITY,v=Number.POSITIVE_INFINITY,y=Number.NEGATIVE_INFINITY;if(p.quality=="draft"){var b=!0,_=!1,k=void 0;try{for(var w=d.nodeIndexes[Symbol.iterator](),T;!(b=(T=w.next()).done);b=!0){var S=T.value,C=l(S,2),M=C[0],N=C[1],L=p.cy.getElementById(M);if(L){var E=L.boundingBox(),A=d.xCoords[N]-E.w/2,D=d.xCoords[N]+E.w/2,R=d.yCoords[N]-E.h/2,I=d.yCoords[N]+E.h/2;A<m&&(m=A),D>g&&(g=D),R<v&&(v=R),I>y&&(y=I)}}}catch($){_=!0,k=$}finally{try{!b&&w.return&&w.return()}finally{if(_)throw k}}var O=h.x-(g+m)/2,F=h.y-(y+v)/2;d.xCoords=d.xCoords.map(function($){return $+O}),d.yCoords=d.yCoords.map(function($){return $+F})}else{Object.keys(d).forEach(function($){var W=d[$],X=W.getRect().x,tt=W.getRect().x+W.getRect().width,Y=W.getRect().y,ot=W.getRect().y+W.getRect().height;X<m&&(m=X),tt>g&&(g=tt),Y<v&&(v=Y),ot>y&&(y=ot)});var P=h.x-(g+m)/2,q=h.y-(y+v)/2;Object.keys(d).forEach(function($){var W=d[$];W.setCenter(W.getCenterX()+P,W.getCenterY()+q)})}}},f.calcBoundingBox=function(h,d,p,m){for(var g=Number.MAX_SAFE_INTEGER,v=Number.MIN_SAFE_INTEGER,y=Number.MAX_SAFE_INTEGER,b=Number.MIN_SAFE_INTEGER,_=void 0,k=void 0,w=void 0,T=void 0,S=h.descendants().not(":parent"),C=S.length,M=0;M<C;M++){var N=S[M];_=d[m.get(N.id())]-N.width()/2,k=d[m.get(N.id())]+N.width()/2,w=p[m.get(N.id())]-N.height()/2,T=p[m.get(N.id())]+N.height()/2,g>_&&(g=_),v<k&&(v=k),y>w&&(y=w),b<T&&(b=T)}var L={};return L.topLeftX=g,L.topLeftY=y,L.width=v-g,L.height=b-y,L},f.calcParentsWithoutChildren=function(h,d){var p=h.collection();return d.nodes(":parent").forEach(function(m){var g=!1;m.children().forEach(function(v){v.css("display")!="none"&&(g=!0)}),g||p.merge(m)}),p},i.exports=f},816:(i,o,s)=>{var l=s(548),u=s(140).CoSELayout,f=s(140).CoSENode,h=s(140).layoutBase.PointD,d=s(140).layoutBase.DimensionD,p=s(140).layoutBase.LayoutConstants,m=s(140).layoutBase.FDLayoutConstants,g=s(140).CoSEConstants,v=function(b,_){var k=b.cy,w=b.eles,T=w.nodes(),S=w.edges(),C=void 0,M=void 0,N=void 0,L={};b.randomize&&(C=_.nodeIndexes,M=_.xCoords,N=_.yCoords);var E=function($){return typeof $=="function"},A=function($,W){return E($)?$(W):$},D=l.calcParentsWithoutChildren(k,w),R=function q($,W,X,tt){for(var Y=W.length,ot=0;ot<Y;ot++){var Z=W[ot],ct=null;Z.intersection(D).length==0&&(ct=Z.children());var rt=void 0,et=Z.layoutDimensions({nodeDimensionsIncludeLabels:tt.nodeDimensionsIncludeLabels});if(Z.outerWidth()!=null&&Z.outerHeight()!=null)if(tt.randomize)if(!Z.isParent())rt=$.add(new f(X.graphManager,new h(M[C.get(Z.id())]-et.w/2,N[C.get(Z.id())]-et.h/2),new d(parseFloat(et.w),parseFloat(et.h))));else{var Q=l.calcBoundingBox(Z,M,N,C);Z.intersection(D).length==0?rt=$.add(new f(X.graphManager,new h(Q.topLeftX,Q.topLeftY),new d(Q.width,Q.height))):rt=$.add(new f(X.graphManager,new h(Q.topLeftX,Q.topLeftY),new d(parseFloat(et.w),parseFloat(et.h))))}else rt=$.add(new f(X.graphManager,new h(Z.position("x")-et.w/2,Z.position("y")-et.h/2),new d(parseFloat(et.w),parseFloat(et.h))));else rt=$.add(new f(this.graphManager));if(rt.id=Z.data("id"),rt.nodeRepulsion=A(tt.nodeRepulsion,Z),rt.paddingLeft=parseInt(Z.css("padding")),rt.paddingTop=parseInt(Z.css("padding")),rt.paddingRight=parseInt(Z.css("padding")),rt.paddingBottom=parseInt(Z.css("padding")),tt.nodeDimensionsIncludeLabels&&(rt.labelWidth=Z.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).w,rt.labelHeight=Z.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).h,rt.labelPosVertical=Z.css("text-valign"),rt.labelPosHorizontal=Z.css("text-halign")),L[Z.data("id")]=rt,isNaN(rt.rect.x)&&(rt.rect.x=0),isNaN(rt.rect.y)&&(rt.rect.y=0),ct!=null&&ct.length>0){var j=void 0;j=X.getGraphManager().add(X.newGraph(),rt),q(j,ct,X,tt)}}},I=function($,W,X){for(var tt=0,Y=0,ot=0;ot<X.length;ot++){var Z=X[ot],ct=L[Z.data("source")],rt=L[Z.data("target")];if(ct&&rt&&ct!==rt&&ct.getEdgesBetween(rt).length==0){var et=W.add($.newEdge(),ct,rt);et.id=Z.id(),et.idealLength=A(b.idealEdgeLength,Z),et.edgeElasticity=A(b.edgeElasticity,Z),tt+=et.idealLength,Y++}}b.idealEdgeLength!=null&&(Y>0?g.DEFAULT_EDGE_LENGTH=m.DEFAULT_EDGE_LENGTH=tt/Y:E(b.idealEdgeLength)?g.DEFAULT_EDGE_LENGTH=m.DEFAULT_EDGE_LENGTH=50:g.DEFAULT_EDGE_LENGTH=m.DEFAULT_EDGE_LENGTH=b.idealEdgeLength,g.MIN_REPULSION_DIST=m.MIN_REPULSION_DIST=m.DEFAULT_EDGE_LENGTH/10,g.DEFAULT_RADIAL_SEPARATION=m.DEFAULT_EDGE_LENGTH)},O=function($,W){W.fixedNodeConstraint&&($.constraints.fixedNodeConstraint=W.fixedNodeConstraint),W.alignmentConstraint&&($.constraints.alignmentConstraint=W.alignmentConstraint),W.relativePlacementConstraint&&($.constraints.relativePlacementConstraint=W.relativePlacementConstraint)};b.nestingFactor!=null&&(g.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=m.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=b.nestingFactor),b.gravity!=null&&(g.DEFAULT_GRAVITY_STRENGTH=m.DEFAULT_GRAVITY_STRENGTH=b.gravity),b.numIter!=null&&(g.MAX_ITERATIONS=m.MAX_ITERATIONS=b.numIter),b.gravityRange!=null&&(g.DEFAULT_GRAVITY_RANGE_FACTOR=m.DEFAULT_GRAVITY_RANGE_FACTOR=b.gravityRange),b.gravityCompound!=null&&(g.DEFAULT_COMPOUND_GRAVITY_STRENGTH=m.DEFAULT_COMPOUND_GRAVITY_STRENGTH=b.gravityCompound),b.gravityRangeCompound!=null&&(g.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=m.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=b.gravityRangeCompound),b.initialEnergyOnIncremental!=null&&(g.DEFAULT_COOLING_FACTOR_INCREMENTAL=m.DEFAULT_COOLING_FACTOR_INCREMENTAL=b.initialEnergyOnIncremental),b.tilingCompareBy!=null&&(g.TILING_COMPARE_BY=b.tilingCompareBy),b.quality=="proof"?p.QUALITY=2:p.QUALITY=0,g.NODE_DIMENSIONS_INCLUDE_LABELS=m.NODE_DIMENSIONS_INCLUDE_LABELS=p.NODE_DIMENSIONS_INCLUDE_LABELS=b.nodeDimensionsIncludeLabels,g.DEFAULT_INCREMENTAL=m.DEFAULT_INCREMENTAL=p.DEFAULT_INCREMENTAL=!b.randomize,g.ANIMATE=m.ANIMATE=p.ANIMATE=b.animate,g.TILE=b.tile,g.TILING_PADDING_VERTICAL=typeof b.tilingPaddingVertical=="function"?b.tilingPaddingVertical.call():b.tilingPaddingVertical,g.TILING_PADDING_HORIZONTAL=typeof b.tilingPaddingHorizontal=="function"?b.tilingPaddingHorizontal.call():b.tilingPaddingHorizontal,g.DEFAULT_INCREMENTAL=m.DEFAULT_INCREMENTAL=p.DEFAULT_INCREMENTAL=!0,g.PURE_INCREMENTAL=!b.randomize,p.DEFAULT_UNIFORM_LEAF_NODE_SIZES=b.uniformNodeDimensions,b.step=="transformed"&&(g.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,g.ENFORCE_CONSTRAINTS=!1,g.APPLY_LAYOUT=!1),b.step=="enforced"&&(g.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,g.ENFORCE_CONSTRAINTS=!0,g.APPLY_LAYOUT=!1),b.step=="cose"&&(g.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,g.ENFORCE_CONSTRAINTS=!1,g.APPLY_LAYOUT=!0),b.step=="all"&&(b.randomize?g.TRANSFORM_ON_CONSTRAINT_HANDLING=!0:g.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,g.ENFORCE_CONSTRAINTS=!0,g.APPLY_LAYOUT=!0),b.fixedNodeConstraint||b.alignmentConstraint||b.relativePlacementConstraint?g.TREE_REDUCTION_ON_INCREMENTAL=!1:g.TREE_REDUCTION_ON_INCREMENTAL=!0;var F=new u,P=F.newGraphManager();return R(P.addRoot(),l.getTopMostNodes(T),F,b),I(F,P,S),O(F,b),F.runLayout(),L};i.exports={coseLayout:v}},212:(i,o,s)=>{var l=function(){function b(_,k){for(var w=0;w<k.length;w++){var T=k[w];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(_,T.key,T)}}return function(_,k,w){return k&&b(_.prototype,k),w&&b(_,w),_}}();function u(b,_){if(!(b instanceof _))throw new TypeError("Cannot call a class as a function")}var f=s(658),h=s(548),d=s(657),p=d.spectralLayout,m=s(816),g=m.coseLayout,v=Object.freeze({quality:"default",randomize:!0,animate:!0,animationDuration:1e3,animationEasing:void 0,fit:!0,padding:30,nodeDimensionsIncludeLabels:!1,uniformNodeDimensions:!1,packComponents:!0,step:"all",samplingType:!0,sampleSize:25,nodeSeparation:75,piTol:1e-7,nodeRepulsion:function(_){return 4500},idealEdgeLength:function(_){return 50},edgeElasticity:function(_){return .45},nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,tilingCompareBy:void 0,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.3,fixedNodeConstraint:void 0,alignmentConstraint:void 0,relativePlacementConstraint:void 0,ready:function(){},stop:function(){}}),y=function(){function b(_){u(this,b),this.options=f({},v,_)}return l(b,[{key:"run",value:function(){var k=this,w=this.options,T=w.cy,S=w.eles,C=[],M=void 0,N=void 0,L=[],E=void 0,A=[];w.fixedNodeConstraint&&(!Array.isArray(w.fixedNodeConstraint)||w.fixedNodeConstraint.length==0)&&(w.fixedNodeConstraint=void 0),w.alignmentConstraint&&(w.alignmentConstraint.vertical&&(!Array.isArray(w.alignmentConstraint.vertical)||w.alignmentConstraint.vertical.length==0)&&(w.alignmentConstraint.vertical=void 0),w.alignmentConstraint.horizontal&&(!Array.isArray(w.alignmentConstraint.horizontal)||w.alignmentConstraint.horizontal.length==0)&&(w.alignmentConstraint.horizontal=void 0)),w.relativePlacementConstraint&&(!Array.isArray(w.relativePlacementConstraint)||w.relativePlacementConstraint.length==0)&&(w.relativePlacementConstraint=void 0);var D=w.fixedNodeConstraint||w.alignmentConstraint||w.relativePlacementConstraint;D&&(w.tile=!1,w.packComponents=!1);var R=void 0,I=!1;if(T.layoutUtilities&&w.packComponents&&(R=T.layoutUtilities("get"),R||(R=T.layoutUtilities()),I=!0),S.nodes().length>0)if(I){var P=h.getTopMostNodes(w.eles.nodes());if(E=h.connectComponents(T,w.eles,P),E.forEach(function(_t){var V=_t.boundingBox();A.push({x:V.x1+V.w/2,y:V.y1+V.h/2})}),w.randomize&&E.forEach(function(_t){w.eles=_t,C.push(p(w))}),w.quality=="default"||w.quality=="proof"){var q=T.collection();if(w.tile){var $=new Map,W=[],X=[],tt=0,Y={nodeIndexes:$,xCoords:W,yCoords:X},ot=[];if(E.forEach(function(_t,V){_t.edges().length==0&&(_t.nodes().forEach(function(Ut,pt){q.merge(_t.nodes()[pt]),Ut.isParent()||(Y.nodeIndexes.set(_t.nodes()[pt].id(),tt++),Y.xCoords.push(_t.nodes()[0].position().x),Y.yCoords.push(_t.nodes()[0].position().y))}),ot.push(V))}),q.length>1){var Z=q.boundingBox();A.push({x:Z.x1+Z.w/2,y:Z.y1+Z.h/2}),E.push(q),C.push(Y);for(var ct=ot.length-1;ct>=0;ct--)E.splice(ot[ct],1),C.splice(ot[ct],1),A.splice(ot[ct],1)}}E.forEach(function(_t,V){w.eles=_t,L.push(g(w,C[V])),h.relocateComponent(A[V],L[V],w)})}else E.forEach(function(_t,V){h.relocateComponent(A[V],C[V],w)});var rt=new Set;if(E.length>1){var et=[],Q=S.filter(function(_t){return _t.css("display")=="none"});E.forEach(function(_t,V){var Ut=void 0;if(w.quality=="draft"&&(Ut=C[V].nodeIndexes),_t.nodes().not(Q).length>0){var pt={};pt.edges=[],pt.nodes=[];var Ft=void 0;_t.nodes().not(Q).forEach(function(Yt){if(w.quality=="draft")if(!Yt.isParent())Ft=Ut.get(Yt.id()),pt.nodes.push({x:C[V].xCoords[Ft]-Yt.boundingbox().w/2,y:C[V].yCoords[Ft]-Yt.boundingbox().h/2,width:Yt.boundingbox().w,height:Yt.boundingbox().h});else{var Ht=h.calcBoundingBox(Yt,C[V].xCoords,C[V].yCoords,Ut);pt.nodes.push({x:Ht.topLeftX,y:Ht.topLeftY,width:Ht.width,height:Ht.height})}else L[V][Yt.id()]&&pt.nodes.push({x:L[V][Yt.id()].getLeft(),y:L[V][Yt.id()].getTop(),width:L[V][Yt.id()].getWidth(),height:L[V][Yt.id()].getHeight()})}),_t.edges().forEach(function(Yt){var Ht=Yt.source(),Lt=Yt.target();if(Ht.css("display")!="none"&&Lt.css("display")!="none")if(w.quality=="draft"){var Nt=Ut.get(Ht.id()),It=Ut.get(Lt.id()),kt=[],Pt=[];if(Ht.isParent()){var ht=h.calcBoundingBox(Ht,C[V].xCoords,C[V].yCoords,Ut);kt.push(ht.topLeftX+ht.width/2),kt.push(ht.topLeftY+ht.height/2)}else kt.push(C[V].xCoords[Nt]),kt.push(C[V].yCoords[Nt]);if(Lt.isParent()){var yt=h.calcBoundingBox(Lt,C[V].xCoords,C[V].yCoords,Ut);Pt.push(yt.topLeftX+yt.width/2),Pt.push(yt.topLeftY+yt.height/2)}else Pt.push(C[V].xCoords[It]),Pt.push(C[V].yCoords[It]);pt.edges.push({startX:kt[0],startY:kt[1],endX:Pt[0],endY:Pt[1]})}else L[V][Ht.id()]&&L[V][Lt.id()]&&pt.edges.push({startX:L[V][Ht.id()].getCenterX(),startY:L[V][Ht.id()].getCenterY(),endX:L[V][Lt.id()].getCenterX(),endY:L[V][Lt.id()].getCenterY()})}),pt.nodes.length>0&&(et.push(pt),rt.add(V))}});var j=R.packComponents(et,w.randomize).shifts;if(w.quality=="draft")C.forEach(function(_t,V){var Ut=_t.xCoords.map(function(Ft){return Ft+j[V].dx}),pt=_t.yCoords.map(function(Ft){return Ft+j[V].dy});_t.xCoords=Ut,_t.yCoords=pt});else{var it=0;rt.forEach(function(_t){Object.keys(L[_t]).forEach(function(V){var Ut=L[_t][V];Ut.setCenter(Ut.getCenterX()+j[it].dx,Ut.getCenterY()+j[it].dy)}),it++})}}}else{var O=w.eles.boundingBox();if(A.push({x:O.x1+O.w/2,y:O.y1+O.h/2}),w.randomize){var F=p(w);C.push(F)}w.quality=="default"||w.quality=="proof"?(L.push(g(w,C[0])),h.relocateComponent(A[0],L[0],w)):h.relocateComponent(A[0],C[0],w)}var K=function(V,Ut){if(w.quality=="default"||w.quality=="proof"){typeof V=="number"&&(V=Ut);var pt=void 0,Ft=void 0,Yt=V.data("id");return L.forEach(function(Lt){Yt in Lt&&(pt={x:Lt[Yt].getRect().getCenterX(),y:Lt[Yt].getRect().getCenterY()},Ft=Lt[Yt])}),w.nodeDimensionsIncludeLabels&&(Ft.labelWidth&&(Ft.labelPosHorizontal=="left"?pt.x+=Ft.labelWidth/2:Ft.labelPosHorizontal=="right"&&(pt.x-=Ft.labelWidth/2)),Ft.labelHeight&&(Ft.labelPosVertical=="top"?pt.y+=Ft.labelHeight/2:Ft.labelPosVertical=="bottom"&&(pt.y-=Ft.labelHeight/2))),pt==null&&(pt={x:V.position("x"),y:V.position("y")}),{x:pt.x,y:pt.y}}else{var Ht=void 0;return C.forEach(function(Lt){var Nt=Lt.nodeIndexes.get(V.id());Nt!=null&&(Ht={x:Lt.xCoords[Nt],y:Lt.yCoords[Nt]})}),Ht==null&&(Ht={x:V.position("x"),y:V.position("y")}),{x:Ht.x,y:Ht.y}}};if(w.quality=="default"||w.quality=="proof"||w.randomize){var dt=h.calcParentsWithoutChildren(T,S),nt=S.filter(function(_t){return _t.css("display")=="none"});w.eles=S.not(nt),S.nodes().not(":parent").not(nt).layoutPositions(k,w,K),dt.length>0&&dt.forEach(function(_t){_t.position(K(_t))})}else console.log("If randomize option is set to false, then quality option must be 'default' or 'proof'.")}}]),b}();i.exports=y},657:(i,o,s)=>{var l=s(548),u=s(140).layoutBase.Matrix,f=s(140).layoutBase.SVD,h=function(p){var m=p.cy,g=p.eles,v=g.nodes(),y=g.nodes(":parent"),b=new Map,_=new Map,k=new Map,w=[],T=[],S=[],C=[],M=[],N=[],L=[],E=[],A=void 0,D=void 0,R=1e8,I=1e-9,O=p.piTol,F=p.samplingType,P=p.nodeSeparation,q=void 0,$=function(){for(var ft=0,z=0,st=!1;z<q;){ft=Math.floor(Math.random()*D),st=!1;for(var lt=0;lt<z;lt++)if(C[lt]==ft){st=!0;break}if(!st)C[z]=ft,z++;else continue}},W=function(ft,z,st){for(var lt=[],wt=0,vt=0,gt=0,Mt=void 0,St=[],Bt=0,jt=1,ue=0;ue<D;ue++)St[ue]=R;for(lt[vt]=ft,St[ft]=0;vt>=wt;){gt=lt[wt++];for(var Gt=w[gt],$t=0;$t<Gt.length;$t++)Mt=_.get(Gt[$t]),St[Mt]==R&&(St[Mt]=St[gt]+1,lt[++vt]=Mt);N[gt][z]=St[gt]*P}if(st){for(var Xt=0;Xt<D;Xt++)N[Xt][z]<M[Xt]&&(M[Xt]=N[Xt][z]);for(var Wt=0;Wt<D;Wt++)M[Wt]>Bt&&(Bt=M[Wt],jt=Wt)}return jt},X=function(ft){var z=void 0;if(ft){z=Math.floor(Math.random()*D),A=z;for(var lt=0;lt<D;lt++)M[lt]=R;for(var wt=0;wt<q;wt++)C[wt]=z,z=W(z,wt,ft)}else{$();for(var st=0;st<q;st++)W(C[st],st,ft,!1)}for(var vt=0;vt<D;vt++)for(var gt=0;gt<q;gt++)N[vt][gt]*=N[vt][gt];for(var Mt=0;Mt<q;Mt++)L[Mt]=[];for(var St=0;St<q;St++)for(var Bt=0;Bt<q;Bt++)L[St][Bt]=N[C[Bt]][St]},tt=function(){for(var ft=f.svd(L),z=ft.S,st=ft.U,lt=ft.V,wt=z[0]*z[0]*z[0],vt=[],gt=0;gt<q;gt++){vt[gt]=[];for(var Mt=0;Mt<q;Mt++)vt[gt][Mt]=0,gt==Mt&&(vt[gt][Mt]=z[gt]/(z[gt]*z[gt]+wt/(z[gt]*z[gt])))}E=u.multMat(u.multMat(lt,vt),u.transpose(st))},Y=function(){for(var ft=void 0,z=void 0,st=[],lt=[],wt=[],vt=[],gt=0;gt<D;gt++)st[gt]=Math.random(),lt[gt]=Math.random();st=u.normalize(st),lt=u.normalize(lt);for(var Mt=0,St=I,Bt=I,jt=void 0;;){Mt++;for(var ue=0;ue<D;ue++)wt[ue]=st[ue];if(st=u.multGamma(u.multL(u.multGamma(wt),N,E)),ft=u.dotProduct(wt,st),st=u.normalize(st),St=u.dotProduct(wt,st),jt=Math.abs(St/Bt),jt<=1+O&&jt>=1)break;Bt=St}for(var Gt=0;Gt<D;Gt++)wt[Gt]=st[Gt];for(Mt=0,Bt=I;;){Mt++;for(var $t=0;$t<D;$t++)vt[$t]=lt[$t];if(vt=u.minusOp(vt,u.multCons(wt,u.dotProduct(wt,vt))),lt=u.multGamma(u.multL(u.multGamma(vt),N,E)),z=u.dotProduct(vt,lt),lt=u.normalize(lt),St=u.dotProduct(vt,lt),jt=Math.abs(St/Bt),jt<=1+O&&jt>=1)break;Bt=St}for(var Xt=0;Xt<D;Xt++)vt[Xt]=lt[Xt];T=u.multCons(wt,Math.sqrt(Math.abs(ft))),S=u.multCons(vt,Math.sqrt(Math.abs(z)))};l.connectComponents(m,g,l.getTopMostNodes(v),b),y.forEach(function(H){l.connectComponents(m,g,l.getTopMostNodes(H.descendants().intersection(g)),b)});for(var ot=0,Z=0;Z<v.length;Z++)v[Z].isParent()||_.set(v[Z].id(),ot++);var ct=!0,rt=!1,et=void 0;try{for(var Q=b.keys()[Symbol.iterator](),j;!(ct=(j=Q.next()).done);ct=!0){var it=j.value;_.set(it,ot++)}}catch(H){rt=!0,et=H}finally{try{!ct&&Q.return&&Q.return()}finally{if(rt)throw et}}for(var K=0;K<_.size;K++)w[K]=[];y.forEach(function(H){for(var ft=H.children().intersection(g);ft.nodes(":childless").length==0;)ft=ft.nodes()[0].children().intersection(g);var z=0,st=ft.nodes(":childless")[0].connectedEdges().length;ft.nodes(":childless").forEach(function(lt,wt){lt.connectedEdges().length<st&&(st=lt.connectedEdges().length,z=wt)}),k.set(H.id(),ft.nodes(":childless")[z].id())}),v.forEach(function(H){var ft=void 0;H.isParent()?ft=_.get(k.get(H.id())):ft=_.get(H.id()),H.neighborhood().nodes().forEach(function(z){g.intersection(H.edgesWith(z)).length>0&&(z.isParent()?w[ft].push(k.get(z.id())):w[ft].push(z.id()))})});var dt=function(ft){var z=_.get(ft),st=void 0;b.get(ft).forEach(function(lt){m.getElementById(lt).isParent()?st=k.get(lt):st=lt,w[z].push(st),w[_.get(st)].push(ft)})},nt=!0,_t=!1,V=void 0;try{for(var Ut=b.keys()[Symbol.iterator](),pt;!(nt=(pt=Ut.next()).done);nt=!0){var Ft=pt.value;dt(Ft)}}catch(H){_t=!0,V=H}finally{try{!nt&&Ut.return&&Ut.return()}finally{if(_t)throw V}}D=_.size;var Yt=void 0;if(D>2){q=D<p.sampleSize?D:p.sampleSize;for(var Ht=0;Ht<D;Ht++)N[Ht]=[];for(var Lt=0;Lt<q;Lt++)E[Lt]=[];return p.quality=="draft"||p.step=="all"?(X(F),tt(),Y(),Yt={nodeIndexes:_,xCoords:T,yCoords:S}):(_.forEach(function(H,ft){T.push(m.getElementById(ft).position("x")),S.push(m.getElementById(ft).position("y"))}),Yt={nodeIndexes:_,xCoords:T,yCoords:S}),Yt}else{var Nt=_.keys(),It=m.getElementById(Nt.next().value),kt=It.position(),Pt=It.outerWidth();if(T.push(kt.x),S.push(kt.y),D==2){var ht=m.getElementById(Nt.next().value),yt=ht.outerWidth();T.push(kt.x+Pt/2+yt/2+p.idealEdgeLength),S.push(kt.y)}return Yt={nodeIndexes:_,xCoords:T,yCoords:S},Yt}};i.exports={spectralLayout:h}},579:(i,o,s)=>{var l=s(212),u=function(h){h&&h("layout","fcose",l)};typeof cytoscape<"u"&&u(cytoscape),i.exports=u},140:i=>{i.exports=e}},r={};function n(i){var o=r[i];if(o!==void 0)return o.exports;var s=r[i]={exports:{}};return t[i](s,s.exports,n),s.exports}var a=n(579);return a})()})});var Owt={};pr(Owt,{diagram:()=>tue});function Swt(e,t,r){e.forEach(n=>{t.add({group:"nodes",data:{type:"service",id:n.id,icon:n.icon,label:n.title,parent:n.in,width:r.getConfigField("iconSize"),height:r.getConfigField("iconSize")},classes:"node-service"})})}function Dwt(e,t,r){e.forEach(n=>{t.add({group:"nodes",data:{type:"junction",id:n.id,parent:n.in,width:r.getConfigField("iconSize"),height:r.getConfigField("iconSize")},classes:"node-junction"})})}function Awt(e,t){t.nodes().map(r=>{let n=l2(r);if(n.type==="group")return;n.x=r.position().x,n.y=r.position().y,e.getElementById(n.id).attr("transform","translate("+(n.x||0)+","+(n.y||0)+")")})}function Lwt(e,t){e.forEach(r=>{t.add({group:"nodes",data:{type:"group",id:r.id,icon:r.icon,label:r.title,parent:r.in},classes:"node-group"})})}function Mwt(e,t){e.forEach(r=>{let{lhsId:n,rhsId:a,lhsInto:i,lhsGroup:o,rhsInto:s,lhsDir:l,rhsDir:u,rhsGroup:f,title:h}=r,d=dU(r.lhsDir,r.rhsDir)?"segments":"straight",p={id:`${n}-${a}`,label:h,source:n,sourceDir:l,sourceArrow:i,sourceGroup:o,sourceEndpoint:l==="L"?"0 50%":l==="R"?"100% 50%":l==="T"?"50% 0":"50% 100%",target:a,targetDir:u,targetArrow:s,targetGroup:f,targetEndpoint:u==="L"?"0 50%":u==="R"?"100% 50%":u==="T"?"50% 0":"50% 100%"};t.add({group:"edges",data:p,classes:d})})}function Iwt(e,t,r){let n=x((s,l)=>Object.entries(s).reduce((u,[f,h])=>{let d=0,p=Object.entries(h);if(p.length===1)return u[f]=p[0][1],u;for(let m=0;m<p.length-1;m++)for(let g=m+1;g<p.length;g++){let[v,y]=p[m],[b,_]=p[g];if(r[v]?.[b]===l)u[f]??=[],u[f]=[...u[f],...y,..._];else if(v==="default"||b==="default")u[f]??=[],u[f]=[...u[f],...y,..._];else{let w=`${f}-${d++}`;u[w]=y;let T=`${f}-${d++}`;u[T]=_}}return u},{}),"flattenAlignments"),a=t.map(s=>{let l={},u={};return Object.entries(s).forEach(([f,[h,d]])=>{let p=e.getNode(f)?.in??"default";l[d]??={},l[d][p]??=[],l[d][p].push(f),u[h]??={},u[h][p]??=[],u[h][p].push(f)}),{horiz:Object.values(n(l,"horizontal")).filter(f=>f.length>1),vert:Object.values(n(u,"vertical")).filter(f=>f.length>1)}}),[i,o]=a.reduce(([s,l],{horiz:u,vert:f})=>[[...s,...u],[...l,...f]],[[],[]]);return{horizontal:i,vertical:o}}function Rwt(e,t){let r=[],n=x(i=>`${i[0]},${i[1]}`,"posToStr"),a=x(i=>i.split(",").map(o=>parseInt(o)),"strToPos");return e.forEach(i=>{let o=Object.fromEntries(Object.entries(i).map(([f,h])=>[n(h),f])),s=[n([0,0])],l={},u={L:[-1,0],R:[1,0],T:[0,1],B:[0,-1]};for(;s.length>0;){let f=s.shift();if(f){l[f]=1;let h=o[f];if(h){let d=a(f);Object.entries(u).forEach(([p,m])=>{let g=n([d[0]+m[0],d[1]+m[1]]),v=o[g];v&&!l[g]&&(s.push(g),r.push({[bwt[p]]:v,[bwt[Fle(p)]]:h,gap:1.5*t.getConfigField("iconSize")}))})}}}}),r}function Nwt(e,t,r,n,a,{spatialMaps:i,groupAlignments:o}){return new Promise(s=>{let l=Vt("body").append("div").attr("id","cy").attr("style","display:none"),u=Yl({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"straight",label:"data(label)","source-endpoint":"data(sourceEndpoint)","target-endpoint":"data(targetEndpoint)"}},{selector:"edge.segments",style:{"curve-style":"segments","segment-weights":"0","segment-distances":[.5],"edge-distances":"endpoints","source-endpoint":"data(sourceEndpoint)","target-endpoint":"data(targetEndpoint)"}},{selector:"node",style:{"compound-sizing-wrt-labels":"include"}},{selector:"node[label]",style:{"text-valign":"bottom","text-halign":"center","font-size":`${a.getConfigField("fontSize")}px`}},{selector:".node-service",style:{label:"data(label)",width:"data(width)",height:"data(height)"}},{selector:".node-junction",style:{width:"data(width)",height:"data(height)"}},{selector:".node-group",style:{padding:`${a.getConfigField("padding")}px`}}],layout:{name:"grid",boundingBox:{x1:0,x2:100,y1:0,y2:100}}});l.remove(),Lwt(r,u),Swt(e,u,a),Dwt(t,u,a),Mwt(n,u);let f=Iwt(a,i,o),h=Rwt(i,a),d=u.layout({name:"fcose",quality:"proof",styleEnabled:!1,animate:!1,nodeDimensionsIncludeLabels:!1,idealEdgeLength(p){let[m,g]=p.connectedNodes(),{parent:v}=l2(m),{parent:y}=l2(g);return v===y?1.5*a.getConfigField("iconSize"):.5*a.getConfigField("iconSize")},edgeElasticity(p){let[m,g]=p.connectedNodes(),{parent:v}=l2(m),{parent:y}=l2(g);return v===y?.45:.001},alignmentConstraint:f,relativePlacementConstraint:h});d.one("layoutstop",()=>{function p(m,g,v,y){let b,_,{x:k,y:w}=m,{x:T,y:S}=g;_=(y-w+(k-v)*(w-S)/(k-T))/Math.sqrt(1+Math.pow((w-S)/(k-T),2)),b=Math.sqrt(Math.pow(y-w,2)+Math.pow(v-k,2)-Math.pow(_,2));let C=Math.sqrt(Math.pow(T-k,2)+Math.pow(S-w,2));b=b/C;let M=(T-k)*(y-w)-(S-w)*(v-k);switch(!0){case M>=0:M=1;break;case M<0:M=-1;break}let N=(T-k)*(v-k)+(S-w)*(y-w);switch(!0){case N>=0:N=1;break;case N<0:N=-1;break}return _=Math.abs(_)*M,b=b*N,{distances:_,weights:b}}x(p,"getSegmentWeights"),u.startBatch();for(let m of Object.values(u.edges()))if(m.data?.()){let{x:g,y:v}=m.source().position(),{x:y,y:b}=m.target().position();if(g!==y&&v!==b){let _=m.sourceEndpoint(),k=m.targetEndpoint(),{sourceDir:w}=Twt(m),[T,S]=Tp(w)?[_.x,k.y]:[k.x,_.y],{weights:C,distances:M}=p(_,k,T,S);m.style("segment-distances",M),m.style("segment-weights",C)}}u.endBatch(),d.run()}),d.run(),u.ready(p=>{J.info("Ready",p),s(u)})})}var Cwt,bwt,_wt,bA,Fle,wwt,xs,Tp,dU,Ple,Ble,hU,$le,zle,qle,Ule,Wle,Twt,l2,Gle,Ewt,Vle,kwt,Hle,Yle,s2,jw,Xle,jle,Kle,Qle,Zle,Jle,tue,Fwt=B(()=>{wc();to();im();On();Tr();nr();pp();NF();Cwt=qo(xwt(),1);hr();bwt={L:"left",R:"right",T:"top",B:"bottom"},_wt={L:x(e=>`${e},${e/2} 0,${e} 0,0`,"L"),R:x(e=>`0,${e/2} ${e},0 ${e},${e}`,"R"),T:x(e=>`0,0 ${e},0 ${e/2},${e}`,"T"),B:x(e=>`${e/2},0 ${e},${e} 0,${e}`,"B")},bA={L:x((e,t)=>e-t+2,"L"),R:x((e,t)=>e-2,"R"),T:x((e,t)=>e-t+2,"T"),B:x((e,t)=>e-2,"B")},Fle=x(function(e){return xs(e)?e==="L"?"R":"L":e==="T"?"B":"T"},"getOppositeArchitectureDirection"),wwt=x(function(e){let t=e;return t==="L"||t==="R"||t==="T"||t==="B"},"isArchitectureDirection"),xs=x(function(e){let t=e;return t==="L"||t==="R"},"isArchitectureDirectionX"),Tp=x(function(e){let t=e;return t==="T"||t==="B"},"isArchitectureDirectionY"),dU=x(function(e,t){let r=xs(e)&&Tp(t),n=Tp(e)&&xs(t);return r||n},"isArchitectureDirectionXY"),Ple=x(function(e){let t=e[0],r=e[1],n=xs(t)&&Tp(r),a=Tp(t)&&xs(r);return n||a},"isArchitecturePairXY"),Ble=x(function(e){return e!=="LL"&&e!=="RR"&&e!=="TT"&&e!=="BB"},"isValidArchitectureDirectionPair"),hU=x(function(e,t){let r=`${e}${t}`;return Ble(r)?r:void 0},"getArchitectureDirectionPair"),$le=x(function([e,t],r){let n=r[0],a=r[1];return xs(n)?Tp(a)?[e+(n==="L"?-1:1),t+(a==="T"?1:-1)]:[e+(n==="L"?-1:1),t]:xs(a)?[e+(a==="L"?1:-1),t+(n==="T"?1:-1)]:[e,t+(n==="T"?1:-1)]},"shiftPositionByArchitectureDirectionPair"),zle=x(function(e){return e==="LT"||e==="TL"?[1,1]:e==="BL"||e==="LB"?[1,-1]:e==="BR"||e==="RB"?[-1,-1]:[-1,1]},"getArchitectureDirectionXYFactors"),qle=x(function(e,t){return dU(e,t)?"bend":xs(e)?"horizontal":"vertical"},"getArchitectureDirectionAlignment"),Ule=x(function(e){return e.type==="service"},"isArchitectureService"),Wle=x(function(e){return e.type==="junction"},"isArchitectureJunction"),Twt=x(e=>e.data(),"edgeData"),l2=x(e=>e.data(),"nodeData"),Gle=lr.architecture,Ewt=class{constructor(){this.nodes={},this.groups={},this.edges=[],this.registeredIds={},this.elements={},this.setAccTitle=Mr,this.getAccTitle=Fr,this.setDiagramTitle=Yr,this.getDiagramTitle=$r,this.getAccDescription=Br,this.setAccDescription=Pr,this.clear()}static{x(this,"ArchitectureDB")}clear(){this.nodes={},this.groups={},this.edges=[],this.registeredIds={},this.dataStructures=void 0,this.elements={},wr()}addService({id:e,icon:t,in:r,title:n,iconText:a}){if(this.registeredIds[e]!==void 0)throw new Error(`The service id [${e}] is already in use by another ${this.registeredIds[e]}`);if(r!==void 0){if(e===r)throw new Error(`The service [${e}] cannot be placed within itself`);if(this.registeredIds[r]===void 0)throw new Error(`The service [${e}]'s parent does not exist. Please make sure the parent is created before this service`);if(this.registeredIds[r]==="node")throw new Error(`The service [${e}]'s parent is not a group`)}this.registeredIds[e]="node",this.nodes[e]={id:e,type:"service",icon:t,iconText:a,title:n,edges:[],in:r}}getServices(){return Object.values(this.nodes).filter(Ule)}addJunction({id:e,in:t}){this.registeredIds[e]="node",this.nodes[e]={id:e,type:"junction",edges:[],in:t}}getJunctions(){return Object.values(this.nodes).filter(Wle)}getNodes(){return Object.values(this.nodes)}getNode(e){return this.nodes[e]??null}addGroup({id:e,icon:t,in:r,title:n}){if(this.registeredIds?.[e]!==void 0)throw new Error(`The group id [${e}] is already in use by another ${this.registeredIds[e]}`);if(r!==void 0){if(e===r)throw new Error(`The group [${e}] cannot be placed within itself`);if(this.registeredIds?.[r]===void 0)throw new Error(`The group [${e}]'s parent does not exist. Please make sure the parent is created before this group`);if(this.registeredIds?.[r]==="node")throw new Error(`The group [${e}]'s parent is not a group`)}this.registeredIds[e]="group",this.groups[e]={id:e,icon:t,title:n,in:r}}getGroups(){return Object.values(this.groups)}addEdge({lhsId:e,rhsId:t,lhsDir:r,rhsDir:n,lhsInto:a,rhsInto:i,lhsGroup:o,rhsGroup:s,title:l}){if(!wwt(r))throw new Error(`Invalid direction given for left hand side of edge ${e}--${t}. Expected (L,R,T,B) got ${String(r)}`);if(!wwt(n))throw new Error(`Invalid direction given for right hand side of edge ${e}--${t}. Expected (L,R,T,B) got ${String(n)}`);if(this.nodes[e]===void 0&&this.groups[e]===void 0)throw new Error(`The left-hand id [${e}] does not yet exist. Please create the service/group before declaring an edge to it.`);if(this.nodes[t]===void 0&&this.groups[t]===void 0)throw new Error(`The right-hand id [${t}] does not yet exist. Please create the service/group before declaring an edge to it.`);let u=this.nodes[e].in,f=this.nodes[t].in;if(o&&u&&f&&u==f)throw new Error(`The left-hand id [${e}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);if(s&&u&&f&&u==f)throw new Error(`The right-hand id [${t}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);let h={lhsId:e,lhsDir:r,lhsInto:a,lhsGroup:o,rhsId:t,rhsDir:n,rhsInto:i,rhsGroup:s,title:l};this.edges.push(h),this.nodes[e]&&this.nodes[t]&&(this.nodes[e].edges.push(this.edges[this.edges.length-1]),this.nodes[t].edges.push(this.edges[this.edges.length-1]))}getEdges(){return this.edges}getDataStructures(){if(this.dataStructures===void 0){let e={},t=Object.entries(this.nodes).reduce((s,[l,u])=>(s[l]=u.edges.reduce((f,h)=>{let d=this.getNode(h.lhsId)?.in,p=this.getNode(h.rhsId)?.in;if(d&&p&&d!==p){let m=qle(h.lhsDir,h.rhsDir);m!=="bend"&&(e[d]??={},e[d][p]=m,e[p]??={},e[p][d]=m)}if(h.lhsId===l){let m=hU(h.lhsDir,h.rhsDir);m&&(f[m]=h.rhsId)}else{let m=hU(h.rhsDir,h.lhsDir);m&&(f[m]=h.lhsId)}return f},{}),s),{}),r=Object.keys(t)[0],n={[r]:1},a=Object.keys(t).reduce((s,l)=>l===r?s:{...s,[l]:1},{}),i=x(s=>{let l={[s]:[0,0]},u=[s];for(;u.length>0;){let f=u.shift();if(f){n[f]=1,delete a[f];let h=t[f],[d,p]=l[f];Object.entries(h).forEach(([m,g])=>{n[g]||(l[g]=$le([d,p],m),u.push(g))})}}return l},"BFS"),o=[i(r)];for(;Object.keys(a).length>0;)o.push(i(Object.keys(a)[0]));this.dataStructures={adjList:t,spatialMaps:o,groupAlignments:e}}return this.dataStructures}setElementForId(e,t){this.elements[e]=t}getElementById(e){return this.elements[e]}getConfig(){return Na({...Gle,...ur().architecture})}getConfigField(e){return this.getConfig()[e]}},Vle=x((e,t)=>{hl(e,t),e.groups.map(r=>t.addGroup(r)),e.services.map(r=>t.addService({...r,type:"service"})),e.junctions.map(r=>t.addJunction({...r,type:"junction"})),e.edges.map(r=>t.addEdge(r))},"populateDb"),kwt={parser:{yy:void 0},parse:x(async e=>{let t=await gs("architecture",e);J.debug(t);let r=kwt.parser?.yy;if(!(r instanceof Ewt))throw new Error("parser.parser?.yy was not a ArchitectureDB. This is due to a bug within Mermaid, please report this issue at https://github.com/mermaid-js/mermaid/issues.");Vle(t,r)},"parse")},Hle=x(e=>`
  .edge {
    stroke-width: ${e.archEdgeWidth};
    stroke: ${e.archEdgeColor};
    fill: none;
  }

  .arrow {
    fill: ${e.archEdgeArrowColor};
  }

  .node-bkg {
    fill: none;
    stroke: ${e.archGroupBorderColor};
    stroke-width: ${e.archGroupBorderWidth};
    stroke-dasharray: 8;
  }
  .node-icon-text {
    display: flex; 
    align-items: center;
  }
  
  .node-icon-text > div {
    color: #fff;
    margin: 1px;
    height: fit-content;
    text-align: center;
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
  }
`,"getStyles"),Yle=Hle,s2=x(e=>`<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/>${e}</g>`,"wrapIcon"),jw={prefix:"mermaid-architecture",height:80,width:80,icons:{database:{body:s2('<path id="b" data-name="4" d="m20,57.86c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="c" data-name="3" d="m20,45.95c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="d" data-name="2" d="m20,34.05c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse id="e" data-name="1" cx="40" cy="22.14" rx="20" ry="7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="20" y1="57.86" x2="20" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="60" y1="57.86" x2="60" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},server:{body:s2('<rect x="17.5" y="17.5" width="45" height="45" rx="2" ry="2" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="32.5" x2="62.5" y2="32.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="47.5" x2="62.5" y2="47.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><g><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g>')},disk:{body:s2('<rect x="20" y="15" width="40" height="50" rx="1" ry="1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="14" ry="14.58" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="4" ry="4.17" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m37.51,42.52l-4.83,13.22c-.26.71-1.1,1.02-1.76.64l-4.18-2.42c-.66-.38-.81-1.26-.33-1.84l9.01-10.8c.88-1.05,2.56-.08,2.09,1.2Z" style="fill: #fff; stroke-width: 0px;"/>')},internet:{body:s2('<circle cx="40" cy="40" r="22.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="40" y1="17.5" x2="40" y2="62.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="40" x2="62.5" y2="40" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m39.99,17.51c-15.28,11.1-15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m40.01,17.51c15.28,11.1,15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="30.1" x2="60.25" y2="30.1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="49.9" x2="60.25" y2="49.9" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},cloud:{body:s2('<path d="m65,47.5c0,2.76-2.24,5-5,5H20c-2.76,0-5-2.24-5-5,0-1.87,1.03-3.51,2.56-4.36-.04-.21-.06-.42-.06-.64,0-2.6,2.48-4.74,5.65-4.97,1.65-4.51,6.34-7.76,11.85-7.76.86,0,1.69.08,2.5.23,2.09-1.57,4.69-2.5,7.5-2.5,6.1,0,11.19,4.38,12.28,10.17,2.14.56,3.72,2.51,3.72,4.83,0,.03,0,.07-.01.1,2.29.46,4.01,2.48,4.01,4.9Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},unknown:EI,blank:{body:s2("")}}},Xle=x(async function(e,t,r){let n=r.getConfigField("padding"),a=r.getConfigField("iconSize"),i=a/2,o=a/6,s=o/2;await Promise.all(t.edges().map(async l=>{let{source:u,sourceDir:f,sourceArrow:h,sourceGroup:d,target:p,targetDir:m,targetArrow:g,targetGroup:v,label:y}=Twt(l),{x:b,y:_}=l[0].sourceEndpoint(),{x:k,y:w}=l[0].midpoint(),{x:T,y:S}=l[0].targetEndpoint(),C=n+4;if(d&&(xs(f)?b+=f==="L"?-C:C:_+=f==="T"?-C:C+18),v&&(xs(m)?T+=m==="L"?-C:C:S+=m==="T"?-C:C+18),!d&&r.getNode(u)?.type==="junction"&&(xs(f)?b+=f==="L"?i:-i:_+=f==="T"?i:-i),!v&&r.getNode(p)?.type==="junction"&&(xs(m)?T+=m==="L"?i:-i:S+=m==="T"?i:-i),l[0]._private.rscratch){let M=e.insert("g");if(M.insert("path").attr("d",`M ${b},${_} L ${k},${w} L${T},${S} `).attr("class","edge").attr("id",Lc(u,p,{prefix:"L"})),h){let N=xs(f)?bA[f](b,o):b-s,L=Tp(f)?bA[f](_,o):_-s;M.insert("polygon").attr("points",_wt[f](o)).attr("transform",`translate(${N},${L})`).attr("class","arrow")}if(g){let N=xs(m)?bA[m](T,o):T-s,L=Tp(m)?bA[m](S,o):S-s;M.insert("polygon").attr("points",_wt[m](o)).attr("transform",`translate(${N},${L})`).attr("class","arrow")}if(y){let N=dU(f,m)?"XY":xs(f)?"X":"Y",L=0;N==="X"?L=Math.abs(b-T):N==="Y"?L=Math.abs(_-S)/1.5:L=Math.abs(b-T)/2;let E=M.append("g");if(await Ji(E,y,{useHtmlLabels:!1,width:L,classes:"architecture-service-label"},bt()),E.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle"),N==="X")E.attr("transform","translate("+k+", "+w+")");else if(N==="Y")E.attr("transform","translate("+k+", "+w+") rotate(-90)");else if(N==="XY"){let A=hU(f,m);if(A&&Ple(A)){let D=E.node().getBoundingClientRect(),[R,I]=zle(A);E.attr("dominant-baseline","auto").attr("transform",`rotate(${-1*R*I*45})`);let O=E.node().getBoundingClientRect();E.attr("transform",`
                translate(${k}, ${w-D.height/2})
                translate(${R*O.width/2}, ${I*O.height/2})
                rotate(${-1*R*I*45}, 0, ${D.height/2})
              `)}}}}}))},"drawEdges"),jle=x(async function(e,t,r){let a=r.getConfigField("padding")*.75,i=r.getConfigField("fontSize"),s=r.getConfigField("iconSize")/2;await Promise.all(t.nodes().map(async l=>{let u=l2(l);if(u.type==="group"){let{h:f,w:h,x1:d,y1:p}=l.boundingBox(),m=e.append("rect");m.attr("id",`group-${u.id}`).attr("x",d+s).attr("y",p+s).attr("width",h).attr("height",f).attr("class","node-bkg");let g=e.append("g"),v=d,y=p;if(u.icon){let b=g.append("g");b.html(`<g>${await Ic(u.icon,{height:a,width:a,fallbackPrefix:jw.prefix})}</g>`),b.attr("transform","translate("+(v+s+1)+", "+(y+s+1)+")"),v+=a,y+=i/2-1-2}if(u.label){let b=g.append("g");await Ji(b,u.label,{useHtmlLabels:!1,width:h,classes:"architecture-service-label"},bt()),b.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","start").attr("text-anchor","start"),b.attr("transform","translate("+(v+s+4)+", "+(y+s+2)+")")}r.setElementForId(u.id,m)}}))},"drawGroups"),Kle=x(async function(e,t,r){let n=bt();for(let a of r){let i=t.append("g"),o=e.getConfigField("iconSize");if(a.title){let f=i.append("g");await Ji(f,a.title,{useHtmlLabels:!1,width:o*1.5,classes:"architecture-service-label"},n),f.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle"),f.attr("transform","translate("+o/2+", "+o+")")}let s=i.append("g");if(a.icon)s.html(`<g>${await Ic(a.icon,{height:o,width:o,fallbackPrefix:jw.prefix})}</g>`);else if(a.iconText){s.html(`<g>${await Ic("blank",{height:o,width:o,fallbackPrefix:jw.prefix})}</g>`);let d=s.append("g").append("foreignObject").attr("width",o).attr("height",o).append("div").attr("class","node-icon-text").attr("style",`height: ${o}px;`).append("div").html(sr(a.iconText,n)),p=parseInt(window.getComputedStyle(d.node(),null).getPropertyValue("font-size").replace(/\D/g,""))??16;d.attr("style",`-webkit-line-clamp: ${Math.floor((o-2)/p)};`)}else s.append("path").attr("class","node-bkg").attr("id","node-"+a.id).attr("d",`M0 ${o} v${-o} q0,-5 5,-5 h${o} q5,0 5,5 v${o} H0 Z`);i.attr("id",`service-${a.id}`).attr("class","architecture-service");let{width:l,height:u}=i.node().getBBox();a.width=l,a.height=u,e.setElementForId(a.id,i)}return 0},"drawServices"),Qle=x(function(e,t,r){r.forEach(n=>{let a=t.append("g"),i=e.getConfigField("iconSize");a.append("g").append("rect").attr("id","node-"+n.id).attr("fill-opacity","0").attr("width",i).attr("height",i),a.attr("class","architecture-junction");let{width:s,height:l}=a._groups[0][0].getBBox();a.width=s,a.height=l,e.setElementForId(n.id,a)})},"drawJunctions");RE([{name:jw.prefix,icons:jw}]);Yl.use(Cwt.default);x(Swt,"addServices");x(Dwt,"addJunctions");x(Awt,"positionNodes");x(Lwt,"addGroups");x(Mwt,"addEdges");x(Iwt,"getAlignments");x(Rwt,"getRelativeConstraints");x(Nwt,"layoutArchitecture");Zle=x(async(e,t,r,n)=>{let a=n.db,i=a.getServices(),o=a.getJunctions(),s=a.getGroups(),l=a.getEdges(),u=a.getDataStructures(),f=Li(t),h=f.append("g");h.attr("class","architecture-edges");let d=f.append("g");d.attr("class","architecture-services");let p=f.append("g");p.attr("class","architecture-groups"),await Kle(a,d,i),Qle(a,d,o);let m=await Nwt(i,o,s,l,a,u);await Xle(h,m,a),await jle(p,m,a),Awt(a,m),Nf(void 0,f,a.getConfigField("padding"),a.getConfigField("useMaxWidth"))},"draw"),Jle={draw:Zle},tue={parser:kwt,get db(){return new Ewt},renderer:Jle,styles:Yle}});var zwt={};pr(zwt,{diagram:()=>cue});function Bwt(e){if(!e.length)return[];let t=[],r=[];return e.forEach(n=>{let a={name:n.name,children:n.type==="Leaf"?void 0:[]};for(a.classSelector=n?.classSelector,n?.cssCompiledStyles&&(a.cssCompiledStyles=[n.cssCompiledStyles]),n.type==="Leaf"&&n.value!==void 0&&(a.value=n.value);r.length>0&&r[r.length-1].level>=n.level;)r.pop();if(r.length===0)t.push(a);else{let i=r[r.length-1].node;i.children?i.children.push(a):i.children=[a]}n.type!=="Leaf"&&r.push({node:a,level:n.level})}),t}var Pwt,eue,rue,$wt,nue,u2,Kw,aue,iue,oue,sue,lue,uue,cue,qwt=B(()=>{wc();eu();Jo();im();On();Tr();nr();pp();hr();Pwt=class{constructor(){this.nodes=[],this.levels=new Map,this.outerNodes=[],this.classes=new Map,this.setAccTitle=Mr,this.getAccTitle=Fr,this.setDiagramTitle=Yr,this.getDiagramTitle=$r,this.getAccDescription=Br,this.setAccDescription=Pr}static{x(this,"TreeMapDB")}getNodes(){return this.nodes}getConfig(){let e=lr,t=ur();return Na({...e.treemap,...t.treemap??{}})}addNode(e,t){this.nodes.push(e),this.levels.set(e,t),t===0&&(this.outerNodes.push(e),this.root??=e)}getRoot(){return{name:"",children:this.outerNodes}}addClass(e,t){let r=this.classes.get(e)??{id:e,styles:[],textStyles:[]},n=t.replace(/\\,/g,"\xA7\xA7\xA7").replace(/,/g,";").replace(//g,",").split(";");n&&n.forEach(a=>{gb(a)&&(r?.textStyles?r.textStyles.push(a):r.textStyles=[a]),r?.styles?r.styles.push(a):r.styles=[a]}),this.classes.set(e,r)}getClasses(){return this.classes}getStylesForClass(e){return this.classes.get(e)?.styles??[]}clear(){wr(),this.nodes=[],this.levels=new Map,this.outerNodes=[],this.classes=new Map,this.root=void 0}};x(Bwt,"buildHierarchy");eue=x((e,t)=>{hl(e,t);let r=[];for(let i of e.TreemapRows??[])i.$type==="ClassDefStatement"&&t.addClass(i.className??"",i.styleText??"");for(let i of e.TreemapRows??[]){let o=i.item;if(!o)continue;let s=i.indent?parseInt(i.indent):0,l=rue(o),u=o.classSelector?t.getStylesForClass(o.classSelector):[],f=u.length>0?u.join(";"):void 0,h={level:s,name:l,type:o.$type,value:o.value,classSelector:o.classSelector,cssCompiledStyles:f};r.push(h)}let n=Bwt(r),a=x((i,o)=>{for(let s of i)t.addNode(s,o),s.children&&s.children.length>0&&a(s.children,o+1)},"addNodesRecursively");a(n,0)},"populate"),rue=x(e=>e.name?String(e.name):"","getItemName"),$wt={parser:{yy:void 0},parse:x(async e=>{try{let r=await gs("treemap",e);J.debug("Treemap AST:",r);let n=$wt.parser?.yy;if(!(n instanceof Pwt))throw new Error("parser.parser?.yy was not a TreemapDB. This is due to a bug within Mermaid, please report this issue at https://github.com/mermaid-js/mermaid/issues.");eue(r,n)}catch(t){throw J.error("Error parsing treemap:",t),t}},"parse")},nue=10,u2=10,Kw=25,aue=x((e,t,r,n)=>{let a=n.db,i=a.getConfig(),o=i.padding??nue,s=a.getDiagramTitle(),l=a.getRoot(),{themeVariables:u}=ur();if(!l)return;let f=s?30:0,h=Li(t),d=i.nodeWidth?i.nodeWidth*u2:960,p=i.nodeHeight?i.nodeHeight*u2:500,m=d,g=p+f;h.attr("viewBox",`0 0 ${m} ${g}`),Nn(h,g,m,i.useMaxWidth);let v;try{let D=i.valueFormat||",";if(D==="$0,0")v=x(R=>"$"+gc(",")(R),"valueFormat");else if(D.startsWith("$")&&D.includes(",")){let R=/\.\d+/.exec(D),I=R?R[0]:"";v=x(O=>"$"+gc(","+I)(O),"valueFormat")}else if(D.startsWith("$")){let R=D.substring(1);v=x(I=>"$"+gc(R||"")(I),"valueFormat")}else v=gc(D)}catch(D){J.error("Error creating format function:",D),v=gc(",")}let y=el().range(["transparent",u.cScale0,u.cScale1,u.cScale2,u.cScale3,u.cScale4,u.cScale5,u.cScale6,u.cScale7,u.cScale8,u.cScale9,u.cScale10,u.cScale11]),b=el().range(["transparent",u.cScalePeer0,u.cScalePeer1,u.cScalePeer2,u.cScalePeer3,u.cScalePeer4,u.cScalePeer5,u.cScalePeer6,u.cScalePeer7,u.cScalePeer8,u.cScalePeer9,u.cScalePeer10,u.cScalePeer11]),_=el().range([u.cScaleLabel0,u.cScaleLabel1,u.cScaleLabel2,u.cScaleLabel3,u.cScaleLabel4,u.cScaleLabel5,u.cScaleLabel6,u.cScaleLabel7,u.cScaleLabel8,u.cScaleLabel9,u.cScaleLabel10,u.cScaleLabel11]);s&&h.append("text").attr("x",m/2).attr("y",f/2).attr("class","treemapTitle").attr("text-anchor","middle").attr("dominant-baseline","middle").text(s);let k=h.append("g").attr("transform",`translate(0, ${f})`).attr("class","treemapContainer"),w=Ng(l).sum(D=>D.value??0).sort((D,R)=>(R.value??0)-(D.value??0)),S=uM().size([d,p]).paddingTop(D=>D.children&&D.children.length>0?Kw+u2:0).paddingInner(o).paddingLeft(D=>D.children&&D.children.length>0?u2:0).paddingRight(D=>D.children&&D.children.length>0?u2:0).paddingBottom(D=>D.children&&D.children.length>0?u2:0).round(!0)(w),C=S.descendants().filter(D=>D.children&&D.children.length>0),M=k.selectAll(".treemapSection").data(C).enter().append("g").attr("class","treemapSection").attr("transform",D=>`translate(${D.x0},${D.y0})`);M.append("rect").attr("width",D=>D.x1-D.x0).attr("height",Kw).attr("class","treemapSectionHeader").attr("fill","none").attr("fill-opacity",.6).attr("stroke-width",.6).attr("style",D=>D.depth===0?"display: none;":""),M.append("clipPath").attr("id",(D,R)=>`clip-section-${t}-${R}`).append("rect").attr("width",D=>Math.max(0,D.x1-D.x0-12)).attr("height",Kw),M.append("rect").attr("width",D=>D.x1-D.x0).attr("height",D=>D.y1-D.y0).attr("class",(D,R)=>`treemapSection section${R}`).attr("fill",D=>y(D.data.name)).attr("fill-opacity",.6).attr("stroke",D=>b(D.data.name)).attr("stroke-width",2).attr("stroke-opacity",.4).attr("style",D=>{if(D.depth===0)return"display: none;";let R=De({cssCompiledStyles:D.data.cssCompiledStyles});return R.nodeStyles+";"+R.borderStyles.join(";")}),M.append("text").attr("class","treemapSectionLabel").attr("x",6).attr("y",Kw/2).attr("dominant-baseline","middle").text(D=>D.depth===0?"":D.data.name).attr("font-weight","bold").attr("style",D=>{if(D.depth===0)return"display: none;";let R="dominant-baseline: middle; font-size: 12px; fill:"+_(D.data.name)+"; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;",I=De({cssCompiledStyles:D.data.cssCompiledStyles});return R+I.labelStyles.replace("color:","fill:")}).each(function(D){if(D.depth===0)return;let R=Vt(this),I=D.data.name;R.text(I);let O=D.x1-D.x0,F=6,P;i.showValues!==!1&&D.value?P=O-10-30-10-F:P=O-F-6;let $=Math.max(15,P),W=R.node();if(W.getComputedTextLength()>$){let tt="...",Y=I;for(;Y.length>0;){if(Y=I.substring(0,Y.length-1),Y.length===0){R.text(tt),W.getComputedTextLength()>$&&R.text("");break}if(R.text(Y+tt),W.getComputedTextLength()<=$)break}}}),i.showValues!==!1&&M.append("text").attr("class","treemapSectionValue").attr("x",D=>D.x1-D.x0-10).attr("y",Kw/2).attr("text-anchor","end").attr("dominant-baseline","middle").text(D=>D.value?v(D.value):"").attr("font-style","italic").attr("style",D=>{if(D.depth===0)return"display: none;";let R="text-anchor: end; dominant-baseline: middle; font-size: 10px; fill:"+_(D.data.name)+"; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;",I=De({cssCompiledStyles:D.data.cssCompiledStyles});return R+I.labelStyles.replace("color:","fill:")});let N=S.leaves(),L=k.selectAll(".treemapLeafGroup").data(N).enter().append("g").attr("class",(D,R)=>`treemapNode treemapLeafGroup leaf${R}${D.data.classSelector?` ${D.data.classSelector}`:""}x`).attr("transform",D=>`translate(${D.x0},${D.y0})`);L.append("rect").attr("width",D=>D.x1-D.x0).attr("height",D=>D.y1-D.y0).attr("class","treemapLeaf").attr("fill",D=>D.parent?y(D.parent.data.name):y(D.data.name)).attr("style",D=>De({cssCompiledStyles:D.data.cssCompiledStyles}).nodeStyles).attr("fill-opacity",.3).attr("stroke",D=>D.parent?y(D.parent.data.name):y(D.data.name)).attr("stroke-width",3),L.append("clipPath").attr("id",(D,R)=>`clip-${t}-${R}`).append("rect").attr("width",D=>Math.max(0,D.x1-D.x0-4)).attr("height",D=>Math.max(0,D.y1-D.y0-4)),L.append("text").attr("class","treemapLabel").attr("x",D=>(D.x1-D.x0)/2).attr("y",D=>(D.y1-D.y0)/2).attr("style",D=>{let R="text-anchor: middle; dominant-baseline: middle; font-size: 38px;fill:"+_(D.data.name)+";",I=De({cssCompiledStyles:D.data.cssCompiledStyles});return R+I.labelStyles.replace("color:","fill:")}).attr("clip-path",(D,R)=>`url(#clip-${t}-${R})`).text(D=>D.data.name).each(function(D){let R=Vt(this),I=D.x1-D.x0,O=D.y1-D.y0,F=R.node(),P=4,q=I-2*P,$=O-2*P;if(q<10||$<10){R.style("display","none");return}let W=parseInt(R.style("font-size"),10),X=8,tt=28,Y=.6,ot=6,Z=2;for(;F.getComputedTextLength()>q&&W>X;)W--,R.style("font-size",`${W}px`);let ct=Math.max(ot,Math.min(tt,Math.round(W*Y))),rt=W+Z+ct;for(;rt>$&&W>X&&(W--,ct=Math.max(ot,Math.min(tt,Math.round(W*Y))),!(ct<ot&&W===X));)R.style("font-size",`${W}px`),rt=W+Z+ct,ct<=ot&&rt>$;R.style("font-size",`${W}px`),(F.getComputedTextLength()>q||W<X||$<W)&&R.style("display","none")}),i.showValues!==!1&&L.append("text").attr("class","treemapValue").attr("x",R=>(R.x1-R.x0)/2).attr("y",function(R){return(R.y1-R.y0)/2}).attr("style",R=>{let I="text-anchor: middle; dominant-baseline: hanging; font-size: 28px;fill:"+_(R.data.name)+";",O=De({cssCompiledStyles:R.data.cssCompiledStyles});return I+O.labelStyles.replace("color:","fill:")}).attr("clip-path",(R,I)=>`url(#clip-${t}-${I})`).text(R=>R.value?v(R.value):"").each(function(R){let I=Vt(this),O=this.parentNode;if(!O){I.style("display","none");return}let F=Vt(O).select(".treemapLabel");if(F.empty()||F.style("display")==="none"){I.style("display","none");return}let P=parseFloat(F.style("font-size")),q=28,$=.6,W=6,X=2,tt=Math.max(W,Math.min(q,Math.round(P*$)));I.style("font-size",`${tt}px`);let ot=(R.y1-R.y0)/2+P/2+X;I.attr("y",ot);let Z=R.x1-R.x0,et=R.y1-R.y0-4,Q=Z-2*4;I.node().getComputedTextLength()>Q||ot+tt>et||tt<W?I.style("display","none"):I.style("display",null)});let A=i.diagramPadding??8;Us(h,A,"flowchart",i?.useMaxWidth||!1)},"draw"),iue=x(function(e,t){return t.db.getClasses()},"getClasses"),oue={draw:aue,getClasses:iue},sue={sectionStrokeColor:"black",sectionStrokeWidth:"1",sectionFillColor:"#efefef",leafStrokeColor:"black",leafStrokeWidth:"1",leafFillColor:"#efefef",labelColor:"black",labelFontSize:"12px",valueFontSize:"10px",valueColor:"black",titleColor:"black",titleFontSize:"14px"},lue=x(({treemap:e}={})=>{let t=Na(sue,e);return`
  .treemapNode.section {
    stroke: ${t.sectionStrokeColor};
    stroke-width: ${t.sectionStrokeWidth};
    fill: ${t.sectionFillColor};
  }
  .treemapNode.leaf {
    stroke: ${t.leafStrokeColor};
    stroke-width: ${t.leafStrokeWidth};
    fill: ${t.leafFillColor};
  }
  .treemapLabel {
    fill: ${t.labelColor};
    font-size: ${t.labelFontSize};
  }
  .treemapValue {
    fill: ${t.valueColor};
    font-size: ${t.valueFontSize};
  }
  .treemapTitle {
    fill: ${t.titleColor};
    font-size: ${t.titleFontSize};
  }
  `},"getStyles"),uue=lue,cue={parser:$wt,get db(){return new Pwt},renderer:oue,styles:uue}});R7();wc();pb();jl();$l();al();Ns();Zo();Jo();to();On();Tr();nr();_I();hr();var iS="comm",oS="rule",sS="decl";var Dmt="@import";var Amt="@namespace",Lmt="@keyframes";var Mmt="@layer";var qF=Math.abs,$_=String.fromCharCode;function lS(e){return e.trim()}function z_(e,t,r){return e.replace(t,r)}function Imt(e,t,r){return e.indexOf(t,r)}function tp(e,t){return e.charCodeAt(t)|0}function ep(e,t,r){return e.slice(t,r)}function fl(e){return e.length}function Rmt(e){return e.length}function lv(e,t){return t.push(e),e}var uS=1,uv=1,Nmt=0,Kl=0,oi=0,fv="";function cS(e,t,r,n,a,i,o,s){return{value:e,root:t,parent:r,type:n,props:a,children:i,line:uS,column:uv,length:o,return:"",siblings:s}}function Omt(){return oi}function Fmt(){return oi=Kl>0?tp(fv,--Kl):0,uv--,oi===10&&(uv=1,uS--),oi}function Ql(){return oi=Kl<Nmt?tp(fv,Kl++):0,uv++,oi===10&&(uv=1,uS++),oi}function oh(){return tp(fv,Kl)}function q_(){return Kl}function fS(e,t){return ep(fv,e,t)}function cv(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Pmt(e){return uS=uv=1,Nmt=fl(fv=e),Kl=0,[]}function Bmt(e){return fv="",e}function hS(e){return lS(fS(Kl-1,UF(e===91?e+2:e===40?e+1:e)))}function $mt(e){for(;(oi=oh())&&oi<33;)Ql();return cv(e)>2||cv(oi)>3?"":" "}function zmt(e,t){for(;--t&&Ql()&&!(oi<48||oi>102||oi>57&&oi<65||oi>70&&oi<97););return fS(e,q_()+(t<6&&oh()==32&&Ql()==32))}function UF(e){for(;Ql();)switch(oi){case e:return Kl;case 34:case 39:e!==34&&e!==39&&UF(oi);break;case 40:e===41&&UF(e);break;case 92:Ql();break}return Kl}function qmt(e,t){for(;Ql()&&e+oi!==57;)if(e+oi===84&&oh()===47)break;return"/*"+fS(t,Kl-1)+"*"+$_(e===47?e:Ql())}function Umt(e){for(;!cv(oh());)Ql();return fS(e,Kl)}function Vmt(e){return Bmt(dS("",null,null,null,[""],e=Pmt(e),0,[0],e))}function dS(e,t,r,n,a,i,o,s,l){for(var u=0,f=0,h=o,d=0,p=0,m=0,g=1,v=1,y=1,b=0,_="",k=a,w=i,T=n,S=_;v;)switch(m=b,b=Ql()){case 40:if(m!=108&&tp(S,h-1)==58){Imt(S+=z_(hS(b),"&","&\f"),"&\f",qF(u?s[u-1]:0))!=-1&&(y=-1);break}case 34:case 39:case 91:S+=hS(b);break;case 9:case 10:case 13:case 32:S+=$mt(m);break;case 92:S+=zmt(q_()-1,7);continue;case 47:switch(oh()){case 42:case 47:lv(Ijt(qmt(Ql(),q_()),t,r,l),l),(cv(m||1)==5||cv(oh()||1)==5)&&fl(S)&&ep(S,-1,void 0)!==" "&&(S+=" ");break;default:S+="/"}break;case 123*g:s[u++]=fl(S)*y;case 125*g:case 59:case 0:switch(b){case 0:case 125:v=0;case 59+f:y==-1&&(S=z_(S,/\f/g,"")),p>0&&(fl(S)-h||g===0&&m===47)&&lv(p>32?Gmt(S+";",n,r,h-1,l):Gmt(z_(S," ","")+";",n,r,h-2,l),l);break;case 59:S+=";";default:if(lv(T=Wmt(S,t,r,u,f,a,s,_,k=[],w=[],h,i),i),b===123)if(f===0)dS(S,t,T,T,k,i,h,s,w);else{switch(d){case 99:if(tp(S,3)===110)break;case 108:if(tp(S,2)===97)break;default:f=0;case 100:case 109:case 115:}f?dS(e,T,T,n&&lv(Wmt(e,T,T,0,0,a,s,_,a,k=[],h,w),w),a,w,h,s,n?k:w):dS(S,T,T,T,[""],w,0,s,w)}}u=f=p=0,g=y=1,_=S="",h=o;break;case 58:h=1+fl(S),p=m;default:if(g<1){if(b==123)--g;else if(b==125&&g++==0&&Fmt()==125)continue}switch(S+=$_(b),b*g){case 38:y=f>0?1:(S+="\f",-1);break;case 44:s[u++]=(fl(S)-1)*y,y=1;break;case 64:oh()===45&&(S+=hS(Ql())),d=oh(),f=h=fl(_=S+=Umt(q_())),b++;break;case 45:m===45&&fl(S)==2&&(g=0)}}return i}function Wmt(e,t,r,n,a,i,o,s,l,u,f,h){for(var d=a-1,p=a===0?i:[""],m=Rmt(p),g=0,v=0,y=0;g<n;++g)for(var b=0,_=ep(e,d+1,d=qF(v=o[g])),k=e;b<m;++b)(k=lS(v>0?p[b]+" "+_:z_(_,/&\f/g,p[b])))&&(l[y++]=k);return cS(e,t,r,a===0?oS:s,l,u,f,h)}function Ijt(e,t,r,n){return cS(e,t,r,iS,$_(Omt()),ep(e,2,-2),0,n)}function Gmt(e,t,r,n,a){return cS(e,t,r,sS,ep(e,0,n),ep(e,n+1,-1),n,a)}function pS(e,t){for(var r="",n=0;n<e.length;n++)r+=t(e[n],n,e,t)||"";return r}function Hmt(e,t,r,n){switch(e.type){case Mmt:if(e.children.length)break;case Dmt:case Amt:case sS:return e.return=e.return||e.value;case iS:return"";case Lmt:return e.return=e.value+"{"+pS(e.children,n)+"}";case oS:if(!fl(e.value=e.props.join(",")))return""}return fl(r=pS(e.children,n))?e.return=e.value+"{"+r+"}":""}J7();Wk();var Hwt="c4",fue=x(e=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(e),"detector"),hue=x(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(ogt(),igt));return{id:Hwt,diagram:e}},"loader"),due={id:Hwt,detector:fue,loader:hue},pue=due,Ywt="flowchart",mue=x((e,t)=>t?.flowchart?.defaultRenderer==="dagre-wrapper"||t?.flowchart?.defaultRenderer==="elk"?!1:/^\s*graph/.test(e),"detector"),gue=x(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(SS(),CS));return{id:Ywt,diagram:e}},"loader"),vue={id:Ywt,detector:mue,loader:gue},yue=vue,Xwt="flowchart-v2",xue=x((e,t)=>t?.flowchart?.defaultRenderer==="dagre-d3"?!1:(t?.flowchart?.defaultRenderer==="elk"&&(t.layout="elk"),/^\s*graph/.test(e)&&t?.flowchart?.defaultRenderer==="dagre-wrapper"?!0:/^\s*flowchart/.test(e)),"detector"),bue=x(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(SS(),CS));return{id:Xwt,diagram:e}},"loader"),_ue={id:Xwt,detector:xue,loader:bue},wue=_ue,jwt="er",Tue=x(e=>/^\s*erDiagram/.test(e),"detector"),Eue=x(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(fgt(),cgt));return{id:jwt,diagram:e}},"loader"),kue={id:jwt,detector:Tue,loader:Eue},Cue=kue,Kwt="gitGraph",Sue=x(e=>/^\s*gitGraph/.test(e),"detector"),Due=x(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(fxt(),cxt));return{id:Kwt,diagram:e}},"loader"),Aue={id:Kwt,detector:Sue,loader:Due},Lue=Aue,Qwt="gantt",Mue=x(e=>/^\s*gantt/.test(e),"detector"),Iue=x(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(Mxt(),Lxt));return{id:Qwt,diagram:e}},"loader"),Rue={id:Qwt,detector:Mue,loader:Iue},Nue=Rue,Zwt="info",Oue=x(e=>/^\s*info/.test(e),"detector"),Fue=x(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(Rxt(),Ixt));return{id:Zwt,diagram:e}},"loader"),Pue={id:Zwt,detector:Oue,loader:Fue},Jwt="pie",Bue=x(e=>/^\s*pie/.test(e),"detector"),$ue=x(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(Pxt(),Fxt));return{id:Jwt,diagram:e}},"loader"),zue={id:Jwt,detector:Bue,loader:$ue},t3t="quadrantChart",que=x(e=>/^\s*quadrantChart/.test(e),"detector"),Uue=x(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(tbt(),Jxt));return{id:t3t,diagram:e}},"loader"),Wue={id:t3t,detector:que,loader:Uue},Gue=Wue,e3t="xychart",Vue=x(e=>/^\s*xychart(-beta)?/.test(e),"detector"),Hue=x(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(wbt(),_bt));return{id:e3t,diagram:e}},"loader"),Yue={id:e3t,detector:Vue,loader:Hue},Xue=Yue,r3t="requirement",jue=x(e=>/^\s*requirement(Diagram)?/.test(e),"detector"),Kue=x(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(kbt(),Ebt));return{id:r3t,diagram:e}},"loader"),Que={id:r3t,detector:jue,loader:Kue},Zue=Que,n3t="sequence",Jue=x(e=>/^\s*sequenceDiagram/.test(e),"detector"),tce=x(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(Bbt(),Pbt));return{id:n3t,diagram:e}},"loader"),ece={id:n3t,detector:Jue,loader:tce},rce=ece,a3t="class",nce=x((e,t)=>t?.class?.defaultRenderer==="dagre-wrapper"?!1:/^\s*classDiagram/.test(e),"detector"),ace=x(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(Wbt(),Ubt));return{id:a3t,diagram:e}},"loader"),ice={id:a3t,detector:nce,loader:ace},oce=ice,i3t="classDiagram",sce=x((e,t)=>/^\s*classDiagram/.test(e)&&t?.class?.defaultRenderer==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(e),"detector"),lce=x(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(Vbt(),Gbt));return{id:i3t,diagram:e}},"loader"),uce={id:i3t,detector:sce,loader:lce},cce=uce,o3t="state",fce=x((e,t)=>t?.state?.defaultRenderer==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(e),"detector"),hce=x(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(v_t(),g_t));return{id:o3t,diagram:e}},"loader"),dce={id:o3t,detector:fce,loader:hce},pce=dce,s3t="stateDiagram",mce=x((e,t)=>!!(/^\s*stateDiagram-v2/.test(e)||/^\s*stateDiagram/.test(e)&&t?.state?.defaultRenderer==="dagre-wrapper"),"detector"),gce=x(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(x_t(),y_t));return{id:s3t,diagram:e}},"loader"),vce={id:s3t,detector:mce,loader:gce},yce=vce,l3t="journey",xce=x(e=>/^\s*journey/.test(e),"detector"),bce=x(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(L_t(),A_t));return{id:l3t,diagram:e}},"loader"),_ce={id:l3t,detector:xce,loader:bce},wce=_ce,Tce=x((e,t,r)=>{J.debug(`rendering svg for syntax error
`);let n=Li(t),a=n.append("g");n.attr("viewBox","0 0 2412 512"),Nn(n,100,512,!0),a.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),a.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),a.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),a.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),a.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),a.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),a.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),a.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${r}`)},"draw"),u3t={draw:Tce},Ece=u3t,kce={db:{},renderer:u3t,parser:{parse:x(()=>{},"parse")}},Cce=kce,c3t="flowchart-elk",Sce=x((e,t={})=>/^\s*flowchart-elk/.test(e)||/^\s*(flowchart|graph)/.test(e)&&t?.flowchart?.defaultRenderer==="elk"?(t.layout="elk",!0):!1,"detector"),Dce=x(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(SS(),CS));return{id:c3t,diagram:e}},"loader"),Ace={id:c3t,detector:Sce,loader:Dce},Lce=Ace,f3t="timeline",Mce=x(e=>/^\s*timeline/.test(e),"detector"),Ice=x(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(Y_t(),H_t));return{id:f3t,diagram:e}},"loader"),Rce={id:f3t,detector:Mce,loader:Ice},Nce=Rce,h3t="mindmap",Oce=x(e=>/^\s*mindmap/.test(e),"detector"),Fce=x(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(e4t(),t4t));return{id:h3t,diagram:e}},"loader"),Pce={id:h3t,detector:Oce,loader:Fce},Bce=Pce,d3t="kanban",$ce=x(e=>/^\s*kanban/.test(e),"detector"),zce=x(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(a4t(),n4t));return{id:d3t,diagram:e}},"loader"),qce={id:d3t,detector:$ce,loader:zce},Uce=qce,p3t="sankey",Wce=x(e=>/^\s*sankey(-beta)?/.test(e),"detector"),Gce=x(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(A4t(),D4t));return{id:p3t,diagram:e}},"loader"),Vce={id:p3t,detector:Wce,loader:Gce},Hce=Vce,m3t="packet",Yce=x(e=>/^\s*packet(-beta)?/.test(e),"detector"),Xce=x(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(R4t(),I4t));return{id:m3t,diagram:e}},"loader"),jce={id:m3t,detector:Yce,loader:Xce},g3t="radar",Kce=x(e=>/^\s*radar-beta/.test(e),"detector"),Qce=x(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(q4t(),z4t));return{id:g3t,diagram:e}},"loader"),Zce={id:g3t,detector:Kce,loader:Qce},v3t="block",Jce=x(e=>/^\s*block(-beta)?/.test(e),"detector"),tfe=x(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(ywt(),vwt));return{id:v3t,diagram:e}},"loader"),efe={id:v3t,detector:Jce,loader:tfe},rfe=efe,y3t="architecture",nfe=x(e=>/^\s*architecture/.test(e),"detector"),afe=x(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(Fwt(),Owt));return{id:y3t,diagram:e}},"loader"),ife={id:y3t,detector:nfe,loader:afe},ofe=ife,x3t="treemap",sfe=x(e=>/^\s*treemap/.test(e),"detector"),lfe=x(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(qwt(),zwt));return{id:x3t,diagram:e}},"loader"),ufe={id:x3t,detector:sfe,loader:lfe},Uwt=!1,wA=x(()=>{Uwt||(Uwt=!0,vx("error",Cce,e=>e.toLowerCase().trim()==="error"),vx("---",{db:{clear:x(()=>{},"clear")},styles:{},renderer:{draw:x(()=>{},"draw")},parser:{parse:x(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:x(()=>null,"init")},e=>e.toLowerCase().trimStart().startsWith("---")),E5(Lce,Bce,ofe),E5(pue,Uce,cce,oce,Cue,Nue,Pue,zue,Zue,rce,wue,yue,Nce,Lue,yce,pce,wce,Gue,Hce,jce,Xue,rfe,Zce,ufe))},"addDiagrams"),cfe=x(async()=>{J.debug("Loading registered diagrams");let t=(await Promise.allSettled(Object.entries(Xh).map(async([r,{detector:n,loader:a}])=>{if(a)try{M5(r)}catch{try{let{diagram:i,id:o}=await a();vx(o,i,n)}catch(i){throw J.error(`Failed to load external diagram with key ${r}. Removing from detectors.`),delete Xh[r],i}}}))).filter(r=>r.status==="rejected");if(t.length>0){J.error(`Failed to load ${t.length} external diagrams`);for(let r of t)J.error(r);throw new Error(`Failed to load ${t.length} external diagrams`)}},"loadRegisteredDiagrams"),ffe="graphics-document document";function b3t(e,t){e.attr("role",ffe),t!==""&&e.attr("aria-roledescription",t)}x(b3t,"setA11yDiagramInfo");function _3t(e,t,r,n){if(e.insert!==void 0){if(r){let a=`chart-desc-${n}`;e.attr("aria-describedby",a),e.insert("desc",":first-child").attr("id",a).text(r)}if(t){let a=`chart-title-${n}`;e.attr("aria-labelledby",a),e.insert("title",":first-child").attr("id",a).text(t)}}}x(_3t,"addSVGa11yTitleDescription");var mU=class w3t{constructor(t,r,n,a,i){this.type=t,this.text=r,this.db=n,this.parser=a,this.renderer=i}static{x(this,"Diagram")}static async fromText(t,r={}){let n=ur(),a=px(t,n);t=Fnt(t)+`
`;try{M5(a)}catch{let u=qH(a);if(!u)throw new H8(`Diagram ${a} not found.`);let{id:f,diagram:h}=await u();vx(f,h)}let{db:i,parser:o,renderer:s,init:l}=M5(a);return o.parser&&(o.parser.yy=i),i.clear?.(),l?.(n),r.title&&i.setDiagramTitle?.(r.title),await o.parse(t),new w3t(a,t,i,o,s)}async render(t,r){await this.renderer.draw(this.text,t,r,this)}getParser(){return this.parser}getType(){return this.type}},Wwt=[],hfe=x(()=>{Wwt.forEach(e=>{e()}),Wwt=[]},"attachFunctions"),dfe=x(e=>e.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function T3t(e){let t=e.match(V8);if(!t)return{text:e,metadata:{}};let r=cd(t[1],{schema:ud})??{};r=typeof r=="object"&&!Array.isArray(r)?r:{};let n={};return r.displayMode&&(n.displayMode=r.displayMode.toString()),r.title&&(n.title=r.title.toString()),r.config&&(n.config=r.config),{text:e.slice(t[0].length),metadata:n}}x(T3t,"extractFrontMatter");var pfe=x(e=>e.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(t,r,n)=>"<"+r+n.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),mfe=x(e=>{let{text:t,metadata:r}=T3t(e),{displayMode:n,title:a,config:i={}}=r;return n&&(i.gantt||(i.gantt={}),i.gantt.displayMode=n),{title:a,config:i,text:t}},"processFrontmatter"),gfe=x(e=>{let t=Ge.detectInit(e)??{},r=Ge.detectDirective(e,"wrap");return Array.isArray(r)?t.wrap=r.some(({type:n})=>n==="wrap"):r?.type==="wrap"&&(t.wrap=!0),{text:Lnt(e),directive:t}},"processDirectives");function vU(e){let t=pfe(e),r=mfe(t),n=gfe(r.text),a=Na(r.config,n.directive);return e=dfe(n.text),{code:e,title:r.title,config:a}}x(vU,"preprocessDiagram");function E3t(e){let t=new TextEncoder().encode(e),r=Array.from(t,n=>String.fromCodePoint(n)).join("");return btoa(r)}x(E3t,"toBase64");var vfe=5e4,yfe="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",xfe="sandbox",bfe="loose",_fe="http://www.w3.org/2000/svg",wfe="http://www.w3.org/1999/xlink",Tfe="http://www.w3.org/1999/xhtml",Efe="100%",kfe="100%",Cfe="border:0;margin:0;",Sfe="margin:0",Dfe="allow-top-navigation-by-user-activation allow-popups",Afe='The "iframe" tag is not supported by your browser.',Lfe=["foreignobject"],Mfe=["dominant-baseline"];function yU(e){let t=vU(e);return mx(),XH(t.config??{}),t}x(yU,"processAndSetConfigs");async function k3t(e,t){wA();try{let{code:r,config:n}=yU(e);return{diagramType:(await S3t(r)).type,config:n}}catch(r){if(t?.suppressErrors)return!1;throw r}}x(k3t,"parse");var Gwt=x((e,t,r=[])=>`
.${e} ${t} { ${r.join(" !important; ")} !important; }`,"cssImportantStyles"),Ife=x((e,t=new Map)=>{let r="";if(e.themeCSS!==void 0&&(r+=`
${e.themeCSS}`),e.fontFamily!==void 0&&(r+=`
:root { --mermaid-font-family: ${e.fontFamily}}`),e.altFontFamily!==void 0&&(r+=`
:root { --mermaid-alt-font-family: ${e.altFontFamily}}`),t instanceof Map){let o=e.htmlLabels??e.flowchart?.htmlLabels?["> *","span"]:["rect","polygon","ellipse","circle","path"];t.forEach(s=>{cr(s.styles)||o.forEach(l=>{r+=Gwt(s.id,l,s.styles)}),cr(s.textStyles)||(r+=Gwt(s.id,"tspan",(s?.textStyles||[]).map(l=>l.replace("color","fill"))))})}return r},"createCssStyles"),Rfe=x((e,t,r,n)=>{let a=Ife(e,r),i=tY(t,a,e.themeVariables);return pS(Vmt(`${n}{${i}}`),Hmt)},"createUserStyles"),Nfe=x((e="",t,r)=>{let n=e;return!r&&!t&&(n=n.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),n=Is(n),n=n.replace(/<br>/g,"<br/>"),n},"cleanUpSvgCode"),Ofe=x((e="",t)=>{let r=t?.viewBox?.baseVal?.height?t.viewBox.baseVal.height+"px":kfe,n=E3t(`<body style="${Sfe}">${e}</body>`);return`<iframe style="width:${Efe};height:${r};${Cfe}" src="data:text/html;charset=UTF-8;base64,${n}" sandbox="${Dfe}">
  ${Afe}
</iframe>`},"putIntoIFrame"),Vwt=x((e,t,r,n,a)=>{let i=e.append("div");i.attr("id",r),n&&i.attr("style",n);let o=i.append("svg").attr("id",t).attr("width","100%").attr("xmlns",_fe);return a&&o.attr("xmlns:xlink",a),o.append("g"),e},"appendDivSvgG");function gU(e,t){return e.append("iframe").attr("id",t).attr("style","width: 100%; height: 100%;").attr("sandbox","")}x(gU,"sandboxedIframe");var Ffe=x((e,t,r,n)=>{e.getElementById(t)?.remove(),e.getElementById(r)?.remove(),e.getElementById(n)?.remove()},"removeExistingElements"),Pfe=x(async function(e,t,r){wA();let n=yU(t);t=n.code;let a=ur();J.debug(a),t.length>(a?.maxTextSize??vfe)&&(t=yfe);let i="#"+e,o="i"+e,s="#"+o,l="d"+e,u="#"+l,f=x(()=>{let A=Vt(d?s:u).node();A&&"remove"in A&&A.remove()},"removeTempElements"),h=Vt("body"),d=a.securityLevel===xfe,p=a.securityLevel===bfe,m=a.fontFamily;if(r!==void 0){if(r&&(r.innerHTML=""),d){let E=gU(Vt(r),o);h=Vt(E.nodes()[0].contentDocument.body),h.node().style.margin=0}else h=Vt(r);Vwt(h,e,l,`font-family: ${m}`,wfe)}else{if(Ffe(document,e,l,o),d){let E=gU(Vt("body"),o);h=Vt(E.nodes()[0].contentDocument.body),h.node().style.margin=0}else h=Vt("body");Vwt(h,e,l)}let g,v;try{g=await mU.fromText(t,{title:n.title})}catch(E){if(a.suppressErrorRendering)throw f(),E;g=await mU.fromText("error"),v=E}let y=h.select(u).node(),b=g.type,_=y.firstChild,k=_.firstChild,w=g.renderer.getClasses?.(t,g),T=Rfe(a,b,w,i),S=document.createElement("style");S.innerHTML=T,_.insertBefore(S,k);try{await g.renderer.draw(t,e,G2.version,g)}catch(E){throw a.suppressErrorRendering?f():Ece.draw(t,e,G2.version),E}let C=h.select(`${u} svg`),M=g.db.getAccTitle?.(),N=g.db.getAccDescription?.();D3t(b,C,M,N),h.select(`[id="${e}"]`).selectAll("foreignobject > *").attr("xmlns",Tfe);let L=h.select(u).node().innerHTML;if(J.debug("config.arrowMarkerAbsolute",a.arrowMarkerAbsolute),L=Nfe(L,d,on(a.arrowMarkerAbsolute)),d){let E=h.select(u+" svg").node();L=Ofe(L,E)}else p||(L=Uh.sanitize(L,{ADD_TAGS:Lfe,ADD_ATTR:Mfe,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(hfe(),v)throw v;return f(),{diagramType:b,svg:L,bindFunctions:g.db.bindFunctions}},"render");function C3t(e={}){let t=ua({},e);t?.fontFamily&&!t.themeVariables?.fontFamily&&(t.themeVariables||(t.themeVariables={}),t.themeVariables.fontFamily=t.fontFamily),VH(t),t?.theme&&t.theme in fc?t.themeVariables=fc[t.theme].getThemeVariables(t.themeVariables):t&&(t.themeVariables=fc.default.getThemeVariables(t.themeVariables));let r=typeof t=="object"?GH(t):Y8();V2(r.logLevel),wA()}x(C3t,"initialize");var S3t=x((e,t={})=>{let{code:r}=vU(e);return mU.fromText(r,t)},"getDiagramFromText");function D3t(e,t,r,n){b3t(t,e),_3t(t,r,n,t.attr("id"))}x(D3t,"addA11yInfo");var Gm=Object.freeze({render:Pfe,parse:k3t,getDiagramFromText:S3t,initialize:C3t,getConfig:ur,setConfig:X8,getSiteConfig:Y8,updateSiteConfig:HH,reset:x(()=>{mx()},"reset"),globalReset:x(()=>{mx(Yp)},"globalReset"),defaultConfig:Yp});V2(ur().logLevel);mx(ur());var Bfe=x((e,t,r)=>{J.warn(e),wE(e)?(r&&r(e.str,e.hash),t.push({...e,message:e.str,error:e})):(r&&r(e),e instanceof Error&&t.push({str:e.message,message:e.message,hash:e.name,error:e}))},"handleError"),A3t=x(async function(e={querySelector:".mermaid"}){try{await $fe(e)}catch(t){if(wE(t)&&J.error(t.str),Sh.parseError&&Sh.parseError(t),!e.suppressErrors)throw J.error("Use the suppressErrors option to suppress these errors"),t}},"run"),$fe=x(async function({postRenderCallback:e,querySelector:t,nodes:r}={querySelector:".mermaid"}){let n=Gm.getConfig();J.debug(`${e?"":"No "}Callback function found`);let a;if(r)a=r;else if(t)a=document.querySelectorAll(t);else throw new Error("Nodes and querySelector are both undefined");J.debug(`Found ${a.length} diagrams`),n?.startOnLoad!==void 0&&(J.debug("Start On Load: "+n?.startOnLoad),Gm.updateSiteConfig({startOnLoad:n?.startOnLoad}));let i=new Ge.InitIDGenerator(n.deterministicIds,n.deterministicIDSeed),o,s=[];for(let l of Array.from(a)){if(J.info("Rendering diagram: "+l.id),l.getAttribute("data-processed"))continue;l.setAttribute("data-processed","true");let u=`mermaid-${i.next()}`;o=l.innerHTML,o=ME(Ge.entityDecode(o)).trim().replace(/<br\s*\/?>/gi,"<br/>");let f=Ge.detectInit(o);f&&J.debug("Detected early reinit: ",f);try{let{svg:h,bindFunctions:d}=await R3t(u,o,l);l.innerHTML=h,e&&await e(u),d&&d(l)}catch(h){Bfe(h,s,Sh.parseError)}}if(s.length>0)throw s[0]},"runThrowsErrors"),L3t=x(function(e){Gm.initialize(e)},"initialize"),zfe=x(async function(e,t,r){J.warn("mermaid.init is deprecated. Please use run instead."),e&&L3t(e);let n={postRenderCallback:r,querySelector:".mermaid"};typeof t=="string"?n.querySelector=t:t&&(t instanceof HTMLElement?n.nodes=[t]:n.nodes=t),await A3t(n)},"init"),qfe=x(async(e,{lazyLoad:t=!0}={})=>{wA(),E5(...e),t===!1&&await cfe()},"registerExternalDiagrams"),M3t=x(function(){if(Sh.startOnLoad){let{startOnLoad:e}=Gm.getConfig();e&&Sh.run().catch(t=>J.error("Mermaid failed to initialize",t))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",M3t,!1);var Ufe=x(function(e){Sh.parseError=e},"setParseErrorHandler"),_A=[],pU=!1,I3t=x(async()=>{if(!pU){for(pU=!0;_A.length>0;){let e=_A.shift();if(e)try{await e()}catch(t){J.error("Error executing queue",t)}}pU=!1}},"executeQueue"),Wfe=x(async(e,t)=>new Promise((r,n)=>{let a=x(()=>new Promise((i,o)=>{Gm.parse(e,t).then(s=>{i(s),r(s)},s=>{J.error("Error parsing",s),Sh.parseError?.(s),o(s),n(s)})}),"performCall");_A.push(a),I3t().catch(n)}),"parse"),R3t=x((e,t,r)=>new Promise((n,a)=>{let i=x(()=>new Promise((o,s)=>{Gm.render(e,t,r).then(l=>{o(l),n(l)},l=>{J.error("Error parsing",l),Sh.parseError?.(l),s(l),a(l)})}),"performCall");_A.push(i),I3t().catch(a)}),"render"),Gfe=x(()=>Object.keys(Xh).map(e=>({id:e})),"getRegisteredDiagramsMetadata"),Sh={startOnLoad:!0,mermaidAPI:Gm,parse:Wfe,render:R3t,init:zfe,run:A3t,registerExternalDiagrams:qfe,registerLayoutLoaders:zF,initialize:L3t,parseError:void 0,contentLoaded:M3t,setParseErrorHandler:Ufe,detectType:px,registerIconPacks:RE,getRegisteredDiagramsMetadata:Gfe},xU=Sh;xU.initialize({startOnLoad:!1,theme:"default"});var bU=function(e){return function(){let t=document.getElementById("mermaid-output"),r=document.getElementById("error-message");t.innerHTML="Rendering...",r.innerHTML="",t?xU.render("mermaid-temp-id",e).then(({svg:n})=>{t.innerHTML=n}).catch(n=>{console.error("Mermaid rendering failed:",n),t.innerHTML="",r.innerHTML=`<pre>\u26A0\uFE0F Rendering Error: ${n.message}</pre>`}):console.error("Target div #mermaid-output not found.")}},TA=function(e){return function(){let t=document.getElementById("error-message");document.getElementById("mermaid-output").innerHTML="",t.innerHTML=`<pre>\u26A0\uFE0F ${e}</pre>`}},_U=function(e){return function(){let t=document.getElementById("diagram-upload"),r=document.getElementById("error-message");if(!t){console.error("File input #diagram-upload not found.");return}t.addEventListener("change",n=>{let a=n.target.files[0];if(!a){r.innerHTML="No file selected.";return}let i=new FileReader;i.onload=o=>{let s=o.target.result;e(s)()},i.onerror=o=>{TA(`Error reading file: ${o.target.error.name}`)()},i.readAsText(a,"UTF-8")})}},Vfe=()=>{let e=document.getElementById("modal-overlay");e&&e.addEventListener("click",t=>{t.target===e&&(document.getElementById("modal-overlay").style.display="none")})},wU=function(e){return function(){let t=document.getElementById("copy-button"),r=document.getElementById("modal-textarea"),n=document.getElementById("modal-overlay");t.disabled=!1,document.getElementById("copy-status").textContent="",t.hasClickListener||(Vfe(),t.addEventListener("click",()=>{r.value=e,n.style.display="flex",setTimeout(()=>{r.focus(),r.select()},50)}),t.hasClickListener=!0)}};var N3t=function(e){return function(t){for(var r=t.length,n=new Array(r),a=0;a<r;a++)n[a]=e(t[a]);return n}};var EA={compose:function(e){return function(t){return function(r){return e(t(r))}}}};var pa=function(e){return e.identity},Sa={identity:function(e){return e},Semigroupoid0:function(){return EA}};var Xs=!0;var Qn=function(e){return function(t){return function(r){return e(r)(t)}}},Zn=function(e){return function(t){return e}};var ke=function(e){return e.map},c2=function(e){var t=ke(e);return function(r){return function(n){return t(n)(r)}}},li=function(e){return ke(e)(Zn(void 0))},f2=function(e){var t=ke(e);return function(r){return function(n){return t(Zn(n))(r)}}};var Ei={map:N3t};var O3t=function(e){return function(t){return e+t}},F3t=function(e){return function(t){return e.length===0?t:t.length===0?e:e.concat(t)}};var B3t={append:O3t};var Hm={append:F3t};var qr=function(e){return e.append};var yo=function(e){return e.alt};var $3t=function(e){return function(t){for(var r=e.length,n=t.length,a=new Array(r*n),i=0,o=0;o<r;o++)for(var s=e[o],l=0;l<n;l++)a[i++]=s(t[l]);return a}};var Zfe=pa(Sa);var CA={apply:$3t,Functor0:function(){return Ei}},Ba=function(e){return e.apply},SA=function(e){var t=Ba(e),r=ke(e.Functor0());return function(n){return function(a){return t(r(Zn)(n))(a)}}},Qw=function(e){var t=Ba(e),r=ke(e.Functor0());return function(n){return function(a){return t(r(Zn(Zfe))(n))(a)}}},hu=function(e){var t=Ba(e),r=ke(e.Functor0());return function(n){return function(a){return function(i){return t(r(n)(a))(i)}}}};var z3t=function(e,t){for(var r=e>t?-1:1,n=new Array(r*(t-e)+1),a=e,i=0;a!==t;)n[i++]=a,a+=r;return n[i]=a,n},Jfe=function(e,t){if(e<1)return[];var r=new Array(e);return r.fill(t)},the=function(e,t){for(var r=[],n=0,a=0;a<e;a++)r[n++]=t;return r},ehe=typeof Array.prototype.fill=="function"?Jfe:the,q3t=function(){function e(a,i){this.head=a,this.tail=i}var t={};function r(a){return function(i){return new e(a,i)}}function n(a){for(var i=[],o=0,s=a;s!==t;)i[o++]=s.head,s=s.tail;return i}return function(a,i){return n(a(r)(t)(i))}}(),Ep=function(e){return e.length},kU=function(e,t,r){return r.length===0?e({}):t(r[0])(r.slice(1))},U3t=function(e,t,r,n){return n<0||n>=r.length?t:e(r[n])};var W3t=function(e,t){return t.filter(e)};var G3t=function(){function e(t,r,n,a,i,o){var s,l,u,f,h,d,p;for(s=i+(o-i>>1),s-i>1&&e(t,r,a,n,i,s),o-s>1&&e(t,r,a,n,s,o),l=i,u=s,f=i;l<s&&u<o;)h=a[l],d=a[u],p=r(t(h)(d)),p>0?(n[f++]=d,++u):(n[f++]=h,++l);for(;l<s;)n[f++]=a[l++];for(;u<o;)n[f++]=a[u++]}return function(t,r,n){var a;return n.length<2?n:(a=n.slice(0),e(t,r,a,n.slice(0),0,n.length),a)}}();var V3t=function(e,t,r){for(var n=t.length<r.length?t.length:r.length,a=new Array(n),i=0;i<n;i++)a[i]=e(t[i])(r[i]);return a};var Ir=function(e){return e.pure};var kp=function(e){var t=Ir(e);return function(r){return function(n){if(r)return n;if(!r)return t(void 0);throw new Error("Failed pattern match at Control.Applicative (line 63, column 1 - line 63, column 63): "+[r.constructor.name,n.constructor.name])}}};var Y3t=typeof Array.prototype.flatMap=="function"?function(e){return function(t){return e.flatMap(t)}}:function(e){return function(t){for(var r=[],n=e.length,a=0;a<n;a++)for(var i=t(e[a]),o=i.length,s=0;s<o;s++)r.push(i[s]);return r}};var DA=function(e){return e.discard};var AA={bind:Y3t,Apply0:function(){return CA}},Qr=function(e){return e.bind},LA=function(e){return Qn(Qr(e))};var X3t=function(e){var t=Qr(e);return function(r){return function(n){return function(a){return t(r(a))(n)}}}};var MA={discard:function(e){return Qr(e)}};var AU=function(e){var t=Qr(e.Bind1()),r=Ir(e.Applicative0());return function(n){return function(a){return t(n)(function(i){return t(a)(function(o){return r(i(o))})})}}};var K3t="\uFFFF",Q3t="\0",ihe=Number.POSITIVE_INFINITY,ohe=Number.NEGATIVE_INFINITY;var LU=function(e){return function(t){return function(r){return function(n){return function(a){return n<a?e:n===a?t:r}}}}};var Z3t=LU;var J3t=LU,t5t=LU;var IA=function(e){return function(t){return e===t}},e5t=IA,r5t=IA;var n5t=IA,a5t=IA,i5t=function(e){return function(t){return function(r){if(t.length!==r.length)return!1;for(var n=0;n<t.length;n++)if(!e(t[n])(r[n]))return!1;return!0}}};var MU={eq:function(e){return function(t){return!0}}},IU={eq:a5t};var d2={eq:r5t},Jw={eq:n5t},t3={eq:e5t},Ym=function(e){return e.eq1},vr=function(e){return e.eq},che=vr(t3),e3=function(e){return{eq:i5t(vr(e))}};var RA=function(e){var t=vr(e);return function(r){return function(n){return che(t(r)(n))(!1)}}};var Rn=function(){function e(){}return e.value=new e,e}(),En=function(){function e(){}return e.value=new e,e}(),Wn=function(){function e(){}return e.value=new e,e}();var p2={eq:function(e){return function(t){return e instanceof Rn&&t instanceof Rn||e instanceof En&&t instanceof En||e instanceof Wn&&t instanceof Wn}}};var o5t=function(e){return function(t){return e-t|0}};var s5t=function(e){return function(t){return e+t|0}},l5t=function(e){return function(t){return e*t|0}};var Zu=function(e){return e.zero};var RU={add:s5t,zero:0,mul:l5t,one:1};var gf=function(e){return e.mul};var Ju=function(e){return e.add};var NU={sub:o5t,Semiring0:function(){return RU}};var m2=function(){return{compare:J3t(Rn.value)(Wn.value)(En.value),Eq0:function(){return IU}}}();var zi=function(){return{compare:Z3t(Rn.value)(Wn.value)(En.value),Eq0:function(){return d2}}}(),OA=function(){return{compare:t5t(Rn.value)(Wn.value)(En.value),Eq0:function(){return Jw}}}();var jm=function(e){return e.compare1},Sr=function(e){return e.compare};var OU=function(e){var t=Sr(e);return function(r){return function(n){return function(a){return t(r(n))(r(a))}}}};var Lh=function(e){return e.top};var Km={top:K3t,bottom:Q3t,Ord0:function(){return OA}};var Mh=function(e){return e.bottom};var u5t=function(e){return e.toString()};var c5t=function(e){var t=e.charCodeAt(0);if(t<32||t===127){switch(e){case"\x07":return"'\\a'";case"\b":return"'\\b'";case"\f":return"'\\f'";case`
`:return"'\\n'";case"\r":return"'\\r'";case"	":return"'\\t'";case"\v":return"'\\v'"}return"'\\"+t.toString(10)+"'"}return e==="'"||e==="\\"?"'\\"+e+"'":"'"+e+"'"};var vf={show:u5t},FU={show:c5t};var Rr=function(e){return e.show};var The=pa(Sa),ze=function(){function e(){}return e.value=new e,e}(),Oe=function(){function e(t){this.value0=t}return e.create=function(t){return new e(t)},e}();var xo=function(e){return function(t){return function(r){if(r instanceof ze)return e;if(r instanceof Oe)return t(r.value0);throw new Error("Failed pattern match at Data.Maybe (line 237, column 1 - line 237, column 51): "+[e.constructor.name,t.constructor.name,r.constructor.name])}}},g2=xo(!0)(Zn(!1));var Ya={map:function(e){return function(t){return t instanceof Oe?new Oe(e(t.value0)):ze.value}}},Ehe=ke(Ya);var Qm=function(e){return xo(e)(The)},Ih=function(){return function(e){if(e instanceof Oe)return e.value0;throw new Error("Failed pattern match at Data.Maybe (line 288, column 1 - line 288, column 46): "+[e.constructor.name])}};var n3={apply:function(e){return function(t){if(e instanceof Oe)return Ehe(e.value0)(t);if(e instanceof ze)return ze.value;throw new Error("Failed pattern match at Data.Maybe (line 67, column 1 - line 69, column 30): "+[e.constructor.name,t.constructor.name])}},Functor0:function(){return Ya}};var br=function(){function e(t){this.value0=t}return e.create=function(t){return new e(t)},e}(),Dr=function(){function e(t){this.value0=t}return e.create=function(t){return new e(t)},e}();var BU=function(e){return xo(new br(e))(Dr.create)};var v2={map:function(e){return function(t){if(t instanceof br)return new br(t.value0);if(t instanceof Dr)return new Dr(e(t.value0));throw new Error("Failed pattern match at Data.Either (line 0, column 0 - line 0, column 0): "+[t.constructor.name])}}},khe=ke(v2);var f5t=function(e){return function(t){return function(r){if(r instanceof br)return e(r.value0);if(r instanceof Dr)return t(r.value0);throw new Error("Failed pattern match at Data.Either (line 208, column 1 - line 208, column 64): "+[e.constructor.name,t.constructor.name,r.constructor.name])}}};var h5t={apply:function(e){return function(t){if(e instanceof br)return new br(e.value0);if(e instanceof Dr)return khe(e.value0)(t);throw new Error("Failed pattern match at Data.Either (line 70, column 1 - line 72, column 30): "+[e.constructor.name,t.constructor.name])}},Functor0:function(){return v2}};var Sp={bind:f5t(function(e){return function(t){return new br(e)}})(function(e){return function(t){return t(e)}}),Apply0:function(){return h5t}};var a3=function(){return{pure:Dr.create,Apply0:function(){return h5t}}}(),$U={Applicative0:function(){return a3},Bind1:function(){return Sp}};var Dp=function(e){return e};var y2={map:function(e){return function(t){return e(t)}}};var d5t={apply:function(e){return function(t){return e(t)}},Functor0:function(){return y2}},zU={bind:function(e){return function(t){return t(e)}},Apply0:function(){return d5t}},qU={pure:Dp,Apply0:function(){return d5t}},PA={Applicative0:function(){return qU},Bind1:function(){return zU}};var p5t=function(e){return Math.min(Math.abs(e),2147483647)},m5t=function(e){return function(t){return t===0?0:t>0?Math.floor(e/t):-Math.floor(e/-t)}},g5t=function(e){return function(t){if(t===0)return 0;var r=Math.abs(t);return(e%r+r)%r}};var v5t={Ring0:function(){return NU}};var UU=function(e){return e.mod};var BA={degree:p5t,div:m5t,mod:g5t,CommutativeRing0:function(){return v5t}},WU=function(e){return e.div};var x2={mempty:"",Semigroup0:function(){return B3t}};var ci=function(e){return e.mempty};var Bo=function(){function e(t){this.value0=t}return e.create=function(t){return new e(t)},e}(),Ui=function(){function e(t){this.value0=t}return e.create=function(t){return new e(t)},e}(),Rh=function(e){return e.tailRecM};var b5t=function(e){var t=function(r){var n=!1,a;function i(o){if(o instanceof Bo){r=e(o.value0);return}if(o instanceof Ui)return n=!0,o.value0;throw new Error("Failed pattern match at Control.Monad.Rec.Class (line 103, column 3 - line 103, column 25): "+[o.constructor.name])}for(;!n;)a=i(r);return a};return function(r){return t(e(r))}};var _5t={tailRecM:function(e){var t=function(n){return n},r=b5t(function(n){return t(e(n))});return function(n){return Dp(r(n))}},Monad0:function(){return PA}};var w5t={tailRecM:function(e){return function(t){var r=function(n){if(n instanceof br)return new Ui(new br(n.value0));if(n instanceof Dr&&n.value0 instanceof Bo)return new Bo(e(n.value0.value0));if(n instanceof Dr&&n.value0 instanceof Ui)return new Ui(new Dr(n.value0.value0));throw new Error("Failed pattern match at Control.Monad.Rec.Class (line 145, column 7 - line 145, column 33): "+[n.constructor.name])};return b5t(r)(e(t))}},Monad0:function(){return $U}};var T5t={bimap:function(e){return function(t){return function(r){if(r instanceof Bo)return new Bo(e(r.value0));if(r instanceof Ui)return new Ui(t(r.value0));throw new Error("Failed pattern match at Control.Monad.Rec.Class (line 33, column 1 - line 35, column 34): "+[e.constructor.name,t.constructor.name,r.constructor.name])}}}};var E5t=function(e){return function(t){return function(){return e(t())}}},k5t=function(e){return function(){return e}},C5t=function(e){return function(t){return function(){return t(e())()}}};var HU=function(e){return function(t){return function(){for(var r=0,n=e.length;r<n;r++)t(e[r])()}}};var $he=function(e,t,r){var n=0,a;return function(i){if(n===2)return a;if(n===1)throw new ReferenceError(e+" was needed before it finished initializing (module "+t+", line "+i+")",t,i);return n=1,a=r(),n=2,a}};var i3={map:E5t};var L5t={Applicative0:function(){return YU},Bind1:function(){return M5t}},M5t={bind:C5t,Apply0:function(){return I5t(0)}},YU={pure:k5t,Apply0:function(){return I5t(0)}},I5t=$he("applyST","Control.Monad.ST.Internal",function(){return{apply:AU(L5t),Functor0:function(){return i3}}});function R5t(e){return e}var N5t=R5t,O5t=R5t;function zhe(e){return e.slice()}var F5t=zhe;var P5t=function(e,t){return t.push(e)};var o3=function(t){return function(r){return function(){return t(r)}}},XU=function(t){return function(r){return function(n){return function(){return t(r,n)}}}};var B5t=o3(O5t),zA=o3(N5t);var Hhe=o3(F5t),$5t=function(e){return function(t){return function(){var n=Hhe(t)();return e(n)(),zA(n)()}}};var qA=XU(P5t);var q5t=function(e){return function(t){return e&&t}},U5t=function(e){return function(t){return e||t}},W5t=function(e){return!e};var UA=function(e){return e.tt};var s3=function(e){return e.not};var l3=function(e){return e.ff};var _2=function(e){return e.disj},yf={ff:!1,tt:!0,implies:function(e){return function(t){return _2(yf)(s3(yf)(e))(t)}},conj:q5t,disj:U5t,not:W5t};var w2=function(e){return e.conj};var G5t=function(e){return function(t){return function(r){for(var n=t,a=r.length,i=a-1;i>=0;i--)n=e(r[i])(n);return n}}},V5t=function(e){return function(t){return function(r){for(var n=t,a=r.length,i=0;i<a;i++)n=e(n)(r[i]);return n}}};var tg=function(e){return e.empty};var kn=function(){function e(t,r){this.value0=t,this.value1=r}return e.create=function(t){return function(r){return new e(t,r)}},e}();var _s=function(e){return e.value1};var xf=function(e){return e.value0};var Lp=function(e){return e.bimap};var WA={bimap:function(e){return function(t){return function(r){if(r instanceof br)return new br(e(r.value0));if(r instanceof Dr)return new Dr(t(r.value0));throw new Error("Failed pattern match at Data.Bifunctor (line 38, column 1 - line 40, column 36): "+[e.constructor.name,t.constructor.name,r.constructor.name])}}}};var VA=function(e){return e};var j5t=function(e){var t=_2(e),r=w2(e);return{zero:l3(e),one:UA(e),add:function(n){return function(a){return t(n)(a)}},mul:function(n){return function(a){return r(n)(a)}}}},ude=function(e){var t=_2(e);return{append:function(r){return function(n){return t(r)(n)}}}};var KU=function(e){var t=ude(e);return{mempty:l3(e),Semigroup0:function(){return t}}},f3={map:function(e){return function(t){return e(t)}}},K5t=function(e){return e};var Q5t={apply:function(e){return function(t){return e(t)}},Functor0:function(){return f3}};var k2=function(e){return e};var d3=function(){return k2};var J5t=d3();var C2=function(){return J5t};var ZU=function(){return function(){return function(){return function(){return function(e){return J5t}}}}};var pde=ZU()()()(),bo=function(e){return e.foldr};var za=function(e){return e.foldl};var D2=function(e){var t=za(e);return function(r){var n=qr(r.Semigroup0()),a=ci(r);return function(i){return function(o){var s=function(l){return function(u){return l.init?{init:!1,acc:u}:{init:!1,acc:n(l.acc)(n(i)(u))}}};return t(s)({init:!0,acc:a})(o).acc}}}};var eTt=function(e){var t=bo(e);return function(r){var n=qr(r.Semigroup0()),a=ci(r);return function(i){return t(function(o){return function(s){return n(i(o))(s)}})(a)}}},Ci={foldr:G5t,foldl:V5t,foldMap:function(e){return eTt(Ci)(e)}};var _l=function(e){return e.foldMap};var p3=function(e){var t=_l(e);return function(r){return pde(VA)(t(KU(r)))}},A2=function(e){var t=p3(e)(yf);return function(r){var n=vr(r);return function(a){return t(n(a))}}},L2=function(e){var t=A2(e);return function(r){var n=t(r);return function(a){var i=n(a);return function(o){return!i(o)}}}};var M2=function(e){return function(t){return function(r){return e(t,r)}}},I2=function(e){return function(t){return function(r){return function(n){return e(t,r,n)}}}},tW=function(e){return function(t){return function(r){return function(n){return function(a){return e(t,r,n,a)}}}}};var nTt=function(e){return function(t){for(var r=t.length,n=Array(r),a=0;a<r;a++)n[a]=e(a)(t[a]);return n}};var R2=function(e){return e.mapWithIndex};var m3={mapWithIndex:nTt,Functor0:function(){return Ei}};var gTt=function(e){return function(t){return function(r){return function(n){return function(a){return function(i){for(var o=[],s=i;;){var l=a(s);if(e(l))return o;var u=t(l);o.push(r(u)),s=n(u)}}}}}}};var vTt=function(e){return function(t){return function(r){return function(n){return function(a){return function(i){for(var o=[],s=i;;){var l=a(s);o.push(r(l));var u=n(l);if(e(u))return o;s=t(u)}}}}}}};var ope=Ih();var oW={unfoldr1:vTt(g2)(ope)(xf)(_s)};var lpe=Ih(),bf=function(e){return e.unfoldr};var Oh={unfoldr:gTt(g2)(lpe)(xf)(_s),Unfoldable10:function(){return oW}};var dpe=li(i3),ppe=D2(Ci);var mpe=ke(Ei),gpe=ke(i3),vpe=Ih(),ype=kp(YU),xpe=RA(p2);var bpe=_l(Ci);var _pe=qr(Hm);var g3=I2(V3t);var lW=function(){return I2(kU)(Zn(ze.value))(function(e){return function(t){return new Oe({head:e,tail:t})}})}();var _Tt=function(){return I2(kU)(Zn(ze.value))(function(e){return function(t){return new Oe(t)}})}(),v3=function(e){return I2(G3t)(e)(function(t){if(t instanceof En)return 1;if(t instanceof Wn)return 0;if(t instanceof Rn)return-1;throw new Error("Failed pattern match at Data.Array (line 897, column 38 - line 900, column 11): "+[t.constructor.name])})},wTt=function(e){var t=OU(e);return function(r){return v3(t(r))}},wpe=wTt(zi);var sW=function(e){return function(t){return $5t(qA(t))(e)()}};var t7=function(e){return[e]};var eg=M2(z3t);var TTt=function(e){return Ep(e)===0};var Fh=R2(m3);var ETt=function(e){return ppe(e)};var e7=function(){return tW(U3t)(Oe.create)(ze.value)}(),kTt=function(e){return e7(e)(Ep(e)-1|0)};var uW=function(e){return e7(e)(0)},CTt=function(e){return function(t){var r=v3(function(a){return function(i){return e(_s(a))(_s(i))}})(Fh(kn.create)(t)),n=uW(r);if(n instanceof ze)return[];if(n instanceof Oe)return mpe(_s)(wpe(xf)(function(){var i=B5t(t7(n.value0))();return HU(r)(function(o){return function(){var l=gpe(function(){var u=function(f){return vpe(kTt(f))};return function(f){return _s(u(f))}}())(zA(i))();return ype(xpe(e(l)(o.value1))(Wn.value))(dpe(qA(o)(i)))()}})(),zA(i)()}()));throw new Error("Failed pattern match at Data.Array (line 1115, column 17 - line 1123, column 28): "+[n.constructor.name])}},r7=function(e){return CTt(Sr(e))};var n7=function(e){return M2(q3t)(bo(e))};var cW=za(Ci),y3=function(e){var t=function(n){return Qn(cW)(ze.value)(function(a){return function(i){return xo(a)(function(o){return new Oe(xo([o])(Qn(sW)(o))(a))})(e7(i)(n))}})(e)},r=function(n){return function(a){var i=n,o=!1,s;function l(u,f){var h=t(u);if(h instanceof ze)return o=!0,f;if(h instanceof Oe){i=u+1|0,a=sW(f)(h.value0);return}throw new Error("Failed pattern match at Data.Array (line 837, column 22 - line 839, column 52): "+[h.constructor.name])}for(;!o;)s=l(i,a);return s}};return r(0)([])};var STt=function(e){return bpe(e)};var fW=M2(W3t);var DTt=function(e){return function(t){return _pe([e])(t)}};var hW=Qn(Qr(AA)),ATt=function(e){return hW(function(){var t=xo([])(t7);return function(r){return t(e(r))}}())};var dW=ATt(pa(Sa));var a7=function(e){return e.foldrWithIndex};var MTt=function(e){return e};var mW=Ei;var ITt=Ci;var Ip=function(){function e(t,r){this.value0=t,this.value1=r}return e.create=function(t){return function(r){return new e(t,r)}},e}();var vW=function(e){var t=tg(e);return function(r){return new Ip(r,t)}};var NTt=function(e){var t=ke(e);return{map:function(r){return function(n){return new Ip(r(n.value0),t(r)(n.value1))}}}};var OTt=function(e){var t=_l(e),r=za(e),n=bo(e);return{foldMap:function(a){var i=qr(a.Semigroup0()),o=t(a);return function(s){return function(l){return i(s(l.value0))(o(s)(l.value1))}}},foldl:function(a){return function(i){return function(o){return r(a)(a(i)(o.value0))(o.value1)}}},foldr:function(a){return function(i){return function(o){return a(o.value0)(n(a)(i)(o.value1))}}}}};var FTt=function(e){var t=za(e),r=bo(e),n=OTt(e);return{foldMap1:function(a){var i=qr(a);return function(o){return function(s){return t(function(l){return function(u){return i(l)(o(u))}})(o(s.value0))(s.value1)}}},foldr1:function(a){return function(i){return xo(i.value0)(a(i.value0))(r(function(o){var s=xo(o)(a(o));return function(l){return Oe.create(s(l))}})(ze.value)(i.value1))}},foldl1:function(a){return function(i){return t(a)(i.value0)(i.value1)}},Foldable0:function(){return n}}};var Lpe=Ih();var yW=MTt;var PTt=function(e){return e};var BTt=function(e){return yW(t7(e))};var $Tt=function(e){var t=n7(e.Foldable0());return function(r){return yW(t(r))}};var zTt=function(e){return function(t){return Lpe(e(PTt(t)))}},O2=zTt(uW);var _3=zTt(_Tt);var qTt=function(e){return function(t){return e(PTt(t))}};var w3=qTt(Ep);var xW=function(e){var t=qTt(e);return function(r){return yW(t(r))}},UTt=function(e){return xW(DTt(e))};var WTt=function(e){return xW(Fh(e))};var GTt=function(e){return xW(r7(e))};var $n=function(){function e(){}return e.value=new e,e}(),Vr=function(){function e(t,r){this.value0=t,this.value1=r}return e.create=function(t){return function(r){return new e(t,r)}},e}(),bW=function(e){return e};var Ipe=function(e){var t=function(r){return function(n){var a=r,i=!1,o;function s(l,u){if(u instanceof Vr&&u.value1 instanceof Vr&&u.value1.value1 instanceof Vr){a=new Vr(u,l),n=u.value1.value1.value1;return}var f=function(d){return d instanceof Vr&&d.value1 instanceof Vr&&d.value1.value1 instanceof $n?new Vr(e(d.value0),new Vr(e(d.value1.value0),$n.value)):d instanceof Vr&&d.value1 instanceof $n?new Vr(e(d.value0),$n.value):$n.value},h=function(d){return function(p){var m=d,g=!1,v;function y(b,_){if(b instanceof Vr&&b.value0 instanceof Vr&&b.value0.value1 instanceof Vr&&b.value0.value1.value1 instanceof Vr){m=b.value1,p=new Vr(e(b.value0.value0),new Vr(e(b.value0.value1.value0),new Vr(e(b.value0.value1.value1.value0),_)));return}return g=!0,_}for(;!g;)v=y(m,p);return v}};return i=!0,h(l)(f(u))}for(;!i;)o=s(a,n);return o}};return t($n.value)},VTt={map:Ipe};var _W=NTt(VTt),wl={foldr:function(e){return function(t){var r=function(){var a=function(i){return function(o){var s=i,l=!1,u;function f(h,d){if(d instanceof $n)return l=!0,h;if(d instanceof Vr){s=new Vr(d.value0,h),o=d.value1;return}throw new Error("Failed pattern match at Data.List.Types (line 107, column 7 - line 107, column 23): "+[h.constructor.name,d.constructor.name])}for(;!l;)u=f(s,o);return u}};return a($n.value)}(),n=za(wl)(Qn(e))(t);return function(a){return n(r(a))}}},foldl:function(e){var t=function(r){return function(n){var a=r,i=!1,o;function s(l,u){if(u instanceof $n)return i=!0,l;if(u instanceof Vr){a=e(l)(u.value0),n=u.value1;return}throw new Error("Failed pattern match at Data.List.Types (line 111, column 12 - line 113, column 30): "+[u.constructor.name])}for(;!i;)o=s(a,n);return o}};return t},foldMap:function(e){var t=qr(e.Semigroup0()),r=ci(e);return function(n){return za(wl)(function(a){var i=t(a);return function(o){return i(n(o))}})(r)}}};var Rpe=bo(wl);var wW={append:function(e){return function(t){return Rpe(Vr.create)(t)(e)}}},Npe=qr(wW);var HTt=FTt(wl);var YTt={eq1:function(e){var t=vr(e);return function(r){return function(n){var a=function(i){return function(o){return function(s){var l=i,u=o,f=!1,h;function d(p,m,g){if(!g)return f=!0,!1;if(p instanceof $n&&m instanceof $n)return f=!0,g;if(p instanceof Vr&&m instanceof Vr){l=p.value1,u=m.value1,s=g&&t(m.value0)(p.value0);return}return f=!0,!1}for(;!f;)h=d(l,u,s);return h}}};return a(r)(n)(!0)}}}},Ope=Ym(YTt);var XTt=function(e){return{eq:Ope(e)}};var Fpe={compare1:function(e){var t=Sr(e);return function(r){return function(n){var a=function(i){return function(o){var s=i,l=!1,u;function f(h,d){if(h instanceof $n&&d instanceof $n)return l=!0,Wn.value;if(h instanceof $n)return l=!0,Rn.value;if(d instanceof $n)return l=!0,En.value;if(h instanceof Vr&&d instanceof Vr){var p=t(h.value0)(d.value0);if(p instanceof Wn){s=h.value1,o=d.value1;return}return l=!0,p}throw new Error("Failed pattern match at Data.List.Types (line 60, column 5 - line 60, column 20): "+[h.constructor.name,d.constructor.name])}for(;!l;)u=f(s,o);return u}};return a(r)(n)}}},Eq10:function(){return YTt}},Ppe=jm(Fpe);var TW=function(e){var t=XTt(e.Eq0());return{compare:Ppe(e),Eq0:function(){return t}}};var Bpe={alt:Npe,Functor0:function(){return VTt}},jTt=function(){return{empty:$n.value,Alt0:function(){return Bpe}}}();var EW=function(e){return e.join("")};var E3=function(e){return e};var rg=function(e){return e.length};var ng=function(e){return function(t){return t.substring(e)}};var Rp=function(e){return function(t){if(e>=0&&e<t.length)return t.charAt(e);throw new Error("Data.String.Unsafe.charAt: Invalid index.")}};function Np(e){return e.charCodeAt(0)}function JTt(e){return String.fromCharCode(e)}var eEt=Mh(Km),rEt=Lh(Km);var F2=function(e){return e.toEnum};var Op=function(e){return e.fromEnum},nEt=function(e){var t=F2(e),r=Op(e),n=Mh(e.Bounded0());return function(a){return function(i){return function(o){var s=t(o);if(s instanceof Oe)return s.value0;if(s instanceof ze){var l=o<r(n);return l?a:i}throw new Error("Failed pattern match at Data.Enum (line 158, column 33 - line 160, column 62): "+[s.constructor.name])}}}};var CW=function(e){return function(t){return function(r){return e(t(r)+1|0)}}},SW=function(e){return function(t){return function(r){return e(t(r)-1|0)}}};var kW=function(e){return e>=Np(eEt)&&e<=Np(rEt)?new Oe(JTt(e)):ze.value},Hpe={succ:CW(kW)(Np),pred:SW(kW)(Np),Ord0:function(){return OA}};var C3=function(){return{cardinality:Np(rEt)-Np(eEt)|0,toEnum:kW,fromEnum:Np,Bounded0:function(){return Km},Enum1:function(){return Hpe}}}();var aEt=F2(C3);var Ype=typeof Array.from=="function",Xpe=typeof Symbol<"u"&&Symbol!=null&&typeof Symbol.iterator<"u"&&typeof String.prototype[Symbol.iterator]=="function",jpe=typeof String.prototype.fromCodePoint=="function",Kpe=typeof String.prototype.codePointAt=="function",oEt=function(e){return Kpe?function(t){return t.codePointAt(0)}:e};var sEt=function(e){return jpe?String.fromCodePoint:e},lEt=function(e){return function(t){return Xpe?function(r){for(var n="",a=r[Symbol.iterator](),i=0;i<t;++i){var o=a.next();if(o.done)return n;n+=o.value}return n}:e(t)}},uEt=function(e){return function(t){return Ype?function(r){return Array.from(r,t)}:e}};var h0e=function(e,t,r){var n=0,a;return function(i){if(n===2)return a;if(n===1)throw new ReferenceError(e+" was needed before it finished initializing (module "+t+", line "+i+")",t,i);return n=1,a=r(),n=2,a}},S3=Op(C3),d0e=ke(Ya),p0e=bf(Oh),m0e=WU(BA),g0e=UU(BA),v0e=Sr(zi);var hEt=function(e){return function(t){return(((e-55296|0)*1024|0)+(t-56320|0)|0)+65536|0}};var dEt=function(e){return 56320<=e&&e<=57343},pEt=function(e){return 55296<=e&&e<=56319},i7=function(e){var t=rg(e);if(t===0)return ze.value;if(t===1)return new Oe({head:S3(Rp(0)(e)),tail:""});var r=S3(Rp(1)(e)),n=S3(Rp(0)(e)),a=pEt(n)&&dEt(r);return a?new Oe({head:hEt(n)(r),tail:ng(2)(e)}):new Oe({head:n,tail:ng(1)(e)})},y0e=function(e){return d0e(function(t){return new kn(t.head,t.tail)})(i7(e))},x0e=function(e){return p0e(y0e)(e)},b0e=function(e){var t=S3(Rp(0)(e)),r=pEt(t)&&rg(e)>1;if(r){var n=S3(Rp(1)(e)),a=dEt(n);return a?hEt(t)(n):t}return t},_0e=oEt(b0e),w0e=uEt(x0e)(_0e),LW=function(e){return Ep(w0e(e))};var AW=function(){var e=nEt(C3)(Mh(Km))(Lh(Km));return function(t){return E3(e(t))}}(),T0e=function(e){if(e<=65535)return AW(e);var t=m0e(e-65536|0)(1024)+55296|0,r=g0e(e-65536|0)(1024)+56320|0;return AW(t)+AW(r)};var E0e=sEt(T0e),mEt=function(e){return function(t){if(e<1)return"";var r=i7(t);return r instanceof Oe?E0e(r.value0.head)+mEt(e-1|0)(r.value0.tail):t}},k0e=lEt(mEt);var gEt=function(e){return function(t){var r=k0e(e)(t);return{before:r,after:ng(rg(r))(t)}}},vEt={eq:function(e){return function(t){return e===t}}},yEt={compare:function(e){return function(t){return v0e(e)(t)}},Eq0:function(){return vEt}};var C0e={bottom:0,top:1114111,Ord0:function(){return yEt}},P2=function(){return{cardinality:1114112,fromEnum:function(e){return e},toEnum:function(e){if(e>=0&&e<=1114111)return new Oe(e);if(Xs)return ze.value;throw new Error("Failed pattern match at Data.String.CodePoints (line 63, column 1 - line 68, column 26): "+[e.constructor.name])},Bounded0:function(){return C0e},Enum1:function(){return S0e(0)}}}(),S0e=h0e("enumCodePoint","Data.String.CodePoints",function(){return{succ:CW(F2(P2))(Op(P2)),pred:SW(F2(P2))(Op(P2)),Ord0:function(){return yEt}}});var N0e=ke(Ya);var O0e=Lp(T5t);var bEt=function(e){if(e instanceof $n)return ze.value;if(e instanceof Vr)return new Oe({head:e.value0,tail:e.value1});throw new Error("Failed pattern match at Data.List (line 259, column 1 - line 259, column 66): "+[e.constructor.name])},_Et=function(e){return bf(e)(function(t){return N0e(function(r){return new kn(r.head,r.tail)})(bEt(t))})};var wEt=function(){var e=function(t){return function(r){var n=t,a=!1,i;function o(s,l){if(l instanceof $n)return a=!0,s;if(l instanceof Vr){n=new Vr(l.value0,s),r=l.value1;return}throw new Error("Failed pattern match at Data.List (line 368, column 3 - line 368, column 19): "+[s.constructor.name,l.constructor.name])}for(;!a;)i=o(n,r);return i}};return e($n.value)}();var TEt=function(e){var t=Qr(e.Monad0().Bind1()),r=Rh(e);return function(n){var a=n.Plus1().Alt0(),i=yo(a),o=ke(a.Functor0()),s=Ir(n.Applicative0());return function(l){var u=function(f){return t(i(o(Bo.create)(l))(s(new Ui(void 0))))(function(h){return s(O0e(function(d){return new Vr(d,f)})(function(d){return wEt(f)})(h))})};return r(u)($n.value)}}};var EEt=function(e){return new Vr(e.value0,e.value1)};var kEt=function(){var e=vW(jTt);return function(t){return bW(e(t))}}();var NW=ke(v2);var RW=Qr(Sp),q0e=Ir(a3),U0e=Rh(w5t);var CEt=function(e){return e},SEt=function(e){return function(t){return NW(function(r){return r.result})(e({substring:t,position:0}))}};var du={map:function(e){return function(t){var r=NW(function(n){return{result:e(n.result),suffix:n.suffix}});return function(n){return r(t(n))}}}},ag=function(e){return function(t){return new br({pos:t.position,error:e})}},ig={apply:function(e){return function(t){return function(r){return RW(e(r))(function(n){return RW(t(n.suffix))(function(a){return q0e({result:n.result(a.result),suffix:a.suffix})})})}}},Functor0:function(){return du}};var B2={bind:function(e){return function(t){return function(r){return RW(e(r))(function(n){return CEt(t(n.result))(n.suffix)})}}},Apply0:function(){return ig}};var og={pure:function(e){return function(t){return new Dr({result:e,suffix:t})}},Apply0:function(){return ig}};var W0e={Applicative0:function(){return og},Bind1:function(){return B2}},DEt={tailRecM:function(e){return function(t){var r=function(n){if(n.result instanceof Bo)return new Bo({state:n.result.value0,str:n.suffix});if(n.result instanceof Ui)return new Ui({result:n.result.value0,suffix:n.suffix});throw new Error("Failed pattern match at StringParser.Parser (line 87, column 5 - line 87, column 68): "+[n.constructor.name])};return function(n){return U0e(function(a){return NW(r)(CEt(e(a.state))(a.str))})({state:t,str:n})}}},Monad0:function(){return W0e}};var sg={alt:function(e){return function(t){return function(r){var n=e(r);if(n instanceof br){if(r.position===n.value0.pos)return t(r);if(Xs)return new br({error:n.value0.error,pos:n.value0.pos})}return n}}},Functor0:function(){return du}},G0e={empty:ag("No alternative"),Alt0:function(){return sg}},AEt={Applicative0:function(){return og},Plus1:function(){return G0e}};var s7=yo(sg),D3=Qr(B2),l7=Ir(og);var V0e=c2(du),H0e=f2(du),Y0e=SA(ig),LEt=Qw(ig);var OW=function(e){return function(t){return s7(e)(ag(t))}},FW=function(e){return function(t){var r=e(t);return r instanceof br?new br({pos:t.position,error:r.value0.error}):r}};var MEt=function(e){return function(t){return new Ip(e,t)}},PW=function(e){return function(t){return D3(e)(function(r){return s7(D3(t)(function(){return D3(X0e(e)(t))(function(n){return l7(MEt(r)(n))})}))(l7(kEt(r)))})}},X0e=function(e){return function(t){return s7(V0e(PW(e)(t))(EEt))(s7(H0e(t)($n.value))(l7($n.value)))}};var IEt=function(e){return function(t){return function(r){return Y0e(LEt(e)(r))(t)}}},j0e=function(e){return function(t){var r=e(t);if(r instanceof Dr){var n=t.position<r.value0.suffix.position;return n?new Dr(r.value0):new br({pos:t.position,error:"Consumed no input."})}return r}},$2=function(){var e=TEt(DEt)(AEt);return function(t){return e(j0e(t))}}();var REt=function(e){return function(t){return D3(e)(function(r){return D3($2(LEt(t)(e)))(function(n){return l7(MEt(r)(n))})})}};var NEt=Qr(B2);var OEt=Ir(og),FEt=Rr(FU);var eme=Rr(vf);var z2=function(e){return function(t){var r=LW(e),n=gEt(r)(t.substring),a=n.before===e;return a?new Dr({result:e,suffix:{substring:n.after,position:t.position+r|0}}):new br({pos:t.position,error:"Expected '"+(e+"'.")})}};var PEt=function(e){return 0<LW(e.substring)?new br({pos:e.position,error:"Expected EOF"}):new Dr({result:void 0,suffix:e})};var rme=function(e){var t=i7(e.substring);if(t instanceof ze)return new br({pos:e.position,error:"Unexpected EOF"});if(t instanceof Oe)return new Dr({result:t.value0.head,suffix:{substring:t.value0.tail,position:e.position+1|0}});throw new Error("Failed pattern match at StringParser.CodePoints (line 72, column 3 - line 74, column 103): "+[t.constructor.name])};var nme=function(){var e=function(t){return ag("Code point "+(eme(t)+" is not a character"))};return NEt(c2(du)(rme)(Op(P2)))(function(t){var r=aEt(t);if(r instanceof Oe){var n=t>65535;return n?e(t):OEt(r.value0)}if(r instanceof ze)return e(t);throw new Error("Failed pattern match at StringParser.CodePoints (line 57, column 3 - line 65, column 27): "+[r.constructor.name])})}(),BEt=function(e){return FW(NEt(nme)(function(t){var r=e(t);return r?OEt(t):ag("Character "+(FEt(t)+" did not satisfy predicate"))}))},u7=function(e){return OW(BEt(function(t){return t===e}))("Could not match character "+FEt(e))},$Et=function(e){var t=Qn(L2(e)(Jw));return function(r){return BEt(t(r))}};var qEt=$Et(Ci),A3=yo(sg),UEt=ke(du),zEt=$Tt(HTt),ime=ke(_W),ome=Rr(vf),sme=Lp(WA),lme=function(){var e=qEt(['"']),t=f2(du)(z2('""'))('"');return A3(t)(e)}(),ume=li(du)(A3(z2(`\r
`))(A3(z2("\r"))(z2(`
`)))),WEt=function(){var e=n7(wl);return function(t){return EW(e(t))}}(),cme=IEt(u7('"'))(u7('"'))(UEt(WEt)($2(lme))),fme=UEt(WEt)($2(qEt(["\r",`
`,'"',","]))),hme=function(){var e=A3(cme)(A3(fme)(z2(""))),t=REt(e)(u7(",")),r=PW(t)(ume);return SA(ig)(r)(PEt)}(),GEt=function(e){var t=function(n){return zEt(ime(zEt)(n))},r=function(n){return n.error+(" (Position: "+(ome(n.pos)+")"))};return sme(r)(t)(SEt(hme)(e))};var $W=function(e){return e.ask},c7=function(e){var t=ke(e.Monad0().Bind1().Apply0().Functor0()),r=$W(e);return function(n){return t(n)(r)}};var XEt=function(e){return e};var zW=function(e){return function(t){return function(r){return e(t(r))}}},qW=function(e){return{map:function(){var t=ke(e);return function(r){return zW(t(r))}}()}};var jEt=function(e){var t=Ba(e),r=qW(e.Functor0());return{apply:function(n){return function(a){return function(i){return t(n(i))(a(i))}}},Functor0:function(){return r}}},UW=function(e){var t=Qr(e),r=jEt(e.Apply0());return{bind:function(n){return function(a){return function(i){return t(n(i))(function(o){var s=a(o);return s(i)})}}},Apply0:function(){return r}}};var WW=function(e){var t=jEt(e.Apply0());return{pure:function(){var r=Ir(e);return function(n){return XEt(Zn(r(n)))}}(),Apply0:function(){return t}}},KEt=function(e){var t=WW(e.Applicative0()),r=UW(e.Bind1());return{Applicative0:function(){return t},Bind1:function(){return r}}},QEt=function(e){var t=KEt(e);return{ask:Ir(e.Applicative0()),Monad0:function(){return t}}};var ZEt=function(e){var t=e.Monad0(),r=LA(t.Bind1()),n=Ir(t.Applicative0()),a=Rh(e),i=KEt(t);return{tailRecM:function(o){return function(s){var l=function(u){return function(f){var h=o(f);return r(n)(h(u))}};return function(u){return a(l(u))(s)}}},Monad0:function(){return i}}};var Lme=C2();var GW=function(e){return function(t){return Lme(e(t))}};var Bh=function(e,t,r){var n=0,a;return function(i){if(n===2)return a;if(n===1)throw new ReferenceError(e+" was needed before it finished initializing (module "+t+", line "+i+")",t,i);return n=1,a=r(),n=2,a}};var or=function(){function e(){}return e.value=new e,e}(),Nr=function(){function e(t,r,n,a,i,o){this.value0=t,this.value1=r,this.value2=n,this.value3=a,this.value4=i,this.value5=o}return e.create=function(t){return function(r){return function(n){return function(a){return function(i){return function(o){return new e(t,r,n,a,i,o)}}}}}},e}(),rkt=function(){function e(){}return e.value=new e,e}(),lg=function(){function e(t,r,n){this.value0=t,this.value1=r,this.value2=n}return e.create=function(t){return function(r){return function(n){return new e(t,r,n)}}},e}(),ug=function(){function e(t,r){this.value0=t,this.value1=r}return e.create=function(t){return function(r){return new e(t,r)}},e}(),nkt=function(){function e(){}return e.value=new e,e}(),VW=function(){function e(t,r,n){this.value0=t,this.value1=r,this.value2=n}return e.create=function(t){return function(r){return function(n){return new e(t,r,n)}}},e}(),f7=function(){function e(t,r,n){this.value0=t,this.value1=r,this.value2=n}return e.create=function(t){return function(r){return function(n){return new e(t,r,n)}}},e}(),tkt=function(){function e(t,r,n){this.value0=t,this.value1=r,this.value2=n}return e.create=function(t){return function(r){return function(n){return new e(t,r,n)}}},e}(),pu=function(e,t,r,n){if(r instanceof or){if(n instanceof or)return new Nr(1,1,e,t,r,n);if(n instanceof Nr)return new Nr(1+n.value0|0,1+n.value1|0,e,t,r,n);throw new Error("Failed pattern match at Data.Map.Internal (line 702, column 5 - line 706, column 39): "+[n.constructor.name])}if(r instanceof Nr){if(n instanceof or)return new Nr(1+r.value0|0,1+r.value1|0,e,t,r,n);if(n instanceof Nr)return new Nr(1+function(){var a=r.value0>n.value0;return a?r.value0:n.value0}()|0,(1+r.value1|0)+n.value1|0,e,t,r,n);throw new Error("Failed pattern match at Data.Map.Internal (line 708, column 5 - line 712, column 68): "+[n.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 700, column 32 - line 712, column 68): "+[r.constructor.name])},HW=function(){return Qn(ug.create)(rkt.value)}(),akt=function(e){return function(t){return function(r){var n=function(a){var i=!1,o;function s(l){if(l instanceof rkt)return i=!0,r(void 0);if(l instanceof lg)return i=!0,t(l.value0,l.value1,l.value2);if(l instanceof ug){a=e(l.value1)(l.value0);return}throw new Error("Failed pattern match at Data.Map.Internal (line 940, column 8 - line 946, column 20): "+[l.constructor.name])}for(;!i;)o=s(a);return o};return n}}},QW=function(e){if(e instanceof or)return 0;if(e instanceof Nr)return e.value1;throw new Error("Failed pattern match at Data.Map.Internal (line 618, column 8 - line 620, column 24): "+[e.constructor.name])},L3=function(e){return function(t){return new Nr(1,1,e,t,or.value,or.value)}},$h=function(){var e=function(n){if(n instanceof or)return 0;if(n instanceof Nr)return n.value0;throw new Error("Failed pattern match at Data.Map.Internal (line 757, column 12 - line 759, column 26): "+[n.constructor.name])},t=function(n,a,i,o,s,l,u){return l instanceof Nr&&l.value0>e(u)?pu(l.value2,l.value3,pu(n,a,i,l.value4),pu(o,s,l.value5,u)):pu(o,s,pu(n,a,i,l),u)},r=function(n,a,i,o,s,l,u){return l instanceof Nr&&e(s)<=l.value0?pu(l.value2,l.value3,pu(i,o,s,l.value4),pu(n,a,l.value5,u)):pu(i,o,s,pu(n,a,l,u))};return function(n,a,i,o){if(i instanceof or)return o instanceof or?L3(n)(a):o instanceof Nr&&o.value0>1?t(n,a,i,o.value2,o.value3,o.value4,o.value5):pu(n,a,i,o);if(i instanceof Nr){if(o instanceof Nr){if(o.value0>(i.value0+1|0))return t(n,a,i,o.value2,o.value3,o.value4,o.value5);if(i.value0>(o.value0+1|0))return r(n,a,i.value2,i.value3,i.value4,i.value5,o)}return o instanceof or&&i.value0>1?r(n,a,i.value2,i.value3,i.value4,i.value5,o):pu(n,a,i,o)}throw new Error("Failed pattern match at Data.Map.Internal (line 717, column 40 - line 738, column 34): "+[i.constructor.name])}}(),YW=Bh("unsafeSplit","Data.Map.Internal",function(){return function(e,t,r){if(r instanceof or)return new f7(ze.value,or.value,or.value);if(r instanceof Nr){var n=e(t)(r.value2);if(n instanceof Rn){var a=YW(793)(e,t,r.value4);return new f7(a.value0,a.value1,$h(r.value2,r.value3,a.value2,r.value5))}if(n instanceof En){var a=YW(796)(e,t,r.value5);return new f7(a.value0,$h(r.value2,r.value3,r.value4,a.value1),a.value2)}if(n instanceof Wn)return new f7(new Oe(r.value3),r.value4,r.value5);throw new Error("Failed pattern match at Data.Map.Internal (line 791, column 5 - line 799, column 30): "+[n.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 787, column 34 - line 799, column 30): "+[r.constructor.name])}}),ZW=YW(786),ikt=Bh("unsafeSplitLast","Data.Map.Internal",function(){return function(e,t,r,n){if(n instanceof or)return new tkt(e,t,r);if(n instanceof Nr){var a=ikt(779)(n.value2,n.value3,n.value4,n.value5);return new tkt(a.value0,a.value1,$h(e,t,r,a.value2))}throw new Error("Failed pattern match at Data.Map.Internal (line 776, column 37 - line 780, column 57): "+[n.constructor.name])}}),Ime=ikt(775),okt=function(e,t){if(e instanceof or)return t;if(e instanceof Nr){var r=Ime(e.value2,e.value3,e.value4,e.value5);return $h(r.value0,r.value1,r.value2,t)}throw new Error("Failed pattern match at Data.Map.Internal (line 764, column 25 - line 768, column 38): "+[e.constructor.name,t.constructor.name])},XW=Bh("unsafeDifference","Data.Map.Internal",function(){return function(e,t,r){if(t instanceof or)return or.value;if(r instanceof or)return t;if(r instanceof Nr){var n=ZW(e,r.value2,t),a=XW(841)(e,n.value1,r.value4),i=XW(842)(e,n.value2,r.value5);return okt(a,i)}throw new Error("Failed pattern match at Data.Map.Internal (line 836, column 39 - line 843, column 33): "+[t.constructor.name,r.constructor.name])}}),Rme=XW(835),jW=Bh("unsafeIntersectionWith","Data.Map.Internal",function(){return function(e,t,r,n){if(r instanceof or||n instanceof or)return or.value;if(n instanceof Nr){var a=ZW(e,n.value2,r),i=jW(825)(e,t,a.value1,n.value4),o=jW(826)(e,t,a.value2,n.value5);if(a.value0 instanceof Oe)return $h(n.value2,t(a.value0.value0)(n.value3),i,o);if(a.value0 instanceof ze)return okt(i,o);throw new Error("Failed pattern match at Data.Map.Internal (line 827, column 5 - line 831, column 37): "+[a.value0.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 820, column 49 - line 831, column 37): "+[r.constructor.name,n.constructor.name])}}),Nme=jW(819),KW=Bh("unsafeUnionWith","Data.Map.Internal",function(){return function(e,t,r,n){if(r instanceof or)return n;if(n instanceof or)return r;if(n instanceof Nr){var a=ZW(e,n.value2,r),i=KW(809)(e,t,a.value1,n.value4),o=KW(810)(e,t,a.value2,n.value5);if(a.value0 instanceof Oe)return $h(n.value2,t(a.value0.value0)(n.value3),i,o);if(a.value0 instanceof ze)return $h(n.value2,n.value3,i,o);throw new Error("Failed pattern match at Data.Map.Internal (line 811, column 5 - line 815, column 46): "+[a.value0.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 804, column 42 - line 815, column 46): "+[r.constructor.name,n.constructor.name])}}),Ome=KW(803),JW=function(e){var t=Sr(e);return function(r){return function(n){return function(a){return Ome(t,r,n,a)}}}},tG=function(e){return JW(e)(Zn)};var eG=function(e){var t=Sr(e);return function(r){var n=function(a){var i=!1,o;function s(l){if(l instanceof or)return i=!0,!1;if(l instanceof Nr){var u=t(r)(l.value2);if(u instanceof Rn){a=l.value4;return}if(u instanceof En){a=l.value5;return}if(u instanceof Wn)return i=!0,!0;throw new Error("Failed pattern match at Data.Map.Internal (line 459, column 7 - line 462, column 19): "+[u.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 456, column 8 - line 462, column 19): "+[l.constructor.name])}for(;!i;)o=s(a);return o};return n}};var cg=function(e){var t=Sr(e);return function(r){var n=function(a){var i=!1,o;function s(l){if(l instanceof or)return i=!0,ze.value;if(l instanceof Nr){var u=t(r)(l.value2);if(u instanceof Rn){a=l.value4;return}if(u instanceof En){a=l.value5;return}if(u instanceof Wn)return i=!0,new Oe(l.value3);throw new Error("Failed pattern match at Data.Map.Internal (line 283, column 7 - line 286, column 22): "+[u.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 280, column 8 - line 286, column 22): "+[l.constructor.name])}for(;!i;)o=s(a);return o};return n}},Fme=function(e){return function(t){if(t instanceof or)return e;if(t instanceof Nr)return t.value4 instanceof or?t.value5 instanceof or?new lg(t.value2,t.value3,e):new lg(t.value2,t.value3,new ug(t.value5,e)):t.value5 instanceof or?new lg(t.value2,t.value3,new ug(t.value4,e)):new lg(t.value2,t.value3,new ug(t.value4,new ug(t.value5,e)));throw new Error("Failed pattern match at Data.Map.Internal (line 973, column 17 - line 988, column 56): "+[t.constructor.name])}},Pme=akt(Fme),Bme=function(){var e=function(t,r,n){return new Oe(new kn(new kn(t,r),n))};return Pme(e)(function(t){return ze.value})}(),rG=function(e){var t=bf(e)(Bme);return function(r){return t(HW(r))}};var $me=function(){var e=function(t){return function(r){var n=t,a=!1,i;function o(s,l){if(l instanceof or)return a=!0,s;if(l instanceof Nr){if(l.value5 instanceof or){n=new lg(l.value2,l.value3,s),r=l.value4;return}n=new lg(l.value2,l.value3,new ug(l.value5,s)),r=l.value4;return}throw new Error("Failed pattern match at Data.Map.Internal (line 951, column 13 - line 958, column 48): "+[l.constructor.name])}for(;!a;)i=o(n,r);return i}};return e}(),zme=akt($me),ekt=function(){return zme(function(e,t,r){return new VW(e,t,r)})(Zn(nkt.value))}(),qme=function(e){var t=vr(e);return function(r){var n=vr(r);return{eq:function(){var a=function(i){return function(o){var s=i,l=!1,u;function f(h,d){var p=ekt(h);if(p instanceof VW){var m=ekt(d);if(m instanceof VW&&t(p.value0)(m.value0)&&n(p.value1)(m.value1)){s=p.value2,o=m.value2;return}return l=!0,!1}if(p instanceof nkt)return l=!0,!0;throw new Error("Failed pattern match at Data.Map.Internal (line 859, column 14 - line 868, column 13): "+[p.constructor.name])}for(;!l;)u=f(s,o);return u}};return a}()}}};var nG=function(e){return e instanceof or},skt=function(e){var t=Sr(e);return function(r){return function(n){return function(a){return Nme(t,r,n,a)}}}},aG=function(e){return skt(e)(Zn)};var h7=function(e){var t=Sr(e);return function(r){return function(n){var a=function(i){if(i instanceof or)return L3(r)(n);if(i instanceof Nr){var o=t(r)(i.value2);if(o instanceof Rn)return $h(i.value2,i.value3,a(i.value4),i.value5);if(o instanceof En)return $h(i.value2,i.value3,i.value4,a(i.value5));if(o instanceof Wn)return new Nr(i.value0,i.value1,r,n,i.value4,i.value5);throw new Error("Failed pattern match at Data.Map.Internal (line 471, column 7 - line 474, column 35): "+[o.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 468, column 8 - line 474, column 35): "+[i.constructor.name])};return a}}},lkt={map:function(e){var t=function(r){if(r instanceof or)return or.value;if(r instanceof Nr)return new Nr(r.value0,r.value1,r.value2,e(r.value3),t(r.value4),t(r.value5));throw new Error("Failed pattern match at Data.Map.Internal (line 147, column 10 - line 150, column 39): "+[r.constructor.name])};return t}};var ukt={foldr:function(e){return function(t){var r=Bh("go","Data.Map.Internal",function(){return function(a,i){if(a instanceof or)return i;if(a instanceof Nr)return r(172)(a.value4,e(a.value3)(r(172)(a.value5,i)));throw new Error("Failed pattern match at Data.Map.Internal (line 169, column 26 - line 172, column 43): "+[a.constructor.name])}}),n=r(169);return function(a){return n(a,t)}}},foldl:function(e){return function(t){var r=Bh("go","Data.Map.Internal",function(){return function(a,i){if(i instanceof or)return a;if(i instanceof Nr)return r(178)(e(r(178)(a,i.value4))(i.value3),i.value5);throw new Error("Failed pattern match at Data.Map.Internal (line 175, column 26 - line 178, column 43): "+[i.constructor.name])}}),n=r(175);return function(a){return n(t,a)}}},foldMap:function(e){var t=ci(e),r=qr(e.Semigroup0());return function(n){var a=function(i){if(i instanceof or)return t;if(i instanceof Nr)return r(a(i.value4))(r(n(i.value3))(a(i.value5)));throw new Error("Failed pattern match at Data.Map.Internal (line 181, column 10 - line 184, column 28): "+[i.constructor.name])};return a}}},ckt={foldrWithIndex:function(e){return function(t){var r=Bh("go","Data.Map.Internal",function(){return function(a,i){if(a instanceof or)return i;if(a instanceof Nr)return r(192)(a.value4,e(a.value2)(a.value3)(r(192)(a.value5,i)));throw new Error("Failed pattern match at Data.Map.Internal (line 189, column 26 - line 192, column 45): "+[a.constructor.name])}}),n=r(189);return function(a){return n(a,t)}}},foldlWithIndex:function(e){return function(t){var r=Bh("go","Data.Map.Internal",function(){return function(a,i){if(i instanceof or)return a;if(i instanceof Nr)return r(198)(e(i.value2)(r(198)(a,i.value4))(i.value3),i.value5);throw new Error("Failed pattern match at Data.Map.Internal (line 195, column 26 - line 198, column 45): "+[i.constructor.name])}}),n=r(195);return function(a){return n(t,a)}}},foldMapWithIndex:function(e){var t=ci(e),r=qr(e.Semigroup0());return function(n){var a=function(i){if(i instanceof or)return t;if(i instanceof Nr)return r(a(i.value4))(r(n(i.value2)(i.value3))(a(i.value5)));throw new Error("Failed pattern match at Data.Map.Internal (line 201, column 10 - line 204, column 30): "+[i.constructor.name])};return a}},Foldable0:function(){return ukt}},fkt=function(){return a7(ckt)(function(e){return function(t){return function(r){return new Vr(e,r)}}})($n.value)}();var iG=function(e){var t=!1,r;function n(a){if(a instanceof or)return t=!0,ze.value;if(a instanceof Nr){if(a.value4 instanceof or)return t=!0,new Oe({key:a.value2,value:a.value3});e=a.value4;return}throw new Error("Failed pattern match at Data.Map.Internal (line 361, column 11 - line 366, column 21): "+[a.constructor.name])}for(;!t;)r=n(e);return r};var oG=function(e){var t=qme(e);return function(r){var n=vr(t(r));return{eq:function(a){return function(i){if(a instanceof or)return i instanceof or;if(a instanceof Nr)return i instanceof Nr&&a.value1===i.value1?n(HW(a))(HW(i)):!1;throw new Error("Failed pattern match at Data.Map.Internal (line 94, column 14 - line 105, column 16): "+[a.constructor.name])}}}}};var M3=function(){return or.value}(),fg=function(e){var t=h7(e);return function(r){return za(r)(function(n){return function(a){return t(a.value0)(a.value1)(n)}})(M3)}};var sG=function(e){var t=Sr(e);return function(r){return function(n){return Rme(t,r,n)}}};var U2=d3(),Yme=_l(wl),Xme=za(wl),jme=bo(wl),Kme=ke(Ya);var Qme=function(e){return e},lG=function(e){return U2(tG(e))};var q2=function(e){return fkt(e)},d7=function(e){var t=_Et(e);return function(r){return t(q2(r))}};var hkt=U2(QW),dkt=function(e){return L3(e)(void 0)};var pkt=function(e){return U2(eG(e))},Zme=U2(nG),p7=function(e){return U2(aG(e))},uG=function(e){var t=h7(e);return function(r){return function(n){return t(r)(void 0)(n)}}},mkt=Qme,m7={foldMap:function(e){var t=Yme(e);return function(r){var n=t(r);return function(a){return n(q2(a))}}},foldl:function(e){return function(t){var r=Xme(e)(t);return function(n){return r(q2(n))}}},foldr:function(e){return function(t){var r=jme(e)(t);return function(n){return r(q2(n))}}}},Jme=za(m7),tge=bo(m7),gkt=function(e){return Kme(function(t){return t.key})(iG(e))};var ege=function(e){var t=vr(oG(e)(MU));return{eq:function(r){return function(n){return t(r)(n)}}}},g7=function(e){var t=Sr(TW(e)),r=ege(e.Eq0());return{compare:function(n){return function(a){return t(q2(n))(q2(a))}},Eq0:function(){return r}}};var R3=M3,v7=function(e){var t=za(e);return function(r){var n=uG(r);return t(function(a){return function(i){return n(i)(a)}})(R3)}},vkt=function(e){var t=uG(e);return function(r){return Jme(function(n){return function(a){return t(r(a))(n)}})(R3)}},ykt=function(e){var t=uG(e);return function(r){return tge(function(n){return function(a){return xo(a)(function(i){return t(i)(a)})(r(n))}})(R3)}};var y7=function(e){return U2(sG(e))},rge=function(e){var t=y7(e);return function(r){return function(n){return Zme(t(r)(n))}}},xkt=function(e){var t=rge(e);return function(r){return function(n){return hkt(r)!==hkt(n)&&t(r)(n)}}};var b7=function(){var e=li(lkt);return function(t){return mkt(e(t))}}();var age=za(m7),T7=ke(Ei),wkt=v7(Ci),ige=GTt(zi),_7=ke(mW),oge=DA(MA)(Sp),sge=kp(a3),bkt=Qr(Sp),Tkt=UW(zU),Fp=Qr(Tkt),N3=c7(QEt(PA)),hg=Ir(WW(qU)),lge=d7(Oh),uge=ke(qW(y2)),Ekt=Rh(ZEt(_5t)),_kt=vkt(m2),cG=function(e){return e},w7=function(e){return e};var dg=zi,cge=cg(dg),Tl=zi,fge=wkt(Tl),hge=lG(Tl),dge=p7(Tl),pge=Sr(Tl),mge=y7(Tl),gge=cg(Tl),fG=function(e){var t=fg(e)(Ci);return function(r){return function(n){var a=Fh(function(i){return function(o){return new kn(n(i),o)}});return function(i){return t(a(i))}}}},vge=fG(Tl)(g7(dg)),yge=fG(dg)(g7(Tl)),kkt=function(e){var t=fG(e);return function(r){var n=vr(e3(r.Eq0())),a=r7(r),i=t(r);return function(o){return function(s){var l=n(a(s))(s);return l?new Oe(i(o)(s)):ze.value}}}},xge=kkt(dg)(m2),bge=kkt(Tl)(m2),_ge=function(e){var t=y7(e),r=lG(e),n=p7(e),a=vr(e.Eq0()),i=pkt(e);return function(o){return function(s){return function(l){var u=gkt(t(r(s)(l))(n(s)(l)));if(u instanceof ze)return!1;if(u instanceof Oe)return a(u.value0)(o)&&i(u.value0)(l);throw new Error("Failed pattern match at App.FCA (line 114, column 3 - line 116, column 46): "+[u.constructor.name])}}}},wge=_ge(Tl),Ckt=function(e){var t=cg(e);return function(r){var n=ykt(g7(r)),a=p7(r);return function(i){return function(o){var s=age(a)(i),l=n(Qn(t)(o));return function(u){return s(l(u))}}}}},Tge=Ckt(dg)(Tl),Ege=Ckt(Tl)(dg),Skt=function(e){var t=wkt(e);return function(r){var n=T7(xf),a=fW(function(o){return _s(o)!==""}),i=Fh(function(o){return function(s){return new kn(r(o),s)}});return function(o){return t(n(a(i(o))))}}},kge=Skt(dg),Cge=Skt(Tl),Dkt=function(e){var t=w3(ige(_7(w3)(e)));return oge(sge(t!==1)(new br("Found rows of different sizes")))(function(){return bkt(BU("Duplicate object name")(xge(cG)(_3(_7(O2)(e)))))(function(r){return bkt(BU("Duplicate attribute name")(bge(w7)(_3(O2(e)))))(function(n){var a=_3(_7(_3)(e)),i=vge(w7)(T7(kge(cG))(y3(a))),o=yge(cG)(T7(Cge(w7))(a));return new Dr({objects:r,attributes:n,attributeExtent:i,objectIntent:o})})})})};var Sge=function(e){return Fp(N3(function(t){return t.attributes}))(function(t){return Fp(N3(function(r){return r.objectIntent}))(function(r){return hg(Tge(b7(t))(r)(e))})})},Akt=function(e){return Fp(N3(function(t){return t.objects}))(function(t){return Fp(N3(function(r){return r.attributeExtent}))(function(r){return hg(Ege(b7(t))(r)(e))})})},Lkt=X3t(Tkt)(Akt)(Sge),Dge=function(e){return function(t){var r=function(a){return fge(T7(w7)(eg(0)(a-1|0)))},n=hge(dkt(t))(dge(e)(r(t)));return Lkt(n)}},Age=function(e){return function(t){var r=lW(t);if(r instanceof ze)return hg(new Ui(e));if(r instanceof Oe)return Fp(Dge(e)(r.value0.head))(function(n){var a=wge(r.value0.head)(e)(n);return hg(a?new Ui(n):new Bo(r.value0.tail))});throw new Error("Failed pattern match at App.FCA (line 123, column 3 - line 129, column 28): "+[r.constructor.name])}},Lge=function(e){return Fp(N3(function(t){return b7(function(r){return r.attributes}(t))}))(function(t){var r=v3(Qn(pge))(lge(mge(t)(e))),n=TTt(r);return n?hg(ze.value):uge(Oe.create)(Ekt(Age(e))(r))})},Mge=function(e){var t=O2(e);return Fp(Lge(t))(function(r){return hg(function(){if(r instanceof ze)return new Ui(e);if(r instanceof Oe)return new Bo(UTt(r.value0)(e));throw new Error("Failed pattern match at App.FCA (line 145, column 5 - line 149, column 46): "+[r.constructor.name])}())})},Ige=function(e){return Qn(GW)(e)(Fp(Lkt(R3))(function(t){return Ekt(Mge)(BTt(t))}))},Mkt=function(e){var t=function(a){return Qm("<missing>")(cge(a)(e.objects))},r=function(a){return Qm("<missing>")(gge(a)(e.attributes))},n=function(a){return{intent:_kt(r)(a),extent:_kt(t)(GW(Akt(a))(e))}};return _7(n)(Ige(e))};var W2=ke(Ei),Nge=ke(f3),Oge=s3(yf),Fge=vr(K5t(t3)),Pge=v7(Ci)(zi),Bge=hu(Q5t),$ge=w2(yf),zge=fg(zi)(Ci),qge=function(e){var t=Ju(e),r=Zu(e),n=gf(e);return function(a){return function(i){var o=function(u){return function(f){return cW(t)(r)(g3(n)(u)(f))}},s=y3(i),l=function(u){return W2(o(u))(s)};return W2(l)(a)}}},Uge=qge(j5t(yf)),Wge=function(e){var t=W2(W2(Nge(Oge))),r=function(o){return function(s){var l=Fge(s)(!0);return l?new Oe(o):ze.value}},n=function(o){return Pge(dW(Fh(r)(o)))},a=function(o){return g3(g3(Bge(o)))},i=a($ge)(e)(t(Uge(e)(e)));return zge(Fh(function(o){return function(s){return new kn(o,n(s))}})(i))},Gge=function(e){return function(t){var r=eg(0)(t-1|0),n=function(i){return function(o){return e(i)(o)}},a=function(i){return W2(n(i))(r)};return W2(a)(r)}},Ikt=function(e){return function(t){return Wge(Gge(e)(t))}};var Hge=fg(zi)(ITt),Yge=ke(Ya),Xge=cg(zi),jge=hu(n3),Kge=xkt(m2),Qge=Rr(vf),Zge=STt(x2),Rkt=rG(Oh),Nkt=d7(Oh),Jge=ETt(x2),Okt=ke(Ei),Fkt=Qr(Sp),t1e=function(e){var t=w3(e),r=Hge(WTt(kn.create)(e)),n=function(i){return Yge(function(o){return o.intent})(Xge(i)(r))},a=function(i){return function(o){return Qm(!1)(jge(Kge)(n(i))(n(o)))}};return{comparator:a,size:t,mapping:r}},e1e=function(e){return function(t){var r=function(f){return"Concept_"+Qge(f)},n=Zge(function(f){return"  "+(f+`
`)}),a=function(){var f=Jge(", ");return function(h){return f(Nkt(h))}}(),i=function(f){return r(f.value0)+('["\\{'+(a(f.value1.intent)+(`\\}
\\{`+(a(f.value1.extent)+'\\}"]'))))},o=n(Okt(i)(Rkt(e))),s=function(f){return function(h){return r(f)+(" --> "+r(h))}},l=function(f){return Okt(s(f.value0))(Nkt(f.value1))},u=n(hW(l)(Rkt(t)));return`graph BT
`+(o+u)}},Pkt=function(e){return Fkt(GEt(e))(function(t){return Fkt(Dkt(t))(function(r){var n=Mkt(r),a=t1e(n),i=Ikt(a.comparator)(a.size);return new Dr(e1e(a.mapping)(i))})})};var pg=function(e){return function(){console.log(e)}};var f1e=function(e){var t=Pkt(e);if(t instanceof Dr)return function(){return pg("Generated Mermaid successfully. Rendering graph...")(),wU(t.value0)(),bU(t.value0)()};if(t instanceof br)return function(){return pg("Could not generate Mermaid: "+t.value0)(),TA("Error: "+t.value0)()};throw new Error("Failed pattern match at Main (line 13, column 3 - line 20, column 38): "+[t.constructor.name])},Bkt=function(){return pg("Homemade FCA started.")(),_U(f1e)(),pg("Ready for file uploads.")()};Bkt();
/*! Bundled license information:

dompurify/dist/purify.es.mjs:
  (*! @license DOMPurify 3.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.0/LICENSE *)

mermaid/dist/chunks/mermaid.core/chunk-MI3HLSF2.mjs:
  (*! Bundled license information:
  
  js-yaml/dist/js-yaml.mjs:
    (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
  *)

lodash-es/lodash.js:
  (**
   * @license
   * Lodash (Custom Build) <https://lodash.com/>
   * Build: `lodash modularize exports="es" -o ./`
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)

cytoscape/dist/cytoscape.esm.mjs:
  (*!
  Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
  Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
  Licensed under The MIT License (http://opensource.org/licenses/MIT)
  *)
  (*!
  Event object based on jQuery events, MIT license
  
  https://jquery.org/license/
  https://tldrlegal.com/license/mit-license
  https://github.com/jquery/jquery/blob/master/src/event.js
  *)
  (*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License *)
  (*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License *)

mermaid/dist/mermaid.core.mjs:
  (*! Check if previously processed *)
  (*!
   * Wait for document loaded before starting the execution
   *)
*/
